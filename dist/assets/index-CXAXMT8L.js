var __getOwnPropNames=Object.getOwnPropertyNames,__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports};import{J as defineStore,b as ref$1,e as computed,t as toRef,K as isRef,y as toValue,v as createBaseVNode,q as normalizeClass,F as Fragment,n as createVNode,L as normalizeStyle,r as reactive,D as onMounted,z as onBeforeUnmount,M as onUpdated,E as useId,p as provide,d as inject,k as watch,u as unref,x as mergeProps,B as toRefs,s as shallowRef,T as Text,o as onScopeDispose,w as watchEffect,N as Transition,O as resolveDynamicComponent,I as nextTick,P as withDirectives,Q as toDisplayString,R as TransitionGroup,h as h$1,S as onBeforeMount,U as vShow,a as camelize,V as markRaw,l as effectScope,A as readonly,m as toRaw,W as Teleport,c as capitalize,G as onDeactivated,X as cloneVNode,Y as createTextVNode,Z as useRouter$1,_ as createElementBlock,$ as openBlock,a0 as createBlock,a1 as createCommentVNode,a2 as withCtx,a3 as resolveComponent,a4 as renderList,a5 as renderSlot,a6 as useRoute$1,a7 as onUnmounted,a8 as toHandlers,a9 as vue_runtime_esmBundler,aa as resolveDirective,ab as vModelText,ac as withModifiers,ad as normalizeProps,ae as guardReactiveProps,af as createSlots,ag as withKeys,ah as onBeforeUpdate,ai as createRouter,aj as createWebHistory,ak as render,al as createApp,am as createPinia}from"./vue-vendor-Cm7COkfJ.js";import{p as propsFactory,g as getCurrentInstanceName,d as destructComputed,i as isCssColor,a as isParsableColor,b as parseColor,c as getForeground,e as genericComponent,f as provideTheme,h as provideDefaults,u as useRender,m as makeThemeProps,j as makeComponentProps,k as useProxiedModel,l as getCurrentInstance,n as deepEqual$1,w as wrapInArray,o as findChildrenWithProvide,q as includes,r as convertToUnit,s as useTheme,t as useIcon,I as IconValue,v as flattenFragments,S as SUPPORTS_INTERSECTION,x as useResizeObserver,y as clamp,P as PREFERS_REDUCED_MOTION,z as useRtl,A as parseAnchor,B as useToggleScope,C as hasEvent,D as IN_BROWSER,E as isObject$3,F as createSimpleFunctional,G as onlyDefinedProps,H as EventProp,J as filterInputAttrs,K as matchesSelector,L as omit,M as useLocale,N as callEvent,O as animate,Q as acceleratedEasing,R as standardEasing,T as deceleratedEasing,U as getTargetBox,V as nullifyTransforms,W as pick,X as useDisplay,Y as useGoTo,Z as makeDisplayProps,_ as focusableChildren,$ as isFixedPosition,a0 as CircularBuffer,a1 as Box,a2 as getScrollParents,a3 as getElementBox,a4 as getAxis,a5 as flipAlign,a6 as flipSide,a7 as getOverflow,a8 as flipCorner,a9 as hasScrollbar,aa as defer,ab as templateRef,ac as bindProps,ad as unbindProps,ae as attachedRoot,af as getScrollParent,ag as breakpoints,ah as defineComponent,ai as deprecate$1,aj as getPropertyFromItem,ak as isPrimitive,al as focusChild,am as getNextElement,an as isClickInsideElement,ao as debounce,ap as camelizeProps,aq as ensureValidVNode,ar as checkPrintable,as as SUPPORTS_MATCH_MEDIA,at as keys$1,au as createLayout,av as makeLayoutProps,aw as refElement,ax as VuetifyLayoutKey,ay as useLayout,az as useLayoutItem,aA as makeLayoutItemProps,aB as pickWithRest,aC as createRange,aD as keyValues,aE as defineFunctionalComponent,aF as consoleError,aG as getObjectValueByPath,aH as isEmpty$1,aI as getPrefixedEventHandlers,aJ as toPhysical,aK as noop$1,aL as useDate,aM as createDateRange,aN as getDecimals,aO as getEventCoordinates,aP as HexToHSV,aQ as HSVtoHex,aR as HSLtoHSV,aS as HSVtoHSL,aT as RGBtoHSV,aU as HSVtoRGB,aV as has,aW as SUPPORTS_EYE_DROPPER,aX as HSVtoCSS,aY as RGBtoCSS,aZ as getContrast,a_ as escapeForRegex,a$ as isComposingIgnoreKey,b0 as humanReadableFileSize,b1 as provideLocale,b2 as extractNumber,b3 as getIndentLines,b4 as renderSlot$1,b5 as VClassIcon,b6 as VComponentIcon,b7 as VLigatureIcon,b8 as VSvgIcon,b9 as createVuetify}from"./vuetify-vendor-nAMHIziC.js";import{V as Ve$1,i as init,d as dispose,l as linearMap,L as LinearGradient}from"./chart-vendor-DWdk9Wts.js";var require_index_001=__commonJS({"assets/index-CXAXMT8L.js"(exports,module){var _a;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(e,t,a){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=assetsURL(e))in seen)return;seen[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":scriptRel,t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,a)=>{r.addEventListener("load",t),r.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},useAppStore=defineStore("app",()=>{const e=ref$1(!1),t=ref$1("#121212"),a=ref$1(""),o=ref$1(!1),r=ref$1(!0),n=ref$1(!1),i=ref$1(null),l=ref$1(!1),s=ref$1([]),c=ref$1([]),d=ref$1({stickysrc:!1,quicksrc:!1,expos:"MKT",mktpro:5,qtypre:"0",mainpreitems:{NSE:["CNC","LMT","DAY",""],BSE:["CNC","LMT","DAY",""],MCX:["NRML","LMT","DAY",""],NFO:["NRML","LMT","DAY",""],CDS:["NRML","LMT","DAY",""],BFO:["NRML","LMT","EOS",""],BCD:["NRML","LMT","EOS",""]}}),u=ref$1(!0),p=ref$1(!1),h=ref$1(!1),m=()=>{sessionStorage.removeItem("usession"),sessionStorage.removeItem("userid"),sessionStorage.removeItem("msession"),sessionStorage.removeItem("imei"),localStorage.removeItem("profile_data")},v=e=>{h.value=e,document.title=(e?"❕":"")+"MYNT by Zebu - Invest & Trade",p.value=e};return{snackbar:e,snackcolor:t,snacktxt:a,subloader:o,mainloader:r,showalert:n,showalertmsg:i,wllayout:l,snackalerts:s,wsorderalertdata:c,orderprefd:d,onlinestat:u,onLinebanner:p,lowConnection:h,showSnackbar:(o,r)=>{if("[]"==JSON.stringify(r)||/^Error Occurred : \d+ "no data"$/.test(r))return;e.value=!0;const n="attempt"===r||"string"==typeof r&&r.includes("attempt")||"string"==typeof r&&r.includes("Invalid Session Key")||"string"==typeof r&&r.includes("WebSocket");if(r&&!n&&("Request failed with status code 401"==r.message||"string"==typeof r&&r.includes("Session Expired")||"mobile_unique not valid"==r))t.value="warning",a.value="Session has expired. Please log in again.",setTimeout(()=>{m()},100);else if(r&&!n)t.value=0==o?"error":1==o?"success":"warning",a.value="500"==r?"Network/Internal Server Error":r;else if(n)return void(e.value=!1);if(e.value){s.value.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:a.value});const e=sessionStorage.getItem("userid");if(e){const t=e+(new Date).toLocaleDateString();sessionStorage.setItem(t,JSON.stringify(s.value))}}},hideSnackbar:()=>{e.value=!1},showLoader:()=>{o.value=!0},hideLoader:()=>{o.value=!1},setMainLoader:e=>{r.value=e},showAlert:e=>{e&&e.callback&&(n.value=!0,i.value=e)},hideAlert:()=>{n.value=!1,i.value=null},toggleWatchlistLayout:()=>{l.value=!l.value;const e=sessionStorage.getItem("userid");e&&localStorage.setItem(`${e}_wllayout`,JSON.stringify(l.value))},setWatchlistLayout:e=>{l.value=e},resetStorage:m,addWSOrderAlert:e=>{if(!e)return;const t=`Your ${"S"==e.trantype?"SELL":"BUY"} order ${e.norenordno} for <br> ${e.tsym} in ${e.exch} is ${e.status}`;if(c.value.push({message:t,timeout:3e3,color:"COMPLETE"==e.status?"success":"REJECTED"==e.status||"CANCELED"==e.status?"error":"warning"}),e&&e.status){const e=sessionStorage.getItem("userid");if(e){s.value.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:t});const a=e+(new Date).toLocaleDateString();sessionStorage.setItem(a,JSON.stringify(s.value))}}},getOrderPref:()=>d.value,setOrderPref:e=>{d.value={...d.value,...e}},setConnectionStatus:e=>{u.value=e,p.value&&e?(document.title="MYNT by Zebu - Invest & Trade",setTimeout(()=>{p.value=!1},3e3)):(document.title="❗MYNT by Zebu - Invest & Trade",p.value=!0)},setLowConnection:v,checkConnectionSpeed:()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e&&u.value){v(["2g","slow-2g"].includes(e.effectiveType))}}}});var url=new URL(window.location.href).searchParams;const params="app"==url.get("src"),mynturl={myntapi:"https://go.mynt.in/NorenWClientWeb/",webSocketURL:"wss://go.mynt.in/NorenWSWeb/",source:"API"},myntDCUrl="https://go.mynt.in/chartApi/";var uid$1=url.get("user"),sess=url.get("usession");url.get("dark");const myntappurl={wss:"wss://ws.zebull.in/NorenWS/",clientid:uid$1,token:sess,myntapi:"https://go.mynt.in/NorenWClient/",source:"MOB"},apiurl={banklogo:"https://ekycbe.mynt.in/zebu",imgicon:"https://besim.zebull.in/static/equity/icons/",eqapi:"https://v3.mynt.in/equity/",copy:"https://copy.mynt.in/",mfapi:"https://v3.mynt.in/mf/",mfnewapi:"https://v3.mynt.in/mfapi/",exmynt:"https://be.zebull.in/",bondapi:"https://besim.zebull.in/",iposapi:"https://v3.mynt.in/ipo/",collapi:"https://v3.mynt.in/collection/",ledger:"https://rekycbe.mynt.in/",upiurl:"https://fundapi.mynt.in/",repapi:"https://rekycbe.mynt.in/report/",asvrapi:"https://asvr.mynt.in/bcast/",autho:"https://rekycbe.mynt.in/autho/",sessapi:"https://sess.mynt.in/",zebuApiUrl:"https://be.mynt.in/"};var define_process_env_default$1={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const CONSTANTS={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},assert=function(e,t){if(!e)throw assertionError(t)},assertionError=function(e){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},stringToByteArray$1=function(e){const t=[];let a=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[a++]=r:r<2048?(t[a++]=r>>6|192,t[a++]=63&r|128):55296==(64512&r)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++o)),t[a++]=r>>18|240,t[a++]=r>>12&63|128,t[a++]=r>>6&63|128,t[a++]=63&r|128):(t[a++]=r>>12|224,t[a++]=r>>6&63|128,t[a++]=63&r|128)}return t},byteArrayToString=function(e){const t=[];let a=0,o=0;for(;a<e.length;){const r=e[a++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const n=e[a++];t[o++]=String.fromCharCode((31&r)<<6|63&n)}else if(r>239&&r<365){const n=((7&r)<<18|(63&e[a++])<<12|(63&e[a++])<<6|63&e[a++])-65536;t[o++]=String.fromCharCode(55296+(n>>10)),t[o++]=String.fromCharCode(56320+(1023&n))}else{const n=e[a++],i=e[a++];t[o++]=String.fromCharCode((15&r)<<12|(63&n)<<6|63&i)}}return t.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const t=e[r],n=r+1<e.length,i=n?e[r+1]:0,l=r+2<e.length,s=l?e[r+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|s>>6,p=63&s;l||(p=64,n||(u=64)),o.push(a[c],a[d],a[u],a[p])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray$1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):byteArrayToString(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const t=a[e.charAt(r++)],n=r<e.length?a[e.charAt(r)]:0;++r;const i=r<e.length?a[e.charAt(r)]:64;++r;const l=r<e.length?a[e.charAt(r)]:64;if(++r,null==t||null==n||null==i||null==l)throw new DecodeBase64StringError;const s=t<<2|n>>4;if(o.push(s),64!==i){const e=n<<4&240|i>>2;if(o.push(e),64!==l){const e=i<<6&192|l;o.push(e)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(e){const t=stringToByteArray$1(e);return base64.encodeByteArray(t,!0)},base64urlEncodeWithoutPadding=function(e){return base64Encode(e).replace(/\./g,"")},base64Decode=function(e){try{return base64.decodeString(e,!0)}catch(e2){console.error("base64Decode failed: ",e2)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function deepCopy(e){return deepExtend(void 0,e)}function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const a in t)t.hasOwnProperty(a)&&isValidKey$1(a)&&(e[a]=deepExtend(e[a],t[a]));return e}function isValidKey$1(e){return"__proto__"!==e}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if("undefined"==typeof process||void 0===define_process_env_default$1)return;const e=define_process_env_default$1.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},getDefaultsFromCookie=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e2){return}const t=e&&base64Decode(e[1]);return t&&JSON.parse(t)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(e2){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e2}`)}},getDefaultEmulatorHost=e=>{var t,a;return null===(a=null===(t=getDefaults())||void 0===t?void 0:t.emulatorHosts)||void 0===a?void 0:a[e]},getDefaultEmulatorHostnameAndPort=e=>{const t=getDefaultEmulatorHost(e);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(a+1),10);return"["===t[0]?[t.substring(1,a-1),o]:[t.substring(0,a),o]},getDefaultAppConfig=()=>{var e;return null===(e=getDefaults())||void 0===e?void 0:e.config};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,a))}}}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function createMockUserToken(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a=t||"demo-project",o=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const n=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(n)),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function isNodeSdk(){return!0===CONSTANTS.NODE_ADMIN}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(e2){return!1}}function validateIndexedDBOpenable(){return new Promise((e,t)=>{try{let a=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),a||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{a=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}function areCookiesEnabled(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,r=this.errors[e],n=r?replaceTemplate(r,a):"Error",i=`${this.serviceName}: ${n} (${o}).`;return new FirebaseError(o,i,a)}}function replaceTemplate(e,t){return e.replace(PATTERN,(e,a)=>{const o=t[a];return null!=o?String(o):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jsonEval(e){return JSON.parse(e)}function stringify(e){return JSON.stringify(e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const decode=function(e){let t={},a={},o={},r="";try{const n=e.split(".");t=jsonEval(base64Decode(n[0])||""),a=jsonEval(base64Decode(n[1])||""),r=n[2],o=a.d||{},delete a.d}catch(e2){}return{header:t,claims:a,data:o,signature:r}},isValidFormat=function(e){const t=decode(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},isAdmin=function(e){const t=decode(e).claims;return"object"==typeof t&&!0===t.admin};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function safeGet(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function isEmpty(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function map$1(e,t,a){const o={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=t.call(a,e[r],r,e));return o}function deepEqual(e,t){if(e===t)return!0;const a=Object.keys(e),o=Object.keys(t);for(const r of a){if(!o.includes(r))return!1;const a=e[r],n=t[r];if(isObject$2(a)&&isObject$2(n)){if(!deepEqual(a,n))return!1}else if(a!==n)return!1}for(const r of o)if(!a.includes(r))return!1;return!0}function isObject$2(e){return null!==e&&"object"==typeof e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function querystring(e){const t=[];for(const[a,o]of Object.entries(e))Array.isArray(o)?o.forEach(e=>{t.push(encodeURIComponent(a)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(a)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const a=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)a[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)a[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=a[d-3]^a[d-8]^a[d-14]^a[d-16];a[d]=4294967295&(e<<1|e>>>31)}let o,r,n=this.chain_[0],i=this.chain_[1],l=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(o=s^i&(l^s),r=1518500249):(o=i^l^s,r=1859775393):d<60?(o=i&l|s&(i|l),r=2400959708):(o=i^l^s,r=3395469782);const e=(n<<5|n>>>27)+o+c+r+a[d]&4294967295;c=s,s=l,l=4294967295&(i<<30|i>>>2),i=n,n=e}this.chain_[0]=this.chain_[0]+n&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const a=t-this.blockSize;let o=0;const r=this.buf_;let n=this.inbuf_;for(;o<t;){if(0===n)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[n]=e.charCodeAt(o),++n,++o,n===this.blockSize){this.compress_(r),n=0;break}}else for(;o<t;)if(r[n]=e[o],++n,++o,n===this.blockSize){this.compress_(r),n=0;break}}this.inbuf_=n,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=255&t,t/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let t=24;t>=0;t-=8)e[a]=this.chain_[o]>>t&255,++a;return e}}function errorPrefix(e,t){return`${e} failed: ${t} argument `}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const stringToByteArray=function(e){const t=[];let a=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);if(r>=55296&&r<=56319){const t=r-55296;o++,assert(o<e.length,"Surrogate pair missing trail surrogate.");r=65536+(t<<10)+(e.charCodeAt(o)-56320)}r<128?t[a++]=r:r<2048?(t[a++]=r>>6|192,t[a++]=63&r|128):r<65536?(t[a++]=r>>12|224,t[a++]=r>>6&63|128,t[a++]=63&r|128):(t[a++]=r>>18|240,t[a++]=r>>12&63|128,t[a++]=r>>6&63|128,t[a++]=63&r|128)}return t},stringLength=function(e){let t=0;for(let a=0;a<e.length;a++){const o=e.charCodeAt(a);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,a++):t+=3}return t},DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=144e5,RANDOM_FACTOR=.5;function calculateBackoffMillis(e,t=DEFAULT_INTERVAL_MILLIS,a=DEFAULT_BACKOFF_FACTOR){const o=t*Math.pow(a,e),r=Math.round(RANDOM_FACTOR*o*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,o+r)}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Provider{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&e.resolve(a)}catch(e2){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),o=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(a)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a})}catch(e2){if(o)return null;throw e2}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch(e2){}for(const[e,t]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:a});t.resolve(e)}catch(e2){}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[r,n]of this.instancesDeferred.entries()){a===this.normalizeInstanceIdentifier(r)&&n.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),r=null!==(a=this.onInitCallbacks.get(o))&&void 0!==a?a:new Set;r.add(e),this.onInitCallbacks.set(o,r);const n=this.instances.get(o);return n&&e(n,o),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const r of a)try{r(e,t)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch(o){}return a||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function normalizeIdentifierForFactory(e){return e===DEFAULT_ENTRY_NAME$1?void 0:e}function isComponentEager(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Provider(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var LogLevel,LogLevel2;LogLevel2=LogLevel||(LogLevel={}),LogLevel2[LogLevel2.DEBUG=0]="DEBUG",LogLevel2[LogLevel2.VERBOSE=1]="VERBOSE",LogLevel2[LogLevel2.INFO=2]="INFO",LogLevel2[LogLevel2.WARN=3]="WARN",LogLevel2[LogLevel2.ERROR=4]="ERROR",LogLevel2[LogLevel2.SILENT=5]="SILENT";const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(e,t,...a)=>{if(t<e.logLevel)return;const o=(new Date).toISOString(),r=ConsoleMethod[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${o}]  ${e.name}:`,...a)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(e,t)=>t.some(t=>e instanceof t);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const t=new Promise((t,a)=>{const o=()=>{e.removeEventListener("success",r),e.removeEventListener("error",n)},r=()=>{t(wrap(e.result)),o()},n=()=>{a(e.error),o()};e.addEventListener("success",r),e.addEventListener("error",n)});return t.then(t=>{t instanceof IDBCursor&&cursorRequestMap.set(t,e)}).catch(()=>{}),reverseTransformCache.set(t,e),t}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const t=new Promise((t,a)=>{const o=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",n),e.removeEventListener("abort",n)},r=()=>{t(),o()},n=()=>{a(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",r),e.addEventListener("error",n),e.addEventListener("abort",n)});transactionDoneMap.set(e,t)}let idbProxyTraps={get(e,t,a){if(e instanceof IDBTransaction){if("done"===t)return transactionDoneMap.get(e);if("objectStoreNames"===t)return e.objectStoreNames||transactionStoreNamesMap.get(e);if("store"===t)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return wrap(e[t])},set:(e,t,a)=>(e[t]=a,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function replaceTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?getCursorAdvanceMethods().includes(e)?function(...t){return e.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(e.apply(unwrap(this),t))}:function(t,...a){const o=e.call(unwrap(this),t,...a);return transactionStoreNamesMap.set(o,t.sort?t.sort():[t]),wrap(o)}}function transformCachableValue(e){return"function"==typeof e?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const t=transformCachableValue(e);return t!==e&&(transformCache.set(e,t),reverseTransformCache.set(t,e)),t}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,t,{blocked:a,upgrade:o,blocking:r,terminated:n}={}){const i=indexedDB.open(e,t),l=wrap(i);return o&&i.addEventListener("upgradeneeded",e=>{o(wrap(i.result),e.oldVersion,e.newVersion,wrap(i.transaction),e)}),a&&i.addEventListener("blocked",e=>a(e.oldVersion,e.newVersion,e)),l.then(e=>{n&&e.addEventListener("close",()=>n()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(cachedMethods.get(t))return cachedMethods.get(t);const a=t.replace(/FromIndex$/,""),o=t!==a,r=writeMethods.includes(a);if(!(a in(o?IDBIndex:IDBObjectStore).prototype)||!r&&!readMethods.includes(a))return;const n=async function(e,...t){const n=this.transaction(e,r?"readwrite":"readonly");let i=n.store;return o&&(i=i.index(t.shift())),(await Promise.all([i[a](...t),r&&n.done]))[0]};return cachedMethods.set(t,n),n}replaceTraps(e=>({...e,get:(t,a,o)=>getMethod(t,a)||e.get(t,a,o),has:(t,a)=>!!getMethod(t,a)||e.has(t,a)}));
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(isVersionServiceProvider(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}function isVersionServiceProvider(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}const name$q="@firebase/app",version$1$1="0.10.13",logger$2=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$r="firebase",version$5="10.14.1",DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"},_apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(e,t){try{e.container.addComponent(t)}catch(e2){logger$2.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,e2)}}function _registerComponent(e){const t=e.name;if(_components.has(t))return logger$2.debug(`There were multiple attempts to register component ${t}.`),!1;_components.set(t,e);for(const a of _apps.values())_addComponent(a,e);for(const a of _serverApps.values())_addComponent(a,e);return!0}function _getProvider(e,t){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(t)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class FirebaseAppImpl{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const SDK_VERSION$1=version$5;function initializeApp(e,t={}){let a=e;if("object"!=typeof t){t={name:t}}const o=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},t),r=o.name;if("string"!=typeof r||!r)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(r)});if(a||(a=getDefaultAppConfig()),!a)throw ERROR_FACTORY$2.create("no-options");const n=_apps.get(r);if(n){if(deepEqual(a,n.options)&&deepEqual(o,n.config))return n;throw ERROR_FACTORY$2.create("duplicate-app",{appName:r})}const i=new ComponentContainer(r);for(const s of _components.values())i.addComponent(s);const l=new FirebaseAppImpl(a,o,i);return _apps.set(r,l),l}function getApp(e=DEFAULT_ENTRY_NAME){const t=_apps.get(e);if(!t&&e===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!t)throw ERROR_FACTORY$2.create("no-app",{appName:e});return t}function registerVersion(e,t,a){var o;let r=null!==(o=PLATFORM_LOG_STRING[e])&&void 0!==o?o:e;a&&(r+=`-${a}`);const n=r.match(/\s|\//),i=t.match(/\s|\//);if(n||i){const e=[`Unable to register library "${r}" with version "${t}":`];return n&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),n&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void logger$2.warn(e.join(" "))}_registerComponent(new Component(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME,DB_VERSION,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(STORE_NAME)}catch(e2){console.warn(e2)}}}).catch(e=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:e.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(e){try{const t=(await getDbPromise$1()).transaction(STORE_NAME),a=await t.objectStore(STORE_NAME).get(computeKey(e));return await t.done,a}catch(e2){if(e2 instanceof FirebaseError)logger$2.warn(e2.message);else{const t=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:null==e2?void 0:e2.message});logger$2.warn(t.message)}}}async function writeHeartbeatsToIndexedDB(e,t){try{const a=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite"),o=a.objectStore(STORE_NAME);await o.put(t,computeKey(e)),await a.done}catch(e2){if(e2 instanceof FirebaseError)logger$2.warn(e2.message);else{const t=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:null==e2?void 0:e2.message});logger$2.warn(t.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=2592e6;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=getUTCDateString();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(e=>e.date===o))return;return this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}catch(e2){logger$2.warn(e2)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),r=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e2){return logger$2.warn(e2),""}}}function getUTCDateString(){return(new Date).toISOString().substring(0,10)}function extractHeartbeatsForHeader(e,t=MAX_HEADER_BYTES){const a=[];let o=e.slice();for(const r of e){const e=a.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),countBytes(a)>t){e.dates.pop();break}}else if(a.push({agent:r.agent,dates:[r.date]}),countBytes(a)>t){a.pop();break}o=o.slice(1)}return{heartbeatsToSend:a,unsentEntries:o}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!isIndexedDBAvailable()&&validateIndexedDBOpenable().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await readHeartbeatsFromIndexedDB(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function registerCoreComponents(e){_registerComponent(new Component("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1$1,e),registerVersion(name$q,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$3="firebase",version$4="10.14.1";
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
registerVersion(name$3,version$4,"app");var define_process_env_default={};const name$2="@firebase/database",version$3="1.0.8";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
let SDK_VERSION="";function setSDKVersion(e){SDK_VERSION=e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class DOMStorageWrapper{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),stringify(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:jsonEval(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return contains(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const createStoragefor=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DOMStorageWrapper(t)}}catch(e2){}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage"),logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let e=1;return function(){return e++}}(),sha1$1=function(e){const t=stringToByteArray(e),a=new Sha1;a.update(t);const o=a.digest();return base64.encodeByteArray(o)},buildLogMessage_=function(...e){let t="";for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=buildLogMessage_.apply(null,o):t+="object"==typeof o?stringify(o):o,t+=" "}return t};let logger$1=null,firstLog_=!0;const enableLogging$1=function(e,t){assert(!0,"Can't turn on custom loggers persistently."),logClient.logLevel=LogLevel.VERBOSE,logger$1=logClient.log.bind(logClient)},log=function(...e){if(!0===firstLog_&&(firstLog_=!1,null===logger$1&&!0===SessionStorage.get("logging_enabled")&&enableLogging$1()),logger$1){const t=buildLogMessage_.apply(null,e);logger$1(t)}},logWrapper=function(e){return function(...t){log(e,...t)}},error=function(...e){const t="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...e);logClient.error(t)},fatal=function(...e){const t=`FIREBASE FATAL ERROR: ${buildLogMessage_(...e)}`;throw logClient.error(t),new Error(t)},warn$1=function(...e){const t="FIREBASE WARNING: "+buildLogMessage_(...e);logClient.warn(t)},warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&warn$1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(e){if("complete"===document.readyState)e();else{let t=!1;const a=function(){document.body?t||(t=!0,e()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(e,t){if(e===t)return 0;if(e===MIN_NAME||t===MAX_NAME)return-1;if(t===MIN_NAME||e===MAX_NAME)return 1;{const a=tryParseInt(e),o=tryParseInt(t);return null!==a?null!==o?a-o===0?e.length-t.length:a-o:-1:null!==o?1:e<t?-1:1}},stringCompare=function(e,t){return e===t?0:e<t?-1:1},requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+stringify(t))},ObjectToUniqueKey=function(e){if("object"!=typeof e||null===e)return stringify(e);const t=[];for(const o in e)t.push(o);t.sort();let a="{";for(let o=0;o<t.length;o++)0!==o&&(a+=","),a+=stringify(t[o]),a+=":",a+=ObjectToUniqueKey(e[t[o]]);return a+="}",a},splitStringBySize=function(e,t){const a=e.length;if(a<=t)return[e];const o=[];for(let r=0;r<a;r+=t)r+t>a?o.push(e.substring(r,a)):o.push(e.substring(r,r+t));return o};function each(e,t){for(const a in e)e.hasOwnProperty(a)&&t(a,e[a])}const doubleToIEEE754String=function(e){assert(!isInvalidJSONNumber(e),"Invalid JSON number");const t=1023;let a,o,r,n,i;0===e?(o=0,r=0,a=1/e==-1/0?1:0):(a=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=Math.min(Math.floor(Math.log(e)/Math.LN2),t),o=n+t,r=Math.round(e*Math.pow(2,52-n)-Math.pow(2,52))):(o=0,r=Math.round(e/Math.pow(2,-1074))));const l=[];for(i=52;i;i-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(i=11;i;i-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(a?1:0),l.reverse();const s=l.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(s.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI};function errorForServerCode(e,t){let a="Unknown Error";"too_big"===e?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?a="Client doesn't have permission to access the desired data.":"unavailable"===e&&(a="The service is unavailable");const o=new Error(e+" at "+t._path.toString()+": "+a);return o.code=e.toUpperCase(),o}const INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(e){if(INTEGER_REGEXP_.test(e)){const t=Number(e);if(t>=INTEGER_32_MIN&&t<=INTEGER_32_MAX)return t}return null},exceptionGuard=function(e){try{e()}catch(e2){setTimeout(()=>{const t=e2.stack||"";throw warn$1("Exception was thrown by user callback.",t),e2},Math.floor(0))}},beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(e,t){const a=setTimeout(e,t);return"number"==typeof a&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class AppCheckTokenProvider{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,a):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){warn$1(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class FirebaseAuthTokenProvider{constructor(e,t,a){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,a):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn$1(e)}}class EmulatorTokenProvider{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class RepoInfo{constructor(e,t,a,o,r=!1,n="",i=!1,l=!1){this.secure=t,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=r,this.persistenceKey=n,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function repoInfoNeedsQueryParam(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function repoInfoConnectionURL(e,t,a){let o;if(assert("string"==typeof t,"typeof type must == string"),assert("object"==typeof a,"typeof params must == object"),t===WEBSOCKET)o=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==LONG_POLLING)throw new Error("Unknown connection type: "+t);o=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}repoInfoNeedsQueryParam(e)&&(a.ns=e.namespace);const r=[];return each(a,(e,t)=>{r.push(e+"="+t)}),o+r.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class StatsCollection{constructor(){this.counters_={}}incrementCounter(e,t=1){contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return deepCopy(this.counters_)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const collections={},reporters={};function statsManagerGetCollection(e){const t=e.toString();return collections[t]||(collections[t]=new StatsCollection),collections[t]}function statsManagerGetOrCreateReporter(e,t){const a=e.toString();return reporters[a]||(reporters[a]=t()),reporters[a]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class PacketReceiver{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&exceptionGuard(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(e,t,a,o,r,n,i){this.connId=e,this.repoInfo=t,this.applicationId=a,this.appCheckToken=o,this.authToken=r,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(e),this.stats_=statsManagerGetCollection(t),this.urlFn=e=>(this.appCheckToken&&(e[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(t,LONG_POLLING,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...e)=>{const[t,a,o,r,n]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===FIREBASE_LONGPOLL_START_PARAM)this.id=a,this.password=o;else{if(t!==FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+t);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,a]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,a)},()=>{this.onClosed_()},this.urlFn);const e={};e[FIREBASE_LONGPOLL_START_PARAM]="t",e[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),e[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(e[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(e[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(e[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(e[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(e[REFERER_PARAM]=FORGE_REF);const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return!!BrowserPollConnection.forceAllow_||!BrowserPollConnection.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const a=base64Encode(t),o=splitStringBySize(a,MAX_PAYLOAD_SIZE);for(let r=0;r<o.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const a={};a[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",a[FIREBASE_LONGPOLL_ID_PARAM]=e,a[FIREBASE_LONGPOLL_PW_PARAM]=t,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class FirebaseIFrameScriptHolder{constructor(e,t,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=e,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=t,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){a='<script>document.domain="'+document.domain+'";<\/script>'}const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(e2){log("frame writing exception"),e2.stack&&log(e2.stack),log(e2)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||log("No IE domain setting required")}catch(e2){const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let t=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+SEG_HEADER_SIZE+a.length<=MAX_URL_DATA_SIZE))break;{const e=this.pendingSegs.shift();a=a+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+o+"="+e.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+o+"="+e.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+o+"="+e.d,o++}}return t+=a,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,a){this.pendingSegs.push({seg:e,ts:t,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const a=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(a,Math.floor(KEEPALIVE_REQUEST_INTERVAL));this.addTag(e,()=>{clearTimeout(o),a()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const e=a.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),t())},a.onerror=()=>{log("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch(e2){}},Math.floor(1))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;"undefined"!=typeof MozWebSocket?WebSocketImpl=MozWebSocket:"undefined"!=typeof WebSocket&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(e,t,a,o,r,n,i){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(t),this.connURL=WebSocketConnection.connectionURL_(t,n,i,o,a),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,a,o,r){const n={};return n[VERSION_PARAM]=PROTOCOL_VERSION,"undefined"!=typeof location&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(n[REFERER_PARAM]=FORGE_REF),t&&(n[TRANSPORT_SESSION_PARAM]=t),a&&(n[LAST_SESSION_PARAM]=a),o&&(n[APP_CHECK_TOKEN_PARAM]=o),r&&(n[APPLICATION_ID_PARAM]=r),repoInfoConnectionURL(e,WEBSOCKET,n)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let e;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],e)}catch(e2){this.log_("Error instantiating WebSocket.");const t=e2.message||e2.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(t);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==WebSocketImpl&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||!0===PersistentStorage.get("previous_websocket_failure")}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=jsonEval(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(assert(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const a=splitStringBySize(t,WEBSOCKET_MAX_FRAME_SIZE);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(e){try{this.mySock.send(e)}catch(e2){this.log_("Exception thrown from WebSocket.send():",e2.message||e2.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class TransportManager{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=WebSocketConnection&&WebSocketConnection.isAvailable();let a=t&&!WebSocketConnection.previouslyFailed();if(e.webSocketOnly&&(t||warn$1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[WebSocketConnection];else{const e=this.transports_=[];for(const t of TransportManager.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10240,BYTES_RECEIVED_HEALTHY_OVERRIDE=102400,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(e,t,a,o,r,n,i,l,s,c){this.id=e,this.repoInfo_=t,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=r,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=l,this.onKill_=s,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(MESSAGE_TYPE in e){const t=e[MESSAGE_TYPE];t===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():t===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=requireKey("t",e),a=requireKey("d",e);if("c"===t)this.onSecondaryControl_(a);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(a)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=requireKey("t",e),a=requireKey("d",e);"c"===t?this.onControl_(a):"d"===t&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){const a=e[MESSAGE_DATA];if(t===SERVER_HELLO){const e=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if(t===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===CONTROL_SHUTDOWN?this.onConnectionShutdown_(a):t===CONTROL_RESET?this.onReset_(a):t===CONTROL_ERROR?error("Server Error: "+a):t===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),PROTOCOL_VERSION!==a&&warn$1("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,a),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ServerActions{put(e,t,a,o){}merge(e,t,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,a){}onDisconnectMerge(e,t,a){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class EventEmitter{constructor(e){this.allowedEvents_=e,this.listeners_={},assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,t)}}on(e,t,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:a});const o=this.getInitialEvent(e);o&&t.apply(a,o)}off(e,t,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let r=0;r<o.length;r++)if(o[r].callback===t&&(!a||a===o[r].context))return void o.splice(r,1)}validateEventType_(e){assert(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class OnlineMonitor extends EventEmitter{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||isMobileCordova()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(e){return assert("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pathGetLength(e){return e.pieces_.length-e.pieceNum_}function pathPopFront(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Path(e.pieces_,t)}function pathGetBack(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pathToUrlEncodedString(e){let t="";for(let a=e.pieceNum_;a<e.pieces_.length;a++)""!==e.pieces_[a]&&(t+="/"+encodeURIComponent(String(e.pieces_[a])));return t||"/"}function pathSlice(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function pathParent(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let a=e.pieceNum_;a<e.pieces_.length-1;a++)t.push(e.pieces_[a]);return new Path(t,0)}function pathChild(e,t){const a=[];for(let o=e.pieceNum_;o<e.pieces_.length;o++)a.push(e.pieces_[o]);if(t instanceof Path)for(let o=t.pieceNum_;o<t.pieces_.length;o++)a.push(t.pieces_[o]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&a.push(e[t])}return new Path(a,0)}function pathIsEmpty(e){return e.pieceNum_>=e.pieces_.length}function newRelativePath(e,t){const a=pathGetFront(e),o=pathGetFront(t);if(null===a)return t;if(a===o)return newRelativePath(pathPopFront(e),pathPopFront(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pathEquals(e,t){if(pathGetLength(e)!==pathGetLength(t))return!1;for(let a=e.pieceNum_,o=t.pieceNum_;a<=e.pieces_.length;a++,o++)if(e.pieces_[a]!==t.pieces_[o])return!1;return!0}function pathContains(e,t){let a=e.pieceNum_,o=t.pieceNum_;if(pathGetLength(e)>pathGetLength(t))return!1;for(;a<e.pieces_.length;){if(e.pieces_[a]!==t.pieces_[o])return!1;++a,++o}return!0}class ValidationPath{constructor(e,t){this.errorPrefix_=t,this.parts_=pathSlice(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=stringLength(this.parts_[a]);validationPathCheckValid(this)}}function validationPathPush(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=stringLength(t),validationPathCheckValid(e)}function validationPathPop(e){const t=e.parts_.pop();e.byteLength_-=stringLength(t),e.parts_.length>0&&(e.byteLength_-=1)}function validationPathCheckValid(e){if(e.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(e.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+e.byteLength_+").");if(e.parts_.length>MAX_PATH_DEPTH)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(e))}function validationPathToErrorString(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class VisibilityMonitor extends EventEmitter{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(e){return assert("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=3e5,RECONNECT_MAX_DELAY_FOR_ADMINS=3e4,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(e,t,a,o,r,n,i,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.authOverride_=l,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,a){const o=++this.requestNumber_,r={r:o,a:e,b:t};this.log_(stringify(r)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const t=new Deferred,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const a=e.d;"ok"===e.s?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,a,o){this.initConnection_();const r=e._queryIdentifier,n=e._path.toString();this.log_("Listen called for "+n+" "+r),this.listens.has(n)||this.listens.set(n,new Map),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(n).has(r),"listen() called twice for same path/queryId.");const i={onComplete:o,hashFn:t,query:e,tag:a};this.listens.get(n).set(r,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(a)})}sendListen_(e){const t=e.query,a=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+a+" for "+o);const r={p:a};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{const n=r.d,i=r.s;PersistentConnection.warnOnListenWarnings_(n,t);(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",r),"ok"!==i&&this.removeListen_(a,o),e.onComplete&&e.onComplete(i,n))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&contains(e,"w")){const a=safeGet(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();warn$1(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=isValidFormat(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(t,a,t=>{const a=t.s,o=t.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,a=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,a)})}unlisten(e,t){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,t)}sendUnlisten_(e,t,a,o){this.log_("Unlisten on "+e+" for "+t);const r={p:e};o&&(r.q=a,r.t=o),this.sendRequest("n",r)}onDisconnectPut(e,t,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:a})}onDisconnectMerge(e,t,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:a})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,a,o){const r={p:t,d:a};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{o&&setTimeout(()=>{o(e.s,e.d)},Math.floor(0))})}put(e,t,a,o){this.putInternal("p",e,t,a,o)}merge(e,t,a,o){this.putInternal("m",e,t,a,o)}putInternal(e,t,a,o,r){this.initConnection_();const n={p:t,d:a};void 0!==r&&(n.h=r),this.outstandingPuts_.push({action:e,request:n,onComplete:o}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,a,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+stringify(e));const t=e.r,a=this.requestCBHash_[t];a&&(delete this.requestCBHash_[t],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):error("Unrecognized action received from server: "+stringify(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+PersistentConnection.nextConnectionId_++,n=this.lastSessionId;let i=!1,l=null;const s=function(){l?l.close():(i=!0,o())},c=function(e){assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)};this.realtime_={close:s,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[e,s]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);i?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=e&&e.accessToken,this.appCheckToken_=s&&s.token,l=new Connection(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,a,o,e=>{warn$1(e+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},n))}catch(e){this.log_("Failed to get token: "+e),i||(this.repoInfo_.nodeAdmin&&warn$1(e),s())}}}interrupt(e){log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let a;a=t?t.map(e=>ObjectToUniqueKey(e)).join("$"):"default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const a=new Path(e).toString();let o;if(this.listens.has(a)){const e=this.listens.get(a);o=e.get(t),e.delete(t),0===e.size&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,t){log("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){log("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?e["framework.cordova"]=1:isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&e}}PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class NamedNode{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new NamedNode(e,t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const a=new NamedNode(MIN_NAME,e),o=new NamedNode(MIN_NAME,t);return 0!==this.compare(a,o)}minPost(){return NamedNode.MIN}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(e){__EMPTY_NODE=e}compare(e,t){return nameCompare(e.name,t.name)}isDefinedOn(e){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(e,t){return assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new NamedNode(e,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class SortedMapIterator{constructor(e,t,a,o,r=null){this.isReverse_=o,this.resultGenerator_=r,this.nodeStack_=[];let n=1;for(;!e.isEmpty();)if(n=t?a(e.key,t):1,o&&(n*=-1),n<0)e=this.isReverse_?e.left:e.right;else{if(0===n){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class LLRBNode{constructor(e,t,a,o,r){this.key=e,this.value=t,this.color=null!=a?a:LLRBNode.RED,this.left=null!=o?o:SortedMap.EMPTY_NODE,this.right=null!=r?r:SortedMap.EMPTY_NODE}copy(e,t,a,o,r){return new LLRBNode(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=o?o:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const r=a(e,o.key);return o=r<0?o.copy(null,null,null,o.left.insert(e,t,a),null):0===r?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let a,o;if(a=this,t(e,a.key)<0)a.left.isEmpty()||a.left.isRed_()||a.left.left.isRed_()||(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),a.right.isEmpty()||a.right.isRed_()||a.right.left.isRed_()||(a=a.moveRedRight_()),0===t(e,a.key)){if(a.right.isEmpty())return SortedMap.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}LLRBNode.RED=!0,LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(e,t,a,o,r){return this}insert(e,t,a){return new LLRBNode(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(e,t=SortedMap.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new SortedMap(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let t,a=this.root_;for(;!a.isEmpty();){if(t=this.comparator_(e,a.key),0===t)return a.value;t<0?a=a.left:t>0&&(a=a.right)}return null}getPredecessorKey(e){let t,a=this.root_,o=null;for(;!a.isEmpty();){if(t=this.comparator_(e,a.key),0===t){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}t<0?a=a.left:t>0&&(o=a,a=a.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function NAME_ONLY_COMPARATOR(e,t){return nameCompare(e.name,t.name)}function NAME_COMPARATOR(e,t){return nameCompare(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let MAX_NODE$2;function setMaxNode$1(e){MAX_NODE$2=e}SortedMap.EMPTY_NODE=new LLRBEmptyNode;const priorityHashText=function(e){return"number"==typeof e?"number:"+doubleToIEEE754String(e):"string:"+e},validatePriorityNode=function(e){if(e.isLeafNode()){const t=e.val();assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&contains(t,".sv"),"Priority must be a string or number.")}else assert(e===MAX_NODE$2||e.isEmpty(),"priority of unexpected type.");assert(e===MAX_NODE$2||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
let __childrenNodeConstructor,nodeFromJSON$1,MAX_NODE$1;class LeafNode{constructor(e,t=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(e){__childrenNodeConstructor=e}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new LeafNode(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pathIsEmpty(e)?this:".priority"===pathGetFront(e)?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const a=pathGetFront(e);return null===a?t:t.isEmpty()&&".priority"!==a?this:(assert(".priority"!==a||1===pathGetLength(e),".priority must be the last token in a path"),this.updateImmediateChild(a,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+priorityHashText(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=sha1$1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof LeafNode.__childrenNodeConstructor?-1:(assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,a=typeof this.value_,o=LeafNode.VALUE_TYPE_ORDER.indexOf(t),r=LeafNode.VALUE_TYPE_ORDER.indexOf(a);return assert(o>=0,"Unknown leaf type: "+t),assert(r>=0,"Unknown leaf type: "+a),o===r?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}function setNodeFromJSON(e){nodeFromJSON$1=e}function setMaxNode(e){MAX_NODE$1=e}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];class PriorityIndex extends Index{compare(e,t){const a=e.node.getPriority(),o=t.node.getPriority(),r=a.compareTo(o);return 0===r?nameCompare(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(e,t){const a=nodeFromJSON$1(e);return new NamedNode(t,new LeafNode("[PRIORITY-POST]",a))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex,LOG_2=Math.log(2);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Base12Num{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/LOG_2,10)),this.current_=this.count-1;const a=(o=this.count,parseInt(Array(o+1).join("1"),2));var o;this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const buildChildSet=function(e,t,a,o){e.sort(t);const r=function(t,o){const n=o-t;let i,l;if(0===n)return null;if(1===n)return i=e[t],l=a?a(i):i,new LLRBNode(l,i.node,LLRBNode.BLACK,null,null);{const s=parseInt(n/2,10)+t,c=r(t,s),d=r(s+1,o);return i=e[s],l=a?a(i):i,new LLRBNode(l,i.node,LLRBNode.BLACK,c,d)}},n=function(t){let o=null,n=null,i=e.length;const l=function(t,o){const n=i-t,l=i;i-=t;const c=r(n+1,l),d=e[n],u=a?a(d):d;s(new LLRBNode(u,d.node,o,null,c))},s=function(e){o?(o.left=e,o=e):(n=e,o=e)};for(let e=0;e<t.count;++e){const a=t.nextBitIsOne(),o=Math.pow(2,t.count-(e+1));a?l(o,LLRBNode.BLACK):(l(o,LLRBNode.BLACK),l(o,LLRBNode.RED))}return n}(new Base12Num(e.length));return new SortedMap(o||t,n)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(e){const t=safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof SortedMap?t:null}hasIndex(e){return contains(this.indexSet_,e.toString())}addIndex(e,t){assert(e!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const r=t.getIterator(NamedNode.Wrap);let n,i=r.getNext();for(;i;)o=o||e.isDefinedOn(i.node),a.push(i),i=r.getNext();n=o?buildChildSet(a,e.getCompare()):fallbackObject;const l=e.toString(),s=Object.assign({},this.indexSet_);s[l]=e;const c=Object.assign({},this.indexes_);return c[l]=n,new IndexMap(c,s)}addToIndexes(e,t){const a=map$1(this.indexes_,(a,o)=>{const r=safeGet(this.indexSet_,o);if(assert(r,"Missing index implementation for "+o),a===fallbackObject){if(r.isDefinedOn(e.node)){const a=[],o=t.getIterator(NamedNode.Wrap);let n=o.getNext();for(;n;)n.name!==e.name&&a.push(n),n=o.getNext();return a.push(e),buildChildSet(a,r.getCompare())}return fallbackObject}{const o=t.get(e.name);let r=a;return o&&(r=r.remove(new NamedNode(e.name,o))),r.insert(e,e.node)}});return new IndexMap(a,this.indexSet_)}removeFromIndexes(e,t){const a=map$1(this.indexes_,a=>{if(a===fallbackObject)return a;{const o=t.get(e.name);return o?a.remove(new NamedNode(e.name,o)):a}});return new IndexMap(a,this.indexSet_)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let EMPTY_NODE;class ChildrenNode{constructor(e,t,a){this.children_=e,this.priorityNode_=t,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(e){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?EMPTY_NODE:t}}getChild(e){const t=pathGetFront(e);return null===t?this:this.getImmediateChild(t).getChild(pathPopFront(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const a=new NamedNode(e,t);let o,r;t.isEmpty()?(o=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(a,this.children_));const n=o.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode(o,n,r)}}updateChild(e,t){const a=pathGetFront(e);if(null===a)return t;{assert(".priority"!==pathGetFront(e)||1===pathGetLength(e),".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(pathPopFront(e),t);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let a=0,o=0,r=!0;if(this.forEachChild(PRIORITY_INDEX,(n,i)=>{t[n]=i.val(e),a++,r&&ChildrenNode.INTEGER_REGEXP_.test(n)?o=Math.max(o,Number(n)):r=!1}),!e&&r&&o<2*a){const e=[];for(const a in t)e[a]=t[a];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(t,a)=>{const o=a.hash();""!==o&&(e+=":"+t+":"+o)}),this.lazyHash_=""===e?"":sha1$1(e)}return this.lazyHash_}getPredecessorChildName(e,t,a){const o=this.resolveIndex_(a);if(o){const a=o.getPredecessorKey(new NamedNode(e,t));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new NamedNode(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new NamedNode(t,this.children_.get(t)):null}forEachChild(e,t){const a=this.resolveIndex_(e);return a?a.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const a=this.resolveIndex_(t);if(a)return a.getIteratorFrom(e,e=>e);{const a=this.children_.getIteratorFrom(e.name,NamedNode.Wrap);let o=a.peek();for(;null!=o&&t.compare(o,e)<0;)a.getNext(),o=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const a=this.resolveIndex_(t);if(a)return a.getReverseIteratorFrom(e,e=>e);{const a=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap);let o=a.peek();for(;null!=o&&t.compare(o,e)>0;)a.getNext(),o=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MAX_NODE?-1:0}withIndex(e){if(e===KEY_INDEX||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===KEY_INDEX||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(PRIORITY_INDEX),a=t.getIterator(PRIORITY_INDEX);let o=e.getNext(),r=a.getNext();for(;o&&r;){if(o.name!==r.name||!o.node.equals(r.node))return!1;o=e.getNext(),r=a.getNext()}return null===o&&null===r}return!1}return!1}}resolveIndex_(e){return e===KEY_INDEX?null:this.indexMap_.get(e.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}}),KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE,LeafNode.__childrenNodeConstructor=ChildrenNode,setMaxNode$1(MAX_NODE),setMaxNode(MAX_NODE);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const USE_HINZE=!0;function nodeFromJSON(e,t=null){if(null===e)return ChildrenNode.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new LeafNode(e,nodeFromJSON(t))}if(e instanceof Array||!USE_HINZE){let a=ChildrenNode.EMPTY_NODE;return each(e,(t,o)=>{if(contains(e,t)&&"."!==t.substring(0,1)){const e=nodeFromJSON(o);!e.isLeafNode()&&e.isEmpty()||(a=a.updateImmediateChild(t,e))}}),a.updatePriority(nodeFromJSON(t))}{const a=[];let o=!1;if(each(e,(e,t)=>{if("."!==e.substring(0,1)){const r=nodeFromJSON(t);r.isEmpty()||(o=o||!r.getPriority().isEmpty(),a.push(new NamedNode(e,r)))}}),0===a.length)return ChildrenNode.EMPTY_NODE;const r=buildChildSet(a,NAME_ONLY_COMPARATOR,e=>e.name,NAME_COMPARATOR);if(o){const e=buildChildSet(a,PRIORITY_INDEX.getCompare());return new ChildrenNode(r,nodeFromJSON(t),new IndexMap({".priority":e},{".priority":PRIORITY_INDEX}))}return new ChildrenNode(r,nodeFromJSON(t),IndexMap.Default)}}setNodeFromJSON(nodeFromJSON);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class PathIndex extends Index{constructor(e){super(),this.indexPath_=e,assert(!pathIsEmpty(e)&&".priority"!==pathGetFront(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const a=this.extractChild(e.node),o=this.extractChild(t.node),r=a.compareTo(o);return 0===r?nameCompare(e.name,t.name):r}makePost(e,t){const a=nodeFromJSON(e),o=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,a);return new NamedNode(t,o)}maxPost(){const e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,e)}toString(){return pathSlice(this.indexPath_,0).join("/")}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ValueIndex extends Index{compare(e,t){const a=e.node.compareTo(t.node);return 0===a?nameCompare(e.name,t.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(e,t){const a=nodeFromJSON(e);return new NamedNode(t,a)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function changeValue(e){return{type:"value",snapshotNode:e}}function changeChildAdded(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function changeChildRemoved(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function changeChildChanged(e,t,a){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:a}}function changeChildMoved(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class IndexedFilter{constructor(e){this.index_=e}updateChild(e,t,a,o,r,n){assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const i=e.getImmediateChild(t);return i.getChild(o).equals(a.getChild(o))&&i.isEmpty()===a.isEmpty()?e:(null!=n&&(a.isEmpty()?e.hasChild(t)?n.trackChildChange(changeChildRemoved(t,i)):assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.isEmpty()?n.trackChildChange(changeChildAdded(t,a)):n.trackChildChange(changeChildChanged(t,a,i))),e.isLeafNode()&&a.isEmpty()?e:e.updateImmediateChild(t,a).withIndex(this.index_))}updateFullNode(e,t,a){return null!=a&&(e.isLeafNode()||e.forEachChild(PRIORITY_INDEX,(e,o)=>{t.hasChild(e)||a.trackChildChange(changeChildRemoved(e,o))}),t.isLeafNode()||t.forEachChild(PRIORITY_INDEX,(t,o)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(o)||a.trackChildChange(changeChildChanged(t,o,r))}else a.trackChildChange(changeChildAdded(t,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class RangedFilter{constructor(e){this.indexedFilter_=new IndexedFilter(e.getIndex()),this.index_=e.getIndex(),this.startPost_=RangedFilter.getStartPost_(e),this.endPost_=RangedFilter.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&a}updateChild(e,t,a,o,r,n){return this.matches(new NamedNode(t,a))||(a=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,a,o,r,n)}updateFullNode(e,t,a){t.isLeafNode()&&(t=ChildrenNode.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(ChildrenNode.EMPTY_NODE);const r=this;return t.forEachChild(PRIORITY_INDEX,(e,t)=>{r.matches(new NamedNode(e,t))||(o=o.updateImmediateChild(e,ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class LimitedFilter{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,a,o,r,n){return this.rangedFilter_.matches(new NamedNode(t,a))||(a=ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,a,o,r,n):this.fullLimitUpdateChild_(e,t,a,r,n)}updateFullNode(e,t,a){let o;if(t.isLeafNode()||t.isEmpty())o=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;o=ChildrenNode.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;e.hasNext()&&a<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;o=o.updateImmediateChild(t.name,t.node),a++}}}else{let e;o=t.withIndex(this.index_),o=o.updatePriority(ChildrenNode.EMPTY_NODE),e=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let a=0;for(;e.hasNext();){const t=e.getNext();a<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?a++:o=o.updateImmediateChild(t.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,a,o,r){let n;if(this.reverse_){const e=this.index_.getCompare();n=(t,a)=>e(a,t)}else n=this.index_.getCompare();const i=e;assert(i.numChildren()===this.limit_,"");const l=new NamedNode(t,a),s=this.reverse_?i.getFirstChild(this.index_):i.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(i.hasChild(t)){const e=i.getImmediateChild(t);let d=o.getChildAfterChild(this.index_,s,this.reverse_);for(;null!=d&&(d.name===t||i.hasChild(d.name));)d=o.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:n(d,l);if(c&&!a.isEmpty()&&u>=0)return null!=r&&r.trackChildChange(changeChildChanged(t,a,e)),i.updateImmediateChild(t,a);{null!=r&&r.trackChildChange(changeChildRemoved(t,e));const a=i.updateImmediateChild(t,ChildrenNode.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=r&&r.trackChildChange(changeChildAdded(d.name,d.node)),a.updateImmediateChild(d.name,d.node)):a}}return a.isEmpty()?e:c&&n(s,l)>=0?(null!=r&&(r.trackChildChange(changeChildRemoved(s.name,s.node)),r.trackChildChange(changeChildAdded(t,a))),i.updateImmediateChild(t,a).updateImmediateChild(s.name,ChildrenNode.EMPTY_NODE)):e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const e=new QueryParams;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function queryParamsGetNodeFilter(e){return e.loadsAllData()?new IndexedFilter(e.getIndex()):e.hasLimit()?new LimitedFilter(e):new RangedFilter(e)}function queryParamsToRestQueryStringParameters(e){const t={};if(e.isDefault())return t;let a;if(e.index_===PRIORITY_INDEX?a="$priority":e.index_===VALUE_INDEX?a="$value":e.index_===KEY_INDEX?a="$key":(assert(e.index_ instanceof PathIndex,"Unrecognized index type!"),a=e.index_.toString()),t.orderBy=stringify(a),e.startSet_){const a=e.startAfterSet_?"startAfter":"startAt";t[a]=stringify(e.indexStartValue_),e.startNameSet_&&(t[a]+=","+stringify(e.indexStartName_))}if(e.endSet_){const a=e.endBeforeSet_?"endBefore":"endAt";t[a]=stringify(e.indexEndValue_),e.endNameSet_&&(t[a]+=","+stringify(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function queryParamsGetQueryObject(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let a=e.viewFrom_;""===a&&(a=e.isViewFromLeft()?"l":"r"),t.vf=a}return e.index_!==PRIORITY_INDEX&&(t.i=e.index_.toString()),t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ReadonlyRestClient extends ServerActions{constructor(e,t,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,a,o){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const n=ReadonlyRestClient.getListenId_(e,a),i={};this.listens_[n]=i;const l=queryParamsToRestQueryStringParameters(e._queryParams);this.restRequest_(r+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(r,l,!1,a),safeGet(this.listens_,n)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",o(t,null)}})}unlisten(e,t){const a=ReadonlyRestClient.getListenId_(e,t);delete this.listens_[a]}get(e){const t=queryParamsToRestQueryStringParameters(e._queryParams),a=e._path.toString(),o=new Deferred;return this.restRequest_(a+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(a,r,!1,null),o.resolve(r)):o.reject(new Error(r))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},a){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,r])=>{o&&o.accessToken&&(t.auth=o.accessToken),r&&r.token&&(t.ac=r.token);const n=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+querystring(t);this.log_("Sending REST request for "+n);const i=new XMLHttpRequest;i.onreadystatechange=()=>{if(a&&4===i.readyState){this.log_("REST Response for "+n+" received. status:",i.status,"response:",i.responseText);let e=null;if(i.status>=200&&i.status<300){try{e=jsonEval(i.responseText)}catch(e2){warn$1("Failed to parse JSON response for "+n+": "+i.responseText)}a(null,e)}else 401!==i.status&&404!==i.status&&warn$1("Got unsuccessful REST response for "+n+" Status: "+i.status),a(i.status);a=null}},i.open("GET",n,!0),i.send()})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(e,t,a){if(pathIsEmpty(t))e.value=a,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,a);else{const o=pathGetFront(t);e.children.has(o)||e.children.set(o,newSparseSnapshotTree());sparseSnapshotTreeRemember(e.children.get(o),t=pathPopFront(t),a)}}function sparseSnapshotTreeForEachTree(e,t,a){null!==e.value?a(t,e.value):sparseSnapshotTreeForEachChild(e,(e,o)=>{sparseSnapshotTreeForEachTree(o,new Path(t.toString()+"/"+e),a)})}function sparseSnapshotTreeForEachChild(e,t){e.children.forEach((e,a)=>{t(a,e)})}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class StatsListener{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&each(this.last_,(e,a)=>{t[e]=t[e]-a}),this.last_=e,t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const FIRST_STATS_MIN_TIME=1e4,FIRST_STATS_MAX_TIME=3e4,REPORT_STATS_INTERVAL=3e5;class StatsReporter{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new StatsListener(e);const a=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),t={};let a=!1;each(e,(e,o)=>{o>0&&contains(this.statsToReport_,e)&&(t[e]=o,a=!0)}),a&&this.server_.reportStats(t),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*REPORT_STATS_INTERVAL))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var OperationType,OperationType2;function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */OperationType2=OperationType||(OperationType={}),OperationType2[OperationType2.OVERWRITE=0]="OVERWRITE",OperationType2[OperationType2.MERGE=1]="MERGE",OperationType2[OperationType2.ACK_USER_WRITE=2]="ACK_USER_WRITE",OperationType2[OperationType2.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class AckUserWrite{constructor(e,t,a){this.path=e,this.affectedTree=t,this.revert=a,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(e){if(pathIsEmpty(this.path)){if(null!=this.affectedTree.value)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Path(e));return new AckUserWrite(newEmptyPath(),t,this.revert)}}return assert(pathGetFront(this.path)===e,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ListenComplete{constructor(e,t){this.source=e,this.path=t,this.type=OperationType.LISTEN_COMPLETE}operationForChild(e){return pathIsEmpty(this.path)?new ListenComplete(this.source,newEmptyPath()):new ListenComplete(this.source,pathPopFront(this.path))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Overwrite{constructor(e,t,a){this.source=e,this.path=t,this.snap=a,this.type=OperationType.OVERWRITE}operationForChild(e){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(e)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Merge{constructor(e,t,a){this.source=e,this.path=t,this.children=a,this.type=OperationType.MERGE}operationForChild(e){if(pathIsEmpty(this.path)){const t=this.children.subtree(new Path(e));return t.isEmpty()?null:t.value?new Overwrite(this.source,newEmptyPath(),t.value):new Merge(this.source,newEmptyPath(),t)}return assert(pathGetFront(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class CacheNode{constructor(e,t,a){this.node_=e,this.fullyInitialized_=t,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pathIsEmpty(e))return this.isFullyInitialized()&&!this.filtered_;const t=pathGetFront(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class EventGenerator{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eventGeneratorGenerateEventsForChanges(e,t,a,o){const r=[],n=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&n.push(changeChildMoved(t.childName,t.snapshotNode))}),eventGeneratorGenerateEventsForType(e,r,"child_removed",t,o,a),eventGeneratorGenerateEventsForType(e,r,"child_added",t,o,a),eventGeneratorGenerateEventsForType(e,r,"child_moved",n,o,a),eventGeneratorGenerateEventsForType(e,r,"child_changed",t,o,a),eventGeneratorGenerateEventsForType(e,r,"value",t,o,a),r}function eventGeneratorGenerateEventsForType(e,t,a,o,r,n){const i=o.filter(e=>e.type===a);i.sort((t,a)=>eventGeneratorCompareChanges(e,t,a)),i.forEach(a=>{const o=eventGeneratorMaterializeSingleChange(e,a,n);r.forEach(r=>{r.respondsTo(a.type)&&t.push(r.createEvent(o,e.query_))})})}function eventGeneratorMaterializeSingleChange(e,t,a){return"value"===t.type||"child_removed"===t.type||(t.prevName=a.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function eventGeneratorCompareChanges(e,t,a){if(null==t.childName||null==a.childName)throw assertionError("Should only compare child_ events.");const o=new NamedNode(t.childName,t.snapshotNode),r=new NamedNode(a.childName,a.snapshotNode);return e.index_.compare(o,r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function newViewCache(e,t){return{eventCache:e,serverCache:t}}function viewCacheUpdateEventSnap(e,t,a,o){return newViewCache(new CacheNode(t,a,o),e.serverCache)}function viewCacheUpdateServerSnap(e,t,a,o){return newViewCache(e.eventCache,new CacheNode(t,a,o))}function viewCacheGetCompleteEventSnap(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(e,t=EmptyChildren()){this.value=e,this.children=t}static fromObject(e){let t=new ImmutableTree(null);return each(e,(e,a)=>{t=t.set(new Path(e),a)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(e))return null;{const a=pathGetFront(e),o=this.children.get(a);if(null!==o){const r=o.findRootMostMatchingPathAndValue(pathPopFront(e),t);if(null!=r){return{path:pathChild(new Path(a),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pathIsEmpty(e))return this;{const t=pathGetFront(e),a=this.children.get(t);return null!==a?a.subtree(pathPopFront(e)):new ImmutableTree(null)}}set(e,t){if(pathIsEmpty(e))return new ImmutableTree(t,this.children);{const a=pathGetFront(e),o=(this.children.get(a)||new ImmutableTree(null)).set(pathPopFront(e),t),r=this.children.insert(a,o);return new ImmutableTree(this.value,r)}}remove(e){if(pathIsEmpty(e))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const t=pathGetFront(e),a=this.children.get(t);if(a){const o=a.remove(pathPopFront(e));let r;return r=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&r.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,r)}return this}}get(e){if(pathIsEmpty(e))return this.value;{const t=pathGetFront(e),a=this.children.get(t);return a?a.get(pathPopFront(e)):null}}setTree(e,t){if(pathIsEmpty(e))return t;{const a=pathGetFront(e),o=(this.children.get(a)||new ImmutableTree(null)).setTree(pathPopFront(e),t);let r;return r=o.isEmpty()?this.children.remove(a):this.children.insert(a,o),new ImmutableTree(this.value,r)}}fold(e){return this.fold_(newEmptyPath(),e)}fold_(e,t){const a={};return this.children.inorderTraversal((o,r)=>{a[o]=r.fold_(pathChild(e,o),t)}),t(e,this.value,a)}findOnPath(e,t){return this.findOnPath_(e,newEmptyPath(),t)}findOnPath_(e,t,a){const o=!!this.value&&a(t,this.value);if(o)return o;if(pathIsEmpty(e))return null;{const o=pathGetFront(e),r=this.children.get(o);return r?r.findOnPath_(pathPopFront(e),pathChild(t,o),a):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,newEmptyPath(),t)}foreachOnPath_(e,t,a){if(pathIsEmpty(e))return this;{this.value&&a(t,this.value);const o=pathGetFront(e),r=this.children.get(o);return r?r.foreachOnPath_(pathPopFront(e),pathChild(t,o),a):new ImmutableTree(null)}}foreach(e){this.foreach_(newEmptyPath(),e)}foreach_(e,t){this.children.inorderTraversal((a,o)=>{o.foreach_(pathChild(e,a),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,a)=>{a.value&&e(t,a.value)})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class CompoundWrite{constructor(e){this.writeTree_=e}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(e,t,a){if(pathIsEmpty(t))return new CompoundWrite(new ImmutableTree(a));{const o=e.writeTree_.findRootMostValueAndPath(t);if(null!=o){const r=o.path;let n=o.value;const i=newRelativePath(r,t);return n=n.updateChild(i,a),new CompoundWrite(e.writeTree_.set(r,n))}{const o=new ImmutableTree(a),r=e.writeTree_.setTree(t,o);return new CompoundWrite(r)}}}function compoundWriteAddWrites(e,t,a){let o=e;return each(a,(e,a)=>{o=compoundWriteAddWrite(o,pathChild(t,e),a)}),o}function compoundWriteRemoveWrite(e,t){if(pathIsEmpty(t))return CompoundWrite.empty();{const a=e.writeTree_.setTree(t,new ImmutableTree(null));return new CompoundWrite(a)}}function compoundWriteHasCompleteWrite(e,t){return null!=compoundWriteGetCompleteNode(e,t)}function compoundWriteGetCompleteNode(e,t){const a=e.writeTree_.findRootMostValueAndPath(t);return null!=a?e.writeTree_.get(a.path).getChild(newRelativePath(a.path,t)):null}function compoundWriteGetCompleteChildren(e){const t=[],a=e.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(PRIORITY_INDEX,(e,a)=>{t.push(new NamedNode(e,a))}):e.writeTree_.children.inorderTraversal((e,a)=>{null!=a.value&&t.push(new NamedNode(e,a.value))}),t}function compoundWriteChildCompoundWrite(e,t){if(pathIsEmpty(t))return e;{const a=compoundWriteGetCompleteNode(e,t);return new CompoundWrite(null!=a?new ImmutableTree(a):e.writeTree_.subtree(t))}}function compoundWriteIsEmpty(e){return e.writeTree_.isEmpty()}function compoundWriteApply(e,t){return applySubtreeWrite(newEmptyPath(),e.writeTree_,t)}function applySubtreeWrite(e,t,a){if(null!=t.value)return a.updateChild(e,t.value);{let o=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?(assert(null!==r.value,"Priority writes must always be leaf nodes"),o=r.value):a=applySubtreeWrite(pathChild(e,t),r,a)}),a.getChild(e).isEmpty()||null===o||(a=a.updateChild(pathChild(e,".priority"),o)),a}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function writeTreeChildWrites(e,t){return newWriteTreeRef(t,e)}function writeTreeAddOverwrite(e,t,a,o,r){assert(o>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:a,writeId:o,visible:r}),r&&(e.visibleWrites=compoundWriteAddWrite(e.visibleWrites,t,a)),e.lastWriteId=o}function writeTreeGetWrite(e,t){for(let a=0;a<e.allWrites.length;a++){const o=e.allWrites[a];if(o.writeId===t)return o}return null}function writeTreeRemoveWrite(e,t){const a=e.allWrites.findIndex(e=>e.writeId===t);assert(a>=0,"removeWrite called with nonexistent writeId.");const o=e.allWrites[a];e.allWrites.splice(a,1);let r=o.visible,n=!1,i=e.allWrites.length-1;for(;r&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=a&&writeTreeRecordContainsPath_(t,o.path)?r=!1:pathContains(o.path,t.path)&&(n=!0)),i--}if(r){if(n)return writeTreeResetTree_(e),!0;if(o.snap)e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,o.path);else{each(o.children,t=>{e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,pathChild(o.path,t))})}return!0}return!1}function writeTreeRecordContainsPath_(e,t){if(e.snap)return pathContains(e.path,t);for(const a in e.children)if(e.children.hasOwnProperty(a)&&pathContains(pathChild(e.path,a),t))return!0;return!1}function writeTreeResetTree_(e){e.visibleWrites=writeTreeLayerTree_(e.allWrites,writeTreeDefaultFilter_,newEmptyPath()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function writeTreeDefaultFilter_(e){return e.visible}function writeTreeLayerTree_(e,t,a){let o=CompoundWrite.empty();for(let r=0;r<e.length;++r){const n=e[r];if(t(n)){const e=n.path;let t;if(n.snap)pathContains(a,e)?(t=newRelativePath(a,e),o=compoundWriteAddWrite(o,t,n.snap)):pathContains(e,a)&&(t=newRelativePath(e,a),o=compoundWriteAddWrite(o,newEmptyPath(),n.snap.getChild(t)));else{if(!n.children)throw assertionError("WriteRecord should have .snap or .children");if(pathContains(a,e))t=newRelativePath(a,e),o=compoundWriteAddWrites(o,t,n.children);else if(pathContains(e,a))if(t=newRelativePath(e,a),pathIsEmpty(t))o=compoundWriteAddWrites(o,newEmptyPath(),n.children);else{const e=safeGet(n.children,pathGetFront(t));if(e){const a=e.getChild(pathPopFront(t));o=compoundWriteAddWrite(o,newEmptyPath(),a)}}}}}return o}function writeTreeCalcCompleteEventCache(e,t,a,o,r){if(o||r){const n=compoundWriteChildCompoundWrite(e.visibleWrites,t);if(!r&&compoundWriteIsEmpty(n))return a;if(r||null!=a||compoundWriteHasCompleteWrite(n,newEmptyPath())){const n=function(e){return(e.visible||r)&&(!o||!~o.indexOf(e.writeId))&&(pathContains(e.path,t)||pathContains(t,e.path))};return compoundWriteApply(writeTreeLayerTree_(e.allWrites,n,t),a||ChildrenNode.EMPTY_NODE)}return null}{const o=compoundWriteGetCompleteNode(e.visibleWrites,t);if(null!=o)return o;{const o=compoundWriteChildCompoundWrite(e.visibleWrites,t);if(compoundWriteIsEmpty(o))return a;if(null!=a||compoundWriteHasCompleteWrite(o,newEmptyPath())){return compoundWriteApply(o,a||ChildrenNode.EMPTY_NODE)}return null}}}function writeTreeCalcCompleteEventChildren(e,t,a){let o=ChildrenNode.EMPTY_NODE;const r=compoundWriteGetCompleteNode(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(PRIORITY_INDEX,(e,t)=>{o=o.updateImmediateChild(e,t)}),o;if(a){const r=compoundWriteChildCompoundWrite(e.visibleWrites,t);return a.forEachChild(PRIORITY_INDEX,(e,t)=>{const a=compoundWriteApply(compoundWriteChildCompoundWrite(r,new Path(e)),t);o=o.updateImmediateChild(e,a)}),compoundWriteGetCompleteChildren(r).forEach(e=>{o=o.updateImmediateChild(e.name,e.node)}),o}return compoundWriteGetCompleteChildren(compoundWriteChildCompoundWrite(e.visibleWrites,t)).forEach(e=>{o=o.updateImmediateChild(e.name,e.node)}),o}function writeTreeCalcEventCacheAfterServerOverwrite(e,t,a,o,r){assert(o||r,"Either existingEventSnap or existingServerSnap must exist");const n=pathChild(t,a);if(compoundWriteHasCompleteWrite(e.visibleWrites,n))return null;{const t=compoundWriteChildCompoundWrite(e.visibleWrites,n);return compoundWriteIsEmpty(t)?r.getChild(a):compoundWriteApply(t,r.getChild(a))}}function writeTreeCalcCompleteChild(e,t,a,o){const r=pathChild(t,a),n=compoundWriteGetCompleteNode(e.visibleWrites,r);if(null!=n)return n;if(o.isCompleteForChild(a)){return compoundWriteApply(compoundWriteChildCompoundWrite(e.visibleWrites,r),o.getNode().getImmediateChild(a))}return null}function writeTreeShadowingWrite(e,t){return compoundWriteGetCompleteNode(e.visibleWrites,t)}function writeTreeCalcIndexedSlice(e,t,a,o,r,n,i){let l;const s=compoundWriteChildCompoundWrite(e.visibleWrites,t),c=compoundWriteGetCompleteNode(s,newEmptyPath());if(null!=c)l=c;else{if(null==a)return[];l=compoundWriteApply(s,a)}if(l=l.withIndex(i),l.isEmpty()||l.isLeafNode())return[];{const e=[],t=i.getCompare(),a=n?l.getReverseIteratorFrom(o,i):l.getIteratorFrom(o,i);let s=a.getNext();for(;s&&e.length<r;)0!==t(s,o)&&e.push(s),s=a.getNext();return e}}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(e,t,a,o){return writeTreeCalcCompleteEventCache(e.writeTree,e.treePath,t,a,o)}function writeTreeRefCalcCompleteEventChildren(e,t){return writeTreeCalcCompleteEventChildren(e.writeTree,e.treePath,t)}function writeTreeRefCalcEventCacheAfterServerOverwrite(e,t,a,o){return writeTreeCalcEventCacheAfterServerOverwrite(e.writeTree,e.treePath,t,a,o)}function writeTreeRefShadowingWrite(e,t){return writeTreeShadowingWrite(e.writeTree,pathChild(e.treePath,t))}function writeTreeRefCalcIndexedSlice(e,t,a,o,r,n){return writeTreeCalcIndexedSlice(e.writeTree,e.treePath,t,a,o,r,n)}function writeTreeRefCalcCompleteChild(e,t,a){return writeTreeCalcCompleteChild(e.writeTree,e.treePath,t,a)}function writeTreeRefChild(e,t){return newWriteTreeRef(pathChild(e.treePath,t),e.writeTree)}function newWriteTreeRef(e,t){return{treePath:e,writeTree:t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,a=e.childName;assert("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),assert(".priority"!==a,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const r=o.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(a,changeChildChanged(a,e.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(a);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(a,changeChildRemoved(a,o.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(a,changeChildAdded(a,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw assertionError("Illegal combination of changes: "+e+" occurred after "+o);this.changeMap.set(a,changeChildChanged(a,e.snapshotNode,o.oldSnap))}}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class NoCompleteChildSource_{getCompleteChild(e){return null}getChildAfterChild(e,t,a){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(e,t,a=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=a}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,e,t)}}getChildAfterChild(e,t,a){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),r=writeTreeRefCalcIndexedSlice(this.writes_,o,t,1,a,e);return 0===r.length?null:r[0]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function newViewProcessor(e){return{filter:e}}function viewProcessorAssertIndexed(e,t){assert(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),assert(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(e,t,a,o,r){const n=new ChildChangeAccumulator;let i,l;if(a.type===OperationType.OVERWRITE){const s=a;s.source.fromUser?i=viewProcessorApplyUserOverwrite(e,t,s.path,s.snap,o,r,n):(assert(s.source.fromServer,"Unknown source."),l=s.source.tagged||t.serverCache.isFiltered()&&!pathIsEmpty(s.path),i=viewProcessorApplyServerOverwrite(e,t,s.path,s.snap,o,r,l,n))}else if(a.type===OperationType.MERGE){const s=a;s.source.fromUser?i=viewProcessorApplyUserMerge(e,t,s.path,s.children,o,r,n):(assert(s.source.fromServer,"Unknown source."),l=s.source.tagged||t.serverCache.isFiltered(),i=viewProcessorApplyServerMerge(e,t,s.path,s.children,o,r,l,n))}else if(a.type===OperationType.ACK_USER_WRITE){const l=a;i=l.revert?viewProcessorRevertUserWrite(e,t,l.path,o,r,n):viewProcessorAckUserWrite(e,t,l.path,l.affectedTree,o,r,n)}else{if(a.type!==OperationType.LISTEN_COMPLETE)throw assertionError("Unknown operation type: "+a.type);i=viewProcessorListenComplete(e,t,a.path,o,n)}const s=n.getChanges();return viewProcessorMaybeAddValueEvent(t,i,s),{viewCache:i,changes:s}}function viewProcessorMaybeAddValueEvent(e,t,a){const o=t.eventCache;if(o.isFullyInitialized()){const r=o.getNode().isLeafNode()||o.getNode().isEmpty(),n=viewCacheGetCompleteEventSnap(e);(a.length>0||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(n)||!o.getNode().getPriority().equals(n.getPriority()))&&a.push(changeValue(viewCacheGetCompleteEventSnap(t)))}}function viewProcessorGenerateEventCacheAfterServerEvent(e,t,a,o,r,n){const i=t.eventCache;if(null!=writeTreeRefShadowingWrite(o,a))return t;{let l,s;if(pathIsEmpty(a))if(assert(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const a=viewCacheGetCompleteServerSnap(t),r=writeTreeRefCalcCompleteEventChildren(o,a instanceof ChildrenNode?a:ChildrenNode.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),r,n)}else{const a=writeTreeRefCalcCompleteEventCache(o,viewCacheGetCompleteServerSnap(t));l=e.filter.updateFullNode(t.eventCache.getNode(),a,n)}else{const c=pathGetFront(a);if(".priority"===c){assert(1===pathGetLength(a),"Can't have a priority with additional path components");const r=i.getNode();s=t.serverCache.getNode();const n=writeTreeRefCalcEventCacheAfterServerOverwrite(o,a,r,s);l=null!=n?e.filter.updatePriority(r,n):i.getNode()}else{const d=pathPopFront(a);let u;if(i.isCompleteForChild(c)){s=t.serverCache.getNode();const e=writeTreeRefCalcEventCacheAfterServerOverwrite(o,a,i.getNode(),s);u=null!=e?i.getNode().getImmediateChild(c).updateChild(d,e):i.getNode().getImmediateChild(c)}else u=writeTreeRefCalcCompleteChild(o,c,t.serverCache);l=null!=u?e.filter.updateChild(i.getNode(),c,u,d,r,n):i.getNode()}}return viewCacheUpdateEventSnap(t,l,i.isFullyInitialized()||pathIsEmpty(a),e.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(e,t,a,o,r,n,i,l){const s=t.serverCache;let c;const d=i?e.filter:e.filter.getIndexedFilter();if(pathIsEmpty(a))c=d.updateFullNode(s.getNode(),o,null);else if(d.filtersNodes()&&!s.isFiltered()){const e=s.getNode().updateChild(a,o);c=d.updateFullNode(s.getNode(),e,null)}else{const e=pathGetFront(a);if(!s.isCompleteForPath(a)&&pathGetLength(a)>1)return t;const r=pathPopFront(a),n=s.getNode().getImmediateChild(e).updateChild(r,o);c=".priority"===e?d.updatePriority(s.getNode(),n):d.updateChild(s.getNode(),e,n,r,NO_COMPLETE_CHILD_SOURCE,null)}const u=viewCacheUpdateServerSnap(t,c,s.isFullyInitialized()||pathIsEmpty(a),d.filtersNodes());return viewProcessorGenerateEventCacheAfterServerEvent(e,u,a,r,new WriteTreeCompleteChildSource(r,u,n),l)}function viewProcessorApplyUserOverwrite(e,t,a,o,r,n,i){const l=t.eventCache;let s,c;const d=new WriteTreeCompleteChildSource(r,t,n);if(pathIsEmpty(a))c=e.filter.updateFullNode(t.eventCache.getNode(),o,i),s=viewCacheUpdateEventSnap(t,c,!0,e.filter.filtersNodes());else{const r=pathGetFront(a);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),o),s=viewCacheUpdateEventSnap(t,c,l.isFullyInitialized(),l.isFiltered());else{const n=pathPopFront(a),c=l.getNode().getImmediateChild(r);let u;if(pathIsEmpty(n))u=o;else{const e=d.getCompleteChild(r);u=null!=e?".priority"===pathGetBack(n)&&e.getChild(pathParent(n)).isEmpty()?e:e.updateChild(n,o):ChildrenNode.EMPTY_NODE}if(c.equals(u))s=t;else{s=viewCacheUpdateEventSnap(t,e.filter.updateChild(l.getNode(),r,u,n,d,i),l.isFullyInitialized(),e.filter.filtersNodes())}}}return s}function viewProcessorCacheHasChild(e,t){return e.eventCache.isCompleteForChild(t)}function viewProcessorApplyUserMerge(e,t,a,o,r,n,i){let l=t;return o.foreach((o,s)=>{const c=pathChild(a,o);viewProcessorCacheHasChild(t,pathGetFront(c))&&(l=viewProcessorApplyUserOverwrite(e,l,c,s,r,n,i))}),o.foreach((o,s)=>{const c=pathChild(a,o);viewProcessorCacheHasChild(t,pathGetFront(c))||(l=viewProcessorApplyUserOverwrite(e,l,c,s,r,n,i))}),l}function viewProcessorApplyMerge(e,t,a){return a.foreach((e,a)=>{t=t.updateChild(e,a)}),t}function viewProcessorApplyServerMerge(e,t,a,o,r,n,i,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let s,c=t;s=pathIsEmpty(a)?o:new ImmutableTree(null).setTree(a,o);const d=t.serverCache.getNode();return s.children.inorderTraversal((a,o)=>{if(d.hasChild(a)){const s=t.serverCache.getNode().getImmediateChild(a),d=viewProcessorApplyMerge(e,s,o);c=viewProcessorApplyServerOverwrite(e,c,new Path(a),d,r,n,i,l)}}),s.children.inorderTraversal((a,o)=>{const s=!t.serverCache.isCompleteForChild(a)&&null===o.value;if(!d.hasChild(a)&&!s){const s=t.serverCache.getNode().getImmediateChild(a),d=viewProcessorApplyMerge(e,s,o);c=viewProcessorApplyServerOverwrite(e,c,new Path(a),d,r,n,i,l)}}),c}function viewProcessorAckUserWrite(e,t,a,o,r,n,i){if(null!=writeTreeRefShadowingWrite(r,a))return t;const l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=o.value){if(pathIsEmpty(a)&&s.isFullyInitialized()||s.isCompleteForPath(a))return viewProcessorApplyServerOverwrite(e,t,a,s.getNode().getChild(a),r,n,l,i);if(pathIsEmpty(a)){let o=new ImmutableTree(null);return s.getNode().forEachChild(KEY_INDEX,(e,t)=>{o=o.set(new Path(e),t)}),viewProcessorApplyServerMerge(e,t,a,o,r,n,l,i)}return t}{let c=new ImmutableTree(null);return o.foreach((e,t)=>{const o=pathChild(a,e);s.isCompleteForPath(o)&&(c=c.set(e,s.getNode().getChild(o)))}),viewProcessorApplyServerMerge(e,t,a,c,r,n,l,i)}}function viewProcessorListenComplete(e,t,a,o,r){const n=t.serverCache;return viewProcessorGenerateEventCacheAfterServerEvent(e,viewCacheUpdateServerSnap(t,n.getNode(),n.isFullyInitialized()||pathIsEmpty(a),n.isFiltered()),a,o,NO_COMPLETE_CHILD_SOURCE,r)}function viewProcessorRevertUserWrite(e,t,a,o,r,n){let i;if(null!=writeTreeRefShadowingWrite(o,a))return t;{const l=new WriteTreeCompleteChildSource(o,t,r),s=t.eventCache.getNode();let c;if(pathIsEmpty(a)||".priority"===pathGetFront(a)){let a;if(t.serverCache.isFullyInitialized())a=writeTreeRefCalcCompleteEventCache(o,viewCacheGetCompleteServerSnap(t));else{const e=t.serverCache.getNode();assert(e instanceof ChildrenNode,"serverChildren would be complete if leaf node"),a=writeTreeRefCalcCompleteEventChildren(o,e)}c=e.filter.updateFullNode(s,a,n)}else{const r=pathGetFront(a);let d=writeTreeRefCalcCompleteChild(o,r,t.serverCache);null==d&&t.serverCache.isCompleteForChild(r)&&(d=s.getImmediateChild(r)),c=null!=d?e.filter.updateChild(s,r,d,pathPopFront(a),l,n):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(s,r,ChildrenNode.EMPTY_NODE,pathPopFront(a),l,n):s,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=writeTreeRefCalcCompleteEventCache(o,viewCacheGetCompleteServerSnap(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,n)))}return i=t.serverCache.isFullyInitialized()||null!=writeTreeRefShadowingWrite(o,newEmptyPath()),viewCacheUpdateEventSnap(t,c,i,e.filter.filtersNodes())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class View{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new IndexedFilter(a.getIndex()),r=queryParamsGetNodeFilter(a);this.processor_=newViewProcessor(r);const n=t.serverCache,i=t.eventCache,l=o.updateFullNode(ChildrenNode.EMPTY_NODE,n.getNode(),null),s=r.updateFullNode(ChildrenNode.EMPTY_NODE,i.getNode(),null),c=new CacheNode(l,n.isFullyInitialized(),o.filtersNodes()),d=new CacheNode(s,i.isFullyInitialized(),r.filtersNodes());this.viewCache_=newViewCache(d,c),this.eventGenerator_=new EventGenerator(this.query_)}get query(){return this.query_}}function viewGetServerCache(e){return e.viewCache_.serverCache.getNode()}function viewGetCompleteNode(e){return viewCacheGetCompleteEventSnap(e.viewCache_)}function viewGetCompleteServerCache(e,t){const a=viewCacheGetCompleteServerSnap(e.viewCache_);return a&&(e.query._queryParams.loadsAllData()||!pathIsEmpty(t)&&!a.getImmediateChild(pathGetFront(t)).isEmpty())?a.getChild(t):null}function viewIsEmpty(e){return 0===e.eventRegistrations_.length}function viewAddEventRegistration(e,t){e.eventRegistrations_.push(t)}function viewRemoveEventRegistration(e,t,a){const o=[];if(a){assert(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(a,r);t&&o.push(t)})}if(t){let a=[];for(let o=0;o<e.eventRegistrations_.length;++o){const r=e.eventRegistrations_[o];if(r.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(r)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return o}function viewApplyOperation(e,t,a,o){t.type===OperationType.MERGE&&null!==t.source.queryId&&(assert(viewCacheGetCompleteServerSnap(e.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,n=viewProcessorApplyOperation(e.processor_,r,t,a,o);return viewProcessorAssertIndexed(e.processor_,n.viewCache),assert(n.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=n.viewCache,viewGenerateEventsForChanges_(e,n.changes,n.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(e,t){const a=e.viewCache_.eventCache,o=[];if(!a.getNode().isLeafNode()){a.getNode().forEachChild(PRIORITY_INDEX,(e,t)=>{o.push(changeChildAdded(e,t))})}return a.isFullyInitialized()&&o.push(changeValue(a.getNode())),viewGenerateEventsForChanges_(e,o,a.getNode(),t)}function viewGenerateEventsForChanges_(e,t,a,o){const r=o?[o]:e.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(e.eventGenerator_,t,a,r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let referenceConstructor$1,referenceConstructor;class SyncPoint{constructor(){this.views=new Map}}function syncPointSetReferenceConstructor(e){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=e}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(e){return 0===e.views.size}function syncPointApplyOperation(e,t,a,o){const r=t.source.queryId;if(null!==r){const n=e.views.get(r);return assert(null!=n,"SyncTree gave us an op for an invalid query."),viewApplyOperation(n,t,a,o)}{let r=[];for(const n of e.views.values())r=r.concat(viewApplyOperation(n,t,a,o));return r}}function syncPointGetView(e,t,a,o,r){const n=t._queryIdentifier,i=e.views.get(n);if(!i){let e=writeTreeRefCalcCompleteEventCache(a,r?o:null),n=!1;e?n=!0:o instanceof ChildrenNode?(e=writeTreeRefCalcCompleteEventChildren(a,o),n=!1):(e=ChildrenNode.EMPTY_NODE,n=!1);const i=newViewCache(new CacheNode(e,n,!1),new CacheNode(o,r,!1));return new View(t,i)}return i}function syncPointAddEventRegistration(e,t,a,o,r,n){const i=syncPointGetView(e,t,o,r,n);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),viewAddEventRegistration(i,a),viewGetInitialEvents(i,a)}function syncPointRemoveEventRegistration(e,t,a,o){const r=t._queryIdentifier,n=[];let i=[];const l=syncPointHasCompleteView(e);if("default"===r)for(const[s,c]of e.views.entries())i=i.concat(viewRemoveEventRegistration(c,a,o)),viewIsEmpty(c)&&(e.views.delete(s),c.query._queryParams.loadsAllData()||n.push(c.query));else{const t=e.views.get(r);t&&(i=i.concat(viewRemoveEventRegistration(t,a,o)),viewIsEmpty(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||n.push(t.query)))}return l&&!syncPointHasCompleteView(e)&&n.push(new(syncPointGetReferenceConstructor())(t._repo,t._path)),{removed:n,events:i}}function syncPointGetQueryViews(e){const t=[];for(const a of e.views.values())a.query._queryParams.loadsAllData()||t.push(a);return t}function syncPointGetCompleteServerCache(e,t){let a=null;for(const o of e.views.values())a=a||viewGetCompleteServerCache(o,t);return a}function syncPointViewForQuery(e,t){if(t._queryParams.loadsAllData())return syncPointGetCompleteView(e);{const a=t._queryIdentifier;return e.views.get(a)}}function syncPointViewExistsForQuery(e,t){return null!=syncPointViewForQuery(e,t)}function syncPointHasCompleteView(e){return null!=syncPointGetCompleteView(e)}function syncPointGetCompleteView(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function syncTreeSetReferenceConstructor(e){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=e}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}let syncTreeNextQueryTag_=1;class SyncTree{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(e,t,a,o,r){return writeTreeAddOverwrite(e.pendingWriteTree_,t,a,o,r),r?syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceUser(),t,a)):[]}function syncTreeAckUserWrite(e,t,a=!1){const o=writeTreeGetWrite(e.pendingWriteTree_,t);if(writeTreeRemoveWrite(e.pendingWriteTree_,t)){let t=new ImmutableTree(null);return null!=o.snap?t=t.set(newEmptyPath(),!0):each(o.children,e=>{t=t.set(new Path(e),!0)}),syncTreeApplyOperationToSyncPoints_(e,new AckUserWrite(o.path,t,a))}return[]}function syncTreeApplyServerOverwrite(e,t,a){return syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceServer(),t,a))}function syncTreeApplyServerMerge(e,t,a){const o=ImmutableTree.fromObject(a);return syncTreeApplyOperationToSyncPoints_(e,new Merge(newOperationSourceServer(),t,o))}function syncTreeApplyListenComplete(e,t){return syncTreeApplyOperationToSyncPoints_(e,new ListenComplete(newOperationSourceServer(),t))}function syncTreeApplyTaggedListenComplete(e,t,a){const o=syncTreeQueryKeyForTag_(e,a);if(o){const a=syncTreeParseQueryKey_(o),r=a.path,n=a.queryId,i=newRelativePath(r,t);return syncTreeApplyTaggedOperation_(e,r,new ListenComplete(newOperationSourceServerTaggedQuery(n),i))}return[]}function syncTreeRemoveEventRegistration(e,t,a,o,r=!1){const n=t._path,i=e.syncPointTree_.get(n);let l=[];if(i&&("default"===t._queryIdentifier||syncPointViewExistsForQuery(i,t))){const s=syncPointRemoveEventRegistration(i,t,a,o);syncPointIsEmpty(i)&&(e.syncPointTree_=e.syncPointTree_.remove(n));const c=s.removed;if(l=s.events,!r){const a=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(n,(e,t)=>syncPointHasCompleteView(t));if(a&&!r){const t=e.syncPointTree_.subtree(n);if(!t.isEmpty()){const a=syncTreeCollectDistinctViewsForSubTree_(t);for(let t=0;t<a.length;++t){const o=a[t],r=o.query,n=syncTreeCreateListenerForView_(e,o);e.listenProvider_.startListening(syncTreeQueryForListening_(r),syncTreeTagForQuery(e,r),n.hashFn,n.onComplete)}}}if(!r&&c.length>0&&!o)if(a){const a=null;e.listenProvider_.stopListening(syncTreeQueryForListening_(t),a)}else c.forEach(t=>{const a=e.queryToTagMap.get(syncTreeMakeQueryKey_(t));e.listenProvider_.stopListening(syncTreeQueryForListening_(t),a)})}syncTreeRemoveTags_(e,c)}return l}function syncTreeApplyTaggedQueryOverwrite(e,t,a,o){const r=syncTreeQueryKeyForTag_(e,o);if(null!=r){const o=syncTreeParseQueryKey_(r),n=o.path,i=o.queryId,l=newRelativePath(n,t);return syncTreeApplyTaggedOperation_(e,n,new Overwrite(newOperationSourceServerTaggedQuery(i),l,a))}return[]}function syncTreeApplyTaggedQueryMerge(e,t,a,o){const r=syncTreeQueryKeyForTag_(e,o);if(r){const o=syncTreeParseQueryKey_(r),n=o.path,i=o.queryId,l=newRelativePath(n,t),s=ImmutableTree.fromObject(a);return syncTreeApplyTaggedOperation_(e,n,new Merge(newOperationSourceServerTaggedQuery(i),l,s))}return[]}function syncTreeAddEventRegistration(e,t,a,o=!1){const r=t._path;let n=null,i=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const a=newRelativePath(e,r);n=n||syncPointGetCompleteServerCache(t,a),i=i||syncPointHasCompleteView(t)});let l,s=e.syncPointTree_.get(r);if(s?(i=i||syncPointHasCompleteView(s),n=n||syncPointGetCompleteServerCache(s,newEmptyPath())):(s=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=n)l=!0;else{l=!1,n=ChildrenNode.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const a=syncPointGetCompleteServerCache(t,newEmptyPath());a&&(n=n.updateImmediateChild(e,a))})}const c=syncPointViewExistsForQuery(s,t);if(!c&&!t._queryParams.loadsAllData()){const a=syncTreeMakeQueryKey_(t);assert(!e.queryToTagMap.has(a),"View does not exist, but we have a tag");const o=syncTreeGetNextQueryTag_();e.queryToTagMap.set(a,o),e.tagToQueryMap.set(o,a)}let d=syncPointAddEventRegistration(s,t,a,writeTreeChildWrites(e.pendingWriteTree_,r),n,l);if(!c&&!i&&!o){const a=syncPointViewForQuery(s,t);d=d.concat(syncTreeSetupListener_(e,t,a))}return d}function syncTreeCalcCompleteEventCache(e,t,a){const o=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,a)=>{const o=syncPointGetCompleteServerCache(a,newRelativePath(e,t));if(o)return o});return writeTreeCalcCompleteEventCache(o,t,r,a,!0)}function syncTreeGetServerValue(e,t){const a=t._path;let o=null;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const r=newRelativePath(e,a);o=o||syncPointGetCompleteServerCache(t,r)});let r=e.syncPointTree_.get(a);r?o=o||syncPointGetCompleteServerCache(r,newEmptyPath()):(r=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(a,r));const n=null!=o,i=n?new CacheNode(o,!0,!1):null;return viewGetCompleteNode(syncPointGetView(r,t,writeTreeChildWrites(e.pendingWriteTree_,t._path),n?i.getNode():ChildrenNode.EMPTY_NODE,n))}function syncTreeApplyOperationToSyncPoints_(e,t){return syncTreeApplyOperationHelper_(t,e.syncPointTree_,null,writeTreeChildWrites(e.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(e,t,a,o){if(pathIsEmpty(e.path))return syncTreeApplyOperationDescendantsHelper_(e,t,a,o);{const r=t.get(newEmptyPath());null==a&&null!=r&&(a=syncPointGetCompleteServerCache(r,newEmptyPath()));let n=[];const i=pathGetFront(e.path),l=e.operationForChild(i),s=t.children.get(i);if(s&&l){const e=a?a.getImmediateChild(i):null,t=writeTreeRefChild(o,i);n=n.concat(syncTreeApplyOperationHelper_(l,s,e,t))}return r&&(n=n.concat(syncPointApplyOperation(r,e,o,a))),n}}function syncTreeApplyOperationDescendantsHelper_(e,t,a,o){const r=t.get(newEmptyPath());null==a&&null!=r&&(a=syncPointGetCompleteServerCache(r,newEmptyPath()));let n=[];return t.children.inorderTraversal((t,r)=>{const i=a?a.getImmediateChild(t):null,l=writeTreeRefChild(o,t),s=e.operationForChild(t);s&&(n=n.concat(syncTreeApplyOperationDescendantsHelper_(s,r,i,l)))}),r&&(n=n.concat(syncPointApplyOperation(r,e,o,a))),n}function syncTreeCreateListenerForView_(e,t){const a=t.query,o=syncTreeTagForQuery(e,a);return{hashFn:()=>(viewGetServerCache(t)||ChildrenNode.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return o?syncTreeApplyTaggedListenComplete(e,a._path,o):syncTreeApplyListenComplete(e,a._path);{const o=errorForServerCode(t,a);return syncTreeRemoveEventRegistration(e,a,null,o)}}}}function syncTreeTagForQuery(e,t){const a=syncTreeMakeQueryKey_(t);return e.queryToTagMap.get(a)}function syncTreeMakeQueryKey_(e){return e._path.toString()+"$"+e._queryIdentifier}function syncTreeQueryKeyForTag_(e,t){return e.tagToQueryMap.get(t)}function syncTreeParseQueryKey_(e){const t=e.indexOf("$");return assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Path(e.substr(0,t))}}function syncTreeApplyTaggedOperation_(e,t,a){const o=e.syncPointTree_.get(t);assert(o,"Missing sync point for query tag that we're tracking");return syncPointApplyOperation(o,a,writeTreeChildWrites(e.pendingWriteTree_,t),null)}function syncTreeCollectDistinctViewsForSubTree_(e){return e.fold((e,t,a)=>{if(t&&syncPointHasCompleteView(t)){return[syncPointGetCompleteView(t)]}{let e=[];return t&&(e=syncPointGetQueryViews(t)),each(a,(t,a)=>{e=e.concat(a)}),e}})}function syncTreeQueryForListening_(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(e._repo,e._path):e}function syncTreeRemoveTags_(e,t){for(let a=0;a<t.length;++a){const o=t[a];if(!o._queryParams.loadsAllData()){const t=syncTreeMakeQueryKey_(o),a=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(a)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(e,t,a){const o=t._path,r=syncTreeTagForQuery(e,t),n=syncTreeCreateListenerForView_(e,a),i=e.listenProvider_.startListening(syncTreeQueryForListening_(t),r,n.hashFn,n.onComplete),l=e.syncPointTree_.subtree(o);if(r)assert(!syncPointHasCompleteView(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,a)=>{if(!pathIsEmpty(e)&&t&&syncPointHasCompleteView(t))return[syncPointGetCompleteView(t).query];{let e=[];return t&&(e=e.concat(syncPointGetQueryViews(t).map(e=>e.query))),each(a,(t,a)=>{e=e.concat(a)}),e}});for(let a=0;a<t.length;++a){const o=t[a];e.listenProvider_.stopListening(syncTreeQueryForListening_(o),syncTreeTagForQuery(e,o))}}return i}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ExistingValueProvider{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ExistingValueProvider(t)}node(){return this.node_}}class DeferredValueProvider{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=pathChild(this.path_,e);return new DeferredValueProvider(this.syncTree_,t)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},resolveDeferredLeafValue=function(e,t,a){return e&&"object"==typeof e?(assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?resolveScalarDeferredValue(e[".sv"],t,a):"object"==typeof e[".sv"]?resolveComplexDeferredValue(e[".sv"],t):void assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},resolveScalarDeferredValue=function(e,t,a){if("timestamp"===e)return a.timestamp;assert(!1,"Unexpected server value: "+e)},resolveComplexDeferredValue=function(e,t,a){e.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const o=e.increment;"number"!=typeof o&&assert(!1,"Unexpected increment value: "+o);const r=t.node();if(assert(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return o;const n=r.getValue();return"number"!=typeof n?o:n+o},resolveDeferredValueTree=function(e,t,a,o){return resolveDeferredValue(t,new DeferredValueProvider(a,e),o)},resolveDeferredValueSnapshot=function(e,t,a){return resolveDeferredValue(e,new ExistingValueProvider(t),a)};function resolveDeferredValue(e,t,a){const o=e.getPriority().val(),r=resolveDeferredLeafValue(o,t.getImmediateChild(".priority"),a);let n;if(e.isLeafNode()){const o=e,n=resolveDeferredLeafValue(o.getValue(),t,a);return n!==o.getValue()||r!==o.getPriority().val()?new LeafNode(n,nodeFromJSON(r)):e}{const o=e;return n=o,r!==o.getPriority().val()&&(n=n.updatePriority(new LeafNode(r))),o.forEachChild(PRIORITY_INDEX,(e,o)=>{const r=resolveDeferredValue(o,t.getImmediateChild(e),a);r!==o&&(n=n.updateImmediateChild(e,r))}),n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Tree{constructor(e="",t=null,a={children:{},childCount:0}){this.name=e,this.parent=t,this.node=a}}function treeSubTree(e,t){let a=t instanceof Path?t:new Path(t),o=e,r=pathGetFront(a);for(;null!==r;){const e=safeGet(o.node.children,r)||{children:{},childCount:0};o=new Tree(r,o,e),a=pathPopFront(a),r=pathGetFront(a)}return o}function treeGetValue(e){return e.node.value}function treeSetValue(e,t){e.node.value=t,treeUpdateParents(e)}function treeHasChildren(e){return e.node.childCount>0}function treeIsEmpty(e){return void 0===treeGetValue(e)&&!treeHasChildren(e)}function treeForEachChild(e,t){each(e.node.children,(a,o)=>{t(new Tree(a,e,o))})}function treeForEachDescendant(e,t,a,o){a&&t(e),treeForEachChild(e,e=>{treeForEachDescendant(e,t,!0)})}function treeForEachAncestor(e,t,a){let o=e.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}return!1}function treeGetPath(e){return new Path(null===e.parent?e.name:treeGetPath(e.parent)+"/"+e.name)}function treeUpdateParents(e){null!==e.parent&&treeUpdateChild(e.parent,e.name,e)}function treeUpdateChild(e,t,a){const o=treeIsEmpty(a),r=contains(e.node.children,t);o&&r?(delete e.node.children[t],e.node.childCount--,treeUpdateParents(e)):o||r||(e.node.children[t]=a.node,e.node.childCount++,treeUpdateParents(e))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10485760,isValidKey=function(e){return"string"==typeof e&&0!==e.length&&!INVALID_KEY_REGEX_.test(e)},isValidPathString=function(e){return"string"==typeof e&&0!==e.length&&!INVALID_PATH_REGEX_.test(e)},isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(e)},validateFirebaseData=function(e,t,a){const o=a instanceof Path?new ValidationPath(a,e):a;if(void 0===t)throw new Error(e+"contains undefined "+validationPathToErrorString(o));if("function"==typeof t)throw new Error(e+"contains a function "+validationPathToErrorString(o)+" with contents = "+t.toString());if(isInvalidJSONNumber(t))throw new Error(e+"contains "+t.toString()+" "+validationPathToErrorString(o));if("string"==typeof t&&t.length>MAX_LEAF_SIZE_/3&&stringLength(t)>MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,r=!1;if(each(t,(t,n)=>{if(".value"===t)a=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!isValidKey(t)))throw new Error(e+" contains an invalid key ("+t+") "+validationPathToErrorString(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');validationPathPush(o,t),validateFirebaseData(e,n,o),validationPathPop(o)}),a&&r)throw new Error(e+' contains ".value" child '+validationPathToErrorString(o)+" in addition to actual children.")}},validatePathString=function(e,t,a,o){if(!isValidPathString(a))throw new Error(errorPrefix(e,t)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},validateRootPathString=function(e,t,a,o){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(e,t,a)},validateUrl=function(e,t){const a=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!isValidKey(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==a.length&&!isValidRootPathString(a))throw new Error(errorPrefix(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(e,t){let a=null;for(let o=0;o<t.length;o++){const r=t[o],n=r.getPath();null===a||pathEquals(n,a.path)||(e.eventLists_.push(a),a=null),null===a&&(a={events:[],path:n}),a.events.push(r)}a&&e.eventLists_.push(a)}function eventQueueRaiseEventsForChangedPath(e,t,a){eventQueueQueueEvents(e,a),eventQueueRaiseQueuedEventsMatchingPredicate(e,e=>pathContains(e,t)||pathContains(t,e))}function eventQueueRaiseQueuedEventsMatchingPredicate(e,t){e.recursionDepth_++;let a=!0;for(let o=0;o<e.eventLists_.length;o++){const r=e.eventLists_[o];if(r){t(r.path)?(eventListRaise(e.eventLists_[o]),e.eventLists_[o]=null):a=!1}}a&&(e.eventLists_=[]),e.recursionDepth_--}function eventListRaise(e){for(let t=0;t<e.events.length;t++){const a=e.events[t];if(null!==a){e.events[t]=null;const o=a.getEventRunner();logger$1&&log("event: "+a.toString()),exceptionGuard(o)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(e,t,a,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(e,t,a){if(e.stats_=statsManagerGetCollection(e.repoInfo_),e.forceRestClient_||beingCrawled())e.server_=new ReadonlyRestClient(e.repoInfo_,(t,a,o,r)=>{repoOnDataUpdate(e,t,a,o,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(e,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(a)}catch(e2){throw new Error("Invalid authOverride provided: "+e2)}}e.persistentConnection_=new PersistentConnection(e.repoInfo_,t,(t,a,o,r)=>{repoOnDataUpdate(e,t,a,o,r)},t=>{repoOnConnectStatus(e,t)},t=>{repoOnServerInfoUpdate(e,t)},e.authTokenProvider_,e.appCheckProvider_,a),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=statsManagerGetOrCreateReporter(e.repoInfo_,()=>new StatsReporter(e.stats_,e.server_)),e.infoData_=new SnapshotHolder,e.infoSyncTree_=new SyncTree({startListening:(t,a,o,r)=>{let n=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(n=syncTreeApplyServerOverwrite(e.infoSyncTree_,t._path,i),setTimeout(()=>{r("ok")},0)),n},stopListening:()=>{}}),repoUpdateInfo(e,"connected",!1),e.serverSyncTree_=new SyncTree({startListening:(t,a,o,r)=>(e.server_.listen(t,o,a,(a,o)=>{const n=r(a,o);eventQueueRaiseEventsForChangedPath(e.eventQueue_,t._path,n)}),[]),stopListening:(t,a)=>{e.server_.unlisten(t,a)}})}function repoServerTime(e){const t=e.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function repoGenerateServerValues(e){return generateWithValues({timestamp:repoServerTime(e)})}function repoOnDataUpdate(e,t,a,o,r){e.dataUpdateCount++;const n=new Path(t);a=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,a):a;let i=[];if(r)if(o){const t=map$1(a,e=>nodeFromJSON(e));i=syncTreeApplyTaggedQueryMerge(e.serverSyncTree_,n,t,r)}else{const t=nodeFromJSON(a);i=syncTreeApplyTaggedQueryOverwrite(e.serverSyncTree_,n,t,r)}else if(o){const t=map$1(a,e=>nodeFromJSON(e));i=syncTreeApplyServerMerge(e.serverSyncTree_,n,t)}else{const t=nodeFromJSON(a);i=syncTreeApplyServerOverwrite(e.serverSyncTree_,n,t)}let l=n;i.length>0&&(l=repoRerunTransactions(e,n)),eventQueueRaiseEventsForChangedPath(e.eventQueue_,l,i)}function repoOnConnectStatus(e,t){repoUpdateInfo(e,"connected",t),!1===t&&repoRunOnDisconnectEvents(e)}function repoOnServerInfoUpdate(e,t){each(t,(t,a)=>{repoUpdateInfo(e,t,a)})}function repoUpdateInfo(e,t,a){const o=new Path("/.info/"+t),r=nodeFromJSON(a);e.infoData_.updateSnapshot(o,r);const n=syncTreeApplyServerOverwrite(e.infoSyncTree_,o,r);eventQueueRaiseEventsForChangedPath(e.eventQueue_,o,n)}function repoGetNextWriteId(e){return e.nextWriteId_++}function repoGetValue(e,t,a){const o=syncTreeGetServerValue(e.serverSyncTree_,t);return null!=o?Promise.resolve(o):e.server_.get(t).then(o=>{const r=nodeFromJSON(o).withIndex(t._queryParams.getIndex());let n;if(syncTreeAddEventRegistration(e.serverSyncTree_,t,a,!0),t._queryParams.loadsAllData())n=syncTreeApplyServerOverwrite(e.serverSyncTree_,t._path,r);else{const a=syncTreeTagForQuery(e.serverSyncTree_,t);n=syncTreeApplyTaggedQueryOverwrite(e.serverSyncTree_,t._path,r,a)}return eventQueueRaiseEventsForChangedPath(e.eventQueue_,t._path,n),syncTreeRemoveEventRegistration(e.serverSyncTree_,t,a,null,!0),r},a=>(repoLog(e,"get for query "+stringify(t)+" failed: "+a),Promise.reject(new Error(a))))}function repoRunOnDisconnectEvents(e){repoLog(e,"onDisconnectEvents");const t=repoGenerateServerValues(e),a=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(e.onDisconnect_,newEmptyPath(),(o,r)=>{const n=resolveDeferredValueTree(o,r,e.serverSyncTree_,t);sparseSnapshotTreeRemember(a,o,n)});let o=[];sparseSnapshotTreeForEachTree(a,newEmptyPath(),(t,a)=>{o=o.concat(syncTreeApplyServerOverwrite(e.serverSyncTree_,t,a));const r=repoAbortTransactions(e,t);repoRerunTransactions(e,r)}),e.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(e.eventQueue_,newEmptyPath(),o)}function repoInterrupt(e){e.persistentConnection_&&e.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(e,...t){let a="";e.persistentConnection_&&(a=e.persistentConnection_.id+":"),log(a,...t)}function repoGetLatestState(e,t,a){return syncTreeCalcCompleteEventCache(e.serverSyncTree_,t,a)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(e,t=e.transactionQueueTree_){if(t||repoPruneCompletedTransactionsBelowNode(e,t),treeGetValue(t)){const a=repoBuildTransactionQueue(e,t);assert(a.length>0,"Sending zero length transaction queue");a.every(e=>0===e.status)&&repoSendTransactionQueue(e,treeGetPath(t),a)}else treeHasChildren(t)&&treeForEachChild(t,t=>{repoSendReadyTransactions(e,t)})}function repoSendTransactionQueue(e,t,a){const o=a.map(e=>e.currentWriteId),r=repoGetLatestState(e,t,o);let n=r;const i=r.hash();for(let c=0;c<a.length;c++){const e=a[c];assert(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const o=newRelativePath(t,e.path);n=n.updateChild(o,e.currentOutputSnapshotRaw)}const l=n.val(!0),s=t;e.server_.put(s.toString(),l,o=>{repoLog(e,"transaction put response",{path:s.toString(),status:o});let r=[];if("ok"===o){const o=[];for(let t=0;t<a.length;t++)a[t].status=2,r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,a[t].currentWriteId)),a[t].onComplete&&o.push(()=>a[t].onComplete(null,!0,a[t].currentOutputSnapshotResolved)),a[t].unwatcher();repoPruneCompletedTransactionsBelowNode(e,treeSubTree(e.transactionQueueTree_,t)),repoSendReadyTransactions(e,e.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(e.eventQueue_,t,r);for(let e=0;e<o.length;e++)exceptionGuard(o[e])}else{if("datastale"===o)for(let e=0;e<a.length;e++)3===a[e].status?a[e].status=4:a[e].status=0;else{warn$1("transaction at "+s.toString()+" failed: "+o);for(let e=0;e<a.length;e++)a[e].status=4,a[e].abortReason=o}repoRerunTransactions(e,t)}},i)}function repoRerunTransactions(e,t){const a=repoGetAncestorTransactionNode(e,t),o=treeGetPath(a);return repoRerunTransactionQueue(e,repoBuildTransactionQueue(e,a),o),o}function repoRerunTransactionQueue(e,t,a){if(0===t.length)return;const o=[];let r=[];const n=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let i=0;i<t.length;i++){const l=t[i],s=newRelativePath(a,l.path);let c,d=!1;if(assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,c=l.abortReason,r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=MAX_TRANSACTION_RETRIES)d=!0,c="maxretry",r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,l.currentWriteId,!0));else{const a=repoGetLatestState(e,l.path,n);l.currentInputSnapshot=a;const o=t[i].update(a.val());if(void 0!==o){validateFirebaseData("transaction failed: Data returned ",o,l.path);let t=nodeFromJSON(o);"object"==typeof o&&null!=o&&contains(o,".priority")||(t=t.updatePriority(a.getPriority()));const i=l.currentWriteId,s=repoGenerateServerValues(e),c=resolveDeferredValueSnapshot(t,a,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=c,l.currentWriteId=repoGetNextWriteId(e),n.splice(n.indexOf(i),1),r=r.concat(syncTreeApplyUserOverwrite(e.serverSyncTree_,l.path,c,l.currentWriteId,l.applyLocally)),r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,i,!0))}else d=!0,c="nodata",r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,l.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(e.eventQueue_,a,r),r=[],d&&(t[i].status=2,function(e){setTimeout(e,Math.floor(0))}(t[i].unwatcher),t[i].onComplete&&("nodata"===c?o.push(()=>t[i].onComplete(null,!1,t[i].currentInputSnapshot)):o.push(()=>t[i].onComplete(new Error(c),!1,null))))}repoPruneCompletedTransactionsBelowNode(e,e.transactionQueueTree_);for(let i=0;i<o.length;i++)exceptionGuard(o[i]);repoSendReadyTransactions(e,e.transactionQueueTree_)}function repoGetAncestorTransactionNode(e,t){let a,o=e.transactionQueueTree_;for(a=pathGetFront(t);null!==a&&void 0===treeGetValue(o);)o=treeSubTree(o,a),a=pathGetFront(t=pathPopFront(t));return o}function repoBuildTransactionQueue(e,t){const a=[];return repoAggregateTransactionQueuesForNode(e,t,a),a.sort((e,t)=>e.order-t.order),a}function repoAggregateTransactionQueuesForNode(e,t,a){const o=treeGetValue(t);if(o)for(let r=0;r<o.length;r++)a.push(o[r]);treeForEachChild(t,t=>{repoAggregateTransactionQueuesForNode(e,t,a)})}function repoPruneCompletedTransactionsBelowNode(e,t){const a=treeGetValue(t);if(a){let e=0;for(let t=0;t<a.length;t++)2!==a[t].status&&(a[e]=a[t],e++);a.length=e,treeSetValue(t,a.length>0?a:void 0)}treeForEachChild(t,t=>{repoPruneCompletedTransactionsBelowNode(e,t)})}function repoAbortTransactions(e,t){const a=treeGetPath(repoGetAncestorTransactionNode(e,t)),o=treeSubTree(e.transactionQueueTree_,t);return treeForEachAncestor(o,t=>{repoAbortTransactionsOnNode(e,t)}),repoAbortTransactionsOnNode(e,o),treeForEachDescendant(o,t=>{repoAbortTransactionsOnNode(e,t)}),a}function repoAbortTransactionsOnNode(e,t){const a=treeGetValue(t);if(a){const o=[];let r=[],n=-1;for(let t=0;t<a.length;t++)3===a[t].status||(1===a[t].status?(assert(n===t-1,"All SENT items should be at beginning of queue."),n=t,a[t].status=3,a[t].abortReason="set"):(assert(0===a[t].status,"Unexpected transaction status in abort"),a[t].unwatcher(),r=r.concat(syncTreeAckUserWrite(e.serverSyncTree_,a[t].currentWriteId,!0)),a[t].onComplete&&o.push(a[t].onComplete.bind(null,new Error("set"),!1,null))));-1===n?treeSetValue(t,void 0):a.length=n+1,eventQueueRaiseEventsForChangedPath(e.eventQueue_,treeGetPath(t),r);for(let e=0;e<o.length;e++)exceptionGuard(o[e])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function decodePath(e){let t="";const a=e.split("/");for(let o=0;o<a.length;o++)if(a[o].length>0){let e=a[o];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(e2){}t+="/"+e}return t}function decodeQuery(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const a of e.split("&")){if(0===a.length)continue;const o=a.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):warn$1(`Invalid query segment '${a}' in query '${e}'`)}return t}const parseRepoInfo=function(e,t){const a=parseDatabaseURL(e),o=a.namespace;"firebase.com"===a.domain&&fatal(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),o&&"undefined"!==o||"localhost"===a.domain||fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||warnIfPageIsSecure();const r="ws"===a.scheme||"wss"===a.scheme;return{repoInfo:new RepoInfo(a.host,a.secure,o,r,t,"",o!==a.subdomain),path:new Path(a.pathString)}},parseDatabaseURL=function(e){let t="",a="",o="",r="",n="",i=!0,l="https",s=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(l=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(r=decodePath(e.substring(d,u)));const p=decodeQuery(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(i="https"===l||"wss"===l,s=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())a="localhost";else if(h.split(".").length<=2)a=h;else{const e=t.indexOf(".");o=t.substring(0,e).toLowerCase(),a=t.substring(e+1),n=o}"ns"in p&&(n=p.ns)}return{host:t,port:s,domain:a,subdomain:o,secure:i,scheme:l,pathString:r,namespace:n}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class DataEvent{constructor(e,t,a,o){this.eventType=e,this.eventRegistration=t,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())}}class CancelEvent{constructor(e,t,a){this.eventRegistration=e,this.error=t,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class CallbackContext{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class QueryImpl{constructor(e,t,a,o){this._repo=e,this._path=t,this._queryParams=a,this._orderByCalled=o}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const e=queryParamsGetQueryObject(this._queryParams),t=ObjectToUniqueKey(e);return"{}"===t?"default":t}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(e){if(!((e=getModularInstance(e))instanceof QueryImpl))return!1;const t=this._repo===e._repo,a=pathEquals(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(e,t){super(e,t,new QueryParams,!1)}get parent(){const e=pathParent(this._path);return null===e?null:new ReferenceImpl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class DataSnapshot{constructor(e,t,a){this._node=e,this.ref=t,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Path(e),a=child(this.ref,e);return new DataSnapshot(this._node.getChild(t),a,PRIORITY_INDEX)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,a)=>e(new DataSnapshot(a,child(this.ref,t),PRIORITY_INDEX)))}hasChild(e){const t=new Path(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ref(e,t){return(e=getModularInstance(e))._checkNotDeleted("ref"),void 0!==t?child(e._root,t):e._root}function child(e,t){return null===pathGetFront((e=getModularInstance(e))._path)?validateRootPathString("child","path",t):validatePathString("child","path",t),new ReferenceImpl(e._repo,pathChild(e._path,t))}function get$3(e){e=getModularInstance(e);const t=new CallbackContext(()=>{}),a=new ValueEventRegistration(t);return repoGetValue(e._repo,e,a).then(t=>new DataSnapshot(t,new ReferenceImpl(e._repo,e._path),e._queryParams.getIndex()))}class ValueEventRegistration{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const a=t._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(t._repo,t._path),a))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,t):null}matches(e){return e instanceof ValueEventRegistration&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}syncPointSetReferenceConstructor(ReferenceImpl),syncTreeSetReferenceConstructor(ReferenceImpl);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerApplyEmulatorSettings(e,t,a,o){e.repoInfo_=new RepoInfo(`${t}:${a}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),o&&(e.authTokenProvider_=o)}function repoManagerDatabaseFromApp(e,t,a,o,r){let n=o||e.options.databaseURL;void 0===n&&(e.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",e.options.projectId),n=`${e.options.projectId}-default-rtdb.firebaseio.com`);let i,l=parseRepoInfo(n,r),s=l.repoInfo;"undefined"!=typeof process&&define_process_env_default&&(i=define_process_env_default[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),i?(n=`http://${i}?ns=${s.namespace}`,l=parseRepoInfo(n,r),s=l.repoInfo):l.repoInfo.secure;const c=new FirebaseAuthTokenProvider(e.name,e.options,t);validateUrl("Invalid Firebase Database URL",l),pathIsEmpty(l.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const d=repoManagerCreateRepo(s,e,c,new AppCheckTokenProvider(e.name,a));return new Database(d,e)}function repoManagerDeleteRepo(e,t){const a=repos[t];a&&a[e.key]===e||fatal(`Database ${t}(${e.repoInfo_}) has already been deleted.`),repoInterrupt(e),delete a[e.key]}function repoManagerCreateRepo(e,t,a,o){let r=repos[t.name];r||(r={},repos[t.name]=r);let n=r[e.toURLString()];return n&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),n=new Repo(e,useRestClient,a,o),r[e.toURLString()]=n,n}class Database{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return null!==this._rootInternal&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&fatal("Cannot call "+e+" on a deleted database.")}}function getDatabase(e=getApp(),t){const a=_getProvider(e,"database").getImmediate({identifier:t});if(!a._instanceStarted){const e=getDefaultEmulatorHostnameAndPort("database");e&&connectDatabaseEmulator(a,...e)}return a}function connectDatabaseEmulator(e,t,a,o={}){(e=getModularInstance(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fatal("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let n;if(r.repoInfo_.nodeAdmin)o.mockUserToken&&fatal('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),n=new EmulatorTokenProvider(EmulatorTokenProvider.OWNER);else if(o.mockUserToken){const t="string"==typeof o.mockUserToken?o.mockUserToken:createMockUserToken(o.mockUserToken,e.app.options.projectId);n=new EmulatorTokenProvider(t)}repoManagerApplyEmulatorSettings(r,t,a,n)}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function registerDatabase(e){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(e,{instanceIdentifier:t})=>repoManagerDatabaseFromApp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),registerVersion(name$2,version$3,e),registerVersion(name$2,version$3,"esm2017")}PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},registerDatabase();const name$1="@firebase/installations",version$2="0.6.9",PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$2}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=36e5,SERVICE="installations",SERVICE_NAME="Installations",ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(e){return e instanceof FirebaseError&&e.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function getInstallationsEndpoint({projectId:e}){return`${INSTALLATIONS_API_URL}/projects/${e}/installations`}function extractAuthTokenInfoFromResponse(e){return{token:e.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(e.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(e,t){const a=(await t.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function getHeaders$1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function getHeadersWithAuth(e,{refreshToken:t}){const a=getHeaders$1(e);return a.append("Authorization",getAuthorizationHeader(t)),a}async function retryIfServerError(e){const t=await e();return t.status>=500&&t.status<600?e():t}function getExpiresInFromResponseExpiresIn(e){return Number(e.replace("s","000"))}function getAuthorizationHeader(e){return`${INTERNAL_AUTH_VERSION} ${e}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function createInstallationRequest({appConfig:e,heartbeatServiceProvider:t},{fid:a}){const o=getInstallationsEndpoint(e),r=getHeaders$1(e),n=t.getImmediate({optional:!0});if(n){const e=await n.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const i={fid:a,authVersion:INTERNAL_AUTH_VERSION,appId:e.appId,sdkVersion:PACKAGE_VERSION},l={method:"POST",headers:r,body:JSON.stringify(i)},s=await retryIfServerError(()=>fetch(o,l));if(s.ok){const e=await s.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:extractAuthTokenInfoFromResponse(e.authToken)}}throw await getErrorFromResponse("Create Installation",s)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sleep(e){return new Promise(t=>{setTimeout(t,e)})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bufferToBase64UrlSafe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=encode$2(e);return VALID_FID_PATTERN.test(t)?t:INVALID_FID}catch(e){return INVALID_FID}}function encode$2(e){return bufferToBase64UrlSafe(e).substr(0,22)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function getKey(e){return`${e.appName}!${e.appId}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const fidChangeCallbacks=new Map;function fidChanged(e,t){const a=getKey(e);callFidChangeCallbacks(a,t),broadcastFidChange(a,t)}function callFidChangeCallbacks(e,t){const a=fidChangeCallbacks.get(e);if(a)for(const o of a)o(t)}function broadcastFidChange(e,t){const a=getBroadcastChannel();a&&a.postMessage({key:e,fid:t}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=e=>{callFidChangeCallbacks(e.data.key,e.data.fid)}),broadcastChannel}function closeBroadcastChannel(){0===fidChangeCallbacks.size&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(OBJECT_STORE_NAME)}})),dbPromise}async function set$2(e,t){const a=getKey(e),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),r=o.objectStore(OBJECT_STORE_NAME),n=await r.get(a);return await r.put(t,a),await o.done,n&&n.fid===t.fid||fidChanged(e,t.fid),t}async function remove(e){const t=getKey(e),a=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await a.objectStore(OBJECT_STORE_NAME).delete(t),await a.done}async function update(e,t){const a=getKey(e),o=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),r=o.objectStore(OBJECT_STORE_NAME),n=await r.get(a),i=t(n);return void 0===i?await r.delete(a):await r.put(i,a),await o.done,!i||n&&n.fid===i.fid||fidChanged(e,i.fid),i}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function getInstallationEntry(e){let t;const a=await update(e.appConfig,a=>{const o=updateOrCreateInstallationEntry(a),r=triggerRegistrationIfNecessary(e,o);return t=r.registrationPromise,r.installationEntry});return a.fid===INVALID_FID?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}function updateOrCreateInstallationEntry(e){return clearTimedOutRequest(e||{fid:generateFid(),registrationStatus:0})}function triggerRegistrationIfNecessary(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ERROR_FACTORY$1.create("app-offline"))}}const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:a,registrationPromise:registerInstallation(e,a)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:waitUntilFidRegistration(e)}:{installationEntry:t}}async function registerInstallation(e,t){try{const a=await createInstallationRequest(e,t);return set$2(e.appConfig,a)}catch(e2){throw isServerError(e2)&&409===e2.customData.serverCode?await remove(e.appConfig):await set$2(e.appConfig,{fid:t.fid,registrationStatus:0}),e2}}async function waitUntilFidRegistration(e){let t=await updateInstallationRequest(e.appConfig);for(;1===t.registrationStatus;)await sleep(100),t=await updateInstallationRequest(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:a}=await getInstallationEntry(e);return a||t}return t}function updateInstallationRequest(e){return update(e,e=>{if(!e)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(e)})}function clearTimedOutRequest(e){return hasInstallationRequestTimedOut(e)?{fid:e.fid,registrationStatus:0}:e}function hasInstallationRequestTimedOut(e){return 1===e.registrationStatus&&e.registrationTime+PENDING_TIMEOUT_MS<Date.now()}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function generateAuthTokenRequest({appConfig:e,heartbeatServiceProvider:t},a){const o=getGenerateAuthTokenEndpoint(e,a),r=getHeadersWithAuth(e,a),n=t.getImmediate({optional:!0});if(n){const e=await n.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const i={installation:{sdkVersion:PACKAGE_VERSION,appId:e.appId}},l={method:"POST",headers:r,body:JSON.stringify(i)},s=await retryIfServerError(()=>fetch(o,l));if(s.ok){return extractAuthTokenInfoFromResponse(await s.json())}throw await getErrorFromResponse("Generate Auth Token",s)}function getGenerateAuthTokenEndpoint(e,{fid:t}){return`${getInstallationsEndpoint(e)}/${t}/authTokens:generate`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function refreshAuthToken(e,t=!1){let a;const o=await update(e.appConfig,o=>{if(!isEntryRegistered(o))throw ERROR_FACTORY$1.create("not-registered");const r=o.authToken;if(!t&&isAuthTokenValid(r))return o;if(1===r.requestStatus)return a=waitUntilAuthTokenRequest(e,t),o;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const t=makeAuthTokenRequestInProgressEntry(o);return a=fetchAuthTokenFromServer(e,t),t}});return a?await a:o.authToken}async function waitUntilAuthTokenRequest(e,t){let a=await updateAuthTokenRequest(e.appConfig);for(;1===a.authToken.requestStatus;)await sleep(100),a=await updateAuthTokenRequest(e.appConfig);const o=a.authToken;return 0===o.requestStatus?refreshAuthToken(e,t):o}function updateAuthTokenRequest(e){return update(e,e=>{if(!isEntryRegistered(e))throw ERROR_FACTORY$1.create("not-registered");return hasAuthTokenRequestTimedOut(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fetchAuthTokenFromServer(e,t){try{const a=await generateAuthTokenRequest(e,t),o=Object.assign(Object.assign({},t),{authToken:a});return await set$2(e.appConfig,o),a}catch(e2){if(!isServerError(e2)||401!==e2.customData.serverCode&&404!==e2.customData.serverCode){const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await set$2(e.appConfig,a)}else await remove(e.appConfig);throw e2}}function isEntryRegistered(e){return void 0!==e&&2===e.registrationStatus}function isAuthTokenValid(e){return 2===e.requestStatus&&!isAuthTokenExpired(e)}function isAuthTokenExpired(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function hasAuthTokenRequestTimedOut(e){return 1===e.requestStatus&&e.requestTime+PENDING_TIMEOUT_MS<Date.now()}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function getId(e){const t=e,{installationEntry:a,registrationPromise:o}=await getInstallationEntry(t);return o?o.catch(console.error):refreshAuthToken(t).catch(console.error),a.fid}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function getToken(e,t=!1){const a=e;await completeInstallationRegistration(a);return(await refreshAuthToken(a,t)).token}async function completeInstallationRegistration(e){const{registrationPromise:t}=await getInstallationEntry(e);t&&await t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function extractAppConfig(e){if(!e||!e.options)throw getMissingValueError("App Configuration");if(!e.name)throw getMissingValueError("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!e.options[a])throw getMissingValueError(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function getMissingValueError(e){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:e})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:extractAppConfig(t),heartbeatServiceProvider:_getProvider(t,"heartbeat"),_delete:()=>Promise.resolve()}},internalFactory=e=>{const t=_getProvider(e.getProvider("app").getImmediate(),INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(t),getToken:e=>getToken(t,e)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations(),registerVersion(name$1,version$2),registerVersion(name$1,version$2,"esm2017");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=6e4,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js",logger=new Logger("@firebase/analytics"),ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function createGtagTrustedTypesScriptURL(e){if(!e.startsWith(GTAG_URL)){const t=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:e});return logger.warn(t.message),""}return e}function promiseAllSettled(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function createTrustedTypesPolicy(e,t){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(e,t)),a}function insertScriptTag(e,t){const a=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),o=document.createElement("script"),r=`${GTAG_URL}?l=${e}&id=${t}`;o.src=a?null==a?void 0:a.createScriptURL(r):r,o.async=!0,document.head.appendChild(o)}function getOrCreateDataLayer(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function gtagOnConfig(e,t,a,o,r,n){const i=o[r];try{if(i)await t[i];else{const e=(await promiseAllSettled(a)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(e2){logger.error(e2)}e("config",r,n)}async function gtagOnEvent(e,t,a,o,r){try{let n=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const o=await promiseAllSettled(a);for(const a of e){const e=o.find(e=>e.measurementId===a),r=e&&t[e.appId];if(!r){n=[];break}n.push(r)}}0===n.length&&(n=Object.values(t)),await Promise.all(n),e("event",o,r||{})}catch(e2){logger.error(e2)}}function wrapGtag(e,t,a,o){return async function(r,...n){try{if("event"===r){const[o,r]=n;await gtagOnEvent(e,t,a,o,r)}else if("config"===r){const[r,i]=n;await gtagOnConfig(e,t,a,o,r,i)}else if("consent"===r){const[t,a]=n;e("consent",t,a)}else if("get"===r){const[t,a,o]=n;e("get",t,a,o)}else if("set"===r){const[t]=n;e("set",t)}else e(r,...n)}catch(e2){logger.error(e2)}}}function wrapOrCreateGtag(e,t,a,o,r){let n=function(...e){window[o].push(arguments)};return window[r]&&"function"==typeof window[r]&&(n=window[r]),window[r]=wrapGtag(n,e,t,a),{gtagCore:n,wrappedGtag:window[r]}}function findGtagScriptOnPage(e){const t=window.document.getElementsByTagName("script");for(const a of Object.values(t))if(a.src&&a.src.includes(GTAG_URL)&&a.src.includes(e))return a;return null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(e={},t=BASE_INTERVAL_MILLIS){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const defaultRetryData=new RetryData;function getHeaders(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fetchDynamicConfig(e){var t;const{appId:a,apiKey:o}=e,r={method:"GET",headers:getHeaders(o)},n=DYNAMIC_CONFIG_URL.replace("{app-id}",a),i=await fetch(n,r);if(200!==i.status&&304!==i.status){let e="";try{const a=await i.json();(null===(t=a.error)||void 0===t?void 0:t.message)&&(e=a.error.message)}catch(l){}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}async function fetchDynamicConfigWithRetry(e,t=defaultRetryData,a){const{appId:o,apiKey:r,measurementId:n}=e.options;if(!o)throw ERROR_FACTORY.create("no-app-id");if(!r){if(n)return{measurementId:n,appId:o};throw ERROR_FACTORY.create("no-api-key")}const i=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new AnalyticsAbortSignal;return setTimeout(async()=>{l.abort()},FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:o,apiKey:r,measurementId:n},i,l,t)}async function attemptFetchDynamicConfigWithRetry(e,{throttleEndTimeMillis:t,backoffCount:a},o,r=defaultRetryData){var n;const{appId:i,measurementId:l}=e;try{await setAbortableTimeout(o,t)}catch(e2){if(l)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==e2?void 0:e2.message}]`),{appId:i,measurementId:l};throw e2}try{const t=await fetchDynamicConfig(e);return r.deleteThrottleMetadata(i),t}catch(e2){const s=e2;if(!isRetriableError(s)){if(r.deleteThrottleMetadata(i),l)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==s?void 0:s.message}]`),{appId:i,measurementId:l};throw e2}const c=503===Number(null===(n=null==s?void 0:s.customData)||void 0===n?void 0:n.httpStatus)?calculateBackoffMillis(a,r.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(a,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1};return r.setThrottleMetadata(i,d),logger.debug(`Calling attemptFetch again in ${c} millis`),attemptFetchDynamicConfigWithRetry(e,d,o,r)}}function setAbortableTimeout(e,t){return new Promise((a,o)=>{const r=Math.max(t-Date.now(),0),n=setTimeout(a,r);e.addEventListener(()=>{clearTimeout(n),o(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function isRetriableError(e){if(!(e instanceof FirebaseError&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function logEvent$1(e,t,a,o,r){if(r&&r.global)e("event",a,o);else{const r=await t;e("event",a,Object.assign(Object.assign({},o),{send_to:r}))}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function validateIndexedDB(){if(!isIndexedDBAvailable())return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await validateIndexedDBOpenable()}catch(e2){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:null==e2?void 0:e2.toString()}).message),!1}return!0}async function _initializeAnalytics(e,t,a,o,r,n,i){var l;const s=fetchDynamicConfigWithRetry(e);s.then(t=>{a[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>logger.error(e)),t.push(s);const c=validateIndexedDB().then(e=>e?o.getId():void 0),[d,u]=await Promise.all([s,c]);findGtagScriptOnPage(n)||insertScriptTag(n,d.measurementId),r("js",new Date);const p=null!==(l=null==i?void 0:i.config)&&void 0!==l?l:{};return p[ORIGIN_KEY]="firebase",p.update=!0,null!=u&&(p[GA_FID_KEY]=u),r("config",d.measurementId,p),d.measurementId}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class AnalyticsService{constructor(e){this.app=e}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const e=[];if(isBrowserExtension()&&e.push("This is a browser extension environment."),areCookiesEnabled()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),a=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:t});logger.warn(a.message)}}function factory$1(e,t,a){warnOnBrowserContextMismatch();const o=e.options.appId;if(!o)throw ERROR_FACTORY.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ERROR_FACTORY.create("no-api-key");logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=initializationPromisesMap[o])throw ERROR_FACTORY.create("already-exists",{id:o});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:e,gtagCore:t}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=e,gtagCoreFunction=t,globalInitDone=!0}initializationPromisesMap[o]=_initializeAnalytics(e,dynamicConfigPromisesList,measurementIdToAppId,t,gtagCoreFunction,dataLayerName,a);return new AnalyticsService(e)}function getAnalytics(e=getApp()){const t=_getProvider(e=getModularInstance(e),ANALYTICS_TYPE);return t.isInitialized()?t.getImmediate():initializeAnalytics(e)}function initializeAnalytics(e,t={}){const a=_getProvider(e,ANALYTICS_TYPE);if(a.isInitialized()){const e=a.getImmediate();if(deepEqual(t,a.getOptions()))return e;throw ERROR_FACTORY.create("already-initialized")}return a.initialize({options:t})}function logEvent(e,t,a,o){e=getModularInstance(e),logEvent$1(wrappedGtagFunction,initializationPromisesMap[e.app.options.appId],t,a,o).catch(e=>logger.error(e))}const name="@firebase/analytics",version$1="0.10.8";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(e,{options:t})=>factory$1(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),_registerComponent(new Component("analytics-internal",function(e){try{const t=e.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(e,a,o)=>logEvent(t,e,a,o)}}catch(e2){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:e2})}},"PRIVATE")),registerVersion(name,version$1),registerVersion(name,version$1,"esm2017")}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyAy9ykcjhb2SIofJbDU0YVTpA6B0dRFoqA",authDomain:"app-mynt.firebaseapp.com",databaseURL:"https://app-mynt-default-rtdb.firebaseio.com",projectId:"app-mynt",storageBucket:"app-mynt.firebasestorage.app",messagingSenderId:"652976261222",appId:"1:652976261222:web:f4346b6d294a0c1e0fc5a7",measurementId:"G-YDNBR3CNPQ"},firebaseApp=initializeApp(firebaseConfig),db=getDatabase(firebaseApp),analytics$1=getAnalytics(firebaseApp),fire={db:db,ref:ref,get:get$3,child:child};var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var a=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),a}var cryptoJs={exports:{}};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,core.exports=(e=e||function(e,t){var a;if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==commonjsGlobal&&commonjsGlobal.crypto&&(a=commonjsGlobal.crypto),!a&&"function"==typeof commonjsRequire)try{a=require$$0$1}catch(v){}var o=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(v){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var a;return e.prototype=t,a=new e,e.prototype=null,a}}(),n={},i=n.lib={},l=i.Base=function(){return{extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=l.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,a=e.words,o=this.sigBytes,r=e.sigBytes;if(this.clamp(),o%4)for(var n=0;n<r;n++){var i=a[n>>>2]>>>24-n%4*8&255;t[o+n>>>2]|=i<<24-(o+n)%4*8}else for(var l=0;l<r;l+=4)t[o+l>>>2]=a[l>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],a=0;a<e;a+=4)t.push(o());return new s.init(t,e)}}),c=n.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],r=0;r<a;r++){var n=t[r>>>2]>>>24-r%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o+=2)a[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new s.init(a,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],r=0;r<a;r++){var n=t[r>>>2]>>>24-r%4*8&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(e){for(var t=e.length,a=[],o=0;o<t;o++)a[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new s.init(a,t)}},p=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e2){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a,o=this._data,r=o.words,n=o.sigBytes,i=this.blockSize,l=n/(4*i),c=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,d=e.min(4*c,n);if(c){for(var u=0;u<c;u+=i)this._doProcessBlock(r,u);a=r.splice(0,c),o.sigBytes-=d}return new s.init(a,d)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=h.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new m.HMAC.init(e,a).finalize(t)}}});var m=n.algo={};return n}(Math),e)),core.exports;var e}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,x64Core.exports=(i=requireCore(),a=(t=i).lib,o=a.Base,r=a.WordArray,(n=t.x64={}).Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),n.WordArray=o.extend({init:function(t,a){t=this.words=t||[],this.sigBytes=a!=e?a:8*t.length},toX32:function(){for(var e=this.words,t=e.length,a=[],o=0;o<t;o++){var n=e[o];a.push(n.high),a.push(n.low)}return r.create(a,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),a=t.length,r=0;r<a;r++)t[r]=t[r].clone();return e}}),i)),x64Core.exports;var e,t,a,o,r,n,i}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,libTypedarrays.exports=(e=requireCore(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,a=t.init,o=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,o=[],r=0;r<t;r++)o[r>>>2]|=e[r]<<24-r%4*8;a.call(this,o,t)}else a.apply(this,arguments)};o.prototype=t}}(),e.lib.WordArray)),libTypedarrays.exports;var e}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,encUtf16.exports=(e=requireCore(),function(){var t=e,a=t.lib.WordArray,o=t.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}o.Utf16=o.Utf16BE={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],r=0;r<a;r+=2){var n=t[r>>>2]>>>16-r%4*8&65535;o.push(String.fromCharCode(n))}return o.join("")},parse:function(e){for(var t=e.length,o=[],r=0;r<t;r++)o[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return a.create(o,2*t)}},o.Utf16LE={stringify:function(e){for(var t=e.words,a=e.sigBytes,o=[],n=0;n<a;n+=2){var i=r(t[n>>>2]>>>16-n%4*8&65535);o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,o=[],n=0;n<t;n++)o[n>>>1]|=r(e.charCodeAt(n)<<16-n%2*16);return a.create(o,2*t)}}}(),e.enc.Utf16)),encUtf16.exports;var e}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,encBase64.exports=(e=requireCore(),function(){var t=e,a=t.lib.WordArray;function o(e,t,o){for(var r=[],n=0,i=0;i<t;i++)if(i%4){var l=o[e.charCodeAt(i-1)]<<i%4*2|o[e.charCodeAt(i)]>>>6-i%4*2;r[n>>>2]|=l<<24-n%4*8,n++}return a.create(r,n)}t.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,o=this._map;e.clamp();for(var r=[],n=0;n<a;n+=3)for(var i=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,l=0;l<4&&n+.75*l<a;l++)r.push(o.charAt(i>>>6*(3-l)&63));var s=o.charAt(64);if(s)for(;r.length%4;)r.push(s);return r.join("")},parse:function(e){var t=e.length,a=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var n=0;n<a.length;n++)r[a.charCodeAt(n)]=n}var i=a.charAt(64);if(i){var l=e.indexOf(i);-1!==l&&(t=l)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),encBase64.exports;var e}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,encBase64url.exports=(e=requireCore(),function(){var t=e,a=t.lib.WordArray;function o(e,t,o){for(var r=[],n=0,i=0;i<t;i++)if(i%4){var l=o[e.charCodeAt(i-1)]<<i%4*2|o[e.charCodeAt(i)]>>>6-i%4*2;r[n>>>2]|=l<<24-n%4*8,n++}return a.create(r,n)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var a=e.words,o=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var n=[],i=0;i<o;i+=3)for(var l=(a[i>>>2]>>>24-i%4*8&255)<<16|(a[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|a[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<o;s++)n.push(r.charAt(l>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(e,t){void 0===t&&(t=!0);var a=e.length,r=t?this._safe_map:this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var l=r.charAt(64);if(l){var s=e.indexOf(l);-1!==s&&(a=s)}return o(e,a,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url)),encBase64url.exports;var e}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,md5.exports=(e=requireCore(),function(t){var a=e,o=a.lib,r=o.WordArray,n=o.Hasher,i=a.algo,l=[];!function(){for(var e=0;e<64;e++)l[e]=4294967296*t.abs(t.sin(e+1))|0}();var s=i.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var o=t+a,r=e[o];e[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n=this._hash.words,i=e[t+0],s=e[t+1],h=e[t+2],m=e[t+3],v=e[t+4],f=e[t+5],g=e[t+6],y=e[t+7],_=e[t+8],b=e[t+9],w=e[t+10],x=e[t+11],V=e[t+12],k=e[t+13],C=e[t+14],S=e[t+15],N=n[0],T=n[1],B=n[2],E=n[3];N=c(N,T,B,E,i,7,l[0]),E=c(E,N,T,B,s,12,l[1]),B=c(B,E,N,T,h,17,l[2]),T=c(T,B,E,N,m,22,l[3]),N=c(N,T,B,E,v,7,l[4]),E=c(E,N,T,B,f,12,l[5]),B=c(B,E,N,T,g,17,l[6]),T=c(T,B,E,N,y,22,l[7]),N=c(N,T,B,E,_,7,l[8]),E=c(E,N,T,B,b,12,l[9]),B=c(B,E,N,T,w,17,l[10]),T=c(T,B,E,N,x,22,l[11]),N=c(N,T,B,E,V,7,l[12]),E=c(E,N,T,B,k,12,l[13]),B=c(B,E,N,T,C,17,l[14]),N=d(N,T=c(T,B,E,N,S,22,l[15]),B,E,s,5,l[16]),E=d(E,N,T,B,g,9,l[17]),B=d(B,E,N,T,x,14,l[18]),T=d(T,B,E,N,i,20,l[19]),N=d(N,T,B,E,f,5,l[20]),E=d(E,N,T,B,w,9,l[21]),B=d(B,E,N,T,S,14,l[22]),T=d(T,B,E,N,v,20,l[23]),N=d(N,T,B,E,b,5,l[24]),E=d(E,N,T,B,C,9,l[25]),B=d(B,E,N,T,m,14,l[26]),T=d(T,B,E,N,_,20,l[27]),N=d(N,T,B,E,k,5,l[28]),E=d(E,N,T,B,h,9,l[29]),B=d(B,E,N,T,y,14,l[30]),N=u(N,T=d(T,B,E,N,V,20,l[31]),B,E,f,4,l[32]),E=u(E,N,T,B,_,11,l[33]),B=u(B,E,N,T,x,16,l[34]),T=u(T,B,E,N,C,23,l[35]),N=u(N,T,B,E,s,4,l[36]),E=u(E,N,T,B,v,11,l[37]),B=u(B,E,N,T,y,16,l[38]),T=u(T,B,E,N,w,23,l[39]),N=u(N,T,B,E,k,4,l[40]),E=u(E,N,T,B,i,11,l[41]),B=u(B,E,N,T,m,16,l[42]),T=u(T,B,E,N,g,23,l[43]),N=u(N,T,B,E,b,4,l[44]),E=u(E,N,T,B,V,11,l[45]),B=u(B,E,N,T,S,16,l[46]),N=p(N,T=u(T,B,E,N,h,23,l[47]),B,E,i,6,l[48]),E=p(E,N,T,B,y,10,l[49]),B=p(B,E,N,T,C,15,l[50]),T=p(T,B,E,N,f,21,l[51]),N=p(N,T,B,E,V,6,l[52]),E=p(E,N,T,B,m,10,l[53]),B=p(B,E,N,T,w,15,l[54]),T=p(T,B,E,N,s,21,l[55]),N=p(N,T,B,E,_,6,l[56]),E=p(E,N,T,B,S,10,l[57]),B=p(B,E,N,T,g,15,l[58]),T=p(T,B,E,N,k,21,l[59]),N=p(N,T,B,E,v,6,l[60]),E=p(E,N,T,B,x,10,l[61]),B=p(B,E,N,T,h,15,l[62]),T=p(T,B,E,N,b,21,l[63]),n[0]=n[0]+N|0,n[1]=n[1]+T|0,n[2]=n[2]+B|0,n[3]=n[3]+E|0},_doFinalize:function(){var e=this._data,a=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;a[r>>>5]|=128<<24-r%32;var n=t.floor(o/4294967296),i=o;a[15+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(a.length+1),this._process();for(var l=this._hash,s=l.words,c=0;c<4;c++){var d=s[c];s[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return l},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,a,o,r,n,i){var l=e+(t&a|~t&o)+r+i;return(l<<n|l>>>32-n)+t}function d(e,t,a,o,r,n,i){var l=e+(t&o|a&~o)+r+i;return(l<<n|l>>>32-n)+t}function u(e,t,a,o,r,n,i){var l=e+(t^a^o)+r+i;return(l<<n|l>>>32-n)+t}function p(e,t,a,o,r,n,i){var l=e+(a^(t|~o))+r+i;return(l<<n|l>>>32-n)+t}a.MD5=n._createHelper(s),a.HmacMD5=n._createHmacHelper(s)}(Math),e.MD5)),md5.exports;var e}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,sha1.exports=(l=requireCore(),t=(e=l).lib,a=t.WordArray,o=t.Hasher,r=e.algo,n=[],i=r.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],r=a[1],i=a[2],l=a[3],s=a[4],c=0;c<80;c++){if(c<16)n[c]=0|e[t+c];else{var d=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=d<<1|d>>>31}var u=(o<<5|o>>>27)+s+n[c];u+=c<20?1518500249+(r&i|~r&l):c<40?1859775393+(r^i^l):c<60?(r&i|r&l|i&l)-1894007588:(r^i^l)-899497514,s=l,l=i,i=r<<30|r>>>2,r=o,o=u}a[0]=a[0]+o|0,a[1]=a[1]+r|0,a[2]=a[2]+i|0,a[3]=a[3]+l|0,a[4]=a[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(a/4294967296),t[15+(o+64>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=o._createHelper(i),e.HmacSHA1=o._createHmacHelper(i),l.SHA1)),sha1.exports;var e,t,a,o,r,n,i,l}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,sha256.exports=(e=requireCore(),function(t){var a=e,o=a.lib,r=o.WordArray,n=o.Hasher,i=a.algo,l=[],s=[];!function(){function e(e){for(var a=t.sqrt(e),o=2;o<=a;o++)if(!(e%o))return!1;return!0}function a(e){return 4294967296*(e-(0|e))|0}for(var o=2,r=0;r<64;)e(o)&&(r<8&&(l[r]=a(t.pow(o,.5))),s[r]=a(t.pow(o,1/3)),r++),o++}();var c=[],d=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(l.slice(0))},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],r=a[1],n=a[2],i=a[3],l=a[4],d=a[5],u=a[6],p=a[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var m=c[h-15],v=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,f=c[h-2],g=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;c[h]=v+c[h-7]+g+c[h-16]}var y=o&r^o&n^r&n,_=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&d^~l&u)+s[h]+c[h];p=u,u=d,d=l,l=i+b|0,i=n,n=r,r=o,o=b+(_+y)|0}a[0]=a[0]+o|0,a[1]=a[1]+r|0,a[2]=a[2]+n|0,a[3]=a[3]+i|0,a[4]=a[4]+l|0,a[5]=a[5]+d|0,a[6]=a[6]+u|0,a[7]=a[7]+p|0},_doFinalize:function(){var e=this._data,a=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return a[r>>>5]|=128<<24-r%32,a[14+(r+64>>>9<<4)]=t.floor(o/4294967296),a[15+(r+64>>>9<<4)]=o,e.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});a.SHA256=n._createHelper(d),a.HmacSHA256=n._createHmacHelper(d)}(Math),e.SHA256)),sha256.exports;var e}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,sha224.exports=(n=requireCore(),requireSha256(),t=(e=n).lib.WordArray,a=e.algo,o=a.SHA256,r=a.SHA224=o.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),e.SHA224=o._createHelper(r),e.HmacSHA224=o._createHmacHelper(r),n.SHA224)),sha224.exports;var e,t,a,o,r,n}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,sha512.exports=(e=requireCore(),requireX64Core(),function(){var t=e,a=t.lib.Hasher,o=t.x64,r=o.Word,n=o.WordArray,i=t.algo;function l(){return r.create.apply(r,arguments)}var s=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=l()}();var d=i.SHA512=a.extend({_doReset:function(){this._hash=new n.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var a=this._hash.words,o=a[0],r=a[1],n=a[2],i=a[3],l=a[4],d=a[5],u=a[6],p=a[7],h=o.high,m=o.low,v=r.high,f=r.low,g=n.high,y=n.low,_=i.high,b=i.low,w=l.high,x=l.low,V=d.high,k=d.low,C=u.high,S=u.low,N=p.high,T=p.low,B=h,E=m,I=v,$=f,P=g,D=y,L=_,R=b,A=w,O=x,M=V,F=k,z=C,H=S,q=N,U=T,W=0;W<80;W++){var j,G,Y=c[W];if(W<16)G=Y.high=0|e[t+2*W],j=Y.low=0|e[t+2*W+1];else{var K=c[W-15],X=K.high,J=K.low,Q=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=c[W-2],te=ee.high,ae=ee.low,oe=(te>>>19|ae<<13)^(te<<3|ae>>>29)^te>>>6,re=(ae>>>19|te<<13)^(ae<<3|te>>>29)^(ae>>>6|te<<26),ne=c[W-7],ie=ne.high,le=ne.low,se=c[W-16],ce=se.high,de=se.low;G=(G=(G=Q+ie+((j=Z+le)>>>0<Z>>>0?1:0))+oe+((j+=re)>>>0<re>>>0?1:0))+ce+((j+=de)>>>0<de>>>0?1:0),Y.high=G,Y.low=j}var ue,pe=A&M^~A&z,he=O&F^~O&H,me=B&I^B&P^I&P,ve=E&$^E&D^$&D,fe=(B>>>28|E<<4)^(B<<30|E>>>2)^(B<<25|E>>>7),ge=(E>>>28|B<<4)^(E<<30|B>>>2)^(E<<25|B>>>7),ye=(A>>>14|O<<18)^(A>>>18|O<<14)^(A<<23|O>>>9),_e=(O>>>14|A<<18)^(O>>>18|A<<14)^(O<<23|A>>>9),be=s[W],we=be.high,xe=be.low,Ve=q+ye+((ue=U+_e)>>>0<U>>>0?1:0),ke=ge+ve;q=z,U=H,z=M,H=F,M=A,F=O,A=L+(Ve=(Ve=(Ve=Ve+pe+((ue+=he)>>>0<he>>>0?1:0))+we+((ue+=xe)>>>0<xe>>>0?1:0))+G+((ue+=j)>>>0<j>>>0?1:0))+((O=R+ue|0)>>>0<R>>>0?1:0)|0,L=P,R=D,P=I,D=$,I=B,$=E,B=Ve+(fe+me+(ke>>>0<ge>>>0?1:0))+((E=ue+ke|0)>>>0<ue>>>0?1:0)|0}m=o.low=m+E,o.high=h+B+(m>>>0<E>>>0?1:0),f=r.low=f+$,r.high=v+I+(f>>>0<$>>>0?1:0),y=n.low=y+D,n.high=g+P+(y>>>0<D>>>0?1:0),b=i.low=b+R,i.high=_+L+(b>>>0<R>>>0?1:0),x=l.low=x+O,l.high=w+A+(x>>>0<O>>>0?1:0),k=d.low=k+F,d.high=V+M+(k>>>0<F>>>0?1:0),S=u.low=S+H,u.high=C+z+(S>>>0<H>>>0?1:0),T=p.low=T+U,p.high=N+q+(T>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[30+(o+128>>>10<<5)]=Math.floor(a/4294967296),t[31+(o+128>>>10<<5)]=a,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=a._createHelper(d),t.HmacSHA512=a._createHmacHelper(d)}(),e.SHA512)),sha512.exports;var e}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,sha384.exports=(l=requireCore(),requireX64Core(),requireSha512(),t=(e=l).x64,a=t.Word,o=t.WordArray,r=e.algo,n=r.SHA512,i=r.SHA384=n.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i),l.SHA384)),sha384.exports;var e,t,a,o,r,n,i,l}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,sha3.exports=(e=requireCore(),requireX64Core(),function(t){var a=e,o=a.lib,r=o.WordArray,n=o.Hasher,i=a.x64.Word,l=a.algo,s=[],c=[],d=[];!function(){for(var e=1,t=0,a=0;a<24;a++){s[e+5*t]=(a+1)*(a+2)/2%64;var o=(2*e+3*t)%5;e=t%5,t=o}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,n=0;n<24;n++){for(var l=0,u=0,p=0;p<7;p++){if(1&r){var h=(1<<p)-1;h<32?u^=1<<h:l^=1<<h-32}128&r?r=r<<1^113:r<<=1}d[n]=i.create(l,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=i.create()}();var p=l.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var a=this._state,o=this.blockSize/2,r=0;r<o;r++){var n=e[t+2*r],i=e[t+2*r+1];n=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),(T=a[r]).high^=i,T.low^=n}for(var l=0;l<24;l++){for(var p=0;p<5;p++){for(var h=0,m=0,v=0;v<5;v++)h^=(T=a[p+5*v]).high,m^=T.low;var f=u[p];f.high=h,f.low=m}for(p=0;p<5;p++){var g=u[(p+4)%5],y=u[(p+1)%5],_=y.high,b=y.low;for(h=g.high^(_<<1|b>>>31),m=g.low^(b<<1|_>>>31),v=0;v<5;v++)(T=a[p+5*v]).high^=h,T.low^=m}for(var w=1;w<25;w++){var x=(T=a[w]).high,V=T.low,k=s[w];k<32?(h=x<<k|V>>>32-k,m=V<<k|x>>>32-k):(h=V<<k-32|x>>>64-k,m=x<<k-32|V>>>64-k);var C=u[c[w]];C.high=h,C.low=m}var S=u[0],N=a[0];for(S.high=N.high,S.low=N.low,p=0;p<5;p++)for(v=0;v<5;v++){var T=a[w=p+5*v],B=u[w],E=u[(p+1)%5+5*v],I=u[(p+2)%5+5*v];T.high=B.high^~E.high&I.high,T.low=B.low^~E.low&I.low}T=a[0];var $=d[l];T.high^=$.high,T.low^=$.low}},_doFinalize:function(){var e=this._data,a=e.words;this._nDataBytes;var o=8*e.sigBytes,n=32*this.blockSize;a[o>>>5]|=1<<24-o%32,a[(t.ceil((o+1)/n)*n>>>5)-1]|=128,e.sigBytes=4*a.length,this._process();for(var i=this._state,l=this.cfg.outputLength/8,s=l/8,c=[],d=0;d<s;d++){var u=i[d],p=u.high,h=u.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(p)}return new r.init(c,l)},clone:function(){for(var e=n.clone.call(this),t=e._state=this._state.slice(0),a=0;a<25;a++)t[a]=t[a].clone();return e}});a.SHA3=n._createHelper(p),a.HmacSHA3=n._createHmacHelper(p)}(Math),e.SHA3)),sha3.exports;var e}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,ripemd160.exports=(e=requireCore(),
/** @preserve
          			(c) 2012 by Cédric Mesnil. All rights reserved.
          
          			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
          
          			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
          			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
          
          			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          			*/
function(){var t=e,a=t.lib,o=a.WordArray,r=a.Hasher,n=t.algo,i=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),u=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=n.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var o=t+a,r=e[o];e[o]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n,p,_,b,w,x,V,k,C,S,N,T=this._hash.words,B=d.words,E=u.words,I=i.words,$=l.words,P=s.words,D=c.words;for(x=n=T[0],V=p=T[1],k=_=T[2],C=b=T[3],S=w=T[4],a=0;a<80;a+=1)N=n+e[t+I[a]]|0,N+=a<16?h(p,_,b)+B[0]:a<32?m(p,_,b)+B[1]:a<48?v(p,_,b)+B[2]:a<64?f(p,_,b)+B[3]:g(p,_,b)+B[4],N=(N=y(N|=0,P[a]))+w|0,n=w,w=b,b=y(_,10),_=p,p=N,N=x+e[t+$[a]]|0,N+=a<16?g(V,k,C)+E[0]:a<32?f(V,k,C)+E[1]:a<48?v(V,k,C)+E[2]:a<64?m(V,k,C)+E[3]:h(V,k,C)+E[4],N=(N=y(N|=0,D[a]))+S|0,x=S,S=C,C=y(k,10),k=V,V=N;N=T[1]+_+C|0,T[1]=T[2]+b+S|0,T[2]=T[3]+w+x|0,T[3]=T[4]+n+V|0,T[4]=T[0]+p+k|0,T[0]=N},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,n=r.words,i=0;i<5;i++){var l=n[i];n[i]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,a){return e^t^a}function m(e,t,a){return e&t|~e&a}function v(e,t,a){return(e|~t)^a}function f(e,t,a){return e&a|t&~a}function g(e,t,a){return e^(t|~a)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(p),t.HmacRIPEMD160=r._createHmacHelper(p)}(),e.RIPEMD160)),ripemd160.exports;var e}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,hmac.exports=(e=requireCore(),a=(t=e).lib.Base,o=t.enc.Utf8,void(t.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var a=e.blockSize,r=4*a;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),i=this._iKey=t.clone(),l=n.words,s=i.words,c=0;c<a;c++)l[c]^=1549556828,s[c]^=909522486;n.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,a=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(a))}})))),hmac.exports;var e,t,a,o}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,pbkdf2.exports=(s=requireCore(),requireSha256(),requireHmac(),t=(e=s).lib,a=t.Base,o=t.WordArray,r=e.algo,n=r.SHA256,i=r.HMAC,l=r.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:n,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,r=i.create(a.hasher,e),n=o.create(),l=o.create([1]),s=n.words,c=l.words,d=a.keySize,u=a.iterations;s.length<d;){var p=r.update(t).finalize(l);r.reset();for(var h=p.words,m=h.length,v=p,f=1;f<u;f++){v=r.finalize(v),r.reset();for(var g=v.words,y=0;y<m;y++)h[y]^=g[y]}n.concat(p),c[0]++}return n.sigBytes=4*d,n}}),e.PBKDF2=function(e,t,a){return l.create(a).compute(e,t)},s.PBKDF2)),pbkdf2.exports;var e,t,a,o,r,n,i,l,s}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,evpkdf.exports=(l=requireCore(),requireSha1(),requireHmac(),t=(e=l).lib,a=t.Base,o=t.WordArray,r=e.algo,n=r.MD5,i=r.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a,r=this.cfg,n=r.hasher.create(),i=o.create(),l=i.words,s=r.keySize,c=r.iterations;l.length<s;){a&&n.update(a),a=n.update(e).finalize(t),n.reset();for(var d=1;d<c;d++)a=n.finalize(a),n.reset();i.concat(a)}return i.sigBytes=4*s,i}}),e.EvpKDF=function(e,t,a){return i.create(a).compute(e,t)},l.EvpKDF)),evpkdf.exports;var e,t,a,o,r,n,i,l}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,cipherCore.exports=(e=requireCore(),requireEvpkdf(),void(e.lib.Cipher||function(t){var a=e,o=a.lib,r=o.Base,n=o.WordArray,i=o.BufferedBlockAlgorithm,l=a.enc;l.Utf8;var s=l.Base64,c=a.algo.EvpKDF,d=o.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:g}return function(t){return{encrypt:function(a,o,r){return e(o).encrypt(t,a,o,r)},decrypt:function(a,o,r){return e(o).decrypt(t,a,o,r)}}}}()});o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=a.mode={},p=o.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=u.CBC=function(){var e=p.extend();function a(e,a,o){var r,n=this._iv;n?(r=n,this._iv=t):r=this._prevBlock;for(var i=0;i<o;i++)e[a+i]^=r[i]}return e.Encryptor=e.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize;a.call(this,e,t,r),o.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),e.Decryptor=e.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize,n=e.slice(t,t+r);o.decryptBlock(e,t),a.call(this,e,t,r),this._prevBlock=n}}),e}(),m=(a.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,o=a-e.sigBytes%a,r=o<<24|o<<16|o<<8|o,i=[],l=0;l<o;l+=4)i.push(r);var s=n.create(i,o);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:m}),reset:function(){var e;d.reset.call(this);var t=this.cfg,a=t.iv,o=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=o.createEncryptor:(e=o.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,a&&a.words):(this._mode=e.call(o,this,a&&a.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=o.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),f=(a.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,a=e.salt;return(a?n.create([1398893684,1701076831]).concat(a).concat(t):t).toString(s)},parse:function(e){var t,a=s.parse(e),o=a.words;return 1398893684==o[0]&&1701076831==o[1]&&(t=n.create(o.slice(2,4)),o.splice(0,4),a.sigBytes-=16),v.create({ciphertext:a,salt:t})}},g=o.SerializableCipher=r.extend({cfg:r.extend({format:f}),encrypt:function(e,t,a,o){o=this.cfg.extend(o);var r=e.createEncryptor(a,o),n=r.finalize(t),i=r.cfg;return v.create({ciphertext:n,key:a,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,a,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(a,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(a.kdf={}).OpenSSL={execute:function(e,t,a,o,r){if(o||(o=n.random(8)),r)i=c.create({keySize:t+a,hasher:r}).compute(e,o);else var i=c.create({keySize:t+a}).compute(e,o);var l=n.create(i.words.slice(t),4*a);return i.sigBytes=4*t,v.create({key:i,iv:l,salt:o})}},_=o.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,a,o){var r=(o=this.cfg.extend(o)).kdf.execute(a,e.keySize,e.ivSize,o.salt,o.hasher);o.iv=r.iv;var n=g.encrypt.call(this,e,t,r.key,o);return n.mixIn(r),n},decrypt:function(e,t,a,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var r=o.kdf.execute(a,e.keySize,e.ivSize,t.salt,o.hasher);return o.iv=r.iv,g.decrypt.call(this,e,t,r.key,o)}})}()))),cipherCore.exports;var e}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,modeCfb.exports=(e=requireCore(),requireCipherCore(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function a(e,t,a,o){var r,n=this._iv;n?(r=n.slice(0),this._iv=void 0):r=this._prevBlock,o.encryptBlock(r,0);for(var i=0;i<a;i++)e[t+i]^=r[i]}return t.Encryptor=t.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize;a.call(this,e,t,r,o),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var o=this._cipher,r=o.blockSize,n=e.slice(t,t+r);a.call(this,e,t,r,o),this._prevBlock=n}}),t}(),e.mode.CFB)),modeCfb.exports;var e}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,modeCtr.exports=(a=requireCore(),requireCipherCore(),a.mode.CTR=(e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize,r=this._iv,n=this._counter;r&&(n=this._counter=r.slice(0),this._iv=void 0);var i=n.slice(0);a.encryptBlock(i,0),n[o-1]=n[o-1]+1|0;for(var l=0;l<o;l++)e[t+l]^=i[l]}}),e.Decryptor=t,e),a.mode.CTR)),modeCtr.exports;var e,t,a}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,modeCtrGladman.exports=(e=requireCore(),requireCipherCore(),
/** @preserve
           * Counter block mode compatible with  Dr Brian Gladman fileenc.c
           * derived from CryptoJS.mode.CTR
           * Jan Hruby jhruby.web@gmail.com
           */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function a(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,a=e>>8&255,o=255&e;255===t?(t=0,255===a?(a=0,255===o?o=0:++o):++a):++t,e=0,e+=t<<16,e+=a<<8,e+=o}return e}function o(e){return 0===(e[0]=a(e[0]))&&(e[1]=a(e[1])),e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var a=this._cipher,r=a.blockSize,n=this._iv,i=this._counter;n&&(i=this._counter=n.slice(0),this._iv=void 0),o(i);var l=i.slice(0);a.encryptBlock(l,0);for(var s=0;s<r;s++)e[t+s]^=l[s]}});return t.Decryptor=r,t}(),e.mode.CTRGladman)),modeCtrGladman.exports;var e}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,modeOfb.exports=(a=requireCore(),requireCipherCore(),a.mode.OFB=(e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var a=this._cipher,o=a.blockSize,r=this._iv,n=this._keystream;r&&(n=this._keystream=r.slice(0),this._iv=void 0),a.encryptBlock(n,0);for(var i=0;i<o;i++)e[t+i]^=n[i]}}),e.Decryptor=t,e),a.mode.OFB)),modeOfb.exports;var e,t,a}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,modeEcb.exports=(t=requireCore(),requireCipherCore(),t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),t.mode.ECB)),modeEcb.exports;var e,t}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,padAnsix923.exports=(e=requireCore(),requireCipherCore(),e.pad.AnsiX923={pad:function(e,t){var a=e.sigBytes,o=4*t,r=o-a%o,n=a+r-1;e.clamp(),e.words[n>>>2]|=r<<24-n%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923)),padAnsix923.exports;var e}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,padIso10126.exports=(e=requireCore(),requireCipherCore(),e.pad.Iso10126={pad:function(t,a){var o=4*a,r=o-t.sigBytes%o;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126)),padIso10126.exports;var e}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,padIso97971.exports=(e=requireCore(),requireCipherCore(),e.pad.Iso97971={pad:function(t,a){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,a)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971)),padIso97971.exports;var e}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,padZeropadding.exports=(e=requireCore(),requireCipherCore(),e.pad.ZeroPadding={pad:function(e,t){var a=4*t;e.clamp(),e.sigBytes+=a-(e.sigBytes%a||a)},unpad:function(e){var t=e.words,a=e.sigBytes-1;for(a=e.sigBytes-1;a>=0;a--)if(t[a>>>2]>>>24-a%4*8&255){e.sigBytes=a+1;break}}},e.pad.ZeroPadding)),padZeropadding.exports;var e}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,padNopadding.exports=(e=requireCore(),requireCipherCore(),e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding)),padNopadding.exports;var e}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,formatHex.exports=(o=requireCore(),requireCipherCore(),t=(e=o).lib.CipherParams,a=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var o=a.parse(e);return t.create({ciphertext:o})}},o.format.Hex)),formatHex.exports;var e,t,a,o}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,aes.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib.BlockCipher,o=t.algo,r=[],n=[],i=[],l=[],s=[],c=[],d=[],u=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var a=0,o=0;for(t=0;t<256;t++){var m=o^o<<1^o<<2^o<<3^o<<4;m=m>>>8^255&m^99,r[a]=m,n[m]=a;var v=e[a],f=e[v],g=e[f],y=257*e[m]^16843008*m;i[a]=y<<24|y>>>8,l[a]=y<<16|y>>>16,s[a]=y<<8|y>>>24,c[a]=y,y=16843009*g^65537*f^257*v^16843008*a,d[m]=y<<24|y>>>8,u[m]=y<<16|y>>>16,p[m]=y<<8|y>>>24,h[m]=y,a?(a=v^e[e[e[g^v]]],o^=e[e[o]]):a=o=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=a.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,o=4*((this._nRounds=a+6)+1),n=this._keySchedule=[],i=0;i<o;i++)i<a?n[i]=t[i]:(c=n[i-1],i%a?a>6&&i%a==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=m[i/a|0]<<24),n[i]=n[i-a]^c);for(var l=this._invKeySchedule=[],s=0;s<o;s++){if(i=o-s,s%4)var c=n[i];else c=n[i-4];l[s]=s<4||i<=4?c:d[r[c>>>24]]^u[r[c>>>16&255]]^p[r[c>>>8&255]]^h[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,l,s,c,r)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,d,u,p,h,n),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,o,r,n,i,l){for(var s=this._nRounds,c=e[t]^a[0],d=e[t+1]^a[1],u=e[t+2]^a[2],p=e[t+3]^a[3],h=4,m=1;m<s;m++){var v=o[c>>>24]^r[d>>>16&255]^n[u>>>8&255]^i[255&p]^a[h++],f=o[d>>>24]^r[u>>>16&255]^n[p>>>8&255]^i[255&c]^a[h++],g=o[u>>>24]^r[p>>>16&255]^n[c>>>8&255]^i[255&d]^a[h++],y=o[p>>>24]^r[c>>>16&255]^n[d>>>8&255]^i[255&u]^a[h++];c=v,d=f,u=g,p=y}v=(l[c>>>24]<<24|l[d>>>16&255]<<16|l[u>>>8&255]<<8|l[255&p])^a[h++],f=(l[d>>>24]<<24|l[u>>>16&255]<<16|l[p>>>8&255]<<8|l[255&c])^a[h++],g=(l[u>>>24]<<24|l[p>>>16&255]<<16|l[c>>>8&255]<<8|l[255&d])^a[h++],y=(l[p>>>24]<<24|l[c>>>16&255]<<16|l[d>>>8&255]<<8|l[255&u])^a[h++],e[t]=v,e[t+1]=f,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=a._createHelper(v)}(),e.AES)),aes.exports;var e}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,tripledes.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib,o=a.WordArray,r=a.BlockCipher,n=t.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=n.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],a=0;a<56;a++){var o=i[a]-1;t[a]=e[o>>>5]>>>31-o%32&1}for(var r=this._subKeys=[],n=0;n<16;n++){var c=r[n]=[],d=s[n];for(a=0;a<24;a++)c[a/6|0]|=t[(l[a]-1+d)%28]<<31-a%6,c[4+(a/6|0)]|=t[28+(l[a+24]-1+d)%28]<<31-a%6;for(c[0]=c[0]<<1|c[0]>>>31,a=1;a<7;a++)c[a]=c[a]>>>4*(a-1)+3;c[7]=c[7]<<5|c[7]>>>27}var u=this._invSubKeys=[];for(a=0;a<16;a++)u[a]=r[15-a]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,a){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),p.call(this,1,1431655765);for(var o=0;o<16;o++){for(var r=a[o],n=this._lBlock,i=this._rBlock,l=0,s=0;s<8;s++)l|=c[s][((i^r[s])&d[s])>>>0];this._lBlock=i,this._rBlock=n^l}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,p.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var a=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=a,this._lBlock^=a<<e}function h(e,t){var a=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=a,this._rBlock^=a<<e}t.DES=r._createHelper(u);var m=n.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),a=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(o.create(t)),this._des2=u.createEncryptor(o.create(a)),this._des3=u.createEncryptor(o.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(m)}(),e.TripleDES)),tripledes.exports;var e}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,rc4.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib.StreamCipher,o=t.algo,r=o.RC4=a.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes,o=this._S=[],r=0;r<256;r++)o[r]=r;r=0;for(var n=0;r<256;r++){var i=r%a,l=t[i>>>2]>>>24-i%4*8&255;n=(n+o[r]+l)%256;var s=o[r];o[r]=o[n],o[n]=s}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var e=this._S,t=this._i,a=this._j,o=0,r=0;r<4;r++){a=(a+e[t=(t+1)%256])%256;var n=e[t];e[t]=e[a],e[a]=n,o|=e[(e[t]+e[a])%256]<<24-8*r}return this._i=t,this._j=a,o}t.RC4=a._createHelper(r);var i=o.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)n.call(this)}});t.RC4Drop=a._createHelper(i)}(),e.RC4)),rc4.exports;var e}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,rabbit.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib.StreamCipher,o=t.algo,r=[],n=[],i=[],l=o.Rabbit=a.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,a=0;a<4;a++)e[a]=16711935&(e[a]<<8|e[a]>>>24)|4278255360&(e[a]<<24|e[a]>>>8);var o=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,a=0;a<4;a++)s.call(this);for(a=0;a<8;a++)r[a]^=o[a+4&7];if(t){var n=t.words,i=n[0],l=n[1],c=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),d=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),u=c>>>16|4294901760&d,p=d<<16|65535&c;for(r[0]^=c,r[1]^=u,r[2]^=d,r[3]^=p,r[4]^=c,r[5]^=u,r[6]^=d,r[7]^=p,a=0;a<4;a++)s.call(this)}},_doProcessBlock:function(e,t){var a=this._X;s.call(this),r[0]=a[0]^a[5]>>>16^a[3]<<16,r[1]=a[2]^a[7]>>>16^a[5]<<16,r[2]=a[4]^a[1]>>>16^a[7]<<16,r[3]=a[6]^a[3]>>>16^a[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),e[t+o]^=r[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,a=0;a<8;a++)n[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,a=0;a<8;a++){var o=e[a]+t[a],r=65535&o,l=o>>>16,s=((r*r>>>17)+r*l>>>15)+l*l,c=((4294901760&o)*o|0)+((65535&o)*o|0);i[a]=s^c}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.Rabbit=a._createHelper(l)}(),e.Rabbit)),rabbit.exports;var e}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,rabbitLegacy.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib.StreamCipher,o=t.algo,r=[],n=[],i=[],l=o.RabbitLegacy=a.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,a=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)s.call(this);for(r=0;r<8;r++)o[r]^=a[r+4&7];if(t){var n=t.words,i=n[0],l=n[1],c=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),d=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),u=c>>>16|4294901760&d,p=d<<16|65535&c;for(o[0]^=c,o[1]^=u,o[2]^=d,o[3]^=p,o[4]^=c,o[5]^=u,o[6]^=d,o[7]^=p,r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(e,t){var a=this._X;s.call(this),r[0]=a[0]^a[5]>>>16^a[3]<<16,r[1]=a[2]^a[7]>>>16^a[5]<<16,r[2]=a[4]^a[1]>>>16^a[7]<<16,r[3]=a[6]^a[3]>>>16^a[1]<<16;for(var o=0;o<4;o++)r[o]=16711935&(r[o]<<8|r[o]>>>24)|4278255360&(r[o]<<24|r[o]>>>8),e[t+o]^=r[o]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,a=0;a<8;a++)n[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,a=0;a<8;a++){var o=e[a]+t[a],r=65535&o,l=o>>>16,s=((r*r>>>17)+r*l>>>15)+l*l,c=((4294901760&o)*o|0)+((65535&o)*o|0);i[a]=s^c}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}t.RabbitLegacy=a._createHelper(l)}(),e.RabbitLegacy)),rabbitLegacy.exports;var e}var blowfish={exports:{}},hasRequiredBlowfish,module2,CryptoJS2;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,blowfish.exports=(e=requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore(),function(){var t=e,a=t.lib.BlockCipher,o=t.algo;const r=16,n=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],i=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function s(e,t){let a=t>>24&255,o=t>>16&255,r=t>>8&255,n=255&t,i=e.sbox[0][a]+e.sbox[1][o];return i^=e.sbox[2][r],i+=e.sbox[3][n],i}function c(e,t,a){let o,n=t,i=a;for(let l=0;l<r;++l)n^=e.pbox[l],i=s(e,n)^i,o=n,n=i,i=o;return o=n,n=i,i=o,i^=e.pbox[r],n^=e.pbox[r+1],{left:n,right:i}}function d(e,t,a){let o,n=t,i=a;for(let l=r+1;l>1;--l)n^=e.pbox[l],i=s(e,n)^i,o=n,n=i,i=o;return o=n,n=i,i=o,i^=e.pbox[1],n^=e.pbox[0],{left:n,right:i}}function u(e,t,a){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=i[r][t]}let o=0;for(let i=0;i<r+2;i++)e.pbox[i]=n[i]^t[o],o++,o>=a&&(o=0);let l=0,s=0,d=0;for(let n=0;n<r+2;n+=2)d=c(e,l,s),l=d.left,s=d.right,e.pbox[n]=l,e.pbox[n+1]=s;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)d=c(e,l,s),l=d.left,s=d.right,e.sbox[r][t]=l,e.sbox[r][t+1]=s;return!0}var p=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4;u(l,t,a)}},encryptBlock:function(e,t){var a=c(l,e[t],e[t+1]);e[t]=a.left,e[t+1]=a.right},decryptBlock:function(e,t){var a=d(l,e[t],e[t+1]);e[t]=a.left,e[t+1]=a.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=a._createHelper(p)}(),e.Blowfish)),blowfish.exports;var e}module2=cryptoJs,module2.exports=(CryptoJS2=requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish(),CryptoJS2);var cryptoJsExports=cryptoJs.exports;const CryptoJS=getDefaultExportFromCjs(cryptoJsExports);let firebase=null;var uid=apiurl.uid,tok=apiurl.tok,source=null,positiondata={},holdingsdata={},ordersdata={},clientdetails={},orderprefdata={},sllmasters={};function getAppStore$1(){return useAppStore()}setIndicatorsidx();let limitsApiState={hasBeenCalledOnce:!1,isPending:!1,pendingPromise:null,cachedData:null,cacheExpiry:0,cacheDurationMs:1/0};async function seyCheckwebsocket$2(){uid=sessionStorage.getItem("userid"),tok=sessionStorage.getItem("msession")}function setIndicatorsidx(){var e=new URL(window.location.href).searchParams;e&&e.get("user")&&(uid=e.get("user"),tok=e.get("usession"))}let myHeaders=new Headers,myHeader=new Headers;myHeaders.append("Content-Type","application/json"),myHeader.append("Content-Type","text/plain");var requestOptions={method:"POST",redirect:"follow",headers:myHeaders},requestMOption={method:"POST",redirect:"follow",headers:myHeader};function setHeaderauth(){let e=sessionStorage.getItem("userid"),t=sessionStorage.getItem("usession");myHeaders.has("clientid")||myHeaders.append("clientid",e),myHeaders.has("Authorization")||myHeaders.append("Authorization",t)}async function getDeskLogout(e){return requestOptions.body=`{"clientid":"${e[0]}", "token":"${e[1]}"}`,await fetchMyntAPI(apiurl.autho+"desklogout",requestOptions)}async function getReSession(e){const t=crypto.randomUUID();requestOptions.body=`{"imei": "${t}","clientid": "${e[0]}","hstoken": "${e[1]}","source": "TV","path": "${e[2]}"}`;var a=await fetchMyntAPI(apiurl.copy+"redirect",requestOptions);return a&&"Ok"==a.stat&&(a.timei=t),a}async function getProfiledata(e){return requestOptions.body=e[0],setHeaderauth(),await fetchMyntAPI(apiurl.ledger+"profile",requestOptions)}async function getcallApi(e){return requestOptions.body=e,await fetchMyntAPI(apiurl.copy+"MobileLogin",requestOptions)}async function getActiveSession(e){if(firebase&&firebase.source)source=firebase.source;else{await fire.get(fire.child(fire.ref(fire.db),"desk/")).then(e=>{e.exists()?(firebase=e.val(),source=firebase.source):(firebase="WEB",source="WEB")}).catch(e=>{source="WEB",console.error(e)});var t=new URL(window.location.href).searchParams.get("src"),a=t||sessionStorage.getItem("socsrc");a&&(source=a,firebase.source=a,sessionStorage.setItem("socsrc",source))}var o=seteEcryption(e);requestOptions.body=`{"string":"${o}","source":"${source}"}`;var r=await fetchMyntAPI(apiurl.copy+"get_sessions",requestOptions);return JSON.parse(setDecryption(r.str))}async function getPreDefinedMW(){return requestOptions.body="",await fetchMyntAPI(apiurl.copy+"PreDefinedMW",requestOptions)}async function getHsTokenapi(){return requestMOption.body=`jData={"uid":"${uid}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetHsToken",requestMOption)}async function getGloabSearch(e){return requestMOption.body=e,await fetchMyntAPI(apiurl.zebuApiUrl+"global/SearchScrip",requestMOption)}async function getKambalaSearch(e){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+"SearchScrip",requestMOption)}async function getMwatchlistset(e,t){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+t,requestMOption)}async function getMHoldings(e){var t,a;getAppStore$1();const o=sessionStorage.getItem("userid"),r=sessionStorage.getItem("msession");if(!o||!r)return{response:[],edis:0};holdingsdata&&holdingsdata.response&&holdingsdata.response.length>0&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:holdingsdata}))},10),requestMOption.body=`jData={"uid":"${o}","actid":"${o}","prd":"C"}&jKey=${r}`;var n=await fetchMyntAPI(mynturl.myntapi+"Holdings",requestMOption);let i=[];var l=0;if(n&&n.length>0)for(let s=0;s<n.length;s++){n[s].idx=s,n[s].exch=n[s].exch_tsym[0].exch,n[s].exchs=n[s].exch_tsym[0].tsym.includes("-TB")?"T-BILL":n[s].exch_tsym[0].tsym.includes("-GS")?"G-SEC":n[s].exch_tsym[0].tsym.includes("-GB")?"SGB":n[s].exch_tsym[0].exch,n[s].token=n[s].exch_tsym[0].token,n[s].tsym=n[s].exch_tsym[0].tsym,n[s].pp=n[s].exch_tsym[0].pp,n[s].ti=n[s].exch_tsym[0].ti,n[s].ls=n[s].exch_tsym[0].ls,n[s].isin=n[s].exch_tsym[0].isin;const e=Number(n[s].holdqty)>0?Number(n[s].holdqty):0,o=Number(n[s].unplgdqty)>0?Number(n[s].unplgdqty):0,r=Number(n[s].benqty)>0?Number(n[s].benqty):0,c=Math.max(Number(n[s].npoadt1qty)>0?Number(n[s].npoadt1qty):0,Number(n[s].npoadqty)>0?Number(n[s].npoadqty):0,Number(n[s].dpqty)>0?Number(n[s].dpqty):0),d=Number(n[s].usedqty)>0?Number(n[s].usedqty):0;n[s].netqty=e+o+r+c-d,n[s].salqty=n[s].btstqty>0?n[s].btstqty:0+n[s].holdqty>0?n[s].holdqty:0+n[s].unplgdqty>0?n[s].unplgdqty:0+n[s].benqty>0?n[s].benqty:0+n[s].dpqty>0?n[s].dpqty:0-n[s].usedqty>0?n[s].usedqty:0,n[s].plgqty=n[s].brkcolqty>0?n[s].brkcolqty:0,n[s].action="NSE"==n[s].exch||"BSE"==n[s].exch||"NFO"==n[s].exch||"MCX"==n[s].exch||"CD"==n[s].exch,i.push({...n[s]}),l+=Number(null==(t=n[s])?void 0:t.npoadqty)>0?Number(n[s].npoadqty):0,l+=Number(null==(a=n[s])?void 0:a.npoadt1qty)>0?Number(n[s].npoadt1qty):0}return 500!=n&&(holdingsdata={response:i,edis:l})&&holdingsdata.response&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:holdingsdata}))},150),holdingsdata}async function getMMHoldings(){let e={ClientCode:uid};return requestOptions.body=JSON.stringify(e),await fetchMyntAPI(apiurl.mfnewapi+"order/holdings",requestOptions)}async function getMPosotion(e){getAppStore$1();const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return{a:[],o:[],c:[]};e&&positiondata&&positiondata.data&&positiondata.data.length>0&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:positiondata}))},10),requestMOption.body=`jData={"uid":"${t}","actid":"${t}"}&jKey=${a}`;var o=await fetchMyntAPI(mynturl.myntapi+"PositionBook",requestMOption),r=[],n=[];if(o&&o.length>0){for(let e=0;e<o.length;e++){o[e].idx=e;const t="CDS"==o[e].exch||"BCD"==o[e].exch?parseFloat(o[e].totbuyavgprc).toFixed(4):parseFloat(o[e].totbuyavgprc).toFixed(2),a="CDS"==o[e].exch||"BCD"==o[e].exch?parseFloat(o[e].totsellavgprc).toFixed(4):parseFloat(o[e].totsellavgprc).toFixed(2),i=t||0,l=a||0;0==o[e].netqty?(o[e].way="close",r.push(o[e])):(o[e].way="open",o[e].disabled=!1,n.push(o[e])),o[e].totbuyavgprc=i,o[e].totsellavgprc=l,o[e].tokn=o[e].token+"_"+e,o[e].avgprc=o[e].netavgprc&&Number(o[e].netavgprc)>0?o[e].netavgprc:o[e].netupldprc&&Number(o[e].netupldprc)>0?o[e].netupldprc:o[e].upldprc&&Number(o[e].upldprc)>0?o[e].upldprc:o[e].dayavgprc,o[e].crpnl=o[e].rpnl,o[e].tempqty=parseFloat(o[e].daybuyqty||"0")+parseFloat(o[e].cfbuyqty||"0")<parseFloat(o[e].daysellqty||"0")+parseFloat(o[e].cfsellqty||"0")?parseFloat(o[e].daybuyqty||"0"):parseFloat(o[e].daysellqty||"0"),o[e].tempqty=o[e].tempqty*o[e].prcftr,o[e].tempavg=o[e].netqty>0?Number(o[e].daysellavgprc)-parseFloat(o[e].netupldprc||"0"):parseFloat(o[e].netupldprc||"0")-Number(o[e].daybuyavgprc),o[e].temprpnl=o[e].tempavg*o[e].tempqty}positiondata={a:o,o:n,c:r}}else 500!=o&&(positiondata=o);return e&&positiondata&&(positiondata.a||positiondata.o)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:positiondata}))},150),positiondata}async function getMPosotionCon(e){return requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"ProductConversion",requestMOption)}async function getQuotesdata(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");return uid=t||uid,tok=a||tok,t&&a?(requestMOption.body=`jData={"uid":"${t}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${a}`,await fetchMyntAPI(mynturl.myntapi+"GetQuotes",requestMOption)):(console.error("getQuotesdata: uid or token not available from sessionStorage"),{stat:"Not Ok",emsg:"Authentication required"})}async function getOptionschain(e){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+"GetOptionChain",requestMOption)}async function getSecuritydata(e){return requestMOption.body=`jData={"uid":"${uid}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetSecurityInfo",requestMOption)}async function getTechnicals(e){return requestMOption.body=`jData={"uid":"${uid}","exch":"${e.split("|")[0]}","tsym":"${e.split("|")[2]}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetTechnicals",requestMOption)}async function getLinkedScrips(e){return requestMOption.body=`jData={"uid":"${uid}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetLinkedScrips",requestMOption)}async function getOrderMargin(e){return requestMOption.body=`jData={"uid":"${uid}","actid":"${uid}","exch":"${e.exch}","tsym":"${e.tsym}","qty":"${e.qty}","prc":"${e.prc}","prd":"${e.prd}","trantype":"${e.trantype}","prctyp":"${e.prctyp}","trgprc":"${e.trgprc}","rorgqty":"0","rorgprc":"0"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetOrderMargin",requestMOption)}async function getBSKMargin(e){return requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetBasketMargin",requestMOption)}async function getBrokerage(e){return requestMOption.body=`jData={"uid":"${uid}","actid":"${uid}","exch":"${e.exch}","tsym":"${e.tsym}","qty":"${e.qty}","prc":"${e.prc}","prd":"${e.prd}","trantype":"${e.trantype}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetBrokerage",requestMOption)}async function getPlaceOrder(e,t){try{uid=sessionStorage.getItem("userid")||uid,tok=sessionStorage.getItem("msession")||tok}catch(a){}return"can-ex"!=t&&(e.tsym&&(e.tsym=encodeURIComponent(e.tsym)),e.app_inst_id=sessionStorage.getItem("imei"),e.usr_agent=navigator.appVersion,e.ipaddr=localStorage.getItem("uuidipadd")),requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+("can-ex"==t?"ExitSNOOrder":"can"==t?"CancelOrder":"mod"==t?"ModifyOrder":"PlaceOrder"),requestMOption)}async function getSIPOrderset(e,t){try{uid=sessionStorage.getItem("userid")||uid,tok=sessionStorage.getItem("msession")||tok}catch(a){}return requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+t,requestMOption)}async function getGTTPlaceOrder(e,t){try{uid=sessionStorage.getItem("userid")||uid,tok=sessionStorage.getItem("msession")||tok}catch(a){}return requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+t,requestMOption)}async function setMalert(e,t){return requestMOption.body=`jData=${JSON.stringify(e)}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"CancelAlert",requestMOption)}async function getMOrderbook(e){getAppStore$1();const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return{response:[],openorders:[],execorders:[],stat:[0,0,0]};requestMOption.body=`jData={"uid":"${t}","actid":"${t}"}&jKey=${a}`;var o=await fetchMyntAPI(mynturl.myntapi+"OrderBook",requestMOption),r=[],n=[],i=[0,0,0];if(o&&o.length>0)for(let l=0;l<o.length;l++)o[l].idx=l,"PENDING"==o[l].status||"OPEN"==o[l].status||"TRIGGER_PENDING"==o[l].status?(o[l].exord=!("BO"!=o[l].s_prdt_ali&&"CO"!=o[l].s_prdt_ali||!o[l].snonum),o[l].way="open",n.push(o[l]),o[l].disabled=!1):(o[l].way="exec",r.push(o[l])),o[l].value=o[l].qty*o[l].avgprc,"PENDING"==o[l].status||"OPEN"==o[l].status||"TRIGGER_PENDING"==o[l].status?i[0]+=1:"COMPLETE"==o[l].status?i[1]+=1:i[2]+=1;return 500!=o&&(ordersdata={response:o,openorders:n,execorders:r,stat:i},e&&ordersdata&&ordersdata.stat&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:ordersdata}))},150)),ordersdata}async function getMTradebook(e){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+"TradeBook",requestMOption)}async function getSiporderbook(e){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+"SipOrderBook",requestMOption)}async function getSingleorderbook(e){return requestMOption.body=`jData={"uid":"${uid}","norenordno":"${e}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"SingleOrdHist",requestMOption)}async function getGttorderbook(){return requestMOption.body=`jData={"uid":"${uid}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"GetPendingGTTOrder",requestMOption)}async function setCancelGTT(e){return requestMOption.body=e,await fetchMyntAPI(mynturl.myntapi+"CancelGTTOrder",requestMOption)}async function getAlertAPi(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");return t&&a?(requestMOption.body=`jData={"uid":"${t}"}&jKey=${a}`,await fetchMyntAPI(mynturl.myntapi+e,requestMOption)):[]}async function getMLimits(e,t=!1){const a=sessionStorage.getItem("userid"),o=sessionStorage.getItem("msession");if(!a||!o)return{stat:"Error"};if(limitsApiState.hasBeenCalledOnce&&!t)return console.log("🚫 Limits API already called once. Returning cached data. Use forceRefreshMLimits() for manual refresh."),limitsApiState.cachedData||{stat:"Error",emsg:"Limits data not yet loaded"};if(limitsApiState.isPending&&limitsApiState.pendingPromise)return console.log("🔄 Limits API call already in progress, reusing existing promise..."),await limitsApiState.pendingPromise;if(limitsApiState.cachedData&&!t)return console.log("💾 Returning cached Limits data"),limitsApiState.cachedData;limitsApiState.isPending=!0,t||(limitsApiState.hasBeenCalledOnce=!0);const r=(async()=>{try{requestMOption.body=`jData={"uid":"${a}","actid":"${a}"}&jKey=${o}`;var t=await fetchMyntAPI(mynturl.myntapi+"Limits",requestMOption);if(t&&"Ok"==t.stat){var r=(Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)+(Number(t.cash)?Number(t.cash):0)+(Number(t.payin)?Number(t.payin):0)-Math.abs(Number(t.daycash)?Number(t.daycash):0);t.total=e?r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):r;var n=(Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)+(Number(t.cash)?Number(t.cash):0)-Number(t.marginused??0)+(Number(t.payin)?Number(t.payin):0)-(Math.abs(Number(t.daycash))?Math.abs(Number(t.daycash)):0);if(t.opnbal=(Number(t.cash)?Number(t.cash):0)+(Number(t.payin)?Number(t.payin):0)-Math.abs(Number(t.daycash)?Number(t.daycash):0),t.collateral=((Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),t.avbma=n>0||n<0?e?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):n:0,e)for(const[e,a]of Object.entries(t))e&&a&&Number(a)&&(t[e]=0!=Number(a)?Number(a).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):null);limitsApiState.cachedData=t,limitsApiState.cacheExpiry=Date.now()+limitsApiState.cacheDurationMs}return t}finally{limitsApiState.isPending=!1,limitsApiState.pendingPromise=null}})();return limitsApiState.pendingPromise=r,await r}async function forceRefreshMLimits(e){return console.log("🔄 Force refreshing Limits API..."),limitsApiState.hasBeenCalledOnce=!1,await getMLimits(e,!0)}async function getClientDetails(){var e;return seyCheckwebsocket$2(),clientdetails&&"Ok"==clientdetails.stat?e=clientdetails:(uid&&tok||(uid=sessionStorage.getItem("userid"),tok=sessionStorage.getItem("msession")),uid&&tok?(requestMOption.body=`jData={"uid":"${uid}","actid":"${uid}"}&jKey=${tok}`,(e=await fetchMyntAPI(mynturl.myntapi+"ClientDetails",requestMOption))&&"Ok"==e.stat&&(clientdetails=e)):e={stat:"Not Ok",emsg:"Authentication required"}),e}async function getMyntLogout(e){return requestMOption.body=`jData={"uid":"${uid}","source":"${e}"}&jKey=${tok}`,await fetchMyntAPI(mynturl.myntapi+"Logout",requestMOption)}async function getEXPosition(){return requestOptions.body=`{"client_id":"${uid}"}`,await fetchMyntAPI(apiurl.exmynt+"api/GetPosition",requestOptions)}async function getOIbars(e){return requestOptions.body=`{"value":"${e}","count":"30"}`,await fetchMyntAPI(apiurl.exmynt+"/get_oi_bar",requestOptions)}async function getPostPnL(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");return t&&a?(requestOptions.body=JSON.stringify({clientid:t,session:a,source:mynturl.source,chartdata:e}),await fetchMyntAPI(apiurl.eqapi+"positionpnlmargin",requestOptions)):{mtm:[]}}async function getssNews(){return requestOptions.body="",await fetchMyntAPI(apiurl.sessapi+"newsfeedin?pagesize=5&pagecount=1&filterdate=monthly",{method:"get"})}async function getCorporateact(){return requestOptions.body="",await fetchMyntAPI(apiurl.iposapi+"getCorporateAction",requestOptions)}async function getssDetails(e){return requestOptions.body=`{"symbol":"${e}"}`,await fetchMyntAPI(apiurl.eqapi+"stockFundamentalDetails",requestOptions)}async function getIndexList(){return requestOptions.body="",await fetchMyntAPI(apiurl.eqapi+"GetIndexList",requestOptions)}async function getTopList(e){return requestOptions.body=`{"exch":"${e[0]}","bskt":"${e[1]}","crt":"${e[2]}"}`,await fetchMyntAPI(apiurl.eqapi+"TopList",requestOptions)}async function getConTentList(e){return requestOptions.body=`{"exch":"${e[0]}","basket":"${e[1]}","condition":"${e[2]}"}`,await fetchMyntAPI(apiurl.eqapi+"GetContentList",requestOptions)}async function getADindices(){return requestOptions.body="",await fetchMyntAPI(apiurl.eqapi+"getadindicesAdvdec",requestOptions)}async function getADindice(e){return requestOptions.body=`{"index": "${e}"}`,await fetchMyntAPI(apiurl.eqapi+"getadindices",requestOptions)}async function getMFlumsum_order(e){return requestOptions.body=`{"ClientCode":"${e[0]}"}`,await fetchMyntAPI(apiurl.mfnewapi+"order/OrderBook",requestOptions)}async function getmfsipnewapi(){return requestOptions.body=`{"ClientCode":"${uid}","status":"ACTIVE"}`,await fetchMyntAPI(apiurl.mfnewapi+"order/FetchSIP",requestOptions)}async function getmfsipnewapihisty(){return requestOptions.body=`{"ClientCode":"${uid}"}`,await fetchMyntAPI(apiurl.mfnewapi+"order/FetchSIP",requestOptions)}async function getMFwatchlist(e){return requestOptions.body=e,await fetchMyntAPI(apiurl.mfnewapi+"dashboard/watchlist_for_mobile",requestOptions)}async function getMFcancellum(e,t){return requestOptions.body=`{"ClientCode":"${uid}","OrderId":"${e}"}`,await fetchMyntAPI(apiurl.mfnewapi+("R"==t?"lumsum_redemption_cancel":"order/lumpsum_purchase_cancel"),requestOptions)}async function getMFcancelxsip(e){return requestOptions.body=`{"ClientCode":"${uid}","SIPRegnNo":"${e[1]}","scheme_code":"${e[2]}","CaseNo":"${e[3]}","remarks":"${e[4]}","source": "web","placed_by": "${uid}"}`,await fetchMyntAPI(apiurl.mfnewapi+"order/xsip_cancel",requestOptions)}async function getMFcancelation(){return requestOptions.body="",await fetchMyntAPI(apiurl.mfnewapi+"order/reasons",requestOptions)}async function getmfpauseapi(e){return requestOptions.body=`{"ClientCode":"${uid}","SIPRegnNo":"${e[1]}","scheme_code":"${e[2]}","installments":"${e[3]}","source": "web","placed_by": "${uid}"}`,await fetchMyntAPI(apiurl.mfnewapi+"order/xsip_pause",requestOptions)}async function getIposbook(e){return requestOptions.body=`{"client_id": "${e[0]}"}`,setHeaderauth(),await fetchMyntAPI(apiurl.iposapi+"orderbookIPODetails",requestOptions)}async function getBondbook(e){return requestOptions.body=`{"client_id": "${e[0]}"}`,setHeaderauth(),await fetchMyntAPI(apiurl.bondapi+"orderbookncbDetails",requestOptions)}async function getBondsgbbook(e){return requestOptions.body=`{"client_id": "${e[0]}"}`,setHeaderauth(),await fetchMyntAPI(apiurl.bondapi+"orderbooksgbDetails",requestOptions)}async function getLtpdata(e){return requestOptions.body=`{ "data": ${JSON.stringify(e)} }`,await fetchMyntAPI(apiurl.asvrapi+"GetLtp",requestOptions)}async function getGreekoptions(e){return requestOptions.body=e,await fetchMyntAPI(apiurl.zebuApiUrl+"getoptiongreeks",requestOptions)}async function getIndicators(){try{return(await fetch(`https://be.mynt.in/getindicators?clientCode=${uid}`)).json()}catch(e){throw new Error(`get symbols request error: ${e}`)}}async function setIndicators(e){try{return(await fetch(`https://be.mynt.in/storeindicators?clientCode=${uid}&indicators=${JSON.stringify(e)}`)).json()}catch(t){throw new Error(`get symbols request error: ${t}`)}}async function setOrdprefApi(e,t){requestOptions.body=t?JSON.stringify(e):"";var a=!t&&orderprefdata&&orderprefdata.metadata&&orderprefdata.metadata.mainpreitems?orderprefdata:await fetchMyntAPI(apiurl.zebuApiUrl+(t?"weblog/savepreference":`weblog/getpreference?clientid=${uid}&source=WEB`),t?requestOptions:{method:"get"});return orderprefdata=t?e:a,a}async function getMasters(e){let t=null==sllmasters?void 0:sllmasters[encodeURIComponent(e)];return t||(t=await fetchMyntjson(`${apiurl.zebuApiUrl}findsymbol?tsym=${encodeURIComponent(e)}`),(null==t?void 0:t.length)>3&&(sllmasters[encodeURIComponent(e)]=t)),t}async function fetchMyntAPI(e,t,a){const o=(new Date).toLocaleString(),r=getAppStore$1();try{const n=await fetch(e,t);let i=await n.json();if(i=JSON.stringify(i),i=JSON.parse(i),uid&&tok){const t=n.status,a=(new Date).toLocaleTimeString(),r=n.ok?"ok":i;saveApiLog(`${t} || t: ${o} - ${a} || ${e.split(".in")[1]} || m: ${r}`,o)}if(a||requestOptions.body&&delete requestOptions.body,!i||!i.emsg||"Session Expired :  Invalid Session Key"!==i.emsg)return i;r.showSnackbar(2,i.emsg)}catch(n){if(uid&&tok){const t=(new Date).toLocaleString(),a=n.status||0,r=n.message||"Unknown error";saveApiLog(`${a} || t: ${o} - ${t} || ${e.split(".in")[1]} || m: ${r}`,o)}return 401===n.status&&r.showSnackbar(2,n),requestOptions.body&&delete requestOptions.body,500}}function saveApiLog(e,t){const a=JSON.parse(localStorage.getItem(`${uid}_apiLogs`)||"[]"),o=getDateOnly(t),r=a.length?a[0]:null;o&&"string"==typeof r&&r.includes(o)||(a.length=0),a.unshift(e),localStorage.setItem(`${uid}_apiLogs`,JSON.stringify(a))}function getDateOnly(e){return e.slice(0,10)}async function fetchMyntjson(e){try{const t=await fetch(e);let a=await t.json();return a=JSON.stringify(a),a=JSON.parse(a),a}catch(t){return[]}}function seteEcryption(e){const t=JSON.stringify({clientid:e});var a=CryptoJS.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),o=CryptoJS.enc.Utf8.parse("3790514682037125");return CryptoJS.AES.encrypt(t,a,{iv:o,mode:CryptoJS.mode.CBC}).toString()}function setDecryption(e){const t=e,a=CryptoJS.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),o=CryptoJS.enc.Utf8.parse("3790514682037125"),r=t;return CryptoJS.AES.decrypt(r,a,{iv:o,mode:CryptoJS.mode.CBC}).toString(CryptoJS.enc.Utf8)}function getMHoldingdata(){return holdingsdata&&holdingsdata.response&&holdingsdata.response.length>0?holdingsdata.response:[]}const getAPIdata=Object.freeze(Object.defineProperty({__proto__:null,fetchMyntAPI:fetchMyntAPI,fetchMyntjson:fetchMyntjson,get firebase(){return firebase},forceRefreshMLimits:forceRefreshMLimits,getADindice:getADindice,getADindices:getADindices,getActiveSession:getActiveSession,getAlertAPi:getAlertAPi,getBSKMargin:getBSKMargin,getBondbook:getBondbook,getBondsgbbook:getBondsgbbook,getBrokerage:getBrokerage,getClientDetails:getClientDetails,getConTentList:getConTentList,getCorporateact:getCorporateact,getDeskLogout:getDeskLogout,getEXPosition:getEXPosition,getGTTPlaceOrder:getGTTPlaceOrder,getGloabSearch:getGloabSearch,getGreekoptions:getGreekoptions,getGttorderbook:getGttorderbook,getHsTokenapi:getHsTokenapi,getIndexList:getIndexList,getIndicators:getIndicators,getIposbook:getIposbook,getKambalaSearch:getKambalaSearch,getLinkedScrips:getLinkedScrips,getLtpdata:getLtpdata,getMFcancelation:getMFcancelation,getMFcancellum:getMFcancellum,getMFcancelxsip:getMFcancelxsip,getMFlumsum_order:getMFlumsum_order,getMFwatchlist:getMFwatchlist,getMHoldingdata:getMHoldingdata,getMHoldings:getMHoldings,getMLimits:getMLimits,getMMHoldings:getMMHoldings,getMOrderbook:getMOrderbook,getMPosotion:getMPosotion,getMPosotionCon:getMPosotionCon,getMTradebook:getMTradebook,getMasters:getMasters,getMwatchlistset:getMwatchlistset,getMyntLogout:getMyntLogout,getOIbars:getOIbars,getOptionschain:getOptionschain,getOrderMargin:getOrderMargin,getPlaceOrder:getPlaceOrder,getPostPnL:getPostPnL,getPreDefinedMW:getPreDefinedMW,getProfiledata:getProfiledata,getQuotesdata:getQuotesdata,getReSession:getReSession,getSIPOrderset:getSIPOrderset,getSecuritydata:getSecuritydata,getSingleorderbook:getSingleorderbook,getSiporderbook:getSiporderbook,getTechnicals:getTechnicals,getTopList:getTopList,getcallApi:getcallApi,getmfpauseapi:getmfpauseapi,getmfsipnewapi:getmfsipnewapi,getmfsipnewapihisty:getmfsipnewapihisty,getssDetails:getssDetails,getssNews:getssNews,setCancelGTT:setCancelGTT,setDecryption:setDecryption,setIndicators:setIndicators,setMalert:setMalert,setOrdprefApi:setOrdprefApi,seteEcryption:seteEcryption,seyCheckwebsocket:seyCheckwebsocket$2,get source(){return source}},Symbol.toStringTag,{value:"Module"})),makeBorderProps=propsFactory({border:[Boolean,Number,String]},"border");function useBorder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return{borderClasses:computed(()=>{const a=e.border;return!0===a||""===a?`${t}--border`:"string"==typeof a||0===a?String(a).split(" ").map(e=>`border-${e}`):[]})}}const allowedDensities$1=[null,"default","comfortable","compact"],makeDensityProps=propsFactory({density:{type:String,default:"default",validator:e=>allowedDensities$1.includes(e)}},"density");function useDensity(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return{densityClasses:toRef(()=>`${t}--density-${e.density}`)}}const makeElevationProps=propsFactory({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function useElevation(e){return{elevationClasses:toRef(()=>{const t=isRef(e)?e.value:e.elevation;return null==t?[]:[`elevation-${t}`]})}}const makeRoundedProps=propsFactory({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function useRounded(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return{roundedClasses:computed(()=>{const a=isRef(e)?e.value:e.rounded,o=[];if(!isRef(e)&&e.tile||!1===a)o.push("rounded-0");else if(!0===a||""===a)o.push(`${t}--rounded`);else if("string"==typeof a||0===a)for(const e of String(a).split(" "))o.push(`rounded-${e}`);return o})}}const makeTagProps=propsFactory({tag:{type:[String,Object,Function],default:"div"}},"tag");function useColor(e){return destructComputed(()=>{const{class:t,style:a}=computeColor(e);return{colorClasses:t,colorStyles:a}})}function useTextColor(e){const{colorClasses:t,colorStyles:a}=useColor(()=>({text:toValue(e)}));return{textColorClasses:t,textColorStyles:a}}function useBackgroundColor(e){const{colorClasses:t,colorStyles:a}=useColor(()=>({background:toValue(e)}));return{backgroundColorClasses:t,backgroundColorStyles:a}}function computeColor(e){const t=toValue(e),a=[],o={};if(t.background)if(isCssColor(t.background)){if(o.backgroundColor=t.background,!t.text&&isParsableColor(t.background)){const e=parseColor(t.background);if(null==e.a||1===e.a){const t=getForeground(e);o.color=t,o.caretColor=t}}}else a.push(`bg-${t.background}`);return t.text&&(isCssColor(t.text)?(o.color=t.text,o.caretColor=t.text):a.push(`text-${t.text}`)),{class:a,style:o}}const allowedVariants$2=["elevated","flat","tonal","outlined","text","plain"];function genOverlays(e,t){return createBaseVNode(Fragment,null,[e&&createBaseVNode("span",{key:"overlay",class:normalizeClass(`${t}__overlay`)},null),createBaseVNode("span",{key:"underlay",class:normalizeClass(`${t}__underlay`)},null)])}const makeVariantProps=propsFactory({color:String,variant:{type:String,default:"elevated",validator:e=>allowedVariants$2.includes(e)}},"variant");function useVariant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();const a=toRef(()=>{const{variant:a}=toValue(e);return`${t}--variant-${a}`}),{colorClasses:o,colorStyles:r}=useColor(()=>{const{variant:t,color:a}=toValue(e);return{[["elevated","flat"].includes(t)?"background":"text"]:a}});return{colorClasses:o,colorStyles:r,variantClasses:a}}const makeVBtnGroupProps=propsFactory({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps()},"VBtnGroup"),VBtnGroup=genericComponent()({name:"VBtnGroup",props:makeVBtnGroupProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{densityClasses:r}=useDensity(e),{borderClasses:n}=useBorder(e),{elevationClasses:i}=useElevation(e),{roundedClasses:l}=useRounded(e);provideDefaults({VBtn:{height:toRef(()=>"horizontal"===e.direction?"auto":null),baseColor:toRef(()=>e.baseColor),color:toRef(()=>e.color),density:toRef(()=>e.density),flat:!0,variant:toRef(()=>e.variant)}}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-btn-group",`v-btn-group--${e.direction}`,{"v-btn-group--divided":e.divided},o.value,n.value,r.value,i.value,l.value,e.class]),style:normalizeStyle(e.style)},a))}}),makeGroupProps=propsFactory({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),makeGroupItemProps=propsFactory({value:null,disabled:Boolean,selectedClass:String},"group-item");function useGroupItem(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=getCurrentInstance("useGroupItem");if(!o)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=useId();provide(Symbol.for(`${t.description}:id`),r);const n=inject(t,null);if(!n){if(!a)return n;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const i=toRef(()=>e.value),l=computed(()=>!(!n.disabled.value&&!e.disabled));function s(){null==n||n.register({id:r,value:i,disabled:l},o)}function c(){null==n||n.unregister(r)}s(),onBeforeUnmount(()=>c());const d=computed(()=>n.isSelected(r)),u=computed(()=>n.items.value[0].id===r),p=computed(()=>n.items.value[n.items.value.length-1].id===r),h=computed(()=>d.value&&[n.selectedClass.value,e.selectedClass]);return watch(d,e=>{o.emit("group:selected",{value:e})},{flush:"sync"}),{id:r,isSelected:d,isFirst:u,isLast:p,toggle:()=>n.select(r,!d.value),select:e=>n.select(r,e),selectedClass:h,value:i,disabled:l,group:n,register:s,unregister:c}}function useGroup(e,t){let a=!1;const o=reactive([]),r=useProxiedModel(e,"modelValue",[],e=>void 0===e?[]:getIds(o,null===e?[null]:wrapInArray(e)),t=>{const a=getValues(o,t);return e.multiple?a:a[0]}),n=getCurrentInstance("useGroup");function i(){const t=o.find(e=>!e.disabled);t&&"force"===e.mandatory&&!r.value.length&&(r.value=[t.id])}function l(t){if(e.multiple,r.value.length){const e=r.value[0],a=o.findIndex(t=>t.id===e);let n=(a+t)%o.length,i=o[n];for(;i.disabled&&n!==a;)n=(n+t)%o.length,i=o[n];if(i.disabled)return;r.value=[o[n].id]}else{const e=o.find(e=>!e.disabled);e&&(r.value=[e.id])}}onMounted(()=>{i()}),onBeforeUnmount(()=>{a=!0}),onUpdated(()=>{for(let e=0;e<o.length;e++)o[e].useIndexAsValue&&(o[e].value=e)});const s={register:function(e,a){const r=e,i=Symbol.for(`${t.description}:id`),l=findChildrenWithProvide(i,null==n?void 0:n.vnode).indexOf(a);void 0===unref(r.value)&&(r.value=l,r.useIndexAsValue=!0),l>-1?o.splice(l,0,r):o.push(r)},unregister:function(e){if(a)return;i();const t=o.findIndex(t=>t.id===e);o.splice(t,1)},selected:r,select:function(t,a){const n=o.find(e=>e.id===t);if(!a||!(null==n?void 0:n.disabled))if(e.multiple){const o=r.value.slice(),n=o.findIndex(e=>e===t),i=~n;if(a=a??!i,i&&e.mandatory&&o.length<=1)return;if(!i&&null!=e.max&&o.length+1>e.max)return;n<0&&a?o.push(t):n>=0&&!a&&o.splice(n,1),r.value=o}else{const o=r.value.includes(t);if(e.mandatory&&o)return;if(!o&&!a)return;r.value=a??!o?[t]:[]}},disabled:toRef(()=>e.disabled),prev:()=>l(o.length-1),next:()=>l(1),isSelected:e=>r.value.includes(e),selectedClass:toRef(()=>e.selectedClass),items:toRef(()=>o),getItemIndex:e=>getItemIndex(o,e)};return provide(t,s),s}function getItemIndex(e,t){const a=getIds(e,[t]);return a.length?e.findIndex(e=>e.id===a[0]):-1}function getIds(e,t){const a=[];return t.forEach(t=>{const o=e.find(e=>deepEqual$1(t,e.value)),r=e[t];void 0!==(null==o?void 0:o.value)?a.push(o.id):(null==r?void 0:r.useIndexAsValue)&&a.push(r.id)}),a}function getValues(e,t){const a=[];return t.forEach(t=>{const o=e.findIndex(e=>e.id===t);if(~o){const t=e[o];a.push(void 0!==t.value?t.value:o)}}),a}const VBtnToggleSymbol=Symbol.for("vuetify:v-btn-toggle"),makeVBtnToggleProps=propsFactory({...makeVBtnGroupProps(),...makeGroupProps()},"VBtnToggle"),VBtnToggle=genericComponent()({name:"VBtnToggle",props:makeVBtnToggleProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:o,next:r,prev:n,select:i,selected:l}=useGroup(e,VBtnToggleSymbol);return useRender(()=>{const t=VBtnGroup.filterProps(e);return createVNode(VBtnGroup,mergeProps({class:["v-btn-toggle",e.class]},t,{style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:o,next:r,prev:n,select:i,selected:l})]}})}),{next:r,prev:n,select:i}}}),makeVDefaultsProviderProps=propsFactory({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),VDefaultsProvider=genericComponent(!1)({name:"VDefaultsProvider",props:makeVDefaultsProviderProps(),setup(e,t){let{slots:a}=t;const{defaults:o,disabled:r,reset:n,root:i,scoped:l}=toRefs(e);return provideDefaults(o,{reset:n,root:i,scoped:l,disabled:r}),()=>{var e;return null==(e=a.default)?void 0:e.call(a)}}}),predefinedSizes=["x-small","small","default","large","x-large"],makeSizeProps=propsFactory({size:{type:[String,Number],default:"default"}},"size");function useSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return destructComputed(()=>{const a=e.size;let o,r;return includes(predefinedSizes,a)?o=`${t}--size-${a}`:a&&(r={width:convertToUnit(a),height:convertToUnit(a)}),{sizeClasses:o,sizeStyles:r}})}const makeVIconProps=propsFactory({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:IconValue,opacity:[String,Number],...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"i"}),...makeThemeProps()},"VIcon"),VIcon=genericComponent()({name:"VIcon",props:makeVIconProps(),setup(e,t){let{attrs:a,slots:o}=t;const r=shallowRef(),{themeClasses:n}=useTheme(),{iconData:i}=useIcon(()=>r.value||e.icon),{sizeClasses:l}=useSize(e),{textColorClasses:s,textColorStyles:c}=useTextColor(()=>e.color);return useRender(()=>{var t,d;const u=null==(t=o.default)?void 0:t.call(o);u&&(r.value=null==(d=flattenFragments(u).filter(e=>e.type===Text&&e.children&&"string"==typeof e.children)[0])?void 0:d.children);const p=!(!a.onClick&&!a.onClickOnce);return createVNode(i.value.component,{tag:e.tag,icon:i.value.icon,class:normalizeClass(["v-icon","notranslate",n.value,l.value,s.value,{"v-icon--clickable":p,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:normalizeStyle([{"--v-icon-opacity":e.opacity},l.value?void 0:{fontSize:convertToUnit(e.size),height:convertToUnit(e.size),width:convertToUnit(e.size)},c.value,e.style]),role:p?"button":void 0,"aria-hidden":!p,tabindex:p?e.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function useIntersectionObserver(e,t){const a=ref$1(),o=shallowRef(!1);if(SUPPORTS_INTERSECTION){const e=new IntersectionObserver(e=>{o.value=!!e.find(e=>e.isIntersecting)},t);onScopeDispose(()=>{e.disconnect()}),watch(a,(t,a)=>{a&&(e.unobserve(a),o.value=!1),t&&e.observe(t)},{flush:"post"})}return{intersectionRef:a,isIntersecting:o}}const makeVProgressCircularProps=propsFactory({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...makeComponentProps(),...makeSizeProps(),...makeTagProps({tag:"div"}),...makeThemeProps()},"VProgressCircular"),VProgressCircular=genericComponent()({name:"VProgressCircular",props:makeVProgressCircularProps(),setup(e,t){let{slots:a}=t;const o=2*Math.PI*20,r=ref$1(),{themeClasses:n}=provideTheme(e),{sizeClasses:i,sizeStyles:l}=useSize(e),{textColorClasses:s,textColorStyles:c}=useTextColor(()=>e.color),{textColorClasses:d,textColorStyles:u}=useTextColor(()=>e.bgColor),{intersectionRef:p,isIntersecting:h}=useIntersectionObserver(),{resizeRef:m,contentRect:v}=useResizeObserver(),f=toRef(()=>clamp(parseFloat(e.modelValue),0,100)),g=toRef(()=>Number(e.width)),y=toRef(()=>l.value?Number(e.size):v.value?v.value.width:Math.max(g.value,32)),_=toRef(()=>20/(1-g.value/y.value)*2),b=toRef(()=>g.value/y.value*_.value),w=toRef(()=>convertToUnit((100-f.value)/100*o));return watchEffect(()=>{p.value=r.value,m.value=r.value}),useRender(()=>createVNode(e.tag,{ref:r,class:normalizeClass(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":h.value,"v-progress-circular--disable-shrink":e.indeterminate&&("disable-shrink"===e.indeterminate||PREFERS_REDUCED_MOTION())},n.value,i.value,s.value,e.class]),style:normalizeStyle([l.value,c.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:f.value},{default:()=>[createBaseVNode("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${_.value} ${_.value}`},[createBaseVNode("circle",{class:normalizeClass(["v-progress-circular__underlay",d.value]),style:normalizeStyle(u.value),fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":b.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),createBaseVNode("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":b.value,"stroke-dasharray":o,"stroke-dashoffset":w.value},null)]),a.default&&createBaseVNode("div",{class:"v-progress-circular__content"},[a.default({value:f.value})])]})),{}}}),makeDimensionProps=propsFactory({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function useDimension(e){return{dimensionStyles:computed(()=>{const t={},a=convertToUnit(e.height),o=convertToUnit(e.maxHeight),r=convertToUnit(e.maxWidth),n=convertToUnit(e.minHeight),i=convertToUnit(e.minWidth),l=convertToUnit(e.width);return null!=a&&(t.height=a),null!=o&&(t.maxHeight=o),null!=r&&(t.maxWidth=r),null!=n&&(t.minHeight=n),null!=i&&(t.minWidth=i),null!=l&&(t.width=l),t})}}const oppositeMap={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},makeLocationProps=propsFactory({location:String},"location");function useLocation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;const{isRtl:o}=useRtl();return{locationStyles:computed(()=>{if(!e.location)return{};const{side:r,align:n}=parseAnchor(e.location.split(" ").length>1?e.location:`${e.location} center`,o.value);function i(e){return a?a(e):0}const l={};return"center"!==r&&(t?l[oppositeMap[r]]=`calc(100% - ${i(r)}px)`:l[r]=0),"center"!==n?t?l[oppositeMap[n]]=`calc(100% - ${i(n)}px)`:l[n]=0:("center"===r?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),l})}}const makeChunksProps=propsFactory({chunkCount:{type:[Number,String],default:null},chunkWidth:{type:[Number,String],default:null},chunkGap:{type:[Number,String],default:4}},"chunks");function useChunks(e,t){const a=toRef(()=>!!e.chunkCount||!!e.chunkWidth),o=computed(()=>{const a=toValue(t);if(!a)return 0;if(!e.chunkCount)return Number(e.chunkWidth);const o=Number(e.chunkCount);return(a-Number(e.chunkGap)*(o-1))/o}),r=toRef(()=>Number(e.chunkGap)),n=computed(()=>{if(!a.value)return{};const e=convertToUnit(r.value),t=convertToUnit(o.value);return{maskRepeat:"repeat-x",maskImage:`linear-gradient(90deg, #000, #000 ${t}, transparent ${t}, transparent)`,maskSize:`calc(${t} + ${e}) 100%`}});return{hasChunks:a,chunksMaskStyles:n,snapValueToChunk:function(e){const a=toValue(t);if(!a)return e;const n=100*r.value/a,i=100*(o.value+r.value)/a,l=Math.floor((e+n)/i);return clamp(0,l*i-n/2,100)}}}const makeVProgressLinearProps=propsFactory({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...makeChunksProps(),...makeComponentProps(),...makeLocationProps({location:"top"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VProgressLinear"),VProgressLinear=genericComponent()({name:"VProgressLinear",props:makeVProgressLinearProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=ref$1(),r=useProxiedModel(e,"modelValue"),{isRtl:n,rtlClasses:i}=useRtl(),{themeClasses:l}=provideTheme(e),{locationStyles:s}=useLocation(e),{textColorClasses:c,textColorStyles:d}=useTextColor(()=>e.color),{backgroundColorClasses:u,backgroundColorStyles:p}=useBackgroundColor(()=>e.bgColor||e.color),{backgroundColorClasses:h,backgroundColorStyles:m}=useBackgroundColor(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:v,backgroundColorStyles:f}=useBackgroundColor(()=>e.color),{roundedClasses:g}=useRounded(e),{intersectionRef:y,isIntersecting:_}=useIntersectionObserver(),b=computed(()=>parseFloat(e.max)),w=computed(()=>parseFloat(e.height)),x=computed(()=>clamp(parseFloat(e.bufferValue)/b.value*100,0,100)),V=computed(()=>clamp(parseFloat(r.value)/b.value*100,0,100)),k=computed(()=>n.value!==e.reverse),C=computed(()=>e.indeterminate?"fade-transition":"slide-x-transition"),S=shallowRef(0),{hasChunks:N,chunksMaskStyles:T,snapValueToChunk:B}=useChunks(e,S);useToggleScope(N,()=>{const{resizeRef:e}=useResizeObserver(e=>S.value=e[0].contentRect.width);watchEffect(()=>e.value=o.value)});const E=computed(()=>N.value?B(x.value):x.value),I=computed(()=>N.value?B(V.value):V.value);function $(e){if(!y.value)return;const{left:t,right:a,width:o}=y.value.getBoundingClientRect(),n=k.value?o-e.clientX+(a-o):e.clientX-t;r.value=Math.round(n/o*b.value)}return watchEffect(()=>{y.value=o.value}),useRender(()=>createVNode(e.tag,{ref:o,class:normalizeClass(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&_.value,"v-progress-linear--reverse":k.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped,"v-progress-linear--clickable":e.clickable},g.value,l.value,i.value,e.class]),style:normalizeStyle([{bottom:"bottom"===e.location?0:void 0,top:"top"===e.location?0:void 0,height:e.active?convertToUnit(w.value):0,"--v-progress-linear-height":convertToUnit(w.value),...e.absolute?s.value:{}},T.value,e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(r.value),b.value),onClick:e.clickable&&$},{default:()=>[e.stream&&createBaseVNode("div",{key:"stream",class:normalizeClass(["v-progress-linear__stream",c.value]),style:{...d.value,[k.value?"left":"right"]:convertToUnit(-w.value),borderTop:`${convertToUnit(w.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${convertToUnit(w.value/4)})`,width:convertToUnit(100-x.value,"%"),"--v-progress-linear-stream-to":convertToUnit(w.value*(k.value?1:-1))}},null),createBaseVNode("div",{class:normalizeClass(["v-progress-linear__background",u.value]),style:normalizeStyle([p.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),createBaseVNode("div",{class:normalizeClass(["v-progress-linear__buffer",h.value]),style:normalizeStyle([m.value,{opacity:parseFloat(e.bufferOpacity),width:convertToUnit(E.value,"%")}])},null),createVNode(Transition,{name:C.value},{default:()=>[e.indeterminate?createBaseVNode("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(e=>createBaseVNode("div",{key:e,class:normalizeClass(["v-progress-linear__indeterminate",e,v.value]),style:normalizeStyle(f.value)},null))]):createBaseVNode("div",{class:normalizeClass(["v-progress-linear__determinate",v.value]),style:normalizeStyle([f.value,{width:convertToUnit(I.value,"%")}])},null)]}),a.default&&createBaseVNode("div",{class:"v-progress-linear__content"},[a.default({value:V.value,buffer:x.value})])]})),{}}}),makeLoaderProps=propsFactory({loading:[Boolean,String]},"loader");function useLoader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return{loaderClasses:toRef(()=>({[`${t}--loading`]:e.loading}))}}function LoaderSlot(e,t){var a;let{slots:o}=t;return createBaseVNode("div",{class:normalizeClass(`${e.name}__loader`)},[(null==(a=o.default)?void 0:a.call(o,{color:e.color,isActive:e.active}))||createVNode(VProgressLinear,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const positionValues=["static","relative","fixed","absolute","sticky"],makePositionProps=propsFactory({position:{type:String,validator:e=>positionValues.includes(e)}},"position");function usePosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();return{positionClasses:toRef(()=>e.position?`${t}--${e.position}`:void 0)}}function useRoute(){const e=getCurrentInstance("useRoute");return computed(()=>{var t;return null==(t=null==e?void 0:e.proxy)?void 0:t.$route})}function useRouter(){var e,t;return null==(t=null==(e=getCurrentInstance("useRouter"))?void 0:e.proxy)?void 0:t.$router}function useLink(e,t){var a,o;const r=resolveDynamicComponent("RouterLink"),n=toRef(()=>!(!e.href&&!e.to)),i=computed(()=>(null==n?void 0:n.value)||hasEvent(t,"click")||hasEvent(e,"click"));if("string"==typeof r||!("useLink"in r)){const t=toRef(()=>e.href);return{isLink:n,isRouterLink:toRef(()=>!1),isClickable:i,href:t,linkProps:reactive({href:t})}}const l=r.useLink({to:toRef(()=>e.to||""),replace:toRef(()=>e.replace)}),s=computed(()=>e.to?l:void 0),c=useRoute(),d=computed(()=>{var t,a,o;return!!s.value&&(e.exact?c.value?(null==(o=s.value.isExactActive)?void 0:o.value)&&deepEqual$1(s.value.route.value.query,c.value.query):(null==(a=s.value.isExactActive)?void 0:a.value)??!1:(null==(t=s.value.isActive)?void 0:t.value)??!1)}),u=computed(()=>{var t;return e.to?null==(t=s.value)?void 0:t.route.value.href:e.href}),p=toRef(()=>!!e.to);return{isLink:n,isRouterLink:p,isClickable:i,isActive:d,route:null==(a=s.value)?void 0:a.route,navigate:null==(o=s.value)?void 0:o.navigate,href:u,linkProps:reactive({href:u,"aria-current":toRef(()=>d.value?"page":void 0),"aria-disabled":toRef(()=>e.disabled&&n.value?"true":void 0),tabindex:toRef(()=>e.disabled&&n.value?"-1":void 0)})}}const makeRouterProps=propsFactory({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let inTransition=!1;function useBackButton(e,t){let a,o,r=!1;function n(e){var t;(null==(t=e.state)?void 0:t.replaced)||(r=!0,setTimeout(()=>r=!1))}IN_BROWSER&&(null==e?void 0:e.beforeEach)&&(nextTick(()=>{window.addEventListener("popstate",n),a=e.beforeEach((e,a,o)=>{inTransition?r?t(o):o():setTimeout(()=>r?t(o):o()),inTransition=!0}),o=null==e?void 0:e.afterEach(()=>{inTransition=!1})}),onScopeDispose(()=>{window.removeEventListener("popstate",n),null==a||a(),null==o||o()}))}function useSelectLink(e,t){watch(()=>{var t;return null==(t=e.isActive)?void 0:t.value},a=>{e.isLink.value&&null!=a&&t&&nextTick(()=>{t(a)})},{immediate:!0})}const stopSymbol=Symbol("rippleStop"),DELAY_RIPPLE=80;function transform(e,t){e.style.transform=t,e.style.webkitTransform=t}function isTouchEvent(e){return"TouchEvent"===e.constructor.name}function isKeyboardEvent(e){return"KeyboardEvent"===e.constructor.name}const calculate=function(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,n=0;if(!isKeyboardEvent(e)){const a=t.getBoundingClientRect(),o=isTouchEvent(e)?e.touches[e.touches.length-1]:e;r=o.clientX-a.left,n=o.clientY-a.top}let i=0,l=.3;(null==(a=t._ripple)?void 0:a.circle)?(l=.15,i=t.clientWidth/2,i=o.center?i:i+Math.sqrt((r-i)**2+(n-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=(t.clientWidth-2*i)/2+"px",c=(t.clientHeight-2*i)/2+"px";return{radius:i,scale:l,x:o.center?s:r-i+"px",y:o.center?c:n-i+"px",centerX:s,centerY:c}},ripples={show(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null==(a=null==t?void 0:t._ripple)?void 0:a.enabled))return;const r=document.createElement("span"),n=document.createElement("span");r.appendChild(n),r.className="v-ripple__container",o.class&&(r.className+=` ${o.class}`);const{radius:i,scale:l,x:s,y:c,centerX:d,centerY:u}=calculate(e,t,o),p=2*i+"px";n.className="v-ripple__animation",n.style.width=p,n.style.height=p,t.appendChild(r);const h=window.getComputedStyle(t);h&&"static"===h.position&&(t.style.position="relative",t.dataset.previousPosition="static"),n.classList.add("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--visible"),transform(n,`translate(${s}, ${c}) scale3d(${l},${l},${l})`),n.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.remove("v-ripple__animation--enter"),n.classList.add("v-ripple__animation--in"),transform(n,`translate(${d}, ${u}) scale3d(1,1,1)`)})})},hide(e){var t;if(!(null==(t=null==e?void 0:e._ripple)?void 0:t.enabled))return;const a=e.getElementsByClassName("v-ripple__animation");if(0===a.length)return;const o=Array.from(a).findLast(e=>!e.dataset.isHiding);if(!o)return;o.dataset.isHiding="true";const r=performance.now()-Number(o.dataset.activated),n=Math.max(250-r,0);setTimeout(()=>{o.classList.remove("v-ripple__animation--in"),o.classList.add("v-ripple__animation--out"),setTimeout(()=>{var t;1===e.getElementsByClassName("v-ripple__animation").length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),(null==(t=o.parentNode)?void 0:t.parentNode)===e&&e.removeChild(o.parentNode)},300)},n)}};function isRippleEnabled(e){return void 0===e||!!e}function rippleShow(e){const t={},a=e.currentTarget;if((null==a?void 0:a._ripple)&&!a._ripple.touched&&!e[stopSymbol]){if(e[stopSymbol]=!0,isTouchEvent(e))a._ripple.touched=!0,a._ripple.isTouch=!0;else if(a._ripple.isTouch)return;if(t.center=a._ripple.centered||isKeyboardEvent(e),a._ripple.class&&(t.class=a._ripple.class),isTouchEvent(e)){if(a._ripple.showTimerCommit)return;a._ripple.showTimerCommit=()=>{ripples.show(e,a,t)},a._ripple.showTimer=window.setTimeout(()=>{var e;(null==(e=null==a?void 0:a._ripple)?void 0:e.showTimerCommit)&&(a._ripple.showTimerCommit(),a._ripple.showTimerCommit=null)},DELAY_RIPPLE)}else ripples.show(e,a,t)}}function rippleStop(e){e[stopSymbol]=!0}function rippleHide(e){const t=e.currentTarget;if(null==t?void 0:t._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=window.setTimeout(()=>{rippleHide(e)}));window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),ripples.hide(t)}}function rippleCancelShow(e){const t=e.currentTarget;(null==t?void 0:t._ripple)&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e,t){!keyboardRipple&&t.includes(e.key)&&(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,t,a){const{value:o,modifiers:r}=t,n=isRippleEnabled(o);n||ripples.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=n,e._ripple.centered=r.center,e._ripple.circle=r.circle;const i=isObject$3(o)?o:{};i.class&&(e._ripple.class=i.class);const l=i.keys??["Enter","Space"];if(e._ripple.keyDownHandler=e=>keyboardRippleShow(e,l),n&&!a){if(r.stop)return e.addEventListener("touchstart",rippleStop,{passive:!0}),void e.addEventListener("mousedown",rippleStop);e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",e=>keyboardRippleShow(e,l)),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})}else!n&&a&&removeListeners(e)}function removeListeners(e){var t;e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),(null==(t=e._ripple)?void 0:t.keyDownHandler)&&e.removeEventListener("keydown",e._ripple.keyDownHandler),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function mounted$5(e,t){updateRipple(e,t,!1)}function unmounted$5(e){removeListeners(e),delete e._ripple}function updated$1(e,t){if(t.value===t.oldValue)return;updateRipple(e,t,isRippleEnabled(t.oldValue))}const Ripple={mounted:mounted$5,unmounted:unmounted$5,updated:updated$1},makeVBtnProps=propsFactory({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:VBtnToggleSymbol},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:IconValue,appendIcon:IconValue,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,spaced:String,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeGroupItemProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"button"}),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VBtn"),VBtn=genericComponent()({name:"VBtn",props:makeVBtnProps(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{themeClasses:r}=provideTheme(e),{borderClasses:n}=useBorder(e),{densityClasses:i}=useDensity(e),{dimensionStyles:l}=useDimension(e),{elevationClasses:s}=useElevation(e),{loaderClasses:c}=useLoader(e),{locationStyles:d}=useLocation(e),{positionClasses:u}=usePosition(e),{roundedClasses:p}=useRounded(e),{sizeClasses:h,sizeStyles:m}=useSize(e),v=useGroupItem(e,e.symbol,!1),f=useLink(e,a),g=computed(()=>{var t;return void 0!==e.active?e.active:f.isRouterLink.value?null==(t=f.isActive)?void 0:t.value:null==v?void 0:v.isSelected.value}),y=toRef(()=>g.value?e.activeColor??e.color:e.color),_=computed(()=>{var t,a;return{color:(null==v?void 0:v.isSelected.value)&&(!f.isLink.value||(null==(t=f.isActive)?void 0:t.value))||!v||(null==(a=f.isActive)?void 0:a.value)?y.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:b,colorStyles:w,variantClasses:x}=useVariant(_),V=computed(()=>(null==v?void 0:v.disabled.value)||e.disabled),k=toRef(()=>"elevated"===e.variant&&!(e.disabled||e.flat||e.border)),C=computed(()=>{if(void 0!==e.value&&"symbol"!=typeof e.value)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function S(e){var t;V.value||f.isLink.value&&(e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||"_blank"===a.target)||(f.isRouterLink.value?null==(t=f.navigate)||t.call(f,e):null==v||v.toggle())}return useSelectLink(f,null==v?void 0:v.select),useRender(()=>{const t=f.isLink.value?"a":e.tag,a=!(!e.prependIcon&&!o.prepend),y=!(!e.appendIcon&&!o.append),_=!(!e.icon||!0===e.icon);return withDirectives(createVNode(t,mergeProps(f.linkProps,{type:"a"===t?void 0:"button",class:["v-btn",null==v?void 0:v.selectedClass.value,{"v-btn--active":g.value,"v-btn--block":e.block,"v-btn--disabled":V.value,"v-btn--elevated":k.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},e.spaced?["v-btn--spaced",`v-btn--spaced-${e.spaced}`]:[],r.value,n.value,b.value,i.value,s.value,c.value,u.value,p.value,h.value,x.value,e.class],style:[w.value,l.value,d.value,m.value,e.style],"aria-busy":!!e.loading||void 0,disabled:V.value&&"a"!==t||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:S,value:C.value}),{default:()=>{var t;return[genOverlays(!0,"v-btn"),!e.icon&&a&&createBaseVNode("span",{key:"prepend",class:"v-btn__prepend"},[o.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},o.prepend):createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon},null)]),createBaseVNode("span",{class:"v-btn__content","data-no-activator":""},[!o.default&&_?createVNode(VIcon,{key:"content-icon",icon:e.icon},null):createVNode(VDefaultsProvider,{key:"content-defaults",disabled:!_,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var t;return[(null==(t=o.default)?void 0:t.call(o))??toDisplayString(e.text)]}})]),!e.icon&&y&&createBaseVNode("span",{key:"append",class:"v-btn__append"},[o.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},o.append):createVNode(VIcon,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&createBaseVNode("span",{key:"loader",class:"v-btn__loader"},[(null==(t=o.loader)?void 0:t.call(o))??createVNode(VProgressCircular,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[Ripple,!V.value&&e.ripple,"",{center:!!e.icon}]])}),{group:v}}}),makeVCardActionsProps=propsFactory({...makeComponentProps(),...makeTagProps()},"VCardActions"),VCardActions=genericComponent()({name:"VCardActions",props:makeVCardActionsProps(),setup(e,t){let{slots:a}=t;return provideDefaults({VBtn:{slim:!0,variant:"text"}}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-card-actions",e.class]),style:normalizeStyle(e.style)},a)),{}}}),makeVCardSubtitleProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VCardSubtitle"),VCardSubtitle=genericComponent()({name:"VCardSubtitle",props:makeVCardSubtitleProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-card-subtitle",e.class]),style:normalizeStyle([{"--v-card-subtitle-opacity":e.opacity},e.style])},a)),{}}}),VCardTitle=createSimpleFunctional("v-card-title");function useAspectStyles(e){return{aspectStyles:computed(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const makeVResponsiveProps=propsFactory({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...makeComponentProps(),...makeDimensionProps()},"VResponsive"),VResponsive=genericComponent()({name:"VResponsive",props:makeVResponsiveProps(),setup(e,t){let{slots:a}=t;const{aspectStyles:o}=useAspectStyles(e),{dimensionStyles:r}=useDimension(e);return useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:normalizeStyle([r.value,e.style])},[createBaseVNode("div",{class:"v-responsive__sizer",style:normalizeStyle(o.value)},null),null==(t=a.additional)?void 0:t.call(a),a.default&&createBaseVNode("div",{class:normalizeClass(["v-responsive__content",e.contentClass])},[a.default()])])}),{}}}),makeTransitionProps$1=propsFactory({transition:{type:null,default:"fade-transition",validator:e=>!0!==e}},"transition"),MaybeTransition=(e,t)=>{let{slots:a}=t;const{transition:o,disabled:r,group:n,...i}=e,{component:l=(n?TransitionGroup:Transition),...s}=isObject$3(o)?o:{};let c;return c=isObject$3(o)?mergeProps(s,onlyDefinedProps({disabled:r,group:n}),i):mergeProps({name:r||!o?"":o},i),h$1(l,c,a)};function mounted$4(e,t){if(!SUPPORTS_INTERSECTION)return;const a=t.modifiers||{},o=t.value,{handler:r,options:n}="object"==typeof o?o:{handler:o,options:{}},i=new IntersectionObserver(function(){var o;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;const l=null==(o=e._observe)?void 0:o[t.instance.$.uid];if(!l)return;const s=n.some(e=>e.isIntersecting);!r||a.quiet&&!l.init||a.once&&!s&&!l.init||r(s,n,i),s&&a.once?unmounted$4(e,t):l.init=!0},n);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:i},i.observe(e)}function unmounted$4(e,t){var a;const o=null==(a=e._observe)?void 0:a[t.instance.$.uid];o&&(o.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Intersect={mounted:mounted$4,unmounted:unmounted$4},makeVImgProps=propsFactory({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...makeVResponsiveProps(),...makeComponentProps(),...makeRoundedProps(),...makeTransitionProps$1()},"VImg"),VImg=genericComponent()({name:"VImg",directives:{vIntersect:Intersect},props:makeVImgProps(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:a,slots:o}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{roundedClasses:i}=useRounded(e),l=getCurrentInstance("VImg"),s=shallowRef(""),c=ref$1(),d=shallowRef(e.eager?"loading":"idle"),u=shallowRef(),p=shallowRef(),h=computed(()=>e.src&&"object"==typeof e.src?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),m=computed(()=>h.value.aspect||u.value/p.value||0);function v(t){if((!e.eager||!t)&&(!SUPPORTS_INTERSECTION||t||e.eager)){if(d.value="loading",h.value.lazySrc){const e=new Image;e.src=h.value.lazySrc,b(e,null)}h.value.src&&nextTick(()=>{var e;a("loadstart",(null==(e=c.value)?void 0:e.currentSrc)||h.value.src),setTimeout(()=>{var e;if(!l.isUnmounted)if(null==(e=c.value)?void 0:e.complete){if(c.value.naturalWidth||g(),"error"===d.value)return;m.value||b(c.value,null),"loading"===d.value&&f()}else m.value||b(c.value),y()})})}}function f(){var e;l.isUnmounted||(y(),b(c.value),d.value="loaded",a("load",(null==(e=c.value)?void 0:e.currentSrc)||h.value.src))}function g(){var e;l.isUnmounted||(d.value="error",a("error",(null==(e=c.value)?void 0:e.currentSrc)||h.value.src))}function y(){const e=c.value;e&&(s.value=e.currentSrc||e.src)}watch(()=>e.src,()=>{v("idle"!==d.value)}),watch(m,(e,t)=>{!e&&t&&c.value&&b(c.value)}),onBeforeMount(()=>v());let _=-1;function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const a=()=>{if(clearTimeout(_),l.isUnmounted)return;const{naturalHeight:o,naturalWidth:r}=e;o||r?(u.value=r,p.value=o):e.complete||"loading"!==d.value||null==t?(e.currentSrc.endsWith(".svg")||e.currentSrc.startsWith("data:image/svg+xml"))&&(u.value=1,p.value=1):_=window.setTimeout(a,t)};a()}onBeforeUnmount(()=>{clearTimeout(_)});const w=toRef(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),x=()=>{var t;if(!h.value.src||"idle"===d.value)return null;const a=createBaseVNode("img",{class:normalizeClass(["v-img__img",w.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:c,onLoad:f,onError:g},null),r=null==(t=o.sources)?void 0:t.call(o);return createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[withDirectives(r?createBaseVNode("picture",{class:"v-img__picture"},[r,a]):a,[[vShow,"loaded"===d.value]])]})},V=()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[h.value.lazySrc&&"loaded"!==d.value&&createBaseVNode("img",{class:normalizeClass(["v-img__img","v-img__img--preload",w.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:h.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),k=()=>o.placeholder?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>[("loading"===d.value||"error"===d.value&&!o.error)&&createBaseVNode("div",{class:"v-img__placeholder"},[o.placeholder()])]}):null,C=()=>o.error?createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>["error"===d.value&&createBaseVNode("div",{class:"v-img__error"},[o.error()])]}):null,S=()=>e.gradient?createBaseVNode("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,N=shallowRef(!1);{const e=watch(m,t=>{t&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{N.value=!0})}),e())})}return useRender(()=>{const t=VResponsive.filterProps(e);return withDirectives(createVNode(VResponsive,mergeProps({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!N.value},r.value,i.value,e.class],style:[{width:convertToUnit("auto"===e.width?u.value:e.width)},n.value,e.style]},t,{aspectRatio:m.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>createBaseVNode(Fragment,null,[createVNode(x,null,null),createVNode(V,null,null),createVNode(S,null,null),createVNode(k,null,null),createVNode(C,null,null)]),default:o.default}),[[Intersect,{handler:v,options:e.options},null,{once:!0}]])}),{currentSrc:s,image:c,state:d,naturalWidth:u,naturalHeight:p}}}),makeVAvatarProps=propsFactory({start:Boolean,end:Boolean,icon:IconValue,image:String,text:String,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"VAvatar"),VAvatar=genericComponent()({name:"VAvatar",props:makeVAvatarProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{borderClasses:r}=useBorder(e),{colorClasses:n,colorStyles:i,variantClasses:l}=useVariant(e),{densityClasses:s}=useDensity(e),{roundedClasses:c}=useRounded(e),{sizeClasses:d,sizeStyles:u}=useSize(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},o.value,r.value,n.value,s.value,c.value,d.value,l.value,e.class]),style:normalizeStyle([i.value,u.value,e.style])},{default:()=>[a.default?createVNode(VDefaultsProvider,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[a.default()]}):e.image?createVNode(VImg,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?createVNode(VIcon,{key:"icon",icon:e.icon},null):e.text,genOverlays(!1,"v-avatar")]})),{}}}),makeCardItemProps=propsFactory({appendAvatar:String,appendIcon:IconValue,prependAvatar:String,prependIcon:IconValue,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...makeComponentProps(),...makeDensityProps(),...makeTagProps()},"VCardItem"),VCardItem=genericComponent()({name:"VCardItem",props:makeCardItemProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{const t=!(!e.prependAvatar&&!e.prependIcon),o=!(!t&&!a.prepend),r=!(!e.appendAvatar&&!e.appendIcon),n=!(!r&&!a.append),i=!(null==e.title&&!a.title),l=!(null==e.subtitle&&!a.subtitle);return createVNode(e.tag,{class:normalizeClass(["v-card-item",e.class]),style:normalizeStyle(e.style)},{default:()=>{var s;return[o&&createBaseVNode("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):createBaseVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),createBaseVNode("div",{class:"v-card-item__content"},[i&&createVNode(VCardTitle,{key:"title"},{default:()=>{var t;return[(null==(t=a.title)?void 0:t.call(a))??toDisplayString(e.title)]}}),l&&createVNode(VCardSubtitle,{key:"subtitle"},{default:()=>{var t;return[(null==(t=a.subtitle)?void 0:t.call(a))??toDisplayString(e.subtitle)]}}),null==(s=a.default)?void 0:s.call(a)]),n&&createBaseVNode("div",{key:"append",class:"v-card-item__append"},[a.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}})}),{}}}),makeVCardTextProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VCardText"),VCardText=genericComponent()({name:"VCardText",props:makeVCardTextProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-card-text",e.class]),style:normalizeStyle([{"--v-card-text-opacity":e.opacity},e.style])},a)),{}}}),makeVCardProps=propsFactory({appendAvatar:String,appendIcon:IconValue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeLoaderProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"elevated"})},"VCard"),VCard=genericComponent()({name:"VCard",directives:{vRipple:Ripple},props:makeVCardProps(),setup(e,t){let{attrs:a,slots:o}=t;const{themeClasses:r}=provideTheme(e),{borderClasses:n}=useBorder(e),{colorClasses:i,colorStyles:l,variantClasses:s}=useVariant(e),{densityClasses:c}=useDensity(e),{dimensionStyles:d}=useDimension(e),{elevationClasses:u}=useElevation(e),{loaderClasses:p}=useLoader(e),{locationStyles:h}=useLocation(e),{positionClasses:m}=usePosition(e),{roundedClasses:v}=useRounded(e),f=useLink(e,a);return useRender(()=>{const t=!1!==e.link&&f.isLink.value,a=!e.disabled&&!1!==e.link&&(e.link||f.isClickable.value),g=t?"a":e.tag,y=!(!o.title&&null==e.title),_=!(!o.subtitle&&null==e.subtitle),b=y||_,w=!!(o.append||e.appendAvatar||e.appendIcon),x=!!(o.prepend||e.prependAvatar||e.prependIcon),V=!(!o.image&&!e.image),k=b||x||w,C=!(!o.text&&null==e.text);return withDirectives(createVNode(g,mergeProps(f.linkProps,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":a},r.value,n.value,i.value,c.value,u.value,p.value,m.value,v.value,s.value,e.class],style:[l.value,d.value,h.value,e.style],onClick:a&&f.navigate,tabindex:e.disabled?-1:void 0}),{default:()=>{var t;return[V&&createBaseVNode("div",{key:"image",class:"v-card__image"},[o.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},o.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(LoaderSlot,{name:"v-card",active:!!e.loading,color:"boolean"==typeof e.loading?void 0:e.loading},{default:o.loader}),k&&createVNode(VCardItem,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:o.item,prepend:o.prepend,title:o.title,subtitle:o.subtitle,append:o.append}),C&&createVNode(VCardText,{key:"text"},{default:()=>{var t;return[(null==(t=o.text)?void 0:t.call(o))??e.text]}}),null==(t=o.default)?void 0:t.call(o),o.actions&&createVNode(VCardActions,null,{default:o.actions}),genOverlays(a,"v-card")]}}),[[Ripple,a&&e.ripple]])}),{}}}),makeVLabelProps=propsFactory({text:String,onClick:EventProp(),...makeComponentProps(),...makeThemeProps()},"VLabel"),VLabel=genericComponent()({name:"VLabel",props:makeVLabelProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{var t;return createBaseVNode("label",{class:normalizeClass(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:normalizeStyle(e.style),onClick:e.onClick},[e.text,null==(t=a.default)?void 0:t.call(a)])}),{}}}),VSelectionControlGroupSymbol=Symbol.for("vuetify:selection-control-group"),makeSelectionControlGroupProps=propsFactory({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:IconValue,trueIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:deepEqual$1},...makeComponentProps(),...makeDensityProps(),...makeThemeProps()},"SelectionControlGroup"),makeVSelectionControlGroupProps=propsFactory({...makeSelectionControlGroupProps({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),VSelectionControlGroup=genericComponent()({name:"VSelectionControlGroup",props:makeVSelectionControlGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),r=useId(),n=toRef(()=>e.id||`v-selection-control-group-${r}`),i=toRef(()=>e.name||n.value),l=new Set;return provide(VSelectionControlGroupSymbol,{modelValue:o,forceUpdate:()=>{l.forEach(e=>e())},onForceUpdate:e=>{l.add(e),onScopeDispose(()=>{l.delete(e)})}}),provideDefaults({[e.defaultsTarget]:{color:toRef(()=>e.color),disabled:toRef(()=>e.disabled),density:toRef(()=>e.density),error:toRef(()=>e.error),inline:toRef(()=>e.inline),modelValue:o,multiple:toRef(()=>!!e.multiple||null==e.multiple&&Array.isArray(o.value)),name:i,falseIcon:toRef(()=>e.falseIcon),trueIcon:toRef(()=>e.trueIcon),readonly:toRef(()=>e.readonly),ripple:toRef(()=>e.ripple),type:toRef(()=>e.type),valueComparator:toRef(()=>e.valueComparator)}}),useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:normalizeStyle(e.style),role:"radio"===e.type?"radiogroup":void 0},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),makeVSelectionControlProps=propsFactory({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...makeComponentProps(),...makeSelectionControlGroupProps()},"VSelectionControl");function useSelectionControl(e){const t=inject(VSelectionControlGroupSymbol,void 0),{densityClasses:a}=useDensity(e),o=useProxiedModel(e,"modelValue"),r=computed(()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value),n=computed(()=>void 0!==e.falseValue&&e.falseValue),i=computed(()=>!!e.multiple||null==e.multiple&&Array.isArray(o.value)),l=computed({get(){const a=t?t.modelValue.value:o.value;return i.value?wrapInArray(a).some(t=>e.valueComparator(t,r.value)):e.valueComparator(a,r.value)},set(a){if(e.readonly)return;const l=a?r.value:n.value;let s=l;i.value&&(s=a?[...wrapInArray(o.value),l]:wrapInArray(o.value).filter(t=>!e.valueComparator(t,r.value))),t?t.modelValue.value=s:o.value=s}}),{textColorClasses:s,textColorStyles:c}=useTextColor(()=>{if(!e.error&&!e.disabled)return l.value?e.color:e.baseColor}),{backgroundColorClasses:d,backgroundColorStyles:u}=useBackgroundColor(()=>!l.value||e.error||e.disabled?e.baseColor:e.color),p=computed(()=>l.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:a,trueValue:r,falseValue:n,model:l,textColorClasses:s,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:u,icon:p}}const VSelectionControl=genericComponent()({name:"VSelectionControl",directives:{vRipple:Ripple},inheritAttrs:!1,props:makeVSelectionControlProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{group:r,densityClasses:n,icon:i,model:l,textColorClasses:s,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:u,trueValue:p}=useSelectionControl(e),h=useId(),m=shallowRef(!1),v=shallowRef(!1),f=ref$1(),g=toRef(()=>e.id||`input-${h}`),y=toRef(()=>!e.disabled&&!e.readonly);function _(e){y.value&&(m.value=!0,!1!==matchesSelector(e.target,":focus-visible")&&(v.value=!0))}function b(){m.value=!1,v.value=!1}function w(e){e.stopPropagation()}function x(t){y.value?(e.readonly&&r&&nextTick(()=>r.forceUpdate()),l.value=t.target.checked):f.value&&(f.value.checked=l.value)}return null==r||r.onForceUpdate(()=>{f.value&&(f.value.checked=l.value)}),useRender(()=>{var t,r;const h=o.label?o.label({label:e.label,props:{for:g.value}}):e.label,[y,V]=filterInputAttrs(a),k=createBaseVNode("input",mergeProps({ref:f,checked:l.value,disabled:!!e.disabled,id:g.value,onBlur:b,onFocus:_,onInput:x,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:p.value,name:e.name,"aria-checked":"checkbox"===e.type?l.value:void 0},V),null);return createBaseVNode("div",mergeProps({class:["v-selection-control",{"v-selection-control--dirty":l.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":m.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":e.inline},n.value,e.class]},y,{style:e.style}),[createBaseVNode("div",{class:normalizeClass(["v-selection-control__wrapper",s.value]),style:normalizeStyle(c.value)},[null==(t=o.default)?void 0:t.call(o,{backgroundColorClasses:d,backgroundColorStyles:u}),withDirectives(createBaseVNode("div",{class:normalizeClass(["v-selection-control__input"])},[(null==(r=o.input)?void 0:r.call(o,{model:l,textColorClasses:s,textColorStyles:c,backgroundColorClasses:d,backgroundColorStyles:u,inputNode:k,icon:i.value,props:{onFocus:_,onBlur:b,id:g.value}}))??createBaseVNode(Fragment,null,[i.value&&createVNode(VIcon,{key:"icon",icon:i.value},null),k])]),[[Ripple,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),h&&createVNode(VLabel,{for:g.value,onClick:w},{default:()=>[h]})])}),{isFocused:m,input:f}}}),makeVCheckboxBtnProps=propsFactory({indeterminate:Boolean,indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},...makeVSelectionControlProps({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),VCheckboxBtn=genericComponent()({name:"VCheckboxBtn",props:makeVCheckboxBtnProps(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"indeterminate"),r=useProxiedModel(e,"modelValue");function n(e){o.value&&(o.value=!1)}const i=toRef(()=>o.value?e.indeterminateIcon:e.falseIcon),l=toRef(()=>o.value?e.indeterminateIcon:e.trueIcon);return useRender(()=>{const t=omit(VSelectionControl.filterProps(e),["modelValue"]);return createVNode(VSelectionControl,mergeProps(t,{modelValue:r.value,"onUpdate:modelValue":[e=>r.value=e,n],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:l.value,"aria-checked":o.value?"mixed":void 0}),a)}),{}}});function useInputIcon(e){const{t:t}=useLocale();return{InputIcon:function(a){let{name:o,color:r,...n}=a;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],l=e[`onClick:${o}`],s=l&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return createVNode(VIcon,mergeProps({icon:e[`${o}Icon`],"aria-label":s,onClick:l,onKeydown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),callEvent(l,new PointerEvent("click",e)))},color:r},n),null)}}}const makeTransitionProps=propsFactory({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function createCssTransition(e,t,a){return genericComponent()({name:e,props:makeTransitionProps({mode:a,origin:t}),setup(t,a){let{slots:o}=a;const r={onBeforeEnter(e){t.origin&&(e.style.transformOrigin=t.origin)},onLeave(e){if(t.leaveAbsolute){const{offsetTop:t,offsetLeft:a,offsetWidth:o,offsetHeight:r}=e;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=`${t}px`,e.style.left=`${a}px`,e.style.width=`${o}px`,e.style.height=`${r}px`}t.hideOnLeave&&e.style.setProperty("display","none","important")},onAfterLeave(e){if(t.leaveAbsolute&&(null==e?void 0:e._transitionInitialStyles)){const{position:t,top:a,left:o,width:r,height:n}=e._transitionInitialStyles;delete e._transitionInitialStyles,e.style.position=t||"",e.style.top=a||"",e.style.left=o||"",e.style.width=r||"",e.style.height=n||""}}};return()=>{const a=t.group?TransitionGroup:Transition;return h$1(a,{name:t.disabled?"":e,css:!t.disabled,...t.group?void 0:{mode:t.mode},...t.disabled?{}:r},o.default)}}})}function createJavascriptTransition(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return genericComponent()({name:e,props:{mode:{type:String,default:a},disabled:{type:Boolean,default:PREFERS_REDUCED_MOTION()},group:Boolean},setup(a,o){let{slots:r}=o;const n=a.group?TransitionGroup:Transition;return()=>h$1(n,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:t},r.default)}})}function ExpandTransitionGenerator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"width":"height",a=camelize(`offset-${t}`);return{onBeforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[t]:e.style[t]}},onEnter(o){const r=o._initialStyle;if(!r)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const n=`${o[a]}px`;o.style[t]="0",o.offsetHeight,o.style.transition=r.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[t]=n})},onAfterEnter:r,onEnterCancelled:r,onLeave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[t]:e.style[t]},e.style.overflow="hidden",e.style[t]=`${e[a]}px`,e.offsetHeight,requestAnimationFrame(()=>e.style[t]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(t){e&&t._parent&&t._parent.classList.remove(e),r(t)}function r(e){if(!e._initialStyle)return;const a=e._initialStyle[t];e.style.overflow=e._initialStyle.overflow,null!=a&&(e.style[t]=a),delete e._initialStyle}}const makeVDialogTransitionProps=propsFactory({target:[Object,Array]},"v-dialog-transition"),saved=new WeakMap,VDialogTransition=genericComponent()({name:"VDialogTransition",props:makeVDialogTransitionProps(),setup(e,t){let{slots:a}=t;const o={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(t,a){var o;await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),t.style.visibility="";const r=getDimensions(e.target,t),{x:n,y:i,sx:l,sy:s,speed:c}=r;if(saved.set(t,r),PREFERS_REDUCED_MOTION())animate(t,[{opacity:0},{}],{duration:125*c,easing:deceleratedEasing}).finished.then(()=>a());else{const e=animate(t,[{transform:`translate(${n}px, ${i}px) scale(${l}, ${s})`,opacity:0},{}],{duration:225*c,easing:deceleratedEasing});null==(o=getChildren(t))||o.forEach(e=>{animate(e,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*c,easing:standardEasing})}),e.finished.then(()=>a())}},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(t,a){var o;let r;await new Promise(e=>requestAnimationFrame(e)),r=!saved.has(t)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?getDimensions(e.target,t):saved.get(t);const{x:n,y:i,sx:l,sy:s,speed:c}=r;if(PREFERS_REDUCED_MOTION())animate(t,[{},{opacity:0}],{duration:85*c,easing:acceleratedEasing}).finished.then(()=>a());else{animate(t,[{},{transform:`translate(${n}px, ${i}px) scale(${l}, ${s})`,opacity:0}],{duration:125*c,easing:acceleratedEasing}).finished.then(()=>a()),null==(o=getChildren(t))||o.forEach(e=>{animate(e,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*c,easing:standardEasing})})}},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>e.target?createVNode(Transition,mergeProps({name:"dialog-transition"},o,{css:!1}),a):createVNode(Transition,{name:"dialog-transition"},a)}});function getChildren(e){var t;const a=null==(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))?void 0:t.children;return a&&[...a]}function getDimensions(e,t){const a=getTargetBox(e),o=nullifyTransforms(t),[r,n]=getComputedStyle(t).transformOrigin.split(" ").map(e=>parseFloat(e)),[i,l]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let s=a.left+a.width/2;"left"===i||"left"===l?s-=a.width/2:"right"!==i&&"right"!==l||(s+=a.width/2);let c=a.top+a.height/2;"top"===i||"top"===l?c-=a.height/2:"bottom"!==i&&"bottom"!==l||(c+=a.height/2);const d=a.width/o.width,u=a.height/o.height,p=Math.max(1,d,u),h=d/p||0,m=u/p||0,v=o.width*o.height/(window.innerWidth*window.innerHeight),f=v>.12?Math.min(1.5,10*(v-.12)+1):1;return{x:s-(r+o.left),y:c-(n+o.top),sx:h,sy:m,speed:f}}const VFabTransition=createCssTransition("fab-transition","center center","out-in"),VDialogBottomTransition=createCssTransition("dialog-bottom-transition"),VDialogTopTransition=createCssTransition("dialog-top-transition"),VFadeTransition=createCssTransition("fade-transition"),VScaleTransition=createCssTransition("scale-transition"),VScrollXTransition=createCssTransition("scroll-x-transition"),VScrollXReverseTransition=createCssTransition("scroll-x-reverse-transition"),VScrollYTransition=createCssTransition("scroll-y-transition"),VScrollYReverseTransition=createCssTransition("scroll-y-reverse-transition"),VSlideXTransition=createCssTransition("slide-x-transition"),VSlideXReverseTransition=createCssTransition("slide-x-reverse-transition"),VSlideYTransition=createCssTransition("slide-y-transition"),VSlideYReverseTransition=createCssTransition("slide-y-reverse-transition"),VExpandTransition=createJavascriptTransition("expand-transition",ExpandTransitionGenerator()),VExpandXTransition=createJavascriptTransition("expand-x-transition",ExpandTransitionGenerator("",!0)),makeVMessagesProps=propsFactory({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...makeComponentProps(),...makeTransitionProps$1({transition:{component:VSlideYTransition,leaveAbsolute:!0,group:!0}})},"VMessages"),VMessages=genericComponent()({name:"VMessages",props:makeVMessagesProps(),setup(e,t){let{slots:a}=t;const o=computed(()=>wrapInArray(e.messages)),{textColorClasses:r,textColorStyles:n}=useTextColor(()=>e.color);return useRender(()=>createVNode(MaybeTransition,{transition:e.transition,tag:"div",class:normalizeClass(["v-messages",r.value,e.class]),style:normalizeStyle([n.value,e.style])},{default:()=>[e.active&&o.value.map((e,t)=>createBaseVNode("div",{class:"v-messages__message",key:`${t}-${o.value}`},[a.message?a.message({message:e}):e]))]})),{}}}),makeFocusProps=propsFactory({focused:Boolean,"onUpdate:focused":EventProp()},"focus");function useFocus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName();const a=useProxiedModel(e,"focused");return{focusClasses:toRef(()=>({[`${t}--focused`]:a.value})),isFocused:a,focus:function(){a.value=!0},blur:function(){a.value=!1}}}const FormKey=Symbol.for("vuetify:form"),makeFormProps=propsFactory({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function createForm(e){const t=useProxiedModel(e,"modelValue"),a=toRef(()=>e.disabled),o=toRef(()=>e.readonly),r=shallowRef(!1),n=ref$1([]),i=ref$1([]);return watch(n,()=>{let e=0,a=0;const o=[];for(const t of n.value)!1===t.isValid?(a++,o.push({id:t.id,errorMessages:t.errorMessages})):!0===t.isValid&&e++;i.value=o,t.value=!(a>0)&&(e===n.value.length||null)},{deep:!0,flush:"post"}),provide(FormKey,{register:e=>{let{id:t,vm:a,validate:o,reset:r,resetValidation:i}=e;n.value.some(e=>e.id===t),n.value.push({id:t,validate:o,reset:r,resetValidation:i,vm:markRaw(a),isValid:null,errorMessages:[]})},unregister:e=>{n.value=n.value.filter(t=>t.id!==e)},update:(e,t,a)=>{const o=n.value.find(t=>t.id===e);o&&(o.isValid=t,o.errorMessages=a)},isDisabled:a,isReadonly:o,isValidating:r,isValid:t,items:n,validateOn:toRef(()=>e.validateOn)}),{errors:i,isDisabled:a,isReadonly:o,isValidating:r,isValid:t,items:n,validate:async function(){const t=[];let a=!0;i.value=[],r.value=!0;for(const o of n.value){const r=await o.validate();if(r.length>0&&(a=!1,t.push({id:o.id,errorMessages:r})),!a&&e.fastFail)break}return i.value=t,r.value=!1,{valid:a,errors:i.value}},reset:function(){n.value.forEach(e=>e.reset())},resetValidation:function(){n.value.forEach(e=>e.resetValidation())}}}function useForm(e){const t=inject(FormKey,null);return{...t,isReadonly:computed(()=>!!((null==e?void 0:e.readonly)??(null==t?void 0:t.isReadonly.value))),isDisabled:computed(()=>!!((null==e?void 0:e.disabled)??(null==t?void 0:t.isDisabled.value)))}}const RulesSymbol=Symbol.for("vuetify:rules");function useRules(e){const t=inject(RulesSymbol,null);if(!e){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return(null==t?void 0:t.resolve(e))??toRef(e)}const makeValidationProps=propsFactory({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...makeFocusProps()},"validation");function useValidation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getCurrentInstanceName(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:useId();const o=useProxiedModel(e,"modelValue"),r=computed(()=>void 0===e.validationValue?o.value:e.validationValue),n=useForm(e),i=useRules(()=>e.rules),l=ref$1([]),s=shallowRef(!0),c=computed(()=>!(!wrapInArray(""===o.value?null:o.value).length&&!wrapInArray(""===r.value?null:r.value).length)),d=computed(()=>{var t;return(null==(t=e.errorMessages)?void 0:t.length)?wrapInArray(e.errorMessages).concat(l.value).slice(0,Math.max(0,Number(e.maxErrors))):l.value}),u=computed(()=>{var t;let a=(e.validateOn??(null==(t=n.validateOn)?void 0:t.value))||"input";"lazy"===a&&(a="input lazy"),"eager"===a&&(a="input eager");const o=new Set((null==a?void 0:a.split(" "))??[]);return{input:o.has("input"),blur:o.has("blur")||o.has("input")||o.has("invalid-input"),invalidInput:o.has("invalid-input"),lazy:o.has("lazy"),eager:o.has("eager")}}),p=computed(()=>{var t;return!e.error&&!(null==(t=e.errorMessages)?void 0:t.length)&&(!e.rules.length||(s.value?!l.value.length&&!u.value.lazy||null:!l.value.length))}),h=shallowRef(!1),m=computed(()=>({[`${t}--error`]:!1===p.value,[`${t}--dirty`]:c.value,[`${t}--disabled`]:n.isDisabled.value,[`${t}--readonly`]:n.isReadonly.value})),v=getCurrentInstance("validation"),f=computed(()=>e.name??unref(a));async function g(){o.value=null,await nextTick(),await y()}async function y(){s.value=!0,u.value.lazy?l.value=[]:await _(!u.value.eager)}async function _(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=[];h.value=!0;for(const o of i.value){if(a.length>=Number(e.maxErrors??1))break;const t="function"==typeof o?o:()=>o,n=await t(r.value);!0!==n&&(!1===n||"string"==typeof n?a.push(n||""):console.warn(`${n} is not a valid value. Rule functions must return boolean true or a string.`))}return l.value=a,h.value=!1,s.value=t,l.value}return onBeforeMount(()=>{var e;null==(e=n.register)||e.call(n,{id:f.value,vm:v,validate:_,reset:g,resetValidation:y})}),onBeforeUnmount(()=>{var e;null==(e=n.unregister)||e.call(n,f.value)}),onMounted(async()=>{var e;u.value.lazy||await _(!u.value.eager),null==(e=n.update)||e.call(n,f.value,p.value,d.value)}),useToggleScope(()=>u.value.input||u.value.invalidInput&&!1===p.value,()=>{watch(r,()=>{if(null!=r.value)_();else if(e.focused){const t=watch(()=>e.focused,e=>{e||_(),t()})}})}),useToggleScope(()=>u.value.blur,()=>{watch(()=>e.focused,e=>{e||_()})}),watch([p,d],()=>{var e;null==(e=n.update)||e.call(n,f.value,p.value,d.value)}),{errorMessages:d,isDirty:c,isDisabled:n.isDisabled,isReadonly:n.isReadonly,isPristine:s,isValid:p,isValidating:h,reset:g,resetValidation:y,validate:_,validationClasses:m}}const makeVInputProps=propsFactory({id:String,appendIcon:IconValue,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:IconValue,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":EventProp(),"onClick:append":EventProp(),...makeComponentProps(),...makeDensityProps(),...pick(makeDimensionProps(),["maxWidth","minWidth","width"]),...makeThemeProps(),...makeValidationProps()},"VInput"),VInput=genericComponent()({name:"VInput",props:{...makeVInputProps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o,emit:r}=t;const{densityClasses:n}=useDensity(e),{dimensionStyles:i}=useDimension(e),{themeClasses:l}=provideTheme(e),{rtlClasses:s}=useRtl(),{InputIcon:c}=useInputIcon(e),d=useId(),u=computed(()=>e.id||`input-${d}`),{errorMessages:p,isDirty:h,isDisabled:m,isReadonly:v,isPristine:f,isValid:g,isValidating:y,reset:_,resetValidation:b,validate:w,validationClasses:x}=useValidation(e,"v-input",u),V=computed(()=>{var t;return(null==(t=e.errorMessages)?void 0:t.length)||!f.value&&p.value.length?p.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages}),k=toRef(()=>V.value.length>0),C=toRef(()=>!e.hideDetails||"auto"===e.hideDetails&&(k.value||!!o.details)),S=computed(()=>C.value?`${u.value}-messages`:void 0),N=computed(()=>({id:u,messagesId:S,isDirty:h,isDisabled:m,isReadonly:v,isPristine:f,isValid:g,isValidating:y,hasDetails:C,reset:_,resetValidation:b,validate:w})),T=toRef(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),B=toRef(()=>{if(e.iconColor)return!0===e.iconColor?T.value:e.iconColor});return useRender(()=>{var t,a,r,d;const u=!(!o.prepend&&!e.prependIcon),p=!(!o.append&&!e.appendIcon);return createBaseVNode("div",{class:normalizeClass(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},n.value,l.value,s.value,x.value,e.class]),style:normalizeStyle([i.value,e.style])},[u&&createBaseVNode("div",{key:"prepend",class:"v-input__prepend"},[null==(t=o.prepend)?void 0:t.call(o,N.value),e.prependIcon&&createVNode(c,{key:"prepend-icon",name:"prepend",color:B.value},null)]),o.default&&createBaseVNode("div",{class:"v-input__control"},[null==(a=o.default)?void 0:a.call(o,N.value)]),p&&createBaseVNode("div",{key:"append",class:"v-input__append"},[e.appendIcon&&createVNode(c,{key:"append-icon",name:"append",color:B.value},null),null==(r=o.append)?void 0:r.call(o,N.value)]),C.value&&createBaseVNode("div",{id:S.value,class:"v-input__details",role:"alert","aria-live":"polite"},[createVNode(VMessages,{active:k.value,messages:V.value},{message:o.message}),null==(d=o.details)?void 0:d.call(o,N.value)])])}),{reset:_,resetValidation:b,validate:w,isValid:g,errorMessages:p}}}),Refs=Symbol("Forwarded refs");function getDescriptor(e,t){let a=e;for(;a;){const e=Reflect.getOwnPropertyDescriptor(a,t);if(e)return e;a=Object.getPrototypeOf(a)}}function forwardRefs(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];return e[Refs]=a,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__"))for(const o of a)if(o.value&&Reflect.has(o.value,t)){const e=Reflect.get(o.value,t);return"function"==typeof e?e.bind(o.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const o of a)if(o.value&&Reflect.has(o.value,t))return!0;return!1},set(e,t,o){if(Reflect.has(e,t))return Reflect.set(e,t,o);if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const r of a)if(r.value&&Reflect.has(r.value,t))return Reflect.set(r.value,t,o);return!1},getOwnPropertyDescriptor(e,t){var o;const r=Reflect.getOwnPropertyDescriptor(e,t);if(r)return r;if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__")){for(const e of a){if(!e.value)continue;const a=getDescriptor(e.value,t)??("_"in e.value?getDescriptor(null==(o=e.value._)?void 0:o.setupState,t):void 0);if(a)return a}for(const e of a){const a=e.value&&e.value[Refs];if(!a)continue;const o=a.slice();for(;o.length;){const e=o.shift(),a=getDescriptor(e.value,t);if(a)return a;const r=e.value&&e.value[Refs];r&&o.push(...r)}}}}})}const makeVCheckboxProps=propsFactory({...makeVInputProps(),...omit(makeVCheckboxBtnProps(),["inline"])},"VCheckbox"),VCheckbox=genericComponent()({name:"VCheckbox",inheritAttrs:!1,props:makeVCheckboxProps(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const r=useProxiedModel(e,"modelValue"),{isFocused:n,focus:i,blur:l}=useFocus(e),s=ref$1(),c=useId();return useRender(()=>{const[t,d]=filterInputAttrs(a),u=VInput.filterProps(e),p=VCheckboxBtn.filterProps(e);return createVNode(VInput,mergeProps({ref:s,class:["v-checkbox",e.class]},t,u,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,id:e.id||`checkbox-${c}`,focused:n.value,style:e.style}),{...o,default:e=>{let{id:t,messagesId:a,isDisabled:n,isReadonly:s,isValid:c}=e;return createVNode(VCheckboxBtn,mergeProps(p,{id:t.value,"aria-describedby":a.value,disabled:n.value,readonly:s.value},d,{error:!1===c.value,modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,onFocus:i,onBlur:l}),o)}})}),forwardRefs({},s)}});function calculateUpdatedTarget(e){let{selectedElement:t,containerElement:a,isRtl:o,isHorizontal:r}=e;const n=getOffsetSize(r,a),i=getScrollPosition(r,o,a),l=getOffsetSize(r,t),s=getOffsetPosition(r,t),c=.4*l;return i>s?s-c:i+n<s+l?s-n+l+c:i}function calculateCenteredTarget(e){let{selectedElement:t,containerElement:a,isHorizontal:o}=e;const r=getOffsetSize(o,a);return getOffsetPosition(o,t)-r/2+getOffsetSize(o,t)/2}function getScrollSize(e,t){return(null==t?void 0:t[e?"scrollWidth":"scrollHeight"])||0}function getClientSize(e,t){return(null==t?void 0:t[e?"clientWidth":"clientHeight"])||0}function getScrollPosition(e,t,a){if(!a)return 0;const{scrollLeft:o,offsetWidth:r,scrollWidth:n}=a;return e?t?n-r+o:o:a.scrollTop}function getOffsetSize(e,t){return(null==t?void 0:t[e?"offsetWidth":"offsetHeight"])||0}function getOffsetPosition(e,t){return(null==t?void 0:t[e?"offsetLeft":"offsetTop"])||0}const VSlideGroupSymbol=Symbol.for("vuetify:v-slide-group"),makeVSlideGroupProps=propsFactory({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:VSlideGroupSymbol},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...makeComponentProps(),...makeDisplayProps({mobile:null}),...makeTagProps(),...makeGroupProps({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),VSlideGroup=genericComponent()({name:"VSlideGroup",props:makeVSlideGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isRtl:o}=useRtl(),{displayClasses:r,mobile:n}=useDisplay(e),i=useGroup(e,e.symbol),l=shallowRef(!1),s=shallowRef(0),c=shallowRef(0),d=shallowRef(0),u=computed(()=>"horizontal"===e.direction),{resizeRef:p,contentRect:h}=useResizeObserver(),{resizeRef:m,contentRect:v}=useResizeObserver(),f=useGoTo(),g=computed(()=>({container:p.el,duration:200,easing:"easeOutQuart"})),y=computed(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[0]):-1),_=computed(()=>i.selected.value.length?i.items.value.findIndex(e=>e.id===i.selected.value[i.selected.value.length-1]):-1);if(IN_BROWSER){let t=-1;watch(()=>[i.selected.value,h.value,v.value,u.value],()=>{cancelAnimationFrame(t),t=requestAnimationFrame(()=>{if(h.value&&v.value){const e=u.value?"width":"height";c.value=h.value[e],d.value=v.value[e],l.value=c.value+1<d.value}if(e.scrollToActive&&y.value>=0&&m.el){w(m.el.children[_.value],e.centerActive)}})})}const b=shallowRef(!1);function w(e,t){let a=0;a=t?calculateCenteredTarget({containerElement:p.el,isHorizontal:u.value,selectedElement:e}):calculateUpdatedTarget({containerElement:p.el,isHorizontal:u.value,isRtl:o.value,selectedElement:e}),x(a)}function x(e){if(!IN_BROWSER||!p.el)return;const t=getOffsetSize(u.value,p.el),a=getScrollPosition(u.value,o.value,p.el);if(!(getScrollSize(u.value,p.el)<=t||Math.abs(e-a)<16)){if(u.value&&o.value&&p.el){const{scrollWidth:t,offsetWidth:a}=p.el;e=t-a-e}u.value?f.horizontal(e,g.value):f(e,g.value)}}function V(e){const{scrollTop:t,scrollLeft:a}=e.target;s.value=u.value?a:t}function k(e){if(b.value=!0,l.value&&m.el)for(const t of e.composedPath())for(const e of m.el.children)if(e===t)return void w(e)}function C(e){b.value=!1}let S=!1;function N(e){var t;S||b.value||e.relatedTarget&&(null==(t=m.el)?void 0:t.contains(e.relatedTarget))||I(),S=!1}function T(){S=!0}function B(e){function t(t){e.preventDefault(),I(t)}m.el&&(u.value?"ArrowRight"===e.key?t(o.value?"prev":"next"):"ArrowLeft"===e.key&&t(o.value?"next":"prev"):"ArrowDown"===e.key?t("next"):"ArrowUp"===e.key&&t("prev"),"Home"===e.key?t("first"):"End"===e.key&&t("last"))}function E(e,t){if(!e)return;let a=e;do{a=null==a?void 0:a["next"===t?"nextElementSibling":"previousElementSibling"]}while(null==a?void 0:a.hasAttribute("disabled"));return a}function I(e){if(!m.el)return;let t;if(e)if("next"===e){if(t=E(m.el.querySelector(":focus"),e),!t)return I("first")}else if("prev"===e){if(t=E(m.el.querySelector(":focus"),e),!t)return I("last")}else"first"===e?(t=m.el.firstElementChild,(null==t?void 0:t.hasAttribute("disabled"))&&(t=E(t,"next"))):"last"===e&&(t=m.el.lastElementChild,(null==t?void 0:t.hasAttribute("disabled"))&&(t=E(t,"prev")));else{t=focusableChildren(m.el)[0]}t&&t.focus({preventScroll:!0})}function $(e){const t=u.value&&o.value?-1:1,a=("prev"===e?-t:t)*c.value;let r=s.value+a;if(u.value&&o.value&&p.el){const{scrollWidth:e,offsetWidth:t}=p.el;r+=e-t}x(r)}const P=computed(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),D=computed(()=>l.value||Math.abs(s.value)>0),L=computed(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!n.value;case!0:return D.value;case"mobile":return n.value||D.value;default:return!n.value&&D.value}}),R=computed(()=>Math.abs(s.value)>1),A=computed(()=>{if(!p.value||!D.value)return!1;return getScrollSize(u.value,p.el)-getClientSize(u.value,p.el)-Math.abs(s.value)>1});return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-slide-group",{"v-slide-group--vertical":!u.value,"v-slide-group--has-affixes":L.value,"v-slide-group--is-overflowing":l.value},r.value,e.class]),style:normalizeStyle(e.style),tabindex:b.value||i.selected.value.length?-1:0,onFocus:N},{default:()=>{var t,r,n;return[L.value&&createBaseVNode("div",{key:"prev",class:normalizeClass(["v-slide-group__prev",{"v-slide-group__prev--disabled":!R.value}]),onMousedown:T,onClick:()=>R.value&&$("prev")},[(null==(t=a.prev)?void 0:t.call(a,P.value))??createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:o.value?e.nextIcon:e.prevIcon},null)]})]),createBaseVNode("div",{key:"container",ref:p,class:normalizeClass(["v-slide-group__container",e.contentClass]),onScroll:V},[createBaseVNode("div",{ref:m,class:"v-slide-group__content",onFocusin:k,onFocusout:C,onKeydown:B},[null==(r=a.default)?void 0:r.call(a,P.value)])]),L.value&&createBaseVNode("div",{key:"next",class:normalizeClass(["v-slide-group__next",{"v-slide-group__next--disabled":!A.value}]),onMousedown:T,onClick:()=>A.value&&$("next")},[(null==(n=a.next)?void 0:n.call(a,P.value))??createVNode(VFadeTransition,null,{default:()=>[createVNode(VIcon,{icon:o.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:$,scrollOffset:s,focus:I,hasPrev:R,hasNext:A}}}),VChipGroupSymbol=Symbol.for("vuetify:v-chip-group"),makeVChipGroupProps=propsFactory({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:deepEqual$1},...makeVSlideGroupProps({scrollToActive:!1}),...makeComponentProps(),...makeGroupProps({selectedClass:"v-chip--selected"}),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChipGroup"),VChipGroup=genericComponent()({name:"VChipGroup",props:makeVChipGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{isSelected:r,select:n,next:i,prev:l,selected:s}=useGroup(e,VChipGroupSymbol);return provideDefaults({VChip:{baseColor:toRef(()=>e.baseColor),color:toRef(()=>e.color),disabled:toRef(()=>e.disabled),filter:toRef(()=>e.filter),variant:toRef(()=>e.variant)}}),useRender(()=>{const t=VSlideGroup.filterProps(e);return createVNode(VSlideGroup,mergeProps(t,{class:["v-chip-group",{"v-chip-group--column":e.column},o.value,e.class],style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:r,select:n,next:i,prev:l,selected:s.value})]}})}),{}}}),makeVChipProps=propsFactory({activeClass:String,appendAvatar:String,appendIcon:IconValue,baseColor:String,closable:Boolean,closeIcon:{type:IconValue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:IconValue,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeRouterProps(),...makeSizeProps(),...makeTagProps({tag:"span"}),...makeThemeProps(),...makeVariantProps({variant:"tonal"})},"VChip"),VChip=genericComponent()({name:"VChip",directives:{vRipple:Ripple},props:makeVChipProps(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{t:n}=useLocale(),{borderClasses:i}=useBorder(e),{densityClasses:l}=useDensity(e),{elevationClasses:s}=useElevation(e),{roundedClasses:c}=useRounded(e),{sizeClasses:d}=useSize(e),{themeClasses:u}=provideTheme(e),p=useProxiedModel(e,"modelValue"),h=useGroupItem(e,VChipGroupSymbol,!1),m=useGroupItem(e,VSlideGroupSymbol,!1),v=useLink(e,a),f=toRef(()=>!1!==e.link&&v.isLink.value),g=computed(()=>!e.disabled&&!1!==e.link&&(!!h||e.link||v.isClickable.value)),y=toRef(()=>({"aria-label":n(e.closeLabel),disabled:e.disabled,onClick(e){e.preventDefault(),e.stopPropagation(),p.value=!1,o("click:close",e)}}));watch(p,e=>{e?(null==h||h.register(),null==m||m.register()):(null==h||h.unregister(),null==m||m.unregister())});const{colorClasses:_,colorStyles:b,variantClasses:w}=useVariant(()=>({color:!h||h.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function x(e){var t;o("click",e),g.value&&(null==(t=v.navigate)||t.call(v,e),null==h||h.toggle())}function V(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),x(e))}return()=>{var t;const a=v.isLink.value?"a":e.tag,o=!(!e.appendIcon&&!e.appendAvatar),n=!(!o&&!r.append),m=!(!r.close&&!e.closable),k=!(!r.filter&&!e.filter)&&h,C=!(!e.prependIcon&&!e.prependAvatar),S=!(!C&&!r.prepend);return p.value&&withDirectives(createVNode(a,mergeProps(v.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":g.value,"v-chip--filter":k,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&(null==(t=v.isActive)?void 0:t.value)},u.value,i.value,_.value,l.value,s.value,c.value,d.value,w.value,null==h?void 0:h.selectedClass.value,e.class],style:[b.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:g.value?0:void 0,onClick:x,onKeydown:g.value&&!f.value&&V}),{default:()=>{var t;return[genOverlays(g.value,"v-chip"),k&&createVNode(VExpandXTransition,{key:"filter"},{default:()=>[withDirectives(createBaseVNode("div",{class:"v-chip__filter"},[r.filter?createVNode(VDefaultsProvider,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):createVNode(VIcon,{key:"filter-icon",icon:e.filterIcon},null)]),[[vShow,h.isSelected.value]])]}),S&&createBaseVNode("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!C,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):createBaseVNode(Fragment,null,[e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),createBaseVNode("div",{class:"v-chip__content","data-no-activator":""},[(null==(t=r.default)?void 0:t.call(r,{isSelected:null==h?void 0:h.isSelected.value,selectedClass:null==h?void 0:h.selectedClass.value,select:null==h?void 0:h.select,toggle:null==h?void 0:h.toggle,value:null==h?void 0:h.value.value,disabled:e.disabled}))??toDisplayString(e.text)]),n&&createBaseVNode("div",{key:"append",class:"v-chip__append"},[r.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!o,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),m&&createBaseVNode("button",mergeProps({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},y.value),[r.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):createVNode(VIcon,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Ripple,g.value&&e.ripple,null]])}}});function elementToViewport(e,t){return{x:e.x+t.x,y:e.y+t.y}}function getOffset$1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function anchorToPoint(e,t){if("top"===e.side||"bottom"===e.side){const{side:a,align:o}=e;return elementToViewport({x:"left"===o?0:"center"===o?t.width/2:"right"===o?t.width:o,y:"top"===a?0:"bottom"===a?t.height:a},t)}if("left"===e.side||"right"===e.side){const{side:a,align:o}=e;return elementToViewport({x:"left"===a?0:"right"===a?t.width:a,y:"top"===o?0:"center"===o?t.height/2:"bottom"===o?t.height:o},t)}return elementToViewport({x:t.width/2,y:t.height/2},t)}const locationStrategies={static:staticLocationStrategy,connected:connectedLocationStrategy},makeLocationStrategyProps=propsFactory({locationStrategy:{type:[String,Function],default:"static",validator:e=>"function"==typeof e||e in locationStrategies},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean},"VOverlay-location-strategies");function useLocationStrategies(e,t){const a=ref$1({}),o=ref$1();function r(e){var t;null==(t=o.value)||t.call(o,e)}function n(e){var t;null==(t=o.value)||t.call(o,e)}function i(e){var t;null==(t=o.value)||t.call(o,e)}return IN_BROWSER&&useToggleScope(()=>!(!t.isActive.value||!e.locationStrategy),l=>{var s,c;watch(()=>e.locationStrategy,l),onScopeDispose(()=>{window.removeEventListener("resize",r),null==visualViewport||visualViewport.removeEventListener("resize",n),null==visualViewport||visualViewport.removeEventListener("scroll",i),o.value=void 0}),window.addEventListener("resize",r,{passive:!0}),null==visualViewport||visualViewport.addEventListener("resize",n,{passive:!0}),null==visualViewport||visualViewport.addEventListener("scroll",i,{passive:!0}),"function"==typeof e.locationStrategy?o.value=null==(s=e.locationStrategy(t,e,a))?void 0:s.updateLocation:o.value=null==(c=locationStrategies[e.locationStrategy](t,e,a))?void 0:c.updateLocation}),{contentStyles:a,updateLocation:o}}function staticLocationStrategy(){}function getIntrinsicSize(e,t){const a=nullifyTransforms(e);return t?a.x+=parseFloat(e.style.right||0):a.x-=parseFloat(e.style.left||0),a.y-=parseFloat(e.style.top||0),a}function connectedLocationStrategy(e,t,a){(Array.isArray(e.target.value)||isFixedPosition(e.target.value))&&Object.assign(a.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:r}=destructComputed(()=>{const a=parseAnchor(t.location,e.isRtl.value),o="overlap"===t.origin?a:"auto"===t.origin?flipSide(a):parseAnchor(t.origin,e.isRtl.value);return a.side===o.side&&a.align===flipAlign(o).align?{preferredAnchor:flipCorner(a),preferredOrigin:flipCorner(o)}:{preferredAnchor:a,preferredOrigin:o}}),[n,i,l,s]=["minWidth","minHeight","maxWidth","maxHeight"].map(e=>computed(()=>{const a=parseFloat(t[e]);return isNaN(a)?1/0:a})),c=computed(()=>{if(Array.isArray(t.offset))return t.offset;if("string"==typeof t.offset){const e=t.offset.split(" ").map(parseFloat);return e.length<2&&e.push(0),e}return"number"==typeof t.offset?[t.offset,0]:[0,0]});let d=!1,u=-1;const p=new CircularBuffer(4),h=new ResizeObserver(()=>{if(!d)return;if(requestAnimationFrame(e=>{e!==u&&p.clear(),requestAnimationFrame(e=>{u=e})}),p.isFull){const e=p.values();if(deepEqual$1(e.at(-1),e.at(-3))&&!deepEqual$1(e.at(-1),e.at(-2)))return}const e=v();e&&p.push(e.flipped)});let m=new Box({x:0,y:0,width:0,height:0});function v(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(m=getTargetBox(e.target.value));const u=getIntrinsicSize(e.contentEl.value,e.isRtl.value),p=getScrollParents(e.contentEl.value);p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(u.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),u.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const h=p.reduce((e,t)=>{const a=getElementBox(t);return e?new Box({x:Math.max(e.left,a.left),y:Math.max(e.top,a.top),width:Math.min(e.right,a.right)-Math.max(e.left,a.left),height:Math.min(e.bottom,a.bottom)-Math.max(e.top,a.top)}):a},void 0);h.x+=12,h.y+=12,h.width-=24,h.height-=24;let v={anchor:o.value,origin:r.value};function f(e){const t=new Box(u),a=anchorToPoint(e.anchor,m),o=anchorToPoint(e.origin,t);let{x:r,y:n}=getOffset$1(a,o);switch(e.anchor.side){case"top":n-=c.value[0];break;case"bottom":n+=c.value[0];break;case"left":r-=c.value[0];break;case"right":r+=c.value[0]}switch(e.anchor.align){case"top":n-=c.value[1];break;case"bottom":n+=c.value[1];break;case"left":r-=c.value[1];break;case"right":r+=c.value[1]}t.x+=r,t.y+=n,t.width=Math.min(t.width,l.value),t.height=Math.min(t.height,s.value);return{overflows:getOverflow(t,h),x:r,y:n}}let g=0,y=0;const _={x:0,y:0},b={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:e,y:a,overflows:o}=f(v);g+=e,y+=a,u.x+=e,u.y+=a;{const e=getAxis(v.anchor),t=o.x.before||o.x.after,a=o.y.before||o.y.after;let r=!1;if(["x","y"].forEach(n=>{if("x"===n&&t&&!b.x||"y"===n&&a&&!b.y){const t={anchor:{...v.anchor},origin:{...v.origin}},a="x"===n?"y"===e?flipAlign:flipSide:"y"===e?flipSide:flipAlign;t.anchor=a(t.anchor),t.origin=a(t.origin);const{overflows:i}=f(t);(i[n].before<=o[n].before&&i[n].after<=o[n].after||i[n].before+i[n].after<(o[n].before+o[n].after)/2)&&(v=t,r=b[n]=!0)}}),r)continue}o.x.before&&(t.stickToTarget||(g+=o.x.before),u.x+=o.x.before),o.x.after&&(t.stickToTarget||(g-=o.x.after),u.x-=o.x.after),o.y.before&&(t.stickToTarget||(y+=o.y.before),u.y+=o.y.before),o.y.after&&(t.stickToTarget||(y-=o.y.after),u.y-=o.y.after);{const e=getOverflow(u,h);_.x=h.width-e.x.before-e.x.after,_.y=h.height-e.y.before-e.y.after,t.stickToTarget||(g+=e.x.before),u.x+=e.x.before,t.stickToTarget||(y+=e.y.before),u.y+=e.y.before}break}const x=getAxis(v.anchor);return Object.assign(a.value,{"--v-overlay-anchor-origin":`${v.anchor.side} ${v.anchor.align}`,transformOrigin:`${v.origin.side} ${v.origin.align}`,top:convertToUnit(pixelRound(y)),left:e.isRtl.value?void 0:convertToUnit(pixelRound(g)),right:e.isRtl.value?convertToUnit(pixelRound(-g)):void 0,minWidth:convertToUnit("y"===x?Math.min(n.value,m.width):n.value),maxWidth:convertToUnit(pixelCeil(clamp(_.x,n.value===1/0?0:n.value,l.value))),maxHeight:convertToUnit(pixelCeil(clamp(_.y,i.value===1/0?0:i.value,s.value)))}),{available:_,contentBox:u,flipped:b}}return watch(e.target,(e,t)=>{t&&!Array.isArray(t)&&h.unobserve(t),Array.isArray(e)?deepEqual$1(e,t)||v():e&&h.observe(e)},{immediate:!0}),watch(e.contentEl,(e,t)=>{t&&h.unobserve(t),e&&h.observe(e)},{immediate:!0}),onScopeDispose(()=>{h.disconnect()}),watch(()=>[o.value,r.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>v()),nextTick(()=>{const e=v();if(!e)return;const{available:t,contentBox:a}=e;a.height>t.y&&requestAnimationFrame(()=>{v(),requestAnimationFrame(()=>{v()})})}),{updateLocation:v}}function pixelRound(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pixelCeil(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let clean=!0;const frames=[];function requestNewFrame(e){!clean||frames.length?(frames.push(e),run()):(clean=!1,e(),run())}let raf=-1;function run(){cancelAnimationFrame(raf),raf=requestAnimationFrame(()=>{const e=frames.shift();e&&e(),frames.length?run():clean=!0})}const scrollStrategies={none:null,close:closeScrollStrategy,block:blockScrollStrategy,reposition:repositionScrollStrategy},makeScrollStrategyProps=propsFactory({scrollStrategy:{type:[String,Function],default:"block",validator:e=>"function"==typeof e||e in scrollStrategies}},"VOverlay-scroll-strategies");function useScrollStrategies(e,t){if(!IN_BROWSER)return;let a;watchEffect(async()=>{null==a||a.stop(),t.isActive.value&&e.scrollStrategy&&(a=effectScope(),await new Promise(e=>setTimeout(e)),a.active&&a.run(()=>{var o;"function"==typeof e.scrollStrategy?e.scrollStrategy(t,e,a):null==(o=scrollStrategies[e.scrollStrategy])||o.call(scrollStrategies,t,e,a)}))}),onScopeDispose(()=>{null==a||a.stop()})}function closeScrollStrategy(e){bindScroll(getTargetEl(e.target.value,e.contentEl.value),function(t){e.isActive.value=!1})}function blockScrollStrategy(e,t){var a;const o=null==(a=e.root.value)?void 0:a.offsetParent,r=getTargetEl(e.target.value,e.contentEl.value),n=[...new Set([...getScrollParents(r,t.contained?o:void 0),...getScrollParents(e.contentEl.value,t.contained?o:void 0)])].filter(e=>!e.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,l=(s=o||document.documentElement,hasScrollbar(s)&&s);var s;l&&e.root.value.classList.add("v-overlay--scroll-blocked"),n.forEach((e,t)=>{e.style.setProperty("--v-body-scroll-x",convertToUnit(-e.scrollLeft)),e.style.setProperty("--v-body-scroll-y",convertToUnit(-e.scrollTop)),e!==document.documentElement&&e.style.setProperty("--v-scrollbar-offset",convertToUnit(i)),e.classList.add("v-overlay-scroll-blocked")}),onScopeDispose(()=>{n.forEach((e,t)=>{const a=parseFloat(e.style.getPropertyValue("--v-body-scroll-x")),o=parseFloat(e.style.getPropertyValue("--v-body-scroll-y")),r=e.style.scrollBehavior;e.style.scrollBehavior="auto",e.style.removeProperty("--v-body-scroll-x"),e.style.removeProperty("--v-body-scroll-y"),e.style.removeProperty("--v-scrollbar-offset"),e.classList.remove("v-overlay-scroll-blocked"),e.scrollLeft=-a,e.scrollTop=-o,e.style.scrollBehavior=r}),l&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function repositionScrollStrategy(e,t,a){let o=!1,r=-1,n=-1;function i(t){requestNewFrame(()=>{var a,r;const n=performance.now();null==(r=(a=e.updateLocation).value)||r.call(a,t);const i=performance.now()-n;o=i/(1e3/60)>2})}n=("undefined"==typeof requestIdleCallback?e=>e():requestIdleCallback)(()=>{a.run(()=>{bindScroll(getTargetEl(e.target.value,e.contentEl.value),e=>{o?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i(e)})})):i(e)})})}),onScopeDispose(()=>{"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(n),cancelAnimationFrame(r)})}function getTargetEl(e,t){return Array.isArray(e)?document.elementsFromPoint(...e).find(e=>!(null==t?void 0:t.contains(e))):e??t}function bindScroll(e,t){const a=[document,...getScrollParents(e)];a.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),onScopeDispose(()=>{a.forEach(e=>{e.removeEventListener("scroll",t)})})}const VMenuSymbol=Symbol.for("vuetify:v-menu"),makeDelayProps=propsFactory({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function useDelay(e,t){let a=()=>{};function o(o){null==a||a();const r=Number(o?e.openDelay:e.closeDelay);return new Promise(e=>{a=defer(r,()=>{null==t||t(o),e(o)})})}return{clearDelay:a,runOpenDelay:function(){return o(!0)},runCloseDelay:function(){return o(!1)}}}const makeActivatorProps=propsFactory({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...makeDelayProps()},"VOverlay-activator");function useActivator(e,t){let{isActive:a,isTop:o,contentEl:r}=t;const n=getCurrentInstance("useActivator"),i=ref$1();let l=!1,s=!1,c=!0;const d=computed(()=>e.openOnFocus||null==e.openOnFocus&&e.openOnHover),u=computed(()=>e.openOnClick||null==e.openOnClick&&!e.openOnHover&&!d.value),{runOpenDelay:p,runCloseDelay:h}=useDelay(e,t=>{t!==(e.openOnHover&&l||d.value&&s)||e.openOnHover&&a.value&&!o.value||(a.value!==t&&(c=!0),a.value=t)}),m=ref$1(),v=e=>{e.stopPropagation(),i.value=e.currentTarget||e.target,a.value||(m.value=[e.clientX,e.clientY]),a.value=!a.value},f=e=>{var t;(null==(t=e.sourceCapabilities)?void 0:t.firesTouchEvents)||(l=!0,i.value=e.currentTarget||e.target,p())},g=e=>{l=!1,h()},y=e=>{!1!==matchesSelector(e.target,":focus-visible")&&(s=!0,e.stopPropagation(),i.value=e.currentTarget||e.target,p())},_=e=>{s=!1,e.stopPropagation(),h()},b=computed(()=>{const t={};return u.value&&(t.onClick=v),e.openOnHover&&(t.onMouseenter=f,t.onMouseleave=g),d.value&&(t.onFocus=y,t.onBlur=_),t}),w=computed(()=>{const t={};if(e.openOnHover&&(t.onMouseenter=()=>{l=!0,p()},t.onMouseleave=()=>{l=!1,h()}),d.value&&(t.onFocusin=()=>{s=!0,p()},t.onFocusout=()=>{s=!1,h()}),e.closeOnContentClick){const e=inject(VMenuSymbol,null);t.onClick=()=>{a.value=!1,null==e||e.closeParents()}}return t}),x=computed(()=>{const t={};return e.openOnHover&&(t.onMouseenter=()=>{c&&(l=!0,c=!1,p())},t.onMouseleave=()=>{l=!1,h()}),t});watch(o,t=>{var o;!t||(!e.openOnHover||l||d.value&&s)&&(!d.value||s||e.openOnHover&&l)||(null==(o=r.value)?void 0:o.contains(document.activeElement))||(a.value=!1)}),watch(a,e=>{e||setTimeout(()=>{m.value=void 0})},{flush:"post"});const V=templateRef();watchEffect(()=>{V.value&&nextTick(()=>{i.value=V.el})});const k=templateRef(),C=computed(()=>"cursor"===e.target&&m.value?m.value:k.value?k.el:getTarget(e.target,n)||i.value),S=computed(()=>Array.isArray(C.value)?void 0:C.value);let N;return watch(()=>!!e.activator,t=>{t&&IN_BROWSER?(N=effectScope(),N.run(()=>{_useActivator(e,n,{activatorEl:i,activatorEvents:b})})):N&&N.stop()},{flush:"post",immediate:!0}),onScopeDispose(()=>{null==N||N.stop()}),{activatorEl:i,activatorRef:V,target:C,targetEl:S,targetRef:k,activatorEvents:b,contentEvents:w,scrimEvents:x}}function _useActivator(e,t,a){let{activatorEl:o,activatorEvents:r}=a;function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&bindProps(t,mergeProps(r.value,a))}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&unbindProps(t,mergeProps(r.value,a))}function l(){const a=getTarget(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.activator,t);return o.value=(null==a?void 0:a.nodeType)===Node.ELEMENT_NODE?a:void 0,o.value}watch(()=>e.activator,(e,t)=>{if(t&&e!==t){const e=l(t);e&&i(e)}e&&nextTick(()=>n())},{immediate:!0}),watch(()=>e.activatorProps,()=>{n()}),onScopeDispose(()=>{i()})}function getTarget(e,t){var a,o;if(!e)return;let r;if("parent"===e){let e=null==(o=null==(a=null==t?void 0:t.proxy)?void 0:a.$el)?void 0:o.parentNode;for(;null==e?void 0:e.hasAttribute("data-no-activator");)e=e.parentNode;r=e}else r="string"==typeof e?document.querySelector(e):"$el"in e?e.$el:e;return r}function useHydration(){if(!IN_BROWSER)return shallowRef(!1);const{ssr:e}=useDisplay();if(e){const e=shallowRef(!1);return onMounted(()=>{e.value=!0}),e}return shallowRef(!0)}const makeLazyProps=propsFactory({eager:Boolean},"lazy");function useLazy(e,t){const a=shallowRef(!1),o=toRef(()=>a.value||e.eager||t.value);return watch(t,()=>a.value=!0),{isBooted:a,hasContent:o,onAfterLeave:function(){e.eager||(a.value=!1)}}}function useScopeId(){const e=getCurrentInstance("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const StackSymbol=Symbol.for("vuetify:stack"),globalStack=reactive([]);function useStack(e,t,a){const o=getCurrentInstance("useStack"),r=!a,n=inject(StackSymbol,void 0),i=reactive({activeChildren:new Set});provide(StackSymbol,i);const l=shallowRef(Number(toValue(t)));useToggleScope(e,()=>{var e;const a=null==(e=globalStack.at(-1))?void 0:e[1];l.value=a?a+10:Number(toValue(t)),r&&globalStack.push([o.uid,l.value]),null==n||n.activeChildren.add(o.uid),onScopeDispose(()=>{if(r){const e=toRaw(globalStack).findIndex(e=>e[0]===o.uid);globalStack.splice(e,1)}null==n||n.activeChildren.delete(o.uid)})});const s=shallowRef(!0);r&&watchEffect(()=>{var e;const t=(null==(e=globalStack.at(-1))?void 0:e[0])===o.uid;setTimeout(()=>s.value=t)});const c=toRef(()=>!i.activeChildren.size);return{globalTop:readonly(s),localTop:c,stackStyles:toRef(()=>({zIndex:l.value}))}}function useTeleport(e){return{teleportTarget:computed(()=>{const t=e();if(!0===t||!IN_BROWSER)return;const a=!1===t?document.body:"string"==typeof t?document.querySelector(t):t;if(null==a)return;let o=[...a.children].find(e=>e.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",a.appendChild(o)),o})}}function defaultConditional(){return!0}function checkEvent(e,t,a){if(!e||!1===checkIsActive(e,a))return!1;const o=attachedRoot(t);if("undefined"!=typeof ShadowRoot&&o instanceof ShadowRoot&&o.host===e.target)return!1;const r=("object"==typeof a.value&&a.value.include||(()=>[]))();return r.push(t),!r.some(t=>null==t?void 0:t.contains(e.target))}function checkIsActive(e,t){return("object"==typeof t.value&&t.value.closeConditional||defaultConditional)(e)}function directive(e,t,a){const o="function"==typeof a.value?a.value:a.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&checkEvent(e,t,a)&&setTimeout(()=>{checkIsActive(e,a)&&o&&o(e)},0)}function handleShadow(e,t){const a=attachedRoot(e);t(document),"undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&t(a)}const ClickOutside={mounted(e,t){const a=a=>directive(a,e,t),o=a=>{e._clickOutside.lastMousedownWasOutside=checkEvent(a,e,t)};handleShadow(e,e=>{e.addEventListener("click",a,!0),e.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:a,onMousedown:o}},beforeUnmount(e,t){e._clickOutside&&(handleShadow(e,a=>{var o;if(!a||!(null==(o=e._clickOutside)?void 0:o[t.instance.$.uid]))return;const{onClick:r,onMousedown:n}=e._clickOutside[t.instance.$.uid];a.removeEventListener("click",r,!0),a.removeEventListener("mousedown",n,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Scrim(e){const{modelValue:t,color:a,...o}=e;return createVNode(Transition,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&createBaseVNode("div",mergeProps({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},o),null)]})}const makeVOverlayProps=propsFactory({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...makeActivatorProps(),...makeComponentProps(),...makeDimensionProps(),...makeLazyProps(),...makeLocationStrategyProps(),...makeScrollStrategyProps(),...makeThemeProps(),...makeTransitionProps$1()},"VOverlay"),VOverlay=genericComponent()({name:"VOverlay",directives:{vClickOutside:ClickOutside},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...makeVOverlayProps()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:a,attrs:o,emit:r}=t;const n=getCurrentInstance("VOverlay"),i=ref$1(),l=ref$1(),s=ref$1(),c=useProxiedModel(e,"modelValue"),d=computed({get:()=>c.value,set:t=>{t&&e.disabled||(c.value=t)}}),{themeClasses:u}=provideTheme(e),{rtlClasses:p,isRtl:h}=useRtl(),{hasContent:m,onAfterLeave:v}=useLazy(e,d),f=useBackgroundColor(()=>"string"==typeof e.scrim?e.scrim:null),{globalTop:g,localTop:y,stackStyles:_}=useStack(d,()=>e.zIndex,e._disableGlobalStack),{activatorEl:b,activatorRef:w,target:x,targetEl:V,targetRef:k,activatorEvents:C,contentEvents:S,scrimEvents:N}=useActivator(e,{isActive:d,isTop:y,contentEl:s}),{teleportTarget:T}=useTeleport(()=>{var t,a,o;const r=e.attach||e.contained;if(r)return r;const i=(null==(t=null==b?void 0:b.value)?void 0:t.getRootNode())||(null==(o=null==(a=n.proxy)?void 0:a.$el)?void 0:o.getRootNode());return i instanceof ShadowRoot&&i}),{dimensionStyles:B}=useDimension(e),E=useHydration(),{scopeId:I}=useScopeId();watch(()=>e.disabled,e=>{e&&(d.value=!1)});const{contentStyles:$,updateLocation:P}=useLocationStrategies(e,{isRtl:h,contentEl:s,target:x,isActive:d});function D(t){r("click:outside",t),e.persistent?F():d.value=!1}function L(t){return d.value&&g.value&&(!e.scrim||t.target===l.value||t instanceof MouseEvent&&t.shadowTarget===l.value)}function R(t){var a,o,n;"Escape"===t.key&&g.value&&((null==(a=s.value)?void 0:a.contains(document.activeElement))||r("keydown",t),e.persistent?F():(d.value=!1,(null==(o=s.value)?void 0:o.contains(document.activeElement))&&(null==(n=b.value)||n.focus())))}function A(e){("Escape"!==e.key||g.value)&&r("keydown",e)}useScrollStrategies(e,{root:i,contentEl:s,targetEl:V,target:x,isActive:d,updateLocation:P}),IN_BROWSER&&watch(d,e=>{e?window.addEventListener("keydown",R):window.removeEventListener("keydown",R)},{immediate:!0}),onBeforeUnmount(()=>{IN_BROWSER&&window.removeEventListener("keydown",R)});const O=useRouter();useToggleScope(()=>e.closeOnBack,()=>{useBackButton(O,t=>{g.value&&d.value?(t(!1),e.persistent?F():d.value=!1):t()})});const M=ref$1();function F(){e.noClickAnimation||s.value&&animate(s.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:standardEasing})}function z(){r("afterEnter")}function H(){v(),r("afterLeave")}return watch(()=>d.value&&(e.absolute||e.contained)&&null==T.value,e=>{if(e){const e=getScrollParent(i.value);e&&e!==document.scrollingElement&&(M.value=e.scrollTop)}}),useRender(()=>{var t;return createBaseVNode(Fragment,null,[null==(t=a.activator)?void 0:t.call(a,{isActive:d.value,targetRef:k,props:mergeProps({ref:w},C.value,e.activatorProps)}),E.value&&m.value&&createVNode(Teleport,{disabled:!T.value,to:T.value},{default:()=>[createBaseVNode("div",mergeProps({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":d.value,"v-overlay--contained":e.contained},u.value,p.value,e.class],style:[_.value,{"--v-overlay-opacity":e.opacity,top:convertToUnit(M.value)},e.style],ref:i,onKeydown:A},I,o),[createVNode(Scrim,mergeProps({color:f,modelValue:d.value&&!!e.scrim,ref:l},N.value),null),createVNode(MaybeTransition,{appear:!0,persisted:!0,transition:e.transition,target:x.value,onAfterEnter:z,onAfterLeave:H},{default:()=>{var t;return[withDirectives(createBaseVNode("div",mergeProps({ref:s,class:["v-overlay__content",e.contentClass],style:[B.value,$.value]},S.value,e.contentProps),[null==(t=a.default)?void 0:t.call(a,{isActive:d})]),[[vShow,d.value],[ClickOutside,{handler:D,closeConditional:L,include:()=>[b.value]}]])]}})])]})])}),{activatorEl:b,scrimEl:l,target:x,animateClick:F,contentEl:s,globalTop:g,localTop:y,updateLocation:P}}}),makeVDialogProps=propsFactory({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...makeVOverlayProps({origin:"center center",scrollStrategy:"block",transition:{component:VDialogTransition},zIndex:2400})},"VDialog"),VDialog=genericComponent()({name:"VDialog",props:makeVDialogProps(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useProxiedModel(e,"modelValue"),{scopeId:n}=useScopeId(),i=ref$1();async function l(e){var t,a,o;const n=e.relatedTarget,l=e.target;if(await nextTick(),r.value&&n!==l&&(null==(t=i.value)?void 0:t.contentEl)&&(null==(a=i.value)?void 0:a.globalTop)&&![document,i.value.contentEl].includes(l)&&!i.value.contentEl.contains(l)){null==(o=focusableChildren(i.value.contentEl)[0])||o.focus()}}function s(e){var t;if("Tab"!==e.key||!(null==(t=i.value)?void 0:t.contentEl))return;const a=focusableChildren(i.value.contentEl);if(!a.length)return;const o=a[0],r=a[a.length-1],n=document.activeElement;e.shiftKey&&n===o?(e.preventDefault(),r.focus()):e.shiftKey||n!==r||(e.preventDefault(),o.focus())}function c(){var t;a("afterEnter"),(e.scrim||e.retainFocus)&&(null==(t=i.value)?void 0:t.contentEl)&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function d(){a("afterLeave")}return onBeforeUnmount(()=>{document.removeEventListener("focusin",l),document.removeEventListener("keydown",s)}),IN_BROWSER&&watch(()=>r.value&&e.retainFocus,e=>{e?(document.addEventListener("focusin",l,{once:!0}),document.addEventListener("keydown",s)):(document.removeEventListener("focusin",l),document.removeEventListener("keydown",s))},{immediate:!0}),watch(r,async e=>{var t;e||(await nextTick(),null==(t=i.value.activatorEl)||t.focus({preventScroll:!0}))}),useRender(()=>{const t=VOverlay.filterProps(e),a=mergeProps({"aria-haspopup":"dialog"},e.activatorProps),l=mergeProps({tabindex:-1},e.contentProps);return createVNode(VOverlay,mergeProps({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,"aria-modal":"true",activatorProps:a,contentProps:l,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:c,onAfterLeave:d},n),{activator:o.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return createVNode(VDefaultsProvider,{root:"VDialog"},{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o,...t)]}})}})}),forwardRefs({},i)}}),makeVDividerProps=propsFactory({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...makeComponentProps(),...makeThemeProps()},"VDivider"),VDivider=genericComponent()({name:"VDivider",props:makeVDividerProps(),setup(e,t){let{attrs:a,slots:o}=t;const{themeClasses:r}=provideTheme(e),{textColorClasses:n,textColorStyles:i}=useTextColor(()=>e.color),l=computed(()=>{const t={};return e.length&&(t[e.vertical?"height":"width"]=convertToUnit(e.length)),e.thickness&&(t[e.vertical?"borderRightWidth":"borderTopWidth"]=convertToUnit(e.thickness)),t});return useRender(()=>{const t=createBaseVNode("hr",{class:normalizeClass([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,n.value,e.class]),style:normalizeStyle([l.value,i.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":a.role&&"separator"!==a.role?void 0:e.vertical?"vertical":"horizontal",role:`${a.role||"separator"}`},null);return o.default?createBaseVNode("div",{class:normalizeClass(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[t,createBaseVNode("div",{class:"v-divider__content"},[o.default()]),t]):t}),{}}}),makeVContainerProps=propsFactory({fluid:{type:Boolean,default:!1},...makeComponentProps(),...makeDimensionProps(),...makeTagProps()},"VContainer"),VContainer=genericComponent()({name:"VContainer",props:makeVContainerProps(),setup(e,t){let{slots:a}=t;const{rtlClasses:o}=useRtl(),{dimensionStyles:r}=useDimension(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-container",{"v-container--fluid":e.fluid},o.value,e.class]),style:normalizeStyle([r.value,e.style])},a)),{}}}),breakpointProps=breakpoints.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),offsetProps=breakpoints.reduce((e,t)=>(e["offset"+capitalize(t)]={type:[String,Number],default:null},e),{}),orderProps=breakpoints.reduce((e,t)=>(e["order"+capitalize(t)]={type:[String,Number],default:null},e),{}),propMap$1={col:Object.keys(breakpointProps),offset:Object.keys(offsetProps),order:Object.keys(orderProps)};function breakpointClass$1(e,t,a){let o=e;if(null!=a&&!1!==a){if(t){o+=`-${t.replace(e,"")}`}return"col"===e&&(o="v-"+o),"col"!==e||""!==a&&!0!==a?(o+=`-${a}`,o.toLowerCase()):o.toLowerCase()}}const ALIGN_SELF_VALUES=["auto","start","end","center","baseline","stretch"],makeVColProps=propsFactory({cols:{type:[Boolean,String,Number],default:!1},...breakpointProps,offset:{type:[String,Number],default:null},...offsetProps,order:{type:[String,Number],default:null},...orderProps,alignSelf:{type:String,default:null,validator:e=>ALIGN_SELF_VALUES.includes(e)},...makeComponentProps(),...makeTagProps()},"VCol"),VCol=genericComponent()({name:"VCol",props:makeVColProps(),setup(e,t){let{slots:a}=t;const o=computed(()=>{const t=[];let a;for(a in propMap$1)propMap$1[a].forEach(o=>{const r=e[o],n=breakpointClass$1(a,o,r);n&&t.push(n)});const o=t.some(e=>e.startsWith("v-col-"));return t.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t});return()=>{var t;return h$1(e.tag,{class:[o.value,e.class],style:e.style},null==(t=a.default)?void 0:t.call(a))}}}),ALIGNMENT=["start","end","center"],SPACE=["space-between","space-around","space-evenly"];function makeRowProps(e,t){return breakpoints.reduce((a,o)=>(a[e+capitalize(o)]=t(),a),{})}const ALIGN_VALUES=[...ALIGNMENT,"baseline","stretch"],alignValidator=e=>ALIGN_VALUES.includes(e),alignProps=makeRowProps("align",()=>({type:String,default:null,validator:alignValidator})),JUSTIFY_VALUES=[...ALIGNMENT,...SPACE],justifyValidator=e=>JUSTIFY_VALUES.includes(e),justifyProps=makeRowProps("justify",()=>({type:String,default:null,validator:justifyValidator})),ALIGN_CONTENT_VALUES=[...ALIGNMENT,...SPACE,"stretch"],alignContentValidator=e=>ALIGN_CONTENT_VALUES.includes(e),alignContentProps=makeRowProps("alignContent",()=>({type:String,default:null,validator:alignContentValidator})),propMap={align:Object.keys(alignProps),justify:Object.keys(justifyProps),alignContent:Object.keys(alignContentProps)},classMap={align:"align",justify:"justify",alignContent:"align-content"};function breakpointClass(e,t,a){let o=classMap[e];if(null!=a){if(t){o+=`-${t.replace(e,"")}`}return o+=`-${a}`,o.toLowerCase()}}const makeVRowProps=propsFactory({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:alignValidator},...alignProps,justify:{type:String,default:null,validator:justifyValidator},...justifyProps,alignContent:{type:String,default:null,validator:alignContentValidator},...alignContentProps,...makeComponentProps(),...makeTagProps()},"VRow"),VRow=genericComponent()({name:"VRow",props:makeVRowProps(),setup(e,t){let{slots:a}=t;const o=computed(()=>{const t=[];let a;for(a in propMap)propMap[a].forEach(o=>{const r=e[o],n=breakpointClass(a,o,r);n&&t.push(n)});return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t});return()=>{var t;return h$1(e.tag,{class:["v-row",o.value,e.class],style:e.style},null==(t=a.default)?void 0:t.call(a))}}}),VSpacer=createSimpleFunctional("v-spacer","div","VSpacer"),ListKey=Symbol.for("vuetify:list");function createList(){let{filterable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterable:!1};const t=inject(ListKey,{filterable:!1,hasPrepend:shallowRef(!1),updateHasPrepend:()=>null}),a={filterable:t.filterable||e,hasPrepend:shallowRef(!1),updateHasPrepend:e=>{e&&(a.hasPrepend.value=e)}};return provide(ListKey,a),t}function useList(){return inject(ListKey,null)}const independentActiveStrategy=e=>{const t={activate:t=>{let{id:a,value:o,activated:r}=t;return a=toRaw(a),e&&!o&&1===r.size&&r.has(a)||(o?r.add(a):r.delete(a)),r},in:(e,a,o)=>{let r=new Set;if(null!=e)for(const n of wrapInArray(e))r=t.activate({id:n,value:!0,activated:new Set(r),children:a,parents:o});return r},out:e=>Array.from(e)};return t},independentSingleActiveStrategy=e=>{const t=independentActiveStrategy(e);return{activate:e=>{let{activated:a,id:o,...r}=e;o=toRaw(o);const n=a.has(o)?new Set([o]):new Set;return t.activate({...r,id:o,activated:n})},in:(e,a,o)=>{let r=new Set;if(null!=e){const n=wrapInArray(e);n.length&&(r=t.in(n.slice(0,1),a,o))}return r},out:(e,a,o)=>t.out(e,a,o)}},leafActiveStrategy=e=>{const t=independentActiveStrategy(e);return{activate:e=>{let{id:a,activated:o,children:r,...n}=e;return a=toRaw(a),r.has(a)?o:t.activate({id:a,activated:o,children:r,...n})},in:t.in,out:t.out}},leafSingleActiveStrategy=e=>{const t=independentSingleActiveStrategy(e);return{activate:e=>{let{id:a,activated:o,children:r,...n}=e;return a=toRaw(a),r.has(a)?o:t.activate({id:a,activated:o,children:r,...n})},in:t.in,out:t.out}},singleOpenStrategy={open:e=>{let{id:t,value:a,opened:o,parents:r}=e;if(a){const e=new Set;e.add(t);let a=r.get(t);for(;null!=a;)e.add(a),a=r.get(a);return e}return o.delete(t),o},select:()=>null},multipleOpenStrategy={open:e=>{let{id:t,value:a,opened:o,parents:r}=e;if(a){let e=r.get(t);for(o.add(t);null!=e&&e!==t;)o.add(e),e=r.get(e);return o}return o.delete(t),o},select:()=>null},listOpenStrategy={open:multipleOpenStrategy.open,select:e=>{let{id:t,value:a,opened:o,parents:r}=e;if(!a)return o;const n=[];let i=r.get(t);for(;null!=i;)n.push(i),i=r.get(i);return new Set(n)}},independentSelectStrategy=e=>{const t={select:t=>{let{id:a,value:o,selected:r}=t;if(a=toRaw(a),e&&!o){const e=Array.from(r.entries()).reduce((e,t)=>{let[a,o]=t;return"on"===o&&e.push(a),e},[]);if(1===e.length&&e[0]===a)return r}return r.set(a,o?"on":"off"),r},in:(e,a,o,r)=>{const n=new Map;for(const i of e||[])t.select({id:i,value:!0,selected:n,children:a,parents:o,disabled:r});return n},out:e=>{const t=[];for(const[a,o]of e.entries())"on"===o&&t.push(a);return t}};return t},independentSingleSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:e=>{let{selected:a,id:o,...r}=e;o=toRaw(o);const n=a.has(o)?new Map([[o,a.get(o)]]):new Map;return t.select({...r,id:o,selected:n})},in:(e,a,o,r)=>(null==e?void 0:e.length)?t.in(e.slice(0,1),a,o,r):new Map,out:(e,a,o)=>t.out(e,a,o)}},leafSelectStrategy=e=>{const t=independentSelectStrategy(e);return{select:e=>{let{id:a,selected:o,children:r,...n}=e;return a=toRaw(a),r.has(a)?o:t.select({id:a,selected:o,children:r,...n})},in:t.in,out:t.out}},leafSingleSelectStrategy=e=>{const t=independentSingleSelectStrategy(e);return{select:e=>{let{id:a,selected:o,children:r,...n}=e;return a=toRaw(a),r.has(a)?o:t.select({id:a,selected:o,children:r,...n})},in:t.in,out:t.out}},classicSelectStrategy=e=>{const t={select:t=>{let{id:a,value:o,selected:r,children:n,parents:i,disabled:l}=t;a=toRaw(a);const s=new Map(r),c=[a];for(;c.length;){const e=c.shift();l.has(e)||r.set(toRaw(e),o?"on":"off"),n.has(e)&&c.push(...n.get(e))}let d=toRaw(i.get(a));for(;d;){let e=!0,t=!0;for(const a of n.get(d)){const o=toRaw(a);if(!l.has(o)&&("on"!==r.get(o)&&(e=!1),r.has(o)&&"off"!==r.get(o)&&(t=!1),!e&&!t))break}r.set(d,e?"on":t?"off":"indeterminate"),d=toRaw(i.get(d))}if(e&&!o){if(0===Array.from(r.entries()).reduce((e,t)=>{let[a,o]=t;return"on"===o&&e.push(a),e},[]).length)return s}return r},in:(e,a,o,r)=>{let n=new Map;for(const i of e||[])n=t.select({id:i,value:!0,selected:n,children:a,parents:o,disabled:r});return n},out:(e,t)=>{const a=[];for(const[o,r]of e.entries())"on"!==r||t.has(o)||a.push(o);return a}};return t},trunkSelectStrategy=e=>{const t=classicSelectStrategy(e);return{select:t.select,in:t.in,out:(e,t,a)=>{const o=[];for(const[r,n]of e.entries())if("on"===n){if(a.has(r)){const t=a.get(r);if("on"===e.get(t))continue}o.push(r)}return o}}},VNestedSymbol=Symbol.for("vuetify:nested"),emptyNested={id:shallowRef(),root:{register:()=>null,unregister:()=>null,children:ref$1(new Map),parents:ref$1(new Map),disabled:ref$1(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ref$1(!1),selectable:ref$1(!1),opened:ref$1(new Set),activated:ref$1(new Set),selected:ref$1(new Map),selectedValues:ref$1([]),getPath:()=>[]}},makeNestedProps=propsFactory({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),useNested=e=>{let t=!1;const a=shallowRef(new Map),o=shallowRef(new Map),r=shallowRef(new Set),n=useProxiedModel(e,"opened",e.opened,e=>new Set(Array.isArray(e)?e.map(e=>toRaw(e)):e),e=>[...e.values()]),i=computed(()=>{if("object"==typeof e.activeStrategy)return e.activeStrategy;if("function"==typeof e.activeStrategy)return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return leafActiveStrategy(e.mandatory);case"single-leaf":return leafSingleActiveStrategy(e.mandatory);case"independent":return independentActiveStrategy(e.mandatory);default:return independentSingleActiveStrategy(e.mandatory)}}),l=computed(()=>{if("object"==typeof e.selectStrategy)return e.selectStrategy;if("function"==typeof e.selectStrategy)return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return leafSingleSelectStrategy(e.mandatory);case"leaf":return leafSelectStrategy(e.mandatory);case"independent":return independentSelectStrategy(e.mandatory);case"single-independent":return independentSingleSelectStrategy(e.mandatory);case"trunk":return trunkSelectStrategy(e.mandatory);default:return classicSelectStrategy(e.mandatory)}}),s=computed(()=>{if("object"==typeof e.openStrategy)return e.openStrategy;switch(e.openStrategy){case"list":return listOpenStrategy;case"single":return singleOpenStrategy;default:return multipleOpenStrategy}}),c=useProxiedModel(e,"activated",e.activated,e=>i.value.in(e,a.value,o.value),e=>i.value.out(e,a.value,o.value)),d=useProxiedModel(e,"selected",e.selected,e=>l.value.in(e,a.value,o.value,r.value),e=>l.value.out(e,a.value,o.value));function u(e){const t=[];let a=toRaw(e);for(;void 0!==a;)t.unshift(a),a=o.value.get(a);return t}onBeforeUnmount(()=>{t=!0});const p=getCurrentInstance("nested"),h=new Set,m={id:shallowRef(),root:{opened:n,activatable:toRef(()=>e.activatable),selectable:toRef(()=>e.selectable),activated:c,selected:d,selectedValues:computed(()=>{const e=[];for(const[t,a]of d.value.entries())"on"===a&&e.push(t);return e}),register:(e,t,n,i)=>{if(h.has(e))return u(e).map(String).join(" -> "),void u(t).concat(e).map(String).join(" -> ");h.add(e),t&&e!==t&&o.value.set(e,t),n&&r.value.add(e),i&&a.value.set(e,[]),null!=t&&a.value.set(t,[...a.value.get(t)||[],e])},unregister:e=>{if(t)return;h.delete(e),a.value.delete(e),r.value.delete(e);const n=o.value.get(e);if(n){const t=a.value.get(n)??[];a.value.set(n,t.filter(t=>t!==e))}o.value.delete(e)},open:(e,t,r)=>{p.emit("click:open",{id:e,value:t,path:u(e),event:r});const i=s.value.open({id:e,value:t,opened:new Set(n.value),children:a.value,parents:o.value,event:r});i&&(n.value=i)},openOnSelect:(e,t,r)=>{const i=s.value.select({id:e,value:t,selected:new Map(d.value),opened:new Set(n.value),children:a.value,parents:o.value,event:r});i&&(n.value=i)},select:(e,t,n)=>{p.emit("click:select",{id:e,value:t,path:u(e),event:n});const i=l.value.select({id:e,value:t,selected:new Map(d.value),children:a.value,parents:o.value,disabled:r.value,event:n});i&&(d.value=i),m.root.openOnSelect(e,t,n)},activate:(t,r,n)=>{if(!e.activatable)return m.root.select(t,!0,n);p.emit("click:activate",{id:t,value:r,path:u(t),event:n});const l=i.value.activate({id:t,value:r,activated:new Set(c.value),children:a.value,parents:o.value,event:n});if(l.size!==c.value.size)c.value=l;else{for(const e of l)if(!c.value.has(e))return void(c.value=l);for(const e of c.value)if(!l.has(e))return void(c.value=l)}},children:a,parents:o,disabled:r,getPath:u}};return provide(VNestedSymbol,m),m.root},useNestedItem=(e,t,a)=>{const o=inject(VNestedSymbol,emptyNested),r=Symbol("nested item"),n=computed(()=>{const t=toRaw(toValue(e));return void 0!==t?t:r}),i={...o,id:n,open:(e,t)=>o.root.open(n.value,e,t),openOnSelect:(e,t)=>o.root.openOnSelect(n.value,e,t),isOpen:computed(()=>o.root.opened.value.has(n.value)),parent:computed(()=>o.root.parents.value.get(n.value)),activate:(e,t)=>o.root.activate(n.value,e,t),isActivated:computed(()=>o.root.activated.value.has(n.value)),select:(e,t)=>o.root.select(n.value,e,t),isSelected:computed(()=>"on"===o.root.selected.value.get(n.value)),isIndeterminate:computed(()=>"indeterminate"===o.root.selected.value.get(n.value)),isLeaf:computed(()=>!o.root.children.value.get(n.value)),isGroupActivator:o.isGroupActivator};return onBeforeMount(()=>{o.isGroupActivator||nextTick(()=>{o.root.register(n.value,o.id.value,toValue(t),a)})}),onBeforeUnmount(()=>{o.isGroupActivator||o.root.unregister(n.value)}),watch(n,(e,r)=>{o.isGroupActivator||(o.root.unregister(r),nextTick(()=>{o.root.register(e,o.id.value,toValue(t),a)}))}),a&&provide(VNestedSymbol,i),i},useNestedGroupActivator=()=>{const e=inject(VNestedSymbol,emptyNested);provide(VNestedSymbol,{...e,isGroupActivator:!0})};function useSsrBoot(){const e=shallowRef(!1);onMounted(()=>{window.requestAnimationFrame(()=>{e.value=!0})});return{ssrBootStyles:toRef(()=>e.value?void 0:{transition:"none !important"}),isBooted:readonly(e)}}const VListGroupActivator=defineComponent({name:"VListGroupActivator",setup(e,t){let{slots:a}=t;return useNestedGroupActivator(),()=>{var e;return null==(e=a.default)?void 0:e.call(a)}}}),makeVListGroupProps=propsFactory({activeColor:String,baseColor:String,color:String,collapseIcon:{type:IconValue,default:"$collapse"},disabled:Boolean,expandIcon:{type:IconValue,default:"$expand"},rawId:[String,Number],prependIcon:IconValue,appendIcon:IconValue,fluid:Boolean,subgroup:Boolean,title:String,value:null,...makeComponentProps(),...makeTagProps()},"VListGroup"),VListGroup=genericComponent()({name:"VListGroup",props:makeVListGroupProps(),setup(e,t){let{slots:a}=t;const{isOpen:o,open:r,id:n}=useNestedItem(()=>e.value,()=>e.disabled,!0),i=computed(()=>`v-list-group--id-${String(e.rawId??n.value)}`),l=useList(),{isBooted:s}=useSsrBoot();function c(e){var t;["INPUT","TEXTAREA"].includes(null==(t=e.target)?void 0:t.tagName)||r(!o.value,e)}const d=computed(()=>({onClick:c,class:"v-list-group__header",id:i.value})),u=computed(()=>o.value?e.collapseIcon:e.expandIcon),p=computed(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&u.value,appendIcon:e.appendIcon||!e.subgroup&&u.value,title:e.title,value:e.value}}));return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-group",{"v-list-group--prepend":null==l?void 0:l.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":o.value},e.class]),style:normalizeStyle(e.style)},{default:()=>[a.activator&&createVNode(VDefaultsProvider,{defaults:p.value},{default:()=>[createVNode(VListGroupActivator,null,{default:()=>[a.activator({props:d.value,isOpen:o.value})]})]}),createVNode(MaybeTransition,{transition:{component:VExpandTransition},disabled:!s.value},{default:()=>{var e;return[withDirectives(createBaseVNode("div",{class:"v-list-group__items",role:"group","aria-labelledby":i.value},[null==(e=a.default)?void 0:e.call(a)]),[[vShow,o.value]])]}})]})),{isOpen:o}}}),makeVListItemSubtitleProps=propsFactory({opacity:[Number,String],...makeComponentProps(),...makeTagProps()},"VListItemSubtitle"),VListItemSubtitle=genericComponent()({name:"VListItemSubtitle",props:makeVListItemSubtitleProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-item-subtitle",e.class]),style:normalizeStyle([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},a)),{}}}),VListItemTitle=createSimpleFunctional("v-list-item-title"),makeVListItemProps=propsFactory({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:IconValue,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:IconValue,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:EventProp(),onClickOnce:EventProp(),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeRouterProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VListItem"),VListItem=genericComponent()({name:"VListItem",directives:{vRipple:Ripple},props:makeVListItemProps(),emits:{click:e=>!0},setup(e,t){let{attrs:a,slots:o,emit:r}=t;const n=useLink(e,a),i=computed(()=>void 0===e.value?n.href.value:e.value),{activate:l,isActivated:s,select:c,isOpen:d,isSelected:u,isIndeterminate:p,isGroupActivator:h,root:m,parent:v,openOnSelect:f,id:g}=useNestedItem(i,()=>e.disabled,!1),y=useList(),_=computed(()=>{var t;return!1!==e.active&&(e.active||(null==(t=n.isActive)?void 0:t.value)||(m.activatable.value?s.value:u.value))}),b=toRef(()=>!1!==e.link&&n.isLink.value),w=computed(()=>!!y&&(m.selectable.value||m.activatable.value||null!=e.value)),x=computed(()=>!e.disabled&&!1!==e.link&&(e.link||n.isClickable.value||w.value)),V=computed(()=>y?b.value?"link":w.value?"option":"listitem":void 0),k=computed(()=>{if(w.value)return m.activatable.value?s.value:m.selectable.value?u.value:_.value}),C=toRef(()=>e.rounded||e.nav),S=toRef(()=>e.color??e.activeColor),N=toRef(()=>({color:_.value?S.value??e.baseColor:e.baseColor,variant:e.variant}));function T(){null!=v.value&&m.open(v.value,!0),f(!0)}watch(()=>{var e;return null==(e=n.isActive)?void 0:e.value},e=>{e&&T()}),onBeforeMount(()=>{var e;(null==(e=n.isActive)?void 0:e.value)&&nextTick(()=>T())});const{themeClasses:B}=provideTheme(e),{borderClasses:E}=useBorder(e),{colorClasses:I,colorStyles:$,variantClasses:P}=useVariant(N),{densityClasses:D}=useDensity(e),{dimensionStyles:L}=useDimension(e),{elevationClasses:R}=useElevation(e),{roundedClasses:A}=useRounded(C),O=toRef(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),M=toRef(()=>void 0!==e.ripple&&e.ripple&&(null==y?void 0:y.filterable)?{keys:["Enter"]}:e.ripple),F=computed(()=>({isActive:_.value,select:c,isOpen:d.value,isSelected:u.value,isIndeterminate:p.value}));function z(t){var a,o;r("click",t),["INPUT","TEXTAREA"].includes(null==(a=t.target)?void 0:a.tagName)||x.value&&(null==(o=n.navigate)||o.call(n,t),h||(m.activatable.value?l(!s.value,t):m.selectable.value?c(!u.value,t):null==e.value||b.value||c(!u.value,t)))}function H(e){const t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||("Enter"===e.key||" "===e.key&&!(null==y?void 0:y.filterable))&&(e.preventDefault(),e.stopPropagation(),e.target.dispatchEvent(new MouseEvent("click",e)))}return useRender(()=>{const t=b.value?"a":e.tag,a=o.title||null!=e.title,r=o.subtitle||null!=e.subtitle,i=!(!e.appendAvatar&&!e.appendIcon),l=!(!i&&!o.append),s=!(!e.prependAvatar&&!e.prependIcon),c=!(!s&&!o.prepend);return null==y||y.updateHasPrepend(c),e.activeColor&&deprecate$1("active-color",["color","base-color"]),withDirectives(createVNode(t,mergeProps(n.linkProps,{class:["v-list-item",{"v-list-item--active":_.value,"v-list-item--disabled":e.disabled,"v-list-item--link":x.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!c&&(null==y?void 0:y.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&_.value},B.value,E.value,I.value,D.value,R.value,O.value,A.value,P.value,e.class],style:[$.value,L.value,e.style],tabindex:x.value?y?-2:0:void 0,"aria-selected":k.value,role:V.value,onClick:z,onKeydown:x.value&&!b.value&&H}),{default:()=>{var t;return[genOverlays(x.value||_.value,"v-list-item"),c&&createBaseVNode("div",{key:"prepend",class:"v-list-item__prepend"},[o.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var e;return[null==(e=o.prepend)?void 0:e.call(o,F.value)]}}):createBaseVNode(Fragment,null,[e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),createBaseVNode("div",{class:"v-list-item__spacer"},null)]),createBaseVNode("div",{class:"v-list-item__content","data-no-activator":""},[a&&createVNode(VListItemTitle,{key:"title"},{default:()=>{var t;return[(null==(t=o.title)?void 0:t.call(o,{title:e.title}))??toDisplayString(e.title)]}}),r&&createVNode(VListItemSubtitle,{key:"subtitle"},{default:()=>{var t;return[(null==(t=o.subtitle)?void 0:t.call(o,{subtitle:e.subtitle}))??toDisplayString(e.subtitle)]}}),null==(t=o.default)?void 0:t.call(o,F.value)]),l&&createBaseVNode("div",{key:"append",class:"v-list-item__append"},[o.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var e;return[null==(e=o.append)?void 0:e.call(o,F.value)]}}):createBaseVNode(Fragment,null,[e.appendIcon&&createVNode(VIcon,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&createVNode(VAvatar,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),createBaseVNode("div",{class:"v-list-item__spacer"},null)])]}}),[[Ripple,x.value&&M.value]])}),{activate:l,isActivated:s,isGroupActivator:h,isSelected:u,list:y,select:c,root:m,id:g,link:n}}}),makeVListSubheaderProps=propsFactory({color:String,inset:Boolean,sticky:Boolean,title:String,...makeComponentProps(),...makeTagProps()},"VListSubheader"),VListSubheader=genericComponent()({name:"VListSubheader",props:makeVListSubheaderProps(),setup(e,t){let{slots:a}=t;const{textColorClasses:o,textColorStyles:r}=useTextColor(()=>e.color);return useRender(()=>{const t=!(!a.default&&!e.title);return createVNode(e.tag,{class:normalizeClass(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},o.value,e.class]),style:normalizeStyle([{textColorStyles:r},e.style])},{default:()=>{var o;return[t&&createBaseVNode("div",{class:"v-list-subheader__text"},[(null==(o=a.default)?void 0:o.call(a))??e.title])]}})}),{}}}),makeVListChildrenProps=propsFactory({items:Array,returnObject:Boolean},"VListChildren"),VListChildren=genericComponent()({name:"VListChildren",props:makeVListChildrenProps(),setup(e,t){let{slots:a}=t;return createList(),()=>{var t,o;return(null==(t=a.default)?void 0:t.call(a))??(null==(o=e.items)?void 0:o.map(t=>{var o,r;let{children:n,props:i,type:l,raw:s}=t;if("divider"===l)return(null==(o=a.divider)?void 0:o.call(a,{props:i}))??createVNode(VDivider,i,null);if("subheader"===l)return(null==(r=a.subheader)?void 0:r.call(a,{props:i}))??createVNode(VListSubheader,i,null);const c={subtitle:a.subtitle?e=>{var t;return null==(t=a.subtitle)?void 0:t.call(a,{...e,item:s})}:void 0,prepend:a.prepend?e=>{var t;return null==(t=a.prepend)?void 0:t.call(a,{...e,item:s})}:void 0,append:a.append?e=>{var t;return null==(t=a.append)?void 0:t.call(a,{...e,item:s})}:void 0,title:a.title?e=>{var t;return null==(t=a.title)?void 0:t.call(a,{...e,item:s})}:void 0},d=VListGroup.filterProps(i);return n?createVNode(VListGroup,mergeProps(d,{value:e.returnObject?s:null==i?void 0:i.value,rawId:null==i?void 0:i.value}),{activator:t=>{let{props:o}=t;const r=mergeProps(i,o,{value:e.returnObject?s:i.value});return a.header?a.header({props:r}):createVNode(VListItem,r,c)},default:()=>createVNode(VListChildren,{items:n,returnObject:e.returnObject},a)}):a.item?a.item({props:i}):createVNode(VListItem,mergeProps(i,{value:e.returnObject?s:i.value}),c)}))}}}),makeItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),itemTypes$1=new Set(["item","divider","subheader"]);function transformItem$3(e,t){const a=getPropertyFromItem(t,e.itemTitle,t),o=getPropertyFromItem(t,e.itemValue,a),r=getPropertyFromItem(t,e.itemChildren),n=!0===e.itemProps?"object"!=typeof t||null==t||Array.isArray(t)?void 0:"children"in t?omit(t,["children"]):t:getPropertyFromItem(t,e.itemProps);let i=getPropertyFromItem(t,e.itemType,"item");itemTypes$1.has(i)||(i="item");const l={title:a,value:o,...n};return{type:i,title:String(l.title??""),value:l.value,props:l,children:"item"===i&&Array.isArray(r)?transformItems$3(e,r):void 0,raw:t}}function transformItems$3(e,t){const a=pick(e,transformItem$3.neededProps),o=[];for(const r of t)o.push(transformItem$3(a,r));return o}function useItems(e){const t=computed(()=>transformItems$3(e,e.items)),a=computed(()=>t.value.some(e=>null===e.value)),o=shallowRef(new Map),r=shallowRef([]);return watchEffect(()=>{const e=t.value,a=new Map,n=[];for(let t=0;t<e.length;t++){const o=e[t];if(isPrimitive(o.value)||null===o.value){let e=a.get(o.value);e||(e=[],a.set(o.value,e)),e.push(o)}else n.push(o)}o.value=a,r.value=n}),{items:t,transformIn:function(n){const i=o.value,l=t.value,s=r.value,c=a.value,d=e.returnObject,u=!!e.valueComparator,p=e.valueComparator||deepEqual$1,h=pick(e,transformItem$3.neededProps),m=[];e:for(const e of n){if(!c&&null===e)continue;if(d&&"string"==typeof e){m.push(transformItem$3(h,e));continue}const t=i.get(e);if(!u&&t)m.push(...t);else{for(const t of u?l:s)if(p(e,t.value)){m.push(t);continue e}m.push(transformItem$3(h,e))}}return m},transformOut:function(t){return e.returnObject?t.map(e=>{let{raw:t}=e;return t}):t.map(e=>{let{value:t}=e;return t})}}}transformItem$3.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];const itemTypes=new Set(["item","divider","subheader"]);function transformItem$2(e,t){const a=isPrimitive(t)?t:getPropertyFromItem(t,e.itemTitle),o=isPrimitive(t)?t:getPropertyFromItem(t,e.itemValue,void 0),r=getPropertyFromItem(t,e.itemChildren),n=!0===e.itemProps?omit(t,["children"]):getPropertyFromItem(t,e.itemProps);let i=getPropertyFromItem(t,e.itemType,"item");itemTypes.has(i)||(i="item");const l={title:a,value:o,...n};return{type:i,title:l.title,value:l.value,props:l,children:"item"===i&&r?transformItems$2(e,r):void 0,raw:t}}function transformItems$2(e,t){const a=[];for(const o of t)a.push(transformItem$2(e,o));return a}function useListItems(e){return{items:computed(()=>transformItems$2(e,e.items))}}const makeVListProps=propsFactory({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:IconValue,collapseIcon:IconValue,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":EventProp(),"onClick:select":EventProp(),"onUpdate:opened":EventProp(),...makeNestedProps({selectStrategy:"single-leaf",openStrategy:"list"}),...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeItemsProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VList"),VList=genericComponent()({name:"VList",props:makeVListProps(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:a}=t;const{items:o}=useListItems(e),{themeClasses:r}=provideTheme(e),{backgroundColorClasses:n,backgroundColorStyles:i}=useBackgroundColor(()=>e.bgColor),{borderClasses:l}=useBorder(e),{densityClasses:s}=useDensity(e),{dimensionStyles:c}=useDimension(e),{elevationClasses:d}=useElevation(e),{roundedClasses:u}=useRounded(e),{children:p,open:h,parents:m,select:v,getPath:f}=useNested(e),g=toRef(()=>e.lines?`v-list--${e.lines}-line`:void 0),y=toRef(()=>e.activeColor),_=toRef(()=>e.baseColor),b=toRef(()=>e.color),w=toRef(()=>e.selectable||e.activatable);createList({filterable:e.filterable}),provideDefaults({VListGroup:{activeColor:y,baseColor:_,color:b,expandIcon:toRef(()=>e.expandIcon),collapseIcon:toRef(()=>e.collapseIcon)},VListItem:{activeClass:toRef(()=>e.activeClass),activeColor:y,baseColor:_,color:b,density:toRef(()=>e.density),disabled:toRef(()=>e.disabled),lines:toRef(()=>e.lines),nav:toRef(()=>e.nav),slim:toRef(()=>e.slim),variant:toRef(()=>e.variant)}});const x=shallowRef(!1),V=ref$1();function k(e){x.value=!0}function C(e){x.value=!1}function S(e){var t;x.value||e.relatedTarget&&(null==(t=V.value)?void 0:t.contains(e.relatedTarget))||B()}function N(e){const t=e.target;if(V.value&&("INPUT"!==t.tagName||!["Home","End"].includes(e.key))&&"TEXTAREA"!==t.tagName){if("ArrowDown"===e.key)B("next");else if("ArrowUp"===e.key)B("prev");else if("Home"===e.key)B("first");else{if("End"!==e.key)return;B("last")}e.preventDefault()}}function T(e){x.value=!0}function B(e){if(V.value)return focusChild(V.value,e)}return useRender(()=>createVNode(e.tag,{ref:V,class:normalizeClass(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,n.value,l.value,s.value,d.value,g.value,u.value,e.class]),style:normalizeStyle([i.value,c.value,e.style]),tabindex:e.disabled?-1:0,role:w.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:k,onFocusout:C,onFocus:S,onKeydown:N,onMousedown:T},{default:()=>[createVNode(VListChildren,{items:o.value,returnObject:e.returnObject},a)]})),{open:h,select:v,focus:B,children:p,parents:m,getPath:f}}}),VListImg=createSimpleFunctional("v-list-img"),makeVListItemActionProps=propsFactory({start:Boolean,end:Boolean,...makeComponentProps(),...makeTagProps()},"VListItemAction"),VListItemAction=genericComponent()({name:"VListItemAction",props:makeVListItemActionProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:normalizeStyle(e.style)},a)),{}}}),makeVListItemMediaProps=propsFactory({start:Boolean,end:Boolean,...makeComponentProps(),...makeTagProps()},"VListItemMedia"),VListItemMedia=genericComponent()({name:"VListItemMedia",props:makeVListItemMediaProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:normalizeStyle(e.style)},a)),{}}}),makeVRadioProps=propsFactory({...makeVSelectionControlProps({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),VRadio=genericComponent()({name:"VRadio",props:makeVRadioProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{const t=VSelectionControl.filterProps(e);return createVNode(VSelectionControl,mergeProps(t,{class:["v-radio",e.class],style:e.style,type:"radio"}),a)}),{}}}),makeVRadioGroupProps=propsFactory({height:{type:[Number,String],default:"auto"},...makeVInputProps(),...omit(makeSelectionControlGroupProps(),["multiple"]),trueIcon:{type:IconValue,default:"$radioOn"},falseIcon:{type:IconValue,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),VRadioGroup=genericComponent()({name:"VRadioGroup",inheritAttrs:!1,props:makeVRadioGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const r=useId(),n=computed(()=>e.id||`radio-group-${r}`),i=useProxiedModel(e,"modelValue"),l=ref$1();return useRender(()=>{const[t,r]=filterInputAttrs(a),s=VInput.filterProps(e),c=VSelectionControl.filterProps(e),d=o.label?o.label({label:e.label,props:{for:n.value}}):e.label;return createVNode(VInput,mergeProps({ref:l,class:["v-radio-group",e.class],style:e.style},t,s,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,id:n.value}),{...o,default:t=>{let{id:a,messagesId:n,isDisabled:l,isReadonly:s}=t;return createBaseVNode(Fragment,null,[d&&createVNode(VLabel,{id:a.value},{default:()=>[d]}),createVNode(VSelectionControlGroup,mergeProps(c,{id:a.value,"aria-describedby":n.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:l.value,readonly:s.value,"aria-labelledby":d?a.value:void 0,multiple:!1},r,{modelValue:i.value,"onUpdate:modelValue":e=>i.value=e}),o)])}})}),forwardRefs({},l)}}),makeVMenuProps=propsFactory({id:String,submenu:Boolean,disableInitialFocus:Boolean,...omit(makeVOverlayProps({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:VDialogTransition}}),["absolute"])},"VMenu"),VMenu=genericComponent()({name:"VMenu",props:makeVMenuProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),{scopeId:r}=useScopeId(),{isRtl:n}=useRtl(),i=useId(),l=toRef(()=>e.id||`v-menu-${i}`),s=ref$1(),c=inject(VMenuSymbol,null),d=shallowRef(new Set);provide(VMenuSymbol,{register(){d.value.add(i)},unregister(){d.value.delete(i)},closeParents(t){setTimeout(()=>{var a;d.value.size||e.persistent||null!=t&&(!(null==(a=s.value)?void 0:a.contentEl)||isClickInsideElement(t,s.value.contentEl))||(o.value=!1,null==c||c.closeParents())},40)}}),onBeforeUnmount(()=>{null==c||c.unregister(),document.removeEventListener("focusin",m)}),onDeactivated(()=>o.value=!1);let u=!1,p=-1;async function h(){u=!0,p=window.setTimeout(()=>{u=!1},100)}async function m(t){var a,r,n,i;const l=t.relatedTarget,c=t.target;if(await nextTick(),o.value&&l!==c&&(null==(a=s.value)?void 0:a.contentEl)&&(null==(r=s.value)?void 0:r.localTop)&&![document,s.value.contentEl].includes(c)&&!s.value.contentEl.contains(c))if(u)e.openOnHover||(null==(n=s.value.activatorEl)?void 0:n.contains(c))||(o.value=!1);else{null==(i=focusableChildren(s.value.contentEl)[0])||i.focus(),document.removeEventListener("pointerdown",h)}}function v(e){null==c||c.closeParents(e)}function f(t){var a,r,i,l,c;if(!e.disabled)if("Tab"===t.key||"Enter"===t.key&&!e.closeOnContentClick){if("Enter"===t.key&&(t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLInputElement&&t.target.closest("form")))return;"Enter"===t.key&&t.preventDefault();getNextElement(focusableChildren(null==(a=s.value)?void 0:a.contentEl,!1),t.shiftKey?"prev":"next",e=>e.tabIndex>=0)||(o.value=!1,null==(i=null==(r=s.value)?void 0:r.activatorEl)||i.focus())}else e.submenu&&t.key===(n.value?"ArrowRight":"ArrowLeft")&&(o.value=!1,null==(c=null==(l=s.value)?void 0:l.activatorEl)||c.focus())}function g(t){var a;if(e.disabled)return;const r=null==(a=s.value)?void 0:a.contentEl;r&&o.value?"ArrowDown"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),focusChild(r,"next")):"ArrowUp"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),focusChild(r,"prev")):e.submenu&&(t.key===(n.value?"ArrowRight":"ArrowLeft")?o.value=!1:t.key===(n.value?"ArrowLeft":"ArrowRight")&&(t.preventDefault(),focusChild(r,"first"))):(e.submenu?t.key===(n.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(t.key))&&(o.value=!0,t.preventDefault(),setTimeout(()=>setTimeout(()=>g(t))))}watch(o,t=>{t?(null==c||c.register(),IN_BROWSER&&!e.disableInitialFocus&&(document.addEventListener("pointerdown",h),document.addEventListener("focusin",m,{once:!0}))):(null==c||c.unregister(),IN_BROWSER&&(clearTimeout(p),document.removeEventListener("pointerdown",h),document.removeEventListener("focusin",m)))},{immediate:!0});const y=computed(()=>mergeProps({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-controls":l.value,onKeydown:g},e.activatorProps));return useRender(()=>{const t=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:s,id:l.value,class:["v-menu",e.class],style:e.style},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,absolute:!0,activatorProps:y.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":v,onKeydown:f},r),{activator:a.activator,default:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return createVNode(VDefaultsProvider,{root:"VMenu"},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,...t)]}})}})}),forwardRefs({id:l,"ΨopenChildren":d},s)}}),makeVCounterProps=propsFactory({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...makeComponentProps(),...makeTransitionProps$1({transition:{component:VSlideYTransition}})},"VCounter"),VCounter=genericComponent()({name:"VCounter",functional:!0,props:makeVCounterProps(),setup(e,t){let{slots:a}=t;const o=toRef(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return useRender(()=>createVNode(MaybeTransition,{transition:e.transition},{default:()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:normalizeStyle(e.style)},[a.default?a.default({counter:o.value,max:e.max,value:e.value}):o.value]),[[vShow,e.active]])]})),{}}}),makeVFieldLabelProps=propsFactory({floating:Boolean,...makeComponentProps()},"VFieldLabel"),VFieldLabel=genericComponent()({name:"VFieldLabel",props:makeVFieldLabelProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(VLabel,{class:normalizeClass(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:normalizeStyle(e.style)},a)),{}}}),allowedVariants$1=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],makeVFieldProps=propsFactory({appendInnerIcon:IconValue,bgColor:String,clearable:Boolean,clearIcon:{type:IconValue,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:IconValue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>allowedVariants$1.includes(e)},"onClick:clear":EventProp(),"onClick:appendInner":EventProp(),"onClick:prependInner":EventProp(),...makeComponentProps(),...makeLoaderProps(),...makeRoundedProps(),...makeThemeProps()},"VField"),VField=genericComponent()({name:"VField",inheritAttrs:!1,props:{id:String,...makeFocusProps(),...makeVFieldProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{themeClasses:n}=provideTheme(e),{loaderClasses:i}=useLoader(e),{focusClasses:l,isFocused:s,focus:c,blur:d}=useFocus(e),{InputIcon:u}=useInputIcon(e),{roundedClasses:p}=useRounded(e),{rtlClasses:h}=useRtl(),m=toRef(()=>e.dirty||e.active),v=toRef(()=>!(!e.label&&!r.label)),f=toRef(()=>!e.singleLine&&v.value),g=useId(),y=computed(()=>e.id||`input-${g}`),_=toRef(()=>e.details?`${y.value}-messages`:void 0),b=ref$1(),w=ref$1(),x=ref$1(),V=computed(()=>["plain","underlined"].includes(e.variant)),k=computed(()=>e.error||e.disabled?void 0:m.value&&s.value?e.color:e.baseColor),C=computed(()=>{if(e.iconColor&&(!e.glow||s.value))return!0===e.iconColor?k.value:e.iconColor}),{backgroundColorClasses:S,backgroundColorStyles:N}=useBackgroundColor(()=>e.bgColor),{textColorClasses:T,textColorStyles:B}=useTextColor(k);watch(m,e=>{if(f.value&&!PREFERS_REDUCED_MOTION()){const t=b.value.$el,a=w.value.$el;requestAnimationFrame(()=>{const o=nullifyTransforms(t),r=a.getBoundingClientRect(),n=r.x-o.x,i=r.y-o.y-(o.height/2-r.height/2),l=r.width/.75,s=Math.abs(l-o.width)>1?{maxWidth:convertToUnit(l)}:void 0,c=getComputedStyle(t),d=getComputedStyle(a),u=1e3*parseFloat(c.transitionDuration)||150,p=parseFloat(d.getPropertyValue("--v-field-label-scale")),h=d.getPropertyValue("color");t.style.visibility="visible",a.style.visibility="hidden",animate(t,{transform:`translate(${n}px, ${i}px) scale(${p})`,color:h,...s},{duration:u,easing:standardEasing,direction:e?"normal":"reverse"}).finished.then(()=>{t.style.removeProperty("visibility"),a.style.removeProperty("visibility")})})}},{flush:"post"});const E=computed(()=>({isActive:m,isFocused:s,controlRef:x,blur:d,focus:c}));function I(e){e.target!==document.activeElement&&e.preventDefault()}return useRender(()=>{var t,o,s;const g="outlined"===e.variant,x=!(!r["prepend-inner"]&&!e.prependInnerIcon),k=!(!e.clearable&&!r.clear||e.disabled),$=!!(r["append-inner"]||e.appendInnerIcon||k),P=()=>r.label?r.label({...E.value,label:e.label,props:{for:y.value}}):e.label;return createBaseVNode("div",mergeProps({class:["v-field",{"v-field--active":m.value,"v-field--appended":$,"v-field--center-affix":e.centerAffix??!V.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":x,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!P(),[`v-field--variant-${e.variant}`]:!0},n.value,S.value,l.value,i.value,p.value,h.value,e.class],style:[N.value,e.style],onClick:I},a),[createBaseVNode("div",{class:"v-field__overlay"},null),createVNode(LoaderSlot,{name:"v-field",active:!!e.loading,color:e.error?"error":"string"==typeof e.loading?e.loading:e.color},{default:r.loader}),x&&createBaseVNode("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&createVNode(u,{key:"prepend-icon",name:"prependInner",color:C.value},null),null==(t=r["prepend-inner"])?void 0:t.call(r,E.value)]),createBaseVNode("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&f.value&&createVNode(VFieldLabel,{key:"floating-label",ref:w,class:normalizeClass([T.value]),floating:!0,for:y.value,"aria-hidden":!m.value,style:normalizeStyle(B.value)},{default:()=>[P()]}),v.value&&createVNode(VFieldLabel,{key:"label",ref:b,for:y.value},{default:()=>[P()]}),(null==(o=r.default)?void 0:o.call(r,{...E.value,props:{id:y.value,class:"v-field__input","aria-describedby":_.value},focus:c,blur:d}))??createBaseVNode("div",{id:y.value,class:"v-field__input","aria-describedby":_.value},null)]),k&&createVNode(VExpandXTransition,{key:"clear"},{default:()=>[withDirectives(createBaseVNode("div",{class:"v-field__clearable",onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},[createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...E.value,props:{onFocus:c,onBlur:d,onClick:e["onClick:clear"],tabindex:-1}}):createVNode(u,{name:"clear",onFocus:c,onBlur:d,tabindex:-1},null)]})]),[[vShow,e.dirty]])]}),$&&createBaseVNode("div",{key:"append",class:"v-field__append-inner"},[null==(s=r["append-inner"])?void 0:s.call(r,E.value),e.appendInnerIcon&&createVNode(u,{key:"append-icon",name:"appendInner",color:C.value},null)]),createBaseVNode("div",{class:normalizeClass(["v-field__outline",T.value]),style:normalizeStyle(B.value)},[g&&createBaseVNode(Fragment,null,[createBaseVNode("div",{class:"v-field__outline__start"},null),f.value&&createBaseVNode("div",{class:"v-field__outline__notch"},[createVNode(VFieldLabel,{ref:w,floating:!0,for:y.value,"aria-hidden":!m.value},{default:()=>[P()]})]),createBaseVNode("div",{class:"v-field__outline__end"},null)]),V.value&&f.value&&createVNode(VFieldLabel,{ref:w,floating:!0,for:y.value,"aria-hidden":!m.value},{default:()=>[P()]})])])}),{controlRef:x,fieldIconColor:C}}}),makeAutocompleteProps=propsFactory({autocomplete:String},"autocomplete");function useAutocomplete(e){const t=useId(),a=shallowRef(0),o=toRef(()=>"suppress"===e.autocomplete),r=toRef(()=>o.value?`${e.name}-${t}-${a.value}`:e.name),n=toRef(()=>o.value?"off":e.autocomplete);return{isSuppressing:o,fieldAutocomplete:n,fieldName:r,update:()=>a.value=(new Date).getTime()}}function useAutofocus(e){return{onIntersect:function(t,a){var o,r;e.autofocus&&t&&(null==(r=null==(o=a[0].target)?void 0:o.focus)||r.call(o))}}}const activeTypes=["color","file","time","date","datetime-local","week","month"],makeVTextFieldProps=propsFactory({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...makeAutocompleteProps(),...makeVInputProps(),...makeVFieldProps()},"VTextField"),VTextField=genericComponent()({name:"VTextField",directives:{vIntersect:Intersect},inheritAttrs:!1,props:makeVTextFieldProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const n=useProxiedModel(e,"modelValue"),{isFocused:i,focus:l,blur:s}=useFocus(e),{onIntersect:c}=useAutofocus(e),d=computed(()=>"function"==typeof e.counterValue?e.counterValue(n.value):"number"==typeof e.counterValue?e.counterValue:(n.value??"").toString().length),u=computed(()=>a.maxlength?a.maxlength:!e.counter||"number"!=typeof e.counter&&"string"!=typeof e.counter?void 0:e.counter),p=computed(()=>["plain","underlined"].includes(e.variant)),h=ref$1(),m=ref$1(),v=ref$1(),f=useAutocomplete(e),g=computed(()=>activeTypes.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function y(){f.isSuppressing.value&&f.update(),i.value||l(),nextTick(()=>{var e;v.value!==document.activeElement&&(null==(e=v.value)||e.focus())})}function _(e){o("mousedown:control",e),e.target!==v.value&&(y(),e.preventDefault())}function b(e){o("click:control",e)}function w(t){var a;const o=t.target;if(n.value=o.value,(null==(a=e.modelModifiers)?void 0:a.trim)&&["text","search","password","tel","url"].includes(e.type)){const e=[o.selectionStart,o.selectionEnd];nextTick(()=>{o.selectionStart=e[0],o.selectionEnd=e[1]})}}return useRender(()=>{const t=!!(r.counter||!1!==e.counter&&null!=e.counter),o=!(!t&&!r.details),[x,V]=filterInputAttrs(a),{modelValue:k,...C}=VInput.filterProps(e),S=VField.filterProps(e);return createVNode(VInput,mergeProps({ref:h,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":p.value},e.class],style:e.style},x,C,{centerAffix:!p.value,focused:i.value}),{...r,default:t=>{let{id:a,isDisabled:o,isDirty:d,isReadonly:u,isValid:p,hasDetails:h,reset:x}=t;return createVNode(VField,mergeProps({ref:m,onMousedown:_,onClick:b,"onClick:clear":t=>function(t,a){t.stopPropagation(),y(),nextTick(()=>{a(),callEvent(e["onClick:clear"],t)})}(t,x),role:e.role},omit(S,["onClick:clear"]),{id:a.value,active:g.value||d.value,dirty:d.value||e.dirty,disabled:o.value,focused:i.value,details:h.value,error:!1===p.value}),{...r,default:t=>{let{props:{class:a,...i},controlRef:d}=t;const p=withDirectives(createBaseVNode("input",mergeProps({ref:e=>v.value=d.value=e,value:n.value,onInput:w,autofocus:e.autofocus,readonly:u.value,disabled:o.value,name:f.fieldName.value,autocomplete:f.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:l,onBlur:s},i,V),null),[[Intersect,{handler:c},null,{once:!0}]]);return createBaseVNode(Fragment,null,[e.prefix&&createBaseVNode("span",{class:"v-text-field__prefix"},[createBaseVNode("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?createBaseVNode("div",{class:normalizeClass(a),"data-no-activator":""},[r.default(),p]):cloneVNode(p,{class:a}),e.suffix&&createBaseVNode("span",{class:"v-text-field__suffix"},[createBaseVNode("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?a=>{var o;return createBaseVNode(Fragment,null,[null==(o=r.details)?void 0:o.call(r,a),t&&createBaseVNode(Fragment,null,[createBaseVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||i.value,value:d.value,max:u.value,disabled:e.disabled},r.counter)])])}:void 0})}),forwardRefs({},h,m,v)}}),makeVVirtualScrollItemProps=propsFactory({renderless:Boolean,...makeComponentProps()},"VVirtualScrollItem"),VVirtualScrollItem=genericComponent()({name:"VVirtualScrollItem",inheritAttrs:!1,props:makeVVirtualScrollItemProps(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{resizeRef:n,contentRect:i}=useResizeObserver(void 0,"border");watch(()=>{var e;return null==(e=i.value)?void 0:e.height},e=>{null!=e&&o("update:height",e)}),useRender(()=>{var t,o;return e.renderless?createBaseVNode(Fragment,null,[null==(t=r.default)?void 0:t.call(r,{itemRef:n})]):createBaseVNode("div",mergeProps({ref:n,class:["v-virtual-scroll__item",e.class],style:e.style},a),[null==(o=r.default)?void 0:o.call(r)])})}}),UP=-1,DOWN=1,BUFFER_PX=100,makeVirtualProps=propsFactory({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function useVirtual(e,t){const a=useDisplay(),o=shallowRef(0);watchEffect(()=>{o.value=parseFloat(e.itemHeight||0)});const r=shallowRef(0),n=shallowRef(Math.ceil((parseInt(e.height)||a.height.value)/(o.value||16))||1),i=shallowRef(0),l=shallowRef(0),s=ref$1(),c=ref$1();let d=0;const{resizeRef:u,contentRect:p}=useResizeObserver();watchEffect(()=>{u.value=s.value});const h=computed(()=>{var t;return s.value===document.documentElement?a.height.value:(null==(t=p.value)?void 0:t.height)||parseInt(e.height)||0}),m=computed(()=>!!(s.value&&c.value&&h.value&&o.value));let v=Array.from({length:t.value.length}),f=Array.from({length:t.value.length});const g=shallowRef(0);let y=-1;function _(e){return v[e]||o.value}const b=debounce(()=>{const e=performance.now();f[0]=0;const a=t.value.length;for(let t=1;t<=a;t++)f[t]=(f[t-1]||0)+_(t-1);g.value=Math.max(g.value,performance.now()-e)},g),w=watch(m,e=>{e&&(w(),d=c.value.offsetTop,b.immediate(),E(),~y&&nextTick(()=>{IN_BROWSER&&window.requestAnimationFrame(()=>{$(y),y=-1})}))});function x(e){e=clamp(e,0,t.value.length);const a=Math.floor(e),o=e%1,r=a+1,n=f[a]||0;return n+((f[r]||n)-n)*o}function V(e){return binaryClosest(f,e)}onScopeDispose(()=>{b.clear()});let k=0,C=0,S=0;watch(h,(e,t)=>{t&&(E(),e<t&&requestAnimationFrame(()=>{C=0,E()}))});let N=-1;function T(){s.value&&c.value&&(C=0,S=0,window.clearTimeout(N),E())}let B=-1;function E(){cancelAnimationFrame(B),B=requestAnimationFrame(I)}function I(){if(!s.value||!h.value||!o.value)return;const e=k-d,a=Math.sign(C),c=Math.max(0,e-BUFFER_PX),u=clamp(V(c),0,t.value.length),p=e+h.value+BUFFER_PX,m=clamp(V(p)+1,u+1,t.value.length);if((a!==UP||u<r.value)&&(a!==DOWN||m>n.value)){const e=x(r.value)-x(u),a=x(m)-x(n.value);Math.max(e,a)>BUFFER_PX?(r.value=u,n.value=m):(u<=0&&(r.value=u),m>=t.value.length&&(n.value=m))}i.value=x(r.value),l.value=x(t.value.length)-x(n.value)}function $(e){const t=x(e);!s.value||e&&!t?y=e:s.value.scrollTop=t}const P=computed(()=>t.value.slice(r.value,n.value).map((t,a)=>{const o=a+r.value;return{raw:t,index:o,key:getPropertyFromItem(t,e.itemKey,o)}}));return watch(t,()=>{v=Array.from({length:t.value.length}),f=Array.from({length:t.value.length}),b.immediate(),E()},{deep:1}),{calculateVisibleItems:E,containerRef:s,markerRef:c,computedItems:P,paddingTop:i,paddingBottom:l,scrollToIndex:$,handleScroll:function(){if(!s.value||!c.value)return;const e=s.value.scrollTop,t=performance.now();t-S>500?(C=Math.sign(e-k),d=c.value.offsetTop):C=e-k,k=e,S=t,window.clearTimeout(N),N=window.setTimeout(T,500),E()},handleScrollend:T,handleItemResize:function(e,t){const a=v[e],r=o.value;o.value=r?Math.min(o.value,t):t,a===t&&r===o.value||(v[e]=t,b())}}}function binaryClosest(e,t){let a=e.length-1,o=0,r=0,n=null,i=-1;if(e[a]<t)return a;for(;o<=a;)if(r=o+a>>1,n=e[r],n>t)a=r-1;else{if(!(n<t))return n===t?r:o;i=r,o=r+1}return i}const makeVVirtualScrollProps=propsFactory({items:{type:Array,default:()=>[]},renderless:Boolean,...makeVirtualProps(),...makeComponentProps(),...makeDimensionProps()},"VVirtualScroll"),VVirtualScroll=genericComponent()({name:"VVirtualScroll",props:makeVVirtualScrollProps(),setup(e,t){let{slots:a}=t;const o=getCurrentInstance("VVirtualScroll"),{dimensionStyles:r}=useDimension(e),{calculateVisibleItems:n,containerRef:i,markerRef:l,handleScroll:s,handleScrollend:c,handleItemResize:d,scrollToIndex:u,paddingTop:p,paddingBottom:h,computedItems:m}=useVirtual(e,toRef(()=>e.items));return useToggleScope(()=>e.renderless,()=>{function e(){var e,t;const a=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[a]("scroll",s,{passive:!0}),document[a]("scrollend",c)):(null==(e=i.value)||e[a]("scroll",s,{passive:!0}),null==(t=i.value)||t[a]("scrollend",c))}onMounted(()=>{i.value=getScrollParent(o.vnode.el,!0),e(!0)}),onScopeDispose(e)}),useRender(()=>{const t=m.value.map(t=>createVNode(VVirtualScrollItem,{key:t.key,renderless:e.renderless,"onUpdate:height":e=>d(t.index,e)},{default:e=>{var o;return null==(o=a.default)?void 0:o.call(a,{item:t.raw,index:t.index,...e})}}));return e.renderless?createBaseVNode(Fragment,null,[createBaseVNode("div",{ref:l,class:"v-virtual-scroll__spacer",style:{paddingTop:convertToUnit(p.value)}},null),t,createBaseVNode("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:convertToUnit(h.value)}},null)]):createBaseVNode("div",{ref:i,class:normalizeClass(["v-virtual-scroll",e.class]),onScrollPassive:s,onScrollend:c,style:normalizeStyle([r.value,e.style])},[createBaseVNode("div",{ref:l,class:"v-virtual-scroll__container",style:{paddingTop:convertToUnit(p.value),paddingBottom:convertToUnit(h.value)}},[t])])}),{calculateVisibleItems:n,scrollToIndex:u}}});function useScrolling(e,t){const a=shallowRef(!1);let o;return{onScrollPassive:function(e){cancelAnimationFrame(o),a.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{a.value=!1})})},onKeydown:async function(o){var r,n;if("Tab"===o.key&&(null==(r=t.value)||r.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const i=null==(n=e.value)?void 0:n.$el;if(!i)return;"Home"!==o.key&&"End"!==o.key||i.scrollTo({top:"Home"===o.key?0:i.scrollHeight,behavior:"smooth"}),await async function(){await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>{if(a.value){const t=watch(a,()=>{t(),e()})}else e()})}();const l=i.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if("PageDown"===o.key||"Home"===o.key){const e=i.getBoundingClientRect().top;for(const t of l)if(t.getBoundingClientRect().top>=e){t.focus();break}}else{const e=i.getBoundingClientRect().bottom;for(const t of[...l].reverse())if(t.getBoundingClientRect().bottom<=e){t.focus();break}}}}}const makeMenuActivatorProps=propsFactory({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function useMenuActivator(e,t){const{t:a}=useLocale(),o=useId(),r=computed(()=>`menu-${o}`),n=toRef(()=>toValue(t)),i=toRef(()=>r.value),l=toRef(()=>a(toValue(t)?e.closeText:e.openText));return{menuId:r,ariaExpanded:n,ariaControls:i,ariaLabel:l}}const makeSelectProps=propsFactory({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:IconValue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...makeMenuActivatorProps(),...makeItemsProps({itemChildren:!1})},"Select"),makeVSelectProps=propsFactory({...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...makeTransitionProps$1({transition:{component:VDialogTransition}})},"VSelect"),VSelect=genericComponent()({name:"VSelect",props:makeVSelectProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:a}=t;const{t:o}=useLocale(),r=ref$1(),n=ref$1(),i=ref$1(),{items:l,transformIn:s,transformOut:c}=useItems(e),d=useProxiedModel(e,"modelValue",[],e=>s(null===e?[null]:wrapInArray(e)),t=>{const a=c(t);return e.multiple?a:a[0]??null}),u=computed(()=>"function"==typeof e.counterValue?e.counterValue(d.value):"number"==typeof e.counterValue?e.counterValue:d.value.length),p=useForm(e),h=computed(()=>d.value.map(e=>e.value)),m=shallowRef(!1);let v,f="",g=-1;const y=computed(()=>e.hideSelected?l.value.filter(t=>!d.value.some(a=>(e.valueComparator||deepEqual$1)(a,t))):l.value),_=computed(()=>e.hideNoData&&!y.value.length||p.isReadonly.value||p.isDisabled.value),b=useProxiedModel(e,"menu"),w=computed({get:()=>b.value,set:e=>{var t;b.value&&!e&&(null==(t=n.value)?void 0:t.ΨopenChildren.size)||e&&_.value||(b.value=e)}}),{menuId:x,ariaExpanded:V,ariaControls:k,ariaLabel:C}=useMenuActivator(e,w),S=computed(()=>{var t;return{...e.menuProps,activatorProps:{...(null==(t=e.menuProps)?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),N=ref$1(),T=useScrolling(N,r);function B(t){e.openOnClear&&(w.value=!0)}function E(){_.value||(w.value=!w.value)}function I(e){checkPrintable(e)&&$(e)}function $(t){var a,o,r;if(!t.key||p.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(w.value=!0),["Escape","Tab"].includes(t.key)&&(w.value=!1),"Home"===t.key?null==(a=N.value)||a.focus("first"):"End"===t.key&&(null==(o=N.value)||o.focus("last"));if(!checkPrintable(t))return;const n=performance.now();n-v>1e3&&(f="",g=-1),f+=t.key.toLowerCase(),v=n;const i=y.value;function l(){for(let e=g+1;e<i.length;e++){const t=i[e];if(t.title.toLowerCase().startsWith(f))return[t,e]}}const s=function(){let e=l();return e||(f.at(-1)===f.at(-2)&&(f=f.slice(0,-1),e=l(),e)?e:(g=-1,e=l(),e||(f=t.key.toLowerCase(),l())))}();if(!s)return;const[c,u]=s;g=u,null==(r=N.value)||r.focus(u),e.multiple||(d.value=[c])}function P(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t.props.disabled)if(e.multiple){const o=d.value.findIndex(a=>(e.valueComparator||deepEqual$1)(a.value,t.value)),r=null==a?!~o:a;if(~o){const e=r?[...d.value,t]:[...d.value];e.splice(o,1),d.value=e}else r&&(d.value=[...d.value,t])}else{const e=!1!==a;d.value=e?[t]:[],nextTick(()=>{w.value=!1})}}function D(e){var t;(null==(t=N.value)?void 0:t.$el.contains(e.relatedTarget))||(w.value=!1)}function L(){var t;e.eager&&(null==(t=i.value)||t.calculateVisibleItems())}function R(){var e;m.value&&(null==(e=r.value)||e.focus())}function A(e){m.value=!0}function O(e){if(null==e)d.value=[];else if(matchesSelector(r.value,":autofill")||matchesSelector(r.value,":-webkit-autofill")){const t=l.value.find(t=>t.title===e);t&&P(t)}else r.value&&(r.value.value="")}return watch(w,()=>{if(!e.hideSelected&&w.value&&d.value.length){const t=y.value.findIndex(t=>d.value.some(a=>(e.valueComparator||deepEqual$1)(a.value,t.value)));IN_BROWSER&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var e;t>=0&&(null==(e=i.value)||e.scrollToIndex(t))})}}),watch(l,(t,a)=>{w.value||m.value&&e.hideNoData&&!a.length&&t.length&&(w.value=!0)}),useRender(()=>{const t=!(!e.chips&&!a.chip),l=!!(!e.hideNoData||y.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),s=d.value.length>0,c=VTextField.filterProps(e),p=s||!m.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return createVNode(VTextField,mergeProps({ref:r},c,{modelValue:d.value.map(e=>e.props.value).join(", "),"onUpdate:modelValue":O,focused:m.value,"onUpdate:focused":e=>m.value=e,validationValue:d.externalValue,counterValue:u.value,dirty:s,class:["v-select",{"v-select--active-menu":w.value,"v-select--chips":!!e.chips,["v-select--"+(e.multiple?"multiple":"single")]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!a.selection},e.class],style:e.style,inputmode:"none",placeholder:p,"onClick:clear":B,"onMousedown:control":E,onBlur:D,onKeydown:$,"aria-expanded":V.value,"aria-controls":k.value,"aria-label":C.value,title:C.value}),{...a,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({id:x.value,ref:n,modelValue:w.value,"onUpdate:modelValue":e=>w.value=e,activator:"parent",contentClass:"v-select__content",disabled:_.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:L,onAfterLeave:R},S.value),{default:()=>[l&&createVNode(VList,mergeProps({ref:N,selected:h.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:I,onFocusin:A,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},T,e.listProps),{default:()=>{var t,r,n;return[null==(t=a["prepend-item"])?void 0:t.call(a),!y.value.length&&!e.hideNoData&&((null==(r=a["no-data"])?void 0:r.call(a))??createVNode(VListItem,{key:"no-data",title:o(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:i,renderless:!0,items:y.value,itemKey:"value"},{default:t=>{var o,r,n;let{item:i,index:l,itemRef:s}=t;const c=camelizeProps(i.props),d=mergeProps(i.props,{ref:s,key:i.value,onClick:()=>P(i,null)});return"divider"===i.type?(null==(o=a.divider)?void 0:o.call(a,{props:i.raw,index:l}))??createVNode(VDivider,mergeProps(i.props,{key:`divider-${l}`}),null):"subheader"===i.type?(null==(r=a.subheader)?void 0:r.call(a,{props:i.raw,index:l}))??createVNode(VListSubheader,mergeProps(i.props,{key:`subheader-${l}`}),null):(null==(n=a.item)?void 0:n.call(a,{item:i,index:l,props:d}))??createVNode(VListItem,mergeProps(d,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:i.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,c.prependAvatar&&createVNode(VAvatar,{image:c.prependAvatar},null),c.prependIcon&&createVNode(VIcon,{icon:c.prependIcon},null)])}})}}),null==(n=a["append-item"])?void 0:n.call(a)]}})]}),d.value.map((o,r)=>{function n(e){e.stopPropagation(),e.preventDefault(),P(o,!1)}const i={"onClick:close":n,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),n(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},l=t?!!a.chip:!!a.selection,s=l?ensureValidVNode(t?a.chip({item:o,index:r,props:i}):a.selection({item:o,index:r})):void 0;if(!l||s)return createBaseVNode("div",{key:o.value,class:"v-select__selection"},[t?a.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:o.title}}},{default:()=>[s]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:o.title,disabled:o.props.disabled},i),null):s??createBaseVNode("span",{class:"v-select__selection-text"},[o.title,e.multiple&&r<d.value.length-1&&createBaseVNode("span",{class:"v-select__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){for(var t,o,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return createBaseVNode(Fragment,null,[null==(t=a["append-inner"])?void 0:t.call(a,...i),e.menuIcon?createVNode(VIcon,{class:"v-select__menu-icon",color:null==(o=r.value)?void 0:o.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),forwardRefs({isFocused:m,menu:w,select:P},r)}}),makeVSwitchProps=propsFactory({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...makeVInputProps(),...makeVSelectionControlProps()},"VSwitch"),VSwitch=genericComponent()({name:"VSwitch",inheritAttrs:!1,props:makeVSwitchProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const r=useProxiedModel(e,"indeterminate"),n=useProxiedModel(e,"modelValue"),{loaderClasses:i}=useLoader(e),{isFocused:l,focus:s,blur:c}=useFocus(e),d=ref$1(),u=ref$1(),p=SUPPORTS_MATCH_MEDIA&&window.matchMedia("(forced-colors: active)").matches,h=toRef(()=>"string"==typeof e.loading&&""!==e.loading?e.loading:e.color),m=useId(),v=toRef(()=>e.id||`switch-${m}`);function f(){r.value&&(r.value=!1)}function g(e){var t,a;e.stopPropagation(),e.preventDefault(),null==(a=null==(t=d.value)?void 0:t.input)||a.click()}return useRender(()=>{const[t,m]=filterInputAttrs(a),y=VInput.filterProps(e),_=VSelectionControl.filterProps(e);return createVNode(VInput,mergeProps({ref:u,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},i.value,e.class]},t,y,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,id:v.value,focused:l.value,style:e.style}),{...o,default:t=>{let{id:a,messagesId:i,isDisabled:l,isReadonly:u,isValid:v}=t;const y={model:n,isValid:v};return createVNode(VSelectionControl,mergeProps({ref:d},_,{modelValue:n.value,"onUpdate:modelValue":[e=>n.value=e,f],id:a.value,"aria-describedby":i.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:l.value,readonly:u.value,onFocus:s,onBlur:c},m),{...o,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:a}=e;return createBaseVNode("div",{class:normalizeClass(["v-switch__track",p?void 0:t.value]),style:normalizeStyle(a.value),onClick:g},[o["track-true"]&&createBaseVNode("div",{key:"prepend",class:"v-switch__track-true"},[o["track-true"](y)]),o["track-false"]&&createBaseVNode("div",{key:"append",class:"v-switch__track-false"},[o["track-false"](y)])])},input:t=>{let{inputNode:a,icon:r,backgroundColorClasses:n,backgroundColorStyles:i}=t;return createBaseVNode(Fragment,null,[a,createBaseVNode("div",{class:normalizeClass(["v-switch__thumb",{"v-switch__thumb--filled":r||e.loading},e.inset||p?void 0:n.value]),style:normalizeStyle(e.inset?void 0:i.value)},[o.thumb?createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[o.thumb({...y,icon:r})]}):createVNode(VScaleTransition,null,{default:()=>[e.loading?createVNode(LoaderSlot,{name:"v-switch",active:!0,color:!1===v.value?void 0:h.value},{default:e=>o.loader?o.loader(e):createVNode(VProgressCircular,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&createVNode(VIcon,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),forwardRefs({},u)}}),VTabsSymbol=Symbol.for("vuetify:v-tabs"),makeVTabProps=propsFactory({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...omit(makeVBtnProps({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),VTab=genericComponent()({name:"VTab",props:makeVTabProps(),setup(e,t){let{slots:a,attrs:o}=t;const{textColorClasses:r,textColorStyles:n}=useTextColor(()=>e.sliderColor),i=ref$1(),l=ref$1(),s=computed(()=>"horizontal"===e.direction),c=computed(()=>{var e,t;return(null==(t=null==(e=i.value)?void 0:e.group)?void 0:t.isSelected.value)??!1});function d(e){var t,a;let{value:o}=e;if(o){const e=null==(a=null==(t=i.value)?void 0:t.$el.parentElement)?void 0:a.querySelector(".v-tab--selected .v-tab__slider"),o=l.value;if(!e||!o)return;const r=getComputedStyle(e).color,n=e.getBoundingClientRect(),c=o.getBoundingClientRect(),d=s.value?"x":"y",u=s.value?"X":"Y",p=s.value?"right":"bottom",h=s.value?"width":"height",m=n[d]>c[d]?n[p]-c[p]:n[d]-c[d],v=Math.sign(m)>0?s.value?"right":"bottom":Math.sign(m)<0?s.value?"left":"top":"center",f=(Math.abs(m)+(Math.sign(m)<0?n[h]:c[h]))/Math.max(n[h],c[h])||0,g=n[h]/c[h]||0,y=1.5;animate(o,{backgroundColor:[r,"currentcolor"],transform:[`translate${u}(${m}px) scale${u}(${g})`,`translate${u}(${m/y}px) scale${u}(${(f-1)/y+1})`,"none"],transformOrigin:Array(3).fill(v)},{duration:225,easing:standardEasing})}}return useRender(()=>{const t=VBtn.filterProps(e);return createVNode(VBtn,mergeProps({symbol:VTabsSymbol,ref:i,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},t,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...a,default:()=>{var t;return createBaseVNode(Fragment,null,[(null==(t=a.default)?void 0:t.call(a))??e.text,!e.hideSlider&&createBaseVNode("div",{ref:l,class:normalizeClass(["v-tab__slider",r.value]),style:normalizeStyle(n.value)},null)])}})}),forwardRefs({},i)}}),handleGesture=e=>{const{touchstartX:t,touchendX:a,touchstartY:o,touchendY:r}=e;e.offsetX=a-t,e.offsetY=r-o,Math.abs(e.offsetY)<.5*Math.abs(e.offsetX)&&(e.left&&a<t-16&&e.left(e),e.right&&a>t+16&&e.right(e)),Math.abs(e.offsetX)<.5*Math.abs(e.offsetY)&&(e.up&&r<o-16&&e.up(e),e.down&&r>o+16&&e.down(e))};function touchstart(e,t){var a;const o=e.changedTouches[0];t.touchstartX=o.clientX,t.touchstartY=o.clientY,null==(a=t.start)||a.call(t,{originalEvent:e,...t})}function touchend(e,t){var a;const o=e.changedTouches[0];t.touchendX=o.clientX,t.touchendY=o.clientY,null==(a=t.end)||a.call(t,{originalEvent:e,...t}),handleGesture(t)}function touchmove(e,t){var a;const o=e.changedTouches[0];t.touchmoveX=o.clientX,t.touchmoveY=o.clientY,null==(a=t.move)||a.call(t,{originalEvent:e,...t})}function createHandlers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>touchstart(e,t),touchend:e=>touchend(e,t),touchmove:e=>touchmove(e,t)}}function mounted$3(e,t){var a;const o=t.value,r=(null==o?void 0:o.parent)?e.parentElement:e,n=(null==o?void 0:o.options)??{passive:!0},i=null==(a=t.instance)?void 0:a.$.uid;if(!r||void 0===i)return;const l=createHandlers(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=l,keys$1(l).forEach(e=>{r.addEventListener(e,l[e],n)})}function unmounted$3(e,t){var a,o;const r=(null==(a=t.value)?void 0:a.parent)?e.parentElement:e,n=null==(o=t.instance)?void 0:o.$.uid;if(!(null==r?void 0:r._touchHandlers)||void 0===n)return;const i=r._touchHandlers[n];keys$1(i).forEach(e=>{r.removeEventListener(e,i[e])}),delete r._touchHandlers[n]}const Touch={mounted:mounted$3,unmounted:unmounted$3},VWindowSymbol=Symbol.for("vuetify:v-window"),VWindowGroupSymbol=Symbol.for("vuetify:v-window-group"),makeVWindowProps=propsFactory({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||"hover"===e},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...makeComponentProps(),...makeTagProps(),...makeThemeProps()},"VWindow"),VWindow=genericComponent()({name:"VWindow",directives:{vTouch:Touch},props:makeVWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{isRtl:r}=useRtl(),{t:n}=useLocale(),i=useGroup(e,VWindowGroupSymbol),l=ref$1(),s=computed(()=>r.value?!e.reverse:e.reverse),c=shallowRef(!1),d=computed(()=>{if(e.crossfade)return"v-window-crossfade-transition";return`v-window-${"vertical"===e.direction?"y":"x"}${(s.value?!c.value:c.value)?"-reverse":""}-transition`}),u=shallowRef(0),p=ref$1(void 0),h=computed(()=>i.items.value.findIndex(e=>i.selected.value.includes(e.id)));watch(h,(e,t)=>{let a;const o={left:0,top:0};IN_BROWSER&&t>=0&&(a=getScrollParent(l.value),o.left=null==a?void 0:a.scrollLeft,o.top=null==a?void 0:a.scrollTop);const r=i.items.value.length,n=r-1;c.value=r<=2?e<t:e===n&&0===t||(0!==e||t!==n)&&e<t,nextTick(()=>{if(!IN_BROWSER||!a)return;a.scrollTop!==o.top&&a.scrollTo({...o,behavior:"instant"}),requestAnimationFrame(()=>{if(!a)return;a.scrollTop!==o.top&&a.scrollTo({...o,behavior:"instant"})})})},{flush:"sync"}),provide(VWindowSymbol,{transition:d,isReversed:c,transitionCount:u,transitionHeight:p,rootRef:l});const m=toRef(()=>e.continuous||0!==h.value),v=toRef(()=>e.continuous||h.value!==i.items.value.length-1);function f(){m.value&&i.prev()}function g(){v.value&&i.next()}const y=computed(()=>{const t=[],o={icon:r.value?e.nextIcon:e.prevIcon,class:"v-window__"+(s.value?"right":"left"),onClick:i.prev,"aria-label":n("$vuetify.carousel.prev")};t.push(m.value?a.prev?a.prev({props:o}):createVNode(VBtn,o,null):createBaseVNode("div",null,null));const l={icon:r.value?e.prevIcon:e.nextIcon,class:"v-window__"+(s.value?"left":"right"),onClick:i.next,"aria-label":n("$vuetify.carousel.next")};return t.push(v.value?a.next?a.next({props:l}):createVNode(VBtn,l,null):createBaseVNode("div",null,null)),t}),_=computed(()=>{if(!1===e.touch)return e.touch;return{...{left:()=>{s.value?f():g()},right:()=>{s.value?g():f()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}},...!0===e.touch?{}:e.touch}});return useRender(()=>withDirectives(createVNode(e.tag,{ref:l,class:normalizeClass(["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows,"v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},o.value,e.class]),style:normalizeStyle([e.style,e.transitionDuration&&!PREFERS_REDUCED_MOTION?{"--v-window-transition-duration":convertToUnit(e.transitionDuration,"ms")}:void 0])},{default:()=>{var t,o;return[createBaseVNode("div",{class:"v-window__container",style:{height:p.value}},[null==(t=a.default)?void 0:t.call(a,{group:i}),!1!==e.showArrows&&createBaseVNode("div",{class:normalizeClass(["v-window__controls",{"v-window__controls--left":"left"===e.verticalArrows||!0===e.verticalArrows},{"v-window__controls--right":"right"===e.verticalArrows}])},[y.value])]),null==(o=a.additional)?void 0:o.call(a,{group:i})]}}),[[Touch,_.value]])),{group:i}}}),makeVTabsWindowProps=propsFactory({...omit(makeVWindowProps(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),VTabsWindow=genericComponent()({name:"VTabsWindow",props:makeVTabsWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=inject(VTabsSymbol,null),r=useProxiedModel(e,"modelValue"),n=computed({get(){var e;return null==r.value&&o?null==(e=o.items.value.find(e=>o.selected.value.includes(e.id)))?void 0:e.value:r.value},set(e){r.value=e}});return useRender(()=>{const t=VWindow.filterProps(e);return createVNode(VWindow,mergeProps({_as:"VTabsWindow"},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),makeVWindowItemProps=propsFactory({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...makeComponentProps(),...makeGroupItemProps(),...makeLazyProps()},"VWindowItem"),VWindowItem=genericComponent()({name:"VWindowItem",directives:{vTouch:Touch},props:makeVWindowItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const o=inject(VWindowSymbol),r=useGroupItem(e,VWindowGroupSymbol),{isBooted:n}=useSsrBoot();if(!o||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=shallowRef(!1),l=computed(()=>n.value&&(o.isReversed.value?!1!==e.reverseTransition:!1!==e.transition));function s(){i.value&&o&&(i.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,0===o.transitionCount.value&&(o.transitionHeight.value=void 0)))}function c(){var e;!i.value&&o&&(i.value=!0,0===o.transitionCount.value&&(o.transitionHeight.value=convertToUnit(null==(e=o.rootRef.value)?void 0:e.clientHeight)),o.transitionCount.value+=1)}function d(){s()}function u(e){i.value&&nextTick(()=>{l.value&&i.value&&o&&(o.transitionHeight.value=convertToUnit(e.clientHeight))})}const p=computed(()=>{const t=o.isReversed.value?e.reverseTransition:e.transition;return!!l.value&&{name:"string"!=typeof t?o.transition.value:t,onBeforeEnter:c,onAfterEnter:s,onEnterCancelled:d,onBeforeLeave:c,onAfterLeave:s,onLeaveCancelled:d,onEnter:u}}),{hasContent:h}=useLazy(e,r.isSelected);return useRender(()=>createVNode(MaybeTransition,{transition:p.value,disabled:!n.value},{default:()=>{var t;return[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-window-item",r.selectedClass.value,e.class]),style:normalizeStyle(e.style)},[h.value&&(null==(t=a.default)?void 0:t.call(a))]),[[vShow,r.isSelected.value]])]}})),{groupItem:r}}}),makeVTabsWindowItemProps=propsFactory({...makeVWindowItemProps()},"VTabsWindowItem"),VTabsWindowItem=genericComponent()({name:"VTabsWindowItem",props:makeVTabsWindowItemProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{const t=VWindowItem.filterProps(e);return createVNode(VWindowItem,mergeProps({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),a)}),{}}});function parseItems(e){return e?e.map(e=>isObject$3(e)?e:{text:e,value:e}):[]}const makeVTabsProps=propsFactory({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...pick(makeVTabProps(),["spaced"]),...makeVSlideGroupProps({mandatory:"force",selectedClass:"v-tab-item--selected"}),...makeDensityProps(),...makeTagProps()},"VTabs"),VTabs=genericComponent()({name:"VTabs",props:makeVTabsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const r=useProxiedModel(e,"modelValue"),n=computed(()=>parseItems(e.items)),{densityClasses:i}=useDensity(e),{backgroundColorClasses:l,backgroundColorStyles:s}=useBackgroundColor(()=>e.bgColor),{scopeId:c}=useScopeId();return provideDefaults({VTab:{color:toRef(()=>e.color),direction:toRef(()=>e.direction),stacked:toRef(()=>e.stacked),fixed:toRef(()=>e.fixedTabs),sliderColor:toRef(()=>e.sliderColor),hideSlider:toRef(()=>e.hideSlider)}}),useRender(()=>{const t=VSlideGroup.filterProps(e),d=!!(o.window||e.items.length>0);return createBaseVNode(Fragment,null,[createVNode(VSlideGroup,mergeProps(t,{modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,l.value,e.class],style:[{"--v-tabs-height":convertToUnit(e.height)},s.value,e.style],role:"tablist",symbol:VTabsSymbol},c,a),{default:()=>{var t;return[(null==(t=o.default)?void 0:t.call(o))??n.value.map(t=>{var a;return(null==(a=o.tab)?void 0:a.call(o,{item:t}))??createVNode(VTab,mergeProps(t,{key:t.text,value:t.value,spaced:e.spaced}),{default:o[`tab.${t.value}`]?()=>{var e;return null==(e=o[`tab.${t.value}`])?void 0:e.call(o,{item:t})}:void 0})})]}}),d&&createVNode(VTabsWindow,mergeProps({modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,key:"tabs-window"},c),{default:()=>{var e;return[n.value.map(e=>{var t;return(null==(t=o.item)?void 0:t.call(o,{item:e}))??createVNode(VTabsWindowItem,{value:e.value},{default:()=>{var t;return null==(t=o[`item.${e.value}`])?void 0:t.call(o,{item:e})}})}),null==(e=o.window)?void 0:e.call(o)]}})])}),{}}}),makeVToolbarTitleProps=propsFactory({text:String,...makeComponentProps(),...makeTagProps()},"VToolbarTitle"),VToolbarTitle=genericComponent()({name:"VToolbarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{const t=!!(a.default||a.text||e.text);return createVNode(e.tag,{class:normalizeClass(["v-toolbar-title",e.class]),style:normalizeStyle(e.style)},{default:()=>{var o;return[t&&createBaseVNode("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,null==(o=a.default)?void 0:o.call(a)])]}})}),{}}}),allowedDensities=[null,"prominent","default","comfortable","compact"],makeVToolbarProps=propsFactory({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>allowedDensities.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...makeBorderProps(),...makeComponentProps(),...makeElevationProps(),...makeRoundedProps(),...makeTagProps({tag:"header"}),...makeThemeProps()},"VToolbar"),VToolbar=genericComponent()({name:"VToolbar",props:makeVToolbarProps(),setup(e,t){var a;let{slots:o}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{borderClasses:i}=useBorder(e),{elevationClasses:l}=useElevation(e),{roundedClasses:s}=useRounded(e),{themeClasses:c}=provideTheme(e),{rtlClasses:d}=useRtl(),u=shallowRef(null===e.extended?!!(null==(a=o.extension)?void 0:a.call(o)):e.extended),p=computed(()=>parseInt(Number(e.height)+("prominent"===e.density?Number(e.height):0)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0),10)),h=computed(()=>u.value?parseInt(Number(e.extensionHeight)+("prominent"===e.density?Number(e.extensionHeight):0)-("comfortable"===e.density?4:0)-("compact"===e.density?8:0),10):0);return provideDefaults({VBtn:{variant:"text"}}),useRender(()=>{var t;const a=!(!e.title&&!o.title),m=!(!o.image&&!e.image),v=null==(t=o.extension)?void 0:t.call(o);return u.value=null===e.extended?!!v:e.extended,createVNode(e.tag,{class:normalizeClass(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,i.value,l.value,s.value,c.value,d.value,e.class]),style:normalizeStyle([n.value,e.style])},{default:()=>[m&&createBaseVNode("div",{key:"image",class:"v-toolbar__image"},[o.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},o.image):createVNode(VImg,{key:"image-img",cover:!0,src:e.image},null)]),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(p.value)}}},{default:()=>{var t,r,n;return[createBaseVNode("div",{class:"v-toolbar__content",style:{height:convertToUnit(p.value)}},[o.prepend&&createBaseVNode("div",{class:"v-toolbar__prepend"},[null==(t=o.prepend)?void 0:t.call(o)]),a&&createVNode(VToolbarTitle,{key:"title",text:e.title},{text:o.title}),null==(r=o.default)?void 0:r.call(o),o.append&&createBaseVNode("div",{class:"v-toolbar__append"},[null==(n=o.append)?void 0:n.call(o)])])]}}),createVNode(VDefaultsProvider,{defaults:{VTabs:{height:convertToUnit(h.value)}}},{default:()=>[createVNode(VExpandTransition,null,{default:()=>[u.value&&createBaseVNode("div",{class:"v-toolbar__extension",style:{height:convertToUnit(h.value)}},[v])]})]})]})}),{contentHeight:p,extensionHeight:h}}}),makeVToolbarItemsProps=propsFactory({...makeComponentProps(),...makeVariantProps({variant:"text"})},"VToolbarItems"),VToolbarItems=genericComponent()({name:"VToolbarItems",props:makeVToolbarItemsProps(),setup(e,t){let{slots:a}=t;return provideDefaults({VBtn:{color:toRef(()=>e.color),height:"inherit",variant:toRef(()=>e.variant)}}),useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-toolbar-items",e.class]),style:normalizeStyle(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),_hoisted_1$u={class:"px-4"},_hoisted_2$s={class:"ml-1 subtext--text fs-10"},_hoisted_3$q={key:0,style:{height:"calc(100vh - 320px)"},class:"overflow-y-auto pos-rlt no-scroll"},_hoisted_4$p={class:"pt-4 px-6 pb-2"},_hoisted_5$p={key:0},_hoisted_6$p={key:1},_hoisted_7$p={class:"d-flex justify-space-between mt-2"},_hoisted_8$p={class:"font-weight-regular fs-14 subtext--text mb-2 mr-2 text-right"},_hoisted_9$p={key:2,class:"lh-16 fs-10 subtext--text mb-0 mt-1"},_hoisted_10$p={class:"d-flex justify-space-between mt-4"},_hoisted_11$p={class:"font-weight-regular fs-14 subtext--text mb-2 mr-2 text-right"},_hoisted_12$p={class:"mr-2"},_hoisted_13$o={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},_hoisted_14$n={key:3,class:"lh-16 fs-10 subtext--text mb-0 mt-1"},_hoisted_15$l={key:5,class:"mt-2"},_hoisted_16$g={key:6,class:"mt-2"},_hoisted_17$g={key:7,class:"mt-2"},_hoisted_18$g={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},_hoisted_19$f={key:0,class:"mt-2"},_hoisted_20$f={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},_hoisted_21$f={key:8,class:"mt-3"},_hoisted_22$f={key:0,class:"mt-2"},_hoisted_23$f={class:"d-flex align-center mt-3"},_hoisted_24$f={key:9,class:"mt-3"},_hoisted_25$e={class:"mt-3"},_hoisted_26$e={class:"d-flex align-center"},_hoisted_27$e={class:"font-weight-medium fs-12 subtext--text mb-0"},_hoisted_28$e={class:"ml-1 primary--text"},_hoisted_29$e={class:"ml-1 primary--text"},_hoisted_30$e={class:"d-flex align-center mt-2"},_hoisted_31$c={class:"font-weight-medium fs-12 subtext--text mb-0"},_hoisted_32$b={class:"ml-1 primary--text"},_hoisted_33$a={key:1,class:"px-6 py-3"},_sfc_main$U={__name:"StockOrderWindow",setup(e){const t=useRouter$1(),a=ref$1(!1),o=ref$1(!1),r=ref$1([]),n=ref$1(!1),i=ref$1("I"),l=ref$1("LMT"),s=ref$1(0),c=ref$1(0),d=ref$1(0),u=ref$1(0),p=ref$1(!1),h=ref$1("LTP"),m=ref$1(">"),v=ref$1(0),f=ref$1(1),g=ref$1(null),y=ref$1(null),_=ref$1(!1),b=ref$1(["LTP","Perc. change","ATP","OI","TOI","52HIGH","VOLUME"]),w=ref$1(["LTP","Perc. change","ATP","OI","TOI","52LOW"]),x=ref$1([">","<"]),V=ref$1(null),k=ref$1(1),C=ref$1(null),S=ref$1("LMT"),N=ref$1(0),T=ref$1(0),B=ref$1(0),E=ref$1(0),I=ref$1(!1),$=ref$1(5),P=ref$1("order"),D=ref$1(null),L=ref$1(!1),R=ref$1(!1),A=ref$1({}),O=ref$1(!1),M=ref$1("DAY"),F=ref$1(0),z=ref$1(!1);let H=!1;const q=useAppStore(),U=computed(()=>{var e,t;return((null==(e=r.value)?void 0:e.ltp)||(null==(t=r.value[0])?void 0:t.lp)||0).toString()}),W=computed(()=>{var e;return((null==(e=r.value)?void 0:e.ch)??0).toString()}),j=computed(()=>{var e;return((null==(e=r.value)?void 0:e.chp)??0).toString()}),G=computed(()=>{var e;const t=Number((null==(e=r.value)?void 0:e.ch)||0);return t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"}),Y=ref$1(0),K=ref$1(0),X=computed(()=>Number(Y.value||0).toFixed(2)),J=computed(()=>Number(K.value||0).toFixed(2)),Q=computed(()=>Number(F.value||0).toFixed(2));function Z(){const e=Number($.value);return!isNaN(e)&&e<0?($.value=0,void q.showSnackbar(2,"Market Protection cannot be negative. Set to 0")):!isNaN(e)&&e>20?($.value=20,q.showSnackbar(2,"Market Protection cannot exceed 20%. Set to maximum: 20%"),void te()):(isNaN(e)||0!==e||""===e||null===e||q.showSnackbar(2,"Market Protection must be above zero"),void(!isNaN(e)&&e>0&&e<=20&&te()))}function ee(){const e=Number($.value);return isNaN(e)||null===e||""===e||e<=0?($.value=5,q.showSnackbar(2,"Market Protection must be above zero."),void te()):e>20?($.value=20,q.showSnackbar(2,"Market Protection cannot exceed 20%."),void te()):void te()}async function te(){const e=r.value[0];if(e&&c.value)try{const t={exch:e.exch,tsym:encodeURIComponent(e.tsym),qty:c.value*Number(e.ls||1),prc:d.value,prd:1===s.value?"H":2===s.value?"B":i.value,trantype:n.value?"S":"B",prctyp:l.value,trgprc:"SL-LMT"===l.value||"SL-MKT"===l.value?u.value:0},a=await getOrderMargin(t);a&&"Ok"===a.stat&&(Y.value=Number(a.ordermargin||0),K.value=Number(a.avbal||a.avbma||0));const o=await getBrokerage(t).catch(()=>{});o&&o.charges&&(F.value=Number(o.charges||0))}catch(e2){}else Y.value=0}function ae(){var e,a,o,n,i;if(4===s.value){const i=t.currentRoute.value.path;return"/orders"===i||i.startsWith("/orders/")?(window.dispatchEvent(new CustomEvent("order-tab",{detail:4})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("siporder-trigger",{detail:r.value[1]||{}}))},100)):t.push({path:"/orders/sip",query:{token:null==(e=r.value[1])?void 0:e.token,tsym:null==(a=r.value[1])?void 0:a.tsym,exch:null==(o=r.value[1])?void 0:o.exch,ls:(null==(n=r.value[1])?void 0:n.ls)||1}}).then(()=>{}),void re()}"MKT"===l.value||"SL-MKT"===l.value?d.value=0:!(null==(i=r.value[0])?void 0:i.lp)||"LMT"!==l.value&&"SL-LMT"!==l.value||(d.value=Number(r.value[0].lp)),"SL-LMT"!==l.value&&"SL-MKT"!==l.value&&(u.value=0),te()}async function oe(e){var t,o,b,w,x,O,M,F,H;const{type:U,token:W,exch:j,tsym:G,trantype:Y,item:K}=e.detail||{};if(U&&W&&j&&G)if(z.value)console.warn("[StockOrderWindow] Dialog is already opening, ignoring duplicate event");else{if(a.value&&(console.log("[StockOrderWindow] Dialog already open, closing first..."),re(),await nextTick()),z.value=!0,"cancel-order"===U&&K)return z.value=!1,void(await async function(e){if(!e||!e.norenordno)return void q.showSnackbar(2,"Invalid order data");try{p.value=!0;const a=e.exord?"can-ex":"can",o={uid:sessionStorage.getItem("userid")};"can-ex"===a?(o.norenordno=e.snonum||e.norenordno,o.prd=e.prd||"I"):o.norenordno=e.norenordno;const r=await getPlaceOrder(o,a);if("Ok"!==(null==r?void 0:r.stat))q.showSnackbar(2,(null==r?void 0:r.emsg)||"Failed to cancel order");else{q.showSnackbar(1,"can-ex"===a?"Order exited successfully":"Order cancelled successfully");try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"orders"}}))}catch(t){}}}catch(e2){q.showSnackbar(2,"Failed to cancel order"),console.error("Cancel order error:",e2)}finally{p.value=!1}}(K));try{P.value=U,D.value=K||null;const e=await getQuotesdata(`${j}|${W}`);let p=null;if(e&&"UNDIND"!==e.instname&&"COM"!==e.instname&&(p=await getSecuritydata(`${j}|${W}`)),r.value=[],r.value.push(e),p&&r.value.push(p),n.value="s"===(Y||"").toLowerCase(),i.value="NSE"===j||"BSE"===j?"C":"I",l.value="LMT",s.value=0,c.value=Number((null==e?void 0:e.ls)||1),d.value=Number((null==e?void 0:e.lp)||0),u.value=0,T.value=0,B.value=0,E.value=0,I.value=!1,$.value=5,f.value=1,g.value=null,y.value=null,_.value=!1,h.value="LTP",m.value=">",v.value=0,k.value=1,V.value=null,C.value=null,S.value="LMT",N.value=0,!K||"mod-order"!==U&&"re-order"!==U&&"exit-order"!==U||(l.value=K.prctyp||"LMT",c.value=Number(Math.abs(K.qty)/Number((null==e?void 0:e.ls)||1))||Number((null==e?void 0:e.ls)||1),d.value="MKT"===l.value||"SL-MKT"===l.value?0:Number(K.prc||(null==e?void 0:e.lp)||0),u.value="SL-LMT"===l.value||"SL-MKT"===l.value?Number(K.trgprc||0):0,n.value="S"===(K.trantype||"").toUpperCase()),K&&("mod-GTT"===U||"order-GTT"===U))if("mod-GTT"===U){const a=(null==(t=K.res)?void 0:t.ai_t)||"";h.value=a.includes("LTP_")?"LTP":a.includes("CH_PER_")?"Perc. change":a.includes("ATP_")?"ATP":a.includes("OI_")?"OI":a.includes("TOI_")?"TOI":a.includes("_52HIGH")?"52HIGH":a.includes("_52LOW")?"52LOW":a.includes("VOLUME_")?"VOLUME":"LTP",m.value=a.includes("A_O")?">":"<",n.value="S"===(K.trantype||"").toUpperCase(),(null==(o=K.res)?void 0:o.place_order_params)&&(v.value=Number((null==(x=null==(w=null==(b=K.res)?void 0:b.oivariable)?void 0:w[0])?void 0:x.d)||K.value||0),l.value=K.res.place_order_params.prctyp||"LMT",i.value=K.res.place_order_params.prd||i.value,f.value=Number(K.res.place_order_params.qty)/Number((null==e?void 0:e.ls)||1)||1,g.value="MKT"===K.res.place_order_params.prctyp||"SL-MKT"===K.res.place_order_params.prctyp?0:Number(K.res.place_order_params.prc||0),y.value=Number(K.res.place_order_params.trgprc||0)),(null==(O=K.res)?void 0:O.place_order_params_leg2)&&(_.value=!0,N.value=Number((null==(H=null==(F=null==(M=K.res)?void 0:M.oivariable)?void 0:F[1])?void 0:H.d)||0),S.value=K.res.place_order_params_leg2.prctyp||"LMT",k.value=Number(K.res.place_order_params_leg2.qty)/Number((null==e?void 0:e.ls)||1)||1,V.value="MKT"===K.res.place_order_params_leg2.prctyp||"SL-MKT"===K.res.place_order_params_leg2.prctyp?0:Number(K.res.place_order_params_leg2.prc||0),C.value=Number(K.res.place_order_params_leg2.trgprc||0)),s.value=3}else"order-GTT"===U&&(s.value=3,m.value=">",_.value=!1,v.value=0,N.value=0,h.value="LTP",f.value=1,k.value=1,l.value="LMT");try{const e=await setOrdprefApi({},!1);e&&"Ok"===e.stat&&(void 0!==e.quickord&&(R.value=e.quickord),void 0!==e.ordsrcpop&&(L.value=e.ordsrcpop),e.investype&&(i.value=e.investype),e.prc&&(l.value=e.prc),e.ordqty&&(c.value=Number(e.ordqty)||c.value))}catch(e2){}a.value=!0,console.log("[StockOrderWindow] Dialog opened"),await nextTick(),function(){const e=localStorage.getItem("stockOrderWindow_position");if(!e)return;try{const t=JSON.parse(e);t.top&&t.left&&(A.value={position:"fixed",top:t.top,left:t.left,zIndex:"9999"},nextTick(()=>{const e=document.getElementById("maindiv");e&&requestAnimationFrame(()=>{const t=e.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight;t.right>a&&(A.value.left=a-t.width+"px"),t.bottom>o&&(A.value.top=o-t.height+"px"),t.left<0&&(A.value.left="0px"),t.top<0&&(A.value.top="0px")})}))}catch(e2){localStorage.removeItem("stockOrderWindow_position")}}(),setTimeout(()=>{const e=document.getElementById("maindiv");e&&function(e){let t=0,a=0,o=0,r=0;const n=document.getElementById(e.id+"header"),i=e=>{const t=(e=e||window.event).target||e.srcElement;t&&("BUTTON"===t.tagName||t.closest("button")||t.closest(".v-btn"))||(e.preventDefault(),o=e.clientX,r=e.clientY,document.onmouseup=s,document.onmousemove=l)},l=n=>{(n=n||window.event).preventDefault(),t=o-n.clientX,a=r-n.clientY,o=n.clientX,r=n.clientY,e.style.position="fixed",e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-t+"px",e.style.zIndex="9999"},s=()=>{document.onmouseup=null,document.onmousemove=null,function(e){const t={top:e.style.top||e.offsetTop+"px",left:e.style.left||e.offsetLeft+"px"};t.top&&t.left&&("0px"!==t.top||"0px"!==t.left)&&localStorage.setItem("stockOrderWindow_position",JSON.stringify(t))}(e)};n?n.onmousedown=i:e.onmousedown=i}(e)},100),te()}catch(e2){q.showSnackbar(2,"Failed to open order window"),console.error("[StockOrderWindow] Error opening dialog:",e2)}finally{setTimeout(()=>{z.value=!1},500)}}}function re(){a.value=!1,nextTick(()=>{document.onmouseup&&(document.onmouseup=null),document.onmousemove&&(document.onmousemove=null),a.value=!1,r.value=[],c.value=0,d.value=0,n.value=!1,s.value=0,i.value="I",l.value="LMT",O.value=!1,M.value="DAY",E.value=0,I.value=!1,u.value=0,T.value=0,B.value=0,h.value="LTP",m.value=">",v.value=0,f.value=1,g.value=null,y.value=null,_.value=!1,k.value=1,V.value=null,C.value=null,S.value="LMT",N.value=0})}async function ne(e){var t,o,b,w;const x=r.value[0];if(!x)return;const A=function(){const e=r.value[0];if(!e)return"Symbol not loaded";if(!(c.value>0))return"Quantity must be greater than zero";if(("LMT"===l.value||"SL-LMT"===l.value)&&d.value<=0)return"Price must be greater than zero";if(("SL-LMT"===l.value||"SL-MKT"===l.value)&&u.value<=0)return"Trigger price must be greater than zero";if(("MKT"===l.value||"SL-MKT"===l.value)&&$.value){const e=Number($.value);if(isNaN(e)||e<=0)return"Market Protection must be above zero";if(e>20)return"Market Protection cannot exceed 20%"}const t=Number(e.ls||1);if("MCX"!==e.exch&&c.value%t!==0)return`Quantity must be a multiple of lot size ${t}`;const a=Number(e.ti||0);if(a>0){const e=e=>Math.abs(e/a-Math.round(e/a))<1e-6;if(("LMT"===l.value||"SL-LMT"===l.value)&&!e(Number(d.value||0)))return`Price should be multiple of tick size ${a}`;if(("SL-LMT"===l.value||"SL-MKT"===l.value)&&!e(Number(u.value||0)))return`Trigger should be multiple of tick size ${a}`;if(1===s.value||2===s.value){if(T.value&&!e(Number(T.value)))return`Stop loss should be multiple of tick size ${a}`;if(2===s.value&&B.value&&!e(Number(B.value)))return`Target should be multiple of tick size ${a}`}}const o=Number(e.lc),n=Number(e.uc);if(isFinite(o)&&isFinite(n)){if("LMT"===l.value||"SL-LMT"===l.value){const e=Number(d.value||0);if(e<o||e>n)return`Price must be within circuit limits ${o} - ${n}`}if("SL-LMT"===l.value||"SL-MKT"===l.value){const e=Number(u.value||0);if(e<o||e>n)return`Trigger must be within circuit limits ${o} - ${n}`}if(1===s.value||2===s.value){if(T.value){const e=Number(T.value);if(e<o||e>n)return`Stop loss must be within circuit limits ${o} - ${n}`}if(2===s.value&&B.value){const e=Number(B.value);if(e<o||e>n)return`Target must be within circuit limits ${o} - ${n}`}}}if(1===s.value&&!(T.value>0))return"Stop loss is required for Cover orders";if(2===s.value){if(!(T.value>0))return"Stop loss is required for Bracket orders";if(!(B.value>0))return"Target is required for Bracket orders"}return null}();if(A)q.showSnackbar(2,A);else try{if(p.value=!0,3===s.value){let r;const s=">"===m.value?"A_O":"B_O",c=`${"Perc. change"===h.value?"CH_PER":h.value}_${s}`,d=sessionStorage.getItem("userid");r=_.value?{uid:d,ai_t:"LMT_BOS_O",al_id:"mod-GTT"===P.value&&(null==(t=D.value)?void 0:t.al_id)?D.value.al_id:"",validity:"GTT",tsym:x.tsym,exch:x.exch,oivariable:[{d:String(v.value||0),var_name:"x"},{d:String(N.value||0),var_name:"y"}],place_order_params:{tsym:x.tsym,exch:x.exch,trantype:n.value?"S":"B",prctyp:l.value,prd:i.value,ret:"DAY",actid:d,uid:d,ordersource:"TP",qty:String(f.value*Number(x.ls||1)),prc:"MKT"===l.value||"SL-MKT"===l.value?"0":String(g.value||0),trgprc:String(y.value||0)},place_order_params_leg2:{tsym:x.tsym,exch:x.exch,trantype:n.value?"S":"B",prctyp:S.value,prd:i.value,ret:"DAY",actid:d,uid:d,ordersource:"TP",qty:String(k.value*Number(x.ls||1)),prc:"MKT"===S.value||"SL-MKT"===S.value?"0":String(V.value||0),trgprc:String(C.value||0)}}:{uid:d,tsym:x.tsym,exch:x.exch,ai_t:c,al_id:"mod-GTT"===P.value&&(null==(o=D.value)?void 0:o.al_id)?D.value.al_id:"",validity:"GTT",d:String(v.value||0),trantype:n.value?"S":"B",prctyp:l.value,prd:i.value,ret:"DAY",actid:d,qty:String(f.value*Number(x.ls||1)),prc:"MKT"===l.value||"SL-MKT"===l.value?"0":String(g.value||0),trgprc:String(y.value||0)};let u="PlaceGTTOrder";"mod-GTT"===P.value&&(null==(b=D.value)?void 0:b.norenordno)?u="ModifyGTTOrder":_.value&&(u="PlaceOCOOrder");const p=await getGTTPlaceOrder(r,u);if("Ok"!==(null==p?void 0:p.stat)&&"OI created"!==(null==p?void 0:p.stat)&&"OI replaced"!==(null==p?void 0:p.stat))q.showSnackbar(2,(null==p?void 0:p.emsg)||"GTT order failed");else{e||(a.value=!1,await nextTick());const t="OI created"===(null==p?void 0:p.stat)?"GTT Order have been Placed":"OI replaced"===(null==p?void 0:p.stat)?"GTT Order have been Modified":"ModifyGTTOrder"===u?"GTT order modified":"GTT order placed";q.showSnackbar(1,t);try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"gtt"}}))}catch(F){}}return}const r={uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),exch:x.exch,tsym:x.tsym,ret:O.value?M.value:"DAY",qty:c.value.toString(),prc:"MKT"===l.value||"SL-MKT"===l.value?"0":String(d.value),prd:1===s.value?"H":2===s.value?"B":i.value,trantype:n.value?"S":"B",prctyp:l.value};"SL-LMT"!==l.value&&"SL-MKT"!==l.value||(r.trgprc=String(u.value)),1!==s.value&&2!==s.value||T.value&&(r.blprc=String(T.value)),2===s.value&&B.value&&(r.bpprc=String(B.value)),E.value&&(r.dscqty=String(E.value)),I.value&&(r.amo="Yes"),!$.value||"MKT"!==l.value&&"SL-MKT"!==l.value||(r.mktProt=String($.value));let A="place";if("mod-order"===P.value&&(A="mod"),"exit-order"===P.value&&(A="can-ex"),"re-order"===P.value&&(A="re"),"mod"===A||"can-ex"===A){const e=null==(w=D.value)?void 0:w.norenordno;e&&(r.norenordno=e)}const z=await getPlaceOrder(r,A);if("Ok"!==(null==z?void 0:z.stat))q.showSnackbar(2,(null==z?void 0:z.emsg)||"Order failed");else{e||(a.value=!1,await nextTick()),q.showSnackbar(1,"Order placed successfully");try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"orders"}}))}catch(F){}if("order"===P.value)try{await setOrdprefApi({quickord:R.value,ordsrcpop:L.value,investype:i.value,prc:l.value,ordqty:c.value},!0)}catch(e2){}}}catch(e2){q.showSnackbar(2,"Failed to place order")}finally{p.value=!1,a.value=!1}}return onMounted(()=>{H||(window.addEventListener("menudialog",oe),H=!0,console.log("[StockOrderWindow] Event listener registered")),window.addEventListener("web-scoketConn",e=>{const t=e.detail;t&&r.value[0]&&t.token===r.value[0].token&&(r.value.ltp=Number(t.lp).toFixed(2),r.value.ch=Number(t.ch||0).toFixed(2),r.value.chp=Number(t.chp||0).toFixed(2),te())})}),onBeforeUnmount(()=>{H&&(window.removeEventListener("menudialog",oe),H=!1,z.value=!1,console.log("[StockOrderWindow] Event listener removed"))}),(e,D)=>(openBlock(),createElementBlock("div",null,[createVNode(VDialog,{modelValue:o.value,"onUpdate:modelValue":D[2]||(D[2]=e=>o.value=e),persistent:"",scrim:!1,width:"380px"},{default:withCtx(()=>[createVNode(VCard,{class:"mx-auto py-2 pb-4 text-right rounded-xl elevation-0",color:"cardbg",width:"100%"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 mb-0",color:"transparent",density:"compact"},{default:withCtx(()=>[D[40]||(D[40]=createBaseVNode("span",{class:"font-weight-bold fs-14"},"Slice Order",-1)),createVNode(VSpacer),createVNode(VBtn,{disabled:p.value,onClick:D[0]||(D[0]=e=>(o.value=!1,a.value=!0)),color:"maintext",size:"x-small",variant:"outlined",icon:""},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext"},{default:withCtx(()=>[...D[39]||(D[39]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),createVNode(VDivider,{class:"mb-2"}),createBaseVNode("div",_hoisted_1$u,[createVNode(VBtn,{block:"",onClick:D[1]||(D[1]=e=>ne(!0)),loading:p.value,color:n.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text px-6",height:"40px"},{default:withCtx(()=>[createTextVNode(toDisplayString(n.value?"Sell":"Buy"),1)]),_:1},8,["loading","color"])])]),_:1})]),_:1},8,["modelValue"]),a.value?(openBlock(),createBlock(VCard,{key:0,id:"maindiv",class:normalizeClass(["pb-5 overflow-hidden rounded-lg",L.value?"sticky-dialog":""]),style:normalizeStyle(A.value),color:"cardbg",width:"540px",height:"auto"},{default:withCtx(()=>{var e,a,o,L,A,F;return[createVNode(VCard,{id:"maindivheader",loading:p.value,class:"elevation-0 rounded-b-0 pt-4 pb-2",color:n.value?"secred":"secgreen"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 crd-trn px-2",density:"compact"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold fs-16 maintext--text mb-0"},{default:withCtx(()=>{var e,t;return[createTextVNode(toDisplayString((null==(e=r.value[0])?void 0:e.tsym)||"")+" ",1),createBaseVNode("span",_hoisted_2$s,toDisplayString((null==(t=r.value[0])?void 0:t.exch)||""),1)]}),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 mb-1"},{default:withCtx(()=>[D[41]||(D[41]=createTextVNode("₹",-1)),createBaseVNode("span",null,toDisplayString(U.value),1),createBaseVNode("span",{class:normalizeClass(["fs-12 ml-2",G.value])},toDisplayString(W.value)+" ("+toDisplayString(j.value)+"%)",3)]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VCard,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text mr-4 mt-n5",color:"maingreen"},{default:withCtx(()=>[...D[42]||(D[42]=[createTextVNode("B",-1)])]),_:1}),createVNode(VSwitch,{modelValue:n.value,"onUpdate:modelValue":D[3]||(D[3]=e=>n.value=e),inset:""},null,8,["modelValue"]),createVNode(VCard,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text ml-1 mt-n5",color:"mainred"},{default:withCtx(()=>[...D[43]||(D[43]=[createTextVNode("S",-1)])]),_:1})]),_:1})]),_:1},8,["loading","color"]),r.value[0]?(openBlock(),createElementBlock("div",_hoisted_3$q,[createBaseVNode("div",_hoisted_4$p,[createVNode(VTabs,{modelValue:s.value,"onUpdate:modelValue":[D[4]||(D[4]=e=>s.value=e),ae],density:"compact",class:"mb-2"},{default:withCtx(()=>{var e,t;return[createVNode(VTab,{value:0,class:"text-none"},{default:withCtx(()=>[...D[44]||(D[44]=[createTextVNode("Regular",-1)])]),_:1}),createVNode(VTab,{value:1,class:"text-none"},{default:withCtx(()=>[...D[45]||(D[45]=[createTextVNode("Cover",-1)])]),_:1}),createVNode(VTab,{value:2,class:"text-none"},{default:withCtx(()=>[...D[46]||(D[46]=[createTextVNode("Bracket",-1)])]),_:1}),createVNode(VTab,{value:3,class:"text-none"},{default:withCtx(()=>[...D[47]||(D[47]=[createTextVNode("GTT",-1)])]),_:1}),"NSE"===(null==(e=r.value[0])?void 0:e.exch)||"BSE"===(null==(t=r.value[0])?void 0:t.exch)?(openBlock(),createBlock(VTab,{key:0,value:4,class:"text-none"},{default:withCtx(()=>[...D[48]||(D[48]=[createTextVNode("SIP",-1)])]),_:1})):createCommentVNode("",!0)]}),_:1},8,["modelValue"]),3!==s.value&&4!==s.value?(openBlock(),createElementBlock("div",_hoisted_5$p,[D[49]||(D[49]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-0"},"Investment type",-1)),createVNode(VRadioGroup,{"onUpdate:modelValue":[ae,D[5]||(D[5]=e=>i.value=e)],modelValue:i.value,inline:"","hide-details":""},{default:withCtx(()=>[createVNode(VRadio,{color:"maintext",label:"Intraday",value:"I"}),"NSE"===r.value[0].exch||"BSE"===r.value[0].exch?(openBlock(),createBlock(VRadio,{key:0,color:"maintext",label:"Delivery",value:"C"})):(openBlock(),createBlock(VRadio,{key:1,color:"maintext",label:"Carry Forward",value:"M"}))]),_:1},8,["modelValue"])])):createCommentVNode("",!0),3!==s.value&&4!==s.value?(openBlock(),createElementBlock("div",_hoisted_6$p,[D[54]||(D[54]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-0 mt-2"},"Select order type",-1)),createVNode(VChipGroup,{modelValue:l.value,"onUpdate:modelValue":[D[6]||(D[6]=e=>l.value=e),ae],row:""},{default:withCtx(()=>[createVNode(VChip,{value:"LMT",color:"LMT"===l.value?"maintext":"secbg","text-color":"LMT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[50]||(D[50]=[createTextVNode(" Limit ",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"MKT",color:"MKT"===l.value?"maintext":"secbg","text-color":"MKT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[51]||(D[51]=[createTextVNode(" Market ",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-LMT",color:"SL-LMT"===l.value?"maintext":"secbg","text-color":"SL-LMT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[52]||(D[52]=[createTextVNode(" SL Limit ",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-MKT",color:"SL-MKT"===l.value?"maintext":"secbg","text-color":"SL-MKT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[53]||(D[53]=[createTextVNode(" SL Mkt ",-1)])]),_:1},8,["color","text-color"])]),_:1},8,["modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$p,[D[55]||(D[55]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Quantity",-1)),createBaseVNode("p",_hoisted_8$p,"MLot: "+toDisplayString((null==(e=r.value[0])?void 0:e.ls)??"-"),1)]),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",type:"number",modelValue:c.value,"onUpdate:modelValue":D[9]||(D[9]=e=>c.value=e),modelModifiers:{number:!0},"hide-details":"",onInput:te},{append:withCtx(()=>[createVNode(VBtn,{onClick:D[7]||(D[7]=e=>function(){const e=r.value[0];if(!e)return;const t=Number(e.ls||1),a="MCX"===e.exch?1:t;let o=Math.round(Number(c.value)/t)*t;c.value=Number(c.value)!==o?o:Number(c.value)+a,te()}()),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[56]||(D[56]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":withCtx(()=>[createVNode(VBtn,{onClick:D[8]||(D[8]=e=>function(){const e=r.value[0];if(!e)return;const t=Number(e.ls||1),a="MCX"===e.exch?1:t;let o=Math.floor(Number(c.value)/t)*t;Number(c.value)!==o?c.value=o:Number(c.value)>a&&(c.value-=a),te()}()),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[57]||(D[57]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue"]),r.value[1]?(openBlock(),createElementBlock("p",_hoisted_9$p,"Freeze qty: "+toDisplayString((null==(a=r.value[1])?void 0:a.frzqty)??"-"),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_10$p,[D[58]||(D[58]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Price",-1)),createBaseVNode("p",_hoisted_11$p,[createBaseVNode("span",_hoisted_12$p,"MLot: "+toDisplayString((null==(o=r.value[0])?void 0:o.ls)??"-"),1),createTextVNode(" Tick: "+toDisplayString((null==(L=r.value[0])?void 0:L.ti)??"-"),1)])]),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",type:"number",readonly:"MKT"===l.value||"SL-MKT"===l.value,modelValue:d.value,"onUpdate:modelValue":D[10]||(D[10]=e=>d.value=e),modelModifiers:{number:!0},"hide-details":"",onInput:te},{append:withCtx(()=>["MKT"===l.value||"SL-MKT"===l.value?(openBlock(),createElementBlock("svg",_hoisted_13$o,[...D[59]||(D[59]=[createBaseVNode("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),createBaseVNode("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):createCommentVNode("",!0)]),_:1},8,["readonly","modelValue"]),r.value[1]?(openBlock(),createElementBlock("p",_hoisted_14$n,"Circuit level: "+toDisplayString((null==(A=r.value[1])?void 0:A.lc)??"-")+" - "+toDisplayString((null==(F=r.value[1])?void 0:F.uc)??"-"),1)):createCommentVNode("",!0),"SL-LMT"===l.value||"SL-MKT"===l.value?(openBlock(),createBlock(VTextField,{key:4,class:"mt-2",density:"compact","bg-color":"secbg",variant:"flat",type:"number",modelValue:u.value,"onUpdate:modelValue":D[11]||(D[11]=e=>u.value=e),modelModifiers:{number:!0},label:"Trigger price","hide-details":""},null,8,["modelValue"])):createCommentVNode("",!0),1===s.value||2===s.value?(openBlock(),createElementBlock("div",_hoisted_15$l,[D[60]||(D[60]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-0"},"Stop Loss",-1)),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",type:"number",modelValue:T.value,"onUpdate:modelValue":D[12]||(D[12]=e=>T.value=e),modelModifiers:{number:!0},"hide-details":""},null,8,["modelValue"])])):createCommentVNode("",!0),2===s.value?(openBlock(),createElementBlock("div",_hoisted_16$g,[D[61]||(D[61]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-0"},"Target",-1)),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",type:"number",modelValue:B.value,"onUpdate:modelValue":D[13]||(D[13]=e=>B.value=e),modelModifiers:{number:!0},"hide-details":""},null,8,["modelValue"])])):createCommentVNode("",!0),3===s.value?(openBlock(),createElementBlock("div",_hoisted_17$g,[D[90]||(D[90]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-2"},"Select order type",-1)),createVNode(VChipGroup,{modelValue:l.value,"onUpdate:modelValue":[D[14]||(D[14]=e=>l.value=e),ae],row:"",class:"mb-3"},{default:withCtx(()=>[createVNode(VChip,{value:"LMT",color:"LMT"===l.value?"maintext":"secbg","text-color":"LMT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[62]||(D[62]=[createTextVNode("Limit",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"MKT",color:"MKT"===l.value?"maintext":"secbg","text-color":"MKT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[63]||(D[63]=[createTextVNode("Market",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-LMT",color:"SL-LMT"===l.value?"maintext":"secbg","text-color":"SL-LMT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[64]||(D[64]=[createTextVNode("SL Limit",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-MKT",color:"SL-MKT"===l.value?"maintext":"secbg","text-color":"SL-MKT"===l.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[65]||(D[65]=[createTextVNode("SL Mkt",-1)])]),_:1},8,["color","text-color"])]),_:1},8,["modelValue"]),createVNode(VDivider,{class:"mb-2"}),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"pb-2 pr-1"},{default:withCtx(()=>[D[66]||(D[66]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Alert",-1)),createVNode(VSelect,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",items:">"===m.value?b.value:w.value,disabled:_.value,"onUpdate:modelValue":[D[15]||(D[15]=e=>"VOLUME"===h.value?m.value=">":""),D[16]||(D[16]=e=>h.value=e)],modelValue:h.value,"hide-details":""},null,8,["items","disabled","modelValue"])]),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 px-1"},{default:withCtx(()=>[D[67]||(D[67]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Condition",-1)),createVNode(VSelect,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",items:x.value,disabled:_.value||"VOLUME"===h.value,modelValue:m.value,"onUpdate:modelValue":D[17]||(D[17]=e=>m.value=e),"hide-details":""},null,8,["items","disabled","modelValue"])]),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 pl-1"},{default:withCtx(()=>[D[68]||(D[68]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Value",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:v.value,"onUpdate:modelValue":D[18]||(D[18]=e=>v.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VDivider,{class:"mb-2 mt-2"}),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"pb-2 pr-1"},{default:withCtx(()=>{var e,t;return[D[71]||(D[71]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Quantity",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:f.value,"onUpdate:modelValue":D[21]||(D[21]=e=>f.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=r.value[0])?void 0:e.ls)||1,step:(null==(t=r.value[0])?void 0:t.ls)||1,"hide-spin-buttons":"","hide-details":""},{append:withCtx(()=>[createVNode(VBtn,{onClick:D[19]||(D[19]=e=>{var t;return f.value=Number(f.value)+Number((null==(t=r.value[0])?void 0:t.ls)||1)}),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[69]||(D[69]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":withCtx(()=>[createVNode(VBtn,{onClick:D[20]||(D[20]=e=>{var t,a;return f.value==((null==(t=r.value[0])?void 0:t.ls)||1)?f.value:f.value=Number(f.value)-Number((null==(a=r.value[0])?void 0:a.ls)||1)}),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[70]||(D[70]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue","min","step"])]}),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 px-1"},{default:withCtx(()=>[D[73]||(D[73]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Price",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",disabled:"MKT"===l.value||"SL-MKT"===l.value,modelValue:g.value,"onUpdate:modelValue":D[22]||(D[22]=e=>g.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":"",onInput:te},{append:withCtx(()=>["MKT"===l.value||"SL-MKT"===l.value?(openBlock(),createElementBlock("svg",_hoisted_18$g,[...D[72]||(D[72]=[createBaseVNode("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),createBaseVNode("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):createCommentVNode("",!0)]),_:1},8,["disabled","modelValue"])]),_:1}),"SL-LMT"===l.value||"SL-MKT"===l.value?(openBlock(),createBlock(VCol,{key:0,cols:"4",class:"pb-2 pl-1"},{default:withCtx(()=>[D[74]||(D[74]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:y.value,"onUpdate:modelValue":D[23]||(D[23]=e=>y.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0)]),_:1}),createVNode(VDivider,{class:"mb-2 mt-2"}),createVNode(VBtn,{class:"font-weight-bold mb-2",color:_.value?"primary":"maintext",variant:"text",height:"40px",block:"",onClick:D[24]||(D[24]=e=>{_.value=!_.value,_.value?(h.value="LTP",m.value=">"):(h.value="LTP",m.value="<")})},{default:withCtx(()=>[D[75]||(D[75]=createTextVNode(" OCO ",-1)),createVNode(VIcon,{class:"ml-auto"},{default:withCtx(()=>[createTextVNode(toDisplayString(_.value?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1},8,["color"]),_.value?(openBlock(),createElementBlock("div",_hoisted_19$f,[D[89]||(D[89]=createBaseVNode("p",{class:"subtext--text fs-14 font-weight-regular mb-2"},"Select order type",-1)),createVNode(VChipGroup,{modelValue:S.value,"onUpdate:modelValue":[D[25]||(D[25]=e=>S.value=e),te],row:"",class:"mb-3"},{default:withCtx(()=>[createVNode(VChip,{value:"LMT",color:"LMT"===S.value?"maintext":"secbg","text-color":"LMT"===S.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[76]||(D[76]=[createTextVNode("Limit",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"MKT",color:"MKT"===S.value?"maintext":"secbg","text-color":"MKT"===S.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[77]||(D[77]=[createTextVNode("Market",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-LMT",color:"SL-LMT"===S.value?"maintext":"secbg","text-color":"SL-LMT"===S.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[78]||(D[78]=[createTextVNode("SL Limit",-1)])]),_:1},8,["color","text-color"]),createVNode(VChip,{value:"SL-MKT",color:"SL-MKT"===S.value?"maintext":"secbg","text-color":"SL-MKT"===S.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[79]||(D[79]=[createTextVNode("SL Mkt",-1)])]),_:1},8,["color","text-color"])]),_:1},8,["modelValue"]),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"pb-2 pr-1"},{default:withCtx(()=>[D[80]||(D[80]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Alert",-1)),createVNode(VSelect,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",items:["LTP"],value:"LTP",disabled:"","hide-details":""})]),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 px-1"},{default:withCtx(()=>[D[81]||(D[81]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Condition",-1)),createVNode(VSelect,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",items:["<"],value:"<",disabled:"","hide-details":""})]),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 pl-1"},{default:withCtx(()=>[D[82]||(D[82]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Value",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:N.value,"onUpdate:modelValue":D[26]||(D[26]=e=>N.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VDivider,{class:"mb-2 mt-2"}),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"pb-2 pr-1"},{default:withCtx(()=>{var e,t;return[D[85]||(D[85]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Quantity",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:k.value,"onUpdate:modelValue":D[29]||(D[29]=e=>k.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=r.value[0])?void 0:e.ls)||1,step:(null==(t=r.value[0])?void 0:t.ls)||1,"hide-spin-buttons":"","hide-details":""},{append:withCtx(()=>[createVNode(VBtn,{onClick:D[27]||(D[27]=e=>{var t;return k.value=Number(k.value)+Number((null==(t=r.value[0])?void 0:t.ls)||1)}),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[83]||(D[83]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":withCtx(()=>[createVNode(VBtn,{onClick:D[28]||(D[28]=e=>{var t,a;return k.value==((null==(t=r.value[0])?void 0:t.ls)||1)?k.value:k.value=Number(k.value)-Number((null==(a=r.value[0])?void 0:a.ls)||1)}),icon:"",class:"elevation-0"},{default:withCtx(()=>[...D[84]||(D[84]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue","min","step"])]}),_:1}),createVNode(VCol,{cols:"4",class:"pb-2 px-1"},{default:withCtx(()=>{var e,t;return[D[87]||(D[87]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Price",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",disabled:"MKT"===S.value||"SL-MKT"===S.value,modelValue:V.value,"onUpdate:modelValue":D[30]||(D[30]=e=>V.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=r.value[1])?void 0:e.lc)||0,max:(null==(t=r.value[1])?void 0:t.uc)||999999,"hide-spin-buttons":"","hide-details":""},{append:withCtx(()=>["MKT"===S.value||"SL-MKT"===S.value?(openBlock(),createElementBlock("svg",_hoisted_20$f,[...D[86]||(D[86]=[createBaseVNode("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),createBaseVNode("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):createCommentVNode("",!0)]),_:1},8,["disabled","modelValue","min","max"])]}),_:1}),"SL-LMT"===S.value||"SL-MKT"===S.value?(openBlock(),createBlock(VCol,{key:0,cols:"4",class:"pb-2 pl-1"},{default:withCtx(()=>[D[88]||(D[88]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),createVNode(VTextField,{density:"compact",variant:"flat","bg-color":"secbg",class:"rounded-pill",modelValue:C.value,"onUpdate:modelValue":D[31]||(D[31]=e=>C.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0)]),_:1})])):createCommentVNode("",!0)])):createCommentVNode("",!0),3!==s.value&&4!==s.value?(openBlock(),createElementBlock("div",_hoisted_21$f,[createVNode(VCheckbox,{color:"maintext",modelValue:O.value,"onUpdate:modelValue":D[32]||(D[32]=e=>O.value=e),"hide-details":""},{label:withCtx(()=>[...D[91]||(D[91]=[createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"Add Validity & Disclosed Qty",-1)])]),_:1},8,["modelValue"]),O.value?(openBlock(),createElementBlock("div",_hoisted_22$f,[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pr-1"},{default:withCtx(()=>[D[95]||(D[95]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Validity",-1)),createVNode(VChipGroup,{modelValue:M.value,"onUpdate:modelValue":[D[33]||(D[33]=e=>M.value=e),te],column:""},{default:withCtx(()=>{var e,t,a,o;return["BSE"!==(null==(e=r.value[0])?void 0:e.exch)?(openBlock(),createBlock(VChip,{key:0,value:"IOC",color:"IOC"===M.value?"maintext":"secbg","text-color":"IOC"===M.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[92]||(D[92]=[createTextVNode("IOC",-1)])]),_:1},8,["color","text-color"])):createCommentVNode("",!0),"BFO"!==(null==(t=r.value[0])?void 0:t.exch)&&"BCD"!==(null==(a=r.value[0])?void 0:a.exch)||"BSE"===(null==(o=r.value[0])?void 0:o.exch)?createCommentVNode("",!0):(openBlock(),createBlock(VChip,{key:1,value:"EOS",color:"EOS"===M.value?"maintext":"secbg","text-color":"EOS"===M.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[93]||(D[93]=[createTextVNode("EOS",-1)])]),_:1},8,["color","text-color"])),createVNode(VChip,{value:"DAY",color:"DAY"===M.value?"maintext":"secbg","text-color":"DAY"===M.value?"mainbg":"maintext"},{default:withCtx(()=>[...D[94]||(D[94]=[createTextVNode("Day",-1)])]),_:1},8,["color","text-color"])]}),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"6",class:"pl-1"},{default:withCtx(()=>[D[96]||(D[96]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Disclosed Qty",-1)),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",type:"number","hide-spin-buttons":"",min:"0",modelValue:E.value,"onUpdate:modelValue":D[34]||(D[34]=e=>E.value=e),modelModifiers:{number:!0},"hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_23$f,[createVNode(VCheckbox,{color:"maintext",modelValue:I.value,"onUpdate:modelValue":D[35]||(D[35]=e=>I.value=e),"hide-details":""},{label:withCtx(()=>[...D[97]||(D[97]=[createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"After market order (AMO)",-1)])]),_:1},8,["modelValue"])]),3===s.value||4===s.value||"MKT"!==l.value&&"SL-MKT"!==l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_24$f,[createVNode(VDivider,{class:"mb-3"}),D[98]||(D[98]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Market Protection %",-1)),createVNode(VTextField,{density:"compact","bg-color":"secbg",variant:"flat",class:"rounded-pill",modelValue:$.value,"onUpdate:modelValue":D[36]||(D[36]=e=>$.value=e),modelModifiers:{number:!0},type:"number",min:"0",max:"20",step:"0.01","hide-spin-buttons":"","hide-details":"auto","persistent-hint":"",hint:"Enter a value between 1 to 20",onInput:Z,onBlur:ee},null,8,["modelValue"])])),createBaseVNode("div",_hoisted_25$e,[createVNode(VBtn,{text:"",block:"",color:"primary",variant:"text",class:"rounded-pill text-none",onClick:D[37]||(D[37]=e=>R.value=!R.value)},{default:withCtx(()=>[createTextVNode(toDisplayString(R.value?"Advanced order ":"Quick order ")+" ",1),createVNode(VIcon,{size:"16"},{default:withCtx(()=>[createTextVNode(toDisplayString(R.value?"mdi-chevron-double-left":"mdi-chevron-double-right"),1)]),_:1})]),_:1})]),createVNode(VDivider,{class:"my-3"}),createBaseVNode("div",_hoisted_26$e,[createBaseVNode("p",_hoisted_27$e,[D[101]||(D[101]=createBaseVNode("span",null,"Margin ",-1)),createBaseVNode("span",_hoisted_28$e,[createBaseVNode("b",null,"₹"+toDisplayString(X.value),1),D[99]||(D[99]=createBaseVNode("span",{class:"ml-1"}," + ",-1)),createBaseVNode("span",_hoisted_29$e,[createBaseVNode("b",null,"₹"+toDisplayString(Q.value),1)])]),createVNode(VIcon,{class:"ml-1",size:"14",color:"maintext"},{default:withCtx(()=>[...D[100]||(D[100]=[createTextVNode("mdi-information-outline",-1)])]),_:1})])]),createBaseVNode("div",_hoisted_30$e,[createBaseVNode("p",_hoisted_31$c,[D[103]||(D[103]=createBaseVNode("span",null,"Avail ",-1)),createBaseVNode("span",_hoisted_32$b,[createBaseVNode("b",null,"₹"+toDisplayString(J.value),1)]),createBaseVNode("span",{class:"ml-1 primary--text cursor-pointer",onClick:D[38]||(D[38]=e=>unref(t).push("/funds"))},"+ Add fund"),createVNode(VIcon,{class:"ml-1",size:"14",color:"mainred"},{default:withCtx(()=>[...D[102]||(D[102]=[createTextVNode("mdi-alert-octagon",-1)])]),_:1})])])])])):createCommentVNode("",!0),createVNode(VDivider),3!==s.value?(openBlock(),createElementBlock("div",_hoisted_33$a,[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pr-2"},{default:withCtx(()=>[createVNode(VBtn,{block:"",onClick:re,color:"secbg",disabled:p.value,class:"text-none rounded-pill elevation-0 subtext--text",height:"40px"},{default:withCtx(()=>[...D[104]||(D[104]=[createTextVNode("Cancel",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VCol,{cols:"6",class:"pl-2"},{default:withCtx(()=>[createVNode(VBtn,{block:"",onClick:ne,loading:p.value,color:n.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text",height:"40px"},{default:withCtx(()=>[createTextVNode(toDisplayString("mod-order"===P.value?"Modify":n.value?"Sell":"Buy"),1)]),_:1},8,["loading","color"])]),_:1})]),_:1})])):(openBlock(),createBlock(VToolbar,{key:2,class:"tool-sty elevation-0 pt-4 mb-3 px-6",color:"cardbg",density:"compact"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{onClick:re,color:"secbg",disabled:p.value,class:"text-none rounded-pill elevation-0 subtext--text px-6",height:"40px"},{default:withCtx(()=>[...D[105]||(D[105]=[createTextVNode("Cancel",-1)])]),_:1},8,["disabled"]),createVNode(VBtn,{onClick:ne,loading:p.value,disabled:!1,color:n.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text px-6 ml-4",height:"40px"},{default:withCtx(()=>[createTextVNode(toDisplayString("mod-GTT"===P.value?"Modify":"Create")+" "+toDisplayString(_.value?"OCO":"GTT"),1)]),_:1},8,["loading","color"])]),_:1}))]}),_:1},8,["class","style"])):createCommentVNode("",!0)]))}},makeVAppProps=propsFactory({...makeComponentProps(),...omit(makeLayoutProps(),["fullHeight"]),...makeThemeProps()},"VApp"),VApp=genericComponent()({name:"VApp",props:makeVAppProps(),setup(e,t){let{slots:a}=t;const o=provideTheme(e),{layoutClasses:r,getLayoutItem:n,items:i,layoutRef:l}=createLayout({...e,fullHeight:!0}),{rtlClasses:s}=useRtl();return useRender(()=>{var t;return createBaseVNode("div",{ref:l,class:normalizeClass(["v-application",o.themeClasses.value,r.value,s.value,e.class]),style:normalizeStyle([e.style])},[createBaseVNode("div",{class:"v-application__wrap"},[null==(t=a.default)?void 0:t.call(a)])])}),{getLayoutItem:n,items:i,theme:o}}}),_sfc_main$T={__name:"App",setup:e=>(e,t)=>{const a=resolveComponent("router-view");return openBlock(),createBlock(VApp,null,{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(a),createVNode(_sfc_main$U)])]),_:1})}},_imports_0$8="/assets/MYNT%20App%20Logo_v2-1NMHhwFJ.svg",_export_sfc=(e,t)=>{const a=e.__vccOpts||e;for(const[o,r]of t)a[o]=r;return a};function useCountdown(e){const t=shallowRef(e());let a=-1;function o(){clearInterval(a)}return onScopeDispose(o),{clear:o,time:t,start:function(r){const n=r?getComputedStyle(r):{transitionDuration:.2},i=1e3*parseFloat(n.transitionDuration)||200;if(o(),t.value<=0)return;const l=performance.now();a=window.setInterval(()=>{const a=performance.now()-l+i;t.value=Math.max(e()-a,0),t.value<=0&&o()},i)},reset:function(){o(),nextTick(()=>t.value=e())}}}const makeVSnackbarProps=propsFactory({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...makeLocationProps({location:"bottom"}),...makePositionProps(),...makeRoundedProps(),...makeVariantProps(),...makeThemeProps(),...omit(makeVOverlayProps({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),VSnackbar=genericComponent()({name:"VSnackbar",props:makeVSnackbarProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),{positionClasses:r}=usePosition(e),{scopeId:n}=useScopeId(),{themeClasses:i}=provideTheme(e),{colorClasses:l,colorStyles:s,variantClasses:c}=useVariant(e),{roundedClasses:d}=useRounded(e),u=useCountdown(()=>Number(e.timeout)),p=ref$1(),h=ref$1(),m=shallowRef(!1),v=shallowRef(0),f=ref$1(),g=inject(VuetifyLayoutKey,void 0);useToggleScope(()=>!!g,()=>{const e=useLayout();watchEffect(()=>{f.value=e.mainStyles.value})}),watch(o,_),watch(()=>e.timeout,_),onMounted(()=>{o.value&&_()});let y=-1;function _(){u.reset(),window.clearTimeout(y);const t=Number(e.timeout);if(!o.value||-1===t)return;const a=refElement(h.value);u.start(a),y=window.setTimeout(()=>{o.value=!1},t)}function b(){m.value=!0,u.reset(),window.clearTimeout(y)}function w(){m.value=!1,_()}function x(e){v.value=e.touches[0].clientY}function V(e){Math.abs(v.value-e.changedTouches[0].clientY)>50&&(o.value=!1)}function k(){m.value&&w()}const C=computed(()=>e.location.split(" ").reduce((e,t)=>(e[`v-snackbar--${t}`]=!0,e),{}));return useRender(()=>{const t=VOverlay.filterProps(e),v=!!(a.default||a.text||e.text);return createVNode(VOverlay,mergeProps({ref:p,class:["v-snackbar",{"v-snackbar--active":o.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,r.value,e.class],style:[f.value,e.style]},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,contentProps:mergeProps({class:["v-snackbar__wrapper",i.value,l.value,d.value,c.value],style:[s.value],onPointerenter:b,onPointerleave:w},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:x,onTouchend:V,onAfterLeave:k},n),{default:()=>{var t,r;return[genOverlays(!1,"v-snackbar"),e.timer&&!m.value&&createBaseVNode("div",{key:"timer",class:"v-snackbar__timer"},[createVNode(VProgressLinear,{ref:h,color:"string"==typeof e.timer?e.timer:"info",max:e.timeout,modelValue:u.time.value},null)]),v&&createBaseVNode("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(null==(t=a.text)?void 0:t.call(a))??e.text,null==(r=a.default)?void 0:r.call(a)]),a.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[createBaseVNode("div",{class:"v-snackbar__actions"},[a.actions({isActive:o})])]})]},activator:a.activator})}),forwardRefs({},p)}}),_sfc_main$S={name:"v-snackbars",inheritAttrs:!1,props:{messages:{type:Array,default:()=>[]},timeout:{type:[Number,String],default:5e3},distance:{type:[Number,String],default:55},objects:{type:Array,default:()=>[]}},data:()=>({len:0,snackbars:[],keys:[],heights:{},identifier:Date.now()+(Math.random()+"").slice(2)}),components:{"css-style":{render:function(e){return e("style",this.$slots.default)}}},computed:{allMessages(){return this.objects.length>0?this.objects.map(e=>e.message):this.messages},indexPosition(){let e={},t={topCenter:0,topLeft:0,topRight:0,bottomCenter:0,bottomLeft:0,bottomRight:0};return this.snackbars.forEach(a=>{!a.top||a.left||a.right||(e[a.key]=t.topCenter++),a.top&&a.left&&(e[a.key]=t.topLeft++),a.top&&a.right&&(e[a.key]=t.topRight++),!a.bottom||a.left||a.right||(e[a.key]=t.bottomCenter++),a.bottom&&a.left&&(e[a.key]=t.bottomLeft++),a.bottom&&a.right&&(e[a.key]=t.bottomRight++)}),e},topOrBottom(){let e={};return this.snackbars.forEach(t=>{e[t.key]=t.top?"top":"bottom"}),e}},watch:{messages(){this.eventify(this.messages)},objects:{handler(){this.eventify(this.objects)},deep:!0}},methods:{getProp(e,t){return this.objects.length>t&&void 0!==this.objects[t][e]?this.objects[t][e]:void 0!==this.$attrs[e]?this.$attrs[e]:void 0!==this[e]?this[e]:void 0},setSnackbars(){for(let e=this.snackbars.length;e<this.allMessages.length;e++){let t=e+"-"+Date.now(),a=this.getProp("top",e),o=this.getProp("bottom",e),r=this.getProp("left",e),n=this.getProp("right",e);a=""===a||a,o=""===o||o,r=""===r||r,n=""===n||n,o||a||(o=!0),this.snackbars.push({key:t,message:this.allMessages[e],top:a,bottom:o,left:r,right:n,color:this.getProp("color",e)||"black",contentClass:this.getProp("content-class",e)||this.getProp("contentClass",e)||"",timeout:null,transition:this.getProp("transition",e)||(n?"slide-x-reverse-transition":"slide-x-transition"),show:!1}),this.keys.push(t),this.$nextTick(function(){this.snackbars[e].show=!0,this.$nextTick(function(){let a=this.distance,o=document.querySelector(".v-snackbars-"+this.identifier+"-"+t);if(o){let e=o.querySelector(".v-snack__wrapper");e&&(a=e.clientHeight+7)}this.$set(this.heights,t,a);let r=this.getProp("timeout",e);r>0&&(this.snackbars[e].timeout=setTimeout(()=>this.removeMessage(t,!0),1*r))})})}},removeMessage(e,t){let a=this.snackbars.findIndex(t=>t.key===e);if(a>-1){this.snackbars[a].show=!1;let o=()=>{let a=this.snackbars.findIndex(t=>t.key===e);this.snackbars.splice(a,1),this.keys=this.keys.filter(t=>t!==e),delete this.heights[e],t&&(this.$emit("update:messages",this.allMessages.filter((e,t)=>t!==a)),this.$emit("update:objects",this.objects.filter((e,t)=>t!==a)))};this.snackbars[a].timeout&&clearTimeout(this.snackbars[a].timeout);let r=setTimeout(o,600),n=this.$refs["v-snackbars-"+this.identifier];if(!n||!n[a])return;n[a].$el.addEventListener("transitionend",()=>{clearTimeout(r),o()},{once:!0})}},calcDistance(e){let t=0,a=this.snackbars.find(t=>t.key===e);if(!a)return 0;for(let o=0;o<this.snackbars.length&&this.snackbars[o].key!==e;o++)this.snackbars[o].show&&this.snackbars[o].bottom===a.bottom&&this.snackbars[o].top===a.top&&this.snackbars[o].right===a.right&&this.snackbars[o].left===a.left&&(t+=this.heights[this.snackbars[o].key]||0);return t},eventify(e){let t=this;e.isEventified||function(e){e.isEventified=!0;let a=e.push;e.push=function(o){a.call(e,o),t.setSnackbars()};let o=e.splice;e.splice=function(){let a=[],r=arguments.length;for(;r--;)a[r]=arguments[r];o.apply(e,a);let n=a[0],i=a[1],l=a.length-2;if(0===l)for(i+=n;n<i;)t.snackbars[n]&&t.removeMessage(t.snackbars[n].key),n++;else if(l>0){for(let e=2;e<l+2;e++)if("string"==typeof a[e])t.$set(t.snackbars[n],"message",a[e]);else if("object"==typeof a[e])for(let o in a[e])if("timeout"===o){let r=1*a[e][o];if(t.snackbars[n].timeout&&(clearTimeout(t.snackbars[n].timeout),t.snackbars[n].timeout=null),r>-1){let e=t.snackbars[n].key;t.snackbars[n].timeout=setTimeout(()=>{t.removeMessage(e,!0)},r)}}else t.$set(t.snackbars[n],o,a[e][o]);n++}}}(e)}},created(){this.eventify(this.messages),this.eventify(this.objects)}};function _sfc_render$2(e,t,a,o,r,n){const i=resolveComponent("css-style");return openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.snackbars,(a,o)=>(openBlock(),createBlock(VSnackbar,mergeProps({ref_for:!0},e.$attrs,{modelValue:a.show,"onUpdate:modelValue":e=>a.show=e,transition:a.transition,top:a.top,bottom:a.bottom,left:a.left,right:a.right,color:a.color,"content-class":a.contentClass,key:a.key,ref_for:!0,ref:"v-snackbars-"+r.identifier,class:"v-snackbars v-snackbars-"+r.identifier+"-"+a.key,timeout:-1}),{default:withCtx(()=>[renderSlot(e.$slots,"default",{message:a.message,id:a.key,index:o},()=>[createTextVNode(toDisplayString(a.message),1)])]),action:withCtx(()=>[renderSlot(e.$slots,"action",{close:()=>n.removeMessage(a.key,!0),id:a.key,index:o,message:a.message},()=>[createVNode(VBtn,{text:"",onClick:e=>n.removeMessage(a.key,!0)},{default:withCtx(()=>[...t[0]||(t[0]=[createTextVNode("close",-1)])]),_:1},8,["onClick"])])]),_:2},1040,["modelValue","onUpdate:modelValue","transition","top","bottom","left","right","color","content-class","class"]))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.keys,(e,t)=>(openBlock(),createBlock(i,{key:e+t},{default:withCtx(()=>[createTextVNode(" .v-snackbars.v-snackbars-"+toDisplayString(r.identifier)+"-"+toDisplayString(e)+" .v-snack__wrapper { transition: "+toDisplayString(n.topOrBottom[e])+" 500ms; "+toDisplayString(n.topOrBottom[e])+": 0; } .v-snackbars.v-snackbars-"+toDisplayString(r.identifier)+"-"+toDisplayString(e)+" > .v-snack__wrapper { "+toDisplayString(n.topOrBottom[e])+":"+toDisplayString(n.calcDistance(e))+"px; } ",1)]),_:2},1024))),128))])}const VSnackbars=_export_sfc(_sfc_main$S,[["render",_sfc_render$2]]),useAuthStore=defineStore("auth",()=>{const e=ref$1(null),t=ref$1(null),a=ref$1(null),o=ref$1(null),r=ref$1(null),n=ref$1(null),i=ref$1({}),l=ref$1(!0),s=(o,r,n)=>{e.value=o,t.value=r,a.value=n};return{uid:e,token:t,mtoken:a,user:o,sessionConfig:r,userdata:n,clientdata:i,loading:l,isAuthenticated:()=>!!e.value&&!!t.value,useris:()=>!!e.value,setAuth:s,setUser:e=>{o.value=e},setSessionConfig:e=>{r.value=e},setUserdata:e=>{n.value=e},setClientdata:e=>{i.value=e},setLoading:e=>{l.value=e},clearAuth:()=>{e.value=null,t.value=null,a.value=null,o.value=null,r.value=null,n.value=null,i.value={},l.value=!0,localStorage.removeItem("client_data")},loadFromSession:()=>{e.value=sessionStorage.getItem("userid"),t.value=sessionStorage.getItem("usession"),a.value=sessionStorage.getItem("msession");const r=localStorage.getItem("profile_data");if(r)try{o.value=JSON.parse(r),console.log(o.value,"user.value")}catch(e2){console.error("Error parsing profile data:",e2),o.value=null}const n=localStorage.getItem("client_data");if(n&&e.value)try{const t=JSON.parse(n);t.uid===e.value&&t.data&&(i.value=t.data,console.log("✅ Clientdata loaded from localStorage:",i.value))}catch(e2){console.error("Error parsing client_data from localStorage:",e2)}},loadFromUrl:()=>{const e=new URL(window.location.href),t=e.searchParams.get("uid"),a=e.searchParams.get("token"),o=e.searchParams.get("sess");"string"==typeof t&&"string"==typeof a&&(localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",a),sessionStorage.setItem("userid",t),sessionStorage.setItem("msession",o),sessionStorage.setItem("imei",e.searchParams.get("imei")),s(t,a,o))},loadFromSharedSession:async()=>{const e=new URL(window.location.href),t=e.searchParams.get("sUserId"),a=e.searchParams.get("sToken");return"string"==typeof t&&"string"==typeof a?{suser:t,stoken:a,pathname:e.pathname}:null},setupAuthFromUrl:()=>{const e=new URL(window.location.href),t=e.searchParams.get("uid"),a=e.searchParams.get("token"),o=e.searchParams.get("sess");return"string"==typeof t&&"string"==typeof a?(localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",a),sessionStorage.setItem("userid",t),sessionStorage.setItem("msession",o),sessionStorage.setItem("imei",e.searchParams.get("imei")),s(t,a,o),{actid:t,tokenParam:a}):null}}}),useNavStore=defineStore("navigation",()=>{const e=useRouter$1();return{menudata:ref$1({}),navigateToStockDetails:(t,a,o,r,n,i)=>{console.log(t,a,o,r,n,i),"detail"===t&&e.push({name:"single stocks",params:{token:a,tsym:r,exch:o}})},triggerLogin:e=>{window.location.assign(`https://desk.zebuetrade.com/mynt/?${e?"mode=QR&":""}url=${window.location.origin+window.location.pathname}`)}}}),useSessionStore=defineStore("session",()=>{const e=ref$1({}),t=ref$1(null),a=ref$1(null);return{mynturl:e,firebaseConfig:t,source:a,initializeConfig:async()=>{if(t.value&&t.value.source)a.value=t.value.source;else try{await fire.get(fire.child(fire.ref(fire.db),"desk/")).then(e=>{e.exists()?(t.value=e.val(),a.value=t.value.source):(t.value="WEB",a.value="WEB")}).catch(e=>{console.error(e),t.value="WEB",a.value="WEB"});const e=new URL(window.location.href).searchParams.get("src"),o=e||sessionStorage.getItem("socsrc");o&&(a.value=o,t.value.source=o,sessionStorage.setItem("socsrc",a.value))}catch(e){console.error("Error initializing config:",e),t.value="WEB",a.value="WEB"}},updateMyntUrl:t=>{console.log("🔄 updateMyntUrl called with config:",t),e.value={...e.value,myntapi:t.url,source:t.source,wss:t.wss,stat:1},apiurl.mynturl=e.value,t.clientid?sessionStorage.setItem(`mynturl_${t.clientid}`,JSON.stringify(e.value)):console.error("❌ No clientid provided, cannot save to sessionStorage")},loadMyntUrl:t=>{const a=sessionStorage.getItem(`mynturl_${t}`);if(console.log("🔍 Looking for mynturl in sessionStorage with key:",`mynturl_${t}`),console.log("🔍 Stored value exists:",!!a),a&&console.log("🔍 Stored value content:",a.substring(0,100)),a)try{return e.value=JSON.parse(a),apiurl.mynturl=e.value,console.log("✅ Successfully loaded mynturl with stat:",e.value.stat),!0}catch(e2){console.error("Error loading mynturl from sessionStorage:",e2)}return console.log("❌ No mynturl found in sessionStorage for uid:",t),!1},getSource:()=>a.value,resetConfig:()=>{e.value={},t.value=null,a.value=null}}}),makeScrollProps=propsFactory({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function useScroll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{canScroll:a}=t;let o=0,r=0;const n=ref$1(null),i=shallowRef(0),l=shallowRef(0),s=shallowRef(0),c=shallowRef(!1),d=shallowRef(!1),u=computed(()=>Number(e.scrollThreshold)),p=computed(()=>clamp((u.value-i.value)/u.value||0)),h=()=>{const e=n.value;if(!e||a&&!a.value)return;o=i.value,i.value="window"in e?e.pageYOffset:e.scrollTop;const t=e instanceof Window?document.documentElement.scrollHeight:e.scrollHeight;r===t?(d.value=i.value<o,s.value=Math.abs(i.value-u.value)):r=t};return watch(d,()=>{l.value=l.value||i.value}),watch(c,()=>{l.value=0}),onMounted(()=>{watch(()=>e.scrollTarget,e=>{var t;const a=e?document.querySelector(e):window;a&&a!==n.value&&(null==(t=n.value)||t.removeEventListener("scroll",h),n.value=a,n.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),onBeforeUnmount(()=>{var e;null==(e=n.value)||e.removeEventListener("scroll",h)}),a&&watch(a,h,{immediate:!0}),{scrollThreshold:u,currentScroll:i,currentThreshold:s,isScrollActive:c,scrollRatio:p,isScrollingUp:d,savedScroll:l}}const makeVAppBarProps=propsFactory({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...makeVToolbarProps(),...makeLayoutItemProps(),...makeScrollProps(),height:{type:[Number,String],default:64}},"VAppBar"),VAppBar=genericComponent()({name:"VAppBar",props:makeVAppBarProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=ref$1(),r=useProxiedModel(e,"modelValue"),n=computed(()=>{var t;const a=new Set((null==(t=e.scrollBehavior)?void 0:t.split(" "))??[]);return{hide:a.has("hide"),fullyHide:a.has("fully-hide"),inverted:a.has("inverted"),collapse:a.has("collapse"),elevate:a.has("elevate"),fadeImage:a.has("fade-image")}}),i=computed(()=>{const e=n.value;return e.hide||e.fullyHide||e.inverted||e.collapse||e.elevate||e.fadeImage||!r.value}),{currentScroll:l,scrollThreshold:s,isScrollingUp:c,scrollRatio:d}=useScroll(e,{canScroll:i}),u=toRef(()=>n.value.hide||n.value.fullyHide),p=computed(()=>e.collapse||n.value.collapse&&(n.value.inverted?d.value>0:0===d.value)),h=computed(()=>e.flat||n.value.fullyHide&&!r.value||n.value.elevate&&(n.value.inverted?l.value>0:0===l.value)),m=computed(()=>n.value.fadeImage?n.value.inverted?1-d.value:d.value:void 0),v=computed(()=>{var e,t;if(n.value.hide&&n.value.inverted)return 0;const a=(null==(e=o.value)?void 0:e.contentHeight)??0,r=(null==(t=o.value)?void 0:t.extensionHeight)??0;return u.value?l.value<s.value||n.value.fullyHide?a+r:a:a+r});useToggleScope(()=>!!e.scrollBehavior,()=>{watchEffect(()=>{u.value?n.value.inverted?r.value=l.value>s.value:r.value=c.value||l.value<s.value:r.value=!0})});const{ssrBootStyles:f}=useSsrBoot(),{layoutItemStyles:g}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(()=>e.location),layoutSize:v,elementSize:shallowRef(void 0),active:r,absolute:toRef(()=>e.absolute)});return useRender(()=>{const t=VToolbar.filterProps(e);return createVNode(VToolbar,mergeProps({ref:o,class:["v-app-bar",{"v-app-bar--bottom":"bottom"===e.location},e.class],style:[{...g.value,"--v-toolbar-image-opacity":m.value,height:void 0,...f.value},e.style]},t,{collapse:p.value,flat:h.value}),a)}),{}}}),makeVAppBarNavIconProps=propsFactory({...omit(makeVBtnProps({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),VAppBarNavIcon=genericComponent()({name:"VAppBarNavIcon",props:makeVAppBarNavIconProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(VBtn,mergeProps(e,{class:["v-app-bar-nav-icon"]}),a)),{}}}),VAppBarTitle=genericComponent()({name:"VAppBarTitle",props:makeVToolbarTitleProps(),setup(e,t){let{slots:a}=t;return useRender(()=>createVNode(VToolbarTitle,mergeProps(e,{class:"v-app-bar-title"}),a)),{}}}),makeVTooltipProps=propsFactory({id:String,interactive:Boolean,text:String,...omit(makeVOverlayProps({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),VTooltip=genericComponent()({name:"VTooltip",props:makeVTooltipProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),{scopeId:r}=useScopeId(),n=useId(),i=toRef(()=>e.id||`v-tooltip-${n}`),l=ref$1(),s=computed(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=computed(()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),d=toRef(()=>null!=e.transition?e.transition:o.value?"scale-transition":"fade-transition"),u=computed(()=>mergeProps({"aria-describedby":i.value},e.activatorProps));return useRender(()=>{const t=VOverlay.filterProps(e);return createVNode(VOverlay,mergeProps({ref:l,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:i.value},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,transition:d.value,absolute:!0,location:s.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:u.value,_disableGlobalStack:!0},r),{activator:a.activator,default:function(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(null==(t=a.default)?void 0:t.call(a,...r))??e.text}})}),forwardRefs({},l)}}),_hoisted_1$t=["src"],_hoisted_2$r={"active-class":"font-weight-bold",class:"menu-text-sty"},_hoisted_3$p=["src"],_hoisted_4$o={class:"font-weight-medium fs-14"},_hoisted_5$o={class:"title font-weight-bold"},_hoisted_6$o=["src"],_hoisted_7$o=["src"],_hoisted_8$o=["src"],_hoisted_9$o=["src"],_hoisted_10$o=["src"],_hoisted_11$o=["src"],_hoisted_12$o=["src"],_hoisted_13$n=["src"],_hoisted_14$m={width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_15$k=["fill"],_hoisted_16$f={class:"mx-auto"},_hoisted_17$f={class:"white--text font-weight-bold fs-14"},_hoisted_18$f=["innerHTML"],_sfc_main$R={__name:"AppBar",setup(e){const t=useRouter$1(),a=useRoute$1(),o=useAuthStore(),r=useAppStore(),n=useNavStore(),i=useSessionStore();let l=null;const s=ref$1(!1),c=ref$1(!1),d=e=>{var t,a,r;console.log("🔵 User ID/Client ID clicked:",{uid:o.uid,clientId:null==(t=o.clientdata)?void 0:t.CLIENT_ID,clientName:null==(a=o.clientdata)?void 0:a.CLIENT_NAME,displayedValue:(null==(r=o.clientdata)?void 0:r.CLIENT_ID)||o.uid||"-",timestamp:(new Date).toISOString()}),s.value=!0,c.value=!0,setTimeout(()=>{s.value=!1},3e3)},u=computed(()=>{var e;const t=o.useris(),a=!(!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&!o.uid);return t&&a}),p=computed(()=>"/positions"===a.path),h=computed(()=>"/holdings"===a.path),m=computed(()=>a.path.startsWith("/orders")),v=computed(()=>"/funds"===a.path),f=computed(()=>"/notification"===a.path),g=computed(()=>"/stocks"===a.path||a.path.startsWith("/stocks/")),y=computed(()=>"/mutualfund"===a.path||a.path.startsWith("/mutualfund/")),_=computed(()=>"/ipo"===a.path||a.path.startsWith("/ipo/")),b=computed(()=>"/bonds"===a.path||a.path.startsWith("/bonds/")),w=computed(()=>"/collection"===a.path||a.path.startsWith("/collection/")),x=e=>"/stocks"===e?g.value:"/mutualfund"===e?y.value:"/ipo"===e?_.value:"/bonds"===e?b.value:"/collection"===e&&w.value,V=ref$1([{txt:"Stocks",path:"/stocks",idx:0},{txt:"Mutual Fund",path:"/mutualfund",idx:1},{txt:"IPOs",path:"/ipo",idx:2},{txt:"Bonds",path:"/bonds",idx:3},{txt:"Collection",path:"/collection",idx:4,type:"Beta"},{txt:"OptionZ",path:"/optionz",idx:5}]),k=async e=>{var t,a,r;console.log("📥 AppBar: Getting user data..."),console.log("📥 Parameters being sent:",{data:e,uid:o.uid,token:o.token?"***":"undefined"});const n=localStorage.getItem("profile_data");console.log("📦 Cached profile_data:",n?"Exists":"None");let i=n||await getProfiledata([e,o.uid,o.token]);if(i=(null==(t=null==i?void 0:i.includes)?void 0:t.call(i,"str"))?JSON.parse(i):i,console.log("🔍 Config after parse:",i),console.log("🔍 config.emsg:",null==i?void 0:i.emsg),console.log("🔍 config.str:",(null==i?void 0:i.str)?"Exists":"Missing"),(null==i?void 0:i.str)&&"invalid token"!==i.emsg){const e=JSON.parse((e=>{const t=e,a=CryptoJS.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),o=CryptoJS.enc.Utf8.parse("3790514682037125"),r=t;return CryptoJS.AES.decrypt(r,a,{iv:o,mode:CryptoJS.mode.CBC}).toString(CryptoJS.enc.Utf8)})(i.str));console.log("✅ User data decrypted:",e),console.log("📋 client_data:",null==e?void 0:e.client_data),(null==e?void 0:e.client_data)?(console.log("✅ Setting clientdata with:",e.client_data),o.setClientdata(e.client_data),o.setUserdata(e),i.uid=o.uid,localStorage.setItem("profile_data",JSON.stringify(i)),localStorage.setItem("client_data",JSON.stringify({uid:o.uid,data:e.client_data})),console.log("✅ User data set in authStore"),console.log("✅ clientdata.CLIENT_NAME:",null==(a=o.clientdata)?void 0:a.CLIENT_NAME),console.log("✅ clientdata.CLIENT_ID:",null==(r=o.clientdata)?void 0:r.CLIENT_ID)):(o.setUserdata(null),o.setClientdata({}),localStorage.removeItem("client_data"),console.log("⚠️ No client_data in response"))}else console.log("⚠️ No valid profile data");console.log("✅ Setting loading to false"),o.setLoading(!1)},C=()=>{n.triggerLogin()},S=async()=>{var e,t;console.log("🔍 AppBar: Checking user session...");let a=sessionStorage.getItem("c3RhdHVz");if(console.log("🔍 Session status:",a),"dmFsaWR1c2Vy"==a)if(console.log("✅ Valid session found, loading user data..."),o.token=sessionStorage.getItem("usession"),o.mtoken=sessionStorage.getItem("msession"),o.uid=sessionStorage.getItem("userid"),!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&o.uid){let e=(e=>{const t=e;var a=CryptoJS.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),o=CryptoJS.enc.Utf8.parse("3790514682037125");return CryptoJS.AES.encrypt(t,a,{iv:o,mode:CryptoJS.mode.CBC}).toString()})(JSON.stringify({client_id:o.uid})),t=JSON.stringify({string:e});await k(t)}else console.log("✅ Clientdata already loaded:",null==(t=o.clientdata)?void 0:t.CLIENT_NAME),o.setLoading(!1);else console.log("❌ No valid session, setting loading to false"),o.setLoading(!1)},N=e=>{r.setConnectionStatus(e)};return onMounted(()=>{o.loadFromSession(),S(),r.checkConnectionSpeed(),navigator.connection&&navigator.connection.addEventListener("change",r.checkConnectionSpeed),window.addEventListener("online",()=>{N(!0)}),window.addEventListener("offline",()=>{N(!1)}),l=setInterval(()=>{var e;"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&o.uid&&!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&(console.log("🔔 Session status is valid, checking user session..."),S(),l&&(clearInterval(l),l=null))},500),setTimeout(()=>{l&&(clearInterval(l),l=null)},1e4)}),onUnmounted(()=>{navigator.connection&&navigator.connection.removeEventListener("change",r.checkConnectionSpeed),window.removeEventListener("online",()=>{N(!0)}),window.removeEventListener("offline",()=>{N(!1)}),l&&(clearInterval(l),l=null)}),watch(()=>o.uid,()=>{o.uid&&setTimeout(()=>{S()},200)}),(e,a)=>{const n=resolveComponent("v-list-item-content"),l=resolveComponent("v-list-item-avatar"),g=resolveComponent("v-list-item-icon");return openBlock(),createElementBlock("div",null,[createVNode(VAppBar,{color:"cardbg",width:"100%",permanent:"",class:"cust-appbar"},{default:withCtx(()=>[createBaseVNode("img",{onClick:a[0]||(a[0]=e=>{t.push("/stocks")}),src:`/src/assets/${e.$vuetify.theme.dark?"logod":"logo"}.svg`,width:"80px",alt:"zebulogo",class:"mr-4"},null,8,_hoisted_1$t),(openBlock(!0),createElementBlock(Fragment,null,renderList(V.value,(e,t)=>(openBlock(),createBlock(VBtn,{to:"/optionz"!=e.path?e.path:"",onClick:t=>(async e=>{if("/optionz"===e.path){if(!o.useris())return void C();const e=await getHsTokenapi();if("Ok"===(null==e?void 0:e.stat)){const t=CryptoJS.enc.Utf8.parse(`sLoginId=${o.uid}&sAccountId=${o.uid}&token=${e.hstk}&sBrokerId=ZEBU`),a=CryptoJS.enc.Base64.stringify(t);window.open(`https://sso.mynt.in/sso?vc=instaoptions&key=${a}`,"_blank")}else r.showSnackbar(2,(null==e?void 0:e.emsg)||e)}})(e),key:t,text:"",plain:"",exact:"",class:normalizeClass(["menu-btn","text-capitalize","d-none","d-sm-flex",{"menu-btn-active":x(e.path)}]),active:x(e.path)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$r,toDisplayString(e.txt),1)]),_:2},1032,["to","onClick","class","active"]))),128)),createVNode(VSpacer),unref(o).useris()?(openBlock(),createBlock(VMenu,{key:0,"close-on-click":"","offset-y":"","max-width":"240px",class:"table-menu"},{activator:withCtx(({on:e,attrs:t})=>[createVNode(VBtn,mergeProps(t,toHandlers(e),{text:"",small:"",class:"mx-1 elevation-0 text-none font-weight-medium subtitle-1 d-none d-md-none d-sm-flex px-2"}),{default:withCtx(()=>[a[7]||(a[7]=createTextVNode(" More ",-1)),createVNode(VIcon,{class:"ml-1"},{default:withCtx(()=>[...a[6]||(a[6]=[createTextVNode("mdi-chevron-down",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VListItem,{to:"/positions"},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[8]||(a[8]=[createTextVNode("Positions",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VListItem,{to:"/holdings"},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[9]||(a[9]=[createTextVNode("Holdings",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VDivider,{class:"mx-3"}),createVNode(VListItem,{to:"/orders"},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[10]||(a[10]=[createTextVNode("Orders",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VListItem,{to:"/funds"},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[11]||(a[11]=[createTextVNode("Fund",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VListItem,{to:"/notification"},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[12]||(a[12]=[createTextVNode("Notification",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0),unref(o).useris()?(openBlock(),createBlock(VBtn,{key:1,to:"/positions",text:"",plain:"",exact:"",class:normalizeClass(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":p.value}]),active:p.value},{default:withCtx(()=>[...a[13]||(a[13]=[createBaseVNode("span",{class:"menu-text-sty"},"Positions",-1)])]),_:1},8,["class","active"])):createCommentVNode("",!0),unref(o).useris()?(openBlock(),createBlock(VBtn,{key:2,to:"/holdings",text:"",plain:"",exact:"",class:normalizeClass(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":h.value}]),active:h.value},{default:withCtx(()=>[...a[14]||(a[14]=[createBaseVNode("span",{class:"menu-text-sty"},"Holdings",-1)])]),_:1},8,["class","active"])):createCommentVNode("",!0),unref(o).useris()?(openBlock(),createBlock(VBtn,{key:3,to:"/orders",text:"",plain:"",exact:"",class:normalizeClass(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":m.value}]),active:m.value},{default:withCtx(()=>[...a[15]||(a[15]=[createBaseVNode("span",{class:"menu-text-sty"},"Orders",-1)])]),_:1},8,["class","active"])):createCommentVNode("",!0),unref(o).useris()?(openBlock(),createBlock(VBtn,{key:4,to:"/funds",text:"",plain:"",exact:"",class:normalizeClass(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":v.value}]),active:v.value},{default:withCtx(()=>[...a[16]||(a[16]=[createBaseVNode("span",{class:"menu-text-sty"},"Fund",-1)])]),_:1},8,["class","active"])):createCommentVNode("",!0),createVNode(VTooltip,{bottom:"",color:"black"},{activator:withCtx(({on:t,attrs:a})=>[createBaseVNode("div",mergeProps(a,toHandlers(t,!0)),[unref(o).useris()?(openBlock(),createBlock(VBtn,{key:0,to:"/notification",icon:"",small:"",exact:"",class:normalizeClass(["ml-1","mr-2","d-none","d-md-flex",{"notification-active":f.value}]),active:f.value},{default:withCtx(()=>[createBaseVNode("img",{src:`/src/assets/${e.$vuetify.theme.dark?"notificationd":"notification"}.svg`},null,8,_hoisted_3$p)]),_:1},8,["class","active"])):createCommentVNode("",!0)],16)]),default:withCtx(()=>[a[17]||(a[17]=createBaseVNode("span",null,"Notification",-1))]),_:1}),unref(r).showalert&&unref(r).showalertmsg.callback?(openBlock(),createBlock(VTooltip,{key:5,color:"black",bottom:""},{activator:withCtx(({on:e,attrs:t})=>[createVNode(VBtn,mergeProps({onClick:a[1]||(a[1]=e=>{window.location.reload()})},t,toHandlers(e),{fab:"",color:"warning",small:"",class:"mx-1 elevation-0"}),{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[18]||(a[18]=[createTextVNode("mdi-spin mdi-sync-alert",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[a[19]||(a[19]=createBaseVNode("span",{class:"warning--text font-weight-bold"},"Session is inactive, Click to refresh",-1))]),_:1})):u.value?(openBlock(),createBlock(VMenu,{key:6,"close-on-click":"","offset-y":"",class:"table-menu",modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e)},{activator:withCtx(({on:e,attrs:t})=>[createVNode(VTooltip,{bottom:"",color:"black",value:s.value},{activator:withCtx(({on:a,attrs:r})=>[createBaseVNode("div",mergeProps(r,toHandlers(a,!0)),[createVNode(VBtn,mergeProps(t,toHandlers(e),{onClick:d,color:"secbg",style:{"background-color":"#F1F3F8 !important",color:"black !important"},small:"",class:"mx-1 elevation-0"}),{default:withCtx(()=>{var e;return[createBaseVNode("span",_hoisted_4$o,toDisplayString((null==(e=unref(o).clientdata)?void 0:e.CLIENT_ID)||unref(o).uid||"-"),1)]}),_:1},16)],16)]),default:withCtx(()=>{var e,t;return[createBaseVNode("span",null,toDisplayString((null==(e=unref(o).clientdata)?void 0:e.CLIENT_NAME)||(null==(t=unref(o).clientdata)?void 0:t.CLIENT_ID)||unref(o).uid||"User"),1)]}),_:2},1032,["value"])]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[createVNode(VListItem,{class:"mb-2"},{default:withCtx(()=>[createVNode(l,{color:"secbg"},{default:withCtx(()=>{var e;return[createBaseVNode("span",_hoisted_5$o,toDisplayString((null==(e=unref(o).clientdata)?void 0:e.CLIENT_NAME)?unref(o).clientdata.CLIENT_NAME.slice(0,1):"-"),1)]}),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"fs-14 font-weight-bold mb-1"},{default:withCtx(()=>{var e;return[createTextVNode(toDisplayString((null==(e=unref(o).clientdata)?void 0:e.CLIENT_NAME)?unref(o).clientdata.CLIENT_NAME:"-"),1)]}),_:1}),createVNode(VListItemSubtitle,{class:"fs-12 subtext--text"},{default:withCtx(()=>{var e;return[createTextVNode(" User ID "+toDisplayString((null==(e=unref(o).clientdata)?void 0:e.CLIENT_ID)?unref(o).clientdata.CLIENT_ID:""),1)]}),_:1})]),_:1})]),_:1}),createVNode(VDivider),createVNode(VListItem,{href:`https://profile.zebuetrade.com/profile?uid=${unref(o).uid}&token=${unref(o).token}`,target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"24px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"1d":"1"}.svg`},null,8,_hoisted_6$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[20]||(a[20]=[createTextVNode("My Account",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[21]||(a[21]=[createTextVNode("Profile, Bank, Segment, MTF, Closure, Downloads",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),createVNode(VDivider,{class:"mx-3"}),createVNode(VListItem,{href:`https://profile.zebuetrade.com/ledger?uid=${unref(o).uid}&token=${unref(o).token}`,target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"reportsd":"reports"}.svg`},null,8,_hoisted_7$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[22]||(a[22]=[createTextVNode("Reports",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[23]||(a[23]=[createTextVNode("Ledger, Holdings, PnL, Tax, Downloads",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),createVNode(VDivider,{class:"mx-3"}),createVNode(VListItem,{href:`https://profile.zebuetrade.com/corporateaction?uid=${unref(o).uid}&token=${unref(o).token}`,target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"coad":"coa"}.svg`},null,8,_hoisted_8$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[24]||(a[24]=[createTextVNode("Corporation Action",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[25]||(a[25]=[createTextVNode("Buyback, Delisting, Takeover, OFS",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),createVNode(VListItem,{href:`https://profile.zebuetrade.com/pledge?uid=${unref(o).uid}&token=${unref(o).token}`,target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"24px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"pledged":"pledge"}.svg`},null,8,_hoisted_9$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[26]||(a[26]=[createTextVNode("Pledge & Unpledge",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[27]||(a[27]=[createTextVNode("Stocks held by various accounts",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),createVNode(VDivider,{class:"mx-3"}),createVNode(VListItem,{href:"https://zebuetrade.com/referral",target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"referald":"referal"}.svg`},null,8,_hoisted_10$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[28]||(a[28]=[createTextVNode("Refer",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[29]||(a[29]=[createTextVNode("Refer your family & friends",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VListItem,{href:"https://zebuetrade.com/contactus",target:"_blank"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"6d":"6"}.svg`},null,8,_hoisted_11$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[30]||(a[30]=[createTextVNode("Help & Support",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[31]||(a[31]=[createTextVNode("Sales, Support & Desk",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VListItem,{to:"/settings"},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"7d":"7"}.svg`},null,8,_hoisted_12$o)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-0"},{default:withCtx(()=>[...a[32]||(a[32]=[createTextVNode("Setting",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-10 subtext--text"},{default:withCtx(()=>[...a[33]||(a[33]=[createTextVNode("API key, Change password, Themes, Log",-1)])]),_:1})]),_:1})]),_:1}),createVNode(VDivider,{class:"mx-3"}),createVNode(VListItem,{onClick:a[2]||(a[2]=e=>(async()=>{await getDeskLogout([o.uid,o.token]),await getMyntLogout(i.source||"WEB"),sessionStorage.removeItem("c3RhdHVz"),r.resetStorage(),o.clearAuth(),window.location.reload()})())},{default:withCtx(()=>[createVNode(g,{class:"mr-3 text-center"},{default:withCtx(()=>[createBaseVNode("img",{width:"22px",class:"pl-1",src:`/src/assets/usermenu/${e.$vuetify.theme.dark?"8d":"8"}.svg`},null,8,_hoisted_13$n)]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14"},{default:withCtx(()=>[...a[34]||(a[34]=[createTextVNode("Logout",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):(openBlock(),createBlock(VTooltip,{key:7,bottom:"",color:"black"},{activator:withCtx(({on:t,attrs:r})=>[createVNode(VBtn,mergeProps({onClick:a[4]||(a[4]=e=>C()),disabled:unref(o).useris()},r,toHandlers(t),{fab:"",color:"secbg",small:"",class:"mx-1 elevation-0"}),{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_14$m,[createBaseVNode("path",{d:"M19 7.5C19 9.70914 17.2091 11.5 15 11.5V13.5C18.3137 13.5 21 10.8137 21 7.5H19ZM15 11.5C12.7909 11.5 11 9.70914 11 7.5H9C9 10.8137 11.6863 13.5 15 13.5V11.5ZM11 7.5C11 5.29086 12.7909 3.5 15 3.5V1.5C11.6863 1.5 9 4.18629 9 7.5H11ZM15 3.5C17.2091 3.5 19 5.29086 19 7.5H21C21 4.18629 18.3137 1.5 15 1.5V3.5ZM11.25 17.25H18.75V15.25H11.25V17.25ZM18.75 25.25H11.25V27.25H18.75V25.25ZM11.25 25.25C9.04086 25.25 7.25 23.4591 7.25 21.25H5.25C5.25 24.5637 7.93629 27.25 11.25 27.25V25.25ZM22.75 21.25C22.75 23.4591 20.9591 25.25 18.75 25.25V27.25C22.0637 27.25 24.75 24.5637 24.75 21.25H22.75ZM18.75 17.25C20.9591 17.25 22.75 19.0409 22.75 21.25H24.75C24.75 17.9363 22.0637 15.25 18.75 15.25V17.25ZM11.25 15.25C7.93629 15.25 5.25 17.9363 5.25 21.25H7.25C7.25 19.0409 9.04086 17.25 11.25 17.25V15.25Z",fill:e.$vuetify.theme.dark?"#2E65F6":"#0037B7"},null,8,_hoisted_15$k)]))]),_:1},16,["disabled"])]),default:withCtx(()=>[a[35]||(a[35]=createBaseVNode("span",null,"Login with ZEBU",-1))]),_:1}))]),_:1}),createVNode(VSlideYTransition,null,{default:withCtx(()=>[withDirectives(createVNode(VAppBar,{color:unref(r).lowConnection?"yellow darken-2":unref(r).onlinestat?"success":"error",width:"100%",height:"32px",class:"cust-appbar-alert",dense:"",flat:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16$f,[createBaseVNode("span",_hoisted_17$f,[createVNode(VIcon,{color:"white",size:"20"},{default:withCtx(()=>[createTextVNode(toDisplayString(!unref(r).lowConnection&&unref(r).onlinestat?"mdi-check-circle-outline":"mdi-alert-outline"),1)]),_:1}),createTextVNode(" "+toDisplayString(unref(r).lowConnection?"Connection is slow. App performance may vary.":unref(r).onlinestat?"You are back online. All good now!":"No internet.Check connection and try again."),1)])])]),_:1},8,["color"]),[[vShow,unref(r).onLinebanner]])]),_:1}),createVNode(VSlideYTransition,null,{default:withCtx(()=>[withDirectives(createVNode(VAppBar,{color:"primary lighten-4",width:"100%",height:"70px",class:"cust-appbar-alerts",dense:"",flat:""},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0","three-line":""},{default:withCtx(()=>[createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold mainbg--text fs-14 mb-0 lh-0"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(r).showalertmsg?unref(r).showalertmsg.title:""),1)]),_:1}),createVNode(VListItemSubtitle,{class:"font-weight-medium mainbg--text fs-13 lh-0"},{default:withCtx(()=>[unref(r).showalertmsg&&unref(r).showalertmsg.body?(openBlock(),createElementBlock("span",{key:0,innerHTML:unref(r).showalertmsg.body},null,8,_hoisted_18$f)):createCommentVNode("",!0)]),_:1})]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VBtn,{icon:"",onClick:a[5]||(a[5]=e=>unref(r).hideAlert())},{default:withCtx(()=>[createVNode(VIcon,{color:"mainbg",size:"18"},{default:withCtx(()=>[...a[36]||(a[36]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1})]),_:1},512),[[vShow,unref(r).showalert&&unref(r).showalertmsg.callback]])]),_:1})])}}},AppBar=_export_sfc(_sfc_main$R,[["__scopeId","data-v-554b486f"]]),_imports_0$7="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20121%20120'%20width='121'%20height='120'%3e%3cpath%20fill='%231E222D'%20d='M53.88%2018.36a43.4%2043.4%200%200%201%2011.24%200%201%201%200%200%200%20.26-1.98%2045.42%2045.42%200%200%200-11.76%200%201%201%200%201%200%20.26%201.98zM43.04%2021.26a1%201%200%200%200-.77-1.85A44.95%2044.95%200%200%200%2032.1%2025.3a1%201%200%200%200%201.22%201.58%2042.95%2042.95%200%200%201%209.72-5.62zM75.42%2019.96a1%201%200%200%201%201.3-.55A44.95%2044.95%200%200%201%2086.9%2025.3a1%201%200%200%201-1.22%201.58%2042.95%2042.95%200%200%200-9.72-5.62%201%201%200%200%201-.54-1.3zM25.38%2034.82a1%201%200%201%200-1.58-1.22%2044.95%2044.95%200%200%200-5.89%2010.17%201%201%200%200%200%201.85.77%2042.95%2042.95%200%200%201%205.62-9.72zM16.86%2055.38a1%201%200%200%200-1.98-.26%2045.42%2045.42%200%200%200%200%2011.76%201%201%200%201%200%201.98-.26%2043.4%2043.4%200%200%201%200-11.24zM103%2054.26a1%201%200%200%201%201.12.86%2045.4%2045.4%200%200%201%200%2011.76%201%201%200%200%201-1.98-.26%2043.37%2043.37%200%200%200%200-11.24%201%201%200%200%201%20.86-1.12zM19.76%2077.46a1%201%200%200%200-1.85.77A44.95%2044.95%200%200%200%2023.8%2088.4a1%201%200%200%200%201.58-1.22%2042.95%2042.95%200%200%201-5.62-9.72zM100.54%2076.92a1%201%200%200%201%20.54%201.3A44.95%2044.95%200%200%201%2095.2%2088.4a1%201%200%200%201-1.58-1.22%2042.95%2042.95%200%200%200%205.62-9.72%201%201%200%200%201%201.3-.54zM33.32%2095.12a1%201%200%201%200-1.22%201.58%2044.94%2044.94%200%200%200%2010.17%205.88%201%201%200%200%200%20.77-1.84%2042.97%2042.97%200%200%201-9.72-5.62zM87.08%2095.3a1%201%200%200%201-.18%201.4%2044.94%2044.94%200%200%201-10.17%205.88%201%201%200%200%201-.77-1.84%2042.98%2042.98%200%200%200%209.72-5.62%201%201%200%200%201%201.4.18zM53.88%20103.64a1%201%200%200%200-.26%201.98%2045.4%2045.4%200%200%200%2011.76%200%201%201%200%200%200-.26-1.98%2043.37%2043.37%200%200%201-11.24%200zM62.81%2053.17a1%201%200%200%200-.78%201.84%206.62%206.62%200%200%201%203.49%203.5%201%201%200%201%200%201.84-.78%208.62%208.62%200%200%200-4.55-4.56z'%3e%3c/path%3e%3cpath%20fill='%231E222D'%20d='M45.5%2061a14%2014%200%201%201%2024.28%209.5l7.92%207.92a1%201%200%200%201-1.42%201.42l-7.96-7.97A14%2014%200%200%201%2045.5%2061zm14-12a12%2012%200%201%200%200%2024%2012%2012%200%200%200%200-24z'%3e%3c/path%3e%3ccircle%20fill='%230037B7'%20cx='97.5'%20cy='39'%20r='13'%3e%3c/circle%3e%3cpath%20fill='%23fff'%20d='M98.5%2034a1%201%200%201%200-2%200v4h-4a1%201%200%201%200%200%202h4v4a1%201%200%201%200%202%200v-4h4a1%201%200%200%200%200-2h-4v-4z'%3e%3c/path%3e%3c/svg%3e",basketIconDark="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23ffffff'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20487.1%20487.1'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M342.3,137.978H385l-63.3-108.6c-5.1-8.8-16.4-11.8-25.2-6.6c-8.8,5.1-11.8,16.4-6.6,25.2L342.3,137.978z'/%3e%3cpath%20d='M197.4,47.978c5.1-8.8,2.2-20.1-6.6-25.2s-20.1-2.2-25.2,6.6l-63.3,108.7H145L197.4,47.978z'/%3e%3cpath%20d='M455.7,171.278H31.3c-17.3,0-31.3,14-31.3,31.3v34.7c0,17.3,14,31.3,31.3,31.3h9.8l30.2,163.7%20c3.8,19.3,21.4,34.6,39.7,34.6h12h78.8c8,0,18.4,0,29,0l0,0h9.6h9.6l0,0c10.6,0,21,0,29,0h78.8h12c18.3,0,35.9-15.3,39.7-34.6%20l30.4-163.8h15.9c17.3,0,31.3-14,31.3-31.3v-34.7C487,185.278,473,171.278,455.7,171.278z%20M172.8,334.878v70.6%20c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7c10.1,0,17.7,8.2,17.7,17.7V334.878%20z%20M229.6,334.878v70.6c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7%20s17.7,8.2,17.7,17.7V334.878z%20M286.7,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7v-70.6v-28.4%20c0-9.5,8.2-17.7,17.7-17.7s17.7,7.6,17.7,17.7V375.878z%20M343.5,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7%20v-70.6v-28.4c0-9.5,7.6-17.7,17.7-17.7c9.5,0,17.7,7.6,17.7,17.7V375.878z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var vuedraggable_umd={exports:{}};const require$$0=getAugmentedNamespace(vue_runtime_esmBundler);
/**!
     * Sortable 1.14.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)}return a}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var a,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(r[a]=e[a]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var a,o,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var version="1.14.0";function userAgent(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(e,t,a){e.addEventListener(t,a,!IE11OrLess&&captureMode)}function off(e,t,a){e.removeEventListener(t,a,!IE11OrLess&&captureMode)}function matches(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(a){return!1}return!1}}function getParentOrHost(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function closest(e,t,a,o){if(e){a=a||document;do{if(null!=t&&(">"===t[0]?e.parentNode===a&&matches(e,t):matches(e,t))||o&&e===a)return e;if(e===a)break}while(e=getParentOrHost(e))}return null}var R_SPACE=/\s+/g,_throttleTimeout;function toggleClass(e,t,a){if(e&&t)if(e.classList)e.classList[a?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(R_SPACE," ").replace(" "+t+" "," ");e.className=(o+(a?" "+t:"")).replace(R_SPACE," ")}}function css(e,t,a){var o=e&&e.style;if(o){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=a+("string"==typeof a?"":"px")}}function matrix(e,t){var a="";if("string"==typeof e)a=e;else do{var o=css(e,"transform");o&&"none"!==o&&(a=o+" "+a)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(a)}function find(e,t,a){if(e){var o=e.getElementsByTagName(t),r=0,n=o.length;if(a)for(;r<n;r++)a(o[r],r);return o}return[]}function getWindowScrollingElement(){var e=document.scrollingElement;return e||document.documentElement}function getRect(e,t,a,o,r){if(e.getBoundingClientRect||e===window){var n,i,l,s,c,d,u;if(e!==window&&e.parentNode&&e!==getWindowScrollingElement()?(i=(n=e.getBoundingClientRect()).top,l=n.left,s=n.bottom,c=n.right,d=n.height,u=n.width):(i=0,l=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||a)&&e!==window&&(r=r||e.parentNode,!IE11OrLess))do{if(r&&r.getBoundingClientRect&&("none"!==css(r,"transform")||a&&"static"!==css(r,"position"))){var p=r.getBoundingClientRect();i-=p.top+parseInt(css(r,"border-top-width")),l-=p.left+parseInt(css(r,"border-left-width")),s=i+n.height,c=l+n.width;break}}while(r=r.parentNode);if(o&&e!==window){var h=matrix(r||e),m=h&&h.a,v=h&&h.d;h&&(s=(i/=v)+(d/=v),c=(l/=m)+(u/=m))}return{top:i,left:l,bottom:s,right:c,width:u,height:d}}}function isScrolledPast(e,t,a){for(var o=getParentAutoScrollElement(e,!0),r=getRect(e)[t];o;){if(!(r>=getRect(o)[a]))return o;if(o===getWindowScrollingElement())break;o=getParentAutoScrollElement(o,!1)}return!1}function getChild(e,t,a,o){for(var r=0,n=0,i=e.children;n<i.length;){if("none"!==i[n].style.display&&i[n]!==Sortable.ghost&&(o||i[n]!==Sortable.dragged)&&closest(i[n],a.draggable,e,!1)){if(r===t)return i[n];r++}n++}return null}function lastChild(e,t){for(var a=e.lastElementChild;a&&(a===Sortable.ghost||"none"===css(a,"display")||t&&!matches(a,t));)a=a.previousElementSibling;return a||null}function index(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Sortable.clone||t&&!matches(e,t)||a++;return a}function getRelativeScrollOffset(e){var t=0,a=0,o=getWindowScrollingElement();if(e)do{var r=matrix(e),n=r.a,i=r.d;t+=e.scrollLeft*n,a+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,a]}function indexOfObject(e,t){for(var a in e)if(e.hasOwnProperty(a))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[a][o])return Number(a);return-1}function getParentAutoScrollElement(e,t){if(!e||!e.getBoundingClientRect)return getWindowScrollingElement();var a=e,o=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var r=css(a);if(a.clientWidth<a.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!a.getBoundingClientRect||a===document.body)return getWindowScrollingElement();if(o||t)return a;o=!0}}}while(a=a.parentNode);return getWindowScrollingElement()}function extend$2(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function isRectEqual(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function throttle$1(e,t){return function(){if(!_throttleTimeout){var a=arguments;1===a.length?e.call(this,a[0]):e.apply(this,a),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},t)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(e,t,a){e.scrollLeft+=t,e.scrollTop+=a}function clone$2(e){var t=window.Polymer,a=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):a?a(e).clone(!0)[0]:e.cloneNode(!0)}function setRect(e,t){css(e,"position","absolute"),css(e,"top",t.top),css(e,"left",t.left),css(e,"width",t.width),css(e,"height",t.height)}function unsetRect(e){css(e,"position",""),css(e,"top",""),css(e,"left",""),css(e,"width",""),css(e,"height","")}var expando="Sortable"+(new Date).getTime();function AnimationStateManager(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==css(e,"display")&&e!==Sortable.ghost){t.push({target:e,rect:getRect(e)});var a=_objectSpread2({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=matrix(e,!0);o&&(a.top-=o.f,a.left-=o.e)}e.fromRect=a}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(indexOfObject(t,{target:e}),1)},animateAll:function(a){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof a&&a());var r=!1,n=0;t.forEach(function(e){var t=0,a=e.target,i=a.fromRect,l=getRect(a),s=a.prevFromRect,c=a.prevToRect,d=e.rect,u=matrix(a,!0);u&&(l.top-=u.f,l.left-=u.e),a.toRect=l,a.thisAnimationDuration&&isRectEqual(s,l)&&!isRectEqual(i,l)&&(d.top-l.top)/(d.left-l.left)===(i.top-l.top)/(i.left-l.left)&&(t=calculateRealTime(d,s,c,o.options)),isRectEqual(l,i)||(a.prevFromRect=i,a.prevToRect=l,t||(t=o.options.animation),o.animate(a,d,l,t)),t&&(r=!0,n=Math.max(n,t),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},t),a.thisAnimationDuration=t)}),clearTimeout(e),r?e=setTimeout(function(){"function"==typeof a&&a()},n):"function"==typeof a&&a(),t=[]},animate:function(e,t,a,o){if(o){css(e,"transition",""),css(e,"transform","");var r=matrix(this.el),n=r&&r.a,i=r&&r.d,l=(t.left-a.left)/(n||1),s=(t.top-a.top)/(i||1);e.animatingX=!!l,e.animatingY=!!s,css(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=repaint(e),css(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),css(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){css(e,"transition",""),css(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},o)}}}}function repaint(e){return e.offsetWidth}function calculateRealTime(e,t,a,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*o.animation}var plugins=[],defaults$2={initializeByDefault:!0},PluginManager={mount:function(e){for(var t in defaults$2)defaults$2.hasOwnProperty(t)&&!(t in e)&&(e[t]=defaults$2[t]);plugins.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),plugins.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var r=e+"Global";plugins.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](_objectSpread2({sortable:t},a)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](_objectSpread2({sortable:t},a)))})},initializePlugins:function(e,t,a,o){for(var r in plugins.forEach(function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var n=new o(e,t,e.options);n.sortable=e,n.options=e.options,e[r]=n,_extends(a,n.defaults)}}),e.options)if(e.options.hasOwnProperty(r)){var n=this.modifyOption(e,r,e.options[r]);void 0!==n&&(e.options[r]=n)}},getEventProperties:function(e,t){var a={};return plugins.forEach(function(o){"function"==typeof o.eventProperties&&_extends(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return plugins.forEach(function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],a))}),o}};function dispatchEvent(e){var t=e.sortable,a=e.rootEl,o=e.name,r=e.targetEl,n=e.cloneEl,i=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||a&&a[expando]){var v,f=t.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||IE11OrLess||Edge?(v=document.createEvent("Event")).initEvent(o,!0,!0):v=new CustomEvent(o,{bubbles:!0,cancelable:!0}),v.to=i||a,v.from=l||a,v.item=r||a,v.clone=n,v.oldIndex=s,v.newIndex=c,v.oldDraggableIndex=d,v.newDraggableIndex=u,v.originalEvent=p,v.pullMode=h?h.lastPutMode:void 0;var y=_objectSpread2(_objectSpread2({},m),PluginManager.getEventProperties(o,t));for(var _ in y)v[_]=y[_];a&&a.dispatchEvent(v),f[g]&&f[g].call(t,v)}}var _excluded=["evt"],pluginEvent=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.evt,r=_objectWithoutProperties(a,_excluded);PluginManager.pluginEvent.bind(Sortable)(e,t,_objectSpread2({dragEl:dragEl,parentEl:parentEl,ghostEl:ghostEl,rootEl:rootEl,nextEl:nextEl,lastDownEl:lastDownEl,cloneEl:cloneEl,cloneHidden:cloneHidden,dragStarted:moved,putSortable:putSortable,activeSortable:Sortable.active,originalEvent:o,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(e){_dispatchEvent({sortable:t,name:e,originalEvent:o})}},r))};function _dispatchEvent(e){dispatchEvent(_objectSpread2({putSortable:putSortable,cloneEl:cloneEl,targetEl:dragEl,rootEl:rootEl,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex},e))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists="undefined"!=typeof document,PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),_detectDirection=function(e,t){var a=css(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),r=getChild(e,0,t),n=getChild(e,1,t),i=r&&css(r),l=n&&css(n),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+getRect(r).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+getRect(n).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&i.float&&"none"!==i.float){var d="left"===i.float?"left":"right";return!n||"both"!==l.clear&&l.clear!==d?"horizontal":"vertical"}return r&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=o&&"none"===a[CSSFloatProperty]||n&&"none"===a[CSSFloatProperty]&&s+c>o)?"vertical":"horizontal"},_dragElInRowColumn=function(e,t,a){var o=a?e.left:e.top,r=a?e.right:e.bottom,n=a?e.width:e.height,i=a?t.left:t.top,l=a?t.right:t.bottom,s=a?t.width:t.height;return o===i||r===l||o+n/2===i+s/2},_detectNearestEmptySortable=function(e,t){var a;return sortables.some(function(o){var r=o[expando].options.emptyInsertThreshold;if(r&&!lastChild(o)){var n=getRect(o),i=e>=n.left-r&&e<=n.right+r,l=t>=n.top-r&&t<=n.bottom+r;return i&&l?a=o:void 0}}),a},_prepareGroup=function(e){function t(e,a){return function(o,r,n,i){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(a||l))return!0;if(null==e||!1===e)return!1;if(a&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,n,i),a)(o,r,n,i);var s=(a?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var a={},o=e.group;o&&"object"==_typeof(o)||(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&document.addEventListener("click",function(e){if(ignoreNextClick)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(e){if(dragEl){e=e.touches?e.touches[0]:e;var t=_detectNearestEmptySortable(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[expando]._onDragOver(a)}}},_checkOutsideTargetEl=function(e){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(e.target)};function Sortable(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_extends({},t),e[expando]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};for(var o in PluginManager.initializePlugins(this,e,a),a)!(o in t)&&(t[o]=a[o]);for(var r in _prepareGroup(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on(e,"pointerdown",this._onTapStart):(on(e,"mousedown",this._onTapStart),on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(e,"dragover",this),on(e,"dragenter",this)),sortables.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_extends(this,AnimationStateManager())}function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _onMove(e,t,a,o,r,n,i,l){var s,c,d=e[expando],u=d.options.onMove;return!window.CustomEvent||IE11OrLess||Edge?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=a,s.draggedRect=o,s.related=r||t,s.relatedRect=n||getRect(t),s.willInsertAfter=l,s.originalEvent=i,e.dispatchEvent(s),u&&(c=u.call(d,s,i)),c}function _disableDraggable(e){e.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(e,t,a){var o=getRect(getChild(a.el,0,a.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}function _ghostIsLast(e,t,a){var o=getRect(lastChild(a.el,a.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}function _getSwapDirection(e,t,a,o,r,n,i,l){var s=o?e.clientY:e.clientX,c=o?a.height:a.width,d=o?a.top:a.left,u=o?a.bottom:a.right,p=!1;if(!i)if(l&&targetMoveDistance<c*r){if(!pastFirstInvertThresh&&(1===lastDirection?s>d+c*n/2:s<u-c*n/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)p=!0;else if(1===lastDirection?s<d+targetMoveDistance:s>u-targetMoveDistance)return-lastDirection}else if(s>d+c*(1-r)/2&&s<u-c*(1-r)/2)return _getInsertDirection(t);return(p=p||i)&&(s<d+c*n/2||s>u-c*n/2)?s>d+c/2?1:-1:0}function _getInsertDirection(e){return index(dragEl)<index(e)?1:-1}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,o=0;a--;)o+=t.charCodeAt(a);return o.toString(36)}function _saveInputCheckedState(e){savedInputChecked.length=0;for(var t=e.getElementsByTagName("input"),a=t.length;a--;){var o=t[a];o.checked&&savedInputChecked.push(o)}}function _nextTick(e){return setTimeout(e,0)}function _cancelNextTick(e){return clearTimeout(e)}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(lastTarget=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,dragEl):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,r=o.preventOnFilter,n=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(_saveInputCheckedState(a),!dragEl&&!(/mousedown|pointerdown/.test(n)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Safari||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=closest(l,o.draggable,a,!1))&&l.animated||lastDownEl===l)){if(oldIndex=index(l),oldDraggableIndex=index(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return _dispatchEvent({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:a,fromEl:a}),pluginEvent("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(o){if(o=closest(s,o.trim(),a,!1))return _dispatchEvent({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:a,toEl:a}),pluginEvent("filter",t,{evt:e}),!0})))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!closest(s,o.handle,a,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,a){var o,r=this,n=r.el,i=r.options,l=n.ownerDocument;if(a&&!dragEl&&a.parentNode===n){var s=getRect(a);if(rootEl=n,parentEl=(dragEl=a).parentNode,nextEl=dragEl.nextSibling,lastDownEl=a,activeGroup=i.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(t||e).clientX,clientY:(t||e).clientY},tapDistanceLeft=tapEvt.clientX-s.left,tapDistanceTop=tapEvt.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,dragEl.style["will-change"]="all",o=function(){pluginEvent("delayEnded",r,{evt:e}),Sortable.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!FireFox&&r.nativeDraggable&&(dragEl.draggable=!0),r._triggerDragStart(e,t),_dispatchEvent({sortable:r,name:"choose",originalEvent:e}),toggleClass(dragEl,i.chosenClass,!0))},i.ignore.split(",").forEach(function(e){find(dragEl,e.trim(),_disableDraggable)}),on(l,"dragover",nearestEmptyInsertDetectEvent),on(l,"mousemove",nearestEmptyInsertDetectEvent),on(l,"touchmove",nearestEmptyInsertDetectEvent),on(l,"mouseup",r._onDrop),on(l,"touchend",r._onDrop),on(l,"touchcancel",r._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(Edge||IE11OrLess))o();else{if(Sortable.eventCanceled)return void this._onDrop();on(l,"mouseup",r._disableDelayedDrag),on(l,"touchend",r._disableDelayedDrag),on(l,"touchcancel",r._disableDelayedDrag),on(l,"mousemove",r._delayedDragTouchMoveHandler),on(l,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&on(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._disableDelayedDrag),off(e,"touchend",this._disableDelayedDrag),off(e,"touchcancel",this._disableDelayedDrag),off(e,"mousemove",this._delayedDragTouchMoveHandler),off(e,"touchmove",this._delayedDragTouchMoveHandler),off(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):on(document,t?"touchmove":"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(e,t){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:t}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl);var a=this.options;!e&&toggleClass(dragEl,a.dragClass,!1),toggleClass(dragEl,a.ghostClass,!0),Sortable.active=this,e&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var e=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY))!==t;)t=e;if(dragEl.parentNode[expando]._isOutsideThisEl(e),t)do{if(t[expando]){if(t[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(e){if(tapEvt){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,n=ghostEl&&matrix(ghostEl,!0),i=ghostEl&&n&&n.a,l=ghostEl&&n&&n.d,s=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),c=(r.clientX-tapEvt.clientX+o.x)/(i||1)+(s?s[0]-ghostRelativeParentInitialScroll[0]:0)/(i||1),d=(r.clientY-tapEvt.clientY+o.y)/(l||1)+(s?s[1]-ghostRelativeParentInitialScroll[1]:0)/(l||1);if(!Sortable.active&&!awaitingDragStarted){if(a&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(ghostEl){n?(n.e+=c-(lastDx||0),n.f+=d-(lastDy||0)):n={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");css(ghostEl,"webkitTransform",u),css(ghostEl,"mozTransform",u),css(ghostEl,"msTransform",u),css(ghostEl,"transform",u),lastDx=c,lastDy=d,touchEvt=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ghostEl){var e=this.options.fallbackOnBody?document.body:rootEl,t=getRect(dragEl,!0,PositionGhostAbsolutely,!0,e),a=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=e;"static"===css(ghostRelativeParent,"position")&&"none"===css(ghostRelativeParent,"transform")&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),t.top+=ghostRelativeParent.scrollTop,t.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}toggleClass(ghostEl=dragEl.cloneNode(!0),a.ghostClass,!1),toggleClass(ghostEl,a.fallbackClass,!0),toggleClass(ghostEl,a.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",t.top),css(ghostEl,"left",t.left),css(ghostEl,"width",t.width),css(ghostEl,"height",t.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,e.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,r=a.options;pluginEvent("dragStart",this,{evt:e}),Sortable.eventCanceled?this._onDrop():(pluginEvent("setupClone",this),Sortable.eventCanceled||((cloneEl=clone$2(dragEl)).draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),a.cloneId=_nextTick(function(){pluginEvent("clone",a),Sortable.eventCanceled||(a.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),a._hideClone(),_dispatchEvent({sortable:a,name:"clone"}))}),!t&&toggleClass(dragEl,r.dragClass,!0),t?(ignoreNextClick=!0,a._loopId=setInterval(a._emulateDragOver,50)):(off(document,"mouseup",a._onDrop),off(document,"touchend",a._onDrop),off(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(a,o,dragEl)),on(document,"drop",a),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,a._dragStartId=_nextTick(a._dragStarted.bind(a,t,e)),on(document,"selectstart",a),moved=!0,Safari&&css(document.body,"user-select","none"))},_onDragOver:function(e){var t,a,o,r,n=this.el,i=e.target,l=this.options,s=l.group,c=Sortable.active,d=activeGroup===s,u=l.sort,p=putSortable||c,h=this,m=!1;if(!_silent){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=closest(i,l.draggable,n,!0),B("dragOver"),Sortable.eventCanceled)return m;if(dragEl.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return I(!1);if(ignoreNextClick=!1,c&&!l.disabled&&(d?u||(o=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,c,dragEl,e))&&s.checkPut(this,c,dragEl,e))){if(r="vertical"===this._getDirection(e,i),t=getRect(dragEl),B("dragOverValid"),Sortable.eventCanceled)return m;if(o)return parentEl=rootEl,E(),this._hideClone(),B("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),I(!0);var v=lastChild(n,l.draggable);if(!v||_ghostIsLast(e,r,this)&&!v.animated){if(v===dragEl)return I(!1);if(v&&n===e.target&&(i=v),i&&(a=getRect(i)),!1!==_onMove(rootEl,n,dragEl,t,i,a,e,!!i))return E(),n.appendChild(dragEl),parentEl=n,$(),I(!0)}else if(v&&_ghostIsFirst(e,r,this)){var f=getChild(n,0,l,!0);if(f===dragEl)return I(!1);if(a=getRect(i=f),!1!==_onMove(rootEl,n,dragEl,t,i,a,e,!1))return E(),n.insertBefore(dragEl,f),parentEl=n,$(),I(!0)}else if(i.parentNode===n){a=getRect(i);var g,y,_,b=dragEl.parentNode!==n,w=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||t,i.animated&&i.toRect||a,r),x=r?"top":"left",V=isScrolledPast(i,"top","top")||isScrolledPast(dragEl,"top","top"),k=V?V.scrollTop:void 0;if(lastTarget!==i&&(y=a[x],pastFirstInvertThresh=!1,isCircumstantialInvert=!w&&l.invertSwap||b),0!==(g=_getSwapDirection(e,i,a,r,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,isCircumstantialInvert,lastTarget===i))){var C=index(dragEl);do{C-=g,_=parentEl.children[C]}while(_&&("none"===css(_,"display")||_===ghostEl))}if(0===g||_===i)return I(!1);lastTarget=i,lastDirection=g;var S=i.nextElementSibling,N=!1,T=_onMove(rootEl,n,dragEl,t,i,a,e,N=1===g);if(!1!==T)return 1!==T&&-1!==T||(N=1===T),_silent=!0,setTimeout(_unsilent,30),E(),N&&!S?n.appendChild(dragEl):i.parentNode.insertBefore(dragEl,N?S:i),V&&scrollBy(V,0,k-V.scrollTop),parentEl=dragEl.parentNode,void 0===y||isCircumstantialInvert||(targetMoveDistance=Math.abs(y-getRect(i)[x])),$(),I(!0)}if(n.contains(dragEl))return I(!1)}return!1}function B(l,s){pluginEvent(l,h,_objectSpread2({evt:e,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:a,canSort:u,fromSortable:p,target:i,completed:I,onMove:function(a,o){return _onMove(rootEl,n,dragEl,t,a,getRect(a),e,o)},changed:$},s))}function E(){B("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function I(t){return B("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(h),h!==p&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:c.options.ghostClass,!1),toggleClass(dragEl,l.ghostClass,!0)),putSortable!==h&&h!==Sortable.active?putSortable=h:h===Sortable.active&&putSortable&&(putSortable=null),p===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){B("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===dragEl&&!dragEl.animated||i===n&&!i.animated)&&(lastTarget=null),l.dragoverBubble||e.rootEl||i===document||(dragEl.parentNode[expando]._isOutsideThisEl(e.target),!t&&nearestEmptyInsertDetectEvent(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function $(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,l.draggable),_dispatchEvent({sortable:h,name:"change",toEl:n,newIndex:newIndex,newDraggableIndex:newDraggableIndex,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._onDrop),off(e,"touchend",this._onDrop),off(e,"pointerup",this._onDrop),off(e,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;newIndex=index(dragEl),newDraggableIndex=index(dragEl,a.draggable),pluginEvent("drop",this,{evt:e}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,a.draggable),Sortable.eventCanceled||(awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),e&&(moved&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&"clone"!==putSortable.lastPutMode)&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:e}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:e}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),Sortable.active&&(null!=newIndex&&-1!==newIndex||(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(e){e.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(e),_globalDragOver(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],a=this.el.children,o=0,r=a.length,n=this.options;o<r;o++)closest(e=a[o],n.draggable,this.el,!1)&&t.push(e.getAttribute(n.dataIdAttr)||_generateId(e));return t},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(e,t){var r=o.children[t];closest(r,this.options.draggable,o,!1)&&(a[e]=r)},this),t&&this.captureAnimationState(),e.forEach(function(e){a[e]&&(o.removeChild(a[e]),o.appendChild(a[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return closest(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];var o=PluginManager.modifyOption(this,e,t);a[e]=void 0!==o?o:t,"group"===e&&_prepareGroup(a)},destroy:function(){pluginEvent("destroy",this);var e=this.el;e[expando]=null,off(e,"mousedown",this._onTapStart),off(e,"touchstart",this._onTapStart),off(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(e,"dragover",this),off(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode!=rootEl||this.options.group.revertClone?nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl):rootEl.insertBefore(cloneEl,dragEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}else this._hideClone()}},documentExists&&on(document,"touchmove",function(e){(Sortable.active||awaitingDragStarted)&&e.cancelable&&e.preventDefault()}),Sortable.utils={on:on,off:off,css:css,find:find,is:function(e,t){return!!closest(e,t,e,!1)},extend:extend$2,throttle:throttle$1,closest:closest,toggleClass:toggleClass,clone:clone$2,index:index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild:getChild},Sortable.get=function(e){return e[expando]},Sortable.mount=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Sortable.utils=_objectSpread2(_objectSpread2({},Sortable.utils),e.utils)),PluginManager.mount(e)})},Sortable.create=function(e,t){return new Sortable(e,t)},Sortable.version=version;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):t.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var a=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,n=document.elementFromPoint(o,r);if(touchEvt$1=e,t||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(e,this.options,n,t);var i=getParentAutoScrollElement(n,!0);!scrolling||pointerElemChangedInterval&&o===lastAutoScrollX&&r===lastAutoScrollY||(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var n=getParentAutoScrollElement(document.elementFromPoint(o,r),!0);n!==i&&(i=n,clearAutoScrolls()),autoScroll(e,a.options,n,t)},10),lastAutoScrollX=o,lastAutoScrollY=r)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(n,!0)===getWindowScrollingElement())return void clearAutoScrolls();autoScroll(e,this.options,getParentAutoScrollElement(n,!1),!1)}}},_extends(e,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(e){clearInterval(e.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$1(function(e,t,a,o){if(t.scroll){var r,n=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=getWindowScrollingElement(),d=!1;scrollRootEl!==a&&(scrollRootEl=a,clearAutoScrolls(),scrollEl=t.scroll,r=t.scrollFn,!0===scrollEl&&(scrollEl=getParentAutoScrollElement(a,!0)));var u=0,p=scrollEl;do{var h=p,m=getRect(h),v=m.top,f=m.bottom,g=m.left,y=m.right,_=m.width,b=m.height,w=void 0,x=void 0,V=h.scrollWidth,k=h.scrollHeight,C=css(h),S=h.scrollLeft,N=h.scrollTop;h===c?(w=_<V&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),x=b<k&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(w=_<V&&("auto"===C.overflowX||"scroll"===C.overflowX),x=b<k&&("auto"===C.overflowY||"scroll"===C.overflowY));var T=w&&(Math.abs(y-n)<=l&&S+_<V)-(Math.abs(g-n)<=l&&!!S),B=x&&(Math.abs(f-i)<=l&&N+b<k)-(Math.abs(v-i)<=l&&!!N);if(!autoScrolls[u])for(var E=0;E<=u;E++)autoScrolls[E]||(autoScrolls[E]={});autoScrolls[u].vx==T&&autoScrolls[u].vy==B&&autoScrolls[u].el===h||(autoScrolls[u].el=h,autoScrolls[u].vx=T,autoScrolls[u].vy=B,clearInterval(autoScrolls[u].pid),0==T&&0==B||(d=!0,autoScrolls[u].pid=setInterval(function(){o&&0===this.layer&&Sortable.active._onTouchMove(touchEvt$1);var t=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*s:0,a=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Sortable.dragged.parentNode[expando],a,t,e,touchEvt$1,autoScrolls[this.layer].el)||scrollBy(autoScrolls[this.layer].el,a,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=getParentAutoScrollElement(p,!1)));scrolling=d}},30),drop=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,r=e.activeSortable,n=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=a||r;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(d)&&(n("spill"),this.onSpill({dragEl:o,putSortable:a}))}},lastSwapEl;function Revert(){}function Remove(){}function SwapPlugin(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;lastSwapEl=t},dragOverValid:function(e){var t=e.completed,a=e.target,o=e.onMove,r=e.activeSortable,n=e.changed,i=e.cancel;if(r.options.swap){var l=this.sortable.el,s=this.options;if(a&&a!==l){var c=lastSwapEl;!1!==o(a)?(toggleClass(a,s.swapClass,!0),lastSwapEl=a):lastSwapEl=null,c&&c!==lastSwapEl&&toggleClass(c,s.swapClass,!1)}n(),t(!0),i()}},drop:function(e){var t=e.activeSortable,a=e.putSortable,o=e.dragEl,r=a||this.sortable,n=this.options;lastSwapEl&&toggleClass(lastSwapEl,n.swapClass,!1),lastSwapEl&&(n.swap||a&&a.options.swap)&&o!==lastSwapEl&&(r.captureAnimationState(),r!==t&&t.captureAnimationState(),swapNodes(o,lastSwapEl),r.animateAll(),r!==t&&t.animateAll())},nulling:function(){lastSwapEl=null}},_extends(e,{pluginName:"swap",eventProperties:function(){return{swapItem:lastSwapEl}}})}function swapNodes(e,t){var a,o,r=e.parentNode,n=t.parentNode;r&&n&&!r.isEqualNode(t)&&!n.isEqualNode(e)&&(a=index(e),o=index(t),r.isEqualNode(n)&&a<o&&o++,r.insertBefore(t,r.children[a]),n.insertBefore(e,n.children[o]))}Revert.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=getChild(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:drop},_extends(Revert,{pluginName:"revertOnSpill"}),Remove.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:drop},_extends(Remove,{pluginName:"removeOnSpill"});var multiDragElements=[],multiDragClones=[],lastMultiDragSelect,multiDragSortable,initialFolding=!1,folding=!1,dragStarted=!1,dragEl$1,clonesFromRect,clonesHidden;function MultiDragPlugin(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag)),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,a){var o="";multiDragElements.length&&multiDragSortable===e?multiDragElements.forEach(function(e,t){o+=(t?", ":"")+e.textContent}):o=a.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;dragEl$1=t},delayEnded:function(){this.isMultiDrag=~multiDragElements.indexOf(dragEl$1)},setupClone:function(e){var t=e.sortable,a=e.cancel;if(this.isMultiDrag){for(var o=0;o<multiDragElements.length;o++)multiDragClones.push(clone$2(multiDragElements[o])),multiDragClones[o].sortableIndex=multiDragElements[o].sortableIndex,multiDragClones[o].draggable=!1,multiDragClones[o].style["will-change"]="",toggleClass(multiDragClones[o],this.options.selectedClass,!1),multiDragElements[o]===dragEl$1&&toggleClass(multiDragClones[o],this.options.chosenClass,!1);t._hideClone(),a()}},clone:function(e){var t=e.sortable,a=e.rootEl,o=e.dispatchSortableEvent,r=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||multiDragElements.length&&multiDragSortable===t&&(insertMultiDragClones(!0,a),o("clone"),r()))},showClone:function(e){var t=e.cloneNowShown,a=e.rootEl,o=e.cancel;this.isMultiDrag&&(insertMultiDragClones(!1,a),multiDragClones.forEach(function(e){css(e,"display","")}),t(),clonesHidden=!1,o())},hideClone:function(e){var t=this;e.sortable;var a=e.cloneNowHidden,o=e.cancel;this.isMultiDrag&&(multiDragClones.forEach(function(e){css(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),a(),clonesHidden=!0,o())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&multiDragSortable&&multiDragSortable.multiDrag._deselectMultiDrag(),multiDragElements.forEach(function(e){e.sortableIndex=index(e)}),multiDragElements=multiDragElements.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),dragStarted=!0},dragStarted:function(e){var t=this,a=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){multiDragElements.forEach(function(e){e!==dragEl$1&&css(e,"position","absolute")});var o=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(e){e!==dragEl$1&&setRect(e,o)}),folding=!0,initialFolding=!0}a.animateAll(function(){folding=!1,initialFolding=!1,t.options.animation&&multiDragElements.forEach(function(e){unsetRect(e)}),t.options.sort&&removeMultiDragElements()})}},dragOver:function(e){var t=e.target,a=e.completed,o=e.cancel;folding&&~multiDragElements.indexOf(t)&&(a(!1),o())},revert:function(e){var t=e.fromSortable,a=e.rootEl,o=e.sortable,r=e.dragRect;multiDragElements.length>1&&(multiDragElements.forEach(function(e){o.addAnimationState({target:e,rect:folding?getRect(e):r}),unsetRect(e),e.fromRect=r,t.removeAnimationState(e)}),folding=!1,insertMultiDragElements(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(e){var t=e.sortable,a=e.isOwner,o=e.insertion,r=e.activeSortable,n=e.parentEl,i=e.putSortable,l=this.options;if(o){if(a&&r._hideClone(),initialFolding=!1,l.animation&&multiDragElements.length>1&&(folding||!a&&!r.options.sort&&!i)){var s=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(e){e!==dragEl$1&&(setRect(e,s),n.appendChild(e))}),folding=!0}if(!a)if(folding||removeMultiDragElements(),multiDragElements.length>1){var c=clonesHidden;r._showClone(t),r.options.animation&&!clonesHidden&&c&&multiDragClones.forEach(function(e){r.addAnimationState({target:e,rect:clonesFromRect}),e.fromRect=clonesFromRect,e.thisAnimationDuration=null})}else r._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,a=e.isOwner,o=e.activeSortable;if(multiDragElements.forEach(function(e){e.thisAnimationDuration=null}),o.options.animation&&!a&&o.multiDrag.isMultiDrag){clonesFromRect=_extends({},t);var r=matrix(dragEl$1,!0);clonesFromRect.top-=r.f,clonesFromRect.left-=r.e}},dragOverAnimationComplete:function(){folding&&(folding=!1,removeMultiDragElements())},drop:function(e){var t=e.originalEvent,a=e.rootEl,o=e.parentEl,r=e.sortable,n=e.dispatchSortableEvent,i=e.oldIndex,l=e.putSortable,s=l||this.sortable;if(t){var c=this.options,d=o.children;if(!dragStarted)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),toggleClass(dragEl$1,c.selectedClass,!~multiDragElements.indexOf(dragEl$1)),~multiDragElements.indexOf(dragEl$1))multiDragElements.splice(multiDragElements.indexOf(dragEl$1),1),lastMultiDragSelect=null,dispatchEvent({sortable:r,rootEl:a,name:"deselect",targetEl:dragEl$1});else{if(multiDragElements.push(dragEl$1),dispatchEvent({sortable:r,rootEl:a,name:"select",targetEl:dragEl$1}),t.shiftKey&&lastMultiDragSelect&&r.el.contains(lastMultiDragSelect)){var u,p,h=index(lastMultiDragSelect),m=index(dragEl$1);if(~h&&~m&&h!==m)for(m>h?(p=h,u=m):(p=m,u=h+1);p<u;p++)~multiDragElements.indexOf(d[p])||(toggleClass(d[p],c.selectedClass,!0),multiDragElements.push(d[p]),dispatchEvent({sortable:r,rootEl:a,name:"select",targetEl:d[p]}))}else lastMultiDragSelect=dragEl$1;multiDragSortable=s}if(dragStarted&&this.isMultiDrag){if(folding=!1,(o[expando].options.sort||o!==a)&&multiDragElements.length>1){var v=getRect(dragEl$1),f=index(dragEl$1,":not(."+this.options.selectedClass+")");if(!initialFolding&&c.animation&&(dragEl$1.thisAnimationDuration=null),s.captureAnimationState(),!initialFolding&&(c.animation&&(dragEl$1.fromRect=v,multiDragElements.forEach(function(e){if(e.thisAnimationDuration=null,e!==dragEl$1){var t=folding?getRect(e):v;e.fromRect=t,s.addAnimationState({target:e,rect:t})}})),removeMultiDragElements(),multiDragElements.forEach(function(e){d[f]?o.insertBefore(e,d[f]):o.appendChild(e),f++}),i===index(dragEl$1))){var g=!1;multiDragElements.forEach(function(e){e.sortableIndex===index(e)||(g=!0)}),g&&n("update")}multiDragElements.forEach(function(e){unsetRect(e)}),s.animateAll()}multiDragSortable=s}(a===o||l&&"clone"!==l.lastPutMode)&&multiDragClones.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=dragStarted=!1,multiDragClones.length=0},destroyGlobal:function(){this._deselectMultiDrag(),off(document,"pointerup",this._deselectMultiDrag),off(document,"mouseup",this._deselectMultiDrag),off(document,"touchend",this._deselectMultiDrag),off(document,"keydown",this._checkKeyDown),off(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==dragStarted&&dragStarted||multiDragSortable!==this.sortable||e&&closest(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;multiDragElements.length;){var t=multiDragElements[0];toggleClass(t,this.options.selectedClass,!1),multiDragElements.shift(),dispatchEvent({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_extends(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[expando];t&&t.options.multiDrag&&!~multiDragElements.indexOf(e)&&(multiDragSortable&&multiDragSortable!==t&&(multiDragSortable.multiDrag._deselectMultiDrag(),multiDragSortable=t),toggleClass(e,t.options.selectedClass,!0),multiDragElements.push(e))},deselect:function(e){var t=e.parentNode[expando],a=multiDragElements.indexOf(e);t&&t.options.multiDrag&&~a&&(toggleClass(e,t.options.selectedClass,!1),multiDragElements.splice(a,1))}},eventProperties:function(){var e=this,t=[],a=[];return multiDragElements.forEach(function(o){var r;t.push({multiDragElement:o,index:o.sortableIndex}),r=folding&&o!==dragEl$1?-1:folding?index(o,":not(."+e.options.selectedClass+")"):index(o),a.push({multiDragElement:o,index:r})}),{items:_toConsumableArray(multiDragElements),clones:[].concat(multiDragClones),oldIndicies:t,newIndicies:a}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function insertMultiDragElements(e,t){multiDragElements.forEach(function(a,o){var r=t.children[a.sortableIndex+(e?Number(o):0)];r?t.insertBefore(a,r):t.appendChild(a)})}function insertMultiDragClones(e,t){multiDragClones.forEach(function(a,o){var r=t.children[a.sortableIndex+(e?Number(o):0)];r?t.insertBefore(a,r):t.appendChild(a)})}function removeMultiDragElements(){multiDragElements.forEach(function(e){e!==dragEl$1&&e.parentNode&&e.parentNode.removeChild(e)})}Sortable.mount(new AutoScrollPlugin),Sortable.mount(Remove,Revert);const sortable_esm=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:MultiDragPlugin,Sortable:Sortable,Swap:SwapPlugin,default:Sortable},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(sortable_esm);!function(e,t){var a;"undefined"!=typeof self&&self,a=function(e,t){return function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="fb15")}({"00ee":function(e,t,a){var o={};o[a("b622")("toStringTag")]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,a){var o=a("1c0b");e.exports=function(e,t,a){if(o(e),void 0===t)return e;switch(a){case 0:return function(){return e.call(t)};case 1:return function(a){return e.call(t,a)};case 2:return function(a,o){return e.call(t,a,o)};case 3:return function(a,o,r){return e.call(t,a,o,r)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,a){var o=a("fc6a"),r=a("241c").f,n={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==n.call(e)?function(e){try{return r(e)}catch(t){return i.slice()}}(e):r(o(e))}},"06cf":function(e,t,a){var o=a("83ab"),r=a("d1e7"),n=a("5c6c"),i=a("fc6a"),l=a("c04e"),s=a("5135"),c=a("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=i(e),t=l(t,!0),c)try{return d(e,t)}catch(a){}if(s(e,t))return n(!r.f.call(e,t),e[t])}},"0cfb":function(e,t,a){var o=a("83ab"),r=a("d039"),n=a("cc12");e.exports=!o&&!r(function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a})},"13d5":function(e,t,a){var o=a("23e7"),r=a("d58f").left,n=a("a640"),i=a("ae40"),l=n("reduce"),s=i("reduce",{1:0});o({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,a){var o=a("c6b6"),r=a("9263");e.exports=function(e,t){var a=e.exec;if("function"==typeof a){var n=a.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"159b":function(e,t,a){var o=a("da84"),r=a("fdbc"),n=a("17c2"),i=a("9112");for(var l in r){var s=o[l],c=s&&s.prototype;if(c&&c.forEach!==n)try{i(c,"forEach",n)}catch(d){c.forEach=n}}},"17c2":function(e,t,a){var o=a("b727").forEach,r=a("a640"),n=a("ae40"),i=r("forEach"),l=n("forEach");e.exports=i&&l?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,a){var o=a("d066");e.exports=o("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,a){var o=a("b622")("iterator"),r=!1;try{var n=0,i={next:function(){return{done:!!n++}},return:function(){r=!0}};i[o]=function(){return this},Array.from(i,function(){throw 2})}catch(l){}e.exports=function(e,t){if(!t&&!r)return!1;var a=!1;try{var n={};n[o]=function(){return{next:function(){return{done:a=!0}}}},e(n)}catch(l){}return a}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,a){var o=a("d039"),r=a("b622"),n=a("2d00"),i=r("species");e.exports=function(e){return n>=51||!o(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,a){var o=a("a691"),r=Math.max,n=Math.min;e.exports=function(e,t){var a=o(e);return a<0?r(a+t,0):n(a,t)}},"23e7":function(e,t,a){var o=a("da84"),r=a("06cf").f,n=a("9112"),i=a("6eeb"),l=a("ce4e"),s=a("e893"),c=a("94ca");e.exports=function(e,t){var a,d,u,p,h,m=e.target,v=e.global,f=e.stat;if(a=v?o:f?o[m]||l(m,{}):(o[m]||{}).prototype)for(d in t){if(p=t[d],u=e.noTargetGet?(h=r(a,d))&&h.value:a[d],!c(v?d:m+(f?".":"#")+d,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;s(p,u)}(e.sham||u&&u.sham)&&n(p,"sham",!0),i(a,d,p,e)}}},"241c":function(e,t,a){var o=a("ca84"),r=a("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},"25f0":function(e,t,a){var o=a("6eeb"),r=a("825a"),n=a("d039"),i=a("ad6d"),l="toString",s=RegExp.prototype,c=s[l],d=n(function(){return"/a/b"!=c.call({source:"a",flags:"b"})}),u=c.name!=l;(d||u)&&o(RegExp.prototype,l,function(){var e=r(this),t=String(e.source),a=e.flags;return"/"+t+"/"+String(void 0===a&&e instanceof RegExp&&!("flags"in s)?i.call(e):a)},{unsafe:!0})},"2ca0":function(e,t,a){var o,r=a("23e7"),n=a("06cf").f,i=a("50c4"),l=a("5a34"),s=a("1d80"),c=a("ab13"),d=a("c430"),u="".startsWith,p=Math.min,h=c("startsWith");r({target:"String",proto:!0,forced:!(!d&&!h&&(o=n(String.prototype,"startsWith"),o&&!o.writable)||h)},{startsWith:function(e){var t=String(s(this));l(e);var a=i(p(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return u?u.call(t,o,a):t.slice(a,a+o.length)===o}})},"2d00":function(e,t,a){var o,r,n=a("da84"),i=a("342f"),l=n.process,s=l&&l.versions,c=s&&s.v8;c?r=(o=c.split("."))[0]+o[1]:i&&(!(o=i.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=i.match(/Chrome\/(\d+)/))&&(r=o[1]),e.exports=r&&+r},"342f":function(e,t,a){var o=a("d066");e.exports=o("navigator","userAgent")||""},"35a1":function(e,t,a){var o=a("f5df"),r=a("3f8c"),n=a("b622")("iterator");e.exports=function(e){if(null!=e)return e[n]||e["@@iterator"]||r[o(e)]}},"37e8":function(e,t,a){var o=a("83ab"),r=a("9bf2"),n=a("825a"),i=a("df75");e.exports=o?Object.defineProperties:function(e,t){n(e);for(var a,o=i(t),l=o.length,s=0;l>s;)r.f(e,a=o[s++],t[a]);return e}},"3bbe":function(e,t,a){var o=a("861d");e.exports=function(e){if(!o(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,a){var o=a("6547").charAt,r=a("69f3"),n=a("7dd0"),i="String Iterator",l=r.set,s=r.getterFor(i);n(String,"String",function(e){l(this,{type:i,string:String(e),index:0})},function(){var e,t=s(this),a=t.string,r=t.index;return r>=a.length?{value:void 0,done:!0}:(e=o(a,r),t.index+=e.length,{value:e,done:!1})})},"3f8c":function(e,t){e.exports={}},4160:function(e,t,a){var o=a("23e7"),r=a("17c2");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(e,t,a){var o=a("da84");e.exports=o},"44ad":function(e,t,a){var o=a("d039"),r=a("c6b6"),n="".split;e.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?n.call(e,""):Object(e)}:Object},"44d2":function(e,t,a){var o=a("b622"),r=a("7c73"),n=a("9bf2"),i=o("unscopables"),l=Array.prototype;null==l[i]&&n.f(l,i,{configurable:!0,value:r(null)}),e.exports=function(e){l[i][e]=!0}},"44e7":function(e,t,a){var o=a("861d"),r=a("c6b6"),n=a("b622")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},4930:function(e,t,a){var o=a("d039");e.exports=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())})},"4d64":function(e,t,a){var o=a("fc6a"),r=a("50c4"),n=a("23cb"),i=function(e){return function(t,a,i){var l,s=o(t),c=r(s.length),d=n(i,c);if(e&&a!=a){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===a)return e||d||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"4de4":function(e,t,a){var o=a("23e7"),r=a("b727").filter,n=a("1dde"),i=a("ae40"),l=n("filter"),s=i("filter");o({target:"Array",proto:!0,forced:!l||!s},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,a){var o=a("0366"),r=a("7b0b"),n=a("9bdd"),i=a("e95a"),l=a("50c4"),s=a("8418"),c=a("35a1");e.exports=function(e){var t,a,d,u,p,h,m=r(e),v="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,y=void 0!==g,_=c(m),b=0;if(y&&(g=o(g,f>2?arguments[2]:void 0,2)),null==_||v==Array&&i(_))for(a=new v(t=l(m.length));t>b;b++)h=y?g(m[b],b):m[b],s(a,b,h);else for(p=(u=_.call(m)).next,a=new v;!(d=p.call(u)).done;b++)h=y?n(u,g,[d.value,b],!0):d.value,s(a,b,h);return a.length=b,a}},"4fad":function(e,t,a){var o=a("23e7"),r=a("6f53").entries;o({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"50c4":function(e,t,a){var o=a("a691"),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},5135:function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},5319:function(e,t,a){var o=a("d784"),r=a("825a"),n=a("7b0b"),i=a("50c4"),l=a("a691"),s=a("1d80"),c=a("8aa5"),d=a("14c3"),u=Math.max,p=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};o("replace",2,function(e,t,a,o){var g=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=o.REPLACE_KEEPS_$0,_=g?"$":"$0";return[function(a,o){var r=s(this),n=null==a?void 0:a[e];return void 0!==n?n.call(a,r,o):t.call(String(r),a,o)},function(e,o){if(!g&&y||"string"==typeof o&&-1===o.indexOf(_)){var n=a(t,e,this,o);if(n.done)return n.value}var s=r(e),h=String(this),m="function"==typeof o;m||(o=String(o));var v=s.global;if(v){var w=s.unicode;s.lastIndex=0}for(var x=[];;){var V=d(s,h);if(null===V)break;if(x.push(V),!v)break;""===String(V[0])&&(s.lastIndex=c(h,i(s.lastIndex),w))}for(var k="",C=0,S=0;S<x.length;S++){V=x[S];for(var N=String(V[0]),T=u(p(l(V.index),h.length),0),B=[],E=1;E<V.length;E++)B.push(f(V[E]));var I=V.groups;if(m){var $=[N].concat(B,T,h);void 0!==I&&$.push(I);var P=String(o.apply(void 0,$))}else P=b(N,h,T,B,I,o);T>=C&&(k+=h.slice(C,T)+P,C=T+N.length)}return k+h.slice(C)}];function b(e,a,o,r,i,l){var s=o+e.length,c=r.length,d=v;return void 0!==i&&(i=n(i),d=m),t.call(l,d,function(t,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,o);case"'":return a.slice(s);case"<":l=i[n.slice(1,-1)];break;default:var d=+n;if(0===d)return t;if(d>c){var u=h(d/10);return 0===u?t:u<=c?void 0===r[u-1]?n.charAt(1):r[u-1]+n.charAt(1):t}l=r[d-1]}return void 0===l?"":l})}})},5692:function(e,t,a){var o=a("c430"),r=a("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,a){var o=a("d066"),r=a("241c"),n=a("7418"),i=a("825a");e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(i(e)),a=n.f;return a?t.concat(a(e)):t}},"5a34":function(e,t,a){var o=a("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,a){var o=a("23e7"),r=a("a2bf"),n=a("7b0b"),i=a("50c4"),l=a("1c0b"),s=a("65f0");o({target:"Array",proto:!0},{flatMap:function(e){var t,a=n(this),o=i(a.length);return l(e),(t=s(a,0)).length=r(t,a,a,o,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,a){var o=a("a691"),r=a("1d80"),n=function(e){return function(t,a){var n,i,l=String(r(t)),s=o(a),c=l.length;return s<0||s>=c?e?"":void 0:(n=l.charCodeAt(s))<55296||n>56319||s+1===c||(i=l.charCodeAt(s+1))<56320||i>57343?e?l.charAt(s):n:e?l.slice(s,s+2):i-56320+(n-55296<<10)+65536}};e.exports={codeAt:n(!1),charAt:n(!0)}},"65f0":function(e,t,a){var o=a("861d"),r=a("e8b5"),n=a("b622")("species");e.exports=function(e,t){var a;return r(e)&&("function"!=typeof(a=e.constructor)||a!==Array&&!r(a.prototype)?o(a)&&null===(a=a[n])&&(a=void 0):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"69f3":function(e,t,a){var o,r,n,i=a("7f9a"),l=a("da84"),s=a("861d"),c=a("9112"),d=a("5135"),u=a("f772"),p=a("d012"),h=l.WeakMap;if(i){var m=new h,v=m.get,f=m.has,g=m.set;o=function(e,t){return g.call(m,e,t),t},r=function(e){return v.call(m,e)||{}},n=function(e){return f.call(m,e)}}else{var y=u("state");p[y]=!0,o=function(e,t){return c(e,y,t),t},r=function(e){return d(e,y)?e[y]:{}},n=function(e){return d(e,y)}}e.exports={set:o,get:r,has:n,enforce:function(e){return n(e)?r(e):o(e,{})},getterFor:function(e){return function(t){var a;if(!s(t)||(a=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return a}}}},"6eeb":function(e,t,a){var o=a("da84"),r=a("9112"),n=a("5135"),i=a("ce4e"),l=a("8925"),s=a("69f3"),c=s.get,d=s.enforce,u=String(String).split("String");(e.exports=function(e,t,a,l){var s=!!l&&!!l.unsafe,c=!!l&&!!l.enumerable,p=!!l&&!!l.noTargetGet;"function"==typeof a&&("string"!=typeof t||n(a,"name")||r(a,"name",t),d(a).source=u.join("string"==typeof t?t:"")),e!==o?(s?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=a:r(e,t,a)):c?e[t]=a:i(t,a)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||l(this)})},"6f53":function(e,t,a){var o=a("83ab"),r=a("df75"),n=a("fc6a"),i=a("d1e7").f,l=function(e){return function(t){for(var a,l=n(t),s=r(l),c=s.length,d=0,u=[];c>d;)a=s[d++],o&&!i.call(l,a)||u.push(e?[a,l[a]]:l[a]);return u}};e.exports={entries:l(!0),values:l(!1)}},"73d9":function(e,t,a){a("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,a){var o=a("428f"),r=a("5135"),n=a("e538"),i=a("9bf2").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||i(t,e,{value:n.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,a){var o=a("1d80");e.exports=function(e){return Object(o(e))}},"7c73":function(e,t,a){var o,r=a("825a"),n=a("37e8"),i=a("7839"),l=a("d012"),s=a("1be4"),c=a("cc12"),d=a("f772"),u="prototype",p="script",h=d("IE_PROTO"),m=function(){},v=function(e){return"<"+p+">"+e+"</"+p+">"},f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var e,t,a;f=o?function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):(t=c("iframe"),a="java"+p+":",t.style.display="none",s.appendChild(t),t.src=String(a),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F);for(var r=i.length;r--;)delete f[u][i[r]];return f()};l[h]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(m[u]=r(e),a=new m,m[u]=null,a[h]=e):a=f(),void 0===t?a:n(a,t)}},"7dd0":function(e,t,a){var o=a("23e7"),r=a("9ed3"),n=a("e163"),i=a("d2bb"),l=a("d44e"),s=a("9112"),c=a("6eeb"),d=a("b622"),u=a("c430"),p=a("3f8c"),h=a("ae93"),m=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,f=d("iterator"),g="keys",y="values",_="entries",b=function(){return this};e.exports=function(e,t,a,d,h,w,x){r(a,t,d);var V,k,C,S=function(e){if(e===h&&I)return I;if(!v&&e in B)return B[e];switch(e){case g:case y:case _:return function(){return new a(this,e)}}return function(){return new a(this)}},N=t+" Iterator",T=!1,B=e.prototype,E=B[f]||B["@@iterator"]||h&&B[h],I=!v&&E||S(h),$="Array"==t&&B.entries||E;if($&&(V=n($.call(new e)),m!==Object.prototype&&V.next&&(u||n(V)===m||(i?i(V,m):"function"!=typeof V[f]&&s(V,f,b)),l(V,N,!0,!0),u&&(p[N]=b))),h==y&&E&&E.name!==y&&(T=!0,I=function(){return E.call(this)}),u&&!x||B[f]===I||s(B,f,I),p[t]=I,h)if(k={values:S(y),keys:w?I:S(g),entries:S(_)},x)for(C in k)(v||T||!(C in B))&&c(B,C,k[C]);else o({target:t,proto:!0,forced:v||T},k);return k}},"7f9a":function(e,t,a){var o=a("da84"),r=a("8925"),n=o.WeakMap;e.exports="function"==typeof n&&/native code/.test(r(n))},"825a":function(e,t,a){var o=a("861d");e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,a){var o=a("d039");e.exports=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},8418:function(e,t,a){var o=a("c04e"),r=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var i=o(t);i in e?r.f(e,i,n(0,a)):e[i]=a}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,a){var o,r,n;"undefined"!=typeof self&&self,r=[],void 0===(n="function"==typeof(o=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var a,o,r,n=/@([^@]*):(\d+):(\d+)\s*$/gi,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(p.stack)||n.exec(p.stack),l=i&&i[1]||!1,s=i&&i[2]||!1,c=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===c&&(a=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(s-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=a.replace(o,"$1").trim());for(var u=0;u<d.length;u++){if("interactive"===d[u].readyState)return d[u];if(d[u].src===l)return d[u];if(l===c&&d[u].innerHTML&&d[u].innerHTML.trim()===r)return d[u]}return null}}return e})?o.apply(t,r):o)||(e.exports=n)},8925:function(e,t,a){var o=a("c6cd"),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},"8aa5":function(e,t,a){var o=a("6547").charAt;e.exports=function(e,t,a){return t+(a?o(e,t).length:1)}},"8bbf":function(t,a){t.exports=e},"90e3":function(e,t){var a=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++a+o).toString(36)}},9112:function(e,t,a){var o=a("83ab"),r=a("9bf2"),n=a("5c6c");e.exports=o?function(e,t,a){return r.f(e,t,n(1,a))}:function(e,t,a){return e[t]=a,e}},9263:function(e,t,a){var o,r,n=a("ad6d"),i=a("9f7f"),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,d=(o=/a/,r=/b*/g,l.call(o,"a"),l.call(r,"a"),0!==o.lastIndex||0!==r.lastIndex),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(d||p||u)&&(c=function(e){var t,a,o,r,i=this,c=u&&i.sticky,h=n.call(i),m=i.source,v=0,f=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),f=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,v++),a=new RegExp("^(?:"+m+")",h)),p&&(a=new RegExp("^"+m+"$(?!\\s)",h)),d&&(t=i.lastIndex),o=l.call(c?a:i,f),c?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=i.lastIndex,i.lastIndex+=o[0].length):i.lastIndex=0:d&&o&&(i.lastIndex=i.global?o.index+o[0].length:t),p&&o&&o.length>1&&s.call(o[0],a,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)}),o}),e.exports=c},"94ca":function(e,t,a){var o=a("d039"),r=/#|\.prototype\./,n=function(e,t){var a=l[i(e)];return a==c||a!=s&&("function"==typeof t?o(t):!!t)},i=n.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=n.data={},s=n.NATIVE="N",c=n.POLYFILL="P";e.exports=n},"99af":function(e,t,a){var o=a("23e7"),r=a("d039"),n=a("e8b5"),i=a("861d"),l=a("7b0b"),s=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),h=a("2d00"),m=p("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",g=h>=51||!r(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),y=u("concat"),_=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:n(e)};o({target:"Array",proto:!0,forced:!g||!y},{concat:function(e){var t,a,o,r,n,i=l(this),u=d(i,0),p=0;for(t=-1,o=arguments.length;t<o;t++)if(_(n=-1===t?i:arguments[t])){if(p+(r=s(n.length))>v)throw TypeError(f);for(a=0;a<r;a++,p++)a in n&&c(u,p,n[a])}else{if(p>=v)throw TypeError(f);c(u,p++,n)}return u.length=p,u}})},"9bdd":function(e,t,a){var o=a("825a");e.exports=function(e,t,a,r){try{return r?t(o(a)[0],a[1]):t(a)}catch(i){var n=e.return;throw void 0!==n&&o(n.call(e)),i}}},"9bf2":function(e,t,a){var o=a("83ab"),r=a("0cfb"),n=a("825a"),i=a("c04e"),l=Object.defineProperty;t.f=o?l:function(e,t,a){if(n(e),t=i(t,!0),n(a),r)try{return l(e,t,a)}catch(o){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},"9ed3":function(e,t,a){var o=a("ae93").IteratorPrototype,r=a("7c73"),n=a("5c6c"),i=a("d44e"),l=a("3f8c"),s=function(){return this};e.exports=function(e,t,a){var c=t+" Iterator";return e.prototype=r(o,{next:n(1,a)}),i(e,c,!1,!0),l[c]=s,e}},"9f7f":function(e,t,a){var o=a("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=o(function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=o(function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},a2bf:function(e,t,a){var o=a("e8b5"),r=a("50c4"),n=a("0366"),i=function(e,t,a,l,s,c,d,u){for(var p,h=s,m=0,v=!!d&&n(d,u,3);m<l;){if(m in a){if(p=v?v(a[m],m,t):a[m],c>0&&o(p))h=i(e,t,p,r(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}m++}return h};e.exports=i},a352:function(e,a){e.exports=t},a434:function(e,t,a){var o=a("23e7"),r=a("23cb"),n=a("a691"),i=a("50c4"),l=a("7b0b"),s=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),p=d("splice"),h=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min;o({target:"Array",proto:!0,forced:!p||!h},{splice:function(e,t){var a,o,d,u,p,h,f=l(this),g=i(f.length),y=r(e,g),_=arguments.length;if(0===_?a=o=0:1===_?(a=0,o=g-y):(a=_-2,o=v(m(n(t),0),g-y)),g+a-o>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=s(f,o),u=0;u<o;u++)(p=y+u)in f&&c(d,u,f[p]);if(d.length=o,a<o){for(u=y;u<g-o;u++)h=u+a,(p=u+o)in f?f[h]=f[p]:delete f[h];for(u=g;u>g-o+a;u--)delete f[u-1]}else if(a>o)for(u=g-o;u>y;u--)h=u+a-1,(p=u+o-1)in f?f[h]=f[p]:delete f[h];for(u=0;u<a;u++)f[u+y]=arguments[u+2];return f.length=g-o+a,d}})},a4d3:function(e,t,a){var o=a("23e7"),r=a("da84"),n=a("d066"),i=a("c430"),l=a("83ab"),s=a("4930"),c=a("fdbf"),d=a("d039"),u=a("5135"),p=a("e8b5"),h=a("861d"),m=a("825a"),v=a("7b0b"),f=a("fc6a"),g=a("c04e"),y=a("5c6c"),_=a("7c73"),b=a("df75"),w=a("241c"),x=a("057f"),V=a("7418"),k=a("06cf"),C=a("9bf2"),S=a("d1e7"),N=a("9112"),T=a("6eeb"),B=a("5692"),E=a("f772"),I=a("d012"),$=a("90e3"),P=a("b622"),D=a("e538"),L=a("746f"),R=a("d44e"),A=a("69f3"),O=a("b727").forEach,M=E("hidden"),F="Symbol",z="prototype",H=P("toPrimitive"),q=A.set,U=A.getterFor(F),W=Object[z],j=r.Symbol,G=n("JSON","stringify"),Y=k.f,K=C.f,X=x.f,J=S.f,Q=B("symbols"),Z=B("op-symbols"),ee=B("string-to-symbol-registry"),te=B("symbol-to-string-registry"),ae=B("wks"),oe=r.QObject,re=!oe||!oe[z]||!oe[z].findChild,ne=l&&d(function(){return 7!=_(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(e,t,a){var o=Y(W,t);o&&delete W[t],K(e,t,a),o&&e!==W&&K(W,t,o)}:K,ie=function(e,t){var a=Q[e]=_(j[z]);return q(a,{type:F,tag:e,description:t}),l||(a.description=t),a},le=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof j},se=function(e,t,a){e===W&&se(Z,t,a),m(e);var o=g(t,!0);return m(a),u(Q,o)?(a.enumerable?(u(e,M)&&e[M][o]&&(e[M][o]=!1),a=_(a,{enumerable:y(0,!1)})):(u(e,M)||K(e,M,y(1,{})),e[M][o]=!0),ne(e,o,a)):K(e,o,a)},ce=function(e,t){m(e);var a=f(t),o=b(a).concat(he(a));return O(o,function(t){l&&!de.call(a,t)||se(e,t,a[t])}),e},de=function(e){var t=g(e,!0),a=J.call(this,t);return!(this===W&&u(Q,t)&&!u(Z,t))&&(!(a||!u(this,t)||!u(Q,t)||u(this,M)&&this[M][t])||a)},ue=function(e,t){var a=f(e),o=g(t,!0);if(a!==W||!u(Q,o)||u(Z,o)){var r=Y(a,o);return!r||!u(Q,o)||u(a,M)&&a[M][o]||(r.enumerable=!0),r}},pe=function(e){var t=X(f(e)),a=[];return O(t,function(e){u(Q,e)||u(I,e)||a.push(e)}),a},he=function(e){var t=e===W,a=X(t?Z:f(e)),o=[];return O(a,function(e){!u(Q,e)||t&&!u(W,e)||o.push(Q[e])}),o};s||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),a=function(e){this===W&&a.call(Z,e),u(this,M)&&u(this[M],t)&&(this[M][t]=!1),ne(this,t,y(1,e))};return l&&re&&ne(W,t,{configurable:!0,set:a}),ie(t,e)},T(j[z],"toString",function(){return U(this).tag}),T(j,"withoutSetter",function(e){return ie($(e),e)}),S.f=de,C.f=se,k.f=ue,w.f=x.f=pe,V.f=he,D.f=function(e){return ie(P(e),e)},l&&(K(j[z],"description",{configurable:!0,get:function(){return U(this).description}}),i||T(W,"propertyIsEnumerable",de,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:j}),O(b(ae),function(e){L(e)}),o({target:F,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var a=j(t);return ee[t]=a,te[a]=t,a},keyFor:function(e){if(!le(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!l},{create:function(e,t){return void 0===t?_(e):ce(_(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:ue}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:he}),o({target:"Object",stat:!0,forced:d(function(){V.f(1)})},{getOwnPropertySymbols:function(e){return V.f(v(e))}}),G&&o({target:"JSON",stat:!0,forced:!s||d(function(){var e=j();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})},{stringify:function(e,t,a){for(var o,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(o=t,(h(t)||void 0!==e)&&!le(e))return p(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!le(t))return t}),r[1]=t,G.apply(null,r)}}),j[z][H]||N(j[z],H,j[z].valueOf),R(j,F),I[M]=!0},a630:function(e,t,a){var o=a("23e7"),r=a("4df4");o({target:"Array",stat:!0,forced:!a("1c7e")(function(e){Array.from(e)})},{from:r})},a640:function(e,t,a){var o=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&o(function(){a.call(null,t||function(){throw 1},1)})}},a691:function(e,t){var a=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:a)(e)}},ab13:function(e,t,a){var o=a("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(e2){try{return t[o]=!1,"/./"[e](t)}catch(a){}}return!1}},ac1f:function(e,t,a){var o=a("23e7"),r=a("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,a){var o=a("825a");e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,a){var o=a("83ab"),r=a("d039"),n=a("5135"),i=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(n(l,e))return l[e];t||(t={});var a=[][e],c=!!n(t,"ACCESSORS")&&t.ACCESSORS,d=n(t,0)?t[0]:s,u=n(t,1)?t[1]:void 0;return l[e]=!!a&&!r(function(){if(c&&!o)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:s}):e[1]=1,a.call(e,d,u)})}},ae93:function(e,t,a){var o,r,n,i=a("e163"),l=a("9112"),s=a("5135"),c=a("b622"),d=a("c430"),u=c("iterator"),p=!1;[].keys&&("next"in(n=[].keys())?(r=i(i(n)))!==Object.prototype&&(o=r):p=!0),null==o&&(o={}),d||s(o,u)||l(o,u,function(){return this}),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,a){var o=a("00ee"),r=a("f5df");e.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(e,t,a){var o=a("83ab"),r=a("9bf2").f,n=Function.prototype,i=n.toString,l=/^\s*function ([^ (]*)/,s="name";o&&!(s in n)&&r(n,s,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},b622:function(e,t,a){var o=a("da84"),r=a("5692"),n=a("5135"),i=a("90e3"),l=a("4930"),s=a("fdbf"),c=r("wks"),d=o.Symbol,u=s?d:d&&d.withoutSetter||i;e.exports=function(e){return n(c,e)||(l&&n(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},b64b:function(e,t,a){var o=a("23e7"),r=a("7b0b"),n=a("df75");o({target:"Object",stat:!0,forced:a("d039")(function(){n(1)})},{keys:function(e){return n(r(e))}})},b727:function(e,t,a){var o=a("0366"),r=a("44ad"),n=a("7b0b"),i=a("50c4"),l=a("65f0"),s=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u;return function(h,m,v,f){for(var g,y,_=n(h),b=r(_),w=o(m,v,3),x=i(b.length),V=0,k=f||l,C=t?k(h,x):a?k(h,0):void 0;x>V;V++)if((p||V in b)&&(y=w(g=b[V],V,_),e))if(t)C[V]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return V;case 2:s.call(C,g)}else if(d)return!1;return u?-1:c||d?d:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,a){var o=a("861d");e.exports=function(e,t){if(!o(e))return e;var a,r;if(t&&"function"==typeof(a=e.toString)&&!o(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!o(r=a.call(e)))return r;if(!t&&"function"==typeof(a=e.toString)&&!o(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var a={}.toString;e.exports=function(e){return a.call(e).slice(8,-1)}},c6cd:function(e,t,a){var o=a("da84"),r=a("ce4e"),n="__core-js_shared__",i=o[n]||r(n,{});e.exports=i},c740:function(e,t,a){var o=a("23e7"),r=a("b727").findIndex,n=a("44d2"),i=a("ae40"),l="findIndex",s=!0,c=i(l);l in[]&&Array(1)[l](function(){s=!1}),o({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(l)},c8ba:function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e2){"object"==typeof window&&(a=window)}e.exports=a},c975:function(e,t,a){var o=a("23e7"),r=a("4d64").indexOf,n=a("a640"),i=a("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),d=i("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:s||!c||!d},{indexOf:function(e){return s?l.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,a){var o=a("5135"),r=a("fc6a"),n=a("4d64").indexOf,i=a("d012");e.exports=function(e,t){var a,l=r(e),s=0,c=[];for(a in l)!o(i,a)&&o(l,a)&&c.push(a);for(;t.length>s;)o(l,a=t[s++])&&(~n(c,a)||c.push(a));return c}},caad:function(e,t,a){var o=a("23e7"),r=a("4d64").includes,n=a("44d2");o({target:"Array",proto:!0,forced:!a("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},cc12:function(e,t,a){var o=a("da84"),r=a("861d"),n=o.document,i=r(n)&&r(n.createElement);e.exports=function(e){return i?n.createElement(e):{}}},ce4e:function(e,t,a){var o=a("da84"),r=a("9112");e.exports=function(e,t){try{r(o,e,t)}catch(a){o[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,a){var o=a("428f"),r=a("da84"),n=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?n(o[e])||n(r[e]):o[e]&&o[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,a){var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!o.call({1:2},1);t.f=n?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},d28b:function(e,t,a){a("746f")("iterator")},d2bb:function(e,t,a){var o=a("825a"),r=a("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]),t=a instanceof Array}catch(n){}return function(a,n){return o(a),r(n),t?e.call(a,n):a.__proto__=n,a}}():void 0)},d3b7:function(e,t,a){var o=a("00ee"),r=a("6eeb"),n=a("b041");o||r(Object.prototype,"toString",n,{unsafe:!0})},d44e:function(e,t,a){var o=a("9bf2").f,r=a("5135"),n=a("b622")("toStringTag");e.exports=function(e,t,a){e&&!r(e=a?e:e.prototype,n)&&o(e,n,{configurable:!0,value:t})}},d58f:function(e,t,a){var o=a("1c0b"),r=a("7b0b"),n=a("44ad"),i=a("50c4"),l=function(e){return function(t,a,l,s){o(a);var c=r(t),d=n(c),u=i(c.length),p=e?u-1:0,h=e?-1:1;if(l<2)for(;;){if(p in d){s=d[p],p+=h;break}if(p+=h,e?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:u>p;p+=h)p in d&&(s=a(s,d[p],p,c));return s}};e.exports={left:l(!1),right:l(!0)}},d784:function(e,t,a){a("ac1f");var o=a("6eeb"),r=a("d039"),n=a("b622"),i=a("9263"),l=a("9112"),s=n("species"),c=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d="$0"==="a".replace(/./,"$0"),u=n("replace"),p=!!/./[u]&&""===/./[u]("a","$0"),h=!r(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]});e.exports=function(e,t,a,u){var m=n(e),v=!r(function(){var t={};return t[m]=function(){return 7},7!=""[e](t)}),f=v&&!r(function(){var t=!1,a=/a/;return"split"===e&&((a={}).constructor={},a.constructor[s]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return t=!0,null},a[m](""),!t});if(!v||!f||"replace"===e&&(!c||!d||p)||"split"===e&&!h){var g=/./[m],y=a(m,""[e],function(e,t,a,o,r){return t.exec===i?v&&!r?{done:!0,value:g.call(t,a,o)}:{done:!0,value:e.call(a,t,o)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=y[0],b=y[1];o(String.prototype,e,_),o(RegExp.prototype,m,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&l(RegExp.prototype[m],"sham",!0)}},d81d:function(e,t,a){var o=a("23e7"),r=a("b727").map,n=a("1dde"),i=a("ae40"),l=n("map"),s=i("map");o({target:"Array",proto:!0,forced:!l||!s},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,a){(function(t){var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof t&&t)||Function("return this")()}).call(this,a("c8ba"))},dbb4:function(e,t,a){var o=a("23e7"),r=a("83ab"),n=a("56ef"),i=a("fc6a"),l=a("06cf"),s=a("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,a,o=i(e),r=l.f,c=n(o),d={},u=0;c.length>u;)void 0!==(a=r(o,t=c[u++]))&&s(d,t,a);return d}})},dbf1:function(e,t,a){(function(e){a.d(t,"a",function(){return o});var o="undefined"!=typeof window?window.console:e.console}).call(this,a("c8ba"))},ddb0:function(e,t,a){var o=a("da84"),r=a("fdbc"),n=a("e260"),i=a("9112"),l=a("b622"),s=l("iterator"),c=l("toStringTag"),d=n.values;for(var u in r){var p=o[u],h=p&&p.prototype;if(h){if(h[s]!==d)try{i(h,s,d)}catch(v){h[s]=d}if(h[c]||i(h,c,u),r[u])for(var m in n)if(h[m]!==n[m])try{i(h,m,n[m])}catch(v){h[m]=n[m]}}}},df75:function(e,t,a){var o=a("ca84"),r=a("7839");e.exports=Object.keys||function(e){return o(e,r)}},e01a:function(e,t,a){var o=a("23e7"),r=a("83ab"),n=a("da84"),i=a("5135"),l=a("861d"),s=a("9bf2").f,c=a("e893"),d=n.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(p,d);var h=p.prototype=d.prototype;h.constructor=p;var m=h.toString,v="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;s(h,"description",{configurable:!0,get:function(){var e=l(this)?this.valueOf():this,t=m.call(e);if(i(u,e))return"";var a=v?t.slice(7,-1):t.replace(f,"$1");return""===a?void 0:a}}),o({global:!0,forced:!0},{Symbol:p})}},e163:function(e,t,a){var o=a("5135"),r=a("7b0b"),n=a("f772"),i=a("e177"),l=n("IE_PROTO"),s=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=r(e),o(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},e177:function(e,t,a){var o=a("d039");e.exports=!o(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},e260:function(e,t,a){var o=a("fc6a"),r=a("44d2"),n=a("3f8c"),i=a("69f3"),l=a("7dd0"),s="Array Iterator",c=i.set,d=i.getterFor(s);e.exports=l(Array,"Array",function(e,t){c(this,{type:s,target:o(e),index:0,kind:t})},function(){var e=d(this),t=e.target,a=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:o,done:!1}:"values"==a?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values"),n.Arguments=n.Array,r("keys"),r("values"),r("entries")},e439:function(e,t,a){var o=a("23e7"),r=a("d039"),n=a("fc6a"),i=a("06cf").f,l=a("83ab"),s=r(function(){i(1)});o({target:"Object",stat:!0,forced:!l||s,sham:!l},{getOwnPropertyDescriptor:function(e,t){return i(n(e),t)}})},e538:function(e,t,a){var o=a("b622");t.f=o},e893:function(e,t,a){var o=a("5135"),r=a("56ef"),n=a("06cf"),i=a("9bf2");e.exports=function(e,t){for(var a=r(t),l=i.f,s=n.f,c=0;c<a.length;c++){var d=a[c];o(e,d)||l(e,d,s(t,d))}}},e8b5:function(e,t,a){var o=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},e95a:function(e,t,a){var o=a("b622"),r=a("3f8c"),n=o("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[n]===e)}},f5df:function(e,t,a){var o=a("00ee"),r=a("c6b6"),n=a("b622")("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=o?r:function(e){var t,a,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(a){}}(t=Object(e),n))?a:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},f772:function(e,t,a){var o=a("5692"),r=a("90e3"),n=o("keys");e.exports=function(e){return n[e]||(n[e]=r(e))}},fb15:function(e,t,a){if(a.r(t),"undefined"!=typeof window){var o=window.document.currentScript,r=a("8875");o=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var n=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(a.p=n[1])}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],o=!0,r=!1,n=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(s){r=!0,n=s}finally{try{o||null==l.return||l.return()}finally{if(r)throw n}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0"),a("a630"),a("fb6a"),a("b0c0"),a("25f0");var h=a("a352"),m=a.n(h);function v(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function f(e,t,a){var o=0===a?e.children[0]:e.children[a-1].nextSibling;e.insertBefore(t,o)}var g=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");var y,_,b=/-(\w)/g,w=(y=function(e){return e.replace(b,function(e,t){return t.toUpperCase()})},_=Object.create(null),function(e){return _[e]||(_[e]=y(e))});a("5db7"),a("73d9");var x=["Start","Add","Remove","Update","End"],V=["Choose","Unchoose","Sort","Filter","Clone"],k=["Move"],C=[k,x,V].flatMap(function(e){return e}).map(function(e){return"on".concat(e)}),S={manage:k,manageAndEmit:x,emit:V};a("caad"),a("2ca0");var N=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function T(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function B(e){return e.reduce(function(e,t){var a=u(t,2),o=a[0],r=a[1];return e[o]=r,e},{})}function E(e){return Object.entries(e).filter(function(e){var t=u(e,2),a=t[0];return t[1],!T(a)}).map(function(e){var t=u(e,2),a=t[0],o=t[1];return[w(a),o]}).filter(function(e){var t,a=u(e,2),o=a[0];return a[1],t=o,!(-1!==C.indexOf(t))})}function I(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}a("c740");var $=function(e){return e.el},P=function(e){return e.__draggable_context},D=function(){function e(t){var a=t.nodes,o=a.header,r=a.default,n=a.footer,i=t.root,l=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=r,this.children=[].concat(p(o),p(r),p(n)),this.externalComponent=i.externalComponent,this.rootTransition=i.transition,this.tag=i.tag,this.realList=l}return I(e,[{key:"render",value:function(e,t){var a=this.tag,o=this.children;return e(a,t,this._isRootComponent?{default:function(){return o}}:o)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach(function(e,a){var o,r;o=$(e),r={element:t[a],index:a},o.__draggable_context=r})}},{key:"getUnderlyingVm",value:function(e){return P(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var a=this.defaultNodes,o=a.length,r=t.children,n=r.item(e);if(null===n)return o;var i=P(n);if(i)return i.index;if(0===o)return 0;var l=$(a[0]);return e<p(r).findIndex(function(e){return e===l})?0:o}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),e}(),L=a("8bbf");function R(e){var t=["transition-group","TransitionGroup"].includes(e),a=!function(e){return N.includes(e)}(e)&&!t;return{transition:t,externalComponent:a,tag:a?Object(L.resolveComponent)(e):t?L.TransitionGroup:e}}function A(e){var t=e.$slots,a=e.tag,o=e.realList,r=function(e){var t=e.$slots,a=e.realList,o=e.getKey,r=a||[],n=u(["header","footer"].map(function(e){return(a=t[e])?a():[];var a}),2),i=n[0],l=n[1],c=t.item;if(!c)throw new Error("draggable element must have an item slot");var d=r.flatMap(function(e,t){return c({element:e,index:t}).map(function(t){return t.key=o(e),t.props=s(s({},t.props||{}),{},{"data-draggable":!0}),t})});if(d.length!==r.length)throw new Error("Item slot must have only one child");return{header:i,footer:l,default:d}}({$slots:t,realList:o,getKey:e.getKey}),n=R(a);return new D({nodes:r,root:n,realList:o})}function O(e,t){var a=this;Object(L.nextTick)(function(){return a.$emit(e.toLowerCase(),t)})}function M(e){var t=this;return function(a,o){if(null!==t.realList)return t["onDrag".concat(e)](a,o)}}function F(e){var t=this,a=M.call(this,e);return function(o,r){a.call(t,o,r),O.call(t,e,o)}}var z=null,H={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},q=["update:modelValue","change"].concat(p([].concat(p(S.manageAndEmit),p(S.emit)).map(function(e){return e.toLowerCase()}))),U=Object(L.defineComponent)({name:"draggable",inheritAttrs:!1,props:H,emits:q,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,a=this.tag,o=this.componentData,r=A({$slots:e,tag:a,realList:this.realList,getKey:this.getKey});this.componentStructure=r;var n=function(e){var t=e.$attrs,a=e.componentData,o=void 0===a?{}:a;return s(s({},B(Object.entries(t).filter(function(e){var t=u(e,2),a=t[0];return t[1],T(a)}))),o)}({$attrs:t,componentData:o});return r.render(L.h,n)}catch(i){return this.error=!0,Object(L.h)("pre",{style:{color:"red"}},i.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&g.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,a=this.$el;this.componentStructure.updated();var o=function(e){var t=e.$attrs,a=e.callBackBuilder,o=B(E(t));Object.entries(a).forEach(function(e){var t=u(e,2),a=t[0],r=t[1];S[a].forEach(function(e){o["on".concat(e)]=r(e)})});var r="[data-draggable]".concat(o.draggable||"");return s(s({},o),{},{draggable:r})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return F.call(e,t)},emit:function(t){return O.bind(e,t)},manage:function(t){return M.call(e,t)}}}),r=1===a.nodeType?a:a.parentElement;this._sortable=new m.a(r,o),this.targetDomElement=r,r.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&E(e).forEach(function(e){var a=u(e,2),o=a[0],r=a[1];t.option(o,r)})},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(L.nextTick)(function(){return t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=p(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments;this.alterList(function(t){return t.splice.apply(t,p(e))})},updatePosition:function(e,t){this.alterList(function(a){return a.splice(t,0,a.splice(e,1)[0])})},getRelatedContextFromMoveEvent:function(e){var t=e.to,a=e.related,o=this.getUnderlyingPotencialDraggableComponent(t);if(!o)return{component:o};var r=o.realList,n={list:r,component:o};return t!==a&&r?s(s({},o.getUnderlyingVm(a)||{}),n):n},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),z=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){v(e.item);var a=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(a,0,t);var o={element:t,newIndex:a};this.emitChanges({added:o})}},onDragRemove:function(e){if(f(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,a=t.index,o=t.element;this.spliceList(a,1);var r={element:o,oldIndex:a};this.emitChanges({removed:r})}else v(e.clone)},onDragUpdate:function(e){v(e.item),f(e.from,e.item,e.oldIndex);var t=this.context.index,a=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,a);var o={element:this.context.element,oldIndex:t,newIndex:a};this.emitChanges({moved:o})},computeFutureIndex:function(e,t){if(!e.element)return 0;var a=p(t.to.children).filter(function(e){return"none"!==e.style.display}),o=a.indexOf(t.related),r=e.component.getVmIndexFromDomIndex(o);return-1===a.indexOf(z)&&t.willInsertAfter?r+1:r},onDragMove:function(e,t){var a=this.move,o=this.realList;if(!a||!o)return!0;var r=this.getRelatedContextFromMoveEvent(e),n=this.computeFutureIndex(r,e),i=s(s({},this.context),{},{futureIndex:n});return a(s(s({},e),{},{relatedContext:r,draggedContext:i}),t)},onDragEnd:function(){z=null}}}),W=U;t.default=W},fb6a:function(e,t,a){var o=a("23e7"),r=a("861d"),n=a("e8b5"),i=a("23cb"),l=a("50c4"),s=a("fc6a"),c=a("8418"),d=a("b622"),u=a("1dde"),p=a("ae40"),h=u("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),f=[].slice,g=Math.max;o({target:"Array",proto:!0,forced:!h||!m},{slice:function(e,t){var a,o,d,u=s(this),p=l(u.length),h=i(e,p),m=i(void 0===t?p:t,p);if(n(u)&&("function"!=typeof(a=u.constructor)||a!==Array&&!n(a.prototype)?r(a)&&null===(a=a[v])&&(a=void 0):a=void 0,a===Array||void 0===a))return f.call(u,h,m);for(o=new(void 0===a?Array:a)(g(m-h,0)),d=0;h<m;h++,d++)h in u&&c(o,d,u[h]);return o.length=d,o}})},fc6a:function(e,t,a){var o=a("44ad"),r=a("1d80");e.exports=function(e){return o(r(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,a){var o=a("4930");e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},e.exports=a(require$$0,require$$1)}(vuedraggable_umd);var vuedraggable_umdExports=vuedraggable_umd.exports;const draggable=getDefaultExportFromCjs(vuedraggable_umdExports);var vueDragscroll_min={exports:{}};!function(e,t){window,e.exports=function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=0)}([function(e,t,a){a.r(t);var o=function(e,t,a){for(var o=0,r=t.length;o<r;o++)e.addEventListener(t[o],a)},r=function(e,t,a){for(var o=0,r=t.length;o<r;o++)e.removeEventListener(t[o],a)},n=function(e,t,a){var o;e.componentInstance?e.componentInstance.$emit(t,a):("function"==typeof window.CustomEvent?o=new window.CustomEvent(t,{detail:a}):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.elm.dispatchEvent(o))};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["mousedown","touchstart"],s=["mousemove","touchmove"],c=["mouseup","touchend"],d=function(e,t,a){var d=e,u=!0;"boolean"==typeof t.value?u=t.value:"object"===i(t.value)?("string"==typeof t.value.target?(d=e.querySelector(t.value.target))||console.error("There is no element with the current target value."):void 0!==t.value.target&&console.error("The parameter \"target\" should be be either 'undefined' or 'string'."),"boolean"==typeof t.value.active?u=t.value.active:void 0!==t.value.active&&console.error("The parameter \"active\" value should be either 'undefined', 'true' or 'false'.")):void 0!==t.value&&console.error("The passed value should be either 'undefined', 'true' or 'false' or 'object'.");var p=function(){var e,r,i,u=!1,p=!1;d.md=function(a){a.preventDefault();var o=a instanceof window.MouseEvent,n=o?a.pageX:a.touches[0].pageX,l=o?a.pageY:a.touches[0].pageY,s=document.elementFromPoint(n-window.pageXOffset,l-window.pageYOffset),c="nochilddrag"===t.arg,u=t.modifiers.noleft,h=t.modifiers.noright,m=t.modifiers.nomiddle,v=t.modifiers.noback,f=t.modifiers.noforward,g="firstchilddrag"===t.arg,y=s===d,_=s===d.firstChild,b=c?void 0!==s.dataset.dragscroll:void 0===s.dataset.noDragscroll;(y||b&&(!g||_))&&(1===a.which&&u||2===a.which&&m||3===a.which&&h||4===a.which&&v||5===a.which&&f||(i=1,e=o?a.clientX:a.touches[0].clientX,r=o?a.clientY:a.touches[0].clientY,"touchstart"===a.type&&(p=!0)))},d.mu=function(e){i=0,u&&n(a,"dragscrollend"),u=!1,"touchend"===e.type&&!0===p?(e.target.click(),p=!1):e.target.focus()},d.mm=function(o){var l,s,c=o instanceof window.MouseEvent,p={};if(i){u||n(a,"dragscrollstart"),u=!0;var h=d.scrollLeft+d.clientWidth>=d.scrollWidth||0===d.scrollLeft,m=d.scrollTop+d.clientHeight>=d.scrollHeight||0===d.scrollTop;l=-e+(e=c?o.clientX:o.touches[0].clientX),s=-r+(r=c?o.clientY:o.touches[0].clientY),t.modifiers.pass?(d.scrollLeft-=t.modifiers.y?-0:l,d.scrollTop-=t.modifiers.x?-0:s,d===document.body&&(d.scrollLeft-=t.modifiers.y?-0:l,d.scrollTop-=t.modifiers.x?-0:s),(h||t.modifiers.y)&&window.scrollBy(-l,0),(m||t.modifiers.x)&&window.scrollBy(0,-s)):(t.modifiers.x&&(s=-0),t.modifiers.y&&(l=-0),d.scrollLeft-=l,d.scrollTop-=s,d===document.body&&(d.scrollLeft-=l,d.scrollTop-=s)),p.deltaX=-l,p.deltaY=-s,n(a,"dragscrollmove",p)}},o(d,l,d.md),o(window,c,d.mu),o(window,s,d.mm)};u?"complete"===document.readyState?p():window.addEventListener("load",p):(r(d,l,d.md),r(window,c,d.mu),r(window,s,d.mm))},u={bind:function(e,t,a){d(e,t,a)},update:function(e,t,a,o){JSON.stringify(t.value)!==JSON.stringify(t.oldValue)&&d(e,t,a)},unbind:function(e,t,a){var o=e;r(o,l,o.md),r(window,c,o.mu),r(window,s,o.mm)}};a.d(t,"dragscroll",function(){return u});var p={install:function(e,t){var a=Number(e.version.split(".")[0]),o=Number(e.version.split(".")[1]);if(a<2&&o<1)throw new Error("v-dragscroll supports vue version 2.1 and above. You are using Vue@".concat(e.version,". Please upgrade to the latest version of Vue."));e.directive("dragscroll",u)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=p,window.Vue.use(p)),t.default=p}])}(vueDragscroll_min);var vueDragscroll_minExports=vueDragscroll_min.exports;const makeVBadgeProps=propsFactory({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:IconValue,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...makeComponentProps(),...makeLocationProps({location:"top end"}),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeTransitionProps$1({transition:"scale-rotate-transition"}),...makeDimensionProps()},"VBadge"),VBadge=genericComponent()({name:"VBadge",inheritAttrs:!1,props:makeVBadgeProps(),setup(e,t){const{backgroundColorClasses:a,backgroundColorStyles:o}=useBackgroundColor(()=>e.color),{roundedClasses:r}=useRounded(e),{t:n}=useLocale(),{textColorClasses:i,textColorStyles:l}=useTextColor(()=>e.textColor),{themeClasses:s}=useTheme(),{locationStyles:c}=useLocation(e,!0,t=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(t)?Number(e.offsetY??0):["left","right"].includes(t)?Number(e.offsetX??0):0)),{dimensionStyles:d}=useDimension(e);return useRender(()=>{const u=Number(e.content),p=!e.max||isNaN(u)?e.content:u<=Number(e.max)?u:`${e.max}+`,[h,m]=pickWithRest(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return createVNode(e.tag,mergeProps({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},m,{style:e.style}),{default:()=>{var m,v;return[createBaseVNode("div",{class:"v-badge__wrapper"},[null==(v=(m=t.slots).default)?void 0:v.call(m),createVNode(MaybeTransition,{transition:e.transition},{default:()=>{var m,v;return[withDirectives(createBaseVNode("span",mergeProps({class:["v-badge__badge",s.value,a.value,r.value,i.value],style:[o.value,l.value,d.value,e.inline?{}:c.value],"aria-atomic":"true","aria-label":n(e.label,u),"aria-live":"polite",role:"status"},h),[e.dot?void 0:t.slots.badge?null==(v=(m=t.slots).badge)?void 0:v.call(m):e.icon?createVNode(VIcon,{icon:e.icon},null):p]),[[vShow,e.modelValue]])]}})])]}})}),{}}}),VExpansionPanelSymbol=Symbol.for("vuetify:v-expansion-panel"),makeVExpansionPanelTextProps=propsFactory({...makeComponentProps(),...makeLazyProps()},"VExpansionPanelText"),VExpansionPanelText=genericComponent()({name:"VExpansionPanelText",props:makeVExpansionPanelTextProps(),setup(e,t){let{slots:a}=t;const o=inject(VExpansionPanelSymbol);if(!o)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:n}=useLazy(e,o.isSelected);return useRender(()=>createVNode(VExpandTransition,{onAfterLeave:n},{default:()=>{var t;return[withDirectives(createBaseVNode("div",{class:normalizeClass(["v-expansion-panel-text",e.class]),style:normalizeStyle(e.style)},[a.default&&r.value&&createBaseVNode("div",{class:"v-expansion-panel-text__wrapper"},[null==(t=a.default)?void 0:t.call(a)])]),[[vShow,o.isSelected.value]])]}})),{}}}),makeVExpansionPanelTitleProps=propsFactory({color:String,expandIcon:{type:IconValue,default:"$expand"},collapseIcon:{type:IconValue,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...makeComponentProps(),...makeDimensionProps()},"VExpansionPanelTitle"),VExpansionPanelTitle=genericComponent()({name:"VExpansionPanelTitle",directives:{vRipple:Ripple},props:makeVExpansionPanelTitleProps(),setup(e,t){let{slots:a}=t;const o=inject(VExpansionPanelSymbol);if(!o)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{dimensionStyles:i}=useDimension(e),l=computed(()=>({collapseIcon:e.collapseIcon,disabled:o.disabled.value,expanded:o.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),s=toRef(()=>o.isSelected.value?e.collapseIcon:e.expandIcon);return useRender(()=>{var t;return withDirectives(createBaseVNode("button",{class:normalizeClass(["v-expansion-panel-title",{"v-expansion-panel-title--active":o.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class]),style:normalizeStyle([n.value,i.value,e.style]),type:"button",tabindex:o.disabled.value?-1:void 0,disabled:o.disabled.value,"aria-expanded":o.isSelected.value,onClick:e.readonly?void 0:o.toggle},[createBaseVNode("span",{class:"v-expansion-panel-title__overlay"},null),null==(t=a.default)?void 0:t.call(a,l.value),!e.hideActions&&createVNode(VDefaultsProvider,{defaults:{VIcon:{icon:s.value}}},{default:()=>{var e;return[createBaseVNode("span",{class:"v-expansion-panel-title__icon"},[(null==(e=a.actions)?void 0:e.call(a,l.value))??createVNode(VIcon,null,null)])]}})]),[[Ripple,e.ripple]])}),{}}}),makeVExpansionPanelProps=propsFactory({title:String,text:String,bgColor:String,...makeElevationProps(),...makeGroupItemProps(),...makeRoundedProps(),...makeTagProps(),...makeVExpansionPanelTitleProps(),...makeVExpansionPanelTextProps()},"VExpansionPanel"),VExpansionPanel=genericComponent()({name:"VExpansionPanel",props:makeVExpansionPanelProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const o=useGroupItem(e,VExpansionPanelSymbol),{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.bgColor),{elevationClasses:i}=useElevation(e),{roundedClasses:l}=useRounded(e),s=toRef(()=>(null==o?void 0:o.disabled.value)||e.disabled),c=computed(()=>o.group.items.value.reduce((e,t,a)=>(o.group.selected.value.includes(t.id)&&e.push(a),e),[])),d=computed(()=>{const e=o.group.items.value.findIndex(e=>e.id===o.id);return!o.isSelected.value&&c.value.some(t=>t-e===1)}),u=computed(()=>{const e=o.group.items.value.findIndex(e=>e.id===o.id);return!o.isSelected.value&&c.value.some(t=>t-e===-1)});return provide(VExpansionPanelSymbol,o),useRender(()=>{const t=!(!a.text&&!e.text),c=!(!a.title&&!e.title),p=VExpansionPanelTitle.filterProps(e),h=VExpansionPanelText.filterProps(e);return createVNode(e.tag,{class:normalizeClass(["v-expansion-panel",{"v-expansion-panel--active":o.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":u.value,"v-expansion-panel--disabled":s.value},l.value,r.value,e.class]),style:normalizeStyle([n.value,e.style])},{default:()=>[createBaseVNode("div",{class:normalizeClass(["v-expansion-panel__shadow",...i.value])},null),createVNode(VDefaultsProvider,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...h}}},{default:()=>{var o;return[c&&createVNode(VExpansionPanelTitle,{key:"title"},{default:()=>[a.title?a.title():e.title]}),t&&createVNode(VExpansionPanelText,{key:"text"},{default:()=>[a.text?a.text():e.text]}),null==(o=a.default)?void 0:o.call(a)]}})]})}),{groupItem:o}}}),allowedVariants=["default","accordion","inset","popout"],makeVExpansionPanelsProps=propsFactory({flat:Boolean,...makeGroupProps(),...pick(makeVExpansionPanelProps(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...makeThemeProps(),...makeComponentProps(),...makeTagProps(),variant:{type:String,default:"default",validator:e=>allowedVariants.includes(e)}},"VExpansionPanels"),VExpansionPanels=genericComponent()({name:"VExpansionPanels",props:makeVExpansionPanelsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{next:o,prev:r}=useGroup(e,VExpansionPanelSymbol),{themeClasses:n}=provideTheme(e),i=toRef(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return provideDefaults({VExpansionPanel:{bgColor:toRef(()=>e.bgColor),collapseIcon:toRef(()=>e.collapseIcon),color:toRef(()=>e.color),eager:toRef(()=>e.eager),elevation:toRef(()=>e.elevation),expandIcon:toRef(()=>e.expandIcon),focusable:toRef(()=>e.focusable),hideActions:toRef(()=>e.hideActions),readonly:toRef(()=>e.readonly),ripple:toRef(()=>e.ripple),rounded:toRef(()=>e.rounded),static:toRef(()=>e.static)}}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},n.value,i.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{prev:r,next:o})]}})),{next:o,prev:r}}}),_hoisted_1$s={class:"modern-watchlist"},_hoisted_2$q={class:"search-header"},_hoisted_3$o={class:"search-container"},_hoisted_4$n={key:0,class:"d-inline-flex",style:{"white-space":"nowrap"}},_hoisted_5$n={key:1,class:"d-inline-flex",style:{"white-space":"nowrap"}},_hoisted_6$n=["onClick"],_hoisted_7$n=["onClick"],_hoisted_8$n={style:{display:"flex","align-items":"center"}},_hoisted_9$n={class:"watchlist-indicator"},_hoisted_10$n={class:"pl-3"},_hoisted_11$n={class:"mr-2"},_hoisted_12$n={key:2,class:"options-basket-section"},_hoisted_13$m={class:"font-weight-bold mb-0 lh-16"},_hoisted_14$l={class:"pl-1 fw-6 fs-13 maintext--text mb-0 pt-1"},_hoisted_15$j={key:0,style:{height:"calc(100vh - 124px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},_hoisted_16$e={class:"maintext--text mb-0 fs-13"},_hoisted_17$e={class:"table-hov-text"},_hoisted_18$e={class:"subtext--text"},_hoisted_19$e={class:"subtext--text fs-10"},_hoisted_20$e={class:"float-right maintext--text fs-13"},_hoisted_21$e={key:2},_hoisted_22$e={class:"ml-1 primary--text"},_hoisted_23$e={class:"ml-1 primary--text"},_hoisted_24$e={key:3,class:"pos-abs",style:{bottom:"0",right:"0"}},_hoisted_25$d={key:4,class:"mutual-fund-section"},_hoisted_26$d={class:"ml-2 font-weight-bold fs-12"},_hoisted_27$d={key:1},_hoisted_28$d={key:0},_hoisted_29$d={class:"subtext--text fs-14 mt-2 mb-1"},_hoisted_30$d={key:4,style:{height:"calc(100vh - 172px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},_hoisted_31$b={key:0},_hoisted_32$a={class:"table-row pos-rlt"},_hoisted_33$9=["onClick"],_hoisted_34$8={class:"mb-0 float-right fs-12 subtext--text font-weight-regular"},_hoisted_35$8={class:"font-weight-medium maintext--text"},_hoisted_36$8={class:"font-weight-medium fs-9"},_hoisted_37$8={class:"font-weight-medium fs-9"},_hoisted_38$8={class:"mb-0 fs-10 subtext--text float-right font-weight-regular mt-1"},_hoisted_39$8={class:"font-weight-medium maintext--text"},_hoisted_40$8={class:"txt-999 fs-14 mb-1"},_hoisted_41$7={key:5,style:{height:"calc(100vh - 188px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},_hoisted_42$7={key:0},_hoisted_43$7={class:"font-weight-medium"},_hoisted_44$7={class:"font-weight-medium"},_hoisted_45$7={key:5,class:"predefined-watchlist-cards mb-3"},_hoisted_46$6={style:{display:"flex","justify-content":"space-between","align-content":"center !important"},class:"pa-2"},_hoisted_47$5={class:"text-right"},_hoisted_48$5={class:"maintext--text font-weight-medium fs-13"},_hoisted_49$5=["id"],_hoisted_50$5=["id"],_hoisted_51$5=["id"],_hoisted_52$5=["id"],_hoisted_53$5={class:"pos-abs pdmwlist z-i1 mt-n6 ml-0"},_hoisted_54$4={key:6,class:"exchange-filter-section"},_hoisted_55$4={key:0},_hoisted_56$4={class:"subtext--text fs-14 mt-2 mb-1"},_hoisted_57$3={key:7,class:"stock-list"},_hoisted_58$3={key:0,class:"loading-state"},_hoisted_59$3={key:1,class:"no-data-state"},_hoisted_60$3={key:2,class:"no-data-state"},_hoisted_61$3={key:3,style:{height:"calc(100vh - 218px)"},class:"overflow-y-auto overflow-x-hidden no-scroll",s:""},_hoisted_62$3=["onClick"],_hoisted_63$3={class:"maintext--text mb-1 fs-13 px-1"},_hoisted_64$3={class:"table-hov-text"},_hoisted_65$3={class:"subtext--text"},_hoisted_66$3={key:0,style:{"border-radius":"4px",padding:"0px 4px","background-color":"#F1F3F8 !important"},class:"ml-1"},_hoisted_67$3={class:"font-weight-medium fs-10 lh-16"},_hoisted_68$3={class:"float-right maintext--text fs-13"},_hoisted_69$3=["id"],_hoisted_70$3={class:"mb-0 px-1 lh-16"},_hoisted_71$3={style:{"border-radius":"4px",padding:"0px 6px","background-color":"#F1F3F8 !important"},class:"mr-1 table-hov-prd"},_hoisted_72$3={class:"font-weight-medium fs-10 lh-16"},_hoisted_73$3=["innerHTML"],_hoisted_74$3={class:"subtext--text fs-10"},_hoisted_75$2=["id"],_hoisted_76$2=["id"],_hoisted_77$2=["id"],_hoisted_78$2=["onClick"],_hoisted_79$2=["onClick"],_hoisted_80$2=["src"],_hoisted_81$2=["onClick"],_hoisted_82$2=["onClick"],_hoisted_83$2={key:8,style:{height:"calc(100vh - 188px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},_hoisted_84$1={key:0},_hoisted_85$1={class:"maintext--text mb-1 table-hov-text fs-13 font-weight-medium"},_hoisted_86$1={key:0,class:"subtext--text"},_hoisted_87$1={class:"d-flex align-center"},_hoisted_88$1={class:"font-weight-medium fs-10",style:{color:"black"}},_hoisted_89$1={key:0,class:"subtext--text fs-10 ml-1"},_hoisted_90$1=["onClick"],_hoisted_91$1=["onClick"],_hoisted_92$1={class:"py-2"},_hoisted_93$1=["onClick"],_hoisted_94$1={class:"mr-3 d-flex align-center"},_hoisted_95$1=["src"],_hoisted_96$1={class:"subline--text font-weight-medium fs-14 mb-0"},_hoisted_97$1={class:"font-weight-bold mb-2 maintext--text"},_hoisted_98$1={class:"body-2 mb-5 grey--text"},__default__={directives:{dragscroll:vueDragscroll_minExports.dragscroll}},_sfc_main$Q=Object.assign(__default__,{__name:"WatchList",setup(e){const t=useRouter$1(),a=useAppStore(),o=useAuthStore(),r=useSessionStore(),n=ref$1(!1),i=ref$1(!1),l=ref$1(!1),s=ref$1(!1),c=ref$1(!0),d=ref$1(!0),u=ref$1(!1);ref$1(null),ref$1(!1);const p=ref$1(null),h=ref$1(!1);let m=0,v=0;const f=ref$1(["Millionaire"]),g=ref$1(null),y=ref$1([]),_=ref$1({}),b=ref$1({}),w=ref$1({}),x=ref$1([]);ref$1([]);const V=ref$1(null),k=ref$1(0),C=ref$1(["All","Equity","F&O","Currency","Commodities","Indices"]),S=ref$1(null),N=ref$1([{key:"a",text:"Script - A to Z"},{key:"z",text:"Script - Z to A"},{key:"ltp-h",text:"Price - High to Low"},{key:"ltp-l",text:"Price - Low to High"},{key:"ch-h",text:"Per.chg - High to Low"},{key:"ch-l",text:"Per.chg - Low to High"}]),T=ref$1([]),B=ref$1([]),E=ref$1(null);ref$1(null);const I=ref$1("");ref$1(0),ref$1(["All","Equity","Debt","Hybrid","Other"]),ref$1([]);const $=ref$1(null),P=ref$1([{key:"a",text:"Script - A to Z"},{key:"z",text:"Script - Z to A"},{key:"nav-h",text:"NAV - High to Low"},{key:"nav-l",text:"NAV - Low to High"},{key:"y-h",text:"3yr rtn - High to Low"},{key:"y-l",text:"3yr rtn - Low to High"}]),D=ref$1(!1),L=ref$1([]),R=ref$1(!1),A=ref$1(0),O=ref$1(0),M=ref$1(!1),F=ref$1(!1),z=ref$1({}),H=ref$1(null),q=ref$1([{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}]),U=ref$1({NSE:[],BSE:[],MCX:[]}),W=ref$1(!1),j=ref$1({}),G=ref$1([0]),Y=ref$1({}),K=ref$1([{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Delete",icon:13,type:"delete"},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:"detail"}]),X=ref$1([]);ref$1([]);const J=(e,t)=>{const a={...b.value[e]||{}},o=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},r=o(t.ltp??t.lp??t.l),n=o(t.c??t.prev_close_price??t.close),i=o(t.ch),l=o(t.chp);return void 0!==r&&(a.ltp=r),void 0!==n&&(a.prevClose=n),void 0!==i&&(a.ch=i),void 0!==l&&(a.chp=l),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),b.value[e]=a,a},Q=ref$1([{key:"MY:HOLDINGS",text:"My stocks"},{key:"NIFTY50:NSE",text:"Nifty50"},{key:"NIFTYBANK:NSE",text:"Bank Nifty"},{key:"SENSEX:BSE",text:"Sensex"}]),Z=ref$1({}),ee=ref$1(""),te=ref$1(""),ae=ref$1([]),oe=ref$1(null),re=ref$1(!1),ne=ref$1(!1),ie=ref$1(""),le=ref$1(""),se=ref$1({show:!1,x:0,y:0,item:null,index:null}),ce=computed(()=>o.uid),de=computed(()=>o.mtoken),ue=computed(()=>["MY:HOLDINGS","NIFTY50:NSE","NIFTYBANK:NSE","SENSEX:BSE"].includes(g.value)),pe=computed(()=>({is:ue.value,...Z.value})),he=async()=>{const e=ce.value||sessionStorage.getItem("userid"),t=de.value||sessionStorage.getItem("msession"),a="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&e&&t;if(!a)return!1;if(!mynturl.myntapi||!mynturl.stat){if(ce.value){if(r.loadMyntUrl(ce.value))return!0}return params&&myntappurl.myntapi?(mynturl.myntapi=myntappurl.myntapi,mynturl.wss=myntappurl.wss,mynturl.source=myntappurl.source,mynturl.stat=1,!0):(a&&console.warn("⚠️ API URL not available yet, session may still be initializing"),!1)}return!0},me=e=>{if(!e)return"neutral";const t=parseFloat(e);return t>0?"positive":t<0?"negative":"neutral"};let ve=null;const fe=e=>{const t=e.target,a=t.selectionStart??te.value.length;te.value=te.value.toUpperCase(),nextTick(()=>{t.setSelectionRange(a,a)}),ve&&clearTimeout(ve),ve=setTimeout(async()=>{await ge()},500)},ge=async()=>{var e;if(!te.value||te.value.length<2)return ae.value=[],void(i.value=!1);if(await he()){i.value=!0,s.value=!0;try{Y.value&&0!==Object.keys(Y.value).length||await nt();const t=te.value.replace("&","%26"),a=(null==(e=Y.value)?void 0:e.exarr)||[],o=["","EQ","FO","CUR","COM","IDX"][k.value]||"",r=F.value?"1":"0",n=`jData={"uid":"${ce.value}","stext":"${t}","fil":${JSON.stringify(a)},"cat":"${o}","opt":"${r}"}&jKey=${de.value}`,i=await getGloabSearch(n);i&&"Ok"===i.stat&&i.values&&i.values.length>0?(x.value=i.values,Array.isArray(y.value)&&x.value.forEach(e=>{var t;if(y.value.some(t=>t.token===e.token)&&(e.watchlist=!0),["NFO","BFO"].includes(e.exch)){const a=e.tsym.includes("SENSEX")?e.dname.split(" "):e.tsym.split(/(\d+)/);e.tsyms=a[0],e.exp=e.instname.includes("FUT")?"FUT":e.instname.includes("OPT")?`${a[5]||a[3]||""} ${a[4]}${e.tsym.includes("SENSEX")||(null==(t=a[4])?void 0:t.includes("E"))?"":"E"}`:"",e.ser=e.instname.includes("OPT")?`${a[1]} ${a[2]} ${a[5]?a[3]:""}`:`${a[1]} ${a[2].slice(0,3)} ${a[3]&&"FUT"!==a[3]?a[3]:""}`}}),Ae(),V.value=null):(ae.value=[],x.value=[],V.value="noooo")}catch(t){console.error("Search error:",t),a.showSnackbar(0,"Search failed"),ae.value=[]}finally{s.value=!1}}},ye=async e=>{g.value=e,Q.value.find(t=>t.key===e)?await _e():await $e()},_e=async()=>{try{if(c.value=!0,!Z.value||"Ok"!==Z.value.stat)try{Z.value=await getPreDefinedMW()}catch(e){return console.log("PreDefinedMW load error in setPDwatchlist:",e),void(c.value=!1)}const a=Te(g.value);if(a&&Array.isArray(a)&&a.length>0&&(y.value=a,a.forEach(e=>{if(e.token&&b.value[e.token]){const t=b.value[e.token];e.ltp=void 0!==t.ltp?t.ltp.toFixed(2):e.ltp||null,e.ch=void 0!==t.ch?t.ch.toFixed(2):e.ch||null,e.chp=void 0!==t.chp?t.chp.toFixed(2):e.chp||null}}),Be()),y.value&&Array.isArray(y.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}if("MY:HOLDINGS"===g.value){let e=getMHoldingdata();if(!e||!Array.isArray(e)||0===e.length)try{if(await he()){const t=await getMHoldings(!0);t&&t.response&&Array.isArray(t.response)&&t.response.length>0&&(e=t.response)}}catch(t){console.error("Error loading holdings data:",t)}e&&e.length>0?(y.value=[],e.forEach(e=>{if(e.exch_tsym&&e.exch_tsym[0]){const t=e.exch_tsym[0];if(t.tsyms||t.tsym||!t.token||(t.tsym=t.token),t.ltp||0===t.ltp||(t.ltp=null),t.ch||0===t.ch||(t.ch=null),t.chp||0===t.chp||(t.chp=null),t.token&&b.value[t.token]){const e=b.value[t.token];void 0!==e.ltp&&(t.ltp=e.ltp.toFixed(2)),void 0!==e.ch&&(t.ch=e.ch.toFixed(2)),void 0!==e.chp&&(t.chp=e.chp.toFixed(2))}!t.id&&t.token&&(t.id=`holding_${t.token}_${Date.now()}`),y.value.push(t)}}),Be(),y.value.length>0&&Ne("MY:HOLDINGS",y.value)):y.value="no data"}else if(["NIFTY50:NSE","NIFTYBANK:NSE","SENSEX:BSE"].includes(g.value))if(Z.value&&Z.value[g.value]){const e=Z.value[g.value];Array.isArray(e)&&(y.value=[],e.forEach(e=>{if(e.token){if(e.tsyms||e.tsym||(e.tsym=e.token||"Unknown"),void 0===e.ltp||null===e.ltp?e.ltp=null:0===e.ltp&&(e.ltp=0),void 0===e.ch||null===e.ch?e.ch=null:0===e.ch&&(e.ch=0),void 0===e.chp||null===e.chp?e.chp=null:0===e.chp&&(e.chp=0),e.token&&b.value[e.token]){const t=b.value[e.token];void 0!==t.ltp&&(e.ltp=t.ltp.toFixed(2)),void 0!==t.ch&&(e.ch=t.ch.toFixed(2)),void 0!==t.chp&&(e.chp=t.chp.toFixed(2))}y.value.push(e)}}),Be())}else a&&Array.isArray(a)&&0!==a.length||(y.value="no data");if(Be(),y.value&&Array.isArray(y.value)&&y.value.length>0&&Ne(g.value,y.value),y.value&&Array.isArray(y.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e),setTimeout(()=>{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)},1200)}}catch(t){console.error("Set predefined watchlist error:",t);const e=Te(g.value);e&&Array.isArray(e)&&0!==e.length||(y.value="no data")}finally{c.value=!1}},be=async()=>{if(ie.value)if(f.value.includes(ie.value))a.showSnackbar(0,"Watchlist name already exists");else try{f.value.unshift(ie.value),g.value=ie.value,ke(),a.showSnackbar(1,`${ie.value} watchlist created`),re.value=!1,ie.value="",await $e()}catch(e){console.error("Create watchlist error:",e),a.showSnackbar(0,"Failed to create watchlist")}},we=async()=>{try{const e=f.value.indexOf(le.value);e>-1&&(f.value.splice(e,1),ke(),g.value===le.value&&(g.value=f.value[0]||"Millionaire",0===f.value.length&&(f.value=["Millionaire"],g.value="Millionaire"),await $e()),a.showSnackbar(1,`${le.value} watchlist deleted`))}catch(e){console.error("Delete watchlist error:",e),a.showSnackbar(0,"Failed to delete watchlist")}finally{ne.value=!1,le.value=""}},xe=async(e,t)=>{if(await he())try{const o=await getMwatchlistset(`jData={"uid":"${ce.value}","wlname":"${g.value}","scrips":"${e.exch}|${e.token}"}&jKey=${de.value}`,"DeleteMultiMWScrips");if("Ok"===o.stat){if(t>=0)y.value.splice(t,1);else{const t=y.value.findIndex(t=>t.token===e.token);t>=0&&y.value.splice(t,1)}a.showSnackbar(1,`${e.tsym||e.tsyms} removed from watchlist`)}else a.showSnackbar(0,o.emsg||"Failed to remove from watchlist")}catch(o){console.error("Remove from watchlist error:",o),a.showSnackbar(0,"Failed to remove from watchlist")}finally{se.value.show=!1}},Ve=async(e,t)=>{if(await he())try{let o,r="";if(X.value&&X.value.delete&&y.value&&"object"==typeof y.value&&Array.isArray(y.value)){for(let e=0;e<y.value.length;e++)r+=`${e>0?"#":""}${y.value[e].exch}|${y.value[e].token}`;o=`jData={"uid":"${ce.value}","wlname":"${X.value.wl}","scrips":"${r}"}&jKey=${de.value}`}else o=`jData={"uid":"${ce.value}","wlname":"${g.value}","scrips":"${e&&e.exch?e.exch+"|"+e.token:""}"}&jKey=${de.value}`;const n=await getMwatchlistset(o,"DeleteMultiMWScrips");if("Ok"===n.stat){if(X.value&&X.value.delete){const e=f.value.indexOf(X.value.wl);e>-1&&(f.value.splice(e,1),ke(),g.value===X.value.wl&&(g.value=f.value[0]||"Millionaire",0===f.value.length&&(f.value=["Millionaire"],g.value="Millionaire"),await $e())),a.showSnackbar(1,`${X.value.wl}, Watchlist deleted.`),X.value={}}else{if(Array.isArray(y.value))if(-1===t){const t=y.value.findIndex(t=>t.token==e.token);t>=0&&y.value.splice(t,1)}else t>=0&&y.value.splice(t,1);a.showSnackbar(1,`${e.tsym||e.tsyms||"Script"}, script removed`)}X.value={}}else a.showSnackbar(0,n.emsg||"Delete failed")}catch(o){console.error("Delete script error:",o),a.showSnackbar(0,"Failed to delete script")}},ke=()=>{ce.value&&localStorage.setItem(`${ce.value}_watchlists`,JSON.stringify(f.value))},Ce=()=>{ue.value||(ee.value=y.value.map(e=>`${e.exch}|${e.token}#`).join(""))},Se=async()=>{if(!ue.value)try{const e=y.value.map(e=>`${e.exch}|${e.token}#`).join(""),t=await getMwatchlistset(`jData={"uid":"${ce.value}","wlname":"${g.value}","scrips":"${ee.value}"}&jKey=${de.value}`,"DeleteMultiMWScrips");if(t&&"Ok"===t.stat){const t=await getMwatchlistset(`jData={"uid":"${ce.value}","wlname":"${g.value}","scrips":"${e}"}&jKey=${de.value}`,"AddMultiScripsToMW");t&&"Ok"===t.stat||(a.showSnackbar(0,"Reorder failed. Please try again."),await $e())}else a.showSnackbar(0,"Reorder failed. Please try again."),await $e()}catch(e){console.error("Drag end error:",e),a.showSnackbar(0,"Reorder failed. Please try again."),await $e()}},Ne=(e,t)=>{if(e&&t)try{if(w.value[e]={data:JSON.parse(JSON.stringify(t)),timestamp:Date.now()},ce.value){const a=`${ce.value}_watchlist_cache_${e}`;localStorage.setItem(a,JSON.stringify({data:t,timestamp:Date.now()}))}}catch(a){console.error("Error saving watchlist to cache:",a)}},Te=e=>{if(!e)return null;try{if(w.value[e]&&w.value[e].data)return JSON.parse(JSON.stringify(w.value[e].data));if(ce.value){const t=`${ce.value}_watchlist_cache_${e}`,a=localStorage.getItem(t);if(a){const t=JSON.parse(a);if(t&&t.data&&Date.now()-t.timestamp<864e5)return w.value[e]=t,JSON.parse(JSON.stringify(t.data))}}}catch(t){console.error("Error loading watchlist from cache:",t)}return null},Be=()=>{y.value&&Array.isArray(y.value)&&y.value.forEach((e,t)=>{e.id||e.token||(e.id=`item_${t}_${Date.now()}`)})},Ee=()=>{if(ce.value){const t=localStorage.getItem(`${ce.value}_watchlists`);if(t)try{const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return f.value=e,g.value=e[0],!0}catch(e){console.error("Error loading watchlists from localStorage:",e)}}return!1},Ie=async()=>{try{const e=sessionStorage.getItem("c3RhdHVz");if(!("dmFsaWR1c2Vy"===e&&ce.value&&de.value)){if(Ee()){const e=Te(g.value);e&&Array.isArray(e)&&e.length>0?y.value=e:y.value="no data",c.value=!1}else f.value=[],y.value="no data",c.value=!1;return}console.log("[MWList] Calling MWList API...",{uid:ce.value,mtoken:de.value?"present":"missing"});const t=await getMwatchlistset(`jData={"uid":"${ce.value}","actid":"${ce.value}"}&jKey=${de.value}`,"MWList");if(console.log("[MWList] API Response:",t),t&&(t.values&&t.values.length>0||"Ok"===t.stat)){const e=t.values?t.values.sort((e,t)=>e.localeCompare(t)):[];if(e.length>0)f.value=e,g.value=e[0],ke(),console.log("[MWList] Watchlist loaded:",{watchlist:e,selected:g.value});else if(console.log("[MWList] No values in response, trying localStorage fallback..."),Ee()){const e=Te(g.value);e&&Array.isArray(e)&&e.length>0?y.value=e:y.value="no data"}else f.value=["Millionaire"],g.value="Millionaire",ke()}else if(console.log("[MWList] API failed or empty, trying localStorage fallback..."),Ee()){const e=Te(g.value);e&&Array.isArray(e)&&e.length>0?y.value=e:y.value="no data"}else f.value=["Millionaire"],g.value="Millionaire",ke();await $e()}catch(e){if(console.error("[MWList] Get watchlist error:",e),Ee()){const e=Te(g.value);e&&Array.isArray(e)&&e.length>0?y.value=e:y.value="no data"}else f.value=["Millionaire"],g.value="Millionaire",ke(),await $e()}finally{c.value=!1}},$e=async()=>{if(!(await he())){const e=Te(g.value);return e&&Array.isArray(e)&&e.length>0?(y.value=e,void(c.value=!1)):(y.value="no data",void(c.value=!1))}c.value=!0;try{const e=Te(g.value);if(e&&Array.isArray(e)&&e.length>0&&(y.value=e,e.forEach(e=>{if(e.token&&b.value[e.token]){const t=b.value[e.token];e.ltp=void 0!==t.ltp?t.ltp.toFixed(2):e.ltp||null,e.ch=void 0!==t.ch?t.ch.toFixed(2):e.ch||null,e.chp=void 0!==t.chp?t.chp.toFixed(2):e.chp||null}}),Be()),y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}console.log("[API] Calling MarketWatch...",{wlname:g.value});let t=await getMwatchlistset(`jData={"uid":"${ce.value}","wlname":"${g.value}"}&jKey=${de.value}`,"MarketWatch");if(console.log("[API] MarketWatch Response:",t),t&&t.values&&t.values.length>0&&"Ok"==t.stat){let e=t.values;y.value=[];for(let t=0;t<e.length;t++)if(e[t].token){if(e[t].id=t+1,"NFO"!=e[t].exch&&"BFO"!=e[t].exch||(e[t].ser=e[t].tsym&&e[t].tsym.includes("SENSEX")?e[t].dname?e[t].dname.split(" "):[]:e[t].tsym?e[t].tsym.split(/(\d+)/):[],e[t].tsyms=e[t].ser&&e[t].ser[0]?e[t].ser[0]:e[t].tsym||e[t].token,e[t].exp=e[t].instname&&e[t].instname.includes("FUT")?"FUT":e[t].instname&&e[t].instname.includes("OPT")?`${e[t].ser[5]?e[t].ser[5]:e[t].ser[3]?e[t].ser[3]:""} ${e[t].ser[4]?e[t].ser[4]:""}${e[t].ser[4]&&e[t].ser[4].includes("E")?"":"E"}`:"",e[t].ser=e[t].instname&&e[t].instname.includes("OPT")?`${e[t].ser[1]} ${e[t].ser[2]} ${e[t].ser[5]?e[t].ser[3]:""}`:`${e[t].ser[1]} ${e[t].ser[2]?e[t].ser[2].slice(0,3):""} ${e[t].ser[3]&&"FUT"!=e[t].ser[3]?e[t].ser[3]:""}`),e[t].tsyms||e[t].tsym||(e[t].tsym=e[t].token||`Item ${t+1}`),void 0===e[t].ltp||null===e[t].ltp?e[t].ltp=null:0===e[t].ltp&&(e[t].ltp=0),void 0===e[t].ch||null===e[t].ch?e[t].ch=null:0===e[t].ch&&(e[t].ch=0),void 0===e[t].chp||null===e[t].chp?e[t].chp=null:0===e[t].chp&&(e[t].chp=0),e[t].token&&b.value[e[t].token]){const a=b.value[e[t].token];void 0!==a.ltp&&(e[t].ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(e[t].ch=a.ch.toFixed(2)),void 0!==a.chp&&(e[t].chp=a.chp.toFixed(2))}y.value.push(e[t])}if(0===y.value.length)return y.value="no data",void(c.value=!1);if(Be(),Ne(g.value,y.value),y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}setTimeout(()=>{if(y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}else c.value=!1,e&&Array.isArray(e)&&0!==e.length||(y.value="no data")}catch(e){console.error("Get watchlist data error:",e);const t=Te(g.value);t&&Array.isArray(t)&&0!==t.length||(y.value="no data")}finally{c.value=!1}},Pe=e=>{const t=e.detail;if(t&&(t.token||t.tk)){const e=t,a=e.token||e.tk;if(q.value&&Array.isArray(q.value)){const t=q.value.findIndex(e=>e.token==a);if(t>=0&&q.value[t].token==a){void 0!==e.lp&&(q.value[t].ltp=Number(e.lp).toFixed(2)),void 0!==e.ch&&(q.value[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2)),void 0!==e.chp&&(q.value[t].chp=Number(e.chp).toFixed(2));const o=document.getElementById(`p${a}ltp`);if(o){o.innerHTML=q.value[t].ltp||"0.00";const e=document.getElementById(`p${a}ch`),r=document.getElementById(`p${a}chp`),n=document.getElementById(`p${a}chpclr`);if(e&&(e.innerHTML=q.value[t].ch||"0.00"),r&&(r.innerHTML=` (${q.value[t].chp||"0.00"}%)`),n){const e=q.value[t].ch;n.className=e>0?"d-inline-flex font-weight-medium fs-12 px-2 maingreen--text":e<0?"d-inline-flex font-weight-medium fs-12 px-2 mainred--text":"d-inline-flex font-weight-medium fs-12 px-2 subtext--text"}}}}}if(Array.isArray(t)&&t.length>=2){const[e,a]=t;e&&y.value&&Array.isArray(y.value)&&("dk"===e.t||"df"===e.t?De(e):(e.tk||e.token)&&Le(e))}else if(t&&(t.token||t.tk||t.t)){const e=t,a=e.token||e.tk||e.t;if(y.value&&Array.isArray(y.value)){y.value.findIndex(e=>e.token==a)>=0&&("dk"===e.t||"df"===e.t?De(e):void 0===e.lp&&void 0===e.ch&&void 0===e.chp||Le(e))}}},De=e=>{const t=e.tk||e.token,a=e.e||e.exchange;if(!t)return;let o=y.value.findIndex(e=>e.token===t&&e.exch===a);if(o<0&&(o=y.value.findIndex(e=>e.token===t)),o>=0){const a=J(t,e);isFinite(a.ltp)&&(_.value[t]={ltp:a.ltp,ch:a.ch??0,chp:a.chp??0});const r={...y.value[o]};void 0!==a.ltp&&(r.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(r.ch=a.ch.toFixed(2)),void 0!==a.chp&&(r.chp=a.chp.toFixed(2)),y.value[o]={...y.value[o],...r},Re(t,{ltp:r.ltp??y.value[o].ltp??"0.00",ch:r.ch??y.value[o].ch??"0.00",chp:r.chp??y.value[o].chp??"0.00"}),y.value&&Array.isArray(y.value)&&y.value.length>0&&Ne(g.value,y.value)}},Le=e=>{const t=e.token||e.tk,a=y.value.findIndex(e=>e.token===t);if(a>=0){const o=J(t,e);isFinite(o.ltp)&&(_.value[t]={ltp:o.ltp,ch:o.ch??0,chp:o.chp??0});const r={...y.value[a]};void 0!==o.ltp&&(r.ltp=o.ltp.toFixed(2)),void 0!==o.ch&&(r.ch=o.ch.toFixed(2)),void 0!==o.chp&&(r.chp=o.chp.toFixed(2)),y.value[a]={...y.value[a],...r},Re(t,{ltp:r.ltp??y.value[a].ltp??"0.00",ch:r.ch??y.value[a].ch??"0.00",chp:r.chp??y.value[a].chp??"0.00"}),y.value&&Array.isArray(y.value)&&y.value.length>0&&Ne(g.value,y.value)}},Re=(e,t)=>{const a=document.getElementById(`${e}ltp`),o=document.getElementById(`${e}ch`),r=document.getElementById(`${e}chp`);a&&(a.textContent=t.ltp||"0.00"),o&&(o.textContent=(e=>{if(!e)return"0.00";const t=parseFloat(e);return t>0?`+${t.toFixed(2)}`:t.toFixed(2)})(t.ch),o.className=`change-value ${me(t.ch)}`),r&&(r.textContent=`(${(e=>{if(!e)return"0.00%";const t=parseFloat(e);return`${t>0?`+${t.toFixed(2)}`:t.toFixed(2)}%`})(t.chp)})`,r.className=`change-percent ${me(t.chp)}`)},Ae=()=>{if(ae.value=[],0==k.value)ae.value=x.value;else if(k.value>=1&&k.value<=4)for(let e=0;e<x.value.length;e++)(1!=k.value||"NSE"!=x.value[e].exch&&"BSE"!=x.value[e].exch)&&(2!=k.value||"NFO"!=x.value[e].exch&&"BFO"!=x.value[e].exch)?(3==k.value&&"CDS"==x.value[e].exch||4==k.value&&"MCX"==x.value[e].exch)&&ae.value.push(x.value[e]):ae.value.push(x.value[e]);else ae.value=[],V.value="noooo";c.value=!1},Oe=async e=>{B.value=[],s.value=!0;try{const t=await fetch("https://v3.mynt.in/mfapi/dashboard/mfsearch",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.json();if(s.value=!1,a.data){const e=a.data,t=new Set(T.value.map(e=>e.ISIN));B.value=e.map(e=>({...e,watchlist:t.has(e.ISIN)}))}}catch(t){console.error("Mutual fund search error:",t),s.value=!1,a.showSnackbar(0,"Failed to search mutual funds")}},Me=()=>{setTimeout(()=>{const e=document.querySelector(".mf-search-input");if(e){const t=e.querySelector("input");t&&t.focus()}},10)},Fe=e=>{e&&e.target?(I.value=e.target.value.toUpperCase(),Oe(I.value)):Oe(I.value)},ze=()=>{if(!T.value||!Array.isArray(T.value))return;const e=$.value;"a"===e?T.value.sort((e,t)=>(e.name||"").localeCompare(t.name||"")):"z"===e?T.value.sort((e,t)=>(t.name||"").localeCompare(e.name||"")):"nav-h"===e?T.value.sort((e,t)=>(Number(t.AUM)||0)-(Number(e.AUM)||0)):"nav-l"===e?T.value.sort((e,t)=>(Number(e.AUM)||0)-(Number(t.AUM)||0)):"y-h"===e?T.value.sort((e,t)=>(Number(t["3Year"])||0)-(Number(e["3Year"])||0)):"y-l"===e&&T.value.sort((e,t)=>(Number(e["3Year"])||0)-(Number(t["3Year"])||0))},He=async(e,t,o)=>{const r="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&ce.value;if(!r&&!e)return void(d.value=!1);if(r&&!(await he()))return void(d.value=!1);if(!r)return void(d.value=!1);let n;d.value=!0,n="add"==e?{client_code:ce.value,type:"add",isin:t.ISIN}:"delete"==e?{client_code:ce.value,isin:t.ISIN,type:"delete"}:{client_code:ce.value};try{console.log("[API] Calling watchlist_for_mobile (getMFwatchlist)...",{mode:e,hasItem:!!t,del:o});let r=await getMFwatchlist(JSON.stringify(n));console.log("[API] watchlist_for_mobile Response:",r);var i=[];if(r.scripts&&r.scripts.length>0&&"Ok"==r.stat&&!r.msg||"script added"==r.msg&&"Ok"==r.stat?i=r.scripts:"script deleted"==r.msg&&"Ok"==r.stat?T.value.splice(o,1):"No data"!=r.scripts&&e&&a.showSnackbar(0,r.msg?r.msg:r),i&&i.length>0){for(let t=0;t<i.length;t++){let e=i[t].Scheme_Name.split("-").slice(0);for(let a=0;a<e.length;a++)i[t].splito=e[a].includes("GROWTH")?"GROWTH":e[a].includes("IDCW PAYOUT")?"IDCW PAYOUT":e[a].includes("IDCW REINVESTMENT")?"IDCW REINVESTMENT":e[a].includes("IDCW")?"IDCW":"NORMAL";i[t].splitt=i[t].Scheme_Type.toUpperCase()}T.value=i;const e=new Set(T.value.map(e=>e.ISIN));B.value=B.value.map(t=>({...t,watchlist:e.has(t.ISIN)})),ze()}}catch(l){console.error("Mutual fund watchlist error:",l),a.showSnackbar(0,"Failed to update mutual fund watchlist")}finally{d.value=!1}},qe=(e,t)=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mforder",item:t,value:e}}))},Ue=async()=>{if(!L.value||0===L.value.length)return A.value=0,void(O.value=0);let e={basketlists:[]};for(let a=0;a<L.value.length;a++){const t=L.value[a];t.basketlists||(t.basketlists=[]),0===t.basketlists.length&&a>0&&t.basketlists.push({uid:ce.value,actid:ce.value,discqty:"0",exch:t.exch,pCode:"I",prctyp:t.ordvai,prd:"I",prc:"MKT"==t.ordvai?"":t.ordprc,qty:String(t.ls*t.ordlot),ret:"DAY",symbol_id:t.token,tsym:t.tsym,trantype:"BUY"==t.buySell?"B":"S",trgprc:"0"}),t.basketlists&&t.basketlists.length>0&&e.basketlists.push(...t.basketlists)}if(e.basketlists.length>0)try{let t=await getBSKMargin(e);A.value=null==t.marginused?0:t.marginused,O.value=null==t.marginusedtrade?0:t.marginusedtrade}catch(t){console.error("Margin calculation error:",t),A.value=0,O.value=0}else A.value=0,O.value=0},We=(e,t,a)=>{"delete"==t?(L.value.splice(e,1),Ue()):L.value[e]&&(L.value[e][t]=a,Ue())},je=async e=>{await he()&&(M.value=!0,e<=L.value.length-1?await Ge(L.value[e],e):(a.showSnackbar(1,"Basket order placed successfully"),window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"orders"})),M.value=!1))},Ge=async(e,t)=>{if(!(await he()))return;let o={uid:ce.value,actid:ce.value,exch:e.exch,tsym:e.tsym,ret:"DAY",qty:String(Number(e.ls)*Number(e.ordlot)),prc:"MKT"==e.ordvai?"0":e.ordprc,prd:R.value?"I":"M",trantype:"BUY"==e.buySell?"B":"S",prctyp:e.ordvai,trailprc:"",channel:"",userAgent:"",appInstaId:"",trgprc:"0",mktProt:""};try{let e=await getPlaceOrder(o);if("Ok"!=e.stat)return a.showSnackbar(0,e.emsg?e.emsg:e),void(M.value=!1);setTimeout(()=>{je(t+1)},100)}catch(r){console.error("Place order error:",r),a.showSnackbar(0,"Failed to place order"),M.value=!1}},Ye=ref$1(!1),Ke=ref$1(!1),Xe=ref$1(!1),Je=async()=>{if(await he())try{console.log("[API] Calling PositionBook...");const e=await getMPosotion(!0);console.log("[API] PositionBook Response:",e)}catch(e){console.error("[API] PositionBook Error:",e)}},Qe=async()=>{if(await he())try{console.log("[API] Calling Holdings...");const e=await getMHoldings(!0);console.log("[API] Holdings Response:",e)}catch(e){console.error("[API] Holdings Error:",e)}},Ze=async()=>{if(await he())try{console.log("[API] Calling OrderBook...");const e=await getMOrderbook();console.log("[API] OrderBook Response:",e)}catch(e){console.error("[API] OrderBook Error:",e)}},et=async()=>{if(await he())try{console.log("[API] Calling Limits...");const e=await getMLimits(!0);console.log("[API] Limits Response:",e)}catch(e){console.error("[API] Limits Error:",e)}},tt=async()=>{if(Ye.value)console.log("[API] Trading data APIs already called, skipping...");else{Ye.value=!0,console.log("[API] Calling trading data APIs after login...");try{await Promise.all([Je(),Qe(),Ze(),et()])}catch(e){console.error("[API] Error calling trading data APIs:",e),Ye.value=!1}}},at=async(e,t)=>{if(e&&null!=t&&(console.log("[API] Opening index dialog for:",{item:e,callback:t,pdmwdataLength:q.value.length}),j.value={...e},q.value&&void 0!==q.value[t]&&(j.value.n=q.value[t].token,j.value.token=q.value[t].token),W.value=!0,G.value=[0],console.log("[API] Index dialog opened, singleindex:",j.value,"indexdialog:",W.value)),await he())try{console.log("[API] Calling getadindices (getIndexList)...");let e=await getIndexList();console.log("[API] getadindices Response:",e),e&&"Ok"==e.stat?(U.value={NSE:[],BSE:[],MCX:[]},e.NSE&&(U.value.NSE=e.NSE),e.BSE&&(U.value.BSE=e.BSE),e.MCX&&(U.value.MCX=e.MCX),e.NSE&&0!==e.NSE.length||!e.values||(e.values.NSE&&(U.value.NSE=e.values.NSE),e.values.BSE&&(U.value.BSE=e.values.BSE),e.values.MCX&&(U.value.MCX=e.values.MCX)),console.log("[API] Allindex populated:",{NSE:U.value.NSE.length,BSE:U.value.BSE.length,MCX:U.value.MCX.length})):console.warn("[API] getIndexList response not OK:",e)}catch(a){console.error("[API] Get index list error:",a)}},ot=async()=>{if(await he())if(Ke.value)console.log("[API] getadindicesAdvdec already called, skipping...");else{Ke.value=!0;try{console.log("[API] Calling getadindicesAdvdec (getADindices)...");const e=await getADindices();console.log("[API] getadindicesAdvdec Response:",e)}catch(e){console.error("[API] getadindicesAdvdec Error:",e)}}},rt=async()=>{if(Xe.value)console.log("[API] GetLtp (fetchInitialIndicesData) already called, skipping...");else if(q.value&&0!==q.value.length)if(await he()){Xe.value=!0;try{const t=q.value.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym||e.tsym}));console.log("fetchInitialIndicesData: Fetching data for",t.length,"indices");const a=await getLtpdata(t),o=null==a?void 0:a.data;if(o){console.log("fetchInitialIndicesData: Received data for",Object.keys(o).length,"tokens");let t=!1;for(let e=0;e<q.value.length;e++){const a=q.value[e],r=o[a.token];if(r){const o=Number(r.lp||r.ltp||0).toFixed(2),n=Number(r.close||r.prev_close_price||0),i=n>0?Number(o-n).toFixed(2):Number(r.ch||0).toFixed(2),l=n>0?Number(i/n*100).toFixed(2):Number(r.chp||0).toFixed(2);q.value[e].ltp=o,q.value[e].ch=i,q.value[e].chp=l,t=!0,await nextTick();const s=document.getElementById(`p${a.token}ltp`);if(s){s.innerHTML=o;const e=document.getElementById(`p${a.token}ch`),t=document.getElementById(`p${a.token}chp`),r=document.getElementById(`p${a.token}chpclr`);if(e&&(e.innerHTML=i),t&&(t.innerHTML=` (${l}%)`),r){const e=parseFloat(i)||0;r.className=e>0?"d-inline-flex font-weight-medium fs-12 px-2 maingreen--text":e<0?"d-inline-flex font-weight-medium fs-12 px-2 mainred--text":"d-inline-flex font-weight-medium fs-12 px-2 subtext--text"}}}else console.log("fetchInitialIndicesData: No data for token",a.token)}if(t&&ce.value)try{localStorage.setItem(`${ce.value}_pdmwdata`,JSON.stringify(q.value))}catch(e){console.error("Error saving pdmwdata cache:",e)}}}catch(t){console.error("fetchInitialIndicesData error:",t)}}else console.log("fetchInitialIndicesData: Session not ready");else console.log("fetchInitialIndicesData: pdmwdata is empty")},nt=async()=>{if(await he())try{console.log("[API] Calling ClientDetails...");let e=await getClientDetails();console.log("[API] ClientDetails Response:",e),e&&"Ok"==e.stat&&(Y.value=e)}catch(e){console.error("[API] ClientDetails Error:",e)}},it=e=>{p.value&&0===e.button&&(h.value=!0,m=e.pageX-p.value.offsetLeft,v=p.value.scrollLeft,p.value.style.cursor="grabbing",document.addEventListener("mousemove",st),document.addEventListener("mouseup",ct),e.preventDefault(),e.stopPropagation())},lt=e=>{if(!h.value||!p.value)return;e.preventDefault(),e.stopPropagation();const t=2*(e.pageX-p.value.offsetLeft-m);p.value.scrollLeft=v-t},st=e=>{if(!h.value||!p.value)return;e.preventDefault();const t=2*(e.pageX-p.value.offsetLeft-m);p.value.scrollLeft=v-t},ct=()=>{h.value=!1,p.value&&(p.value.style.cursor="grab"),document.removeEventListener("mousemove",st),document.removeEventListener("mouseup",ct)},dt=()=>{ct()},ut=()=>{ae.value=[],V.value="noooo",s.value=!1,H.value=null,I.value="",F.value=!1,z.value={},l.value&&(l.value=!1),i.value&&(i.value=!1),te.value="",I.value="",F.value=!1,z.value={}},pt=(e,a,o,r)=>{if(console.log("setSSDtab called:",{type:e,token:a,exch:o,tsym:r}),"alert"===e){const e=new CustomEvent("menudialog",{detail:{type:"alert",token:a,exch:o,tsym:r}});window.dispatchEvent(e)}else if("cGTT"===e){const e=new CustomEvent("menudialog",{detail:{type:"order-GTT",token:a,exch:o,tsym:r,trans:"b"}});window.dispatchEvent(e)}else{const n=window.location,i=[e,a,o,r];if(localStorage.setItem("ssdParams",JSON.stringify(i)),localStorage.setItem("ssdtsym",`${o}:${r}`),localStorage.setItem("ssdtoken",a),console.log("Navigating to stocks details with params:",i),"/stocks/details"!==n.pathname)t.push({name:"stocks details",params:{val:i},query:{type:e,token:a,exch:o,tsym:r}});else{const t=new CustomEvent("ssd-event",{detail:{type:e,token:a,exch:o,tsym:r}});window.dispatchEvent(t)}}},ht=(e,t,a,o,r)=>{const n=new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:o,trantype:r}});window.dispatchEvent(n)},mt=e=>{var t,a;const o=getMHoldingdata();if(!o||!Array.isArray(o)||0===o.length)return"";const r=o.find(t=>t.token==e||t.exch_tsym&&t.exch_tsym[0]&&t.exch_tsym[0].token==e),n=(null==r?void 0:r.netqty)||(null==(a=null==(t=null==r?void 0:r.exch_tsym)?void 0:t[0])?void 0:a.netqty)||null;return vt(n)},vt=e=>e>0?`\n            <span style="border-radius: 4px; padding: 0px 6px; background-color: #F1F3F8 !important"\n                class="mr-1 table-hov-prd d-inline-flex align-center">\n                <img width="13px" src="/src/assets/suitcase.svg" />\n                <span class="font-weight-medium fs-12 pl-1 pt-1 primary--text"> ${e}</span>\n            </span>`:"",ft=e=>{const{data:t,value:a}=e.detail||{};1==a&&t?(n.value=!0,E.value=t,ce.value&&He()):n.value="Mutual Fund"===a},gt=e=>{const{type:t,data:o}=e.detail||{};if(o){if(-1==L.value.findIndex(e=>e.tsym==o.tsym)){const e=o.tsym.includes("SENSEX")&&o.tsym.includes(" ")?o.dname.split(" "):o.tsym.split(/(\d+)/);o.ser=e,o.tsyms=e[0],o.checkbox=!0,o.exp=`${e[5]?e[5]:e[3]?e[3]:""} ${e[4]?e[4]:""}${e[4]&&e[4].includes("E")?"":"E"}`,o.ser=`${e[1]} ${e[2]} ${e[5]?e[3]:""}`,o.buySell=o.buySell||"BUY",o.ordvai=o.ordvai||"MKT",o.ordlot=o.ordlot||1,o.ordprc=o.ordprc||"",L.value.push(o),Ue()}else a.showSnackbar(0,"This script is already exists.")}D.value=!0},yt=e=>{const t=e.detail||{};F.value=!0,z.value=t,ae.value=[],V.value=null,i.value=!0,setTimeout(()=>{const e=document.querySelector(".search-input");e&&e.focus()},100),H.value&&H.value.length>2&&ge()},_t=e=>{const t=e.detail;let a,o;Array.isArray(t)?(a=t[0],o=t[1]):t&&"object"==typeof t?(a=t.data||t,o=t.type):(a=t,o=null),"searchss"===o?!0!==i.value&&(i.value=!0,l.value=!1,ae.value=[],V.value=null,setTimeout(()=>{const e=document.querySelector(".search-input");e&&e.focus()},100)):"mf"===o?a&&He("add",a,"mf"):a&&(oe.value=a,i.value=!0,(a.tsym||a.tsyms)&&(te.value=a.tsym||a.tsyms,setTimeout(()=>{ge()},100)))};return onMounted(async()=>{window.location.pathname.includes("mutualfund")?n.value=!0:n.value=!1,u.value||(window.addEventListener("web-scoketConn",Pe),u.value=!0),window.addEventListener("setappbar-event",ft),window.addEventListener("addscript-wl",_t),window.addEventListener("bskwatch-event",gt),window.addEventListener("option-search",yt),await nt();try{Z.value=await getPreDefinedMW()}catch(a){console.log("PreDefinedMW load error in onMounted:",a)}const e=sessionStorage.getItem("c3RhdHVz");"dmFsaWR1c2Vy"===e&&ce.value&&de.value?(await Ie(),await He(),await tt(),g.value&&Q.value.find(e=>e.key===g.value)?await _e():g.value&&f.value&&f.value.length>0&&(!y.value||Array.isArray(y.value)&&0===y.value.length)&&await $e()):(g.value="NIFTY50:NSE",await _e()),c.value=!1;const t=[{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}];try{const e=localStorage.getItem(`${ce.value}_pdmwdata`);if(e){const a=JSON.parse(e);Array.isArray(a)&&2===a.length?q.value=a:q.value=t}else q.value=t}catch(a){console.log("pdmwdata load error:",a),q.value=t}if(q.value&&q.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:q.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}await at(),"dmFsaWR1c2Vy"===e&&ce.value&&de.value&&!Ke.value&&await ot(),await rt(),setTimeout(()=>{if(q.value&&q.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:q.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}if(y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}),onUnmounted(()=>{if(y.value&&Array.isArray(y.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}window.removeEventListener("web-scoketConn",Pe),window.removeEventListener("setappbar-event",ft),window.removeEventListener("addscript-wl",_t),window.removeEventListener("bskwatch-event",gt),window.removeEventListener("option-search",yt),h.value=!1,document.removeEventListener("mousemove",st),document.removeEventListener("mouseup",ct)}),watch([ce,de],async([e,t])=>{if("dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&e&&t){if(c.value=!0,d.value=!0,u.value||(window.addEventListener("web-scoketConn",Pe),u.value=!0),await nt(),!Z.value||"Ok"!==Z.value.stat)try{Z.value=await getPreDefinedMW(),console.log("Phase 2: PreDefinedMWRef loaded after login")}catch(a){console.log("PreDefinedMW load error in watch:",a)}if(await nextTick(),console.log("Phase 2: Forcing re-render of watchlist items after login"),await Ie(),await He(),await tt(),y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}const t=[{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}];try{const a=localStorage.getItem(`${e}_pdmwdata`);if(a){const e=JSON.parse(a);Array.isArray(e)&&2===e.length?q.value=e:q.value=t}else q.value=t}catch(a){console.log("pdmwdata load error in watch:",a),q.value=t}if(q.value&&q.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:q.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}if(Ke.value||await ot(),Xe.value||await rt(),g.value&&Q.value.find(e=>e.key===g.value)?await _e():g.value&&f.value&&0!==f.value.length||Q.value&&Q.value.length>0&&(g.value=Q.value[0].key,await _e()),y.value&&Array.isArray(y.value)&&y.value.length>0){console.log("Phase 1: Re-subscribing watchlistdata to WebSocket after login");const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e),setTimeout(()=>{if(y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},500),setTimeout(()=>{if(y.value&&Array.isArray(y.value)&&y.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:y.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}c.value=!1,d.value=!1}}),(e,o)=>{const r=resolveComponent("v-list-item-icon"),u=resolveDirective("dragscroll");return openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("div",_hoisted_2$q,[createBaseVNode("div",_hoisted_3$o,[createVNode(VIcon,{class:"search-icon"},{default:withCtx(()=>[...o[41]||(o[41]=[createTextVNode("mdi-magnify",-1)])]),_:1}),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>te.value=e),onInput:fe,placeholder:"Search script",class:normalizeClass(["search-input rounded-pill",{searching:s.value}])},null,34),[[vModelText,te.value]]),s.value?(openBlock(),createBlock(VProgressCircular,{key:0,size:"16",width:"2",indeterminate:"",class:"search-loader"})):createCommentVNode("",!0),i.value&&!s.value?(openBlock(),createBlock(VIcon,{key:1,onClick:o[1]||(o[1]=e=>ut()),disabled:c.value,color:"primary",class:"search-clear-icon cursor-pointer"},{default:withCtx(()=>[...o[42]||(o[42]=[createTextVNode("mdi-close",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)])]),n.value||D.value?createCommentVNode("",!0):(openBlock(),createBlock(VToolbar,{key:0,flat:"",dense:"",class:"tool-sty crd-trn"},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{ref_key:"watchlistTabsContainer",ref:p,onMousedown:it,onMouseup:dt,onMouseleave:dt,onMousemove:lt,style:{width:"calc(100% - 60px)",cursor:"grab","user-select":"none"},class:normalizeClass(["overflow-x-auto d-inline-flex no-scroll rounded-xl watchlist-tabs-scrollable",{dragging:h.value}])},[l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"pr-2"},[createVNode(VChip,{onClick:withModifiers(t=>{g.value=e,ye(e)},["stop"]),class:normalizeClass(["font-weight-medium px-3 py-1 watchlisttab",g.value===e?"watchlisttab-active":""]),size:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e),1)]),_:2},1032,["onClick","class"])]))),128))])),Q.value&&Q.value.length>0?(openBlock(),createElementBlock("div",_hoisted_5$n,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Q.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"pr-2"},[createVNode(VChip,{onClick:withModifiers(t=>{g.value=e.key,ye(e.key)},["stop"]),class:normalizeClass(["font-weight-medium px-3 watchlisttab",g.value===e.key?"watchlisttab-active":""]),size:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.text||e.key),1)]),_:2},1032,["onClick","class"])]))),128))])):createCommentVNode("",!0)],34)),[[u,void 0,void 0,{x:!0}]]),createVNode(VSpacer),createVNode(VMenu,{location:"bottom",offset:"4"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{disabled:c.value||!y.value||!Array.isArray(y.value)||0===y.value.length,class:"text-none font-weight-bold ml-2",variant:"text",style:{"border-radius":"8px","text-transform":"none","font-weight":"600"}}),{default:withCtx(()=>[createVNode(VIcon,{size:"20"},{default:withCtx(()=>[...o[43]||(o[43]=[createTextVNode("mdi-sort-variant",-1)])]),_:1})]),_:1},16,["disabled"])]),default:withCtx(()=>[createVNode(VCard,{density:"compact","min-width":"100",class:"py-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(N.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,onClick:t=>{S.value=e.key,(()=>{if(!y.value||!Array.isArray(y.value)||0===y.value.length)return;const e=S.value;"a"===e?y.value.sort((e,t)=>{const a=(e.tsyms||e.tsym||"").toString(),o=(t.tsyms||t.tsym||"").toString();return a.localeCompare(o)}):"z"===e?y.value.sort((e,t)=>{const a=(e.tsyms||e.tsym||"").toString();return(t.tsyms||t.tsym||"").toString().localeCompare(a)}):"ltp-h"===e?y.value.sort((e,t)=>{const a=parseFloat(e.ltp)||0;return(parseFloat(t.ltp)||0)-a}):"ltp-l"===e?y.value.sort((e,t)=>(parseFloat(e.ltp)||0)-(parseFloat(t.ltp)||0)):"ch-h"===e?y.value.sort((e,t)=>{const a=parseFloat(e.chp)||0;return(parseFloat(t.chp)||0)-a}):"ch-l"===e&&y.value.sort((e,t)=>(parseFloat(e.chp)||0)-(parseFloat(t.chp)||0)),y.value=[...y.value]})()},class:normalizeClass([S.value===e.key?"primary--text bg-primary-lighten-5":"","px-4 py-2 cursor-pointer"])},[createBaseVNode("p",{class:normalizeClass(S.value===e.key?"font-weight-bold":""),style:{"font-size":"12px !important","font-weight":"600 !important","padding-block":"2px !important"}},toDisplayString(e.text),3),S.value===e.key?(openBlock(),createBlock(VIcon,{key:0,color:"primary",size:"small"},{default:withCtx(()=>[...o[44]||(o[44]=[createTextVNode("mdi-check",-1)])]),_:1})):createCommentVNode("",!0)],10,_hoisted_6$n))),128))]),_:1})]),_:1}),createVNode(VTooltip,{location:"left",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[l.value?(openBlock(),createBlock(VIcon,{key:0,onClick:o[2]||(o[2]=e=>re.value=!0),disabled:f.value&&f.value.length>=10||c.value,color:"maintext"},{default:withCtx(()=>[...o[45]||(o[45]=[createTextVNode("mdi-plus",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(f.value&&f.value.length>=10?"Maximum 10 watchlists You can create.":"Create new watchlist"),1)]),_:1}),createVNode(VIcon,{onClick:o[3]||(o[3]=e=>(i.value=!1,l.value=!l.value)),disabled:c.value,color:"maintext",class:"ml-2"},{default:withCtx(()=>[createTextVNode(toDisplayString(l.value?"mdi-chevron-left":"mdi-dots-vertical"),1)]),_:1},8,["disabled"])]),_:1})),l.value?(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 rounded-xl mb-3",color:"cardbg"},{default:withCtx(()=>[createVNode(VList,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,onClick:t=>{ye(e),l.value=!1},class:normalizeClass(["cursor-pointer watchlist-manage-item",{active:e===g.value}]),style:{display:"flex","align-items":"center","justify-content":"space-between"}},[createBaseVNode("div",_hoisted_8$n,[createBaseVNode("div",_hoisted_9$n,[createBaseVNode("div",{class:normalizeClass(["indicator-square",e===g.value?"active":""])},null,2)]),createBaseVNode("div",_hoisted_10$n,[createBaseVNode("p",{class:normalizeClass(["watchlist-name",e===g.value?"font-weight-bold":""])},toDisplayString(e),3)])]),createBaseVNode("div",_hoisted_11$n,[createVNode(VBtn,{onClick:withModifiers(t=>(e=>{le.value=e,ne.value=!0})(e),["stop"]),icon:"",size:"small",variant:"text",class:"delete-btn"},{default:withCtx(()=>[createVNode(VIcon,{size:"30",color:"maintext"},{default:withCtx(()=>[...o[46]||(o[46]=[createTextVNode("mdi-delete-outline",-1)])]),_:1})]),_:1},8,["onClick"])])],10,_hoisted_7$n))),128))]),_:1})]),_:1})):createCommentVNode("",!0),D.value?(openBlock(),createElementBlock("div",_hoisted_12$n,[createVNode(VToolbar,{flat:"",density:"compact",class:"tool-sty crd-trn pl-1"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_13$m,"Basket Options("+toDisplayString(L.value.length)+")",1),createVNode(VSpacer),createVNode(VCard,{color:"secbg",class:"px-2 py-0 elevation-0 rounded-xl"},{default:withCtx(()=>[createVNode(VSwitch,{"hide-details":"",modelValue:R.value,"onUpdate:modelValue":o[4]||(o[4]=e=>R.value=e),density:"compact",class:"mt-n01"},{label:withCtx(()=>[createBaseVNode("p",_hoisted_14$l,toDisplayString(R.value?" MIS":" NRML"),1)]),_:1},8,["modelValue"])]),_:1}),createVNode(VBtn,{class:"mr-0",size:"small",icon:"",onClick:o[5]||(o[5]=e=>D.value=!1)},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:e})=>[createVNode(VIcon,normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[...o[47]||(o[47]=[createTextVNode("mdi-minus",-1)])]),_:1},16)]),default:withCtx(()=>[o[48]||(o[48]=createBaseVNode("span",null,"Minimize",-1))]),_:1})]),_:1}),createVNode(VBtn,{class:"mr-0",size:"small",icon:"",onClick:o[6]||(o[6]=e=>(D.value=!1,L.value=[]))},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:e})=>[createVNode(VIcon,normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[...o[49]||(o[49]=[createTextVNode("mdi-close",-1)])]),_:1},16)]),default:withCtx(()=>[o[50]||(o[50]=createBaseVNode("span",null,"Close",-1))]),_:1})]),_:1})]),_:1}),createVNode(VDivider),L.value&&L.value.length>0?(openBlock(),createElementBlock("div",_hoisted_15$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"pt-2 px-1"},[createBaseVNode("p",_hoisted_16$e,[createVNode(VIcon,{onClick:t=>(e.checkbox=!e.checkbox,Ue()),color:"primary",size:"14"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.checkbox?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"),1)]),_:2},1032,["onClick"]),createBaseVNode("span",_hoisted_17$e,toDisplayString(e.tsyms?e.tsyms:e.tsym?e.tsym:""),1),createBaseVNode("span",_hoisted_18$e,toDisplayString(e.exp?e.exp:""),1),createBaseVNode("span",_hoisted_19$e,toDisplayString(e.ser?e.ser:""),1),createBaseVNode("span",_hoisted_20$e,[createVNode(VIcon,{onClick:e=>We(t,"delete"),color:"maintext",class:"font-weight-bold",size:"16"},{default:withCtx(()=>[...o[51]||(o[51]=[createTextVNode(" mdi-close ",-1)])]),_:1},8,["onClick"])])]),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"px-1 pt-2"},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createVNode(VBtnToggle,mergeProps({ref_for:!0},a,{modelValue:e.buySell,"onUpdate:modelValue":[t=>e.buySell=t,a=>{We(t,"buySell",e.buySell),Ue()}],mandatory:"",density:"compact",class:"elevation-0 rounded-lg"}),{default:withCtx(()=>[createVNode(VBtn,{value:"BUY",size:"x-small",disabled:!e.checkbox,color:"BUY"==e.buySell?"maingreen":"secbg",class:normalizeClass("BUY"==e.buySell?"white--text":"maintext--text")},{default:withCtx(()=>[...o[52]||(o[52]=[createTextVNode(" BUY ",-1)])]),_:1},8,["disabled","color","class"]),createVNode(VBtn,{value:"SELL",size:"x-small",disabled:!e.checkbox,color:"SELL"==e.buySell?"mainred":"secbg",class:normalizeClass("SELL"==e.buySell?"white--text":"maintext--text")},{default:withCtx(()=>[...o[53]||(o[53]=[createTextVNode(" SELL ",-1)])]),_:1},8,["disabled","color","class"])]),_:2},1040,["modelValue","onUpdate:modelValue"])]),default:withCtx(()=>[o[54]||(o[54]=createBaseVNode("span",null,"Buy/Sell",-1))]),_:2},1024)]),_:2},1024),createVNode(VCol,{cols:"3",class:"px-1 pt-2"},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createVNode(VBtnToggle,mergeProps({ref_for:!0},a,{modelValue:e.ordvai,"onUpdate:modelValue":[t=>e.ordvai=t,a=>{We(t,"ordvai",e.ordvai),Ue()}],mandatory:"",density:"compact",class:"elevation-0 rounded-lg"}),{default:withCtx(()=>[createVNode(VBtn,{value:"MKT",size:"x-small",disabled:!e.checkbox,color:"MKT"==e.ordvai?"primary":"secbg",class:normalizeClass("MKT"==e.ordvai?"white--text":"maintext--text")},{default:withCtx(()=>[...o[55]||(o[55]=[createTextVNode(" MKT ",-1)])]),_:1},8,["disabled","color","class"]),createVNode(VBtn,{value:"LMT",size:"x-small",disabled:!e.checkbox,color:"LMT"==e.ordvai?"primary":"secbg",class:normalizeClass("LMT"==e.ordvai?"white--text":"maintext--text")},{default:withCtx(()=>[...o[56]||(o[56]=[createTextVNode(" LMT ",-1)])]),_:1},8,["disabled","color","class"])]),_:2},1040,["modelValue","onUpdate:modelValue"])]),default:withCtx(()=>[o[57]||(o[57]=createBaseVNode("span",null,"Market/Limit",-1))]),_:2},1024)]),_:2},1024),createVNode(VCol,{cols:"3",class:"px-1 pt-2"},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:t})=>[createVNode(VTextField,mergeProps({ref_for:!0},t,{disabled:!e.checkbox,onKeyup:o[7]||(o[7]=e=>Ue()),prefix:"📦",class:"fs-12 bskfield",height:"20px",modelValue:e.ordlot,"onUpdate:modelValue":t=>e.ordlot=t,type:"number",min:"1","hide-spin-buttons":"","hide-details":"",density:"compact",variant:"outlined"}),null,16,["disabled","modelValue","onUpdate:modelValue"])]),default:withCtx(()=>[createBaseVNode("span",null,"QTY: "+toDisplayString(e.ordlot)+" * MLot "+toDisplayString(e.ls),1)]),_:2},1024)]),_:2},1024),createVNode(VCol,{cols:"3",class:"px-1 pt-2"},{default:withCtx(()=>[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:t})=>[createVNode(VTextField,mergeProps({ref_for:!0},t,{onKeyup:o[8]||(o[8]=e=>Ue()),prefix:"₹",disabled:"MKT"==e.ordvai||!e.checkbox,class:"fs-12 bskfield",height:"20px",modelValue:e.ordprc,"onUpdate:modelValue":t=>e.ordprc=t,type:"number",min:"0.1","hide-spin-buttons":"","hide-details":"",density:"compact",variant:"outlined"}),null,16,["disabled","modelValue","onUpdate:modelValue"])]),default:withCtx(()=>[o[58]||(o[58]=createBaseVNode("span",null,"Price",-1))]),_:2},1024)]),_:2},1024)]),_:2},1024),createVNode(VDivider,{class:"mt-1"})]))),128))])):(openBlock(),createBlock(VCard,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:withCtx(()=>[...o[59]||(o[59]=[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"70px",src:_imports_0$7},null,-1),createBaseVNode("p",{class:"subtext--text fs-14 mb-1"},"Hmmm, Looks like no Strikes — why not add some? Choose from the option chain.",-1)])]),_:1})),L.value&&L.value.length>0?(openBlock(),createElementBlock("div",_hoisted_21$e,[createVNode(VDivider),createVNode(VToolbar,{class:"tool-sty elevation-0 crd-trn pt-1 pl-1",density:"compact"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-12 subtext--text mb-2"},{default:withCtx(()=>[o[61]||(o[61]=createTextVNode(" Margin: ",-1)),createBaseVNode("span",_hoisted_22$e,[createBaseVNode("b",null,"₹"+toDisplayString(Number(A.value)?A.value.toFixed(2):"0.00"),1)]),createVNode(VIcon,{class:"ml-1 cursor-p",onClick:o[9]||(o[9]=e=>Ue()),color:"maintext",size:"12"},{default:withCtx(()=>[...o[60]||(o[60]=[createTextVNode(" mdi-reload ",-1)])]),_:1})]),_:1}),createVNode(VListItemTitle,{class:"font-weight-medium fs-12 subtext--text mb-0"},{default:withCtx(()=>[o[62]||(o[62]=createTextVNode(" Post margin: ",-1)),createBaseVNode("span",_hoisted_23$e,[createBaseVNode("b",null,"₹"+toDisplayString(Number(O.value)?O.value.toFixed(2):"0.00"),1)])]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VBtn,{onClick:o[10]||(o[10]=e=>je(0)),color:"primary",loading:M.value,class:"text-none rounded-pill elevation-0 white--text px-6",height:"40px"},{default:withCtx(()=>[...o[63]||(o[63]=[createTextVNode(" Place order ",-1)])]),_:1},8,["loading"])]),_:1})])):createCommentVNode("",!0)])):createCommentVNode("",!0),!D.value&&L.value&&L.value.length>0?(openBlock(),createElementBlock("div",_hoisted_24$e,[createVNode(VBtn,{onClick:o[11]||(o[11]=e=>D.value=!0),color:"primary",icon:"true",variant:"elevated"},{default:withCtx(()=>[createVNode(VBadge,{content:L.value.length,color:"warning"},{default:withCtx(()=>[...o[64]||(o[64]=[createBaseVNode("img",{width:"24px",src:basketIconDark},null,-1)])]),_:1},8,["content"])]),_:1})])):createCommentVNode("",!0),n.value&&!D.value?(openBlock(),createElementBlock("div",_hoisted_25$d,[createVNode(VTextField,{modelValue:I.value,"onUpdate:modelValue":o[13]||(o[13]=e=>I.value=e),loading:s.value,ref:"mwref",class:"rounded-pill mt-2 mf-search-input",variant:"outlined",density:"compact","bg-color":"secbg",onInput:Fe,onClick:o[14]||(o[14]=e=>(i.value=!0,l.value=!1,B.value=[],V.value=null,Me())),label:"Search funds","prepend-inner-icon":"mdi-magnify","hide-details":""},createSlots({_:2},[i.value?{name:"append",fn:withCtx(()=>[createVNode(VIcon,{disabled:c.value,onClick:o[12]||(o[12]=e=>ut()),color:"primary",class:"mr-1"},{default:withCtx(()=>[...o[65]||(o[65]=[createTextVNode("mdi-close",-1)])]),_:1},8,["disabled"])]),key:"0"}:void 0]),1032,["modelValue","loading"]),i.value?createCommentVNode("",!0):(openBlock(),createBlock(VToolbar,{key:0,flat:"",density:"compact",class:"tool-sty crd-trn"},{default:withCtx(()=>[createVNode(VBtn,{variant:"text",readonly:"",class:"elevation-0 rounded-lg text-none fs-14 d-inline-flex px-2 text-capitalize","max-width":"220px"},{default:withCtx(()=>[o[66]||(o[66]=createTextVNode(" My watchlist ",-1)),createBaseVNode("span",_hoisted_26$d,"("+toDisplayString(T.value?T.value.length:"0")+")",1)]),_:1}),createVNode(VSpacer),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VMenu,{location:"bottom"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[l.value||i.value?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,disabled:d.value,color:"maintext",class:"mr-1"},{default:withCtx(()=>[...o[67]||(o[67]=[createTextVNode("mdi-flip-h mdi-sort-variant",-1)])]),_:1},8,["disabled"]))],16)]),default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(P.value,(e,t)=>(openBlock(),createBlock(VListItem,{key:t,onClick:e=>{$.value=t,ze()}},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.text),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})],16)]),default:withCtx(()=>[o[68]||(o[68]=createBaseVNode("span",null,"Sort by",-1))]),_:1}),l.value||i.value?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,disabled:d.value,onClick:o[15]||(o[15]=e=>(i.value=!0,l.value=!1,B.value=[],V.value=null,Me())),color:"maintext"},{default:withCtx(()=>[...o[69]||(o[69]=[createTextVNode("mdi-magnify",-1)])]),_:1},8,["disabled"]))]),_:1})),i.value?(openBlock(),createElementBlock("div",_hoisted_27$d,[createVNode(VDivider),B.value&&B.value.length>0?(openBlock(),createElementBlock("div",_hoisted_28$d,[createBaseVNode("p",_hoisted_29$d,toDisplayString(B.value.length)+" search result by you",1),createVNode(VDivider)])):createCommentVNode("",!0)])):createCommentVNode("",!0),d.value?(openBlock(),createBlock(VProgressLinear,{key:2,indeterminate:"",rounded:""})):createCommentVNode("",!0),l.value||i.value?createCommentVNode("",!0):(openBlock(),createBlock(VDivider,{key:3})),i.value?i.value?(openBlock(),createElementBlock("div",_hoisted_41$7,[B.value&&B.value.length>0?(openBlock(),createElementBlock("div",_hoisted_42$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.value,(e,a)=>(openBlock(),createElementBlock("div",{key:a,class:"table-row pos-rlt"},[createVNode(VListItem,{disabled:e.watchlist,onClick:a=>ce.value?He("add",e):unref(t).push("/login"),class:"px-0 crd-trn"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"maintext--text mb-0 table-hov-text fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.name),1)]),_:2},1024),createVNode(VChipGroup,{column:"",class:"mb-0"},{default:withCtx(()=>[createVNode(VChip,{color:"secbg",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_43$7,toDisplayString(e.Type?e.Type:""),1)]),_:2},1024),createVNode(VChip,{color:"secbg",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_44$7,toDisplayString(e.SubType?e.SubType:""),1)]),_:2},1024)]),_:2},1024),createBaseVNode("div",null,[ce.value?(openBlock(),createBlock(VIcon,{key:0,class:"float-right",color:e.watchlist?"primary":"maintext"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.watchlist?"mdi-bookmark":"mdi-bookmark-plus-outline"),1)]),_:2},1032,["color"])):createCommentVNode("",!0)])]),_:2},1032,["disabled","onClick"]),createVNode(VDivider)]))),128))])):V.value?(openBlock(),createBlock(VCard,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:withCtx(()=>[...o[79]||(o[79]=[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"70px",src:_imports_0$7},null,-1),createBaseVNode("p",{class:"txt-999 fs-14 mb-1"},"No results found",-1)])]),_:1})):createCommentVNode("",!0)])):createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_30$d,[T.value&&T.value.length>0?(openBlock(),createElementBlock("div",_hoisted_31$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(T.value,(e,a)=>(openBlock(),createBlock(VCard,{key:a,class:"elevation-0 rounded-0 table-row overflow-hidden crd-trn"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_32$a,[createVNode(VListItem,{class:"pa-0 py-1"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"fs-13 font-weight-medium mb-1 maintext--text table-hov-text"},{default:withCtx(()=>[createBaseVNode("span",{class:"txt-dec-cust cursor-pointer",onClick:a=>(e=>{"/mutualfund/single"==window.location.pathname?window.dispatchEvent(new CustomEvent("ssdmf-event",{detail:e})):t.push({name:"mutual fund single",params:e})})(e)},toDisplayString(e.name?e.name:""),9,_hoisted_33$9),createBaseVNode("p",_hoisted_34$8,[o[70]||(o[70]=createTextVNode(" 3yr: ",-1)),createBaseVNode("span",_hoisted_35$8,toDisplayString(e["3Year"]?Number(e["3Year"]).toFixed(2):"0.00"),1)])]),_:2},1024),createVNode(VListItemSubtitle,null,{default:withCtx(()=>[createVNode(VChip,{color:"secbg",class:"table-hide",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_36$8,toDisplayString(e.splito?e.splito:""),1)]),_:2},1024),createVNode(VChip,{color:"secbg",class:"table-hide mx-2",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_37$8,toDisplayString(e.splitt?e.splitt.replace("SCHEME",""):""),1)]),_:2},1024),createBaseVNode("span",_hoisted_38$8,[o[71]||(o[71]=createTextVNode(" AUM: ",-1)),createBaseVNode("span",_hoisted_39$8,toDisplayString(e.AUM?Number(e.AUM).toFixed(2):"0.00"),1)])]),_:2},1024)]),_:2},1024),createVNode(VDivider)]),(openBlock(),createElementBlock("div",{onClick:o[16]||(o[16]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",key:`hover-mf-${ce.value}-${pe.value.is}`,style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)"}},[createVNode(VBtn,{onClick:t=>qe(e,"buy"),size:"x-small",class:"elevation-0 text-none maingreen--text font-weight-bold mr-1",color:"secgreen"},{default:withCtx(()=>[...o[72]||(o[72]=[createTextVNode(" Buy ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>qe(e,"sip"),size:"x-small",class:"elevation-0 text-none primary--text font-weight-bold",color:"#F1F3F8"},{default:withCtx(()=>[...o[73]||(o[73]=[createTextVNode(" SIP ",-1)])]),_:1},8,["onClick"]),pe.value.is?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:0,onClick:t=>(e=>{let t=T.value.indexOf(e);He("delete",e,t)})(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"secbg",class:"px-0 font-weight-bold white--text elevation-0 ml-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[74]||(o[74]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"]))]))]),_:2},1024))),128))])):(openBlock(),createBlock(VCard,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:withCtx(()=>[o[78]||(o[78]=createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"70px",src:_imports_0$7},null,-1)),createBaseVNode("p",_hoisted_40$8,[o[75]||(o[75]=createTextVNode(" Hmmm, Looks like no symbols in your watchlist ",-1)),createBaseVNode("span",null,toDisplayString(pe.value.is?".":" — why not add some?"),1)]),pe.value.is?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:0,color:"primary",class:"text-none",size:"small",onClick:o[17]||(o[17]=e=>ce.value?(i.value=!0,l.value=!1,B.value=[],V.value=null,Me()):unref(t).push("/login")),variant:"text"},{default:withCtx(()=>[o[77]||(o[77]=createTextVNode(" Add script ",-1)),createVNode(VIcon,{class:"ml-1",size:"14"},{default:withCtx(()=>[...o[76]||(o[76]=[createTextVNode("mdi-plus-circle",-1)])]),_:1})]),_:1}))]),_:1}))]))])):createCommentVNode("",!0),n.value||D.value||i.value||l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_45$7,[createVNode(VCard,{id:"pdcard",color:"cardbg",class:"elevation-0"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(q.value,(e,t)=>(openBlock(),createBlock(VCol,{key:t,cols:"6",class:"pa-1 pdmwlists"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 crd-trn pos-rlt cursor-p",color:g.value==e.key?"primary":"secbg",style:{border:"1px solid #EBEEF0","background-color":"#EBEEF0 !important","border-radius":"5px !important"},onClick:a=>ce.value?pt(t,e.token,e.exch,e.tsym):null},{default:withCtx(()=>[createBaseVNode("div",_hoisted_46$6,[createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-13"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.tsym?e.tsym:""),1)]),_:2},1024),createBaseVNode("span",_hoisted_47$5,[createBaseVNode("span",_hoisted_48$5,[o[80]||(o[80]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`p${e.token}ltp`},toDisplayString(e.ltp?e.ltp:"0.00"),9,_hoisted_49$5)])])]),createBaseVNode("div",{style:{display:"flex","justify-content":"flex-end",width:"100% !important",color:"#676767 !important"},class:normalizeClass(["d-inline-flex font-weight-medium fs-12 px-2",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`p${e.token}chpclr`},[createBaseVNode("span",{id:`p${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_51$5),createBaseVNode("span",{id:`p${e.token}chp`},"("+toDisplayString(e.chp?e.chp:"0.00")+")",9,_hoisted_52$5)],10,_hoisted_50$5),createBaseVNode("div",_hoisted_53$5,[createVNode(VBtn,{onClick:[o[18]||(o[18]=withModifiers(()=>{},["stop"])),a=>at(e,0==t?1:0)],class:"elevation-1",variant:"flat",size:"x-small",color:"cardbg",style:{width:"22px",height:"22px","min-width":"22px",padding:"0"}},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext",size:"14"},{default:withCtx(()=>[...o[81]||(o[81]=[createTextVNode("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1032,["color","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})])),n.value||!i.value||l.value?n.value||D.value||i.value||l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_57$3,[c.value?(openBlock(),createElementBlock("div",_hoisted_58$3,[createVNode(VProgressCircular,{indeterminate:"",color:"primary",size:"24"}),o[82]||(o[82]=createBaseVNode("span",{class:"loading-text"},"Loading watchlist...",-1))])):"no data"===y.value&&"MY:HOLDINGS"!==g.value?(openBlock(),createElementBlock("div",_hoisted_59$3,[createVNode(VIcon,{size:"48",color:"grey lighten-1"},{default:withCtx(()=>[...o[83]||(o[83]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1}),o[86]||(o[86]=createBaseVNode("p",{class:"no-data-text"},"No stocks in this watchlist",-1)),createBaseVNode("button",{onClick:o[20]||(o[20]=e=>i.value=!0),class:"add-stocks-btn"},[createVNode(VIcon,{left:"",size:"16"},{default:withCtx(()=>[...o[84]||(o[84]=[createTextVNode("mdi-plus",-1)])]),_:1}),o[85]||(o[85]=createTextVNode(" Add Stocks ",-1))])])):"MY:HOLDINGS"===g.value&&("no data"===y.value||!y.value||Array.isArray(y.value)&&0===y.value.length)?(openBlock(),createElementBlock("div",_hoisted_60$3,[createVNode(VIcon,{size:"48",color:"grey lighten-1"},{default:withCtx(()=>[...o[87]||(o[87]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1}),o[88]||(o[88]=createBaseVNode("p",{class:"no-data-text"},"No holdings available",-1)),o[89]||(o[89]=createBaseVNode("p",{class:"subtext--text fs-12 mt-2"},"Your holdings will appear here once you have stocks in your portfolio",-1))])):y.value&&Array.isArray(y.value)&&y.value.length>0?(openBlock(),createElementBlock("div",_hoisted_61$3,[createVNode(unref(draggable),{modelValue:y.value,"onUpdate:modelValue":o[28]||(o[28]=e=>y.value=e),onStart:Ce,onEnd:Se,"item-key":e=>e.id||e.token||Math.random(),disabled:ue.value},{item:withCtx(({element:e,index:a})=>[(openBlock(),createElementBlock("div",{key:e.id||e.token||a,class:"table-row pos-rlt pt-2 cursor-p",style:{"border-bottom":"1px solid #EBEEF0"},onClick:t=>ce.value?pt("detail",e.token,e.exch,e.tsym||e.tsyms):null},[createBaseVNode("p",_hoisted_63$3,[createBaseVNode("span",_hoisted_64$3,toDisplayString(e.tsyms?e.tsyms:e.tsym?e.tsym:""),1),createBaseVNode("span",_hoisted_65$3,toDisplayString(e.exp?e.exp:""),1),e.weekly?(openBlock(),createElementBlock("span",_hoisted_66$3,[createBaseVNode("span",_hoisted_67$3,toDisplayString(e.weekly?e.weekly:""),1)])):createCommentVNode("",!0),createBaseVNode("span",_hoisted_68$3,[o[90]||(o[90]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`${e.token}ltp`},toDisplayString(e.ltp?e.ltp:"0.00"),9,_hoisted_69$3)])]),createBaseVNode("p",_hoisted_70$3,[createBaseVNode("span",_hoisted_71$3,[createBaseVNode("span",_hoisted_72$3,toDisplayString(e.exch?e.exch:""),1)]),createBaseVNode("span",{innerHTML:mt(e.token)},null,8,_hoisted_73$3),createBaseVNode("span",_hoisted_74$3,toDisplayString(e.ser?e.ser:""),1),createBaseVNode("span",{class:normalizeClass(["float-right fw-6 fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`${e.token}chpclr`},[createBaseVNode("span",{id:`${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_76$2),createBaseVNode("span",{id:`${e.token}chp`}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",9,_hoisted_77$2)],10,_hoisted_75$2)]),ce.value?(openBlock(),createElementBlock("div",{onClick:o[22]||(o[22]=withModifiers(()=>{},["stop"])),onMouseenter:o[23]||(o[23]=withModifiers(()=>{},["stop"])),onMouseleave:o[24]||(o[24]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov watchlist-hover-options",key:`hover-${ce.value}-${pe.value.is}`,style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},["UNDIND"!=e.instname&&"COM"!=e.instname?(openBlock(),createElementBlock("div",{key:0,onClick:withModifiers(t=>ht("order",e.token,e.exch,e.tsym,"b"),["stop"]),style:{"min-width":"24px","background-color":"green!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," B ",8,_hoisted_78$2)):createCommentVNode("",!0),"UNDIND"!=e.instname&&"COM"!=e.instname?(openBlock(),createElementBlock("div",{key:1,onClick:withModifiers(t=>ht("order",e.token,e.exch,e.tsym,"s"),["stop"]),style:{"min-width":"24px","background-color":"red!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," S ",8,_hoisted_79$2)):createCommentVNode("",!0),createVNode(VBtn,{onClick:withModifiers(t=>pt("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[91]||(o[91]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),pe.value.is?createCommentVNode("",!0):(openBlock(),createBlock(VBtn,{key:2,onClick:withModifiers(t=>Ve(e,a),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[92]||(o[92]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])),createVNode(VMenu,{"close-on-click":"",location:"bottom",offset:[0,8],class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{onClick:o[21]||(o[21]=withModifiers(()=>{},["stop"])),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[93]||(o[93]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(K.value,(t,o)=>(openBlock(),createElementBlock("div",{key:o},[("depth"==t.type||"Funda"==t.type?"UNDIND"==e.instname||"COM"==e.instname:"delete"==t.type&&pe.value.is)?createCommentVNode("",!0):(openBlock(),createBlock(VListItem,{key:0,onClick:o=>"delete"!=t.type?pt(t.type,e.token,e.exch,e.tsym):Ve(e,a),class:"pl-3 pr-6"},{prepend:withCtx(()=>["number"==typeof t.icon&&t.icon>2?(openBlock(),createElementBlock("img",{key:0,width:"20px",class:"pl-1",src:`/src/assets/orderbook/${t.icon}.svg`},null,8,_hoisted_80$2)):"number"==typeof t.icon&&t.icon<=2?(openBlock(),createBlock(VIcon,{key:1,color:"#506D84"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.icon),1)]),_:2},1024)):(openBlock(),createBlock(VIcon,{key:2,color:"#506D84"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.icon),1)]),_:2},1024))]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),t.hr?(openBlock(),createBlock(VDivider,{key:1,class:"mx-3"})):createCommentVNode("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)],32)):(openBlock(),createElementBlock("div",{key:1,onClick:o[25]||(o[25]=withModifiers(()=>{},["stop"])),onMouseenter:o[26]||(o[26]=withModifiers(()=>{},["stop"])),onMouseleave:o[27]||(o[27]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov watchlist-hover-options",style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},[createBaseVNode("div",{onClick:withModifiers(a=>ce.value?"UNDIND"!=e.instname&&"COM"!=e.instname?ht("order",e.token,e.exch,e.tsym,"b"):null:unref(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#43A833","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center"}," B ",8,_hoisted_81$2),createBaseVNode("div",{onClick:withModifiers(a=>ce.value?"UNDIND"!=e.instname&&"COM"!=e.instname?ht("order",e.token,e.exch,e.tsym,"s"):null:unref(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#F23645","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center"}," S ",8,_hoisted_82$2)],32)),createVNode(VDivider)],8,_hoisted_62$3))]),_:1},8,["modelValue","item-key","disabled"])])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_54$4,[createVNode(VChipGroup,{mandatory:"",modelValue:k.value,"onUpdate:modelValue":[o[19]||(o[19]=e=>k.value=e),Ae],class:"mb-0 watchlist",row:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.value,(e,t)=>(openBlock(),createBlock(VChip,{key:t,value:t,class:"font-weight-medium px-3",color:k.value==t?"maintext":"secbg","text-color":k.value==t?"mainbg":"maintext",size:"medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(e),1)]),_:2},1032,["value","color","text-color"]))),128))]),_:1},8,["modelValue"]),createVNode(VDivider),ae.value&&ae.value.length>0?(openBlock(),createElementBlock("div",_hoisted_55$4,[createBaseVNode("p",_hoisted_56$4,toDisplayString(ae.value.length)+" search result by you",1),createVNode(VDivider)])):createCommentVNode("",!0)])),n.value||!i.value||l.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_83$2,[ae.value&&ae.value.length>0?(openBlock(),createElementBlock("div",_hoisted_84$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ae.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"search-result-item pos-rlt"},[createVNode(VRow,{"no-gutters":"",class:"align-center py-2 px-3 cursor-pointer",onClick:o=>F.value?pt(t,e.token,e.exch,e.tsym):(async(e,t)=>{if(F.value)pt(t,e.token,e.exch,e.tsym);else if(await he())if(Array.isArray(y.value)&&y.value.length>=50)a.showSnackbar(0,"Maximum 50 symbols you can add in single watchlists.");else{if(Array.isArray(y.value)&&y.value.findIndex(t=>t.token===e.token)>=0)return void a.showSnackbar(0,`${e.tsym||e.tsyms}, script is already exists.`);if(e.watchlist)await xe(e,-1),e.watchlist=!1;else try{const t=await getMwatchlistset(`jData={"uid":"${ce.value}","wlname":"${g.value}","scrips":"${e.exch}|${e.token}"}&jKey=${de.value}`,"AddMultiScripsToMW");"Ok"===t.stat?(a.showSnackbar(1,`${e.tsym||e.tsyms} added to watchlist`),e.watchlist=!0,oe.value=e,await $e()):a.showSnackbar(0,t.emsg||"Failed to add to watchlist")}catch(o){console.error("Add to watchlist error:",o),a.showSnackbar(0,"Failed to add to watchlist")}}})(e,t)},{default:withCtx(()=>[createVNode(VCol,{cols:"10",class:"d-flex flex-column"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_85$1,[createTextVNode(toDisplayString(e.tsyms?e.tsyms:e.tsym)+" ",1),e.exp?(openBlock(),createElementBlock("span",_hoisted_86$1,toDisplayString(e.exp),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_87$1,[createVNode(VChip,{color:"NSE"===e.exch?"#E6EBFFCC":"BSE"===e.exch?"#D4F0F0CC":"NFO"===e.exch?"#EAD6FFCC":"BFO"===e.exch?"#FFD6D6CC":"CDS"===e.exch?"#D4FBFFCC":"NCOM"===e.exch?"#FFF9C4CC":"BCOM"===e.exch?"#FFE6CCCC":"BCD"===e.exch?"#F2E1C3CC":"MCX"===e.exch?"#FFF0B3CC":"#EBDDEFCC",size:"x-small",variant:"flat",class:"mr-1",style:{"border-radius":"4px",padding:"2px 6px 0 6px",height:"18px"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_88$1,toDisplayString(e.exch?e.exch:""),1)]),_:2},1032,["color"]),e.ser?(openBlock(),createElementBlock("span",_hoisted_89$1,toDisplayString(e.ser),1)):createCommentVNode("",!0)])]),_:2},1024),createVNode(VCol,{cols:"2",class:"d-flex justify-end align-center"},{default:withCtx(()=>[F.value?createCommentVNode("",!0):(openBlock(),createBlock(VIcon,{key:0,color:e.watchlist?"primary":"maintext",size:"24"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.watchlist?"mdi-bookmark":"mdi-bookmark-outline"),1)]),_:2},1032,["color"]))]),_:2},1024)]),_:2},1032,["onClick"]),createBaseVNode("div",{onClick:o[29]||(o[29]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov search-result-hover",style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)"}},["UNDIND"!=e.instname&&"COM"!=e.instname?(openBlock(),createElementBlock("div",{key:0,onClick:t=>ht("order",e.token,e.exch,e.tsym,"b"),style:{"min-width":"24px","background-color":"green !important",color:"white !important","border-radius":"4px"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center"}," B ",8,_hoisted_90$1)):createCommentVNode("",!0),"UNDIND"!=e.instname&&"COM"!=e.instname?(openBlock(),createElementBlock("div",{key:1,onClick:t=>ht("order",e.token,e.exch,e.tsym,"s"),style:{"min-width":"24px","background-color":"red !important",color:"white !important","border-radius":"4px"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center"}," S ",8,_hoisted_91$1)):createCommentVNode("",!0),createVNode(VBtn,{onClick:t=>pt("chart",e.token,e.exch,e.tsym),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[94]||(o[94]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VMenu,{"close-on-click":"",location:"bottom",offset:[0,8],class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps({ref_for:!0},e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...o[95]||(o[95]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_92$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(K.value,(t,a)=>(openBlock(),createElementBlock("div",{key:a},[("depth"==t.type||"Funda"==t.type?"UNDIND"!=e.instname&&"COM"!=e.instname:"delete"!=t.type)?(openBlock(),createElementBlock("div",{key:0,onClick:a=>pt(t.type,e.token,e.exch,e.tsym),class:"d-flex align-center px-3 py-2 cursor-pointer menu-item"},[createBaseVNode("div",_hoisted_94$1,["number"==typeof t.icon&&t.icon>2?(openBlock(),createElementBlock("img",{key:0,width:"20px",src:`/src/assets/orderbook/${t.icon}.svg`},null,8,_hoisted_95$1)):"number"==typeof t.icon&&t.icon<=2?(openBlock(),createBlock(VIcon,{key:1,color:"#506D84",size:"20"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.icon),1)]),_:2},1024)):(openBlock(),createBlock(VIcon,{key:2,color:"#506D84",size:"20"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.icon),1)]),_:2},1024))]),createBaseVNode("p",_hoisted_96$1,toDisplayString(t.name),1)],8,_hoisted_93$1)):createCommentVNode("",!0),t.hr?(openBlock(),createBlock(VDivider,{key:1,class:"mx-3"})):createCommentVNode("",!0)]))),128))])]),_:2},1024)]),_:2},1024)]),createVNode(VDivider)]))),128))])):(openBlock(),createBlock(VCard,{key:1,class:"crd-trn text-center py-16 px-8 elevation-0",width:"100%"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_97$1,toDisplayString(null==V.value?"Type more than 2 letter":"No Contract Found"),1),createBaseVNode("span",_hoisted_98$1,toDisplayString(null==V.value?"Eg. for Nifty Type: Nif":"Search for another name."),1)]),_:1}))])),createVNode(VDialog,{modelValue:re.value,"onUpdate:modelValue":o[32]||(o[32]=e=>re.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[...o[96]||(o[96]=[createTextVNode("Create New Watchlist",-1)])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createVNode(VTextField,{modelValue:ie.value,"onUpdate:modelValue":o[30]||(o[30]=e=>ie.value=e),label:"Watchlist Name",outlined:"",dense:"",rules:[e=>!!e||"Name is required"]},null,8,["modelValue","rules"])]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{onClick:o[31]||(o[31]=e=>re.value=!1),text:""},{default:withCtx(()=>[...o[97]||(o[97]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{onClick:be,color:"primary",disabled:!ie.value},{default:withCtx(()=>[...o[98]||(o[98]=[createTextVNode(" Create ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:ne.value,"onUpdate:modelValue":o[34]||(o[34]=e=>ne.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,null,{default:withCtx(()=>[createVNode(VCardTitle,null,{default:withCtx(()=>[...o[99]||(o[99]=[createTextVNode("Delete Watchlist",-1)])]),_:1}),createVNode(VCardText,null,{default:withCtx(()=>[createTextVNode(' Are you sure you want to delete "'+toDisplayString(le.value)+'" watchlist? This action cannot be undone. ',1)]),_:1}),createVNode(VCardActions,null,{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{onClick:o[33]||(o[33]=e=>ne.value=!1),variant:"text"},{default:withCtx(()=>[...o[100]||(o[100]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(VBtn,{onClick:we,color:"error"},{default:withCtx(()=>[...o[101]||(o[101]=[createTextVNode("Delete",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:W.value,"onUpdate:modelValue":o[37]||(o[37]=e=>W.value=e),"hide-overlay":"",width:"420"},{default:withCtx(()=>[createVNode(VCard,{class:"pt-2 overflow-hidden elevation-0 rounded-xl",color:"cardbg"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title maintext--text my-2 px-4"},{default:withCtx(()=>[o[103]||(o[103]=createTextVNode(" Select a Index ",-1)),createVNode(VIcon,{onClick:o[35]||(o[35]=e=>W.value=!1),class:"float-right",color:"maintext"},{default:withCtx(()=>[...o[102]||(o[102]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),createVNode(VDivider),createVNode(VExpansionPanels,{modelValue:G.value,"onUpdate:modelValue":o[36]||(o[36]=e=>G.value=e),flat:"",class:"expan",multiple:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.value,(e,t,a)=>(openBlock(),createBlock(VExpansionPanel,{key:`index-panel-${t}-${a}`,flat:""},{default:withCtx(()=>[createVNode(VExpansionPanelTitle,{class:"fs-14 font-weight-medium secbg primary--text",style:{color:"#2b38b7 !important","background-color":"#F1F3F8 !important"}},{default:withCtx(()=>[createTextVNode(toDisplayString(t)+" ("+toDisplayString(e.length)+") ",1)]),_:2},1024),createVNode(VExpansionPanelText,{class:"fs-13"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-0 overflow-y-auto",height:"378px",color:"transparent"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e,(e,a)=>(openBlock(),createElementBlock(Fragment,{key:`index-item-${t}-${a}`},[j.value.n!=e.token?(openBlock(),createBlock(VListItem,{key:0,class:"px-6 cursor-pointer",onClick:a=>j.value.token!=e.token?(async(e,t)=>{if(await he())try{const a=q.value.findIndex(e=>e.token===j.value.token);if(a>=0){const o=`${e.idxname||e.tsym||"Unknown"}:${t}`;q.value[a]={key:o,exch:t,token:e.token,tsym:e.idxname||e.tsym||"",ltp:null,ch:null,chp:null},j.value=e,W.value=!1,ce.value&&localStorage.setItem(`${ce.value}_pdmwdata`,JSON.stringify(q.value));const r=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:q.value,is:"pd",page:"watchlist"}});if(window.dispatchEvent(r),q.value&&q.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:q.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}Xe.value=!1,await rt()}}catch(a){console.error("Change index error:",a)}})(e,t):null},{append:withCtx(()=>[createVNode(VIcon,{color:j.value.token==e.token?"primary":"maintext",size:"20"},{default:withCtx(()=>[createTextVNode(toDisplayString(j.value.token==e.token?"mdi-checkbox-marked-circle-outline":"mdi-plus-circle-outline"),1)]),_:2},1032,["color"])]),default:withCtx(()=>[createVNode(VListItemTitle,{class:normalizeClass([j.value.token==e.token?"primary--text":"maintext--text","mb-1 table-hov-text font-weight-medium"])},{default:withCtx(()=>[createTextVNode(toDisplayString(e.idxname?e.idxname:""),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),createVNode(VMenu,{modelValue:se.value.show,"onUpdate:modelValue":o[40]||(o[40]=e=>se.value.show=e),"position-x":se.value.x,"position-y":se.value.y,location:"bottom",offset:[0,8]},{default:withCtx(()=>[createVNode(VList,{dense:""},{default:withCtx(()=>[createVNode(VListItem,{onClick:o[38]||(o[38]=e=>xe(se.value.item,se.value.index))},{default:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(VIcon,{color:"error"},{default:withCtx(()=>[...o[104]||(o[104]=[createTextVNode("mdi-delete",-1)])]),_:1})]),_:1}),createVNode(VListItemTitle,null,{default:withCtx(()=>[...o[105]||(o[105]=[createTextVNode("Remove from Watchlist",-1)])]),_:1})]),_:1}),createVNode(VListItem,{onClick:o[39]||(o[39]=e=>(e=>{if(ce.value&&e)if(localStorage.setItem("ssdtsym",`${e.exch}:${e.token}`),localStorage.setItem("ssdtoken",e.token),localStorage.setItem("stockDetailsData",JSON.stringify({token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms,ltp:e.ltp})),"/stocks/details"===window.location.pathname){const t=new CustomEvent("ssd-event",{detail:{type:"chart",token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms}});window.dispatchEvent(t)}else t.push({name:"stocks details",query:{token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms}})})(se.value.item))},{default:withCtx(()=>[createVNode(r,null,{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...o[106]||(o[106]=[createTextVNode("mdi-chart-line",-1)])]),_:1})]),_:1}),createVNode(VListItemTitle,null,{default:withCtx(()=>[...o[107]||(o[107]=[createTextVNode("View Details",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","position-x","position-y"])])}}}),WatchList=_export_sfc(_sfc_main$Q,[["__scopeId","data-v-5ffa14da"]]),_sfc_main$P={__name:"AlertSrceen",setup:e=>(e,t)=>(openBlock(),createElementBlock("div"))},_sfc_main$O={__name:"MutualFundOrderWindow",setup:e=>(e,t)=>(openBlock(),createElementBlock("div"))},_sfc_main$N={__name:"BondOrderWindow",setup:e=>(e,t)=>(openBlock(),createElementBlock("div"))},_sfc_main$M={__name:"IpoOrderWindow",setup:e=>(e,t)=>(openBlock(),createElementBlock("div"))};function logMessage(e,t=0){}var userid$1,usession$1;function checkWebsocket(){params?(userid$1=myntappurl.clientid,usession$1=myntappurl.token):(userid$1=sessionStorage.getItem("userid"),usession$1=sessionStorage.getItem("msession"))}async function makeApiRequest(e,t){try{let o=new Headers;o.append("Content-Type","application/json");var a={method:"POST",redirect:"follow",headers:o,body:t};return(await fetch(e,a)).json()}catch(o){throw new Error(`zebull symbols request error: ${o.status}`)}}checkWebsocket();var userid=null,usession=null;function seyCheckwebsocket$1(){params?(userid=myntappurl.clientid,usession=myntappurl.token):(userid=sessionStorage.getItem("userid"),usession=sessionStorage.getItem("msession"))}const lastBarsCache=new Map;window._symbolInfoMap={};const supported_resolutions=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","65","70","75","80","85","90","95","100","105","110","115","120","125","130","135","140","145","150","155","160","165","170","175","180","185","190","195","200","205","210","215","220","225","230","235","240","245","250","255","260","265","270","275","280","285","290","295","300","305","310","315","320","325","330","335","340","345","350","355","360","365","370","375","380","385","390","395","400","405","410","415","420","425","430","435","440","445","450","455","460","465","470","475","480","485","490","495","500","505","510","515","520","525","530","535","540","545","550","555","560","565","570","575","580","585","590","595","600","605","610","615","620","625","630","635","640","645","650","655","660","665","670","675","680","685","690","695","700","705","710","715","720","725","730","735","740","745","750","755","760","765","770","775","780","785","790","795","800","805","810","815","820","825","830","835","840","845","850","855","860","865","870","875","880","885","890","895","900","905","910","915","920","925","930","935","940","945","950","955","960","965","970","975","980","985","990","995","1000","1005","1010","1015","1020","1025","1030","1035","1040","1045","1050","1055","1060","1065","1070","1075","1080","1085","1090","1095","1100","1105","1110","1115","1120","1125","1130","1135","1140","1145","1150","1155","1160","1165","1170","1175","1180","1185","1190","1195","1200","1D","2D","3D","4D","5D","6D","1W","2W","3W","4W","1M","2M","3M","4M","5M","6M","7M","8M","9M","10M","11M","12M"],configurationData={supported_resolutions:["1","3","5","10","15","30","45","60","75","120","180","240","1D","1W","1M"],exchanges:[{value:"ALL",name:"All exchange"},{value:"NSE",name:"NSE"},{value:"BSE",name:"BSE"},{value:"MCX",name:"MCX"}],symbols_types:[{name:"All",value:""},{name:"Equity",value:"STOCK"},{name:"F&O",value:"F&O"},{name:"Currency",value:"CURR"},{name:"Commodity",value:"COMM"},{name:"Indices",value:"UNDIND"}],supports_search:!0,supports_group_request:!1,supports_marks:!1,supports_timescale_marks:!0,supports_time:!0},Datafeed={async onReady(e){setTimeout(()=>e(configurationData))},async searchSymbols(e,t,a,o){o(await getAllSymbols(e,t,a))},async getQuotes(e,t,a){var o={};e.forEach(r=>{this.resolveSymbol(r,function(a){o[r]=a,Object.keys(o).length==e.length&&subscribeOnStream(Object.values(o),void 0,t,Date.now().toString(),void 0,void 0,"single-quotes")},a)})},async subscribeQuotes(e,t,a,o){var r={};e.forEach(t=>{this.resolveSymbol(t,function(n){r[t]=n,Object.keys(r).length==e.length&&subscribeOnStream(Object.values(r),void 0,a,o,void 0,void 0,"quotes")},e=>{})})},async unsubscribeQuotes(e){unsubscribeFromStream(e)},subscribeQuotesChain(e,t,a){var o=e.map(e=>Promise.resolve({name:`${e.exch}:${(e.tsym||"").toUpperCase()}`,exchange:e.exch,token:e.token}));Promise.all(o).then(e=>{subscribeOnStream(e,void 0,t,a,void 0,void 0,"quotes")})},unsubscribeQuotesChain(e){websocketUnsubscriptionChain(e)},subscribeQuotesScreener(e,t,a){var o=e.map(e=>Promise.resolve({name:`${e.exch}:${(e.tsym||"").toUpperCase()}`,exchange:e.exch,token:e.token}));Promise.all(o).then(e=>{subscribeOnStream(e,void 0,t,a,void 0,void 0,"quotes")})},unsubscribeQuotesScreener(e){websocketUnsubscriptionChain(e)},async resolveSymbol(e,t,a){let o=!1;if(null!=_symbolInfoMap[e])return setTimeout(()=>t(_symbolInfoMap[e])),Promise.resolve(_symbolInfoMap[e]);var r;if(e.includes("$OISYMBOL")&&(e=e.replace("$OISYMBOL",""),o=!0),null==(r=await getMasters(`${e.toUpperCase()}`))||r&&0==r.length)return void a("Cannot resolve symbol");o&&(e+="$OISYMBOL");const n={token:r[0],ticker:e,name:e,base_name:"IDX"==r[4]?r[1]:e.split(":")[1],pro_name:e,full_name:e,description:e,tick_size:String(r[2]),type:e.includes("FUT")?"futures":"IDX"==r[4]?"index":e.includes("NSE")?"stock":"undefined",session:"MCX"==e.split(":")[0]?"0900-2330":"CDS"==e.split(":")[0]?"0900-1700":"0915-1530",timezone:"Asia/Kolkata",exchange:e.split(":")[0],minmov:"CDS"==e.split(":")[0]?1e4*r[2]:100*r[2],pricescale:"CDS"==e.split(":")[0]?1e4:100,has_intraday:!0,has_daily:!0,visible_plots_set:"IDX"==r[4]?"ohlc":"ohlcv",has_weekly_and_monthly:!1,lot_size:String(r[3]),isTradable:"IDX"!=r[4],qty:{step:String("MCX"==e.split(":")[0]?1:r[3]),default:String("MCX"==e.split(":")[0]?1:r[3])},supported_resolutions:supported_resolutions,volume_precision:1,data_status:"streaming",intraday_multipliers:["1"],daily_multipliers:["1"],weekly_multipliers:["1"],monthly_multipliers:["1"],supports_timescale_marks:!0,session_holidays:getHolidays(e.split(":")[0])};return _symbolInfoMap[e]=n,setTimeout(()=>t(n)),Promise.resolve(_symbolInfoMap[e])},subscribeDepth(e,t){this.resolveSymbol(e,e=>{subscribeOnStream([e],void 0,t,"DOM"+Date.now().toString(),void 0,void 0,"depth")},e=>{})},unsubscribeDepth(e){unsubscribeFromStream(e)},async getBars(e,t,a,o,r){seyCheckwebsocket$1();let n,i=!1;var l;if(e.name.includes("$OISYMBOL")&&(i=!0),"1D"==t||"1W"==t||"1M"==t){let t;t="index"==e.type?e.exchange+":"+e.base_name:e.name,t=t.includes("$OISYMBOL")?t.replace("$OISYMBOL",""):t,t=t.includes(" ")?t.replace(" ","%20"):t,t=t.includes("&")?t.replace("&","%26"):t,n=JSON.stringify({sym:t,from:a.from,to:a.to});try{if(!((l=await makeApiRequest(`${myntDCUrl}getdata`,n))&&l.length>0))return void o([],{noData:!0});l=l.map(e=>{let t=JSON.parse(e);return t.into="0.00"==t.into?t.intc:t.into,t.intl="0.00"==t.intl?t.intc:t.intl,t.inth="0.00"==t.inth?t.intc:t.inth,t})}catch(c){return console.error("Fetch failed:",c),void o([],{noData:!0})}}else{let r;r=e.base_name.includes("$OISYMBOL")?e.base_name.replace("$OISYMBOL",""):e.base_name,r=r.includes("&")?r.replace("&","%26"):r,n=`jData={"uid":"${userid}","exch":"${e.exchange}","token":"${r}","st":"${a.from-32e4}","et":"${a.to}","intrv":"${t}"}&jKey=${usession}`;const i=params?myntappurl.myntapi:mynturl.myntapi;if(!i)return console.warn("⚠️ API URL not ready for TPSeries, returning no data"),void o([],{noData:!0});l=await makeApiRequest(`${i}TPSeries`,n)}try{if("Not_Ok"==l.stat||l==[])return void o([],{noData:!0});let t=l.map(e=>({time:parseFloat(e.ssboe),open:parseFloat(e.into),high:parseFloat(e.inth),low:parseFloat(e.intl),close:parseFloat(e.intc),volume:parseFloat(e.intv),oi:parseFloat(e.oi)}));t=t.sort((e,t)=>parseFloat(e.time)-parseFloat(t.time));var s=[];i?t.forEach(e=>{s=[...s,{time:1e3*e.time,low:e.low,high:e.high,open:e.open,volume:e.volume,close:e.oi,oi:e.oi}]}):t.forEach(e=>{s=[...s,{time:1e3*e.time,low:e.low,high:e.high,open:e.open,volume:e.volume,close:e.close,oi:e.oi}]}),a.firstDataRequest&&lastBarsCache.set(e.name,{...s[s.length-1]}),o(s,{noData:!1})}catch(c){r(c)}},subscribeBars(e,t,a,o,r){const n=o+"_"+Math.random().toString(36).substring(2,10);subscribeOnStream([e],t,a,n,r,lastBarsCache.get(e.name),"bar"),this._subscriberMapping||(this._subscriberMapping=new Map),this._subscriberMapping.set(o,n)},unsubscribeBars(e){unsubscribeFromStream((this._subscriberMapping?this._subscriberMapping.get(e):e)||e),this._subscriberMapping&&this._subscriberMapping.delete(e)},subscribeTtQuotes(e,t,a,o){null==t&&(t=e);let r=[...new Set(t.concat(e))];var n={};r.forEach(e=>{this.resolveSymbol(null!=e.symbol?e.symbol:e,t=>{n[e]=t,Object.keys(n).length==r.length&&subscribeOnStream(Object.values(n),void 0,a,o,void 0,void 0,"tt-quotes")},e=>{})})}};async function getAllSymbols(e,t,a){seyCheckwebsocket$1();var o="",r=[];switch(e.includes(":")&&(e=e.split(":")[1]),t){case"NSE":switch(a){case"STOCK":o="NSE",r=["NSE"];break;case"F&O":o="NFO",r=["NFO"];break;case"CURR":o="CDS",r=["CDS"];break;case"COMM":o="NCOM",r=["NCOM"];break;case"UNDIND":o="UNDIND",r=["NSE"];break;default:o="",r=["NSE","NFO","CDS","NCOM"]}break;case"BSE":switch(a){case"STOCK":o="BSE",r=["BSE"];break;case"F&O":o="BFO",r=["BFO"];break;case"CURR":o="BCD",r=["BCD"];break;case"COMM":o="BCOM",r=["BCOM"];break;case"UNDIND":o="UNDIND",r=["BSE"];break;default:o="",r=["BSE","BFO","BCD","BCOM"]}break;case"MCX":switch(a){case"STOCK":case"F&O":case"CURR":r=[];break;case"COMM":r=["MCX"];break;case"UNDIND":o="UNDIND",r=["MCX"];break;default:o="",r=["MCX"]}o="MCX";break;case"ALL":switch(a){case"STOCK":r=["NSE","BSE"];break;case"F&O":r=["NFO","BFO"];break;case"CURR":r=["CDS","BCD"];break;case"COMM":r=["NCOM","BCOM","MCX"];break;case"UNDIND":o="UNDIND",r=[];break;default:r=["NSE","NFO","CDS","NCOM","BSE","BFO","BCD","BCOM","MCX"]}o="";break;default:o=""}if("UNDIND"!=a){e.includes("&")&&(e=e.replace("&","%26")),e.includes(" ")&&(e=e.replace(" ","_"));var n=`jData={"uid":"${userid}","stext":"${e}"}&jKey=${usession}`;if(o&&"UNDIND"!=a&&(n=`jData={"uid":"${userid}","stext":"${e}","exch":"${o}"}&jKey=${usession}`),!mynturl.myntapi)return console.warn("⚠️ mynturl.myntapi not ready for SearchScrip, returning empty results"),[];const t=await makeApiRequest(mynturl.myntapi+"SearchScrip",n);if("Not_Ok"==t.stat)return[];return t.values.map(e=>{let t="",a="OPTIDX"==e.instname?"Option":"FUTIDX"==e.instname?"Future":"OPTSTK"==e.instname?"Option":"FUTSTK"==e.instname?"Future":"COM"==e.instname?"Commodity":"FUTCUR"==e.instname?"Future":"OPTCUR"==e.instname?"Option":"UNDIND"==e.instname?"Index":"FUTCOM"==e.instname?"Future":"OPTFUT"==e.instname?"Option":"Stock";if("OPTIDX"==e.instname||"OPTSTK"==e.instname||"OPTCUR"==e.instname||"OPTFUT"==e.instname){let a=e.tsym.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(a){let o=e.tsym.split(a[0]);t=`${o[0]}  ${a[0].replace(/(..)(...)(..)/,"$1-$2-$3")}  ${o[1].substring(0,1)}E  ${o[1].substring(1)}  ${e.hasOwnProperty("weekly")?`(week ${e.weekly.substring(1)})`:""}`}}if("FUTIDX"==e.instname||"FUTSTK"==e.instname||"FUTCUR"==e.instname||"FUTCOM"==e.instname){let a=e.tsym.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(a){let o=e.tsym.split(a[0]);t=`${o[0]}  ${a[0].replace(/(..)(...)(..)/,"$1-$2-$3")}  ${o[1].substring(0,1),"FUT"}  ${o[1].substring(1)}`}}return{exchanges:e.exch,symbols_types:a,symbol:e.exch+":"+e.tsym.toUpperCase(),full_name:e.cname,description:t||e.cname,exchange:e.exch,ticker:e.exch+":"+e.tsym.toUpperCase(),type:a}}).filter(e=>r.length>0?r.includes(e.exchanges)&"Commodity"!=e.symbols_types:e)}return[]}function getHolidays(e){return"NSE"==e?"20240122,20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"BSE"==e?"20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"MCX"==e?"20240126,20240329,20240815,20241002,20241225":"NFO"==e?"20240122,20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"CDS"==e?"20240122,20240126,20240219,20240308,20240325,20240329,20240401,20240409,20240411,20240417,20240501,20240523,20240617,20240717,20240815,20240916,20241002,20241115,20241225":"NCOM"==e?"20240122,20240126,20240329,20240815,20241002,20241225":"BCD"==e?"20240126,20240219,20240308,20240325,20240329,20240401,20240409,20240411,20240417,20240501,20240523,20240617,20240717,20240815,20240916,20241002,20241115,20241225":"BFO"==e?"20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":""}
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback,some;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray$1(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isObject$1(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function isObjectEmpty(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(hasOwnProp(e,t))return!1;return!0}function isUndefined$1(e){return void 0===e}function isNumber$1(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function isDate$1(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var a,o=[],r=e.length;for(a=0;a<r;++a)o.push(t(e[a],a));return o}function extend$1(e,t){for(var a in t)hasOwnProp(t,a)&&(e[a]=t[a]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,a,o){return createLocalOrUTC(e,t,a,o,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function isValid(e){var t=null,a=!1,o=e._d&&!isNaN(e._d.getTime());return o&&(t=getParsingFlags(e),a=some.call(t.parsedDateParts,function(e){return null!=e}),o=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?o:(e._isValid=o,e._isValid)}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend$1(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}some=Array.prototype.some?Array.prototype.some:function(e){var t,a=Object(this),o=a.length>>>0;for(t=0;t<o;t++)if(t in a&&e.call(this,a[t],t,a))return!0;return!1};var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(e,t){var a,o,r,n=momentProperties.length;if(isUndefined$1(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined$1(t._i)||(e._i=t._i),isUndefined$1(t._f)||(e._f=t._f),isUndefined$1(t._l)||(e._l=t._l),isUndefined$1(t._strict)||(e._strict=t._strict),isUndefined$1(t._tzm)||(e._tzm=t._tzm),isUndefined$1(t._isUTC)||(e._isUTC=t._isUTC),isUndefined$1(t._offset)||(e._offset=t._offset),isUndefined$1(t._pf)||(e._pf=getParsingFlags(t)),isUndefined$1(t._locale)||(e._locale=t._locale),n>0)for(a=0;a<n;a++)isUndefined$1(r=t[o=momentProperties[a]])||(e[o]=r);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function warn(e){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var a=!0;return extend$1(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),a){var o,r,n,i=[],l=arguments.length;for(r=0;r<l;r++){if(o="","object"==typeof arguments[r]){for(n in o+="\n["+r+"] ",arguments[0])hasOwnProp(arguments[0],n)&&(o+=n+": "+arguments[0][n]+", ");o=o.slice(0,-2)}else o=arguments[r];i.push(o)}warn(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),a=!1}return t.apply(this,arguments)},t)}var deprecations={},keys;function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}function isFunction$2(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function set(e){var t,a;for(a in e)hasOwnProp(e,a)&&(isFunction$2(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var a,o=extend$1({},e);for(a in t)hasOwnProp(t,a)&&(isObject$1(e[a])&&isObject$1(t[a])?(o[a]={},extend$1(o[a],e[a]),extend$1(o[a],t[a])):null!=t[a]?o[a]=t[a]:delete o[a]);for(a in e)hasOwnProp(e,a)&&!hasOwnProp(t,a)&&isObject$1(e[a])&&(o[a]=extend$1({},o[a]));return o}function Locale(e){null!=e&&this.set(e)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)hasOwnProp(e,t)&&a.push(t);return a};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,a){var o=this._calendar[e]||this._calendar.sameElse;return isFunction$2(o)?o.call(t,a):o}function zeroFill(e,t,a){var o=""+Math.abs(e),r=t-o.length;return(e>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+o}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(e,t,a,o){var r=o;"string"==typeof o&&(r=function(){return this[o]()}),e&&(formatTokenFunctions[e]=r),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(r.apply(this,arguments),t[1],t[2])}),a&&(formatTokenFunctions[a]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,a,o=e.match(formattingTokens);for(t=0,a=o.length;t<a;t++)formatTokenFunctions[o[t]]?o[t]=formatTokenFunctions[o[t]]:o[t]=removeFormattingTokens(o[t]);return function(t){var r,n="";for(r=0;r<a;r++)n+=isFunction$2(o[r])?o[r].call(t,e):o[r];return n}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){var a=5;function o(e){return t.longDateFormat(e)||e}for(localFormattingTokens.lastIndex=0;a>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,o),localFormattingTokens.lastIndex=0,a-=1;return e}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(formattingTokens).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,a,o){var r=this._relativeTime[a];return isFunction$2(r)?r(e,t,a,o):r.replace(/%d/i,e)}function pastFuture(e,t){var a=this._relativeTime[e>0?"future":"past"];return isFunction$2(a)?a(t):a.replace(/%s/i,t)}var aliases={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(e){return"string"==typeof e?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,a,o={};for(a in e)hasOwnProp(e,a)&&(t=normalizeUnits(a))&&(o[t]=e[a]);return o}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(e){var t,a=[];for(t in e)hasOwnProp(e,t)&&a.push({unit:t,priority:priorities[t]});return a.sort(function(e,t){return e.priority-t.priority}),a}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;function addRegexToken(e,t,a){regexes[e]=isFunction$2(t)?t:function(e,o){return e&&a?a:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,o,r){return t||a||o||r}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function toInt(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=absFloor(t)),a}regexes={};var tokens={};function addParseToken(e,t){var a,o,r=t;for("string"==typeof e&&(e=[e]),isNumber$1(t)&&(r=function(e,a){a[t]=toInt(e)}),o=e.length,a=0;a<o;a++)tokens[e[a]]=r}function addWeekParseToken(e,t){addParseToken(e,function(e,a,o,r){o._w=o._w||{},t(e,o._w,o,r)})}function addTimeToArrayFromToken(e,t,a){null!=t&&hasOwnProp(tokens,e)&&tokens[e](t,a._a,a,e)}function isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function daysInYear(e){return isLeapYear(e)?366:365}addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?zeroFill(e,4):"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(e,t){t[YEAR]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0),indexOf;function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(e,t){return function(a){return null!=a?(set$1(this,e,a),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){if(!e.isValid())return NaN;var a=e._d,o=e._isUTC;switch(t){case"Milliseconds":return o?a.getUTCMilliseconds():a.getMilliseconds();case"Seconds":return o?a.getUTCSeconds():a.getSeconds();case"Minutes":return o?a.getUTCMinutes():a.getMinutes();case"Hours":return o?a.getUTCHours():a.getHours();case"Date":return o?a.getUTCDate():a.getDate();case"Day":return o?a.getUTCDay():a.getDay();case"Month":return o?a.getUTCMonth():a.getMonth();case"FullYear":return o?a.getUTCFullYear():a.getFullYear();default:return NaN}}function set$1(e,t,a){var o,r,n,i,l;if(e.isValid()&&!isNaN(a)){switch(o=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?o.setUTCMilliseconds(a):o.setMilliseconds(a));case"Seconds":return void(r?o.setUTCSeconds(a):o.setSeconds(a));case"Minutes":return void(r?o.setUTCMinutes(a):o.setMinutes(a));case"Hours":return void(r?o.setUTCHours(a):o.setHours(a));case"Date":return void(r?o.setUTCDate(a):o.setDate(a));case"FullYear":break;default:return}n=a,i=e.month(),l=29!==(l=e.date())||1!==i||isLeapYear(n)?l:28,r?o.setUTCFullYear(n,i,l):o.setFullYear(n,i,l)}}function stringGet(e){return isFunction$2(this[e=normalizeUnits(e)])?this[e]():this}function stringSet(e,t){if("object"==typeof e){var a,o=getPrioritizedUnits(e=normalizeObjectUnits(e)),r=o.length;for(a=0;a<r;a++)this[o[a].unit](e[o[a].unit])}else if(isFunction$2(this[e=normalizeUnits(e)]))return this[e](t);return this}function mod(e,t){return(e%t+t)%t}function daysInMonth(e,t){if(isNaN(e)||isNaN(t))return NaN;var a=mod(t,12);return e+=(t-a)/12,1===a?isLeapYear(e)?29:28:31-a%7%2}indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addRegexToken("M",match1to2,match1to2NoLeadingZero),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,a,o){var r=a._locale.monthsParse(e,o,a._strict);null!=r?t[MONTH]=r:getParsingFlags(a).invalidMonth=e});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(e,t){return e?isArray$1(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(t)?"format":"standalone"][e.month()]:isArray$1(this._months)?this._months:this._months.standalone}function localeMonthsShort(e,t){return e?isArray$1(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]:isArray$1(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(e,t,a){var o,r,n,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)n=createUTC([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(n,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(r=indexOf.call(this._shortMonthsParse,i))?r:null:-1!==(r=indexOf.call(this._longMonthsParse,i))?r:null:"MMM"===t?-1!==(r=indexOf.call(this._shortMonthsParse,i))||-1!==(r=indexOf.call(this._longMonthsParse,i))?r:null:-1!==(r=indexOf.call(this._longMonthsParse,i))||-1!==(r=indexOf.call(this._shortMonthsParse,i))?r:null}function localeMonthsParse(e,t,a){var o,r,n;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=createUTC([2e3,o]),a&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),a||this._monthsParse[o]||(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[o]=new RegExp(n.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(a&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!a&&this._monthsParse[o].test(e))return o}}function setMonth(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(!isNumber$1(t=e.localeData().monthsParse(t)))return e;var a=t,o=e.date();return o=o<29?o:Math.min(o,daysInMonth(e.year(),a)),e._isUTC?e._d.setUTCMonth(a,o):e._d.setMonth(a,o),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function e(e,t){return t.length-e.length}var t,a,o,r,n=[],i=[],l=[];for(t=0;t<12;t++)a=createUTC([2e3,t]),o=regexEscape(this.monthsShort(a,"")),r=regexEscape(this.months(a,"")),n.push(o),i.push(r),l.push(r),l.push(o);n.sort(e),i.sort(e),l.sort(e),this._monthsRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function createDate(e,t,a,o,r,n,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,a,o,r,n,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,a,o,r,n,i),l}function createUTCDate(e){var t,a;return e<100&&e>=0?((a=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function firstWeekOffset(e,t,a){var o=7+t-a;return-((7+createUTCDate(e,0,o).getUTCDay()-t)%7)+o-1}function dayOfYearFromWeeks(e,t,a,o,r){var n,i,l=1+7*(t-1)+(7+a-o)%7+firstWeekOffset(e,o,r);return l<=0?i=daysInYear(n=e-1)+l:l>daysInYear(e)?(n=e+1,i=l-daysInYear(e)):(n=e,i=l),{year:n,dayOfYear:i}}function weekOfYear(e,t,a){var o,r,n=firstWeekOffset(e.year(),t,a),i=Math.floor((e.dayOfYear()-n-1)/7)+1;return i<1?o=i+weeksInYear(r=e.year()-1,t,a):i>weeksInYear(e.year(),t,a)?(o=i-weeksInYear(e.year(),t,a),r=e.year()+1):(r=e.year(),o=i),{week:o,year:r}}function weeksInYear(e,t,a){var o=firstWeekOffset(e,t,a),r=firstWeekOffset(e+1,t,a);return(daysInYear(e)-o+r)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addRegexToken("w",match1to2,match1to2NoLeadingZero),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2,match1to2NoLeadingZero),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(e,t,a,o){t[o.substr(0,1)]=toInt(e)});var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function parseIsoWeekday(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,a,o){var r=a._locale.weekdaysParse(e,o,a._strict);null!=r?t.d=r:getParsingFlags(a).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,a,o){t[o]=toInt(e)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(e,t){var a=isArray$1(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?shiftWeekdays(a,this._week.dow):e?a[e.day()]:a}function localeWeekdaysShort(e){return!0===e?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function localeWeekdaysMin(e){return!0===e?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,a){var o,r,n,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)n=createUTC([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(n,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(r=indexOf.call(this._weekdaysParse,i))?r:null:"ddd"===t?-1!==(r=indexOf.call(this._shortWeekdaysParse,i))?r:null:-1!==(r=indexOf.call(this._minWeekdaysParse,i))?r:null:"dddd"===t?-1!==(r=indexOf.call(this._weekdaysParse,i))||-1!==(r=indexOf.call(this._shortWeekdaysParse,i))||-1!==(r=indexOf.call(this._minWeekdaysParse,i))?r:null:"ddd"===t?-1!==(r=indexOf.call(this._shortWeekdaysParse,i))||-1!==(r=indexOf.call(this._weekdaysParse,i))||-1!==(r=indexOf.call(this._minWeekdaysParse,i))?r:null:-1!==(r=indexOf.call(this._minWeekdaysParse,i))||-1!==(r=indexOf.call(this._weekdaysParse,i))||-1!==(r=indexOf.call(this._shortWeekdaysParse,i))?r:null}function localeWeekdaysParse(e,t,a){var o,r,n;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(r=createUTC([2e3,1]).day(o),a&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[o]=new RegExp(n.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[o].test(e))return o;if(a&&"ddd"===t&&this._shortWeekdaysParse[o].test(e))return o;if(a&&"dd"===t&&this._minWeekdaysParse[o].test(e))return o;if(!a&&this._weekdaysParse[o].test(e))return o}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=get(this,"Day");return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function e(e,t){return t.length-e.length}var t,a,o,r,n,i=[],l=[],s=[],c=[];for(t=0;t<7;t++)a=createUTC([2e3,1]).day(t),o=regexEscape(this.weekdaysMin(a,"")),r=regexEscape(this.weekdaysShort(a,"")),n=regexEscape(this.weekdays(a,"")),i.push(o),l.push(r),s.push(n),c.push(o),c.push(r),c.push(n);i.sort(e),l.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2,match1to2HasZero),addRegexToken("h",match1to2,match1to2NoLeadingZero),addRegexToken("k",match1to2,match1to2NoLeadingZero),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(e,t,a){var o=toInt(e);t[HOUR]=24===o?0:o}),addParseToken(["a","A"],function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e}),addParseToken(["h","hh"],function(e,t,a){t[HOUR]=toInt(e),getParsingFlags(a).bigHour=!0}),addParseToken("hmm",function(e,t,a){var o=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o)),getParsingFlags(a).bigHour=!0}),addParseToken("hmmss",function(e,t,a){var o=e.length-4,r=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o,2)),t[SECOND]=toInt(e.substr(r)),getParsingFlags(a).bigHour=!0}),addParseToken("Hmm",function(e,t,a){var o=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o))}),addParseToken("Hmmss",function(e,t,a){var o=e.length-4,r=e.length-2;t[HOUR]=toInt(e.substr(0,o)),t[MINUTE]=toInt(e.substr(o,2)),t[SECOND]=toInt(e.substr(r))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(e,t){var a,o=Math.min(e.length,t.length);for(a=0;a<o;a+=1)if(e[a]!==t[a])return a;return o}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,a,o,r,n=0;n<e.length;){for(t=(r=normalizeLocale(e[n]).split("-")).length,a=(a=normalizeLocale(e[n+1]))?a.split("-"):null;t>0;){if(o=loadLocale(r.slice(0,t).join("-")))return o;if(a&&a.length>=t&&commonPrefix(r,a)>=t-1)break;t--}n++}return globalLocale}function isLocaleNameSane(e){return!(!e||!e.match("^[^/\\\\]*$"))}function loadLocale(e){var t=null;if(void 0===locales[e]&&void 0!==module&&module&&module.exports&&isLocaleNameSane(e))try{t=globalLocale._abbr,require("./locale/"+e),getSetGlobalLocale(t)}catch(e2){locales[e]=null}return locales[e]}function getSetGlobalLocale(e,t){var a;return e&&((a=isUndefined$1(t)?getLocale(e):defineLocale(e,t))?globalLocale=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(e,t){if(null!==t){var a,o=baseConfig;if(t.abbr=e,null!=locales[e])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=locales[e]._config;else if(null!=t.parentLocale)if(null!=locales[t.parentLocale])o=locales[t.parentLocale]._config;else{if(null==(a=loadLocale(t.parentLocale)))return localeFamilies[t.parentLocale]||(localeFamilies[t.parentLocale]=[]),localeFamilies[t.parentLocale].push({name:e,config:t}),null;o=a._config}return locales[e]=new Locale(mergeConfigs(o,t)),localeFamilies[e]&&localeFamilies[e].forEach(function(e){defineLocale(e.name,e.config)}),getSetGlobalLocale(e),locales[e]}return delete locales[e],null}function updateLocale(e,t){if(null!=t){var a,o,r=baseConfig;null!=locales[e]&&null!=locales[e].parentLocale?locales[e].set(mergeConfigs(locales[e]._config,t)):(null!=(o=loadLocale(e))&&(r=o._config),t=mergeConfigs(r,t),null==o&&(t.abbr=e),(a=new Locale(t)).parentLocale=locales[e],locales[e]=a),getSetGlobalLocale(e)}else null!=locales[e]&&(null!=locales[e].parentLocale?(locales[e]=locales[e].parentLocale,e===getSetGlobalLocale()&&getSetGlobalLocale(e)):null!=locales[e]&&delete locales[e]);return locales[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray$1(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function checkOverflow(e){var t,a=e._a;return a&&-2===getParsingFlags(e).overflow&&(t=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(t<YEAR||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(e){var t,a,o,r,n,i,l=e._i,s=extendedIsoRegex.exec(l)||basicIsoRegex.exec(l),c=isoDates.length,d=isoTimes.length;if(s){for(getParsingFlags(e).iso=!0,t=0,a=c;t<a;t++)if(isoDates[t][1].exec(s[1])){r=isoDates[t][0],o=!1!==isoDates[t][2];break}if(null==r)return void(e._isValid=!1);if(s[3]){for(t=0,a=d;t<a;t++)if(isoTimes[t][1].exec(s[3])){n=(s[2]||" ")+isoTimes[t][0];break}if(null==n)return void(e._isValid=!1)}if(!o&&null!=n)return void(e._isValid=!1);if(s[4]){if(!tzRegex.exec(s[4]))return void(e._isValid=!1);i="Z"}e._f=r+(n||"")+(i||""),configFromStringAndFormat(e)}else e._isValid=!1}function extractFromRFC2822Strings(e,t,a,o,r,n){var i=[untruncateYear(e),defaultLocaleMonthsShort.indexOf(t),parseInt(a,10),parseInt(o,10),parseInt(r,10)];return n&&i.push(parseInt(n,10)),i}function untruncateYear(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function preprocessRFC2822(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,a){if(e&&defaultLocaleWeekdaysShort.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return getParsingFlags(a).weekdayMismatch=!0,a._isValid=!1,!1;return!0}function calculateOffset(e,t,a){if(e)return obsOffsets[e];if(t)return 0;var o=parseInt(a,10),r=o%100;return 60*((o-r)/100)+r}function configFromRFC2822(e){var t,a=rfc2822.exec(preprocessRFC2822(e._i));if(a){if(t=extractFromRFC2822Strings(a[4],a[3],a[2],a[5],a[6],a[7]),!checkWeekday(a[1],t,e))return;e._a=t,e._tzm=calculateOffset(a[8],a[9],a[10]),e._d=createUTCDate.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),getParsingFlags(e).rfc2822=!0}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);null===t?(configFromISO(e),!1===e._isValid&&(delete e._isValid,configFromRFC2822(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:hooks.createFromInputFallback(e)))):e._d=new Date(+t[1])}function defaults$1(e,t,a){return null!=e?e:null!=t?t:a}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,a,o,r,n,i=[];if(!e._d){for(o=currentDateArray(e),e._w&&null==e._a[DATE]&&null==e._a[MONTH]&&dayOfYearFromWeekInfo(e),null!=e._dayOfYear&&(n=defaults$1(e._a[YEAR],o[YEAR]),(e._dayOfYear>daysInYear(n)||0===e._dayOfYear)&&(getParsingFlags(e)._overflowDayOfYear=!0),a=createUTCDate(n,0,e._dayOfYear),e._a[MONTH]=a.getUTCMonth(),e._a[DATE]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=i[t]=o[t];for(;t<7;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[HOUR]&&0===e._a[MINUTE]&&0===e._a[SECOND]&&0===e._a[MILLISECOND]&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,i),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(getParsingFlags(e).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(e){var t,a,o,r,n,i,l,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(n=1,i=4,a=defaults$1(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),o=defaults$1(t.W,1),((r=defaults$1(t.E,1))<1||r>7)&&(s=!0)):(n=e._locale._week.dow,i=e._locale._week.doy,c=weekOfYear(createLocal(),n,i),a=defaults$1(t.gg,e._a[YEAR],c.year),o=defaults$1(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(s=!0):null!=t.e?(r=t.e+n,(t.e<0||t.e>6)&&(s=!0)):r=n),o<1||o>weeksInYear(a,n,i)?getParsingFlags(e)._overflowWeeks=!0:null!=s?getParsingFlags(e)._overflowWeekday=!0:(l=dayOfYearFromWeeks(a,o,r,n,i),e._a[YEAR]=l.year,e._dayOfYear=l.dayOfYear)}function configFromStringAndFormat(e){if(e._f!==hooks.ISO_8601)if(e._f!==hooks.RFC_2822){e._a=[],getParsingFlags(e).empty=!0;var t,a,o,r,n,i,l,s=""+e._i,c=s.length,d=0;for(l=(o=expandFormat(e._f,e._locale).match(formattingTokens)||[]).length,t=0;t<l;t++)r=o[t],(a=(s.match(getParseRegexForToken(r,e))||[])[0])&&((n=s.substr(0,s.indexOf(a))).length>0&&getParsingFlags(e).unusedInput.push(n),s=s.slice(s.indexOf(a)+a.length),d+=a.length),formatTokenFunctions[r]?(a?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(r),addTimeToArrayFromToken(r,a,e)):e._strict&&!a&&getParsingFlags(e).unusedTokens.push(r);getParsingFlags(e).charsLeftOver=c-d,s.length>0&&getParsingFlags(e).unusedInput.push(s),e._a[HOUR]<=12&&!0===getParsingFlags(e).bigHour&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),null!==(i=getParsingFlags(e).era)&&(e._a[YEAR]=e._locale.erasConvertYear(i,e._a[YEAR])),configFromArray(e),checkOverflow(e)}else configFromRFC2822(e);else configFromISO(e)}function meridiemFixWrap(e,t,a){var o;return null==a?t:null!=e.meridiemHour?e.meridiemHour(t,a):null!=e.isPM?((o=e.isPM(a))&&t<12&&(t+=12),o||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,a,o,r,n,i,l=!1,s=e._f.length;if(0===s)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<s;r++)n=0,i=!1,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],configFromStringAndFormat(t),isValid(t)&&(i=!0),n+=getParsingFlags(t).charsLeftOver,n+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=n,l?n<o&&(o=n,a=t):(null==o||n<o||i)&&(o=n,a=t,i&&(l=!0));extend$1(e,a||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i),a=void 0===t.day?t.date:t.day;e._a=map([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,a=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===a&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isDate$1(t)?e._d=t:isArray$1(a)?configFromStringAndArray(e):a?configFromStringAndFormat(e):configFromInput(e),isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;isUndefined$1(t)?e._d=new Date(hooks.now()):isDate$1(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray$1(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):isObject$1(t)?configFromObject(e):isNumber$1(t)?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,a,o,r){var n={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==a&&!1!==a||(o=a,a=void 0),(isObject$1(e)&&isObjectEmpty(e)||isArray$1(e)&&0===e.length)&&(e=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=r,n._l=a,n._i=e,n._f=t,n._strict=o,createFromConfig(n)}function createLocal(e,t,a,o){return createLocalOrUTC(e,t,a,o,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()});function pickBy(e,t){var a,o;if(1===t.length&&isArray$1(t[0])&&(t=t[0]),!t.length)return createLocal();for(a=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](a)||(a=t[o]);return a}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){var t,a,o=!1,r=ordering.length;for(t in e)if(hasOwnProp(e,t)&&(-1===indexOf.call(ordering,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<r;++a)if(e[ordering[a]]){if(o)return!1;parseFloat(e[ordering[a]])!==toInt(e[ordering[a]])&&(o=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),a=t.year||0,o=t.quarter||0,r=t.month||0,n=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,s=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=isDurationValid(t),this._milliseconds=+d+1e3*c+6e4*s+1e3*l*60*60,this._days=+i+7*n,this._months=+r+3*o+12*a,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function compareArrays(e,t,a){var o,r=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),i=0;for(o=0;o<r;o++)toInt(e[o])!==toInt(t[o])&&i++;return i+n}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(e,t,a){a._useUTC=!0,a._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var a,o,r=(t||"").match(e);return null===r?null:0===(o=60*(a=((r[r.length-1]||[])+"").match(chunkOffset)||["-",0,0])[1]+toInt(a[2]))?0:"+"===a[0]?o:-o}function cloneWithOffset(e,t){var a,o;return t._isUTC?(a=t.clone(),o=(isMoment(e)||isDate$1(e)?e.valueOf():createLocal(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+o),hooks.updateOffset(a,!1),a):createLocal(e).local()}function getDateOffset(e){return-Math.round(e._d.getTimezoneOffset())}function getSetOffset(e,t,a){var o,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=offsetFromString(matchShortOffset,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(o=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:getDateOffset(this)}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=offsetFromString(matchOffset,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(e){return!!this.isValid()&&(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined$1(this._isDSTShifted))return this._isDSTShifted;var e,t={};return copyConfig(t,this),(t=prepareConfig(t))._a?(e=t._isUTC?createUTC(t._a):createLocal(t._a),this._isDSTShifted=this.isValid()&&compareArrays(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var a,o,r,n=e,i=null;return isDuration(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:isNumber$1(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(i=aspNetRegex.exec(e))?(a="-"===i[1]?-1:1,n={y:0,d:toInt(i[DATE])*a,h:toInt(i[HOUR])*a,m:toInt(i[MINUTE])*a,s:toInt(i[SECOND])*a,ms:toInt(absRound(1e3*i[MILLISECOND]))*a}):(i=isoRegex.exec(e))?(a="-"===i[1]?-1:1,n={y:parseIso(i[2],a),M:parseIso(i[3],a),w:parseIso(i[4],a),d:parseIso(i[5],a),h:parseIso(i[6],a),m:parseIso(i[7],a),s:parseIso(i[8],a)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(r=momentsDifference(createLocal(n.from),createLocal(n.to)),(n={}).ms=r.milliseconds,n.M=r.months),o=new Duration(n),isDuration(e)&&hasOwnProp(e,"_locale")&&(o._locale=e._locale),isDuration(e)&&hasOwnProp(e,"_isValid")&&(o._isValid=e._isValid),o}function parseIso(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function positiveMomentsDifference(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function momentsDifference(e,t){var a;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?a=positiveMomentsDifference(e,t):((a=positiveMomentsDifference(t,e)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function createAdder(e,t){return function(a,o){var r;return null===o||isNaN(+o)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=a,a=o,o=r),addSubtract(this,createDuration(a,o),e),this}}function addSubtract(e,t,a,o){var r=t._milliseconds,n=absRound(t._days),i=absRound(t._months);e.isValid()&&(o=null==o||o,i&&setMonth(e,get(e,"Month")+i*a),n&&set$1(e,"Date",get(e,"Date")+n*a),r&&e._d.setTime(e._d.valueOf()+r*a),o&&hooks.updateOffset(e,n||i))}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$1(e){return"string"==typeof e||e instanceof String}function isMomentInput(e){return isMoment(e)||isDate$1(e)||isString$1(e)||isNumber$1(e)||isNumberOrStringArray(e)||isMomentInputObject(e)||null==e}function isMomentInputObject(e){var t,a=isObject$1(e)&&!isObjectEmpty(e),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n=r.length;for(t=0;t<n;t+=1)o=o||hasOwnProp(e,r[t]);return a&&o}function isNumberOrStringArray(e){var t=isArray$1(e),a=!1;return t&&(a=0===e.filter(function(t){return!isNumber$1(t)&&isString$1(e)}).length),t&&a}function isCalendarSpec(e){var t,a=isObject$1(e)&&!isObjectEmpty(e),o=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)o=o||hasOwnProp(e,r[t]);return a&&o}function getCalendarFormat(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function calendar$1(e,t){1===arguments.length&&(arguments[0]?isMomentInput(arguments[0])?(e=arguments[0],t=void 0):isCalendarSpec(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var a=e||createLocal(),o=cloneWithOffset(a,this).startOf("day"),r=hooks.calendarFormat(this,o)||"sameElse",n=t&&(isFunction$2(t[r])?t[r].call(this,a):t[r]);return this.format(n||this.localeData().calendar(r,this,createLocal(a)))}function clone(){return new Moment(this)}function isAfter(e,t){var a=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf())}function isBefore(e,t){var a=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf())}function isBetween(e,t,a,o){var r=isMoment(e)?e:createLocal(e),n=isMoment(t)?t:createLocal(t);return!!(this.isValid()&&r.isValid()&&n.isValid())&&(("("===(o=o||"()")[0]?this.isAfter(r,a):!this.isBefore(r,a))&&(")"===o[1]?this.isBefore(n,a):!this.isAfter(n,a)))}function isSame(e,t){var a,o=isMoment(e)?e:createLocal(e);return!(!this.isValid()||!o.isValid())&&("millisecond"===(t=normalizeUnits(t)||"millisecond")?this.valueOf()===o.valueOf():(a=o.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf()))}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,a){var o,r,n;if(!this.isValid())return NaN;if(!(o=cloneWithOffset(e,this)).isValid())return NaN;switch(r=6e4*(o.utcOffset()-this.utcOffset()),t=normalizeUnits(t)){case"year":n=monthDiff(this,o)/12;break;case"month":n=monthDiff(this,o);break;case"quarter":n=monthDiff(this,o)/3;break;case"second":n=(this-o)/1e3;break;case"minute":n=(this-o)/6e4;break;case"hour":n=(this-o)/36e5;break;case"day":n=(this-o-r)/864e5;break;case"week":n=(this-o-r)/6048e5;break;default:n=this-o}return a?n:absFloor(n)}function monthDiff(e,t){if(e.date()<t.date())return-monthDiff(t,e);var a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return-(a+(t-o<0?(t-o)/(o-e.clone().add(a-1,"months")):(t-o)/(e.clone().add(a+1,"months")-o)))||0}function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid())return null;var t=!0!==e,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?formatMoment(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$2(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(a,"Z")):formatMoment(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,a,o="moment",r="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+a)}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(null!=(t=getLocale(e))&&(this._locale=t),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=3506328*MS_PER_HOUR;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-MS_PER_400_YEARS:new Date(e,t,a).valueOf()}function utcStartOfDate(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-MS_PER_400_YEARS:Date.UTC(e,t,a)}function startOf(e){var t,a;if(void 0===(e=normalizeUnits(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":t=this._d.valueOf(),t-=mod$1(t,MS_PER_MINUTE);break;case"second":t=this._d.valueOf(),t-=mod$1(t,MS_PER_SECOND)}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function endOf(e){var t,a;if(void 0===(e=normalizeUnits(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?utcStartOfDate:localStartOfDate,e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=MS_PER_HOUR-mod$1(t+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":t=this._d.valueOf(),t+=MS_PER_MINUTE-mod$1(t,MS_PER_MINUTE)-1;break;case"second":t=this._d.valueOf(),t+=MS_PER_SECOND-mod$1(t,MS_PER_SECOND)-1}return this._d.setTime(t),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray$1(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function localeEras(e,t){var a,o,r,n=this._eras||getLocale("en")._eras;for(a=0,o=n.length;a<o;++a){if("string"==typeof n[a].since)r=hooks(n[a].since).startOf("day"),n[a].since=r.valueOf();switch(typeof n[a].until){case"undefined":n[a].until=1/0;break;case"string":r=hooks(n[a].until).startOf("day").valueOf(),n[a].until=r.valueOf()}}return n}function localeErasParse(e,t,a){var o,r,n,i,l,s=this.eras();for(e=e.toUpperCase(),o=0,r=s.length;o<r;++o)if(n=s[o].name.toUpperCase(),i=s[o].abbr.toUpperCase(),l=s[o].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(i===e)return s[o];break;case"NNNN":if(n===e)return s[o];break;case"NNNNN":if(l===e)return s[o]}else if([n,i,l].indexOf(e)>=0)return s[o]}function localeErasConvertYear(e,t){var a=e.since<=e.until?1:-1;return void 0===t?hooks(e.since).year():hooks(e.since).year()+(t-e.offset)*a}function getEraName(){var e,t,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until)return o[e].name;if(o[e].until<=a&&a<=o[e].since)return o[e].name}return""}function getEraNarrow(){var e,t,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until)return o[e].narrow;if(o[e].until<=a&&a<=o[e].since)return o[e].narrow}return""}function getEraAbbr(){var e,t,a,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),o[e].since<=a&&a<=o[e].until)return o[e].abbr;if(o[e].until<=a&&a<=o[e].since)return o[e].abbr}return""}function getEraYear(){var e,t,a,o,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(a=r[e].since<=r[e].until?1:-1,o=this.clone().startOf("day").valueOf(),r[e].since<=o&&o<=r[e].until||r[e].until<=o&&o<=r[e].since)return(this.year()-hooks(r[e].since).year())*a+r[e].offset;return this.year()}function erasNameRegex(e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),e?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),e?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(e,t){return t.erasAbbrRegex(e)}function matchEraName(e,t){return t.erasNameRegex(e)}function matchEraNarrow(e,t){return t.erasNarrowRegex(e)}function matchEraYearOrdinal(e,t){return t._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var e,t,a,o,r,n=[],i=[],l=[],s=[],c=this.eras();for(e=0,t=c.length;e<t;++e)a=regexEscape(c[e].name),o=regexEscape(c[e].abbr),r=regexEscape(c[e].narrow),i.push(a),n.push(o),l.push(r),s.push(a),s.push(o),s.push(r);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+l.join("|")+")","i")}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getWeeksInWeekYear(){var e=this.localeData()._week;return weeksInYear(this.weekYear(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,a,o,r){var n;return null==e?weekOfYear(this,o,r).year:(t>(n=weeksInYear(e,o,r))&&(t=n),setWeekAll.call(this,e,t,a,o,r))}function setWeekAll(e,t,a,o,r){var n=dayOfYearFromWeeks(e,t,a,o,r),i=createUTCDate(n.year,0,n.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}addFormatToken("N",0,0,"eraAbbr"),addFormatToken("NN",0,0,"eraAbbr"),addFormatToken("NNN",0,0,"eraAbbr"),addFormatToken("NNNN",0,0,"eraName"),addFormatToken("NNNNN",0,0,"eraNarrow"),addFormatToken("y",["y",1],"yo","eraYear"),addFormatToken("y",["yy",2],0,"eraYear"),addFormatToken("y",["yyy",3],0,"eraYear"),addFormatToken("y",["yyyy",4],0,"eraYear"),addRegexToken("N",matchEraAbbr),addRegexToken("NN",matchEraAbbr),addRegexToken("NNN",matchEraAbbr),addRegexToken("NNNN",matchEraName),addRegexToken("NNNNN",matchEraNarrow),addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(e,t,a,o){var r=a._locale.erasParse(e,o,a._strict);r?getParsingFlags(a).era=r:getParsingFlags(a).invalidEra=e}),addRegexToken("y",matchUnsigned),addRegexToken("yy",matchUnsigned),addRegexToken("yyy",matchUnsigned),addRegexToken("yyyy",matchUnsigned),addRegexToken("yo",matchEraYearOrdinal),addParseToken(["y","yy","yyy","yyyy"],YEAR),addParseToken(["yo"],function(e,t,a,o){var r;a._locale._eraYearOrdinalRegex&&(r=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[YEAR]=a._locale.eraYearOrdinalParse(e,r):t[YEAR]=parseInt(e,10)}),addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,a,o){t[o.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,a,o){t[o]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addRegexToken("Q",match1),addParseToken("Q",function(e,t){t[MONTH]=3*(toInt(e)-1)}),addFormatToken("D",["DD",2],"Do","date"),addRegexToken("D",match1to2,match1to2NoLeadingZero),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(e,t,a){a._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addRegexToken("m",match1to2,match1to2HasZero),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addRegexToken("s",match1to2,match1to2HasZero),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1),token,getSetMillisecond;for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(e,t){t[MILLISECOND]=toInt(1e3*("0."+e))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}getSetMillisecond=makeGetSet("Milliseconds",!1),addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$2,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray$1,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,"undefined"!=typeof Symbol&&null!=Symbol.for&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),proto.toJSON=toJSON,proto.toString=toString$1,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.eraName=getEraName,proto.eraNarrow=getEraNarrow,proto.eraAbbr=getEraAbbr,proto.eraYear=getEraYear,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.weeksInWeekYear=getWeeksInWeekYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;function get$1(e,t,a,o){var r=getLocale(),n=createUTC().set(o,t);return r[a](n,e)}function listMonthsImpl(e,t,a){if(isNumber$1(e)&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,a,"month");var o,r=[];for(o=0;o<12;o++)r[o]=get$1(e,o,a,"month");return r}function listWeekdaysImpl(e,t,a,o){"boolean"==typeof e?(isNumber$1(t)&&(a=t,t=void 0),t=t||""):(a=t=e,e=!1,isNumber$1(t)&&(a=t,t=void 0),t=t||"");var r,n=getLocale(),i=e?n._week.dow:0,l=[];if(null!=a)return get$1(t,(a+i)%7,o,"day");for(r=0;r<7;r++)l[r]=get$1(t,(r+i)%7,o,"day");return l}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,a){return listWeekdaysImpl(e,t,a,"weekdays")}function listWeekdaysShort(e,t,a){return listWeekdaysImpl(e,t,a,"weekdaysShort")}function listWeekdaysMin(e,t,a){return listWeekdaysImpl(e,t,a,"weekdaysMin")}proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.eras=localeEras,proto$1.erasParse=localeErasParse,proto$1.erasConvertYear=localeErasConvertYear,proto$1.erasAbbrRegex=erasAbbrRegex,proto$1.erasNameRegex=erasNameRegex,proto$1.erasNarrowRegex=erasNarrowRegex,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,a,o){var r=createDuration(t,a);return e._milliseconds+=o*r._milliseconds,e._days+=o*r._days,e._months+=o*r._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return e<0?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,a,o,r,n=this._milliseconds,i=this._days,l=this._months,s=this._data;return n>=0&&i>=0&&l>=0||n<=0&&i<=0&&l<=0||(n+=864e5*absCeil(monthsToDays(l)+i),i=0,l=0),s.milliseconds=n%1e3,e=absFloor(n/1e3),s.seconds=e%60,t=absFloor(e/60),s.minutes=t%60,a=absFloor(t/60),s.hours=a%24,i+=absFloor(a/24),l+=r=absFloor(daysToMonths(i)),i-=absCeil(monthsToDays(r)),o=absFloor(l/12),l%=12,s.days=i,s.months=l,s.years=o,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){if(!this.isValid())return NaN;var t,a,o=this._milliseconds;if("month"===(e=normalizeUnits(e))||"quarter"===e||"year"===e)switch(t=this._days+o/864e5,a=this._months+daysToMonths(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return 24*t+o/36e5;case"minute":return 1440*t+o/6e4;case"second":return 86400*t+o/1e3;case"millisecond":return Math.floor(864e5*t)+o;default:throw new Error("Unknown unit "+e)}}function makeAs(e){return function(){return this.as(e)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(e,t,a,o,r){return r.relativeTime(t||1,!!a,e,o)}function relativeTime$1(e,t,a,o){var r=createDuration(e).abs(),n=round(r.as("s")),i=round(r.as("m")),l=round(r.as("h")),s=round(r.as("d")),c=round(r.as("M")),d=round(r.as("w")),u=round(r.as("y")),p=n<=a.ss&&["s",n]||n<a.s&&["ss",n]||i<=1&&["m"]||i<a.m&&["mm",i]||l<=1&&["h"]||l<a.h&&["hh",l]||s<=1&&["d"]||s<a.d&&["dd",s];return null!=a.w&&(p=p||d<=1&&["w"]||d<a.w&&["ww",d]),(p=p||c<=1&&["M"]||c<a.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,p[3]=+e>0,p[4]=o,substituteTimeAgo.apply(null,p)}function getSetRelativeTimeRounding(e){return void 0===e?round:"function"==typeof e&&(round=e,!0)}function getSetRelativeTimeThreshold(e,t){return void 0!==thresholds[e]&&(void 0===t?thresholds[e]:(thresholds[e]=t,"s"===e&&(thresholds.ss=t-1),!0))}function humanize(e,t){if(!this.isValid())return this.localeData().invalidDate();var a,o,r=!1,n=thresholds;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(n=Object.assign({},thresholds,t),null!=t.s&&null==t.ss&&(n.ss=t.s-1)),o=relativeTime$1(this,!r,n,a=this.localeData()),r&&(o=a.pastFuture(+this,o)),a.postformat(o)}var abs$1=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var e,t,a,o,r,n,i,l,s=abs$1(this._milliseconds)/1e3,c=abs$1(this._days),d=abs$1(this._months),u=this.asSeconds();return u?(e=absFloor(s/60),t=absFloor(e/60),s%=60,e%=60,a=absFloor(d/12),d%=12,o=s?s.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",n=sign(this._months)!==sign(u)?"-":"",i=sign(this._days)!==sign(u)?"-":"",l=sign(this._milliseconds)!==sign(u)?"-":"",r+"P"+(a?n+a+"Y":"")+(d?n+d+"M":"")+(c?i+c+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+o+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1,proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asQuarters=asQuarters,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.clone=clone$1,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(e,t,a){a._d=new Date(1e3*parseFloat(e))}),addParseToken("x",function(e,t,a){a._d=new Date(toInt(e))}),
//! moment.js
hooks.version="2.30.1",setHookCallback(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate$1,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};let appStore=null,sessionStore=null;function getAppStore(){return appStore||(appStore=useAppStore()),appStore}function getSessionStore(){return sessionStore||(sessionStore=useSessionStore()),sessionStore}var connectionStatus=!1;const channelToSubscription=new Map,singleQuoteMap=new Map,guidToSubscription=new Map;let res=sessionStorage.getItem("c3RhdHVz");var socketPreResponse=new Map,socket=null,wsreconn=0;function getTokenId(){var e;if(params)return`${myntappurl.clientid}_${myntappurl.source}`;try{const t=(null==(e=getSessionStore().mynturl)?void 0:e.source)||mynturl.source;return`${userid$1}_${t||"WEB"}`}catch(e2){return`${userid$1}_WEB`}}var userId=params?myntappurl.clientid:userid$1,msession=params?myntappurl.token:usession$1,flow=params,hb={t:"h"};let holdStartTime=null;var last={};function changeScript(e,t){if(!window.tvWidget)return;window.tvWidget.activeChart().setSymbol(`${e[0].exch}:${e[0].tsym}`);const a=new URL(window.location.href);a.searchParams.set("exch",e[0].exch),a.searchParams.set("token",e[0].token),a.searchParams.set("symbol",e[0].tsym),a.searchParams.set("dark",t),window.tvWidget.changeTheme("true"==t?"dark":"light"),window.history.pushState({},"",a),Datafeed.subscribeQuotesChain(e,void 0,void 0),last&&last.exch&&last.token&&Datafeed.unsubscribeQuotesScreener(`${last.exch}|${last.token}#`),last=e[0]}function seyCheckwebsocketInternal(e){var t;const a=null==(t=getSessionStore().mynturl)?void 0:t.stat;res=sessionStorage.getItem("c3RhdHVz"),params?(userId=myntappurl.clientid,msession=myntappurl.token):(userId=sessionStorage.getItem("userid"),msession=sessionStorage.getItem("msession")),"dmFsaWR1c2Vy"==res&&userId&&1==a?establishSocketConnection(e):(console.log("⚠️ WebSocket conditions not met:",{sessionStatus:res,userId:!!userId,mynturlStat:a}),window.wsRetryCount||(window.wsRetryCount=0),window.wsRetryCount<50?(window.wsRetryCount++,setTimeout(function(){seyCheckwebsocketInternal(e)},100)):(console.error("❌ WebSocket connection failed after maximum retries"),window.wsRetryCount=0),sessionStorage.removeItem("wsstat"))}function seyCheckwebsocket(e){return seyCheckwebsocketInternal(e)}function establishSocketConnection(e){var t;const a=getSessionStore(),o=params?myntappurl.wss:null==(t=a.mynturl)?void 0:t.wss;o?((socket=new WebSocket(o)).onopen=function(){connectionRequest(getTokenId(),userId)},socket.onmessage=function(t){var a=JSON.parse(t.data);const o=getAppStore();if(a.t&&"ck"==a.t&&"OK"==a.s)if(connectionStatus=!0,window.wsRetryCount=0,console.log("✅ WebSocket connection established successfully"),params){var r=new URL(window.location.href).searchParams;last={exch:r.get("exch"),token:r.get("token"),tsym:r.get("symbol")},Datafeed.subscribeQuotesChain([last],void 0,void 0)}else sessionStorage.setItem("wsstat","Ok"),"attempt"==e&&o.addWSOrderAlert("attempt");else a.t&&"ck"==a.t&&"NOT_OK"==a.s&&(params||(sessionStorage.removeItem("wsstat"),o.showSnackbar(2,"Session Expired :  Invalid Session Key")));if(a.t&&ProcessPacketString(a),a.t&&"ck"!==a.t){const e=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(e)}},socket.onclose=function(){let e=sessionStorage.getItem(userId+(new Date).toLocaleDateString());var t=e?JSON.parse(e):[];wsreconn<200?(setTimeout(()=>{params?establishSocketConnection("attempt"):seyCheckwebsocketInternal("attempt"),wsreconn++},2600),t.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:`Websocket reconnect attempt ${wsreconn} time.`})):(socket.close(),sessionStorage.setItem("wsstat","Not_ok"),logMessage(`[socket] onclose:: ${event}`,1),t.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:"Websocket reconnect attempt failed; it reached the three-shold."})),sessionStorage.setItem(userId+(new Date).toLocaleDateString(),JSON.stringify(t))},socket.onerror=function(e){logMessage(`[socket] Error: ${e} type ${e.type}`,2),socket.onclose()}):console.error("WebSocket URL not found")}async function connectionRequest(e,t){var a;const o=getSessionStore();var r={};if(flow){let e={uid:`${t}`,src:"MOB",source:myntappurl.source},a=await makeApiRequest(`${apiurl.sessapi}generateSocketSession`,JSON.stringify(e));if("session"in a)r={susertoken:a.session,t:"c",actid:`${t}_MOB`,uid:`${t}_MOB`,source:myntappurl.source};else{var n={title:"Alert",body:"Unable to generate Socket Session, Click ok to refresh",callback:e=>{location.reload()}};window.tvWidget&&window.tvWidget.showNoticeDialog(n)}}else r={susertoken:msession,t:"c",actid:t,uid:t,source:(null==(a=o.mynturl)?void 0:a.source)||mynturl.source},setTimeout(()=>{send(JSON.stringify({t:"o",actid:t}))},3e3);send(JSON.stringify(r))}async function send(e){if(socket&&socket.readyState&&1==socket.readyState)try{socket.send(e)}catch(t){console.error("socket send error : ",t)}else socket&&socket.readyState&&0==socket.readyState?setTimeout(()=>{socket.send(e)},900):socket&&socket.readyState&&3==socket.readyState&&(console.warn("Socket closed. Attempting to reconnect..."),establishSocketConnection("attempt"))}async function establishConnection(e){if(0==connectionStatus){const e=getTokenId();await connectionRequest(e,userId)}await send(JSON.stringify(e))}async function websocketSubscription(e){if(connectionStatus){var t="";if(""!=(t+=`${e}`)&&t){var a=t.substring(0,t.length-1).split("#"),o="";new Set(a).forEach(e=>{o+=e+"#"});let e={k:o.substring(0,o.length-1),t:"d"};await establishConnection(e)}}}async function websocketUnsubscriptionChain(e){if(connectionStatus){var t="";if(""!=(t+=`${e}`)&&t){var a=t.substring(0,t.length-1).split("#"),o="";new Set(a).forEach(e=>{o+=e+"#"});let e={k:o.substring(0,o.length-1),t:"ud"};await establishConnection(e)}}}function subscribeOnStream(e,t,a,o,r,n,i){"depth"==i&&_subscribeDepth(e[0],a,o),"quotes"==i||"tt-quotes"==i?_subscribeQuotes(e,a,o,i):"bar"==i?_subscribeBars(e,a,o,n,t):"single-quotes"==i&&_subscribeSingleQuotes(e,a,o)}function unsubscribeFromStream(e){let t=guidToSubscription.get(e);if(!t)return;let a=channelToSubscription.get(t);a&&(a.handlers=a.handlers.filter(function(t){return t.id!=e}),0===a.handlers.length&&(websocketUnsubscriptionChain(t),channelToSubscription.delete(t))),guidToSubscription.delete(e)}function _subscribeQuotes(e,t,a,o){e.forEach(function(e){let r=`${e.exchange}|${e.token}#`;_setChannelMap(e,r,t,a,o),websocketSubscription(r)})}function _subscribeDepth(e,t,a){var o=`${e.exchange}|${e.token}#`;_setChannelMap(e,o,t,a,"depth"),websocketSubscription(o)}function _subscribeBars(e,t,a,o,r){e.forEach(function(e){let n="bar",i=`${e.exchange}|${e.token}#`;e.name.includes("$OISYMBOL")&&(n="oisymbol"),_setChannelMap(e,i,t,a,n,r,o),websocketSubscription(i)})}function _subscribeSingleQuotes(e,t,a){e.forEach(function(e){let o=`${e.exchange}|${e.token}#`,r=singleQuoteMap.get(a);r?r[`${e.exchange}|${e.token}#`]={quote:{}}:(singleQuoteMap.set(a,new Object),singleQuoteMap.get(a)[`${e.exchange}|${e.token}#`]={quote:{},symbol:e.name}),_setChannelMap(e,o,t,a,"single-quotes"),websocketSubscription(o)})}function _setChannelMap(e,t,a,o,r,n,i){let l=channelToSubscription.get(t),s={id:o,callback:a};if(l){var c=l.handlers.findIndex(e=>e.id==o);-1==c?l.handlers.push({handler:s,type:r,resolution:n,lastDailyBar:i,symbol:e.name,id:o}):l.handlers[c]={handler:s,type:r,resolution:n,lastDailyBar:i,symbol:e.name,id:o}}else l={handlers:[{handler:s,type:r,resolution:n,lastDailyBar:i,symbol:e.name,id:o}]},channelToSubscription.set(t,l);guidToSubscription.set(o,t),guidToSubscription.has(o)||console.error("guid fail")}function ProcessPacketString(e){const t=getAppStore();try{if("am"==e.t&&e.dmsg){var a=e.dmsg.includes("href=")?e.dmsg.replace("href=","target=_blank href="):e.dmsg,o={title:"Alert",body:a,callback:!!a.includes("Session is inactive")};t.showAlert(o)}else if("om"==e.t)"PENDING"!=e.status&&t.addWSOrderAlert(e),holdStartTime&&clearTimeout(holdStartTime),holdStartTime=setTimeout(()=>{"PENDING"!=e.status&&window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"orders"})),"COMPLETE"==e.status&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"port-order"}))},1440),holdStartTime=null},360);else if("dk"===e.t){var r,n={snapshot:!0,asks:[{price:parseFloat(e.sp1)?parseFloat(e.sp1):0,volume:parseInt(e.sq1)?parseInt(e.sq1):0},{price:parseFloat(e.sp2)?parseFloat(e.sp2):0,volume:parseInt(e.sq2)?parseInt(e.sq2):0},{price:parseFloat(e.sp3)?parseFloat(e.sp3):0,volume:parseInt(e.sq3)?parseInt(e.sq3):0},{price:parseFloat(e.sp4)?parseFloat(e.sp4):0,volume:parseInt(e.sq4)?parseInt(e.sq4):0},{price:parseFloat(e.sp5)?parseFloat(e.sp5):0,volume:parseInt(e.sq5)?parseInt(e.sq5):0}],bids:[{price:parseFloat(e.bp1)?parseFloat(e.bp1):0,volume:parseInt(e.bq1)?parseInt(e.bq1):0},{price:parseFloat(e.bp2)?parseFloat(e.bp2):0,volume:parseInt(e.bq2)?parseInt(e.bq2):0},{price:parseFloat(e.bp3)?parseFloat(e.bp3):0,volume:parseInt(e.bq3)?parseInt(e.bq3):0},{price:parseFloat(e.bp4)?parseFloat(e.bp4):0,volume:parseInt(e.bq4)?parseInt(e.bq4):0},{price:parseFloat(e.bp5)?parseFloat(e.bp5):0,volume:parseInt(e.bq5)?parseInt(e.bq5):0}]};let t={ch:parseFloat(e.lp)?parseFloat(e.lp)-parseFloat(e.c):0,chp:parseFloat(e.pc)?parseFloat(e.pc):0,lp:e.lp?parseFloat(e.lp):0,open_price:e.o?parseFloat(e.o):0,high_price:e.h?parseFloat(e.h):0,low_price:e.l?parseFloat(e.l):0,prev_close_price:e.c?parseFloat(e.c):0,volume:0,firstVolume:e.v?parseInt(e.v):0,socketVolume:e.v?parseInt(e.v):0,token:e.tk,exchange:e.e,market_segment_id:e.e,description:e.ts,short_name:e.ts,ap:parseInt(e.ap)?parseInt(e.ap):0,ltt:e.ltt?e.ltt:0,ltq:parseInt(e.ltq)?parseInt(e.ltq):0,lc:parseInt(e.lc)?parseInt(e.lc):0,uc:parseInt(e.uc)?parseInt(e.uc):0,w52h:parseInt(e["52h"])?parseInt(e["52h"]):0,w52l:parseInt(e["52l"])?parseInt(e["52l"]):0,oi:e.oi?e.oi:0,toi:e.toi?e.toi:0,poi:e.poi?e.poi:0,ask:parseFloat(e.sp1)?parseFloat(e.sp1):parseFloat(e.lp),ask_qty:parseInt(e.sq1)?parseInt(e.sq1):0,bid:parseFloat(e.bp1)?parseFloat(e.bp1):parseFloat(e.lp),bid_qty:parseInt(e.bq1)?parseInt(e.bq1):0,tbq:parseInt(e.tbq)?parseInt(e.tbq):0,tsq:parseInt(e.tsq)?parseInt(e.tsq):0,depth:n};r=1e3*Number(e.ft),socketPreResponse.get(`${e.e}|${e.tk}#`)||socketPreResponse.set(`${e.e}|${e.tk}#`,t)}else"df"===e.t&&(r=1e3*Number(e.ft),"lp"in e&&"tk"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).lp=e.lp),"ap"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).ap=parseFloat(e.ap)),"ltt"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).ltt=e.ltt),"ltq"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).ltq=parseFloat(e.ltq)),"lc"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).lc=parseFloat(e.lc)),"uc"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).uc=parseFloat(e.uc)),"52h"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).w52h=parseFloat(e["52h"])),"52l"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).w52l=parseFloat(e["52l"])),"o"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).open_price=parseFloat(e.o)),"h"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).high_price=parseFloat(e.h)),"l"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).low_price=parseFloat(e.l)),"c"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).prev_close_price=parseFloat(e.c)),"v"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).volume+=parseInt(e.v)-Number(socketPreResponse.get(`${e.e}|${e.tk}#`).firstVolume),socketPreResponse.get(`${e.e}|${e.tk}#`).socketVolume=parseInt(e.v),socketPreResponse.get(`${e.e}|${e.tk}#`).firstVolume=parseInt(e.v)),"pc"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).chp=parseFloat(e.pc)),"oi"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).oi=parseFloat(e.oi)),"toi"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).toi=parseFloat(e.toi)),"poi"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).poi=parseFloat(e.poi)),socketPreResponse.get(`${e.e}|${e.tk}#`).ch=socketPreResponse.get(`${e.e}|${e.tk}#`).lp-socketPreResponse.get(`${e.e}|${e.tk}#`).prev_close_price,"sp1"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[0].price=parseFloat(e.sp1),socketPreResponse.get(`${e.e}|${e.tk}#`).ask=parseFloat(e.sp1)),"sq1"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[0].volume=parseInt(e.sq1),socketPreResponse.get(`${e.e}|${e.tk}#`).ask_qty=parseInt(e.sq1),socketPreResponse.get(`${e.e}|${e.tk}#`).tsq=parseInt(e.tsq)),"tsq"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).tsq=parseInt(e.tsq)),"sp2"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[1].price=parseFloat(e.sp2)),"sq2"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[1].volume=parseInt(e.sq2)),"sp3"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[2].price=parseFloat(e.sp3)),"sq3"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[2].volume=parseInt(e.sq3)),"sp4"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[3].price=parseFloat(e.sp4)),"sq4"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[3].volume=parseInt(e.sq4)),"sp5"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[4].price=parseFloat(e.sp5)),"sq5"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.asks[4].volume=parseInt(e.sq5)),"bp1"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[0].price=parseFloat(e.bp1),socketPreResponse.get(`${e.e}|${e.tk}#`).bid=parseFloat(e.bp1)),"bq1"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[0].volume=parseInt(e.bq1),socketPreResponse.get(`${e.e}|${e.tk}#`).bid_qty=parseInt(e.bq1),socketPreResponse.get(`${e.e}|${e.tk}#`).tbq=parseInt(e.tbq)),"tbq"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).tbq=parseInt(e.tbq)),"bp2"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[1].price=parseFloat(e.bp2)),"bq2"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[1].volume=parseInt(e.bq2)),"bp3"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[2].price=parseFloat(e.bp3)),"bq3"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[2].volume=parseInt(e.bq3)),"bp4"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[3].price=parseFloat(e.bp4)),"bq4"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[3].volume=parseInt(e.bq4)),"bp5"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[4].price=parseFloat(e.bp5)),"bq5"in e&&(socketPreResponse.get(`${e.e}|${e.tk}#`).depth.bids[4].volume=parseInt(e.bq5)));let i=`${e.e}|${e.tk}#`,l=channelToSubscription.get(i);if(void 0===l)return;if(void 0===l.handlers)return;const s=[...l.handlers],c=socketPreResponse.get(`${e.e}|${e.tk}#`);if(c&&!o){const e=new CustomEvent("websocket-quote-update",{detail:c});window.dispatchEvent(e)}s.forEach(function(t){if("quotes"==t.type){let e={s:"ok",n:t.symbol,v:c};if(!o)try{t.handler.callback([e])}catch(a){console.info(a)}}else if("tt-quotes"==t.type){let o={s:"success",n:t.symbol,v:socketPreResponse.get(`${e.e}|${e.tk}#`)};try{t.handler.callback(o)}catch(a){console.info(a)}}else if("bar"==t.type){const a=t.lastDailyBar,o=t.resolution;let n,i;"1"==o||1==o?n=getNextMinBarTime(null!=a?a.time:null):"1D"==o?(r=Date.now(),n=getNextDailyBarTime(null!=a?a.time:null)):"1M"==o?(r=hooks(r).startOf("month").toDate().getTime()+198e5,n=getNextMonthBarTime(null!=a?a.time:null)):"15"==o&&(n=getfifteenMinBarTime(null!=a?a.time:null)),r>=n?"1D"==o?i={time:n,open:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).open_price),high:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).high_price),low:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).low_price),close:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),volume:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).volume)}:(socketPreResponse.get(`${e.e}|${e.tk}#`).volume=0,i={time:n,open:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),high:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),low:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),close:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),volume:0}):i="1D"==o?{...a,high:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).high_price),low:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).low_price),close:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp),volume:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).volume)}:{...a,high:Math.max(null!=a?a.high:0,socketPreResponse.get(`${e.e}|${e.tk}#`).lp),low:Math.min(null!=a?a.low:0,socketPreResponse.get(`${e.e}|${e.tk}#`).lp),close:0!=Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp)?Number(socketPreResponse.get(`${e.e}|${e.tk}#`).lp):a.close,volume:Number(socketPreResponse.get(`${e.e}|${e.tk}#`).volume)},t.handler.callback(i);const s=l.handlers.findIndex(e=>e.id===t.id);-1!==s&&(l.handlers[s].lastDailyBar=i)}else if("oisymbol"==t.type){const a=t.lastDailyBar,o=t.resolution;let n,i;"1"==o||1==o?n=getNextMinBarTime(null!=a?a.time:null):"1D"==o?(r=hooks(r).startOf("day").toDate().getTime()+198e5,n=getNextDailyBarTime(null!=a?a.time:null)):"1M"==o&&(r=hooks(r).startOf("month").toDate().getTime()+198e5,n=getNextMonthBarTime(null!=a?a.time:null)),i=r>=n?"1D"==o?{time:n,open:socketPreResponse.get(`${e.e}|${e.tk}#`).open_price,high:socketPreResponse.get(`${e.e}|${e.tk}#`).high_price,low:socketPreResponse.get(`${e.e}|${e.tk}#`).low_price,close:socketPreResponse.get(`${e.e}|${e.tk}#`).oi,volume:socketPreResponse.get(`${e.e}|${e.tk}#`).volume}:{time:n,open:socketPreResponse.get(`${e.e}|${e.tk}#`).oi,high:socketPreResponse.get(`${e.e}|${e.tk}#`).oi,low:socketPreResponse.get(`${e.e}|${e.tk}#`).oi,close:socketPreResponse.get(`${e.e}|${e.tk}#`).oi}:"1D"==o?{...a,high:socketPreResponse.get(`${e.e}|${e.tk}#`).high_price,low:socketPreResponse.get(`${e.e}|${e.tk}#`).low_price,close:socketPreResponse.get(`${e.e}|${e.tk}#`).oi,volume:socketPreResponse.get(`${e.e}|${e.tk}#`).volume}:{...a,high:Math.max(null!=a?a.high:0,socketPreResponse.get(`${e.e}|${e.tk}#`).oi),low:Math.min(null!=a?a.low:0,socketPreResponse.get(`${e.e}|${e.tk}#`).oi),close:socketPreResponse.get(`${e.e}|${e.tk}#`).oi},t.handler.callback(i),t.lastDailyBar=i}else if("single-quotes"==t.type){let a={s:"success",n:t.symbol,v:socketPreResponse.get(`${e.e}|${e.tk}#`)},o=singleQuoteMap.get(t.id);if(o){let r=!0,n=[];o[`${e.e}|${e.tk}#`].quote=a;for(const[,e]of Object.entries(o))0===Object.keys(e.quote).length?r=!1:n.push({s:"ok",n:e.quote.n,v:{ch:e.quote.v.ch,chp:e.quote.v.chp,short_name:e.quote.n,exchange:e.quote.v.exchange,description:e.quote.n,lp:e.quote.v.lp,ask:e.quote.v.ask||0,bid:e.quote.v.bid||0,open_price:e.quote.v.open_price,high_price:e.quote.v.high_price,low_price:e.quote.v.low_price,prev_close_price:e.quote.v.prev_close_price,volume:e.quote.v.volume,socketVolume:e.quote.v.socketVolume,ap:e.quote.v.ap,ltt:e.quote.v.ltt,ltq:e.quote.v.ltq,lc:e.quote.v.lc,uc:e.quote.v.uc,w52h:e.quote.v.w52h,w52l:e.quote.v.w52l}});r&&(t.handler.callback(n),singleQuoteMap.delete(t.handler.id),unsubscribeFromStream(t.handler.id))}}else"depth"==t.type&&t.handler.callback(socketPreResponse.get(`${e.e}|${e.tk}#`).depth)})}catch(e2){console.error("Error processing packet:",e2)}}function getNextDailyBarTime(e){return hooks(e).add("1","d").startOf("day").toDate().getTime()+198e5}function getNextMonthBarTime(e){return hooks(e).add("1","M").startOf("month").toDate().getTime()}function getNextMinBarTime(e){const t=new Date(e),a=hooks();return hooks.duration(a.diff(t)).asMinutes()>1?a.startOf("minute").toDate().getTime():hooks(t).add("1","m").startOf("minute").toDate().getTime()}function getfifteenMinBarTime(e){return hooks(new Date(e)).add(15,"m").toDate().getTime()}params?(establishSocketConnection(),window.setInterval(function(){send(JSON.stringify(hb))},5e3)):(window.setInterval(function(){"dmFsaWR1c2Vy"==res&&userId&&send(JSON.stringify(hb))},5e3),window.setInterval(function(){"dmFsaWR1c2Vy"==res&&userId&&send(JSON.stringify({t:"o",actid:userId}))},1e4)),window.changeScript=changeScript;const webSocketstream=Object.freeze(Object.defineProperty({__proto__:null,seyCheckwebsocket:seyCheckwebsocket,subscribeOnStream:subscribeOnStream,unsubscribeFromStream:unsubscribeFromStream,websocketSubscription:websocketSubscription,websocketUnsubscriptionChain:websocketUnsubscriptionChain},Symbol.toStringTag,{value:"Module"}));class WebSocketEventBus{constructor(){this.listeners=new Map,this.wsstocksdata={raw:null,rawdata:[],wl:[],pd:[],tok:[]}}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){if(this.listeners.has(e)){const a=this.listeners.get(e),o=a.indexOf(t);o>-1&&a.splice(o,1)}}emit(e,...t){this.listeners.has(e)&&this.listeners.get(e).forEach(a=>{try{a(...t)}catch(o){console.error(`Error in WebSocket event listener for ${e}:`,o)}});const a=new CustomEvent(e,{detail:t});window.dispatchEvent(a)}handleWebSocketRequest(e,t,a,o){var r;if("unsub"===e&&t&&Array.isArray(t)&&t.length>0){const r=t.filter(e=>!(e&&e.token&&e.exch)||!this.isActiveInOtherPages(o,e.token,e.exch));return void(r.length>0&&this.setWebsocket(e,r,a))}if(null!==this.wsstocksdata.raw&&this.wsstocksdata.raw!==o&&"watchlist"!==o&&"unsub"!==e){if((null==(r=this.wsstocksdata.rawdata)?void 0:r.length)>0&&"wl"!==a&&"pd"!==a){const e=this.wsstocksdata.rawdata.filter(e=>!(e&&e.token&&e.exch)||!this.isActiveInOtherPages(o,e.token,e.exch));e.length>0&&this.setWebsocket("unsub",e,"is"),this.wsstocksdata.rawdata=[],this.wsstocksdata.raw=o}}else"watchlist"!==o&&(this.wsstocksdata.raw=o);"sub"===e&&t&&Array.isArray(t)&&t.length>0?(t.forEach(e=>{if(e&&e.token&&e.exch){const t={exch:e.exch,token:e.token,tsym:e.tsym};if("wl"===a||"pd"===a){this.wsstocksdata[a].some(t=>t.token===e.token)||this.wsstocksdata[a].push(t);this.wsstocksdata.tok.some(t=>t.token===e.token)||this.wsstocksdata.tok.push(t)}this.wsstocksdata.rawdata.some(t=>t.token===e.token)||this.wsstocksdata.rawdata.push(t)}}),this.setWebsocket(e,t,a)):"sub"===e&&this.emit("web-scoketConn")}isActiveInOtherPages(e,t,a){return!1}triggerWebSocketConnection(e,t){const a=new CustomEvent("web-scoketConn",{detail:[e,t]});window.dispatchEvent(a)}async setWebsocket(e,t,a){if("Ok"==sessionStorage.getItem("wsstat"))try{const{subscribeOnStream:a,unsubscribeFromStream:o}=await __vitePreload(async()=>{const{subscribeOnStream:e,unsubscribeFromStream:t}=await Promise.resolve().then(()=>webSocketstream);return{subscribeOnStream:e,unsubscribeFromStream:t}},void 0);if("sub"==e){a(t.flat(1).map(e=>({exchange:e.exch,token:e.token,name:e.tsym||e.name,tsym:e.tsym})),void 0,this.optionChainDataParse.bind(this),void 0,void 0,void 0,"quotes")}else if("unsub"==e){let e="";t.map(t=>e+=`${t.exch}|${t.token}#`);const{websocketUnsubscriptionChain:a}=await __vitePreload(async()=>{const{websocketUnsubscriptionChain:e}=await Promise.resolve().then(()=>webSocketstream);return{websocketUnsubscriptionChain:e}},void 0);await a(e)}}catch(o){console.error("Error in WebSocket subscription:",o)}else setTimeout(()=>{this.setWebsocket(e,t,a)},1e3)}optionChainDataParse(e){var t;let a=null;if(a=Array.isArray(e)?(null==(t=e[0])?void 0:t.v)||e[0]||e:(null==e?void 0:e.v)?e.v:e,a&&this.wsstocksdata&&this.wsstocksdata.tok&&this.wsstocksdata.rawdata){const e=this.wsstocksdata.raw;if(a.token||a.tk,e){const t=new CustomEvent("web-scoketConn",{detail:[a,e]});window.dispatchEvent(t),this.emit("web-scoketConn",a,e)}const t=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(t)}else if(a){const e=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(e)}}}const webSocketEventBus=new WebSocketEventBus;window.addEventListener("web-scoketOn",e=>{const{flow:t,data:a,is:o,page:r}=e.detail;webSocketEventBus.handleWebSocketRequest(t,a,o,r)}),"undefined"!=typeof window&&(window.eventBus=window.eventBus||{},window.eventBus.$emit=function(e,...t){if("web-scoketOn"===e){const e=Array.isArray(t[0])||"object"==typeof t[0]?t[0]:{flow:t[0],data:t[1],is:t[2],page:t[3]};window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:e}))}});const makeVBottomSheetProps=propsFactory({inset:Boolean,...makeVDialogProps({transition:"bottom-sheet-transition"})},"VBottomSheet"),VBottomSheet=genericComponent()({name:"VBottomSheet",props:makeVBottomSheetProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue");return useRender(()=>{const t=VDialog.filterProps(e);return createVNode(VDialog,mergeProps(t,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),a)}),{}}}),makeVFooterProps=propsFactory({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...makeBorderProps(),...makeComponentProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"footer"}),...makeThemeProps()},"VFooter"),VFooter=genericComponent()({name:"VFooter",props:makeVFooterProps(),setup(e,t){let{slots:a}=t;const o=ref$1(),{themeClasses:r}=provideTheme(e),{backgroundColorClasses:n,backgroundColorStyles:i}=useBackgroundColor(()=>e.color),{borderClasses:l}=useBorder(e),{elevationClasses:s}=useElevation(e),{roundedClasses:c}=useRounded(e),d=shallowRef(32),{resizeRef:u}=useResizeObserver(e=>{e.length&&(d.value=e[0].target.clientHeight)}),p=computed(()=>"auto"===e.height?d.value:parseInt(e.height,10));return useToggleScope(()=>e.app,()=>{const t=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(()=>"bottom"),layoutSize:p,elementSize:computed(()=>"auto"===e.height?void 0:p.value),active:toRef(()=>e.app),absolute:toRef(()=>e.absolute)});watchEffect(()=>{o.value=t.layoutItemStyles.value})}),useRender(()=>createVNode(e.tag,{ref:u,class:normalizeClass(["v-footer",r.value,n.value,l.value,s.value,c.value,e.class]),style:normalizeStyle([i.value,e.app?o.value:{height:convertToUnit(e.height)},e.style])},a)),{}}}),makeVFormProps=propsFactory({...makeComponentProps(),...makeFormProps()},"VForm"),VForm=genericComponent()({name:"VForm",props:makeVFormProps(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=createForm(e),n=ref$1();function i(e){e.preventDefault(),r.reset()}function l(e){const t=e,a=r.validate();t.then=a.then.bind(a),t.catch=a.catch.bind(a),t.finally=a.finally.bind(a),o("submit",t),t.defaultPrevented||a.then(e=>{var t;let{valid:a}=e;a&&(null==(t=n.value)||t.submit())}),t.preventDefault()}return useRender(()=>{var t;return createBaseVNode("form",{ref:n,class:normalizeClass(["v-form",e.class]),style:normalizeStyle(e.style),novalidate:!0,onReset:i,onSubmit:l},[null==(t=a.default)?void 0:t.call(a,r)])}),forwardRefs(r,n)}}),makeVSheetProps=propsFactory({color:String,...makeBorderProps(),...makeComponentProps(),...makeDimensionProps(),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VSheet"),VSheet=genericComponent()({name:"VSheet",props:makeVSheetProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{borderClasses:i}=useBorder(e),{dimensionStyles:l}=useDimension(e),{elevationClasses:s}=useElevation(e),{locationStyles:c}=useLocation(e),{positionClasses:d}=usePosition(e),{roundedClasses:u}=useRounded(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-sheet",o.value,r.value,i.value,s.value,d.value,u.value,e.class]),style:normalizeStyle([n.value,l.value,c.value,e.style])},a)),{}}}),_hoisted_1$r=["src"],_hoisted_2$p={class:"px-0 px-md-0 mb-12 mb-md-0"},_hoisted_3$n=["innerHTML"],_hoisted_4$m={key:0,class:"",style:{position:"sticky !important",top:"80px",left:"0"}},_hoisted_5$m={key:1,class:"pos-stk top-80"},_hoisted_6$m={class:"my-auto"},_hoisted_7$m=["src","alt"],_hoisted_8$m={class:"font-weight-bold fs-32 mb-3"},_hoisted_9$m=["src"],_hoisted_10$m={class:"title maintext--text font-weight-bold mb-2"},_hoisted_11$m={class:"fs-16 font-weight-medium mb-3"},_hoisted_12$m=["innerHTML"],_hoisted_13$l={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},_hoisted_14$k=["stroke"],_hoisted_15$i={class:"text-center"},_hoisted_16$d={style:{position:"relative",display:"inline-flex","justify-content":"center","align-items":"center"}},_hoisted_17$d={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20",viewBox:"0 0 22 20",fill:"none"},_hoisted_18$d=["stroke"],_hoisted_19$d=["stroke"],_hoisted_20$d=["stroke"],_hoisted_21$d={class:"slider-wrapper fs-12 font-weight-medium text-none"},_hoisted_22$d={class:"slider"},_hoisted_23$d={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_24$d={opacity:"0.8","clip-path":"url(#clip0_8033_1489)"},_hoisted_25$c=["stroke"],_hoisted_26$c=["stroke"],_hoisted_27$c=["stroke"],_hoisted_28$c={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_29$c={opacity:"0.8","clip-path":"url(#clip0_8033_1494)"},_hoisted_30$c=["stroke"],_hoisted_31$a=["stroke"],_hoisted_32$9=["stroke"],_hoisted_33$8=["stroke"],_sfc_main$L={__name:"LayoutSrc",setup(e){const t=useAppStore(),a=computed(()=>t.wsorderalertdata.slice()),o=useNavStore(),r=useAuthStore(),n=useSessionStore(),i=useRoute$1(),l=ref$1("Stocks"),s=ref$1(!1),c=ref$1(!1),d=ref$1(0),u=ref$1(null),p=ref$1(!0),h=ref$1(""),m=ref$1([{txt:"Stocks",path:"/stocks",idx:0},{txt:"Mutual Fund",path:"/mutualfund",idx:1},{txt:"IPOs",path:"/ipo",idx:2},{txt:"Bonds",path:"/bonds",idx:3},{txt:"Collection",path:"/collection",idx:4,type:"Beta"}]),v=ref$1(["Stocks","Mutual Fund","IPOs","Bonds","Collection"]),f=ref$1([e=>!!e||"Your Client ID/Mobile is required",e=>(e||"").indexOf(" ")<0||"No spaces are allowed"]),g=(e,a)=>{t.showSnackbar(e,a)},y=(e,t,a,r,n,i)=>{o.navigateToStockDetails(e,t,a,r,n,i)},_=e=>{0==e?t.hideLoader():t.showLoader()},b=async()=>{if(1==p.value){const e=!isNaN(Number(h.value)),t=JSON.stringify({[e?"mobile":"clientid"]:e?h.value:h.value.toUpperCase(),password:"",device:"WEB"});let a=await getcallApi(t);a&&"Ok"==a.stat&&"user valid"==a.msg?window.location=`https://desk.zebuetrade.com/mynt/?cli=${h.value}&url=${window.location.origin+window.location.pathname}`:window.open("https://oa.mynt.in/?ref=zws"+(e?`&mobile=${h.value}`:""))}},w=e=>{o.triggerLogin(e)},x=()=>{const e=i.path;console.log(e,"-------------------"),e.includes("stocks")?(l.value="Stocks",d.value=0):e.includes("mutualfund")?(l.value="Mutual funds",d.value=1):e.includes("ipo")?(l.value="IPOs",d.value=2):e.includes("bonds")?(l.value="Bonds",d.value=3):e.includes("collection")&&(l.value="Collection",d.value=4),e.includes("orders")?u.value=1:e.includes("funds")?u.value=2:u.value=0},V=async e=>{if(t.showLoader(),r.uid){let c=await getActiveSession(r.uid);if(console.log("🔍 Session validation result:",c),c&&"Ok"==c.stat&&c.apitoken&&c.token){console.log("✅ Session valid, proceeding..."),!c.clientid&&r.uid&&(c.clientid=r.uid),n.updateMyntUrl(c),sessionStorage.setItem("c3RhdHVz","dmFsaWR1c2Vy"),webSocketEventBus.on("web-scoketOn",(e,t,a,o)=>{console.log("📡 WebSocket Event Bus received:",{flow:e,data:t,is:a,page:o}),webSocketEventBus.handleWebSocketRequest(e,t,a,o)}),window.addEventListener("web-scoketOn",e=>{const{flow:t,data:a,is:o,page:r}=e.detail;console.log("📡 Custom WebSocket event received:",{flow:t,data:a,is:o,page:r}),webSocketEventBus.handleWebSocketRequest(t,a,o,r)}),await seyCheckwebsocket();var a=localStorage.getItem(`${r.uid}_wllayout`);if(t.setWatchlistLayout(!(!a||"true"!=a)),c.apitoken&&console.log("✅ Session validated with apitoken:",c.apitoken),e){var o=new URL(window.location.href);window.history.replaceState({},"",o.pathname)}let d=window.location;0!=sessionStorage.getItem("risk")&&d.pathname.includes("stocks")&&(s.value=!0);const{seyCheckwebsocket:u}=await __vitePreload(async()=>{const{seyCheckwebsocket:e}=await Promise.resolve().then(()=>getAPIdata);return{seyCheckwebsocket:e}},void 0);await u();var i=await setOrdprefApi();if(!(i&&i.metadata&&i.metadata.mainpreitems)){var l={};(i=JSON.parse(localStorage.getItem(`${r.uid}_ordpref`)))&&i.mainpreitems?(l=i,localStorage.removeItem(`${r.uid}_ordpref`)):l=t.getOrderPref(),await setOrdprefApi({clientid:r.uid,metadata:l,source:"WEB"},!0)}console.log("✅ Hiding loader..."),t.setMainLoader(!1),t.hideLoader(),console.log("✅ Loader hidden, mainloader value:",t.mainloader),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}else if(r.uid&&r.token&&c&&c.emsg)console.error("❌ Session validation failed:",c.emsg),t.showSnackbar(2,c.emsg?c.emsg:c),c.emsg&&(c.emsg.includes("Invalid")||c.emsg.includes("Expired"))&&(sessionStorage.removeItem("c3RhdHVz"),t.resetStorage(),r.clearAuth()),t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout);else{if(console.log("⚠️ No valid session found"),r.token&&r.uid){sessionStorage.removeItem("c3RhdHVz"),t.resetStorage();let e=window.location;"/bonds"!=e.pathname&&"/stocks"!=e.pathname&&"/mutualfund"!=e.pathname&&"/mutualfund/categories"!=e.pathname&&"/ipo"!=e.pathname&&"/ipo/performance"!=e.pathname&&(t.showSnackbar(2,"Error: Request failed with status code 401"),setTimeout(()=>{w()},2e3))}t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}}else t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)};return onMounted(async()=>{var e,a,o,i;console.log("🚀 LayoutSrc onMounted starting...");let l=localStorage.getItem("web.theme");i="default"==l?(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light":"dark"==l||"light"==l?l:"light",localStorage.setItem("web.theme",i),window.Vuetify&&window.vuetifyInstance&&(vuetifyInstance.theme.dark="dark"==i),null==(a=document.getElementById("theme-link"))||a.setAttribute("href",`theme-${i}.css`),t.setMainLoader(!0),window.__loaderTimeout=setTimeout(()=>{console.warn("⚠️ Loader timeout - force hiding loader"),t.setMainLoader(!1),t.hideLoader()},3e4),await n.initializeConfig();const s=new URL(window.location.href);var c=s.searchParams.get("sUserId"),d=s.searchParams.get("sToken");if(console.log("🔍 Checking for shared session parameters:",{suser:c,stoken:d}),"string"==typeof c&&"string"==typeof d){console.log("📡 Found shared session, calling redirect API...");let e=await getReSession([c,d,s.pathname]);if(console.log("📡 Redirect API response:",e),e&&"Ok"==e.stat&&e.apitoken&&e.token){const t=`${s.origin}${s.pathname}?uid=${e.clientid}&sess=${e.apitoken}&token=${e.token}&imei=${e.timei}&src=${e.source}`;return console.log("✅ Redirecting to:",t),void window.location.assign(t)}console.error("❌ Redirect API failed:",e.emsg),t.showSnackbar(2,e.emsg?e.emsg:e)}else console.log("✅ No shared session parameters found");var u=s.searchParams.get("uid"),p=s.searchParams.get("token"),h=s.searchParams.get("sess");if("string"==typeof u&&"string"==typeof p){console.log("📥 Fresh login detected, setting up session..."),localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",p),sessionStorage.setItem("userid",u),h&&sessionStorage.setItem("msession",h);const e=s.searchParams.get("imei");e&&sessionStorage.setItem("imei",e),(async()=>{try{const e=await fetch("https://api.ipify.org?format=json"),t=await e.json();localStorage.setItem("uuidipadd",t.ip)}catch(e){console.error(e)}})(),r.mtoken=sessionStorage.getItem("msession"),r.token=sessionStorage.getItem("usession"),r.uid=sessionStorage.getItem("userid"),await V(u)}else{r.loadFromSession();const e=r.uid,a=r.token,i=sessionStorage.getItem("c3RhdHVz");if(e&&a&&"dmFsaWR1c2Vy"===i){console.log("✅ Valid session found, loading data without validation...");const a=n.loadMyntUrl(e);if(console.log("📦 mynturl loaded from sessionStorage:",a?"Yes":"No"),!a)return console.log("⚠️ mynturl not in sessionStorage, calling getUserSession to fetch it..."),void(await V(e));await n.initializeConfig();var m=e+(new Date).toLocaleDateString();let r=sessionStorage.getItem(m);if(r)try{r=JSON.parse(r),t.snackalerts=r&&r.length>0?r:[]}catch(e2){console.error("Error parsing alerts:",e2),t.snackalerts=[]}var v=localStorage.getItem(`${e}_wllayout`);null!==v&&t.setWatchlistLayout("true"===v),console.log("🔌 Initializing WebSocket Event Bus for existing session..."),webSocketEventBus.on("web-scoketOn",(e,t,a,o)=>{console.log("📡 WebSocket Event Bus received:",{flow:e,data:t,is:a,page:o}),webSocketEventBus.handleWebSocketRequest(e,t,a,o)}),console.log("📥 Loading order preferences..."),await seyCheckwebsocket();const{seyCheckwebsocket:i}=await __vitePreload(async()=>{const{seyCheckwebsocket:e}=await Promise.resolve().then(()=>getAPIdata);return{seyCheckwebsocket:e}},void 0);await i(),console.log("✅ WebSocket session checked, mynturl stat:",null==(o=apiurl.mynturl)?void 0:o.stat);var f=await setOrdprefApi();if(!(f&&f.metadata&&f.metadata.mainpreitems)){var g={};(f=JSON.parse(localStorage.getItem(`${e}_ordpref`)))&&f.mainpreitems?(g=f,localStorage.removeItem(`${e}_ordpref`)):g=t.getOrderPref(),await setOrdprefApi({clientid:e,metadata:g,source:"WEB"},!0)}console.log("✅ Order preferences loaded"),t.setMainLoader(!1),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}else e&&a?await V(null):(t.setMainLoader(!1),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout))}x(),document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&(t.snackbar&&t.hideSnackbar(),t.showalert&&t.hideAlert())}}),watch(()=>i.path,e=>{x()},{immediate:!1}),watch(()=>t.wsorderalertdata,e=>{t.wsorderalertdata.length>2&&t.wsorderalertdata[0]&&t.wsorderalertdata.shift()},{deep:!0}),(e,o)=>{const n=resolveComponent("router-view");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:normalizeClass([unref(t).mainloader?"":"d-none","no-scroll no-xhide"])},[createBaseVNode("img",{class:"pos-cent blinkimg",width:"90px",src:`/src/assets/${e.$vuetify.theme.dark,"MYNT App Logo_v2"}.svg`,alt:"wait"},null,8,_hoisted_1$r)],2),createBaseVNode("div",{class:normalizeClass(unref(t).mainloader?"d-none":"")},[createVNode(AppBar),createBaseVNode("div",null,[createVNode(VContainer,{class:"vcontainer",color:"mainbg"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$p,[createVNode(unref(VSnackbars),{class:"wsalert-snackbar",elevation:"0",objects:a.value,bottom:"",right:""},{action:withCtx(({close:e})=>[createVNode(VIcon,{onClick:t=>e(),class:"float-right",color:"#fff"},{default:withCtx(()=>[...o[20]||(o[20]=[createTextVNode("mdi-close-circle",-1)])]),_:1},8,["onClick"])]),default:withCtx(({message:e})=>[createBaseVNode("span",{class:"font-weight-bold fs-14",innerHTML:e},null,8,_hoisted_3$n)]),_:1},8,["objects"]),createVNode(VSnackbar,{class:"d-none d-md-flex snakbar-sty rounded-pill mb-4",transition:"slide-x-reverse-transition",bottom:"",right:"",modelValue:unref(t).snackbar,"onUpdate:modelValue":o[1]||(o[1]=e=>unref(t).snackbar=e),timeout:"4000",value:!0,color:unref(t).snackcolor,absolute:"","text-color":"white"},{default:withCtx(()=>[createVNode(VIcon,{class:"mr-2",color:"#fff"},{default:withCtx(()=>[...o[21]||(o[21]=[createTextVNode("mdi-alert-outline",-1)])]),_:1}),createTextVNode(" "+toDisplayString(unref(t).snacktxt)+" ",1),createVNode(VIcon,{onClick:o[0]||(o[0]=e=>unref(t).hideSnackbar()),class:"float-right",color:"#fff"},{default:withCtx(()=>[...o[22]||(o[22]=[createTextVNode("mdi-close-circle",-1)])]),_:1})]),_:1},8,["modelValue","color"]),createVNode(VSnackbar,{class:"d-md-none snakbar-sty rounded-pill mb-4",transition:"slide-x-reverse-transition",bottom:"",right:"",modelValue:unref(t).snackbar,"onUpdate:modelValue":o[3]||(o[3]=e=>unref(t).snackbar=e),timeout:"4000",value:!0,color:unref(t).snackcolor,absolute:"","text-color":"white"},{default:withCtx(()=>[createVNode(VIcon,{class:"mr-2",color:"#fff"},{default:withCtx(()=>[...o[23]||(o[23]=[createTextVNode("mdi-alert-outline",-1)])]),_:1}),createTextVNode(" "+toDisplayString(unref(t).snacktxt)+" ",1),createVNode(VIcon,{onClick:o[2]||(o[2]=e=>unref(t).hideSnackbar()),class:"float-right",color:"#fff"},{default:withCtx(()=>[...o[24]||(o[24]=[createTextVNode("mdi-close-circle",-1)])]),_:1})]),_:1},8,["modelValue","color"]),createVNode(VRow,{"no-gutters":"",class:normalizeClass(["pt-14",unref(t).wllayout?"flex-row-reverse":""])},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"9",class:"pt-6 pr-1 pl-2 pb-0 changescreen"},{default:withCtx(()=>[createVNode(n,{onSnack:g,onMenudialog:y,onGologin:w,onLoader:_})]),_:1}),createVNode(VCol,{cols:"3",class:normalizeClass(["pos-rlt pb-0 px-1 d-none d-md-block",unref(r).uid?unref(t).wllayout?"sec-watchlist-r":"sec-watchlist-l":""]),style:{width:"340px"}},{default:withCtx(()=>[unref(r).uid?(openBlock(),createElementBlock("div",_hoisted_4$m,[createVNode(WatchList)])):(openBlock(),createElementBlock("div",_hoisted_5$m,[createVNode(VCard,{outlined:"",class:"overflow-hidden ss-login-card px-10 rounded-xl pos-rlt crd-trn d-flex",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6$m,[createBaseVNode("img",{src:`/src/assets/products-sec/${"Mutual funds"==l.value?"mutual-funds":"IPOs"==l.value?"ipos":"Bonds"==l.value?"bonds":"Stocks-ETFs"}.png`,alt:l.value,class:"",width:"100%"},null,8,_hoisted_7$m),createBaseVNode("p",_hoisted_8$m,"Ready to invest in "+toDisplayString(l.value)+"?",1),o[27]||(o[27]=createBaseVNode("p",{class:"subtext--text font-weight-medium fs-2 mb-8"},[createTextVNode(" Open your demat account "),createBaseVNode("br"),createTextVNode(" effortlessly with our six-click process. ")],-1)),createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn",width:"100%"},{default:withCtx(()=>[createVNode(VForm,{ref:"form",modelValue:p.value,"onUpdate:modelValue":o[8]||(o[8]=e=>p.value=e),"lazy-validation":"",onSubmit:o[9]||(o[9]=withModifiers(e=>b(),["prevent"]))},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"10",class:"pr-0"},{default:withCtx(()=>[createVNode(VTextField,{modelValue:h.value,"onUpdate:modelValue":o[4]||(o[4]=e=>h.value=e),onKeypress:o[5]||(o[5]=e=>(e=>{h.value.length>=10&&e.preventDefault()})(e)),onKeyup:o[6]||(o[6]=withKeys(e=>b(),["enter"])),maxlength:10,rules:f.value,oninput:"this.value = this.value.toUpperCase()",required:"","hide-spin-buttons":"",flat:"","hide-details":"",solo:"","background-color":"secbg",class:"sign-up-filed elevation-0 rounded-pill caption mb-3",label:"Enter Client ID/Mobile to begin"},{"prepend-inner":withCtx(()=>[createBaseVNode("img",{src:`/src/assets/phone-icon${e.$vuetify.theme.dark?"d":""}.svg`,width:"100%",alt:"phone-icon"},null,8,_hoisted_9$m)]),_:1},8,["modelValue","rules"])]),_:1}),createVNode(VCol,{cols:"2",class:"d-flex align-center"},{default:withCtx(()=>[createVNode(VBtn,{class:"mb-3 elevation-0",color:"transparent",onClick:o[7]||(o[7]=e=>w(!0)),fab:"",small:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...o[25]||(o[25]=[createTextVNode(" mdi-qrcode-scan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VBtn,{type:"submit",block:"",height:"48px",color:p.value?"#FFF07E":"#FFF07E30",class:"text-none rounded-pill elevation-0"},{default:withCtx(()=>[...o[26]||(o[26]=[createBaseVNode("span",{class:"black--text font-weight-bold"},"Continue",-1)])]),_:1},8,["color"])]),_:1},8,["modelValue"])]),_:1})])]),_:1})]))]),_:1},8,["class"])]),_:1},8,["class"]),createVNode(_sfc_main$P),createVNode(_sfc_main$O),createVNode(_sfc_main$N),createVNode(_sfc_main$M),createVNode(VDialog,{modelValue:unref(t).showalert,"onUpdate:modelValue":o[12]||(o[12]=e=>unref(t).showalert=e),persistent:"","hide-overlay":"",width:"380"},{default:withCtx(()=>[createVNode(VCard,{class:"mx-auto pa-4 pb-6 text-right rounded-xl",width:"100%"},{default:withCtx(()=>[createVNode(VBtn,{onClick:o[10]||(o[10]=e=>unref(t).hideAlert()),color:"maintext","x-small":"",fab:"",outlined:""},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext"},{default:withCtx(()=>[...o[28]||(o[28]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),createVNode(VCardText,{class:"text-left px-3"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_10$m,toDisplayString(unref(t).showalertmsg?unref(t).showalertmsg.title:""),1),createBaseVNode("p",_hoisted_11$m,[unref(t).showalertmsg&&unref(t).showalertmsg.body?(openBlock(),createElementBlock("span",{key:0,innerHTML:unref(t).showalertmsg.body},null,8,_hoisted_12$m)):createCommentVNode("",!0)])]),_:1}),unref(t).showalertmsg&&unref(t).showalertmsg.callback?(openBlock(),createBlock(VBtn,{key:0,onClick:o[11]||(o[11]=e=>unref(t).showalertmsg.callback?void window.location.reload():unref(t).hideAlert()),color:"#FFECB3",class:"text-none warning--text elevation-0 rounded-pill mr-2"},{default:withCtx(()=>[...o[29]||(o[29]=[createTextVNode(" Ok ",-1)])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:s.value,"onUpdate:modelValue":o[14]||(o[14]=e=>s.value=e),persistent:"",width:"620"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 py-4 px-2 rounded-xl"},{default:withCtx(()=>[createVNode(VCardTitle,{class:"title font-weight-bold mb-2"},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_13$l,[createBaseVNode("path",{d:"M14 2.26953V6.40007C14 6.96012 14 7.24015 14.109 7.45406C14.2049 7.64222 14.3578 7.7952 14.546 7.89108C14.7599 8.00007 15.0399 8.00007 15.6 8.00007H19.7305M16 13H8M16 17H8M10 9H8M14 2H8.8C7.11984 2 6.27976 2 5.63803 2.32698C5.07354 2.6146 4.6146 3.07354 4.32698 3.63803C4 4.27976 4 5.11984 4 6.8V17.2C4 18.8802 4 19.7202 4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673C6.27976 22 7.11984 22 8.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9265 19.673 20.362C20 19.7202 20 18.8802 20 17.2V8L14 2Z",stroke:e.$vuetify.theme.dark?"white":"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_14$k)])),o[30]||(o[30]=createBaseVNode("span",{class:"ml-3"}," Risk disclosures on derivatives ",-1))]),_:1}),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardText,{class:"px-4 px-md-8 py-7 riskpopup"},{default:withCtx(()=>[createBaseVNode("ul",{class:normalizeClass([e.$vuetify.theme.dark?"white--text":"black--text","subtitle-1 mb-4"])},[...o[31]||(o[31]=[createBaseVNode("li",{style:{"line-height":"24px"},class:"mb-2"},"9 out of 10 individual traders in the equity Futures and Options (F&O) segment incurred net losses.",-1),createBaseVNode("li",{style:{"line-height":"24px"},class:"mb-2"},"On average, the loss-making traders registered a net trading loss close to ₹50,000.",-1),createBaseVNode("li",{style:{"line-height":"24px"},class:"mb-2"},"Over and above the net trading losses incurred, loss makers expended an additional 28% of net trading losses as transaction costs.",-1),createBaseVNode("li",{style:{"line-height":"24px"}},"Those making net trading profits incurred between 15% to 50% of such profits as transaction costs.",-1)])],2),o[32]||(o[32]=createBaseVNode("p",{class:"caption mb-0"},[createTextVNode(" Source: "),createBaseVNode("a",{target:"_blank",style:{"text-decoration":"none",color:"#0037B7"},href:"https://www.sebi.gov.in/reports-and-statistics/research/jan-2023/study-analysis-of-profit-and-loss-of-individual-traders-dealing-in-equity-fando-segment_67525.html"}," SEBI study"),createTextVNode(' dated January 25, 2023, on "Analysis of Profit and Loss of Individual Traders dealing in equity Futures and Options (F&O) Segment," wherein Aggregate Level findings are based on annual Profit/Loss incurred by individual traders in equity F&O during FY 2021-22. ')],-1))]),_:1}),createVNode(VDivider,{class:"mx-4"}),createVNode(VCardActions,{class:"mt-3"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(VBtn,{color:"#0037B7",dark:"",class:"elevation-0 text-none font-weight-bold rounded-pill px-4",onClick:o[13]||(o[13]=e=>(sessionStorage.setItem("risk",0),void(s.value=!1)))},{default:withCtx(()=>[...o[33]||(o[33]=[createTextVNode(" I Understand ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),createVNode(VOverlay,{value:unref(t).subloader,class:"rounded-0"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_15$i,[createVNode(VCard,{width:"70%",class:"elevation-0 mx-auto crd-trn d-flex justify-center align-center",style:{position:"relative",overflow:"visible"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16$d,[createVNode(VProgressCircular,{color:"primary",size:115,width:4,indeterminate:"",style:{position:"absolute","z-index":"0"}}),o[34]||(o[34]=createBaseVNode("img",{src:_imports_0$8,alt:"Logo",style:{"z-index":"1",width:"100px",height:"100px"}},null,-1))])]),_:1})])]),_:1},8,["value"])]),createVNode(VFooter,{padless:"",style:{position:"fixed",bottom:"0px",left:"0",width:"100%","z-index":"10"},color:"cardbg",class:"pb-1 d-sm-none"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{onClick:o[15]||(o[15]=e=>c.value=!0),cols:"4",class:"text-center pb-2"},{default:withCtx(()=>[createVNode(VDivider,{color:0==u.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),createBaseVNode("div",null,[createVNode(VCard,{class:"elevation-0",color:"transparent",height:"24px"},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_17$d,[createBaseVNode("path",{d:"M16.459 10.9165C18.7372 10.9165 20.584 9.06968 20.584 6.7915C20.584 4.51333 18.7372 2.6665 16.459 2.6665C14.1808 2.6665 12.334 4.51333 12.334 6.7915C12.334 9.06968 14.1808 10.9165 16.459 10.9165Z",stroke:0==u.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_18$d),createBaseVNode("path",{d:"M11.4167 12.75H5V19.1667H11.4167V12.75Z",stroke:0==u.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_19$d),createBaseVNode("path",{d:"M1.33398 8.16667L5.00065 1.75L8.66732 8.16667H1.33398Z",stroke:0==u.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_20$d)]))]),_:1}),createBaseVNode("div",_hoisted_21$d,[createBaseVNode("div",_hoisted_22$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.value,(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:normalizeClass(`slider-text-${t} ${d.value==t?"primary--text":"maintext--text"}`)},toDisplayString(e),3))),128))]),createVNode(VIcon,{size:"20",color:0==u.value?"#0037B7":"#506D84"},{default:withCtx(()=>[...o[35]||(o[35]=[createTextVNode(" mdi-chevron-down",-1)])]),_:1},8,["color"])])])]),_:1}),createVNode(VCol,{onClick:o[16]||(o[16]=t=>unref(r).uid?(e.$router.push("/orders"),x()):w()),cols:"4",class:"text-center pb-2"},{default:withCtx(()=>[createVNode(VDivider,{color:1==u.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),createBaseVNode("div",null,[createVNode(VCard,{class:"elevation-0",color:"transparent",height:"24px"},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_23$d,[createBaseVNode("g",_hoisted_24$d,[createBaseVNode("path",{d:"M1.66797 4.16406H18.3346",stroke:1==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10"},null,8,_hoisted_25$c),createBaseVNode("path",{d:"M18.3346 19.1654H1.66797V4.16536L5.0013 0.832031H15.0013L18.3346 4.16536V19.1654Z",stroke:1==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_26$c),createBaseVNode("path",{d:"M14.1693 8.33203C14.1693 10.6654 12.3359 12.4987 10.0026 12.4987C7.66927 12.4987 5.83594 10.6654 5.83594 8.33203",stroke:1==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_27$c)]),o[36]||(o[36]=createBaseVNode("defs",null,[createBaseVNode("clipPath",{id:"clip0_8033_1489"},[createBaseVNode("rect",{width:"20",height:"20",fill:"white"})])],-1))]))]),_:1}),createBaseVNode("p",{class:normalizeClass(["fs-12 font-weight-medium text-none mb-0",1==u.value?"primary--text":"maintext--text"])}," Orders",2)])]),_:1}),createVNode(VCol,{onClick:o[17]||(o[17]=t=>unref(r).uid?(e.$router.push("/funds"),x()):w()),cols:"4",class:"text-center pb-2"},{default:withCtx(()=>[createVNode(VDivider,{color:2==u.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),createBaseVNode("div",null,[createVNode(VCard,{class:"elevation-0",color:"transparent",height:"24px"},{default:withCtx(()=>[(openBlock(),createElementBlock("svg",_hoisted_28$c,[createBaseVNode("g",_hoisted_29$c,[createBaseVNode("path",{d:"M4.9987 2.5H2.4987C1.57786 2.5 0.832031 3.24583 0.832031 4.16667C0.832031 5.0875 1.57786 5.83333 2.4987 5.83333",stroke:2==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_30$c),createBaseVNode("path",{d:"M5 5.83203V0.832031H16.6667V5.83203",stroke:2==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_31$a),createBaseVNode("path",{d:"M19.1654 5.83073H2.4987C1.57786 5.83073 0.832031 5.0849 0.832031 4.16406V16.6641C0.832031 18.0449 1.9512 19.1641 3.33203 19.1641H19.1654V5.83073Z",stroke:2==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_32$9),createBaseVNode("path",{d:"M14.1667 14.1654C15.0871 14.1654 15.8333 13.4192 15.8333 12.4987C15.8333 11.5782 15.0871 10.832 14.1667 10.832C13.2462 10.832 12.5 11.5782 12.5 12.4987C12.5 13.4192 13.2462 14.1654 14.1667 14.1654Z",stroke:2==u.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,_hoisted_33$8)]),o[37]||(o[37]=createBaseVNode("defs",null,[createBaseVNode("clipPath",{id:"clip0_8033_1494"},[createBaseVNode("rect",{width:"20",height:"20",fill:"white"})])],-1))]))]),_:1}),createBaseVNode("p",{class:normalizeClass(["fs-12 font-weight-medium text-none mb-0",2==u.value?"primary--text":"maintext--text"])}," Funds",2)])]),_:1})]),_:1})]),_:1}),createVNode(VBottomSheet,{modelValue:c.value,"onUpdate:modelValue":o[19]||(o[19]=e=>c.value=e),class:"d-md-none"},{default:withCtx(()=>[createVNode(VSheet,{class:"rounded-t-xl px-4",height:"40vh"},{default:withCtx(()=>[createBaseVNode("div",{onClick:o[18]||(o[18]=e=>c.value=!1),class:"text-center"},[...o[38]||(o[38]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"3",viewBox:"0 0 32 3",fill:"none"},[createBaseVNode("rect",{width:"32",height:"3",rx:"1.5",fill:"#DDDDDD","fill-opacity":"0.866667"})],-1)])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,(t,a)=>(openBlock(),createBlock(VListItem,{key:a,onClick:a=>u.value<=2||t.idx!=d.value?(e.$router.push(t.path),c.value=!1,x()):null},{default:withCtx(()=>[createVNode(VListItemTitle,{class:normalizeClass(t.idx==d.value&&0==u.value?"font-weight-medium primary--text":"")},{default:withCtx(()=>[createTextVNode(toDisplayString(t.txt),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])],2)])}}},_sfc_main$K={__name:"TVChartContainerMOB",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"TradingView Chart (Mobile)",-1),createBaseVNode("p",null,"TradingView charting component for mobile",-1)])]),_:1})]))},_sfc_main$J={__name:"MultiChart",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Multi Chart",-1),createBaseVNode("p",null,"Multiple chart display component",-1)])]),_:1})]))};function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString:toString}=Object.prototype,{getPrototypeOf:getPrototypeOf}=Object,{iterator:iterator,toStringTag:toStringTag}=Symbol,kindOf=(e=>t=>{const a=toString.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&isFunction$1(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>null!==e&&"object"==typeof e,isBoolean=e=>!0===e||!1===e,isPlainObject=e=>{if("object"!==kindOf(e))return!1;const t=getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||toStringTag in e||iterator in e)},isEmptyObject=e=>{if(!isObject(e)||isBuffer(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e2){return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction$1(e.pipe),isFormData=e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||isFunction$1(e.append)&&("formdata"===(t=kindOf(e))||"object"===t&&isFunction$1(e.toString)&&"[object FormData]"===e.toString()))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let o,r;if("object"!=typeof e&&(e=[e]),isArray(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(isBuffer(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),n=r.length;let i;for(o=0;o<n;o++)i=r[o],t.call(null,e[i],i,e)}}function findKey(e,t){if(isBuffer(e))return null;t=t.toLowerCase();const a=Object.keys(e);let o,r=a.length;for(;r-- >0;)if(o=a[r],t===o.toLowerCase())return o;return null}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e,skipUndefined:t}=isContextDefined(this)&&this||{},a={},o=(o,r)=>{const n=e&&findKey(a,r)||r;isPlainObject(a[n])&&isPlainObject(o)?a[n]=merge(a[n],o):isPlainObject(o)?a[n]=merge({},o):isArray(o)?a[n]=o.slice():t&&isUndefined(o)||(a[n]=o)};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&forEach(arguments[r],o);return a}const extend=(e,t,a,{allOwnKeys:o}={})=>(forEach(t,(t,o)=>{a&&isFunction$1(t)?e[o]=bind(t,a):e[o]=t},{allOwnKeys:o}),e),stripBOM=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits=(e,t,a,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject=(e,t,a,o)=>{let r,n,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)i=r[n],o&&!o(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==a&&getPrototypeOf(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const o=e.indexOf(t,a);return-1!==o&&o===a},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},isTypedArray=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const a=(e&&e[iterator]).call(e);let o;for(;(o=a.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},matchAll=(e,t)=>{let a;const o=[];for(;null!==(a=e.exec(t));)o.push(a);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),hasOwnProperty=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),o={};forEach(a,(a,r)=>{let n;!1!==(n=t(a,r,e))&&(o[r]=n||a)}),Object.defineProperties(e,o)},freezeMethods=e=>{reduceDescriptors(e,(t,a)=>{if(isFunction$1(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const o=e[a];isFunction$1(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet=(e,t)=>{const a={},o=e=>{e.forEach(e=>{a[e]=!0})};return isArray(e)?o(e):o(String(e).split(t)),a},noop=()=>{},toFiniteNumber=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&isFunction$1(e.append)&&"FormData"===e[toStringTag]&&e[iterator])}const toJSONObject=e=>{const t=new Array(10),a=(e,o)=>{if(isObject(e)){if(t.indexOf(e)>=0)return;if(isBuffer(e))return e;if(!("toJSON"in e)){t[o]=e;const r=isArray(e)?[]:{};return forEach(e,(e,t)=>{const n=a(e,o+1);!isUndefined(n)&&(r[t]=n)}),t[o]=void 0,r}}return e};return a(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),_setImmediate=(setImmediateSupported="function"==typeof setImmediate,postMessageSupported=isFunction$1(_global.postMessage),setImmediateSupported?setImmediate:postMessageSupported?(token2=`axios@${Math.random()}`,callbacks=[],_global.addEventListener("message",({source:e,data:t})=>{e===_global&&t===token2&&callbacks.length&&callbacks.shift()()},!1),e=>{callbacks.push(e),_global.postMessage(token2,"*")}):e=>setTimeout(e));var setImmediateSupported,postMessageSupported,token2,callbacks;const asap="undefined"!=typeof queueMicrotask?queueMicrotask.bind(_global):"undefined"!=typeof process&&process.nextTick||_setImmediate,isIterable=e=>null!=e&&isFunction$1(e[iterator]),utils$1={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isBoolean:isBoolean,isObject:isObject,isPlainObject:isPlainObject,isEmptyObject:isEmptyObject,isReadableStream:isReadableStream,isRequest:isRequest,isResponse:isResponse,isHeaders:isHeaders,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isRegExp:isRegExp,isFunction:isFunction$1,isStream:isStream,isURLSearchParams:isURLSearchParams,isTypedArray:isTypedArray,isFileList:isFileList,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:isHTMLForm,hasOwnProperty:hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors:reduceDescriptors,freezeMethods:freezeMethods,toObjectSet:toObjectSet,toCamelCase:toCamelCase,noop:noop,toFiniteNumber:toFiniteNumber,findKey:findKey,global:_global,isContextDefined:isContextDefined,isSpecCompliantForm:isSpecCompliantForm,toJSONObject:toJSONObject,isAsyncFn:isAsyncFn,isThenable:isThenable,setImmediate:_setImmediate,asap:asap,isIterable:isIterable};function AxiosError$1(e,t,a,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}}),Object.defineProperties(AxiosError$1,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError$1.from=(e,t,a,o,r,n)=>{const i=Object.create(prototype$1);utils$1.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",s=null==t&&e?e.code:t;return AxiosError$1.call(i,l,s,a,o,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",n&&Object.assign(i,n),i};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,a){return e?e.concat(t).map(function(e,t){return e=removeBrackets(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(e,t,a){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const o=(a=utils$1.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!utils$1.isUndefined(t[e])})).metaTokens,r=a.visitor||c,n=a.dots,i=a.indexes,l=(a.Blob||"undefined"!=typeof Blob&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(r))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(utils$1.isDate(e))return e.toISOString();if(utils$1.isBoolean(e))return e.toString();if(!l&&utils$1.isBlob(e))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(e)||utils$1.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let l=e;if(e&&!r&&"object"==typeof e)if(utils$1.endsWith(a,"{}"))a=o?a:a.slice(0,-2),e=JSON.stringify(e);else if(utils$1.isArray(e)&&isFlatArray(e)||(utils$1.isFileList(e)||utils$1.endsWith(a,"[]"))&&(l=utils$1.toArray(e)))return a=removeBrackets(a),l.forEach(function(e,o){!utils$1.isUndefined(e)&&null!==e&&t.append(!0===i?renderKey([a],o,n):null===i?a:a+"[]",s(e))}),!1;return!!isVisitable(e)||(t.append(renderKey(r,a,n),s(e)),!1)}const d=[],u=Object.assign(predicates,{defaultVisitor:c,convertValue:s,isVisitable:isVisitable});if(!utils$1.isObject(e))throw new TypeError("data must be an object");return function e(a,o){if(!utils$1.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+o.join("."));d.push(a),utils$1.forEach(a,function(a,n){!0===(!(utils$1.isUndefined(a)||null===a)&&r.call(t,a,utils$1.isString(n)?n.trim():n,o,u))&&e(a,o?o.concat(n):[n])}),d.pop()}}(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData$1(e,this,t)}const prototype=AxiosURLSearchParams.prototype;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(e,t,a){if(!t)return e;const o=a&&a.encode||encode;utils$1.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let n;if(n=r?r(t,a):utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,a).toString(o),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}prototype.append=function(e,t){this._pairs.push([e,t])},prototype.toString=function(e){const t=e?function(t){return e.call(this,t,encode$1)}:encode$1;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class InterceptorManager{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(t){null!==t&&e(t)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1="undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData$1="undefined"!=typeof FormData?FormData:null,Blob$1="undefined"!=typeof Blob?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv="undefined"!=typeof window&&"undefined"!=typeof document,_navigator="object"==typeof navigator&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hasBrowserEnv,hasStandardBrowserEnv:hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv:hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin:origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData$1(e,new platform.classes.URLSearchParams,{visitor:function(e,t,a,o){return platform.isNode&&utils$1.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}function arrayToObject(e){const t={},a=Object.keys(e);let o;const r=a.length;let n;for(o=0;o<r;o++)n=a[o],t[n]=e[n];return t}function formDataToJSON(e){function t(e,a,o,r){let n=e[r++];if("__proto__"===n)return!0;const i=Number.isFinite(+n),l=r>=e.length;if(n=!n&&utils$1.isArray(o)?o.length:n,l)return utils$1.hasOwnProp(o,n)?o[n]=[o[n],a]:o[n]=a,!i;o[n]&&utils$1.isObject(o[n])||(o[n]=[]);return t(e,a,o[n],r)&&utils$1.isArray(o[n])&&(o[n]=arrayToObject(o[n])),!i}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const a={};return utils$1.forEachEntry(e,(e,o)=>{t(parsePropPath(e),o,a,0)}),a}return null}function stringifySafely(e,t,a){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(e2){if("SyntaxError"!==e2.name)throw e2}return(a||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",o=a.indexOf("application/json")>-1,r=utils$1.isObject(e);r&&utils$1.isHTMLForm(e)&&(e=new FormData(e));if(utils$1.isFormData(e))return o?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((n=utils$1.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return toFormData$1(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults.transitional,a=t&&t.forcedJSONParsing,o="json"===this.responseType;if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(a&&!this.responseType||o)){const a=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(e2){if(a){if("SyntaxError"===e2.name)throw AxiosError$1.from(e2,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response);throw e2}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let a,o,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),o=e.substring(r+1).trim(),!a||t[a]&&ignoreDuplicateOf[a]||("set-cookie"===a?t[a]?t[a].push(o):t[a]=[o]:t[a]=t[a]?t[a]+", "+o:o)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(e);)t[o[1]]=o[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,a,o,r){return utils$1.isFunction(o)?o.call(this,t,a):(r&&(t=a),utils$1.isString(t)?utils$1.isString(o)?-1!==t.indexOf(o):utils$1.isRegExp(o)?o.test(t):void 0:void 0)}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}function buildAccessors(e,t){const a=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+a,{value:function(e,a,r){return this[o].call(this,t,e,a,r)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,t,a){const o=this;function r(e,t,a){const r=normalizeHeader(t);if(!r)throw new Error("header name must be a non-empty string");const n=utils$1.findKey(o,r);(!n||void 0===o[n]||!0===a||void 0===a&&!1!==o[n])&&(o[n||t]=normalizeValue(e))}const n=(e,t)=>utils$1.forEach(e,(e,a)=>r(e,a,t));if(utils$1.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))n(parseHeaders(e),t);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let a,o,r={};for(const t of e){if(!utils$1.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[o=t[0]]=(a=r[o])?utils$1.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}n(r,t)}else null!=e&&r(t,e,a);return this}get(e,t){if(e=normalizeHeader(e)){const a=utils$1.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return parseTokens(e);if(utils$1.isFunction(t))return t.call(this,e,a);if(utils$1.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){const a=utils$1.findKey(this,e);return!(!a||void 0===this[a]||t&&!matchHeaderValue(this,this[a],a,t))}return!1}delete(e,t){const a=this;let o=!1;function r(e){if(e=normalizeHeader(e)){const r=utils$1.findKey(a,e);!r||t&&!matchHeaderValue(a,a[r],r,t)||(delete a[r],o=!0)}}return utils$1.isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let a=t.length,o=!1;for(;a--;){const r=t[a];e&&!matchHeaderValue(this,this[r],r,e,!0)||(delete this[r],o=!0)}return o}normalize(e){const t=this,a={};return utils$1.forEach(this,(o,r)=>{const n=utils$1.findKey(a,r);if(n)return t[n]=normalizeValue(o),void delete t[r];const i=e?formatHeader(r):String(r).trim();i!==r&&delete t[r],t[i]=normalizeValue(o),a[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return utils$1.forEach(this,(a,o)=>{null!=a&&!1!==a&&(t[o]=e&&utils$1.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach(e=>a.set(e)),a}static accessor(e){const t=(this[$internals]=this[$internals]={accessors:{}}).accessors,a=this.prototype;function o(e){const o=normalizeHeader(e);t[o]||(buildAccessors(a,e),t[o]=!0)}return utils$1.isArray(e)?e.forEach(o):o(e),this}};function transformData(e,t){const a=this||defaults,o=t||a,r=AxiosHeaders$1.from(o.headers);let n=o.data;return utils$1.forEach(e,function(e){n=e.call(a,n,r.normalize(),t?t.status:void 0)}),r.normalize(),n}function isCancel$1(e){return!(!e||!e.__CANCEL__)}function CanceledError$1(e,t,a){AxiosError$1.call(this,null==e?"canceled":e,AxiosError$1.ERR_CANCELED,t,a),this.name="CanceledError"}function settle(e,t,a){const o=a.config.validateStatus;a.status&&o&&!o(a.status)?t(new AxiosError$1("Request failed with status code "+a.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const a=new Array(e),o=new Array(e);let r,n=0,i=0;return t=void 0!==t?t:1e3,function(l){const s=Date.now(),c=o[i];r||(r=s),a[n]=l,o[n]=s;let d=i,u=0;for(;d!==n;)u+=a[d++],d%=e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),s-r<t)return;const p=c&&s-c;return p?Math.round(1e3*u/p):void 0}}function throttle(e,t){let a,o,r=0,n=1e3/t;const i=(t,n=Date.now())=>{r=n,a=null,o&&(clearTimeout(o),o=null),e(...t)};return[(...e)=>{const t=Date.now(),l=t-r;l>=n?i(e,t):(a=e,o||(o=setTimeout(()=>{o=null,i(a)},n-l)))},()=>a&&i(a)]}AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}}),utils$1.freezeMethods(AxiosHeaders$1),utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});const progressEventReducer=(e,t,a=3)=>{let o=0;const r=speedometer(50,250);return throttle(a=>{const n=a.loaded,i=a.lengthComputable?a.total:void 0,l=n-o,s=r(l);o=n;e({loaded:n,total:i,progress:i?n/i:void 0,bytes:l,rate:s||void 0,estimated:s&&i&&n<=i?(i-n)/s:void 0,event:a,lengthComputable:null!=i,[t?"download":"upload"]:!0})},a)},progressEventDecorator=(e,t)=>{const a=null!=e;return[o=>t[0]({lengthComputable:a,total:e,loaded:o}),t[1]]},asyncDecorator=e=>(...t)=>utils$1.asap(()=>e(...t)),isURLSameOrigin=platform.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,platform.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(e,t,a,o,r,n){const i=[e+"="+encodeURIComponent(t)];utils$1.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),utils$1.isString(o)&&i.push("path="+o),utils$1.isString(r)&&i.push("domain="+r),!0===n&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t,a){let o=!isAbsoluteURL(t);return e&&(o||0==a)?combineURLs(e,t):t}const headersToObject=e=>e instanceof AxiosHeaders$1?{...e}:e;function mergeConfig$1(e,t){t=t||{};const a={};function o(e,t,a,o){return utils$1.isPlainObject(e)&&utils$1.isPlainObject(t)?utils$1.merge.call({caseless:o},e,t):utils$1.isPlainObject(t)?utils$1.merge({},t):utils$1.isArray(t)?t.slice():t}function r(e,t,a,r){return utils$1.isUndefined(t)?utils$1.isUndefined(e)?void 0:o(void 0,e,0,r):o(e,t,0,r)}function n(e,t){if(!utils$1.isUndefined(t))return o(void 0,t)}function i(e,t){return utils$1.isUndefined(t)?utils$1.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function l(a,r,n){return n in t?o(a,r):n in e?o(void 0,a):void 0}const s={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,a)=>r(headersToObject(e),headersToObject(t),0,!0)};return utils$1.forEach(Object.keys({...e,...t}),function(o){const n=s[o]||r,i=n(e[o],t[o],o);utils$1.isUndefined(i)&&n!==l||(a[o]=i)}),a}const resolveConfig=e=>{const t=mergeConfig$1({},e);let{data:a,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:n,headers:i,auth:l}=t;if(t.headers=i=AxiosHeaders$1.from(i),t.url=buildURL(buildFullPath(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),utils$1.isFormData(a))if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(utils$1.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,a])=>{t.includes(e.toLowerCase())&&i.set(e,a)})}if(platform.hasStandardBrowserEnv&&(o&&utils$1.isFunction(o)&&(o=o(t)),o||!1!==o&&isURLSameOrigin(t.url))){const e=r&&n&&cookies.read(n);e&&i.set(r,e)}return t},isXHRAdapterSupported="undefined"!=typeof XMLHttpRequest,xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(t,a){const o=resolveConfig(e);let r=o.data;const n=AxiosHeaders$1.from(o.headers).normalize();let i,l,s,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=o;function m(){c&&c(),d&&d(),o.cancelToken&&o.cancelToken.unsubscribe(i),o.signal&&o.signal.removeEventListener("abort",i)}let v=new XMLHttpRequest;function f(){if(!v)return;const o=AxiosHeaders$1.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders());settle(function(e){t(e),m()},function(e){a(e),m()},{data:u&&"text"!==u&&"json"!==u?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:o,config:e,request:v}),v=null}v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout,"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(f)},v.onabort=function(){v&&(a(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,e,v)),v=null)},v.onerror=function(t){const o=new AxiosError$1(t&&t.message?t.message:"Network Error",AxiosError$1.ERR_NETWORK,e,v);o.event=t||null,a(o),v=null},v.ontimeout=function(){let t=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const r=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),a(new AxiosError$1(t,r.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,e,v)),v=null},void 0===r&&n.setContentType(null),"setRequestHeader"in v&&utils$1.forEach(n.toJSON(),function(e,t){v.setRequestHeader(t,e)}),utils$1.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),u&&"json"!==u&&(v.responseType=o.responseType),h&&([s,d]=progressEventReducer(h,!0),v.addEventListener("progress",s)),p&&v.upload&&([l,c]=progressEventReducer(p),v.upload.addEventListener("progress",l),v.upload.addEventListener("loadend",c)),(o.cancelToken||o.signal)&&(i=t=>{v&&(a(!t||t.type?new CanceledError$1(null,e,v):t),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(i),o.signal&&(o.signal.aborted?i():o.signal.addEventListener("abort",i)));const g=parseProtocol(o.url);g&&-1===platform.protocols.indexOf(g)?a(new AxiosError$1("Unsupported protocol "+g+":",AxiosError$1.ERR_BAD_REQUEST,e)):v.send(r||null)})},composeSignals=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,o=new AbortController;const r=function(e){if(!a){a=!0,i();const t=e instanceof Error?e:this.reason;o.abort(t instanceof AxiosError$1?t:new CanceledError$1(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,r(new AxiosError$1(`timeout ${t} of ms exceeded`,AxiosError$1.ETIMEDOUT))},t);const i=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:l}=o;return l.unsubscribe=()=>utils$1.asap(i),l}},streamChunk=function*(e,t){let a=e.byteLength;if(a<t)return void(yield e);let o,r=0;for(;r<a;)o=r+t,yield e.slice(r,o),r=o},readBytes=async function*(e,t){for await(const a of readStream(e))yield*streamChunk(a,t)},readStream=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}},trackStream=(e,t,a,o)=>{const r=readBytes(e,t);let n,i=0,l=e=>{n||(n=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await r.next();if(t)return l(),void e.close();let n=o.byteLength;if(a){let e=i+=n;a(e)}e.enqueue(new Uint8Array(o))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=65536,{isFunction:isFunction}=utils$1,globalFetchAPI=(({Request:e,Response:t})=>({Request:e,Response:t}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder}=utils$1.global,test=(e,...t)=>{try{return!!e(...t)}catch(e2){return!1}},factory=e=>{e=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,e);const{fetch:t,Request:a,Response:o}=e,r=t?isFunction(t):"function"==typeof fetch,n=isFunction(a),i=isFunction(o);if(!r)return!1;const l=r&&isFunction(ReadableStream$1),s=r&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new a(e).arrayBuffer())),c=n&&l&&test(()=>{let e=!1;const t=new a(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&l&&test(()=>utils$1.isReadableStream(new o("").body)),u={stream:d&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,a)=>{let o=t&&t[e];if(o)return o.call(t);throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,a)})});const p=async(e,t)=>{const o=utils$1.toFiniteNumber(e.getContentLength());return null==o?(async e=>{if(null==e)return 0;if(utils$1.isBlob(e))return e.size;if(utils$1.isSpecCompliantForm(e)){const t=new a(platform.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return utils$1.isArrayBufferView(e)||utils$1.isArrayBuffer(e)?e.byteLength:(utils$1.isURLSearchParams(e)&&(e+=""),utils$1.isString(e)?(await s(e)).byteLength:void 0)})(t):o};return async e=>{let{url:r,method:i,data:l,signal:s,cancelToken:h,timeout:m,onDownloadProgress:v,onUploadProgress:f,responseType:g,headers:y,withCredentials:_="same-origin",fetchOptions:b}=resolveConfig(e),w=t||fetch;g=g?(g+"").toLowerCase():"text";let x=composeSignals([s,h&&h.toAbortSignal()],m),V=null;const k=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let C;try{if(f&&c&&"get"!==i&&"head"!==i&&0!==(C=await p(y,l))){let e,t=new a(r,{method:"POST",body:l,duplex:"half"});if(utils$1.isFormData(l)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,a]=progressEventDecorator(C,progressEventReducer(asyncDecorator(f)));l=trackStream(t.body,DEFAULT_CHUNK_SIZE,e,a)}}utils$1.isString(_)||(_=_?"include":"omit");const t=n&&"credentials"in a.prototype,s={...b,signal:x,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:l,duplex:"half",credentials:t?_:void 0};V=n&&new a(r,s);let h=await(n?w(V,b):w(r,s));const m=d&&("stream"===g||"response"===g);if(d&&(v||m&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=utils$1.toFiniteNumber(h.headers.get("content-length")),[a,r]=v&&progressEventDecorator(t,progressEventReducer(asyncDecorator(v),!0))||[];h=new o(trackStream(h.body,DEFAULT_CHUNK_SIZE,a,()=>{r&&r(),k&&k()}),e)}g=g||"text";let S=await u[utils$1.findKey(u,g)||"text"](h,e);return!m&&k&&k(),await new Promise((t,a)=>{settle(t,a,{data:S,headers:AxiosHeaders$1.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:V})})}catch(S){if(k&&k(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,e,V),{cause:S.cause||S});throw AxiosError$1.from(S,S&&S.code,e,V)}}},seedCache=new Map,getFetch=e=>{let t=e?e.env:{};const{fetch:a,Request:o,Response:r}=t,n=[o,r,a];let i,l,s=n.length,c=seedCache;for(;s--;)i=n[s],l=c.get(i),void 0===l&&c.set(i,l=s?new Map:factory(t)),c=l;return l};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e2){}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||null===e||!1===e,adapters={getAdapter:(e,t)=>{e=utils$1.isArray(e)?e:[e];const{length:a}=e;let o,r;const n={};for(let i=0;i<a;i++){let a;if(o=e[i],r=o,!isResolvedHandle(o)&&(r=knownAdapters[(a=String(o)).toLowerCase()],void 0===r))throw new AxiosError$1(`Unknown adapter '${a}'`);if(r&&(utils$1.isFunction(r)||(r=r.get(t))))break;n[a||"#"+i]=r}if(!r){const e=Object.entries(n).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new AxiosError$1("There is no suitable adapter to dispatch the request "+(a?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError$1(null,e)}function dispatchRequest(e){throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return adapters.getAdapter(e.adapter||defaults.adapter,e)(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,e.transformResponse,t),t.headers=AxiosHeaders$1.from(t.headers),t},function(t){return isCancel$1(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,e.transformResponse,t.response),t.response.headers=AxiosHeaders$1.from(t.response.headers))),Promise.reject(t)})}const VERSION$1="1.12.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};function assertOptions(e,t,a){if("object"!=typeof e)throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const n=o[r],i=t[n];if(i){const t=e[n],a=void 0===t||i(t,n,e);if(!0!==a)throw new AxiosError$1("option "+n+" must be "+a,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new AxiosError$1("Unknown option "+n,AxiosError$1.ERR_BAD_OPTION)}}validators$1.transitional=function(e,t,a){function o(e,t){return"[Axios v"+VERSION$1+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,n)=>{if(!1===e)throw new AxiosError$1(o(r," has been removed"+(t?" in "+t:"")),AxiosError$1.ERR_DEPRECATED);return t&&!deprecatedWarnings[r]&&(deprecatedWarnings[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,n)}},validators$1.spelling=function(e){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};const validator={assertOptions:assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(e2){}}throw a}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=mergeConfig$1(this.defaults,t);const{transitional:a,paramsSerializer:o,headers:r}=t;void 0!==a&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),null!=o&&(utils$1.isFunction(o)?t.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),validator.assertOptions(t,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=r&&utils$1.merge(r.common,r[t.method]);r&&utils$1.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=AxiosHeaders$1.concat(n,r);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const s=[];let c;this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[dispatchRequest.bind(this),void 0];for(e.unshift(...i),e.push(...s),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=dispatchRequest.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=s.length;u<d;)c=c.then(s[u++],s[u++]);return c}getUri(e){return buildURL(buildFullPath((e=mergeConfig$1(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(t,a){return this.request(mergeConfig$1(a||{},{method:e,url:t,data:(a||{}).data}))}}),utils$1.forEach(["post","put","patch"],function(e){function t(t){return function(a,o,r){return this.request(mergeConfig$1(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Axios$1.prototype[e]=t(),Axios$1.prototype[e+"Form"]=t(!0)});let CancelToken$1=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const o=new Promise(e=>{a.subscribe(e),t=e}).then(e);return o.cancel=function(){a.unsubscribe(t)},o},e(function(e,o,r){a.reason||(a.reason=new CanceledError$1(e,o,r),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}};function spread$1(e){return function(t){return e.apply(null,t)}}function isAxiosError$1(e){return utils$1.isObject(e)&&!0===e.isAxiosError}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};function createInstance(e){const t=new Axios$1(e),a=bind(Axios$1.prototype.request,t);return utils$1.extend(a,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(a,t,null,{allOwnKeys:!0}),a.create=function(t){return createInstance(mergeConfig$1(e,t))},a}Object.entries(HttpStatusCode$1).forEach(([e,t])=>{HttpStatusCode$1[t]=e});const axios=createInstance(defaults);axios.Axios=Axios$1,axios.CanceledError=CanceledError$1,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel$1,axios.VERSION=VERSION$1,axios.toFormData=toFormData$1,axios.AxiosError=AxiosError$1,axios.Cancel=axios.CanceledError,axios.all=function(e){return Promise.all(e)},axios.spread=spread$1,axios.isAxiosError=isAxiosError$1,axios.mergeConfig=mergeConfig$1,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios;const{Axios:Axios,AxiosError:AxiosError,CanceledError:CanceledError,isCancel:isCancel,CancelToken:CancelToken,VERSION:VERSION,all:all,Cancel:Cancel,isAxiosError:isAxiosError,spread:spread,toFormData:toFormData,AxiosHeaders:AxiosHeaders,HttpStatusCode:HttpStatusCode,formToJSON:formToJSON,getAdapter:getAdapter,mergeConfig:mergeConfig}=axios,_sfc_main$I={__name:"LightweightChart",props:{propstsym:{type:Object,required:!0}},setup(e){const t=e,a=useTheme(),o=ref$1(null),r=ref$1({}),n=ref$1(!0),i=ref$1(0),l=ref$1(null),s=ref$1(null),c=ref$1(null),d=ref$1(null),u=ref$1([]),p=ref$1(null),h=ref$1(!0),m=ref$1(!1),v=ref$1(null),f=ref$1(null),g=ref$1(!1),y=e=>e&&e.token&&e.exch&&e.tsym?`${e.exch}:${e.token}:${e.tsym}`:null,_=async(e,t)=>{if(m.value)return void console.log("API call already in progress, skipping...");v.value&&(v.value.abort(),v.value=null),m.value=!0,n.value=!1,u.value=[],d.value&&d.value.setData(u.value);const a=await x(e);var o;let f;var g="UNDIND"==r.value.instname||"COM"==r.value.instname,y="1D"==e||"1W"==e&&!g;f=y?`jData={"uid":"${l.value}","exch":"${r.value.exch}","token":"${encodeURIComponent(r.value.tsym)}","st":"${a.to}","et":"${a.fr}","intrv":"${"1D"==e?1:5}"}&jKey=${s.value}`:`jData={"sym":"${r.value.exch}:${encodeURIComponent(r.value.tsym)}","from":"${a.to}","to":"${a.fr}"}&jKey=${s.value}`;const _=new AbortController;v.value=_;let k={method:"post",url:`${mynturl.myntapi}${y?"TPSeries":"EODChartData"}`,headers:{"Content-Type":"text/plain"},data:f,signal:_.signal};try{const a=await axios.request(k);if((o=y?a.data:a.data.map(JSON.parse))&&o.length>0){o=o.sort((e,t)=>parseFloat(e.ssboe)-parseFloat(t.ssboe));const e=[];for(var C=0;C<o.length;C++){var S={time:y?V(o[C].ssboe):b(o[C].time),value:Number(y?o[C].intvwap:o[C].intc)};e.push(S)}u.value=e,d.value&&d.value.setData(u.value),p.value=b(new Date),h.value&&c.value&&c.value.timeScale().fitContent(),n.value=!1}t&&"1D"==e&&o&&o.emsg&&o.emsg.includes("no data")&&(w(1),i.value=1),m.value=!1,v.value=null}catch(N){"CanceledError"===N.name||"canceled"===N.message||_.signal.aborted||console.error("Error loading chart data:",N),n.value=!1,m.value=!1,v.value=null}},b=e=>{let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},w=e=>{if(d.value){_(0==e?"1D":1==e?"1W":2==e?"1M":3==e?"1Y":4==e?"YTD":5==e?"MAX":e,!1)}},x=e=>{const t=new Date,a=e=>Math.floor(e.getTime()/1e3),o={"1D":a(new Date((new Date).setHours(0,0,0,0))),"1W":a(new Date(t.getTime()-6048e5)),"1M":a(new Date(t.getFullYear(),t.getMonth()-1,t.getDate())),"1Y":a(new Date(t.getFullYear()-1,t.getMonth(),t.getDate())),YTD:a(new Date(t.getFullYear(),0,1)),MAX:a(new Date(1970,0,1))};return{fr:a(t),to:o[e]||null}},V=e=>Number(e)+19800,k=async e=>{if(g.value,!o.value&&(await nextTick(),!o.value))return void console.error("Chart container element not found");let t=10;for(;t>0&&o.value&&(0===o.value.offsetWidth||0===o.value.offsetHeight);)await new Promise(e=>setTimeout(e,100)),t--;!o.value||0!==o.value.offsetWidth&&0!==o.value.offsetHeight||console.warn("Chart container has no dimensions, chart may not render correctly"),l.value=sessionStorage.getItem("userid"),s.value=sessionStorage.getItem("msession"),c.value&&(c.value.remove(),c.value=null,d.value=null);const n=a.current.value.dark,u={rightPriceScale:{visible:!1,borderVisible:!1},leftPriceScale:{visible:!1},timeScale:{visible:!1,timeVisible:!0},handleScroll:{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1},handleScale:{axisPressedMouseMove:!1,mouseWheel:!1,pinch:!1},layout:{background:{type:"solid",color:n?"#121212":"#fff"},textColor:n?"#fff":"#000"},grid:{vertLines:{visible:!1,color:n?"#222222":"#EBEEF0"},horzLines:{visible:!1,color:n?"#222222":"#EBEEF0"}}};c.value=Ve$1(o.value,u),d.value=c.value.addAreaSeries({topColor:n?"#2E65F62c":"#0037B72c",bottomColor:n?"#2E65F600":"#0037B700",lineColor:n?"#2E65F6":"#0037B7",lineWidth:2,crossHairMarkerVisible:!1}),i.value=0,_("1D",e),g.value=!0;const p=o.value,h=document.createElement("div");h.style="position: absolute; display: none; box-sizing: border-box; z-index: 1000; top: 12px; left: 12px; pointer-events: none; border: 1px solid; border-radius: 6px;",h.style.background=n?"#000":"#fff",h.style.borderColor="#EBEEF0",p.appendChild(h),c.value.subscribeCrosshairMove(e=>{if(void 0===e.point||!e.time||e.point.x<0||e.point.x>p.clientWidth||e.point.y<0||e.point.y>p.clientHeight||!e.seriesData||!d.value||!r.value||!r.value.tsym)return void(h.style.display="none");const t=e.seriesData.get(d.value);if(!t)return void(h.style.display="none");const a=void 0!==t.value?t.value:void 0!==t.close?t.close:null;if(null==a||isNaN(a))return void(h.style.display="none");const o=e.time;h.style.display="block";try{h.innerHTML=`<div class=" rounded-lg px-2 pt-2 pb-1"><div class="font-weight-medium maintext--text fs-14">${r.value.tsym||""}</div> <div class="font-weight-bold maintext--text fs-16 py-1">₹${Math.round(100*a)/100}</div> <div class="font-weight-medium subtext--text fs-12">${(e=>{if(!e)return"";try{if(0==i.value||1==i.value&&r.value&&("UNDIND"==r.value.instname||"COM"==r.value.instname)){const t=new Date(1e3*(e-19800));if(isNaN(t.getTime()))return"";let a=t.getHours();const o=t.getMinutes(),r=a>=12?"PM":"AM";return a=a%12||12,`${a}:${o.toString().padStart(2,"0")} ${r}`}{const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getDate().toString().padStart(2,"0");return`${a} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${t.getFullYear().toString()}`}}catch(t){return console.error("Error formatting date:",t),""}})(o)}</div></div>`;const t=e.point.y;let n=e.point.x+16;n>p.clientWidth-80&&(n=e.point.x-16-80);let l=t+16;l>p.clientHeight-80&&(l=t-80-16),h.style.left=n+"px",h.style.top=l+"px"}catch(n){console.error("Error updating tooltip:",n),h.style.display="none"}})},C=e=>{const t=e.detail;t&&t.token==r.value.token&&c.value&&d.value&&u.value&&u.value.length>0&&(e=>{if(!(e&&e.lp&&r.value&&p.value&&d.value&&u.value))return;let t=u.value.findIndex(e=>e.time==p.value);if(0!=i.value&&r.value.instname&&("UNDIND"==r.value.instname||"COM"==r.value.instname)){const a=Number(e.lp);if(isNaN(a))return;t>=0?(u.value[t].value=a,d.value.update(u.value[t])):(u.value.push({time:p.value,value:a}),d.value.setData(u.value))}})(t)};watch(()=>t.propstsym,async(e,t)=>{if(!e||0===Object.keys(e).length)return;const a=y(e),l=t?y(t):null;if(a&&a===l&&a===f.value)return void console.log("Symbol unchanged, skipping API call");a&&(f.value=a),r.value=e,await nextTick(),o.value||await nextTick();let s=5;for(;s>0&&o.value&&(0===o.value.offsetWidth||0===o.value.offsetHeight);)await new Promise(e=>setTimeout(e,100)),s--;if(c.value&&d.value&&o.value)n.value=!0,_(0==i.value?"1D":1==i.value?"1W":2==i.value?"1M":3==i.value?"1Y":4==i.value?"YTD":5==i.value?"MAX":"1D",!1);else if(o.value&&!g.value){o.value.offsetWidth>0&&o.value.offsetHeight>0?await k(!0):S()}},{deep:!1,immediate:!0}),watch(()=>a.current.value.dark,()=>{if(c.value&&d.value){const e=a.current.value.dark;c.value.applyOptions({layout:{background:{type:"solid",color:e?"#121212":"#fff"},textColor:e?"#fff":"#000"},grid:{vertLines:{visible:!1,color:e?"#222222":"#EBEEF0"},horzLines:{visible:!1,color:e?"#222222":"#EBEEF0"}}}),d.value.applyOptions({topColor:e?"#2E65F62c":"#0037B72c",bottomColor:e?"#2E65F600":"#0037B700",lineColor:e?"#2E65F6":"#0037B7"})}});const S=async(e=5,a=200)=>{for(let n=0;n<e;n++){if(await nextTick(),t.propstsym&&Object.keys(t.propstsym).length>0){r.value=t.propstsym;const e=y(t.propstsym);e&&(f.value=e)}if(o.value){const e=o.value;if(e.offsetWidth>0&&e.offsetHeight>0&&t.propstsym&&Object.keys(t.propstsym).length>0&&!g.value)return await k(!0),!0}n<e-1&&await new Promise(e=>setTimeout(e,a))}return!1};return onMounted(async()=>{window.addEventListener("web-scoketConn",C),S()}),onBeforeUnmount(()=>{h.value=!1,g.value=!1,v.value&&(v.value.abort(),v.value=null),c.value&&(c.value.remove(),c.value=null),d.value=null,window.removeEventListener("web-scoketConn",C),f.value=null,m.value=!1}),(e,t)=>(openBlock(),createElementBlock("div",null,[n.value?(openBlock(),createBlock(VProgressLinear,{key:0,color:"primary",indeterminate:"",rounded:""})):createCommentVNode("",!0),createBaseVNode("div",{ref_key:"chartContainer",ref:o,id:"containerlw",class:"chart-container mt-4 mb-2"},null,512),createBaseVNode("div",null,[createVNode(VChipGroup,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),t[1]||(t[1]=e=>w(i.value))],mandatory:"","active-class":"primary--text",class:""},{default:withCtx(()=>[createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[2]||(t[2]=[createTextVNode("1D",-1)])]),_:1}),createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("1W",-1)])]),_:1}),createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[4]||(t[4]=[createTextVNode("1M",-1)])]),_:1}),createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[5]||(t[5]=[createTextVNode("1Y",-1)])]),_:1}),createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[6]||(t[6]=[createTextVNode("YTD",-1)])]),_:1}),createVNode(VChip,{variant:"outlined",size:"small"},{default:withCtx(()=>[...t[7]||(t[7]=[createTextVNode("MAX",-1)])]),_:1})]),_:1},8,["modelValue"])])]))}},LightweightChart=_export_sfc(_sfc_main$I,[["__scopeId","data-v-213271c0"]]),_sfc_main$H={__name:"DbLayout",setup:e=>(e,t)=>{const a=resolveComponent("router-view");return openBlock(),createElementBlock("div",null,[createVNode(a)])}},_sfc_main$G={__name:"DashBoard",setup:e=>(e,t)=>{const a=resolveComponent("router-view");return openBlock(),createElementBlock("div",null,[createVNode(a)])}},_imports_0$6="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M90.0719%2049.7871C89.5156%2048.9418%2088.6047%2048.4371%2087.6375%2048.4371H84.3391C83.5156%2028.1246%2067.0297%2012.498%2046.8766%2012.498C26.1984%2012.498%209.375%2029.3215%209.375%2049.9996C9.375%2070.6777%2026.1984%2087.5012%2046.8766%2087.5012C56.6688%2087.5012%2065.9328%2083.7512%2072.9641%2076.9402L70.7906%2074.6934C64.3453%2080.9371%2055.8516%2084.3762%2046.8766%2084.3762C27.9219%2084.3762%2012.5%2068.9543%2012.5%2049.9996C12.5%2031.0449%2027.9219%2015.623%2046.8766%2015.623C65.3078%2015.623%2080.3922%2031.2496%2081.2125%2048.4371H77.9922C77.025%2048.4371%2076.1141%2048.9418%2075.5563%2049.7871C74.9359%2050.7324%2074.8281%2051.9699%2075.2797%2053.0199L78.8234%2061.2746C79.5609%2062.9934%2081.0891%2064.0605%2082.8141%2064.0605C84.5391%2064.0605%2086.0672%2062.9918%2086.8047%2061.2746L90.3484%2053.0199C90.8%2051.9715%2090.6937%2050.7324%2090.0719%2049.7871ZM87.4766%2051.7887L83.9328%2060.0434C83.4437%2061.1793%2082.1844%2061.1793%2081.6953%2060.0434L78.1516%2051.7887C78.1156%2051.7012%2078.1266%2051.6168%2078.1422%2051.5621H87.4875C87.5047%2051.6168%2087.5141%2051.7012%2087.4766%2051.7887Z'%20fill='%23CCCCCC'/%3e%3cpath%20d='M46.6625%2038.5064C47.2172%2038.8721%2047.875%2039.0596%2048.5359%2039.0596C48.9984%2039.0596%2049.4625%2038.9689%2049.8937%2038.783L58.15%2035.2392C59.8703%2034.5033%2060.9375%2032.9736%2060.9375%2031.2502C60.9375%2029.5267%2059.8687%2027.9971%2058.1516%2027.2596L49.8953%2023.7158C48.8469%2023.2658%2047.6078%2023.3705%2046.6641%2023.9924C45.8172%2024.5486%2045.3125%2025.458%2045.3125%2026.4267V29.7674C34.375%2030.5689%2026.5625%2039.3267%2026.5625%2050.0002C26.5625%2061.2002%2035.675%2070.3127%2046.875%2070.3127C58.075%2070.3127%2067.1875%2060.9377%2067.1875%2050.0002H64.0625C64.0625%2059.3752%2056.3516%2067.1877%2046.875%2067.1877C37.3984%2067.1877%2029.6875%2059.4767%2029.6875%2050.0002C29.6875%2041.0502%2035.9375%2033.6846%2045.3125%2032.8908V36.0721C45.3125%2037.0408%2045.8172%2037.9502%2046.6625%2038.5064ZM48.4375%2026.5768C48.4375%2026.558%2048.5734%2026.5502%2048.6625%2026.5877L56.9188%2030.1314C57.4859%2030.3752%2057.8125%2030.783%2057.8125%2031.2502C57.8125%2031.7174%2057.4859%2032.1252%2056.9188%2032.3689L48.6625%2035.9127C48.5734%2035.9486%2048.4375%2035.9408%2048.4375%2035.9221V26.5768Z'%20fill='%23CCCCCC'/%3e%3cpath%20d='M46.875%2043.75C45.2174%2043.75%2043.6277%2044.4085%2042.4556%2045.5806C41.2835%2046.7527%2040.625%2048.3424%2040.625%2050C40.625%2051.6576%2041.2835%2053.2473%2042.4556%2054.4194C43.6277%2055.5915%2045.2174%2056.25%2046.875%2056.25C48.5326%2056.25%2050.1223%2055.5915%2051.2944%2054.4194C52.4665%2053.2473%2053.125%2051.6576%2053.125%2050C53.125%2048.3424%2052.4665%2046.7527%2051.2944%2045.5806C50.1223%2044.4085%2048.5326%2043.75%2046.875%2043.75Z'%20fill='%23CCCCCC'/%3e%3c/svg%3e";function useRefs(){const e=ref$1([]);return onBeforeUpdate(()=>e.value=[]),{refs:e,updateRef:function(t,a){e.value[a]=t}}}const makeVPaginationProps=propsFactory({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1==0},totalVisible:[Number,String],firstIcon:{type:IconValue,default:"$first"},prevIcon:{type:IconValue,default:"$prev"},nextIcon:{type:IconValue,default:"$next"},lastIcon:{type:IconValue,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps({tag:"nav"}),...makeThemeProps(),...makeVariantProps({variant:"text"})},"VPagination"),VPagination=genericComponent()({name:"VPagination",props:makeVPaginationProps(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=useProxiedModel(e,"modelValue"),{t:n,n:i}=useLocale(),{isRtl:l}=useRtl(),{themeClasses:s}=provideTheme(e),{width:c}=useDisplay(),d=shallowRef(-1);provideDefaults(void 0,{scoped:!0});const{resizeRef:u}=useResizeObserver(e=>{if(!e.length)return;const{target:t,contentRect:a}=e[0],o=t.querySelector(".v-pagination__list > *");if(!o)return;const r=a.width,n=o.offsetWidth+2*parseFloat(getComputedStyle(o).marginRight);d.value=v(r,n)}),p=computed(()=>parseInt(e.length,10)),h=computed(()=>parseInt(e.start,10)),m=computed(()=>null!=e.totalVisible?parseInt(e.totalVisible,10):d.value>=0?d.value:v(c.value,58));function v(t,a){const o=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((t-a*o)/a).toFixed(2))))}const f=computed(()=>{if(p.value<=0||isNaN(p.value)||p.value>Number.MAX_SAFE_INTEGER)return[];if(m.value<=0)return[];if(1===m.value)return[r.value];if(p.value<=m.value)return createRange(p.value,h.value);const t=m.value%2==0,a=t?m.value/2:Math.floor(m.value/2),o=t?a:a+1,n=p.value-a;if(o-r.value>=0)return[...createRange(Math.max(1,m.value-1),h.value),e.ellipsis,p.value];if(r.value-n>=(t?1:0)){const t=m.value-1,a=p.value-t+h.value;return[h.value,e.ellipsis,...createRange(t,a)]}{const t=Math.max(1,m.value-2),a=1===t?r.value:r.value-Math.ceil(t/2)+h.value;return[h.value,e.ellipsis,...createRange(t,a),e.ellipsis,p.value]}});function g(e,t,a){e.preventDefault(),r.value=t,a&&o(a,t)}const{refs:y,updateRef:_}=useRefs();provideDefaults({VPaginationBtn:{color:toRef(()=>e.color),border:toRef(()=>e.border),density:toRef(()=>e.density),size:toRef(()=>e.size),variant:toRef(()=>e.variant),rounded:toRef(()=>e.rounded),elevation:toRef(()=>e.elevation)}});const b=computed(()=>f.value.map((t,a)=>{const o=e=>_(e,a);if("string"==typeof t)return{isActive:!1,key:`ellipsis-${a}`,page:t,props:{ref:o,ellipsis:!0,icon:!0,disabled:!0}};{const a=t===r.value;return{isActive:a,key:t,page:i(t),props:{ref:o,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:a?e.activeColor:e.color,"aria-current":a,"aria-label":n(a?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:e=>g(e,t)}}}})),w=computed(()=>{const t=!!e.disabled||r.value<=h.value,a=!!e.disabled||r.value>=h.value+p.value-1;return{first:e.showFirstLastPage?{icon:l.value?e.lastIcon:e.firstIcon,onClick:e=>g(e,h.value,"first"),disabled:t,"aria-label":n(e.firstAriaLabel),"aria-disabled":t}:void 0,prev:{icon:l.value?e.nextIcon:e.prevIcon,onClick:e=>g(e,r.value-1,"prev"),disabled:t,"aria-label":n(e.previousAriaLabel),"aria-disabled":t},next:{icon:l.value?e.prevIcon:e.nextIcon,onClick:e=>g(e,r.value+1,"next"),disabled:a,"aria-label":n(e.nextAriaLabel),"aria-disabled":a},last:e.showFirstLastPage?{icon:l.value?e.firstIcon:e.lastIcon,onClick:e=>g(e,h.value+p.value-1,"last"),disabled:a,"aria-label":n(e.lastAriaLabel),"aria-disabled":a}:void 0}});function x(){var e;const t=r.value-h.value;null==(e=y.value[t])||e.$el.focus()}function V(t){t.key===keyValues.left&&!e.disabled&&r.value>Number(e.start)?(r.value=r.value-1,nextTick(x)):t.key===keyValues.right&&!e.disabled&&r.value<h.value+p.value-1&&(r.value=r.value+1,nextTick(x))}return useRender(()=>createVNode(e.tag,{ref:u,class:normalizeClass(["v-pagination",s.value,e.class]),style:normalizeStyle(e.style),role:"navigation","aria-label":n(e.ariaLabel),onKeydown:V,"data-test":"v-pagination-root"},{default:()=>[createBaseVNode("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&createBaseVNode("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(w.value.first):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},w.value.first),null)]),createBaseVNode("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(w.value.prev):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},w.value.prev),null)]),b.value.map((e,t)=>createBaseVNode("li",{key:e.key,class:normalizeClass(["v-pagination__item",{"v-pagination__item--is-active":e.isActive}]),"data-test":"v-pagination-item"},[a.item?a.item(e):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},e.props),{default:()=>[e.page]})])),createBaseVNode("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(w.value.next):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},w.value.next),null)]),e.showFirstLastPage&&createBaseVNode("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(w.value.last):createVNode(VBtn,mergeProps({_as:"VPaginationBtn"},w.value.last),null)])])]})),{}}}),makeDataTablePaginateProps=propsFactory({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),VDataTablePaginationSymbol=Symbol.for("vuetify:data-table-pagination");function createPagination(e){return{page:useProxiedModel(e,"page",void 0,e=>Number(e??1)),itemsPerPage:useProxiedModel(e,"itemsPerPage",void 0,e=>Number(e??10))}}function providePagination(e){const{page:t,itemsPerPage:a,itemsLength:o}=e,r=computed(()=>-1===a.value?0:a.value*(t.value-1)),n=computed(()=>-1===a.value?o.value:Math.min(o.value,r.value+a.value)),i=computed(()=>-1===a.value||0===o.value?1:Math.ceil(o.value/a.value));watch([t,i],()=>{t.value>i.value&&(t.value=i.value)});const l={page:t,itemsPerPage:a,startIndex:r,stopIndex:n,pageCount:i,itemsLength:o,nextPage:function(){t.value=clamp(t.value+1,1,i.value)},prevPage:function(){t.value=clamp(t.value-1,1,i.value)},setPage:function(e){t.value=clamp(e,1,i.value)},setItemsPerPage:function(e){a.value=e,t.value=1}};return provide(VDataTablePaginationSymbol,l),l}function usePagination(){const e=inject(VDataTablePaginationSymbol);if(!e)throw new Error("Missing pagination!");return e}function usePaginatedItems(e){const t=getCurrentInstance("usePaginatedItems"),{items:a,startIndex:o,stopIndex:r,itemsPerPage:n}=e,i=computed(()=>n.value<=0?a.value:a.value.slice(o.value,r.value));return watch(i,e=>{t.emit("update:currentItems",e)},{immediate:!0}),{paginatedItems:i}}const makeVDataTableFooterProps=propsFactory({prevIcon:{type:IconValue,default:"$prev"},nextIcon:{type:IconValue,default:"$next"},firstIcon:{type:IconValue,default:"$first"},lastIcon:{type:IconValue,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),VDataTableFooter=genericComponent()({name:"VDataTableFooter",props:makeVDataTableFooterProps(),setup(e,t){let{slots:a}=t;const{t:o}=useLocale(),{page:r,pageCount:n,startIndex:i,stopIndex:l,itemsLength:s,itemsPerPage:c,setItemsPerPage:d}=usePagination(),u=computed(()=>e.itemsPerPageOptions.map(e=>"number"==typeof e?{value:e,title:-1===e?o("$vuetify.dataFooter.itemsPerPageAll"):String(e)}:{...e,title:isNaN(Number(e.title))?o(e.title):e.title}));return useRender(()=>{var t;const p=VPagination.filterProps(e);return createBaseVNode("div",{class:"v-data-table-footer"},[null==(t=a.prepend)?void 0:t.call(a),createBaseVNode("div",{class:"v-data-table-footer__items-per-page"},[createBaseVNode("span",{"aria-label":o(e.itemsPerPageText)},[o(e.itemsPerPageText)]),createVNode(VSelect,{items:u.value,modelValue:c.value,"onUpdate:modelValue":e=>d(Number(e)),density:"compact",variant:"outlined",hideDetails:!0},null)]),createBaseVNode("div",{class:"v-data-table-footer__info"},[createBaseVNode("div",null,[o(e.pageText,s.value?i.value+1:0,l.value,s.value)])]),createBaseVNode("div",{class:"v-data-table-footer__pagination"},[createVNode(VPagination,mergeProps({modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:n.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},p),null)])])}),{}}}),VDataTableColumn=defineFunctionalComponent({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const o=e.tag??"td",r="string"==typeof e.fixed?e.fixed:e.fixed?"start":"none";return createVNode(o,{class:normalizeClass(["v-data-table__td",{"v-data-table-column--fixed":"start"===r,"v-data-table-column--fixed-end":"end"===r,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:convertToUnit(e.height),width:convertToUnit(e.width),maxWidth:convertToUnit(e.maxWidth),left:"start"===r?convertToUnit(e.fixedOffset||null):void 0,right:"end"===r?convertToUnit(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?convertToUnit(e.indent):void 0}},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})}),makeDataTableHeaderProps=propsFactory({headers:Array},"DataTable-header"),VDataTableHeadersSymbol=Symbol.for("vuetify:data-table-headers"),defaultHeader={title:"",sortable:!1},defaultActionHeader={...defaultHeader,width:48};function priorityQueue(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({element:e,priority:0}));return{enqueue:(t,a)=>{let o=!1;for(let r=0;r<e.length;r++){if(e[r].priority>a){e.splice(r,0,{element:t,priority:a}),o=!0;break}}o||e.push({element:t,priority:a})},size:()=>e.length,count:()=>{let t=0;if(!e.length)return 0;const a=Math.floor(e[0].priority);for(let o=0;o<e.length;o++)Math.floor(e[o].priority)===a&&(t+=1);return t},dequeue:()=>e.shift()}}function extractLeaves(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.children)for(const a of e.children)extractLeaves(a,t);else t.push(e);return t}function extractKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&extractKeys(a.children,t);return t}function getDefaultItem(e){if(e.key)return"data-table-group"===e.key?defaultHeader:["data-table-expand","data-table-select"].includes(e.key)?defaultActionHeader:void 0}function getDepth(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.children?Math.max(t,...e.children.map(e=>getDepth(e,t+1))):t}function parseFixedColumns(e){let t=!1;function a(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";if(e)if("none"!==r&&(e.fixed=r),!0===e.fixed&&(e.fixed="start"),e.fixed===o)if(e.children)if("start"===o)for(let t=e.children.length-1;t>=0;t--)a(e.children[t],o,o);else for(let t=0;t<e.children.length;t++)a(e.children[t],o,o);else t||"start"!==o?t||"end"!==o?isNaN(Number(e.width))?consoleError(`Multiple fixed columns should have a static width (key: ${e.key})`):e.minWidth=Math.max(Number(e.width)||0,Number(e.minWidth)||0):e.firstFixedEnd=!0:e.lastFixed=!0,t=!0;else if(e.children)if("start"===o)for(let t=e.children.length-1;t>=0;t--)a(e.children[t],o);else for(let t=0;t<e.children.length;t++)a(e.children[t],o);else t=!1}for(let n=e.length-1;n>=0;n--)a(e[n],"start");for(let n=0;n<e.length;n++)a(e[n],"end");let o=0;for(let n=0;n<e.length;n++)o=setFixedOffset(e[n],o);let r=0;for(let n=e.length-1;n>=0;n--)r=setFixedEndOffset(e[n],r)}function setFixedOffset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=setFixedOffset(a,t)}else e.fixed&&"end"!==e.fixed&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function setFixedEndOffset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=setFixedEndOffset(a,t)}else"end"===e.fixed&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function parse(e,t){const a=[];let o=0;const r=priorityQueue(e);for(;r.size()>0;){let e=r.count();const n=[];let i=1;for(;e>0;){const{element:a,priority:l}=r.dequeue(),s=t-o-getDepth(a);if(n.push({...a,rowspan:s??1,colspan:a.children?extractLeaves(a).length:1}),a.children)for(const e of a.children){const t=l%1+i/Math.pow(10,o+2);r.enqueue(e,o+s+t)}i+=1,e-=1}o+=1,a.push(n)}return{columns:e.map(e=>extractLeaves(e)).flat(),headers:a}}function convertToInternalHeaders(e){const t=[];for(const a of e){const e={...getDefaultItem(a),...a},o=e.key??("string"==typeof e.value?e.value:null),r=e.value??o??null,n={...e,key:o,value:r,sortable:e.sortable??(null!=e.key||!!e.sort),children:e.children?convertToInternalHeaders(e.children):void 0};t.push(n)}return t}function createHeaders(e,t){const a=ref$1([]),o=ref$1([]),r=ref$1({}),n=ref$1({}),i=ref$1({});watchEffect(()=>{var l,s,c;const d=(e.headers||Object.keys(e.items[0]??{}).map(e=>({key:e,title:capitalize(e)}))).slice(),u=extractKeys(d);(null==(l=null==t?void 0:t.groupBy)?void 0:l.value.length)&&!u.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(null==(s=null==t?void 0:t.showSelect)?void 0:s.value)&&!u.has("data-table-select")&&d.unshift({key:"data-table-select"}),(null==(c=null==t?void 0:t.showExpand)?void 0:c.value)&&!u.has("data-table-expand")&&d.push({key:"data-table-expand"});const p=convertToInternalHeaders(d);parseFixedColumns(p);const h=Math.max(...p.map(e=>getDepth(e)))+1,m=parse(p,h);a.value=m.headers,o.value=m.columns;const v=m.headers.flat(1);for(const e of v)e.key&&(e.sortable&&(e.sort&&(r.value[e.key]=e.sort),e.sortRaw&&(n.value[e.key]=e.sortRaw)),e.filter&&(i.value[e.key]=e.filter))});const l={headers:a,columns:o,sortFunctions:r,sortRawFunctions:n,filterFunctions:i};return provide(VDataTableHeadersSymbol,l),l}function useHeaders(){const e=inject(VDataTableHeadersSymbol);if(!e)throw new Error("Missing headers!");return e}const singleSelectStrategy={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:o}=e;return new Set(o?[null==(t=a[0])?void 0:t.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},pageSelectStrategy={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:o}=e;for(const r of t)a?o.add(r.value):o.delete(r.value);return o},selectAll:e=>{let{value:t,currentPage:a,selected:o}=e;return pageSelectStrategy.select({items:a,value:t,selected:o})}},allSelectStrategy={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:o}=e;for(const r of t)a?o.add(r.value):o.delete(r.value);return o},selectAll:e=>{let{value:t,allItems:a,selected:o}=e;return allSelectStrategy.select({items:a,value:t,selected:o})}},makeDataTableSelectProps=propsFactory({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:deepEqual$1}},"DataTable-select"),VDataTableSelectionSymbol=Symbol.for("vuetify:data-table-selection");function provideSelection(e,t){let{allItems:a,currentPage:o}=t;const r=useProxiedModel(e,"modelValue",e.modelValue,t=>new Set(wrapInArray(t).map(t=>{var o;return(null==(o=a.value.find(a=>e.valueComparator(t,a.value)))?void 0:o.value)??t})),e=>[...e.values()]),n=computed(()=>a.value.filter(e=>e.selectable)),i=computed(()=>o.value.filter(e=>e.selectable)),l=computed(()=>{if("object"==typeof e.selectStrategy)return e.selectStrategy;switch(e.selectStrategy){case"single":return singleSelectStrategy;case"all":return allSelectStrategy;default:return pageSelectStrategy}}),s=shallowRef(null);function c(e){return wrapInArray(e).every(e=>r.value.has(e.value))}function d(e,t){const a=l.value.select({items:e,value:t,selected:new Set(r.value)});r.value=a}const u=computed(()=>r.value.size>0),p=computed(()=>{const e=l.value.allSelected({allItems:n.value,currentPage:i.value});return!!e.length&&c(e)}),h={toggleSelect:function(t,a,r){const n=[];if(a=a??o.value.findIndex(e=>e.value===t.value),"single"!==e.selectStrategy&&(null==r?void 0:r.shiftKey)&&null!==s.value){const[e,t]=[s.value,a].sort((e,t)=>e-t);n.push(...o.value.slice(e,t+1).filter(e=>e.selectable))}else n.push(t),s.value=a;d(n,!c([t]))},select:d,selectAll:function(e){const t=l.value.selectAll({value:e,allItems:n.value,currentPage:i.value,selected:new Set(r.value)});r.value=t},isSelected:c,isSomeSelected:function(e){return wrapInArray(e).some(e=>r.value.has(e.value))},someSelected:u,allSelected:p,showSelectAll:toRef(()=>l.value.showSelectAll),lastSelectedIndex:s,selectStrategy:l};return provide(VDataTableSelectionSymbol,h),h}function useSelection(){const e=inject(VDataTableSelectionSymbol);if(!e)throw new Error("Missing selection!");return e}const makeDataTableSortProps=propsFactory({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),VDataTableSortSymbol=Symbol.for("vuetify:data-table-sort");function createSort(e){return{sortBy:useProxiedModel(e,"sortBy"),mustSort:toRef(()=>e.mustSort),multiSort:toRef(()=>e.multiSort)}}function provideSort(e){const{sortBy:t,mustSort:a,multiSort:o,page:r}=e;const n={sortBy:t,toggleSort:e=>{if(null==e.key)return;let n=t.value.map(e=>({...e}))??[];const i=n.find(t=>t.key===e.key);i?"desc"===i.order?a.value&&1===n.length?i.order="asc":n=n.filter(t=>t.key!==e.key):i.order="desc":o.value?n.push({key:e.key,order:"asc"}):n=[{key:e.key,order:"asc"}],t.value=n,r&&(r.value=1)},isSorted:function(e){return!!t.value.find(t=>t.key===e.key)}};return provide(VDataTableSortSymbol,n),n}function useSort(){const e=inject(VDataTableSortSymbol);if(!e)throw new Error("Missing sort!");return e}function useSortedItems(e,t,a,o){const r=useLocale();return{sortedItems:computed(()=>{var n,i;return a.value.length?sortItems(t.value,a.value,r.current.value,{transform:null==o?void 0:o.transform,sortFunctions:{...e.customKeySort,...null==(n=null==o?void 0:o.sortFunctions)?void 0:n.value},sortRawFunctions:null==(i=null==o?void 0:o.sortRawFunctions)?void 0:i.value}):t.value})}}function sortItems(e,t,a,o){const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(e=>[e,(null==o?void 0:o.transform)?o.transform(e):e]).sort((e,a)=>{var n,i;for(let l=0;l<t.length;l++){let s=!1;const c=t[l].key,d=t[l].order??"asc";if(!1===d)continue;let u=getObjectValueByPath(e[1],c),p=getObjectValueByPath(a[1],c),h=e[0].raw,m=a[0].raw;if("desc"===d&&([u,p]=[p,u],[h,m]=[m,h]),null==(n=null==o?void 0:o.sortRawFunctions)?void 0:n[c]){const e=o.sortRawFunctions[c](h,m);if(null==e)continue;if(s=!0,e)return e}if(null==(i=null==o?void 0:o.sortFunctions)?void 0:i[c]){const e=o.sortFunctions[c](u,p);if(null==e)continue;if(s=!0,e)return e}if(!s&&(u instanceof Date&&p instanceof Date&&(u=u.getTime(),p=p.getTime()),[u,p]=[u,p].map(e=>null!=e?e.toString().toLocaleLowerCase():e),u!==p))return isEmpty$1(u)&&isEmpty$1(p)?0:isEmpty$1(u)?-1:isEmpty$1(p)?1:isNaN(u)||isNaN(p)?r.compare(u,p):Number(u)-Number(p)}return 0}).map(e=>{let[t]=e;return t})}const makeVDataTableHeadersProps=propsFactory({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:IconValue,default:"$sortAsc"},sortDescIcon:{type:IconValue,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...makeDensityProps(),...makeDisplayProps(),...makeLoaderProps()},"VDataTableHeaders"),VDataTableHeaders=genericComponent()({name:"VDataTableHeaders",props:makeVDataTableHeadersProps(),setup(e,t){let{slots:a}=t;const{t:o}=useLocale(),{toggleSort:r,sortBy:n,isSorted:i}=useSort(),{someSelected:l,allSelected:s,selectAll:c,showSelectAll:d}=useSelection(),{columns:u,headers:p}=useHeaders(),{loaderClasses:h}=useLoader(e);function m(t,a){if(!e.sticky&&!e.fixedHeader&&!t.fixed)return;const o="string"==typeof t.fixed?t.fixed:t.fixed?"start":"none";return{position:"sticky",left:"start"===o?convertToUnit(t.fixedOffset):void 0,right:"end"===o?convertToUnit(t.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${a})`:void 0}}function v(t){const a=n.value.find(e=>e.key===t.key);return a?"asc"===a.order?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:f,backgroundColorStyles:g}=useBackgroundColor(()=>e.color),{displayClasses:y,mobile:_}=useDisplay(e),b=computed(()=>({headers:p.value,columns:u.value,toggleSort:r,isSorted:i,sortBy:n.value,someSelected:l.value,allSelected:s.value,selectAll:c,getSortIcon:v})),w=computed(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},y.value,h.value]),x=t=>{let{column:o,x:u,y:p}=t;const h="data-table-select"===o.key||"data-table-expand"===o.key,y="data-table-group"===o.key&&0===o.width&&!o.title,_=mergeProps(e.headerProps??{},o.headerProps??{});return createVNode(VDataTableColumn,mergeProps({tag:"th",align:o.align,class:[{"v-data-table__th--sortable":o.sortable&&!e.disableSort,"v-data-table__th--sorted":i(o),"v-data-table__th--fixed":o.fixed},...w.value],style:{width:convertToUnit(o.width),minWidth:convertToUnit(o.minWidth),maxWidth:convertToUnit(o.maxWidth),...m(o,p)},colspan:o.colspan,rowspan:o.rowspan,fixed:o.fixed,nowrap:o.nowrap,lastFixed:o.lastFixed,firstFixedEnd:o.firstFixedEnd,noPadding:h,empty:y,tabindex:o.sortable?0:void 0,onClick:o.sortable?()=>r(o):void 0,onKeydown:o.sortable?t=>function(t,a){"Enter"!==t.key||e.disableSort||r(a)}(t,o):void 0},_),{default:()=>{var t;const u=`header.${o.key}`,p={column:o,selectAll:c,isSorted:i,toggleSort:r,sortBy:n.value,someSelected:l.value,allSelected:s.value,getSortIcon:v};return a[u]?a[u](p):y?"":"data-table-select"===o.key?(null==(t=a["header.data-table-select"])?void 0:t.call(a,p))??(d.value&&createVNode(VCheckboxBtn,{density:e.density,modelValue:s.value,indeterminate:l.value&&!s.value,"onUpdate:modelValue":c},null)):createBaseVNode("div",{class:"v-data-table-header__content"},[createBaseVNode("span",null,[o.title]),o.sortable&&!e.disableSort&&createVNode(VIcon,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(o)},null),e.multiSort&&i(o)&&createBaseVNode("div",{key:"badge",class:normalizeClass(["v-data-table-header__sort-badge",...f.value]),style:normalizeStyle(g.value)},[n.value.findIndex(e=>e.key===o.key)+1])])}})},V=()=>{const t=computed(()=>u.value.filter(t=>(null==t?void 0:t.sortable)&&!e.disableSort)),a=computed(()=>{if(null!=u.value.find(e=>"data-table-select"===e.key))return s.value?"$checkboxOn":l.value?"$checkboxIndeterminate":"$checkboxOff"});return createVNode(VDataTableColumn,mergeProps({tag:"th",class:[...w.value],colspan:p.value.length+1},e.headerProps),{default:()=>[createBaseVNode("div",{class:"v-data-table-header__content"},[createVNode(VSelect,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:t.value,label:o("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>n.value=[],appendIcon:a.value,"onClick:append":()=>c(!s.value)},{chip:e=>{var t;return createVNode(VChip,{onClick:(null==(t=e.item.raw)?void 0:t.sortable)?()=>r(e.item.raw):void 0,onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},{default:()=>[e.item.title,createVNode(VIcon,{class:normalizeClass(["v-data-table__td-sort-icon",i(e.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:v(e.item.raw),size:"small"},null)]})}})])]})};useRender(()=>_.value?createBaseVNode("tr",null,[createVNode(V,null,null)]):createBaseVNode(Fragment,null,[a.headers?a.headers(b.value):p.value.map((e,t)=>createBaseVNode("tr",null,[e.map((e,a)=>createVNode(x,{column:e,x:a,y:t},null))])),e.loading&&createBaseVNode("tr",{class:"v-data-table-progress"},[createBaseVNode("th",{colspan:u.value.length},[createVNode(LoaderSlot,{name:"v-data-table-progress",absolute:!0,active:!0,color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),makeDataTableGroupProps=propsFactory({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),VDataTableGroupSymbol=Symbol.for("vuetify:data-table-group");function createGroupBy(e){return{groupBy:useProxiedModel(e,"groupBy")}}function provideGroupBy(e){const{disableSort:t,groupBy:a,sortBy:o}=e,r=ref$1(new Set);function n(e){return r.value.has(e.id)}const i={sortByWithGroups:computed(()=>a.value.map(e=>({...e,order:e.order??!1})).concat((null==t?void 0:t.value)?[]:o.value)),toggleGroup:function(e){const t=new Set(r.value);n(e)?t.delete(e.id):t.add(e.id),r.value=t},opened:r,groupBy:a,extractRows:function(e){return function e(t){const a=[];for(const o of t.items)"type"in o&&"group"===o.type?a.push(...e(o)):a.push(o);return[...new Set(a)]}({items:e})},isGroupOpen:n};return provide(VDataTableGroupSymbol,i),i}function useGroupBy(){const e=inject(VDataTableGroupSymbol);if(!e)throw new Error("Missing group!");return e}function groupItemsByProperty(e,t){if(!e.length)return[];const a=new Map;for(const o of e){const e=getObjectValueByPath(o.raw,t);a.has(e)||a.set(e,[]),a.get(e).push(o)}return a}function groupItems(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root";if(!t.length)return[];const r=groupItemsByProperty(e,t[0]),n=[],i=t.slice(1);return r.forEach((e,r)=>{const l=t[0],s=`${o}_${l}_${r}`;n.push({depth:a,id:s,key:l,value:r,items:i.length?groupItems(e,i,a+1,s):e,type:"group"})}),n}function flattenItems(e,t,a){const o=[];for(const r of e)"type"in r&&"group"===r.type?(null!=r.value&&o.push(r),(t.has(r.id)||null==r.value)&&(o.push(...flattenItems(r.items,t,a)),a&&o.push({...r,type:"group-summary"}))):o.push(r);return o}function useGroupedItems(e,t,a,o){return{flatItems:computed(()=>{if(!t.value.length)return e.value;return flattenItems(groupItems(e.value,t.value.map(e=>e.key)),a.value,toValue(o))})}}const makeVDataTableGroupHeaderRowProps=propsFactory({item:{type:Object,required:!0},groupCollapseIcon:{type:IconValue,default:"$tableGroupCollapse"},groupExpandIcon:{type:IconValue,default:"$tableGroupExpand"},...makeDensityProps()},"VDataTableGroupHeaderRow"),VDataTableGroupHeaderRow=genericComponent()({name:"VDataTableGroupHeaderRow",props:makeVDataTableGroupHeaderRowProps(),setup(e,t){let{slots:a}=t;const{isGroupOpen:o,toggleGroup:r,extractRows:n}=useGroupBy(),{isSelected:i,isSomeSelected:l,select:s}=useSelection(),{columns:c}=useHeaders(),d=computed(()=>n([e.item])),u=toRef(()=>c.value.length-(c.value.some(e=>"data-table-select"===e.key)?1:0));return()=>createBaseVNode("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[c.value.map(t=>{var n,c;if("data-table-group"===t.key){const t=o(e.item)?e.groupCollapseIcon:e.groupExpandIcon,i=()=>r(e.item);return(null==(n=a["data-table-group"])?void 0:n.call(a,{item:e.item,count:d.value.length,props:{icon:t,onClick:i}}))??createVNode(VDataTableColumn,{class:"v-data-table-group-header-row__column",colspan:u.value},{default:()=>[createVNode(VBtn,{size:"small",variant:"text",icon:t,onClick:i},null),createBaseVNode("span",null,[e.item.value]),createBaseVNode("span",null,[createTextVNode("("),d.value.length,createTextVNode(")")])]})}if("data-table-select"===t.key){const t=i(d.value),o=l(d.value)&&!t,r=e=>s(d.value,e);return(null==(c=a["data-table-select"])?void 0:c.call(a,{props:{modelValue:t,indeterminate:o,"onUpdate:modelValue":r}}))??createVNode(VDataTableColumn,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[createVNode(VCheckboxBtn,{density:e.density,modelValue:t,indeterminate:o,"onUpdate:modelValue":r},null)]})}return""})])}}),makeDataTableExpandProps=propsFactory({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),VDataTableExpandedKey=Symbol.for("vuetify:datatable:expanded");function provideExpanded(e){const t=toRef(()=>e.expandOnClick),a=useProxiedModel(e,"expanded",e.expanded,e=>new Set(e),e=>[...e.values()]);function o(e,t){const o=new Set(a.value),r=toRaw(e.value);if(t)o.add(r);else{const e=[...a.value].find(e=>toRaw(e)===r);o.delete(e)}a.value=o}function r(e){const t=toRaw(e.value);return[...a.value].some(e=>toRaw(e)===t)}const n={expand:o,expanded:a,expandOnClick:t,isExpanded:r,toggleExpand:function(e){o(e,!r(e))}};return provide(VDataTableExpandedKey,n),n}function useExpanded(){const e=inject(VDataTableExpandedKey);if(!e)throw new Error("foo");return e}const makeVDataTableRowProps=propsFactory({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:IconValue,default:"$collapse"},expandIcon:{type:IconValue,default:"$expand"},onClick:EventProp(),onContextmenu:EventProp(),onDblclick:EventProp(),...makeDensityProps(),...makeDisplayProps()},"VDataTableRow"),VDataTableRow=genericComponent()({name:"VDataTableRow",props:makeVDataTableRowProps(),setup(e,t){let{slots:a}=t;const{displayClasses:o,mobile:r}=useDisplay(e,"v-data-table__tr"),{isSelected:n,toggleSelect:i,someSelected:l,allSelected:s,selectAll:c}=useSelection(),{isExpanded:d,toggleExpand:u}=useExpanded(),{toggleSort:p,sortBy:h,isSorted:m}=useSort(),{columns:v}=useHeaders();useRender(()=>createBaseVNode("tr",{class:normalizeClass(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},o.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&v.value.map((t,o)=>{const v=e.item,f=`item.${t.key}`,g=`header.${t.key}`,y={index:e.index,item:v.raw,internalItem:v,value:getObjectValueByPath(v.columns,t.key),column:t,isSelected:n,toggleSelect:i,isExpanded:d,toggleExpand:u},_={column:t,selectAll:c,isSorted:m,toggleSort:p,sortBy:h.value,someSelected:l.value,allSelected:s.value,getSortIcon:()=>""},b="function"==typeof e.cellProps?e.cellProps({index:y.index,item:y.item,internalItem:y.internalItem,value:y.value,column:t}):e.cellProps,w="function"==typeof t.cellProps?t.cellProps({index:y.index,item:y.item,internalItem:y.internalItem,value:y.value}):t.cellProps,x="data-table-select"===t.key||"data-table-expand"===t.key,V="data-table-group"===t.key&&0===t.width&&!t.title;return createVNode(VDataTableColumn,mergeProps({align:t.align,indent:t.intent,class:{"v-data-table__td--expanded-row":"data-table-expand"===t.key,"v-data-table__td--select-row":"data-table-select"===t.key},fixed:t.fixed,fixedOffset:t.fixedOffset,fixedEndOffset:t.fixedEndOffset,lastFixed:t.lastFixed,firstFixedEnd:t.firstFixedEnd,maxWidth:r.value?void 0:t.maxWidth,noPadding:x,empty:V,nowrap:t.nowrap,width:r.value?void 0:t.width},b,w),{default:()=>{var o,l,s,c;if("data-table-select"===t.key)return(null==(o=a["item.data-table-select"])?void 0:o.call(a,{...y,props:{disabled:!v.selectable,modelValue:n([v]),onClick:withModifiers(()=>i(v),["stop"])}}))??createVNode(VCheckboxBtn,{disabled:!v.selectable,density:e.density,modelValue:n([v]),onClick:withModifiers(t=>i(v,e.index,t),["stop"])},null);if("data-table-expand"===t.key)return(null==(l=a["item.data-table-expand"])?void 0:l.call(a,{...y,props:{icon:d(v)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:withModifiers(()=>u(v),["stop"])}}))??createVNode(VBtn,{icon:d(v)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:withModifiers(()=>u(v),["stop"])},null);if(a[f]&&!r.value)return a[f](y);const p=toDisplayString(y.value);return r.value?createBaseVNode(Fragment,null,[createBaseVNode("div",{class:"v-data-table__td-title"},[(null==(s=a[g])?void 0:s.call(a,_))??t.title]),createBaseVNode("div",{class:"v-data-table__td-value"},[(null==(c=a[f])?void 0:c.call(a,y))??p])]):p}})})]))}}),makeVDataTableRowsProps=propsFactory({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...pick(makeVDataTableRowProps(),["collapseIcon","expandIcon","density"]),...pick(makeVDataTableGroupHeaderRowProps(),["groupCollapseIcon","groupExpandIcon","density"]),...makeDisplayProps()},"VDataTableRows"),VDataTableRows=genericComponent()({name:"VDataTableRows",inheritAttrs:!1,props:makeVDataTableRowsProps(),setup(e,t){let{attrs:a,slots:o}=t;const{columns:r}=useHeaders(),{expandOnClick:n,toggleExpand:i,isExpanded:l}=useExpanded(),{isSelected:s,toggleSelect:c}=useSelection(),{toggleGroup:d,isGroupOpen:u}=useGroupBy(),{t:p}=useLocale(),{mobile:h}=useDisplay(e);return useRender(()=>{var t,m;const v=pick(e,["groupCollapseIcon","groupExpandIcon","density"]);return!e.loading||e.items.length&&!o.loading?e.loading||e.items.length||e.hideNoData?createBaseVNode(Fragment,null,[e.items.map((t,p)=>{var m,f;if("group"===t.type){const e={index:p,item:t,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:s,toggleSelect:c,toggleGroup:d,isGroupOpen:u};return o["group-header"]?o["group-header"](e):createVNode(VDataTableGroupHeaderRow,mergeProps({key:`group-header_${t.id}`,item:t},getPrefixedEventHandlers(a,":groupHeader",()=>e),v),o)}if("group-summary"===t.type){const e={index:p,item:t,columns:r.value,toggleGroup:d};return(null==(m=o["group-summary"])?void 0:m.call(o,e))??""}const g={index:p,item:t.raw,internalItem:t,columns:r.value,isExpanded:l,toggleExpand:i,isSelected:s,toggleSelect:c},y={...g,props:mergeProps({key:`item_${t.key??t.index}`,onClick:n.value?()=>{i(t)}:void 0,index:p,item:t,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:h.value},getPrefixedEventHandlers(a,":row",()=>g),"function"==typeof e.rowProps?e.rowProps({item:g.item,index:g.index,internalItem:g.internalItem}):e.rowProps)};return createBaseVNode(Fragment,{key:y.props.key},[o.item?o.item(y):createVNode(VDataTableRow,y.props,o),l(t)&&(null==(f=o["expanded-row"])?void 0:f.call(o,g))])})]):createBaseVNode("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[createBaseVNode("td",{colspan:r.value.length},[(null==(m=o["no-data"])?void 0:m.call(o))??p(e.noDataText)])]):createBaseVNode("tr",{class:"v-data-table-rows-loading",key:"loading"},[createBaseVNode("td",{colspan:r.value.length},[(null==(t=o.loading)?void 0:t.call(o))??p(e.loadingText)])])}),{}}}),makeVTableProps=propsFactory({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...makeComponentProps(),...makeDensityProps(),...makeTagProps(),...makeThemeProps()},"VTable"),VTable=genericComponent()({name:"VTable",props:makeVTableProps(),setup(e,t){let{slots:a,emit:o}=t;const{themeClasses:r}=provideTheme(e),{densityClasses:n}=useDensity(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":"even"===e.striped,"v-table--striped-odd":"odd"===e.striped},r.value,n.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var t,o,r;return[null==(t=a.top)?void 0:t.call(a),a.default?createBaseVNode("div",{class:"v-table__wrapper",style:{height:convertToUnit(e.height)}},[createBaseVNode("table",null,[a.default()])]):null==(o=a.wrapper)?void 0:o.call(a),null==(r=a.bottom)?void 0:r.call(a)]}})),{}}}),makeDataTableItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function transformItem$1(e,t,a,o){const r=e.returnObject?t:getPropertyFromItem(t,e.itemValue),n=getPropertyFromItem(t,e.itemSelectable,!0),i=o.reduce((e,a)=>(null!=a.key&&(e[a.key]=getPropertyFromItem(t,a.value)),e),{});return{type:"item",key:e.returnObject?getPropertyFromItem(t,e.itemValue):r,index:a,value:r,selectable:n,columns:i,raw:t}}function transformItems$1(e,t,a){return t.map((t,o)=>transformItem$1(e,t,o,a))}function useDataTableItems(e,t){return{items:computed(()=>transformItems$1(e,e.items,t.value))}}function useOptions(e){let{page:t,itemsPerPage:a,sortBy:o,groupBy:r,search:n}=e;const i=getCurrentInstance("VDataTable");let l=null;watch(()=>({page:t.value,itemsPerPage:a.value,sortBy:o.value,groupBy:r.value,search:n.value}),e=>{deepEqual$1(l,e)||(l&&l.search!==e.search&&(t.value=1),i.emit("update:options",e),l=e)},{deep:!0,immediate:!0})}const defaultFilter=(e,t,a)=>{if(null==e||null==t)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const o=[];let r=e.indexOf(t);for(;~r;)o.push([r,r+t.length]),r=e.indexOf(t,r+t.length);return o.length?o:-1};function normaliseMatch(e,t){if(null!=e&&"boolean"!=typeof e&&-1!==e)return"number"==typeof e?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const makeFilterProps=propsFactory({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function filterItems(e,t,a){var o;const r=[],n=(null==a?void 0:a.default)??defaultFilter,i=!!(null==a?void 0:a.filterKeys)&&wrapInArray(a.filterKeys),l=Object.keys((null==a?void 0:a.customKeyFilter)??{}).length;if(!(null==e?void 0:e.length))return r;let s=null;e:for(let c=0;c<e.length;c++){const[d,u=d]=wrapInArray(e[c]),p={},h={};let m=-1;if((t||l>0)&&!(null==a?void 0:a.noFilter)){let e=!1;if("object"==typeof d){if("divider"===d.type||"subheader"===d.type){"divider"===(null==s?void 0:s.type)&&"subheader"===d.type&&r.push(s),s={index:c,matches:{},type:d.type};continue}const v=i||Object.keys(u);e=v.length===l;for(const e of v){const r=getPropertyFromItem(u,e),i=null==(o=null==a?void 0:a.customKeyFilter)?void 0:o[e];if(m=i?i(r,t,d):n(r,t,d),-1!==m&&!1!==m)i?p[e]=normaliseMatch(m,t):h[e]=normaliseMatch(m,t);else if("every"===(null==a?void 0:a.filterMode))continue e}}else m=n(d,t,d),-1!==m&&!1!==m&&(h.title=normaliseMatch(m,t));const v=Object.keys(h).length,f=Object.keys(p).length;if(!v&&!f)continue;if("union"===(null==a?void 0:a.filterMode)&&f!==l&&!v)continue;if("intersection"===(null==a?void 0:a.filterMode)&&(f!==l||!v&&l>0&&!e))continue}s&&(r.push(s),s=null),r.push({index:c,matches:{...h,...p}})}return r}function useFilter(e,t,a,o){const r=shallowRef([]),n=shallowRef(new Map),i=computed(()=>(null==o?void 0:o.transform)?unref(t).map(e=>[e,o.transform(e)]):unref(t));return watchEffect(()=>{const l="function"==typeof a?a():unref(a),s="string"!=typeof l&&"number"!=typeof l?"":String(l),c=filterItems(i.value,s,{customKeyFilter:{...e.customKeyFilter,...unref(null==o?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=unref(t),u=[],p=new Map;c.forEach(e=>{let{index:t,matches:a}=e;const o=d[t];u.push(o),p.set(o.value,a)}),r.value=u,n.value=p}),{filteredItems:r,filteredMatches:n,getMatches:function(e){return n.value.get(e.value)}}}function highlightResult(e,t,a){return null!=a&&a.length?a.map((o,r)=>{const n=0===r?0:a[r-1][1],i=[createBaseVNode("span",{class:normalizeClass(`${e}__unmask`)},[t.slice(n,o[0])]),createBaseVNode("span",{class:normalizeClass(`${e}__mask`)},[t.slice(o[0],o[1])])];return r===a.length-1&&i.push(createBaseVNode("span",{class:normalizeClass(`${e}__unmask`)},[t.slice(o[1])])),createBaseVNode(Fragment,null,[i])}):t}const makeDataTableProps=propsFactory({...makeVDataTableRowsProps(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...makeDataTableExpandProps(),...makeDataTableGroupProps(),...makeDataTableHeaderProps(),...makeDataTableItemsProps(),...makeDataTableSelectProps(),...makeDataTableSortProps(),...makeVDataTableHeadersProps(),...makeVTableProps()},"DataTable"),makeVDataTableProps=propsFactory({...makeDataTablePaginateProps(),...makeDataTableProps(),...makeFilterProps(),...makeVDataTableFooterProps()},"VDataTable"),VDataTable=genericComponent()({name:"VDataTable",props:makeVDataTableProps(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:r}=createGroupBy(e),{sortBy:n,multiSort:i,mustSort:l}=createSort(e),{page:s,itemsPerPage:c}=createPagination(e),{disableSort:d}=toRefs(e),{columns:u,headers:p,sortFunctions:h,sortRawFunctions:m,filterFunctions:v}=createHeaders(e,{groupBy:r,showSelect:toRef(()=>e.showSelect),showExpand:toRef(()=>e.showExpand)}),{items:f}=useDataTableItems(e,u),g=toRef(()=>e.search),{filteredItems:y}=useFilter(e,f,g,{transform:e=>e.columns,customKeyFilter:v}),{toggleSort:_}=provideSort({sortBy:n,multiSort:i,mustSort:l,page:s}),{sortByWithGroups:b,opened:w,extractRows:x,isGroupOpen:V,toggleGroup:k}=provideGroupBy({groupBy:r,sortBy:n,disableSort:d}),{sortedItems:C}=useSortedItems(e,y,b,{transform:e=>({...e.raw,...e.columns}),sortFunctions:h,sortRawFunctions:m}),{flatItems:S}=useGroupedItems(C,r,w,()=>!!o["group-summary"]),N=computed(()=>S.value.length),{startIndex:T,stopIndex:B,pageCount:E,setItemsPerPage:I}=providePagination({page:s,itemsPerPage:c,itemsLength:N}),{paginatedItems:$}=usePaginatedItems({items:S,startIndex:T,stopIndex:B,itemsPerPage:c}),P=computed(()=>x($.value)),{isSelected:D,select:L,selectAll:R,toggleSelect:A,someSelected:O,allSelected:M}=provideSelection(e,{allItems:f,currentPage:P}),{isExpanded:F,toggleExpand:z}=provideExpanded(e);useOptions({page:s,itemsPerPage:c,sortBy:n,groupBy:r,search:g}),provideDefaults({VDataTableRows:{hideNoData:toRef(()=>e.hideNoData),noDataText:toRef(()=>e.noDataText),loading:toRef(()=>e.loading),loadingText:toRef(()=>e.loadingText)}});const H=computed(()=>({page:s.value,itemsPerPage:c.value,sortBy:n.value,pageCount:E.value,toggleSort:_,setItemsPerPage:I,someSelected:O.value,allSelected:M.value,isSelected:D,select:L,selectAll:R,toggleSelect:A,isExpanded:F,toggleExpand:z,isGroupOpen:V,toggleGroup:k,items:P.value.map(e=>e.raw),internalItems:P.value,groupedItems:$.value,columns:u.value,headers:p.value}));return useRender(()=>{const t=VDataTableFooter.filterProps(e),r=VDataTableHeaders.filterProps(e),n=VDataTableRows.filterProps(e),i=VTable.filterProps(e);return createVNode(VTable,mergeProps({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},i,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,H.value)},default:()=>{var t,i,l,s,c,d;return o.default?o.default(H.value):createBaseVNode(Fragment,null,[null==(t=o.colgroup)?void 0:t.call(o,H.value),!e.hideDefaultHeader&&createBaseVNode("thead",{key:"thead"},[createVNode(VDataTableHeaders,r,o)]),null==(i=o.thead)?void 0:i.call(o,H.value),!e.hideDefaultBody&&createBaseVNode("tbody",null,[null==(l=o["body.prepend"])?void 0:l.call(o,H.value),o.body?o.body(H.value):createVNode(VDataTableRows,mergeProps(a,n,{items:$.value}),o),null==(s=o["body.append"])?void 0:s.call(o,H.value)]),null==(c=o.tbody)?void 0:c.call(o,H.value),null==(d=o.tfoot)?void 0:d.call(o,H.value)])},bottom:()=>o.bottom?o.bottom(H.value):!e.hideDefaultFooter&&createBaseVNode(Fragment,null,[createVNode(VDivider,null,null),createVNode(VDataTableFooter,t,{prepend:o["footer.prepend"]})])})}),{}}}),makeVDataTableVirtualProps=propsFactory({...omit(makeDataTableProps(),["hideDefaultFooter"]),...makeDataTableGroupProps(),...makeVirtualProps(),...makeFilterProps()},"VDataTableVirtual"),VDataTableVirtual=genericComponent()({name:"VDataTableVirtual",props:makeVDataTableVirtualProps(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:r}=createGroupBy(e),{sortBy:n,multiSort:i,mustSort:l}=createSort(e),{disableSort:s}=toRefs(e),{columns:c,headers:d,filterFunctions:u,sortFunctions:p,sortRawFunctions:h}=createHeaders(e,{groupBy:r,showSelect:toRef(()=>e.showSelect),showExpand:toRef(()=>e.showExpand)}),{items:m}=useDataTableItems(e,c),v=toRef(()=>e.search),{filteredItems:f}=useFilter(e,m,v,{transform:e=>e.columns,customKeyFilter:u}),{toggleSort:g}=provideSort({sortBy:n,multiSort:i,mustSort:l}),{sortByWithGroups:y,opened:_,extractRows:b,isGroupOpen:w,toggleGroup:x}=provideGroupBy({groupBy:r,sortBy:n,disableSort:s}),{sortedItems:V}=useSortedItems(e,f,y,{transform:e=>({...e.raw,...e.columns}),sortFunctions:p,sortRawFunctions:h}),{flatItems:k}=useGroupedItems(V,r,_,()=>!!o["group-summary"]),C=computed(()=>b(k.value)),{isSelected:S,select:N,selectAll:T,toggleSelect:B,someSelected:E,allSelected:I}=provideSelection(e,{allItems:C,currentPage:C}),{isExpanded:$,toggleExpand:P}=provideExpanded(e),{containerRef:D,markerRef:L,paddingTop:R,paddingBottom:A,computedItems:O,handleItemResize:M,handleScroll:F,handleScrollend:z,calculateVisibleItems:H,scrollToIndex:q}=useVirtual(e,k),U=computed(()=>O.value.map(e=>e.raw));useOptions({sortBy:n,page:shallowRef(1),itemsPerPage:shallowRef(-1),groupBy:r,search:v}),provideDefaults({VDataTableRows:{hideNoData:toRef(()=>e.hideNoData),noDataText:toRef(()=>e.noDataText),loading:toRef(()=>e.loading),loadingText:toRef(()=>e.loadingText)}});const W=computed(()=>({sortBy:n.value,toggleSort:g,someSelected:E.value,allSelected:I.value,isSelected:S,select:N,selectAll:T,toggleSelect:B,isExpanded:$,toggleExpand:P,isGroupOpen:w,toggleGroup:x,items:C.value.map(e=>e.raw),internalItems:C.value,groupedItems:k.value,columns:c.value,headers:d.value}));return useRender(()=>{const t=VDataTableHeaders.filterProps(e),r=VDataTableRows.filterProps(e),n=VTable.filterProps(e);return createVNode(VTable,mergeProps({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},n,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,W.value)},wrapper:()=>{var n,i,l,s,d,u;return createBaseVNode("div",{ref:D,onScrollPassive:F,onScrollend:z,class:"v-table__wrapper",style:{height:convertToUnit(e.height)}},[createBaseVNode("table",null,[null==(n=o.colgroup)?void 0:n.call(o,W.value),!e.hideDefaultHeader&&createBaseVNode("thead",{key:"thead"},[createVNode(VDataTableHeaders,t,o)]),null==(i=o.thead)?void 0:i.call(o,W.value),!e.hideDefaultBody&&createBaseVNode("tbody",{key:"tbody"},[createBaseVNode("tr",{ref:L,style:{height:convertToUnit(R.value),border:0}},[createBaseVNode("td",{colspan:c.value.length,style:{height:0,border:0}},null)]),null==(l=o["body.prepend"])?void 0:l.call(o,W.value),createVNode(VDataTableRows,mergeProps(a,r,{items:U.value}),{...o,item:e=>createVNode(VVirtualScrollItem,{key:e.internalItem.index,renderless:!0,"onUpdate:height":t=>M(e.internalItem.index,t)},{default:t=>{var a;let{itemRef:r}=t;return(null==(a=o.item)?void 0:a.call(o,{...e,itemRef:r}))??createVNode(VDataTableRow,mergeProps(e.props,{ref:r,key:e.internalItem.index,index:e.internalItem.index}),o)}})}),null==(s=o["body.append"])?void 0:s.call(o,W.value),createBaseVNode("tr",{style:{height:convertToUnit(A.value),border:0}},[createBaseVNode("td",{colspan:c.value.length,style:{height:0,border:0}},null)])]),null==(d=o.tbody)?void 0:d.call(o,W.value),null==(u=o.tfoot)?void 0:u.call(o,W.value)])])},bottom:()=>{var e;return null==(e=o.bottom)?void 0:e.call(o,W.value)}})}),{calculateVisibleItems:H,scrollToIndex:q}}}),makeVDataTableServerProps=propsFactory({itemsLength:{type:[Number,String],required:!0},...makeDataTablePaginateProps(),...makeDataTableProps(),...makeVDataTableFooterProps()},"VDataTableServer"),VDataTableServer=genericComponent()({name:"VDataTableServer",props:makeVDataTableServerProps(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:r}=createGroupBy(e),{sortBy:n,multiSort:i,mustSort:l}=createSort(e),{page:s,itemsPerPage:c}=createPagination(e),{disableSort:d}=toRefs(e),u=computed(()=>parseInt(e.itemsLength,10)),{columns:p,headers:h}=createHeaders(e,{groupBy:r,showSelect:toRef(()=>e.showSelect),showExpand:toRef(()=>e.showExpand)}),{items:m}=useDataTableItems(e,p),{toggleSort:v}=provideSort({sortBy:n,multiSort:i,mustSort:l,page:s}),{opened:f,isGroupOpen:g,toggleGroup:y,extractRows:_}=provideGroupBy({groupBy:r,sortBy:n,disableSort:d}),{pageCount:b,setItemsPerPage:w}=providePagination({page:s,itemsPerPage:c,itemsLength:u}),{flatItems:x}=useGroupedItems(m,r,f,()=>!!o["group-summary"]),{isSelected:V,select:k,selectAll:C,toggleSelect:S,someSelected:N,allSelected:T}=provideSelection(e,{allItems:m,currentPage:m}),{isExpanded:B,toggleExpand:E}=provideExpanded(e),I=computed(()=>_(m.value));useOptions({page:s,itemsPerPage:c,sortBy:n,groupBy:r,search:toRef(()=>e.search)}),provide("v-data-table",{toggleSort:v,sortBy:n}),provideDefaults({VDataTableRows:{hideNoData:toRef(()=>e.hideNoData),noDataText:toRef(()=>e.noDataText),loading:toRef(()=>e.loading),loadingText:toRef(()=>e.loadingText)}});const $=computed(()=>({page:s.value,itemsPerPage:c.value,sortBy:n.value,pageCount:b.value,toggleSort:v,setItemsPerPage:w,someSelected:N.value,allSelected:T.value,isSelected:V,select:k,selectAll:C,toggleSelect:S,isExpanded:B,toggleExpand:E,isGroupOpen:g,toggleGroup:y,items:I.value.map(e=>e.raw),internalItems:I.value,groupedItems:x.value,columns:p.value,headers:h.value}));useRender(()=>{const t=VDataTableFooter.filterProps(e),r=VDataTableHeaders.filterProps(e),n=VDataTableRows.filterProps(e),i=VTable.filterProps(e);return createVNode(VTable,mergeProps({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},i,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,$.value)},default:()=>{var t,i,l,s,c,d;return o.default?o.default($.value):createBaseVNode(Fragment,null,[null==(t=o.colgroup)?void 0:t.call(o,$.value),!e.hideDefaultHeader&&createBaseVNode("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[createVNode(VDataTableHeaders,r,o)]),null==(i=o.thead)?void 0:i.call(o,$.value),!e.hideDefaultBody&&createBaseVNode("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[null==(l=o["body.prepend"])?void 0:l.call(o,$.value),o.body?o.body($.value):createVNode(VDataTableRows,mergeProps(a,n,{items:x.value}),o),null==(s=o["body.append"])?void 0:s.call(o,$.value)]),null==(c=o.tbody)?void 0:c.call(o,$.value),null==(d=o.tfoot)?void 0:d.call(o,$.value)])},bottom:()=>o.bottom?o.bottom($.value):!e.hideDefaultFooter&&createBaseVNode(Fragment,null,[createVNode(VDivider,null,null),createVNode(VDataTableFooter,t,{prepend:o["footer.prepend"]})])})})}});function useSticky(e){let{rootEl:t,isSticky:a,layoutItemStyles:o}=e;const r=shallowRef(!1),n=shallowRef(0),i=computed(()=>{const e="boolean"==typeof r.value?"top":r.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[e]:convertToUnit(n.value)}:{top:o.value.top}]});onMounted(()=>{watch(a,e=>{e?window.addEventListener("scroll",s,{passive:!0}):window.removeEventListener("scroll",s)},{immediate:!0})}),onBeforeUnmount(()=>{window.removeEventListener("scroll",s)});let l=0;function s(){const e=l>window.scrollY?"up":"down",a=t.value.getBoundingClientRect(),i=parseFloat(o.value.top??0),s=window.scrollY-Math.max(0,n.value-i),c=a.height+Math.max(n.value,i)-window.scrollY-window.innerHeight,d=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;a.height<window.innerHeight-i?(r.value="top",n.value=i):"up"===e&&"bottom"===r.value||"down"===e&&"top"===r.value?(n.value=window.scrollY+a.top-d,r.value=!0):"down"===e&&c<=0?(n.value=0,r.value="bottom"):"up"===e&&s<=0&&(d?"top"!==r.value&&(n.value=-s+d+i,r.value="top"):(n.value=a.top+s,r.value="top")),l=window.scrollY}return{isStuck:r,stickyStyles:i}}const HORIZON=100,HISTORY=20;function kineticEnergyToVelocity(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function calculateImpulseVelocity(e){if(e.length<2)return 0;if(2===e.length)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const o=kineticEnergyToVelocity(t),r=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);t+=(r-o)*Math.abs(r),a===e.length-1&&(t*=.5)}return 1e3*kineticEnergyToVelocity(t)}function useVelocity(){const e={};return{addMovement:function(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new CircularBuffer(HISTORY))).push([t.timeStamp,a])})},endTouch:function(t){Array.from(t.changedTouches).forEach(t=>{delete e[t.identifier]})},getVelocity:function(t){var a;const o=null==(a=e[t])?void 0:a.values().reverse();if(!o)throw new Error(`No samples for touch id ${t}`);const r=o[0],n=[],i=[];for(const e of o){if(r[0]-e[0]>HORIZON)break;n.push({t:e[0],d:e[1].clientX}),i.push({t:e[0],d:e[1].clientY})}return{x:calculateImpulseVelocity(n),y:calculateImpulseVelocity(i),get direction(){const{x:e,y:t}=this,[a,o]=[Math.abs(e),Math.abs(t)];return a>o&&e>=0?"right":a>o&&e<=0?"left":o>a&&t>=0?"down":o>a&&t<=0?"up":oops$1()}}}}}function oops$1(){throw new Error}function useTouch(e){let{el:t,isActive:a,isTemporary:o,width:r,touchless:n,position:i}=e;onMounted(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",b,{passive:!0})}),onBeforeUnmount(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",b)});const l=computed(()=>["left","right"].includes(i.value)),{addMovement:s,endTouch:c,getVelocity:d}=useVelocity();let u=!1;const p=shallowRef(!1),h=shallowRef(0),m=shallowRef(0);let v;function f(e,t){return("left"===i.value?e:"right"===i.value?document.documentElement.clientWidth-e:"top"===i.value?e:"bottom"===i.value?document.documentElement.clientHeight-e:oops())-(t?r.value:0)}function g(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a="left"===i.value?(e-m.value)/r.value:"right"===i.value?(document.documentElement.clientWidth-e-m.value)/r.value:"top"===i.value?(e-m.value)/r.value:"bottom"===i.value?(document.documentElement.clientHeight-e-m.value)/r.value:oops();return t?clamp(a):a}function y(e){if(n.value)return;const t=e.changedTouches[0].clientX,d=e.changedTouches[0].clientY,p="left"===i.value?t<25:"right"===i.value?t>document.documentElement.clientWidth-25:"top"===i.value?d<25:"bottom"===i.value?d>document.documentElement.clientHeight-25:oops(),y=a.value&&("left"===i.value?t<r.value:"right"===i.value?t>document.documentElement.clientWidth-r.value:"top"===i.value?d<r.value:"bottom"===i.value?d>document.documentElement.clientHeight-r.value:oops());(p||y||a.value&&o.value)&&(v=[t,d],m.value=f(l.value?t:d,a.value),h.value=g(l.value?t:d),u=m.value>-20&&m.value<80,c(e),s(e))}function _(e){const t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;if(u){if(!e.cancelable)return void(u=!1);const o=Math.abs(t-v[0]),r=Math.abs(a-v[1]);(l.value?o>r&&o>3:r>o&&r>3)?(p.value=!0,u=!1):(l.value?r:o)>3&&(u=!1)}if(!p.value)return;e.preventDefault(),s(e);const o=g(l.value?t:a,!1);h.value=Math.max(0,Math.min(1,o)),o>1?m.value=f(l.value?t:a,!0):o<0&&(m.value=f(l.value?t:a,!1))}function b(e){if(u=!1,!p.value)return;s(e),p.value=!1;const t=d(e.changedTouches[0].identifier),o=Math.abs(t.x),r=Math.abs(t.y),n=l.value?o>r&&o>400:r>o&&r>3;a.value=n?t.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||oops()):h.value>.5}const w=computed(()=>p.value?{transform:"left"===i.value?`translateX(calc(-100% + ${h.value*r.value}px))`:"right"===i.value?`translateX(calc(100% - ${h.value*r.value}px))`:"top"===i.value?`translateY(calc(-100% + ${h.value*r.value}px))`:"bottom"===i.value?`translateY(calc(100% - ${h.value*r.value}px))`:oops(),transition:"none"}:void 0);return useToggleScope(p,()=>{var e,a;const o=(null==(e=t.value)?void 0:e.style.transform)??null,r=(null==(a=t.value)?void 0:a.style.transition)??null;watchEffect(()=>{var e,a,o,r;null==(a=t.value)||a.style.setProperty("transform",(null==(e=w.value)?void 0:e.transform)||"none"),null==(r=t.value)||r.style.setProperty("transition",(null==(o=w.value)?void 0:o.transition)||null)}),onScopeDispose(()=>{var e,a;null==(e=t.value)||e.style.setProperty("transform",o),null==(a=t.value)||a.style.setProperty("transition",r)})}),{isDragging:p,dragProgress:h,dragStyles:w}}function oops(){throw new Error}const locations=["start","end","left","right","top","bottom"],makeVNavigationDrawerProps=propsFactory({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>locations.includes(e)},sticky:Boolean,...makeBorderProps(),...makeComponentProps(),...makeDelayProps(),...makeDisplayProps({mobile:null}),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps({tag:"nav"}),...makeThemeProps()},"VNavigationDrawer"),VNavigationDrawer=genericComponent()({name:"VNavigationDrawer",props:makeVNavigationDrawerProps(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{isRtl:n}=useRtl(),{themeClasses:i}=provideTheme(e),{borderClasses:l}=useBorder(e),{backgroundColorClasses:s,backgroundColorStyles:c}=useBackgroundColor(()=>e.color),{elevationClasses:d}=useElevation(e),{displayClasses:u,mobile:p}=useDisplay(e),{roundedClasses:h}=useRounded(e),m=useRouter(),v=useProxiedModel(e,"modelValue",null,e=>!!e),{ssrBootStyles:f}=useSsrBoot(),{scopeId:g}=useScopeId(),y=ref$1(),_=shallowRef(!1),{runOpenDelay:b,runCloseDelay:w}=useDelay(e,e=>{_.value=e}),x=computed(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=computed(()=>toPhysical(e.location,n.value)),k=toRef(()=>e.persistent),C=computed(()=>!e.permanent&&(p.value||e.temporary)),S=computed(()=>e.sticky&&!C.value&&"bottom"!==V.value);useToggleScope(()=>e.expandOnHover&&null!=e.rail,()=>{watch(_,e=>o("update:rail",!e))}),useToggleScope(()=>!e.disableResizeWatcher,()=>{watch(C,t=>!e.permanent&&nextTick(()=>v.value=!t))}),useToggleScope(()=>!e.disableRouteWatcher&&!!m,()=>{watch(m.currentRoute,()=>C.value&&(v.value=!1))}),watch(()=>e.permanent,e=>{e&&(v.value=!0)}),null!=e.modelValue||C.value||(v.value=e.permanent||!p.value);const{isDragging:N,dragProgress:T}=useTouch({el:y,isActive:v,isTemporary:C,width:x,touchless:toRef(()=>e.touchless),position:V}),B=computed(()=>{const t=C.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):x.value;return N.value?t*T.value:t}),{layoutItemStyles:E,layoutItemScrimStyles:I}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:V,layoutSize:B,elementSize:x,active:readonly(v),disableTransitions:toRef(()=>N.value),absolute:computed(()=>e.absolute||S.value&&"string"!=typeof $.value)}),{isStuck:$,stickyStyles:P}=useSticky({rootEl:y,isSticky:S,layoutItemStyles:E}),D=useBackgroundColor(()=>"string"==typeof e.scrim?e.scrim:null),L=computed(()=>({...N.value?{opacity:.2*T.value,transition:"none"}:void 0,...I.value}));return provideDefaults({VList:{bgColor:"transparent"}}),useRender(()=>{const t=r.image||e.image;return createBaseVNode(Fragment,null,[createVNode(e.tag,mergeProps({ref:y,onMouseenter:b,onMouseleave:w,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":C.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":S.value},i.value,s.value,l.value,u.value,d.value,h.value,e.class],style:[c.value,E.value,f.value,P.value,e.style]},g,a),{default:()=>{var a,o,n;return[t&&createBaseVNode("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?createVNode(VDefaultsProvider,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):createVNode(VImg,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&createBaseVNode("div",{class:"v-navigation-drawer__prepend"},[null==(a=r.prepend)?void 0:a.call(r)]),createBaseVNode("div",{class:"v-navigation-drawer__content"},[null==(o=r.default)?void 0:o.call(r)]),r.append&&createBaseVNode("div",{class:"v-navigation-drawer__append"},[null==(n=r.append)?void 0:n.call(r)])]}}),createVNode(Transition,{name:"fade-transition"},{default:()=>[C.value&&(N.value||v.value)&&!!e.scrim&&createBaseVNode("div",mergeProps({class:["v-navigation-drawer__scrim",D.backgroundColorClasses.value],style:[L.value,D.backgroundColorStyles.value],onClick:()=>{k.value||(v.value=!1)}},g),null)]})])}),{isStuck:$}}}),rootTypes={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function genBone(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return createBaseVNode("div",{class:normalizeClass(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[t])}function genBones(e){const[t,a]=e.split("@");return Array.from({length:a}).map(()=>genStructure(t))}function genStructure(e){let t=[];if(!e)return t;const a=rootTypes[e];if(e===a);else{if(e.includes(","))return mapBones(e);if(e.includes("@"))return genBones(e);a.includes(",")?t=mapBones(a):a.includes("@")?t=genBones(a):a&&t.push(genStructure(a))}return[genBone(e,t)]}function mapBones(e){return e.replace(/\s/g,"").split(",").map(genStructure)}const makeVSkeletonLoaderProps=propsFactory({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...makeDimensionProps(),...makeElevationProps(),...makeThemeProps()},"VSkeletonLoader"),VSkeletonLoader=genericComponent()({name:"VSkeletonLoader",inheritAttrs:!1,props:makeVSkeletonLoaderProps(),setup(e,t){let{attrs:a,slots:o}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{dimensionStyles:i}=useDimension(e),{elevationClasses:l}=useElevation(e),{themeClasses:s}=provideTheme(e),{t:c}=useLocale(),d=computed(()=>genStructure(wrapInArray(e.type).join(",")));return useRender(()=>{var t;const u=!o.default||e.loading,p=e.boilerplate||!u?{}:{ariaLive:"polite",ariaLabel:c(e.loadingText),role:"alert"};return u?createBaseVNode("div",mergeProps({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},s.value,r.value,l.value],style:[n.value,i.value]},p,a),[d.value]):createBaseVNode(Fragment,null,[null==(t=o.default)?void 0:t.call(o)])}),{}}}),_hoisted_1$q={class:"mt-6 mb-6"},_hoisted_2$o={id:"poststatmtm"},_hoisted_3$m={id:"poststatpnl"},_hoisted_4$l={id:"poststatval"},_hoisted_5$l={id:"poststatopnl"},_hoisted_6$l={class:"caption",id:"poststatP"},_hoisted_7$l={class:"caption",id:"poststatN"},_hoisted_8$l={class:"caption",id:"poststatC"},_hoisted_9$l={key:0,style:{"z-index":"0"}},_hoisted_10$l={style:{"overflow-x":"auto"}},_hoisted_11$l={class:"subtext--text fs-10"},_hoisted_12$l={key:0},_hoisted_13$k={key:1,class:"ellipsis",style:{display:"inline-block","max-width":"140px"}},_hoisted_14$j={key:0,class:"d-flex",style:{gap:"6px","justify-content":"flex-end"}},_hoisted_15$h={key:1},_hoisted_16$c={style:{"overflow-x":"auto"}},_hoisted_17$c=["src"],_hoisted_18$c={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_hoisted_19$c={class:"ml-1 subtext--text fs-10"},_hoisted_20$c={class:"px-6 pt-4 pb-2"},_hoisted_21$c={class:"ml-1 subtext--text fs-10"},_hoisted_22$c={class:"px-4"},_hoisted_23$c={key:0,class:"pb-6"},_hoisted_24$c={class:"float-right mb-0"},_hoisted_25$b={class:"font-weight-medium fs-12"},_hoisted_26$b={class:"float-right mb-0"},_hoisted_27$b={class:"float-right mb-0"},_hoisted_28$b={class:"float-right mb-0"},_hoisted_29$b={class:"float-right mb-0"},_hoisted_30$b={class:"float-right mb-0"},_hoisted_31$9={class:"float-right mb-0"},_hoisted_32$8={class:"float-right mb-0"},_hoisted_33$7={class:"float-right mb-0"},_hoisted_34$7={class:"float-right mb-0"},_hoisted_35$7={class:"float-right mb-0"},_hoisted_36$7={class:"float-right mb-0"},_hoisted_37$7={class:"float-right mb-0"},_hoisted_38$7={class:"float-right mb-0"},_hoisted_39$7={class:"float-right mb-0"},_hoisted_40$7={class:"float-right mb-0"},_hoisted_41$6={class:"float-right mb-0"},_hoisted_42$6={class:"float-right mb-0"},_hoisted_43$6={class:"float-right mb-0"},_hoisted_44$6={class:"float-right mb-0"},_hoisted_45$6={class:"float-right mb-0"},_hoisted_46$5={class:"float-right mb-0"},_hoisted_47$4={class:"float-right mb-0"},_hoisted_48$4={class:"float-right mb-0"},_hoisted_49$4={class:"float-right mb-0"},_hoisted_50$4={class:"float-right mb-0"},_hoisted_51$4={class:"float-right mb-0"},_hoisted_52$4={class:"float-right mb-0"},_hoisted_53$4={class:"float-right mb-0"},_hoisted_54$3={class:"float-right mb-0"},_hoisted_55$3={class:"float-right mb-0"},_hoisted_56$3={class:"pa-4"},_sfc_main$F={__name:"PosiTions",setup(e){const t=useAuthStore(),a=useAppStore(),o=ref$1(null),r=ref$1(null),n=ref$1("positions"),i=ref$1(""),l=ref$1("all"),s=ref$1([{val:"all",txt:"All"},{val:"stocks",txt:"Stocks"},{val:"fno",txt:"F&O"},{val:"comm",txt:"Commodities"},{val:"curr",txt:"Currency"}]),c=ref$1(!1),d=ref$1(!1);ref$1(null),ref$1(null);const u=ref$1([]),p=ref$1([]),h=ref$1([]),m=ref$1([]),v=ref$1([]),f=ref$1({mtm:"0.00",pnl:"0.00",tradeval:"0.00",oppnl:"0.00",positive:[],negative:[],close:[],open:[]}),g=ref$1({}),y=ref$1(null);ref$1(!1);const _=ref$1(!1),b=ref$1(!1),w=ref$1(!1),x=ref$1(!1),V=ref$1(""),k=ref$1(0),C=ref$1({}),S=ref$1(!1),N=ref$1(null),T=ref$1({x:[],y:[]}),B=["tsym","exch","s_prdt_ali","instname"],E=["tsym","exch"];function I(e,t,a){if(!a)return!0;const o=String(a).toLowerCase();for(const r of t){const t=e&&e[r];if(null!=t&&String(t).toLowerCase().includes(o))return!0}return!1}function $(){try{sessionStorage.setItem("positions_last",JSON.stringify({a:u.value,o:h.value,c:m.value}))}catch(e2){}}function P(){N.value&&N.value.resize()}watch(y,async e=>{if(e&&g.value[e])try{const t=g.value[e].tysm,a=await getPostPnL(t);a&&Array.isArray(a.mtm)&&(T.value.x=a.mtm.map(e=>new Date(e.name).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),T.value.y=a.mtm.map(e=>e.value),function(){if(!document.getElementById("mtmchart")||!window.echarts)return;N.value||(N.value=init(document.getElementById("mtmchart")));const e={title:{text:"Group MTM (Realtime)",left:"center",top:8,textStyle:{fontSize:14}},xAxis:{type:"category",data:T.value.x,boundaryGap:!1,axisLabel:{fontSize:11}},yAxis:{type:"value",splitLine:{show:!1}},grid:{top:38,left:30,right:12,bottom:20},tooltip:{trigger:"axis"},series:[{data:T.value.y,type:"line",smooth:!0,symbol:"none",lineStyle:{width:2},areaStyle:{opacity:.05}}]};N.value.setOption(e),N.value.resize()}())}catch(e2){T.value={x:[],y:[]},N.value&&N.value.clear()}},{immediate:!0});const D=[{key:"s_prdt_ali",text:"Product"},{key:"tsym",text:"Instrument"},{key:"netqty",text:"Qty"},{key:"netupldprc",text:"Act Avg Price",align:"right"},{key:"ltp",text:"LTP",align:"right"},{key:"rpnl",text:"P&L",align:"right"},{key:"avgprc",text:"Avg Price",align:"right"},{key:"mtm",text:"MTM",align:"right"},{key:"daybuyqty",text:"Buy Qty"},{key:"daysellqty",text:"Sell Qty"},{key:"totbuyavgprc",text:"Buy Avg",align:"right"},{key:"totsellavgprc",text:"Sell Avg",align:"right"}],L=[{key:"tsym",text:"Instrument"},{key:"netqty",text:"Qty"},{key:"ltp",text:"LTP",align:"right"},{key:"rpnl",text:"P&L",align:"right"},{key:"avgprc",text:"Avg Price",align:"right"},{key:"BuyQuantity",text:"Buy Qty"},{key:"SellQuantity",text:"Sell Qty"},{key:"BuyPrice",text:"Buy Avg",align:"right"},{key:"BuyValue",text:"Buy Amt",align:"right"},{key:"SellPrice",text:"Sell Avg",align:"right"},{key:"SellValue",text:"Sell Amt",align:"right"}],R=new Set(["netqty","netupldprc","ltp","rpnl","avgprc","mtm","daybuyqty","daysellqty","totbuyavgprc","totsellavgprc","BuyQuantity","SellQuantity","BuyPrice","BuyValue","SellPrice","SellValue"]);function A(e,t,a=!1){const o=[];if(e&&e.length){const a=e[0];t.forEach(e=>{Object.prototype.hasOwnProperty.call(a,e.key)&&o.push({title:e.text,key:e.key,align:e.align||(R.has(e.key)?"right":void 0)})})}else t.forEach(e=>o.push({title:e.text,key:e.key,align:e.align||(R.has(e.key)?"right":void 0)}));return o}const O=ref$1(A([],D,!0)),M=ref$1(A([],L,!1));function F(){M.value=A(p.value,L,!1)}const z=computed(()=>"all"===l.value?u.value:"stocks"===l.value?u.value.filter(e=>["A","EQ"].includes(e.instname)):"fno"===l.value?u.value.filter(e=>["FUTIDX","FUTSTK","OPTIDX","OPTSTK"].includes(e.instname)):"comm"===l.value?u.value.filter(e=>["AUCSO","FUTCOM","FUTIDX","OPTFUT"].includes(e.instname)):"curr"===l.value?u.value.filter(e=>["FUTCUR","FUTIRC","FUTIRT","OPTCUR","OPTIRC"].includes(e.instname)):u.value),H=computed(()=>{try{return!!(v.value&&v.value.length>0)||(u.value||[]).some(e=>e&&"open"===e.way&&0!==Number(e.netqty))}catch(e){return!1}});function q(e){const t=Number(e);return t||0===t?t.toFixed(2):"0.00"}function U(){const e="all"!==n.value?u.value:p.value;if(!e||!e.length)return void(f.value={mtm:"0.00",pnl:"0.00",tradeval:"0.00",oppnl:"0.00",positive:[],negative:[],close:[],open:[]});const t=e.filter(e=>Number(e.rpnl)>0),a=e.filter(e=>Number(e.rpnl)<0),o=e.filter(e=>0===Number(e.netqty)),r=e.filter(e=>0!==Number(e.netqty)),i=e.reduce((e,t)=>e+(Number(t.val)>0?Number(t.val):0),0),l=r.reduce((e,t)=>e+(Number(t.rpnl)||0),0),s=e.reduce((e,t)=>e+(Number(t.rpnl)||0),0),c=e.reduce((e,t)=>e+(Number(t.mtm)||0),0);f.value={positive:t,negative:a,close:o,open:r,tradeval:q(Math.abs(i)),oppnl:q(Math.abs(l)),pnl:q(s),mtm:q(c)}}function W(e,t,a,o,r,n){_.value=!0}function j(e){if(m.value=Array.isArray(e.c)?e.c:[],h.value=Array.isArray(e.o)?e.o:[],u.value=Array.isArray(e.a)?e.a:[],console.log("settempDatas -> counts",{close:m.value.length,open:h.value.length,all:u.value.length}),O.value=A(u.value,D,!0),"all"!==n.value&&U(),$(),u.value&&u.value.length){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:u.value,is:"pos",page:"position"}});window.dispatchEvent(e)}}async function G(){var e,t,o;c.value=!0;const r=await getMPosotion(!0);r&&((null==(e=r.a)?void 0:e.length)||(null==(t=r.o)?void 0:t.length)||(null==(o=r.c)?void 0:o.length))?j(r):a.showSnackbar(2,r&&r.emsg?r.emsg:r),c.value=!1}async function Y(){d.value=!0;const e=await getEXPosition();if(p.value=[],e&&e.length>0){for(let a=0;a<e.length;a++){const t=e[a];t.idx=a,t.way=0===Number(t.netqty)?"close":"open",t.disabled="open"!==t.way&&null,t.avgprc=t.NetAvgPrc,t.tokn=`${t.token}_${a}`}p.value=[...e],F();const t=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:p.value,is:"pos",page:"position"}});window.dispatchEvent(t)}else 500!==e&&a.showSnackbar(2,e&&e.emsg?e.emsg:e);"all"===n.value&&U(),function(){try{sessionStorage.setItem("exposures_last",JSON.stringify(p.value))}catch(e2){}}(),d.value=!1}function K(e){b.value=!0;const t=u.value.filter(e=>"open"===e.way),r=(v.value||[]).filter(e=>"open"===e.way),n=r.length?r:t;e<=n.length-1?async function(e,t){try{let r={};const n={uid:o.value,actid:o.value,exch:t.exch,prctyp:"MKT",prd:t.prd,prc:"0",qty:String(Math.abs(t.netqty)),ret:"DAY",tsym:t.tsym,trantype:Number(t.netqty)>0?"S":"B"},i=Math.floor(Number(t.frzqty)/Number(t.ls||1))*Number(t.ls||1),l=Number(n.qty),s=i||l,c=Math.floor(l/s),d=l%s;for(let e=0;e<c;e++)n.qty=s.toString(),r=await getPlaceOrder(n);if((d>0||l<s)&&(n.qty=(d||l).toString(),r=await getPlaceOrder(n)),"Ok"!==r.stat)return a.showSnackbar(2,r&&r.emsg?r.emsg:r),void(b.value=!1);setTimeout(()=>K(e+1),100)}catch(e2){b.value=!1,a.showSnackbar(2,"Failed to place exit order")}}(e,n[e]):(a.showSnackbar(1,"All your open positions have been Squared off."),b.value=!1,_.value=!1,u.value.forEach(e=>e.disabled=!1),v.value=[])}async function X(e){if(e){C.value={...e},w.value=!0,C.value.index=u.value.indexOf(e);const t="MCX"===e.exch?e.ls:1;k.value=Math.abs(e.netqty)/t,V.value="MIS"!==e.s_prdt_ali||"NRML"===e.s_prdt_ali?"MIS":"NSE"===e.exch||"BSE"===e.exch?"CNC":"NRML",C.value.defaultqty=Math.abs(e.netqty)/t}else if(k.value>0&&k.value<=C.value.defaultqty&&V.value){x.value=!0;const e={uid:o.value,actid:o.value,exch:C.value.exch,tsym:C.value.tsym,qty:String(k.value*("MCX"===C.value.exch?C.value.ls:1)),prd:"CNC"===V.value?"C":"MIS"===V.value?"I":"NRML"===V.value?"M":"",prevprd:"CNC"===C.value.s_prdt_ali?"C":"MIS"===C.value.s_prdt_ali?"I":"NRML"===C.value.s_prdt_ali?"M":"",trantype:Number(C.value.netqty)>0?"B":"S",postype:"DAY",ordersource:"web"},t=await getMPosotionCon(e);"Ok"===t.stat?(a.showSnackbar(1,"Successfully Converted Position"),"number"==typeof C.value.index&&(u.value[C.value.index].s_prdt_ali=V.value)):a.showSnackbar(2,t&&t.emsg?t.emsg:t),w.value=!1,x.value=!1,C.value={}}}function J(e){var t;const{detail:a}=e,o=Array.isArray(a)?a[0]:a;if(!o||!o.token)return;if(null==(t=u.value)?void 0:t.length){const e=u.value.map((e,t)=>e.token===o.token?t:-1).filter(e=>e>=0);for(const t of e){const e=u.value[t],a=Number(o.lp);e.ltp=a.toFixed(2),e.val=(Number(e.avgprc)*Math.abs(Number(e.netqty))).toFixed(2);const r=Number(e.netqty),n=Number(e.mult)||1,i=Number(e.prcftr)||1,l=(Number(e.daybuyqty)||0)+(Number(e.cfbuyqty)||0),s=(Number(e.daysellqty)||0)+(Number(e.cfsellqty)||0),c=Number(e.upldprc)||0,d=Number(e.netupldprc)||0,p=Number(e.netavgprc)||0,h=0!==l?((Number(e.daybuyamt)||0)/n+c*i*(Number(e.cfbuyqty)||0))/(l*i):0,m=((0!==s?((Number(e.daysellamt)||0)/n+c*i*(Number(e.cfsellqty)||0))/(s*i):0)-h)*Math.min(l,s)*n+r*i*n*(a-(0!==d?d:p)),v=Number(e.crpnl)||0,f=0===r?v:(a-p)*(["NFO","BFO","NSE","BSE"].includes(e.exch)?r*i:n*r*i)+v;e.mtm=Number(f).toFixed(2),e.rpnl=Number(m).toFixed(2),e.pnlc=Number(e.avgprc)>0?((Number(e.avgprc)-a)/Number(e.avgprc)*100).toFixed(2):"0.00",e.hp=Number(o.high_price||0)*Math.abs(r),e.lp=Number(o.low_price||0)*Math.abs(r)}}const r=p.value.findIndex(e=>e.token===o.token);if(r>=0){const e=p.value[r],t=Number(o.lp);e.ltp=t.toFixed(2),e.rpnl=e.netqty&&0!==Number(e.netqty)?((t-e.avgprc)*e.netqty).toFixed(2):(Number(e.SellValue)-Number(e.BuyValue)).toFixed(2),e.val=(e.avgprc*Math.abs(Number(e.netqty))).toFixed(2)}if(U(),S.value&&C.value&&C.value.tokn){const e=u.value.findIndex(e=>e.tokn===C.value.tokn);e>=0&&(C.value={...u.value[e]})}$()}function Q(e){j(e.detail)}function Z(){U()}function ee(){const e="all"!==n.value?u.value:p.value;if(Array.isArray(e)&&e.length){const t=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:e,is:"pos",page:"position"}});window.dispatchEvent(t)}"all"!==n.value?G():Y()}function te(e,t,a=g.value){const o=e.reduce((e,t)=>e+Number(t.mtm||0),0);a[t].color=o>0?"secgreen":o<0?"secred":"secbg",a[t].text=o>0?"maingreen--text":o<0?"mainred--text":"maintext--text",a[t].mtm=o.toFixed(2)}function ae(e){"Escape"===e.key&&S.value&&(S.value=!1)}function oe(){S.value=!1}return computed(()=>(z.value||[]).filter(e=>I(e,B,i.value))),computed(()=>(p.value||[]).filter(e=>I(e,E,i.value))),watch(u,function(){const e={};u.value.forEach(t=>{const a=t.tsym,o=a.match(/(.*?)-|\s/),r=o?o[1]:a.slice(0,4);e[r]||(e[r]={data:[],tysm:[],color:"secbg",mtm:"0.00",text:"maintext--text"}),e[r].data.push(t),e[r].tysm.push(t.tsym)});for(const t in e)te(e[t].data,t,e);g.value=e,!y.value&&Object.keys(e).length>0&&(y.value=Object.keys(e)[0])},{immediate:!0}),watch(v,e=>{try{const t=new Set((e||[]).map(e=>(null==e?void 0:e.tokn)||e));if(u.value.forEach(e=>{"open"===e.way&&(e.disabled=t.has(e.tokn))}),e&&1===e.length){const t=e[0],a=(null==t?void 0:t.tokn)||t,o=u.value.find(e=>e.tokn===a);o&&(C.value={...o},S.value=!0)}}catch(e2){}}),onMounted(async()=>{try{t.loadFromSession&&t.loadFromSession()}catch(e2){}!function(){var e,t,a;try{const o=sessionStorage.getItem("positions_last");if(o){const r=JSON.parse(o);r&&((null==(e=r.a)?void 0:e.length)||(null==(t=r.o)?void 0:t.length)||(null==(a=r.c)?void 0:a.length))&&(j(r),console.log("Loaded cached positions"))}}catch(e2){}}(),function(){try{const e=sessionStorage.getItem("exposures_last");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length&&(p.value=t,F(),"all"===n.value&&U(),console.log("Loaded cached exposures"))}}catch(e2){}}();"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&(o.value=t.uid||sessionStorage.getItem("userid"),r.value=t.mtoken||sessionStorage.getItem("msession"),setTimeout(()=>{G(),Y()},100)),window.addEventListener("web-scoketConn",J),window.addEventListener("tempdata-update",Q),window.addEventListener("resize",P),window.addEventListener("keydown",ae)}),onBeforeUnmount(()=>{window.removeEventListener("web-scoketConn",J),window.removeEventListener("tempdata-update",Q),window.removeEventListener("resize",P),window.removeEventListener("keydown",ae);try{const e="all"!==n.value?u.value:p.value;if(Array.isArray(e)&&e.length){const t=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:e,is:"pos",page:"position"}});window.dispatchEvent(t)}}catch(e2){}N.value&&(N.value.dispose(),N.value=null)}),(e,t)=>{const a=resolveComponent("v-list-item-content");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$q,[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VCard,{class:"px-2 stat-card rounded-md d-inline-flex pt-2 pb-1 overflow-hidden",width:"100%"},{default:withCtx(()=>["all"!==n.value?(openBlock(),createBlock(VListItem,{key:0},{default:withCtx(()=>[createVNode(a,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("MTM",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(f.value.mtm)>0?"maingreen--text":Number(f.value.mtm)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",_hoisted_2$o,toDisplayString(f.value.mtm||"0.00"),1)],2)]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(a,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[20]||(t[20]=[createTextVNode("Profit/Loss",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(f.value.pnl)>0?"maingreen--text":Number(f.value.pnl)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",_hoisted_3$m,toDisplayString(f.value.pnl||"0.00"),1)],2)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(a,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[21]||(t[21]=[createTextVNode("Trade Value",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$l,toDisplayString(f.value.tradeval||"0.00"),1)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(a,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode("Open Position",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(f.value.oppnl)>0?"maingreen--text":Number(f.value.oppnl)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",_hoisted_5$l,toDisplayString(f.value.oppnl||"0.00"),1)],2)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(a,{class:"pb-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-0 font-weight-medium"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("Trade Positions",-1)])]),_:1}),createVNode(VChipGroup,{row:""},{default:withCtx(()=>[createVNode(VChip,{class:"mr-2 rounded-lg",color:"secgreen","text-color":"maingreen"},{default:withCtx(()=>{var e;return[createBaseVNode("span",_hoisted_6$l,toDisplayString((null==(e=f.value.positive)?void 0:e.length)||0),1),t[24]||(t[24]=createTextVNode(" Positive ",-1))]}),_:1}),createVNode(VChip,{height:"16",class:"mr-2 rounded-lg",color:"secred","text-color":"mainred"},{default:withCtx(()=>{var e;return[createBaseVNode("span",_hoisted_7$l,toDisplayString((null==(e=f.value.negative)?void 0:e.length)||0),1),t[25]||(t[25]=createTextVNode(" Negative ",-1))]}),_:1}),createVNode(VChip,{height:"16",class:"rounded-lg",color:"card-bg","text-color":"subtext"},{default:withCtx(()=>{var e;return[createBaseVNode("span",_hoisted_8$l,toDisplayString((null==(e=f.value.close)?void 0:e.length)||0),1),t[26]||(t[26]=createTextVNode(" Closed ",-1))]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn my-6"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact",onChange:Z},{default:withCtx(()=>[createVNode(VTab,{value:"positions",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("Positions ("+toDisplayString(u.value.length||0)+")",1)]),_:1}),createVNode(VTab,{value:"all",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("All Positions ("+toDisplayString(p.value.length||0)+")",1)]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),"group"!==n.value?(openBlock(),createBlock(VTextField,{key:0,style:{"max-width":"220px","background-color":"#F1F3F8"},modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",elevation:"0",label:"Search",class:"rounded-pill mr-4",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"])):createCommentVNode("",!0),"group"!==n.value?(openBlock(),createBlock(VSelect,{key:1,modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e),items:s.value,"item-title":"txt","item-value":"val",density:"comfortable",class:"rounded-pill",style:{"max-width":"150px","background-color":"#F1F3F8"},"bg-color":"secbg","prepend-inner-icon":"mdi-format-list-bulleted","hide-details":"",label:"Filter"},null,8,["modelValue","items"])):createCommentVNode("",!0),"positions"===n.value?(openBlock(),createBlock(VBtn,{key:2,disabled:!H.value,onClick:t[3]||(t[3]=e=>_.value=!0),class:"elevation-0 rounded-pill font-weight-bold text-none ml-4",color:"primary"},{default:withCtx(()=>[createTextVNode("Exit "+toDisplayString(v.value.length===u.value.length?"all":v.value.length>0?v.value.length:"all"),1)]),_:1},8,["disabled"])):createCommentVNode("",!0),createVNode(VIcon,{disabled:c.value||d.value,class:"ml-3 cursor-p",onClick:ee,color:"maintext",size:"24"},{default:withCtx(()=>[...t[27]||(t[27]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),"positions"===n.value?(openBlock(),createElementBlock("div",_hoisted_9$l,[createBaseVNode("div",_hoisted_10$l,[createVNode(VDataTable,{"show-select":"",modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=e=>v.value=e),"must-sort":"","item-value":"tokn","sort-by":["way"],"sort-desc":[!0],loading:c.value,density:"compact","mobile-breakpoint":"900","fixed-header":"",height:"480px",class:"rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0","min-width":"660px"},headers:O.value,"hide-default-footer":!0,search:i.value,items:z.value,"items-per-page":-1,"onClick:row":t[5]||(t[5]=(e,{item:t})=>function(e){if(!e)return;const t=(null==e?void 0:e.raw)||e;if(null==t?void 0:t.tokn){const e=u.value.find(e=>e.tokn===t.tokn);C.value=e?{...e}:{...t}}else C.value={...t};S.value=!0}((null==t?void 0:t.raw)||t))},{"no-data":withCtx(()=>[createVNode(VRow,{justify:"center",align:"center",class:"py-10"},{default:withCtx(()=>[createVNode(VIcon,{color:"grey lighten-1",size:"45"},{default:withCtx(()=>[...t[28]||(t[28]=[createTextVNode("mdi-database-off",-1)])]),_:1}),t[29]||(t[29]=createBaseVNode("div",{class:"ml-4 caption txt-999"},"There are no positions here yet.",-1))]),_:1})]),loading:withCtx(()=>[createVNode(VSkeletonLoader,{type:"table",loading:c.value,class:"mx-auto my-6",style:{"max-width":"90vw"},height:44},null,8,["loading"])]),"item.tsym":withCtx(({item:e})=>[e&&e.tsym?(openBlock(),createBlock(VTooltip,{key:0,"open-delay":"250",location:"bottom"},{activator:withCtx(({props:t})=>[createBaseVNode("span",mergeProps({class:"ellipsis"},t,{style:{display:"inline-block","max-width":"140px"}}),[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_11$l,toDisplayString(e.exch),1)],16)]),default:withCtx(()=>[createBaseVNode("span",null,[createTextVNode(toDisplayString(e.tsym),1),e.exch?(openBlock(),createElementBlock("span",_hoisted_12$l," ("+toDisplayString(e.exch)+")",1)):createCommentVNode("",!0)])]),_:2},1024)):(openBlock(),createElementBlock("span",_hoisted_13$k,"-"))]),"item.actions":withCtx(({item:e})=>[e?(openBlock(),createElementBlock("div",_hoisted_14$j,[e&&"open"===e.way?(openBlock(),createBlock(VBtn,{key:0,onClick:withModifiers(t=>W(0,e.token,e.exch,e.tsym,e.netqty),["stop"]),size:"x-small",variant:"tonal",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"18"},{default:withCtx(()=>[...t[30]||(t[30]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0),e&&"open"===e.way?(openBlock(),createBlock(VBtn,{key:1,onClick:withModifiers(t=>X(e),["stop"]),size:"x-small",variant:"tonal",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"18"},{default:withCtx(()=>[...t[31]||(t[31]=[createTextVNode("mdi-autorenew",-1)])]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:1},8,["modelValue","loading","headers","search","items"])])])):"all"===n.value?(openBlock(),createElementBlock("div",_hoisted_15$h,[createBaseVNode("div",_hoisted_16$c,[createVNode(VDataTable,{"must-sort":"","item-value":"tokn","sort-by":["way"],"sort-desc":[!0],loading:d.value,"hide-default-footer":!0,density:"compact","mobile-breakpoint":"900","fixed-header":"",height:"480px",class:"rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0","min-width":"660px"},headers:M.value,search:i.value,items:p.value,"items-per-page":-1},{"no-data":withCtx(()=>[createVNode(VRow,{justify:"center",align:"center",class:"py-10"},{default:withCtx(()=>[createVNode(VIcon,{color:"grey lighten-1",size:"45"},{default:withCtx(()=>[...t[32]||(t[32]=[createTextVNode("mdi-database-off",-1)])]),_:1}),t[33]||(t[33]=createBaseVNode("div",{class:"ml-4 caption txt-999"},"There are no exposures yet.",-1))]),_:1})]),loading:withCtx(()=>[createVNode(VSkeletonLoader,{type:"table",loading:d.value,class:"mx-auto my-6",style:{"max-width":"90vw"},height:44},null,8,["loading"])]),_:1},8,["loading","headers","search","items"])])])):createCommentVNode("",!0),createVNode(VDialog,{modelValue:_.value,"onUpdate:modelValue":t[8]||(t[8]=e=>_.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>[createBaseVNode("img",{src:unref(_imports_0$6),alt:"icon"},null,8,_hoisted_17$c),createBaseVNode("p",_hoisted_18$c,[t[34]||(t[34]=createTextVNode(" Do you want to ",-1)),t[35]||(t[35]=createBaseVNode("b",null,"Square Off",-1)),t[36]||(t[36]=createBaseVNode("br",null,null,-1)),createTextVNode(" "+toDisplayString(v.value.length===u.value.length?"all":v.value.length>0?v.value.length:"all")+" open Positions? ",1)]),createVNode(VRow,{class:"px-6","no-gluttters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{disabled:b.value,onClick:t[6]||(t[6]=e=>_.value=!1),color:"#F1F3F8",class:"rounded-pill text-none txt-666 font-weight-bold elevation-0",block:"",height:"40px"},{default:withCtx(()=>[...t[37]||(t[37]=[createTextVNode("Close",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{loading:b.value,onClick:t[7]||(t[7]=e=>K(0)),color:"#000",class:"rounded-pill text-none white--text font-weight-bold elevation-0",block:"",height:"40px"},{default:withCtx(()=>[...t[38]||(t[38]=[createTextVNode("Exit Order",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:w.value,"onUpdate:modelValue":t[14]||(t[14]=e=>w.value=e),"max-width":"480px"},{default:withCtx(()=>[createVNode(VCard,{class:"pb-6 overflow-hidden",color:"cardbg"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 py-4",color:"secbg"},{default:withCtx(()=>[createVNode(VToolbar,{class:"nav-drawer elevation-0 px-2 crd-trn",dense:""},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(a,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold fs-16 maintext--text mb-2"},{default:withCtx(()=>{var e,t;return[createTextVNode(toDisplayString((null==(e=C.value)?void 0:e.tsym)||""),1),createBaseVNode("span",_hoisted_19$c,toDisplayString((null==(t=C.value)?void 0:t.exch)||""),1)]}),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 mb-1"},{default:withCtx(()=>{var e;return[createTextVNode(toDisplayString((null==(e=C.value)?void 0:e.ltp)||"0.00"),1)]}),_:1})]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VBtn,{disabled:x.value,onClick:t[9]||(t[9]=e=>{w.value=!1,C.value={}}),small:"",icon:""},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext"},{default:withCtx(()=>[...t[39]||(t[39]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),x.value?(openBlock(),createBlock(VProgressLinear,{key:0,indeterminate:""})):createCommentVNode("",!0)]),_:1}),createBaseVNode("div",_hoisted_20$c,[t[45]||(t[45]=createBaseVNode("p",{class:"font-weight-bold fs-16"},"Position Conversion",-1)),createVNode(VRow,{"no-glutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"5",class:"pb-0"},{default:withCtx(()=>[t[40]||(t[40]=createBaseVNode("p",{class:"font-weight-bold fs-14 mb-2"},"Convert from",-1)),createVNode(VTextField,{readonly:"",dense:"",modelValue:C.value.s_prdt_ali,"onUpdate:modelValue":t[10]||(t[10]=e=>C.value.s_prdt_ali=e),"background-color":"secbg",flat:"",class:"rounded-pill",solo:""},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"2",class:"pa-0"}),createVNode(VCol,{cols:"5",class:"pb-0"},{default:withCtx(()=>[t[41]||(t[41]=createBaseVNode("p",{class:"font-weight-bold fs-14 mb-2"},"Converting to",-1)),createVNode(VSelect,{dense:"",modelValue:V.value,"onUpdate:modelValue":t[11]||(t[11]=e=>V.value=e),items:["MIS"!==C.value.s_prdt_ali||"NRML"===C.value.s_prdt_ali?"MIS":"NSE"===C.value.exch||"BSE"===C.value.exch?"CNC":"NRML"],"append-icon":"mdi-chevron-down","background-color":"secbg",flat:"",class:"rounded-pill",solo:""},null,8,["modelValue","items"])]),_:1}),createVNode(VCol,{cols:"5",class:"py-0"},{default:withCtx(()=>[t[42]||(t[42]=createBaseVNode("p",{class:"font-weight-bold fs-14 mb-2"},"Total Qty",-1)),createVNode(VTextField,{readonly:"",dense:"","background-color":"secbg",value:C.value.defaultqty,flat:"",class:"rounded-pill",solo:""},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"2",class:"pa-0"}),createVNode(VCol,{cols:"5",class:"py-0"},{default:withCtx(()=>[t[43]||(t[43]=createBaseVNode("p",{class:"font-weight-bold fs-14 mb-2"},"Converting Qty",-1)),createVNode(VTextField,{dense:"","background-color":"secbg",modelValue:k.value,"onUpdate:modelValue":t[12]||(t[12]=e=>k.value=e),modelModifiers:{number:!0},placeholder:C.value.netqty,flat:"",class:"rounded-pill",solo:"",type:"number",min:"1",max:C.value.defaultqty},null,8,["modelValue","placeholder","max"])]),_:1})]),_:1}),createVNode(VBtn,{onClick:t[13]||(t[13]=e=>X()),disabled:!(k.value>0&&k.value<=C.value.defaultqty&&V.value),loading:x.value,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text px-10 mt-4 float-right",height:"40px"},{default:withCtx(()=>[...t[44]||(t[44]=[createTextVNode("Convert",-1)])]),_:1},8,["disabled","loading"])])]),_:1})]),_:1},8,["modelValue"]),createVNode(VNavigationDrawer,{modelValue:S.value,"onUpdate:modelValue":t[18]||(t[18]=e=>S.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:withCtx(()=>[createVNode(VToolbar,{dense:"",class:"nav-drawer crd-trn"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",variant:"text",density:"comfortable",onClick:oe,"aria-label":"Close drawer"},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext",size:"20"},{default:withCtx(()=>[...t[46]||(t[46]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),t[47]||(t[47]=createBaseVNode("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Position Details",-1)),createVNode(VSpacer)]),_:1})]),append:withCtx(()=>[createVNode(VDivider),createBaseVNode("div",_hoisted_56$3,[createVNode(VBtn,{block:"",color:"primary",variant:"tonal",class:"text-none",onClick:t[17]||(t[17]=e=>S.value=!1)},{default:withCtx(()=>[...t[83]||(t[83]=[createTextVNode(" Close ",-1)])]),_:1})])]),default:withCtx(()=>[createVNode(VListItem,{class:"py-3"},{default:withCtx(()=>[createVNode(a,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.value.tsym||""),1),createBaseVNode("span",_hoisted_21$c,toDisplayString(C.value.exch||""),1)]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-16 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(C.value.ltp||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass([Number(C.value.rpnl)>0?"maingreen--text":Number(C.value.rpnl)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},toDisplayString(C.value.rpnl||"0.00")+" ("+toDisplayString(C.value.pnlc||"0.00")+"%) ",3)]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_22$c,["open"===C.value.way?(openBlock(),createElementBlock("div",_hoisted_23$c,[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{disabled:b.value,onClick:t[15]||(t[15]=e=>W(0,C.value.token,C.value.exch,C.value.tsym,C.value.netqty,C.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",outlined:""},{default:withCtx(()=>[createVNode(VIcon,{size:"20"},{default:withCtx(()=>[...t[48]||(t[48]=[createTextVNode("mdi-close",-1)])]),_:1}),t[49]||(t[49]=createTextVNode(" Exit ",-1))]),_:1},8,["disabled"])]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{disabled:x.value,onClick:t[16]||(t[16]=e=>X(C.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",outlined:""},{default:withCtx(()=>[createVNode(VIcon,{size:"20"},{default:withCtx(()=>[...t[50]||(t[50]=[createTextVNode("mdi-autorenew",-1)])]),_:1}),t[51]||(t[51]=createTextVNode(" Conversion ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])):createCommentVNode("",!0),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[52]||(t[52]=createTextVNode("Quantity ",-1)),createBaseVNode("p",_hoisted_24$c,[createVNode(VChip,{small:"",color:C.value.netqty>0?"secgreen":C.value.netqty<0?"secred":"secbg","text-color":C.value.netqty>0?"maingreen":C.value.netqty<0?"mainred":"subtext",style:normalizeStyle(`border: 1px solid ${C.value.netqty>0?"#C1E7BA":C.value.netqty<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_25$b,toDisplayString(C.value.netqty>0?"+"+C.value.netqty/("MCX"===C.value.exch?C.value.ls:1):C.value.netqty<0?""+C.value.netqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1},8,["color","text-color","style"])])]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[53]||(t[53]=createTextVNode("Avg price ",-1)),createBaseVNode("p",_hoisted_26$b,toDisplayString(C.value.avgprc?C.value.avgprc.toLocaleString():"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[54]||(t[54]=createTextVNode("Net Avg price ",-1)),createBaseVNode("p",_hoisted_27$b,toDisplayString(C.value.NetAvgPrc??C.value.netavgprc?(C.value.NetAvgPrc??C.value.netavgprc).toLocaleString():"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[55]||(t[55]=createTextVNode("Upload price ",-1)),createBaseVNode("p",_hoisted_28$b,toDisplayString(C.value.upldprc?C.value.upldprc.toLocaleString():"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[56]||(t[56]=createTextVNode("Netupload price ",-1)),createBaseVNode("p",_hoisted_29$b,toDisplayString(C.value.netupldprc?C.value.netupldprc.toLocaleString():"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[57]||(t[57]=createTextVNode("Last trade price ",-1)),createBaseVNode("p",_hoisted_30$b,toDisplayString(C.value.ltp||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[58]||(t[58]=createTextVNode("Product ",-1)),createBaseVNode("p",_hoisted_31$9,toDisplayString(C.value.prd?"I"===C.value.prd?"INTRADAY":"C"===C.value.prd?"DELIVERY":"CARRY FORWARD":""),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[59]||(t[59]=createTextVNode("Order type ",-1)),createBaseVNode("p",_hoisted_32$8,toDisplayString(C.value.s_prdt_ali||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[60]||(t[60]=createTextVNode("Day buy Qty ",-1)),createBaseVNode("p",_hoisted_33$7,toDisplayString(C.value.daybuyqty?C.value.daybuyqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[61]||(t[61]=createTextVNode("Day sell Qty ",-1)),createBaseVNode("p",_hoisted_34$7,toDisplayString(C.value.daysellqty?C.value.daysellqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[62]||(t[62]=createTextVNode("Day buy Avg ",-1)),createBaseVNode("p",_hoisted_35$7,toDisplayString(C.value.daybuyavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[63]||(t[63]=createTextVNode("Day sell Avg ",-1)),createBaseVNode("p",_hoisted_36$7,toDisplayString(C.value.daysellavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[64]||(t[64]=createTextVNode("Day Avg price ",-1)),createBaseVNode("p",_hoisted_37$7,toDisplayString(C.value.dayavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[65]||(t[65]=createTextVNode("Day buy Amt ",-1)),createBaseVNode("p",_hoisted_38$7,toDisplayString(C.value.daybuyamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[66]||(t[66]=createTextVNode("Day sell Amt ",-1)),createBaseVNode("p",_hoisted_39$7,toDisplayString(C.value.daysellamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[67]||(t[67]=createTextVNode("CF buy Qty ",-1)),createBaseVNode("p",_hoisted_40$7,toDisplayString(C.value.cfbuyqty?C.value.cfbuyqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[68]||(t[68]=createTextVNode("CF sell Qty ",-1)),createBaseVNode("p",_hoisted_41$6,toDisplayString(C.value.cfsellqty?C.value.cfsellqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[69]||(t[69]=createTextVNode("CF buy Avg ",-1)),createBaseVNode("p",_hoisted_42$6,toDisplayString(C.value.cfbuyavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[70]||(t[70]=createTextVNode("CF sell Avg ",-1)),createBaseVNode("p",_hoisted_43$6,toDisplayString(C.value.cfsellavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[71]||(t[71]=createTextVNode("CF buy Amt ",-1)),createBaseVNode("p",_hoisted_44$6,toDisplayString(C.value.cfbuyamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[72]||(t[72]=createTextVNode("CF sell Amt ",-1)),createBaseVNode("p",_hoisted_45$6,toDisplayString(C.value.cfsellamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[73]||(t[73]=createTextVNode("Open buy Qty ",-1)),createBaseVNode("p",_hoisted_46$5,toDisplayString(C.value.openbuyqty?C.value.openbuyqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[74]||(t[74]=createTextVNode("Open sell Qty ",-1)),createBaseVNode("p",_hoisted_47$4,toDisplayString(C.value.opensellqty?C.value.opensellqty/("MCX"===C.value.exch?C.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[75]||(t[75]=createTextVNode("Open buy Avg ",-1)),createBaseVNode("p",_hoisted_48$4,toDisplayString(C.value.openbuyavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[76]||(t[76]=createTextVNode("Open sell Avg ",-1)),createBaseVNode("p",_hoisted_49$4,toDisplayString(C.value.opensellavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[77]||(t[77]=createTextVNode("Open buy Amt ",-1)),createBaseVNode("p",_hoisted_50$4,toDisplayString(C.value.openbuyamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[78]||(t[78]=createTextVNode("Open sell Amt ",-1)),createBaseVNode("p",_hoisted_51$4,toDisplayString(C.value.opensellamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[79]||(t[79]=createTextVNode("Total buy Avg ",-1)),createBaseVNode("p",_hoisted_52$4,toDisplayString(C.value.totbuyavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[80]||(t[80]=createTextVNode("Total sell Avg ",-1)),createBaseVNode("p",_hoisted_53$4,toDisplayString(C.value.totsellavgprc||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[81]||(t[81]=createTextVNode("Total buy Amt ",-1)),createBaseVNode("p",_hoisted_54$3,toDisplayString(C.value.totbuyamt||"0.00"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[82]||(t[82]=createTextVNode("Total sell Amt ",-1)),createBaseVNode("p",_hoisted_55$3,toDisplayString(C.value.totsellamt||"0.00"),1)]),_:1}),createVNode(VDivider)])]),_:1},8,["modelValue"])])])}}},PosiTions=_export_sfc(_sfc_main$F,[["__scopeId","data-v-655de622"]]),_hoisted_1$p={class:"my-6"},_hoisted_2$n={class:"caption"},_hoisted_3$l={class:"caption"},_hoisted_4$k={key:1},_hoisted_5$k={class:"pos-rlt"},_hoisted_6$k={class:"font-weight-medium maintext--text mb-0 table-hov-text mr-4"},_hoisted_7$k={class:"ml-1 subtext--text fs-10"},_hoisted_8$k=["src"],_hoisted_9$k={class:"font-weight-medium fs-12 primary--text"},_hoisted_10$k={class:"font-weight-medium fs-12"},_hoisted_11$k={class:"font-weight-medium fs-12"},_hoisted_12$k={key:2},_hoisted_13$j={class:"pos-rlt"},_hoisted_14$i={class:"font-weight-medium maintext--text mb-0 table-hov-text mr-4"},_hoisted_15$g={class:"ml-1 subtext--text fs-10"},_hoisted_16$b={key:1,class:"px-4"},_hoisted_17$b={key:0,class:"pb-6"},_hoisted_18$b={class:"float-right mb-0"},_hoisted_19$b={class:"font-weight-medium fs-12"},_hoisted_20$b={class:"font-weight-medium fs-12"},_hoisted_21$b={class:"float-right mb-0"},_hoisted_22$b={class:"font-weight-medium fs-12"},_hoisted_23$b={key:1},_hoisted_24$b={class:"float-right mb-0"},_hoisted_25$a={class:"float-right mb-0"},_hoisted_26$a={class:"float-right mb-0"},_hoisted_27$a={class:"float-right mb-0"},_hoisted_28$a={class:"float-right mb-0"},_hoisted_29$a={class:"float-right mb-0"},_hoisted_30$a={class:"float-right mb-0"},_hoisted_31$8={key:0,class:"float-right mb-0"},_hoisted_32$7={key:1,class:"float-right mb-0"},_hoisted_33$6={key:0,class:"float-right mb-0"},_hoisted_34$6={key:1,class:"float-right mb-0"},_hoisted_35$6={class:"float-right mb-0"},_hoisted_36$6={class:"float-right mb-0"},_hoisted_37$6={key:0,class:"float-right mb-0"},_hoisted_38$6={key:1,class:"float-right mb-0"},_hoisted_39$6={class:"pa-4"},_hoisted_40$6={class:"pa-4"},_sfc_main$E={__name:"HolDings",setup(e){const t=useRouter$1(),a=useAppStore(),o=ref$1(!1),r=ref$1([]),n=ref$1("stocks"),i=ref$1([]),l=ref$1(!1),s=ref$1(""),c=ref$1("all"),d=ref$1(!1),u=ref$1({}),p=ref$1(!1),h=ref$1(""),m=ref$1(""),v=ref$1([{val:"all",txt:"All"},{val:"NSE",txt:"NSE"},{val:"BSE",txt:"BSE"},{val:"MCX",txt:"MCX"},{val:"bond",txt:"Bonds"}]),f=ref$1([{name:"Add",icon:"mdi-plus",type:"order"},{name:"Exit",icon:"mdi-close",type:"exit-order",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}]),g=[{key:"tsym",text:"Instrument"},{key:"netqty",text:"Net Qty"},{key:"netavgprc",text:"Avg Price",align:"right"},{key:"ltp",text:"LTP",align:"right"},{key:"invested_val",text:"Invested",align:"right"},{key:"current_val",text:"Current Value",align:"right"},{key:"day_pnl",text:"Day P&L",align:"right"},{key:"day_pc",text:"Day %",align:"right"},{key:"rpnl",text:"P&L",align:"right"}],y=new Set(["netqty","netavgprc","ltp","invested_val","current_val","day_pnl","day_pc","rpnl"]);const _=computed(()=>function(e){const t=[],a=e&&e.length?e[0]:null;return g.forEach(e=>{a&&!Object.prototype.hasOwnProperty.call(a,e.key)||t.push({title:e.text,key:e.key,align:e.align||(y.has(e.key)?"right":void 0)})}),t}(r.value)),b=computed(()=>[{title:"Instrument",key:"name"},{title:"Qty",key:"avg_qty",align:"right"},{title:"Avg NAV",key:"avg_nav",align:"right"},{title:"NAV",key:"Cur_Nav",align:"right"},{title:"Invested",key:"invested_value",align:"right"},{title:"Current Value",key:"current_value",align:"right"},{title:"Overall P&L",key:"profit_loss",align:"right"},{title:"Overall %",key:"changeprofitloss",align:"right"}]),w=computed(()=>Array.isArray(r.value)?r.value:[]),x=computed(()=>{const e=r.value||[];if(0===e.length)return{stockvalue:"0.00",invested:"0.00",pnl:"0.00",cpnl:"0.00",d_pnl:"0.00",d_cpnl:"0.00",positive:0,negative:0};const t=t=>e.reduce((e,a)=>e+(Number(a[t])||0),0),a=t("inv"),o=t("curr"),n=t("pnl"),i=t("d_pnl"),l=e.filter(e=>Number(e.pnlc)>0).length,s=e.filter(e=>Number(e.pnlc)<0).length,c=e=>e>0||e<0?Math.abs(e).toFixed(2):"0.00";return{stockvalue:c(o),invested:c(a),pnl:c(n),cpnl:a>0?(n/a*100).toFixed(2):"0.00",d_pnl:i.toFixed(2),d_cpnl:a>0?(i/a*100).toFixed(2):"0.00",positive:l,negative:s}}),V=computed(()=>{const e=i.value||[];if(0===e.length)return{totalValue:"0.00",invested:"0.00",pnl:"0.00",pnlPercent:"0.00"};const t=e.reduce((e,t)=>e+(Number(t.current_value)||0),0),a=e.reduce((e,t)=>e+(Number(t.invested_value)||0),0),o=t-a,r=a>0?(o/a*100).toFixed(2):"0.00";return{totalValue:k(t),invested:k(a),pnl:k(o),pnlPercent:r}});function k(e){const t=Number(e);return isFinite(t)?Number(t).toFixed(2):"0.00"}function C(e){const t=Number(e);return isFinite(t)?`${t.toFixed(2)} %`:"0.00 %"}function S(e){const t=(null==e?void 0:e.response)||[];p.value=(null==e?void 0:e.edis)>0,t.forEach((e,t)=>{e.tokn=`${e.token}_${t}`;const a=Number(e.ltp),o=Number(e.close||e.prev_close_price);if(!isFinite(e.rpnl)){const t=Number(e.netqty)||0,o=Number(e.netavgprc||e.upldprc)||0;isFinite(a)&&t?e.rpnl=((a-o)*t).toFixed(2):e.rpnl="0.00"}!isFinite(e.ltp)&&isFinite(o)&&(e.ltp=o.toFixed(2));const r=Number(e.netqty)||0,n=Number(e.netavgprc||e.upldprc)||0,i=isFinite(a)?a:n,l=isFinite(o)?o:i,s=Math.abs(r);e.invested_val=(n*s).toFixed(2),e.current_val=(i*s).toFixed(2),e.inv=e.invested_val,e.curr=e.current_val,e.pnl=(Number(e.curr)-Number(e.inv)).toFixed(2),e.pnlc=Number(e.inv)>0?(Number(e.pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.day_pnl=((i-l)*s).toFixed(2),e.d_pnl=e.day_pnl,e.day_pc=l?((i-l)/l*100).toFixed(2):"0.00",e.d_cpnl=Number(e.inv)>0?(Number(e.d_pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.rpnl=e.rpnl||e.pnl}),r.value=t,t.length>0&&window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:t,is:"hold",page:"holding"}}))}const N=computed(()=>"all"===c.value?w.value:w.value.filter(e=>"bond"===c.value?"T-BILL"===e.exchs||"G-SEC"===e.exchs||"SGB"===e.exchs:e.exch===c.value)),T=computed(()=>{const e=s.value;return e?N.value.filter(t=>function(e,t,a){if(!a)return!0;const o=a.toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(o))}(t,["tsym","exch"],e)):N.value});async function B(){o.value=!0;const e=await getMHoldings();if(e&&e.response&&Array.isArray(e.response))S(e),sessionStorage.setItem("holdings_last",JSON.stringify(e));else if(500!==e){a.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load holdings");const t=sessionStorage.getItem("holdings_last");if(t)try{S(JSON.parse(t))}catch(e2){console.error("Failed to load cached holdings",e2)}}o.value=!1}async function E(){l.value=!0;const e=await getMMHoldings();if(e&&Array.isArray(e.data))i.value=e.data.map((e,t)=>({...e,idx:t,holdtype:"mf"})),sessionStorage.setItem("mfholdings_last",JSON.stringify(e));else if(500!==e){a.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load MF holdings");const t=sessionStorage.getItem("mfholdings_last");if(t)try{const e=JSON.parse(t);i.value=e.data?e.data.map((e,t)=>({...e,idx:t,holdtype:"mf"})):[]}catch(e2){console.error("Failed to load cached MF holdings",e2)}}l.value=!1}function I(e){const t=e.detail;if((null==t?void 0:t.response)&&(S(t),d.value&&u.value&&u.value.tokn)){const e=r.value.findIndex(e=>e.tokn===u.value.tokn);e>=0&&(u.value={...r.value[e]})}}function $(e){var t;const a=e.detail;if(!(null==a?void 0:a.token)||!(null==(t=r.value)?void 0:t.length))return;const o=r.value.findIndex(e=>e.token==a.token);if(o>=0){const e=r.value[o],t=Number(a.lp||a.ltp),n=Number(a.close||a.prev_close_price||e.close);isFinite(t)&&(e.ltp=t.toFixed(2)),isFinite(n)&&(e.close=n);const i=Number(e.netqty)||0,l=Number(e.netavgprc||e.upldprc)||0,s=Number(e.ltp)||l,c=isFinite(n)?n:s,d=Math.abs(i);e.invested_val=(l*d).toFixed(2),e.current_val=(s*d).toFixed(2),e.inv=e.invested_val,e.curr=e.current_val,e.pnl=(Number(e.curr)-Number(e.inv)).toFixed(2),e.pnlc=Number(e.inv)>0?(Number(e.pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.day_pnl=((s-c)*d).toFixed(2),e.d_pnl=e.day_pnl,e.day_pc=c?((s-c)/c*100).toFixed(2):"0.00",e.d_cpnl=Number(e.inv)>0?(Number(e.d_pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.rpnl=i?((s-l)*i).toFixed(2):e.pnl}if(d.value&&u.value&&u.value.tokn){const e=r.value.findIndex(e=>e.tokn===u.value.tokn);e>=0&&(u.value={...r.value[e]})}if(d.value&&u.value&&"mf"===u.value.holdtype){const e=i.value.findIndex(e=>e.idx===u.value.idx);e>=0&&(u.value={...i.value[e]})}}function P(e,t,a,o,r,n){console.log("handleMenuDialog",e,t,a,o,r,n),d.value=!1,window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:o,trantype:r,item:n}}))}function D(e,a,o,r,n,i){if(console.log("setSSDtab",e,a,o,r,n,i),d.value=!1,"alert"===e)P("alert",a,o,r);else if("cGTT"===e)P("order-GTT",a,o,r,"b");else if("exit-order"===e)P("exit-order",a,o,r,n,i);else if("order"===e)P("order",a,o,r,(null==i?void 0:i.netqty)<0?"s":"b",i);else{const n=[e,a,o,r];t.push({name:"stocks details",params:{val:n}})}}async function L(e){if(d.value=!0,!e)return;const t=e&&e.raw?e.raw:e;if(t&&Object.keys(t).length&&(u.value={...t},t.exch&&t.token&&!t.holdtype))try{const e=await getQuotesdata(`${t.exch}|${t.token}`);u.value.quotes=e}catch(e2){console.error("Failed to fetch quotes",e2)}}function R(){d.value=!1}function A(){"stocks"===n.value?B():"mutual"===n.value&&E()}function O(e){"port-order"===e.detail&&B()}return onMounted(()=>{h.value=sessionStorage.getItem("userid"),m.value=sessionStorage.getItem("usession");const e=sessionStorage.getItem("holdings_last");if(e)try{const t=JSON.parse(e);t.response&&Array.isArray(t.response)&&t.response.length>0&&S(t)}catch(e2){console.error("Failed to load cached holdings",e2)}B(),E(),window.addEventListener("tempdata-update",I),window.addEventListener("web-scoketConn",$),window.addEventListener("orderbook-update",O)}),onBeforeUnmount(()=>{r.value.length>0&&window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:r.value,is:"hold",page:"holding"}})),window.removeEventListener("tempdata-update",I),window.removeEventListener("web-scoketConn",$),window.removeEventListener("orderbook-update",O)}),(e,t)=>{const g=resolveComponent("v-list-item-content");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$p,["portfolio"!==n.value?(openBlock(),createBlock(VRow,{key:0},{default:withCtx(()=>[createVNode(VCol,{cols:"12"},{default:withCtx(()=>["stocks"===n.value?(openBlock(),createBlock(VCard,{key:0,class:"px-2 stat-card rounded-md d-inline-flex pt-2 pb-1 overflow-hidden",width:"100%"},{default:withCtx(()=>[createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[11]||(t[11]=[createTextVNode("Stocks Value",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(x.value.stockvalue||"0.00"),1)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[12]||(t[12]=[createTextVNode("Day Change",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(x.value.d_pnl)>0?"maingreen--text":Number(x.value.d_pnl)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",null,toDisplayString(x.value.d_pnl||"0.00"),1)],2),createBaseVNode("span",{class:normalizeClass(["fs-13",Number(x.value.d_cpnl)>0?"maingreen--text":Number(x.value.d_cpnl)<0?"mainred--text":"subtext--text"])},[t[13]||(t[13]=createTextVNode(" (",-1)),createBaseVNode("span",null,toDisplayString(Number(x.value.d_cpnl)>0||Number(x.value.d_cpnl)<0?x.value.d_cpnl:"0.00"),1),t[14]||(t[14]=createTextVNode("%) ",-1))],2)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[15]||(t[15]=[createTextVNode("Invested",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(x.value.invested||"0.00"),1)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[16]||(t[16]=[createTextVNode("Profit/Loss",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(x.value.cpnl)>0?"maingreen--text":Number(x.value.cpnl)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",null,toDisplayString(x.value.pnl||"0.00"),1)],2),createBaseVNode("span",{class:normalizeClass(["fs-13",Number(x.value.cpnl)>0?"maingreen--text":Number(x.value.cpnl)<0?"mainred--text":"subtext--text"])},[t[17]||(t[17]=createTextVNode(" (",-1)),createBaseVNode("span",null,toDisplayString(Number(x.value.cpnl)>0||Number(x.value.cpnl)<0?x.value.cpnl:"0.00"),1),t[18]||(t[18]=createTextVNode("%) ",-1))],2)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pb-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-0 font-weight-medium"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("Stock Position",-1)])]),_:1}),createVNode(VChipGroup,{row:""},{default:withCtx(()=>[createVNode(VChip,{class:"mr-2 rounded-lg",color:"secgreen","text-color":"maingreen"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$n,toDisplayString(x.value.positive||0),1),t[20]||(t[20]=createTextVNode(" Positive ",-1))]),_:1}),createVNode(VChip,{height:"16",class:"mr-2 rounded-lg",color:"secred","text-color":"mainred"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$l,toDisplayString(x.value.negative||0),1),t[21]||(t[21]=createTextVNode(" Negative ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(VCard,{key:1,class:"px-2 stat-card rounded-md d-inline-flex pt-2 pb-1 overflow-hidden",width:"100%"},{default:withCtx(()=>[createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode("Current Value",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(V.value.totalValue||"0.00"),1)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("Invested",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(V.value.invested||"0.00"),1)]),_:1})]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(g,{class:"pt-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("Profit/Loss",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(Number(V.value.pnl)>0?"maingreen--text":Number(V.value.pnl)<0?"mainred--text":"subtext--text")},[createBaseVNode("span",null,toDisplayString(V.value.pnl||"0.00"),1)],2),createBaseVNode("span",{class:normalizeClass(["fs-13",Number(V.value.pnlPercent)>0?"maingreen--text":Number(V.value.pnlPercent)<0?"mainred--text":"subtext--text"])},[t[25]||(t[25]=createTextVNode(" (",-1)),createBaseVNode("span",null,toDisplayString(Number(V.value.pnlPercent)>0||Number(V.value.pnlPercent)<0?V.value.pnlPercent:"0.00"),1),t[26]||(t[26]=createTextVNode("%) ",-1))],2)]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:withCtx(()=>[createVNode(VTab,{value:"stocks",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("Stocks ("+toDisplayString(r.value.length)+")",1)]),_:1}),createVNode(VTab,{value:"mutual",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("Mutual Funds ("+toDisplayString(i.value.length)+")",1)]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),"stocks"===n.value?(openBlock(),createBlock(VTextField,{key:0,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"prepend-inner-icon":"mdi-magnify",label:"Search",variant:"solo-filled",color:"primary",density:"comfortable","hide-details":"",class:"rounded-pill mr-4",style:{"max-width":"220px","background-color":"#F1F3F8"}},null,8,["modelValue"])):createCommentVNode("",!0),"stocks"===n.value?(openBlock(),createBlock(VSelect,{key:1,style:{"max-width":"160px"},modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),"hide-details":"","item-title":"txt","item-value":"val","prepend-inner-icon":"mdi-format-list-bulleted",class:"rounded-pill ml-4",variant:"solo",density:"comfortable","bg-color":"secbg",items:v.value,label:"Filter"},null,8,["modelValue","items"])):createCommentVNode("",!0),"stocks"===n.value&&p.value?(openBlock(),createBlock(VBtn,{key:2,onClick:t[3]||(t[3]=e=>async function(){try{const e=await getHsTokenapi();if(e&&"Ok"==e.stat){const t=CryptoJS.enc.Utf8.parse(`sLoginId=${h.value}&sAccountId=${h.value}&prd=C&token=${e.hstk}&sBrokerId=ZEBU&open=edis`),a=CryptoJS.enc.Base64.stringify(t);window.open(`https://go.mynt.in/NorenEdis/NonPoaHoldings/?${a}`,"_blank")}else a.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to get E-DIS token")}catch(e2){console.error("E-DIS error",e2),a.showSnackbar(2,"Failed to open E-DIS")}}()),class:"elevation-0 rounded-pill font-weight-bold text-none ml-4",color:"primary"},{default:withCtx(()=>[...t[27]||(t[27]=[createTextVNode("E-DIS",-1)])]),_:1})):createCommentVNode("",!0),"portfolio"!==n.value?(openBlock(),createBlock(VIcon,{key:3,disabled:o.value||l.value,class:"ml-3 cursor-p",onClick:A,color:"maintext",size:"24"},{default:withCtx(()=>[...t[28]||(t[28]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)]),_:1}),"stocks"===n.value?(openBlock(),createElementBlock("div",_hoisted_4$k,[createVNode(VDataTable,{headers:_.value,items:T.value,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480px","hide-default-footer":"","fixed-header":"","item-value":"tokn","items-per-page":-1,"onClick:row":t[5]||(t[5]=(e,{item:t})=>L((null==t?void 0:t.raw)||t))},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_5$k,[createBaseVNode("p",_hoisted_6$k,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_7$k,toDisplayString(e.exch||""),1)]),e&&e.action?(openBlock(),createElementBlock("div",{key:0,onClick:t[4]||(t[4]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VBtn,{onClick:withModifiers(t=>P("order",e.token,e.exch,e.tsym,"b"),["stop"]),"min-width":"20px",color:"maingreen",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[29]||(t[29]=[createTextVNode(" B ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:withModifiers(t=>P("order",e.token,e.exch,e.tsym,"s"),["stop"]),"min-width":"20px",color:"mainred",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[30]||(t[30]=[createTextVNode(" S ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:withModifiers(t=>D("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[31]||(t[31]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VTooltip,{location:"bottom"},{activator:withCtx(({props:a})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(a)),[createVNode(VBtn,{onClick:withModifiers(t=>D("exit-order",e.token,e.exch,e.tsym,e.netqty<0?"b":"s",e),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[32]||(t[32]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[33]||(t[33]=createBaseVNode("span",null,"Exit",-1))]),_:2},1024),createVNode(VMenu,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[34]||(t[34]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(f.value,(t,a)=>(openBlock(),createElementBlock(Fragment,{key:a},[createVNode(VListItem,{onClick:a=>""!=t.type?D(t.type,e.token,e.exch,e.tsym,e.netqty<0?"b":"s",e):L(e),class:"pl-3 pr-6"},{prepend:withCtx(()=>["number"==typeof t.icon&&t.icon>2?(openBlock(),createElementBlock("img",{key:0,width:"20px",class:"pl-1",src:`/src/assets/orderbook/${t.icon}.svg`},null,8,_hoisted_8$k)):(openBlock(),createBlock(VIcon,{key:1,color:"#506D84"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.icon),1)]),_:2},1024))]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):createCommentVNode("",!0)])]),"item.netqty":withCtx(({item:e})=>[e&&e.plgqty>0?(openBlock(),createBlock(VChip,{key:0,small:"",class:"table-hov-prd",color:"secbg",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createVNode(VIcon,{color:"primary",size:"12"},{default:withCtx(()=>[...t[35]||(t[35]=[createTextVNode("mdi-lock",-1)])]),_:1}),createBaseVNode("span",_hoisted_9$k,toDisplayString(e.plgqty),1)]),_:2},1024)):createCommentVNode("",!0),e&&e.btstqty>0?(openBlock(),createBlock(VChip,{key:1,small:"",color:"#FFD8B4","text-color":"#E8862A",style:"border-radius: 5px; padding: 10px 8px !important; margin-left: 4px;"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_10$k,toDisplayString(`T1 ${e.btstqty}`),1)]),_:2},1024)):createCommentVNode("",!0),createVNode(VChip,{small:"",color:e&&e.netqty>0?"secgreen":e&&e.netqty<0?"secred":"secbg","text-color":e&&e.netqty>0?"maingreen":e&&e.netqty<0?"mainred":"subtext",style:normalizeStyle(`border: 1px solid ${e&&e.netqty>0?"#C1E7BA":e&&e.netqty<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_11$k,toDisplayString(e&&e.netqty>0?`+${e.netqty}`:e&&e.netqty<0?`${e.netqty}`:"0"),1)]),_:2},1032,["color","text-color","style"])]),"item.rpnl":withCtx(({item:e})=>[createBaseVNode("span",{class:normalizeClass(Number(e.rpnl)>0?"maingreen--text":Number(e.rpnl)<0?"mainred--text":"subtext--text")},toDisplayString(k(e.rpnl)),3)]),"item.invested_val":withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(k(e.invested_val)),1)]),"item.current_val":withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(k(e.current_val)),1)]),"item.day_pnl":withCtx(({item:e})=>[createBaseVNode("span",{class:normalizeClass(Number(e.day_pnl)>0?"maingreen--text":Number(e.day_pnl)<0?"mainred--text":"subtext--text")},toDisplayString(k(e.day_pnl)),3)]),"item.day_pc":withCtx(({item:e})=>[createBaseVNode("span",{class:normalizeClass(Number(e.day_pc)>0?"maingreen--text":Number(e.day_pc)<0?"mainred--text":"subtext--text")},toDisplayString(C(e.day_pc)),3)]),_:1},8,["headers","items","loading"])])):"mutual"===n.value?(openBlock(),createElementBlock("div",_hoisted_12$k,[createVNode(VDataTable,{headers:b.value,items:i.value,loading:l.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480px","hide-default-footer":"","fixed-header":"","items-per-page":-1,"onClick:row":t[7]||(t[7]=(e,{item:t})=>L((null==t?void 0:t.raw)||t))},{"item.name":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_13$j,[createBaseVNode("p",_hoisted_14$i,toDisplayString(e.name||"-"),1),e&&"mf"===e.holdtype?(openBlock(),createElementBlock("div",{key:0,onClick:t[6]||(t[6]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"9px",right:"0"}},[createVNode(VBtn,{onClick:withModifiers(t=>P("mforder","redem",e),["stop"]),small:"",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"secbg"},{default:withCtx(()=>[...t[36]||(t[36]=[createTextVNode("Redeem",-1)])]),_:1},8,["onClick"])])):createCommentVNode("",!0)])]),"item.profit_loss":withCtx(({item:e})=>[createBaseVNode("span",{class:normalizeClass(Number(e.profit_loss)>0?"maingreen--text":Number(e.profit_loss)<0?"mainred--text":"subtext--text")},toDisplayString(e.profit_loss??"0.00"),3)]),_:1},8,["headers","items","loading"])])):createCommentVNode("",!0)]),createVNode(VNavigationDrawer,{modelValue:d.value,"onUpdate:modelValue":t[10]||(t[10]=e=>d.value=e),location:"right",temporary:"",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},createSlots({prepend:withCtx(()=>[createVNode(VToolbar,{density:"compact",class:"nav-drawer crd-trn"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",variant:"text",density:"comfortable",onClick:R,"aria-label":"Close drawer"},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext",size:"20"},{default:withCtx(()=>[...t[37]||(t[37]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),t[38]||(t[38]=createBaseVNode("p",{class:"maintext--text font-weight-bold mb-0 ml-2"}," Holding Details ",-1)),createVNode(VSpacer)]),_:1})]),default:withCtx(()=>[u.value&&Object.keys(u.value).length>0?(openBlock(),createBlock(VListItem,{key:0,class:"py-3"},{default:withCtx(()=>["mf"===u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:0,class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.name||""),1)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:1,class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.tsym||"")+" ",1),createBaseVNode("span",_hoisted_15$g,toDisplayString(u.value.exchs||u.value.exch||""),1)]),_:1})),"mf"===u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:2,class:"maintext--text font-weight-medium fs-16 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.current_value||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass([Number(u.value.profit_loss)>0?"maingreen--text":Number(u.value.profit_loss)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},toDisplayString(u.value.profit_loss||"0.00")+" ("+toDisplayString(u.value.changeprofitloss||"0.00")+"%) ",3)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:3,class:"maintext--text font-weight-medium fs-16 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.ltp||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass([Number(u.value.pnl)>0?"maingreen--text":Number(u.value.pnl)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},toDisplayString(u.value.pnl||"0.00")+" ("+toDisplayString(u.value.pnlc||"0.00")+"%) ",3)]),_:1}))]),_:1})):createCommentVNode("",!0),u.value&&Object.keys(u.value).length>0?(openBlock(),createElementBlock("div",_hoisted_16$b,[["NSE","BSE","MCX"].includes(u.value.exch)?(openBlock(),createElementBlock("div",_hoisted_17$b,[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[p.value?(openBlock(),createBlock(VBtn,{key:0,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",block:""},{default:withCtx(()=>[...t[39]||(t[39]=[createTextVNode(" E-DIS ",-1)])]),_:1})):(openBlock(),createBlock(VBtn,{key:1,target:"_blank",href:`https://profile.zebuetrade.in/deposltory/?uid=${h.value}&token=${m.value}`,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",block:"",height:"40"},{default:withCtx(()=>[...t[40]||(t[40]=[createTextVNode(" DO POA ",-1)])]),_:1},8,["href"]))]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[8]||(t[8]=e=>D("exit-order",u.value.token,u.value.exch,u.value.tsym,u.value.netqty<0?"b":"s",u.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"outlined"},{default:withCtx(()=>[createVNode(VIcon,{size:"20"},{default:withCtx(()=>[...t[41]||(t[41]=[createTextVNode("mdi-close",-1)])]),_:1}),t[42]||(t[42]=createTextVNode(" Exit ",-1))]),_:1})]),_:1})]),_:1})])):createCommentVNode("",!0),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[43]||(t[43]=createTextVNode(" Quantity ",-1)),createBaseVNode("p",_hoisted_18$b,["mf"===u.value.holdtype?(openBlock(),createBlock(VChip,{key:0,small:"",color:Number(u.value.avg_qty)>0?"secgreen":Number(u.value.avg_qty)<0?"secred":"secbg","text-color":Number(u.value.avg_qty)>0?"maingreen":Number(u.value.avg_qty)<0?"mainred":"subtext",style:normalizeStyle(`border: 1px solid ${Number(u.value.avg_qty)>0?"#C1E7BA":Number(u.value.avg_qty)<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_19$b,toDisplayString(Number(u.value.avg_qty)>0?`+${u.value.avg_qty}`:Number(u.value.avg_qty)<0?`${u.value.avg_qty}`:"0"),1)]),_:1},8,["color","text-color","style"])):(openBlock(),createBlock(VChip,{key:1,small:"",color:Number(u.value.netqty)>0?"secgreen":Number(u.value.netqty)<0?"secred":"secbg","text-color":Number(u.value.netqty)>0?"maingreen":Number(u.value.netqty)<0?"mainred":"subtext",style:normalizeStyle(`border: 1px solid ${Number(u.value.netqty)>0?"#C1E7BA":Number(u.value.netqty)<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_20$b,toDisplayString(Number(u.value.netqty)>0?`+${u.value.netqty}`:Number(u.value.netqty)<0?`${u.value.netqty}`:"0"),1)]),_:1},8,["color","text-color","style"]))])]),_:1}),createVNode(VDivider),"mf"!==u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:1,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[45]||(t[45]=createTextVNode(" Pledged Qty ",-1)),createBaseVNode("p",_hoisted_21$b,[Number(u.value.plgqty)>0?(openBlock(),createBlock(VChip,{key:0,small:"",class:"table-hov-prd","text-color":"#666",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createVNode(VIcon,{color:"#999",size:"12"},{default:withCtx(()=>[...t[44]||(t[44]=[createTextVNode("mdi-lock",-1)])]),_:1}),createBaseVNode("span",_hoisted_22$b,toDisplayString(u.value.plgqty),1)]),_:1})):(openBlock(),createElementBlock("span",_hoisted_23$b,"0"))])]),_:1})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VDivider,{key:2})):createCommentVNode("",!0),"mf"===u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:3,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[46]||(t[46]=createTextVNode(" Avg NAV ",-1)),createBaseVNode("p",_hoisted_24$b,toDisplayString(u.value.avg_nav?Number(u.value.avg_nav).toLocaleString():"0.00"),1)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:4,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[47]||(t[47]=createTextVNode(" Avg price ",-1)),createBaseVNode("p",_hoisted_25$a,toDisplayString(u.value.upldprc||u.value.netavgprc?Number(u.value.upldprc||u.value.netavgprc).toLocaleString():"0.00"),1)]),_:1})),createVNode(VDivider),"mf"===u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:5,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[48]||(t[48]=createTextVNode(" NAV ",-1)),createBaseVNode("p",_hoisted_26$a,toDisplayString(u.value.Cur_Nav||"0.00"),1)]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:6,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[49]||(t[49]=createTextVNode(" Last trade price ",-1)),createBaseVNode("p",_hoisted_27$a,toDisplayString(u.value.ltp||"0.00"),1)]),_:1})),createVNode(VDivider),"mf"===u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:7,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[50]||(t[50]=createTextVNode(" Overall P&L ",-1)),createBaseVNode("p",_hoisted_28$a,[createTextVNode(toDisplayString(u.value.profit_loss||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass(["fs-12",Number(u.value.changeprofitloss)>0?"maingreen--text":Number(u.value.changeprofitloss)<0?"mainred--text":"subtext--text"])}," ("+toDisplayString(u.value.changeprofitloss||"0.00")+"%)",3)])]),_:1})):(openBlock(),createBlock(VListItemTitle,{key:8,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[51]||(t[51]=createTextVNode(" Overall P&L ",-1)),createBaseVNode("p",_hoisted_29$a,[createTextVNode(toDisplayString(u.value.pnl||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass(["fs-12",Number(u.value.pnlc)>0?"maingreen--text":Number(u.value.pnlc)<0?"mainred--text":"subtext--text"])}," ("+toDisplayString(u.value.pnlc||"0.00")+"%)",3)])]),_:1})),"mf"!==u.value.holdtype?(openBlock(),createBlock(VDivider,{key:9})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:10,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[52]||(t[52]=createTextVNode(" Day P&L ",-1)),createBaseVNode("p",_hoisted_30$a,[createTextVNode(toDisplayString(u.value.d_pnl||u.value.day_pnl||"0.00")+" ",1),createBaseVNode("span",{class:normalizeClass(["fs-12",Number(u.value.d_cpnl||u.value.day_pc)>0?"maingreen--text":Number(u.value.d_cpnl||u.value.day_pc)<0?"mainred--text":"subtext--text"])}," ("+toDisplayString(u.value.d_cpnl||u.value.day_pc||"0.00")+"%)",3)])]),_:1})):createCommentVNode("",!0),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[53]||(t[53]=createTextVNode(" Investment ",-1)),"mf"===u.value.holdtype?(openBlock(),createElementBlock("p",_hoisted_31$8,toDisplayString(u.value.invested_value||""),1)):(openBlock(),createElementBlock("p",_hoisted_32$7,toDisplayString(u.value.inv||u.value.invested_val||""),1))]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[54]||(t[54]=createTextVNode(" Current value ",-1)),"mf"===u.value.holdtype?(openBlock(),createElementBlock("p",_hoisted_33$6,toDisplayString(u.value.current_value||""),1)):(openBlock(),createElementBlock("p",_hoisted_34$6,toDisplayString(u.value.curr||u.value.current_val||""),1))]),_:1}),"mf"!==u.value.holdtype?(openBlock(),createBlock(VDivider,{key:11})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:12,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[55]||(t[55]=createTextVNode(" Product ",-1)),createBaseVNode("p",_hoisted_35$6,toDisplayString(u.value.prd?"I"===u.value.prd?"INTRADAY":"C"===u.value.prd?"DELIVERY":"MARKET":""),1)]),_:1})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VDivider,{key:13})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VListItemTitle,{key:14,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[56]||(t[56]=createTextVNode(" Order type ",-1)),createBaseVNode("p",_hoisted_36$6,toDisplayString(u.value.s_prdt_ali||"-"),1)]),_:1})):createCommentVNode("",!0),"mf"!==u.value.holdtype?(openBlock(),createBlock(VDivider,{key:15})):createCommentVNode("",!0),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[57]||(t[57]=createTextVNode(" ISIN ",-1)),"mf"===u.value.holdtype?(openBlock(),createElementBlock("p",_hoisted_37$6,toDisplayString(u.value.ISIN||"-"),1)):(openBlock(),createElementBlock("p",_hoisted_38$6,toDisplayString(u.value.isin||"-"),1))]),_:1})])):createCommentVNode("",!0)]),_:2},[u.value&&Object.keys(u.value).length&&["NSE","BSE","MCX"].includes(u.value.exch)?{name:"append",fn:withCtx(()=>[createVNode(VDivider),createBaseVNode("div",_hoisted_39$6,[createVNode(VBtn,{onClick:t[9]||(t[9]=e=>P("order",u.value.token,u.value.exch,u.value.tsym,u.value.netqty>0?"b":"s")),class:"rounded-pill text-none font-weight-bold elevation-0",color:Number(u.value.netqty)>0?"secgreen":Number(u.value.netqty)<0?"secred":"secbg","text-color":Number(u.value.netqty)>0?"maingreen":Number(u.value.netqty)<0?"mainred":"subtext",block:"",height:"40",style:normalizeStyle(`border: 2px solid ${Number(u.value.netqty)>0?"#C1E7BA":Number(u.value.netqty)<0?"#FFCDCD":"#DDD"};`)},{default:withCtx(()=>[createVNode(VIcon,{size:"20"},{default:withCtx(()=>[...t[58]||(t[58]=[createTextVNode("mdi-plus",-1)])]),_:1}),t[59]||(t[59]=createTextVNode(" Add ",-1))]),_:1},8,["color","text-color","style"])])]),key:"0"}:{name:"append",fn:withCtx(()=>[createVNode(VDivider),createBaseVNode("div",_hoisted_40$6,[createVNode(VBtn,{block:"",color:"primary",variant:"tonal",class:"text-none",onClick:R},{default:withCtx(()=>[...t[60]||(t[60]=[createTextVNode(" Close ",-1)])]),_:1})])]),key:"1"}]),1032,["modelValue"])])}}},_sfc_main$D={__name:"PortfiloAn",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Portfolio Analysis",-1),createBaseVNode("p",null,"Portfolio performance and analysis",-1)])]),_:1})]))},cancelIcon="data:image/svg+xml,%3csvg%20width='50'%20height='49'%20viewBox='0%200%2050%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M25%2047.979C38.2%2047.979%2049%2037.3169%2049%2024.2854C49%2011.2539%2038.2%200.591797%2025%200.591797C11.8%200.591797%201%2011.2539%201%2024.2854C1%2037.3169%2011.8%2047.979%2025%2047.979Z'%20fill='%23FFE0DB'/%3e%3cpath%20d='M25%2047.979C38.2%2047.979%2049%2037.3169%2049%2024.2854C49%2011.2539%2038.2%200.591797%2025%200.591797C11.8%200.591797%201%2011.2539%201%2024.2854C1%2037.3169%2011.8%2047.979%2025%2047.979Z'%20fill='%23FFF7F7'/%3e%3cpath%20d='M25%2047.979C38.2%2047.979%2049%2037.3169%2049%2024.2854C49%2011.2539%2038.2%200.591797%2025%200.591797C11.8%200.591797%201%2011.2539%201%2024.2854C1%2037.3169%2011.8%2047.979%2025%2047.979Z'%20stroke='%23FFDADE'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17.9258%2017.9297L32.0686%2032.0725M32.0686%2017.9297L17.9258%2032.0725'%20stroke='%23DC2626'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_hoisted_1$o={class:"font-weight-medium maintext--text"},_hoisted_2$m={class:"font-weight-medium fs-12"},_hoisted_3$k={class:"pos-rlt"},_hoisted_4$j={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p mr-4"},_hoisted_5$j={class:"ml-1 subtext--text fs-10"},_hoisted_6$j=["src"],_hoisted_7$j={class:"font-weight-medium fs-12"},_hoisted_8$j={class:"font-weight-medium fs-12"},_hoisted_9$j={class:"font-weight-medium maintext--text mb-0"},_hoisted_10$j={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_11$j={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_12$j=["id"],_hoisted_13$i={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_14$h={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_15$f={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_16$a={class:"ws-p font-weight-medium maintext--text align-center"},_hoisted_17$a={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_18$a={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_19$a={key:2,xmlns:"http://www.w3.org/2000/svg",width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},_hoisted_20$a={class:"text-center"},_hoisted_21$a={class:"mx-auto py-16 mt-16"},_hoisted_22$a=["src"],_hoisted_23$a={class:"font-weight-medium maintext--text"},_hoisted_24$a={class:"font-weight-medium fs-12"},_hoisted_25$9={class:"pos-rlt"},_hoisted_26$9={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p mr-4"},_hoisted_27$9={class:"ml-1 subtext--text fs-10"},_hoisted_28$9=["src"],_hoisted_29$9={class:"font-weight-medium fs-12"},_hoisted_30$9={class:"font-weight-medium maintext--text mb-0"},_hoisted_31$7={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_32$6={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_33$5={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_34$5={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_35$5={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_36$5={class:"ws-p font-weight-medium maintext--text align-center"},_hoisted_37$5={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_38$5={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_39$5={class:"text-center"},_hoisted_40$5={class:"mx-auto py-16 mt-16"},_hoisted_41$5=["src"],_hoisted_42$5={key:0},_hoisted_43$5={class:"ml-1 txt-999 fs-10"},_hoisted_44$5={class:"float-right mb-0"},_hoisted_45$5={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_46$4={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},_hoisted_47$3={key:2,xmlns:"http://www.w3.org/2000/svg",width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},_hoisted_48$3={class:"px-4 pb-6"},_hoisted_49$3={key:0},_hoisted_50$3={class:"py-3 px-4"},_hoisted_51$3={class:"error--text font-weight-bold fs-14 mb-0"},_hoisted_52$3={class:"px-4 pt-1"},_hoisted_53$3={class:"float-right mb-0"},_hoisted_54$2={class:"float-right mb-0"},_hoisted_55$2={class:"float-right mb-0"},_hoisted_56$2={class:"float-right mb-0"},_hoisted_57$2={class:"float-right mb-0"},_hoisted_58$2={class:"float-right mb-0"},_hoisted_59$2={class:"float-right mb-0"},_hoisted_60$2={class:"float-right mb-0"},_hoisted_61$2={class:"float-right mb-0"},_hoisted_62$2={class:"float-right mb-0"},_hoisted_63$2={class:"float-right mb-0"},_hoisted_64$2={class:"px-4 pt-3 pb-4"},_hoisted_65$2={key:0,class:"px-6"},_hoisted_66$2={class:"mb-0 fs-14"},_hoisted_67$2={class:"float-right"},_hoisted_68$2={class:"mb-0 fs-14"},_hoisted_69$2={class:"float-right"},_hoisted_70$2={class:"mb-0 fs-14"},_hoisted_71$2={class:"float-right"},_hoisted_72$2={class:"mainred--text"},_hoisted_73$2=["src"],_hoisted_74$2={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_sfc_main$C={__name:"StocksOrderBook",setup(e){const t=useAppStore(),a=useRouter$1(),o=ref$1(!1),r=ref$1("orders"),n=ref$1(""),i=ref$1("All"),l=ref$1(0),s=ref$1(!1),c=ref$1(!1),d=ref$1(!1),u=ref$1({}),p=ref$1(null),h=ref$1([]),m=ref$1([]),v=ref$1([]),f=ref$1([]),g=ref$1({column:"norentm",desc:!0}),y=[{title:"All",value:"All"},{title:"TRIGGER_PENDING",value:"TRIGGER_PENDING"},{title:"PENDING",value:"PENDING"},{title:"OPEN",value:"OPEN"}],_=[{title:"All",value:"All"},{title:"COMPLETE",value:"COMPLETE"},{title:"REJECTED",value:"REJECTED"},{title:"CANCELED",value:"CANCELED"}],b=[{name:"Buy",icon:"mdi-plus",type:"order",trans:"b"},{name:"Sell",icon:"mdi-minus",type:"order",trans:"s",hr:!0},{name:"History",icon:"mdi-history",type:"his",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],w=[{name:"History",icon:"mdi-history",type:"his",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],x=[{title:"Time",key:"norentm",sortable:!0},{title:"Type",key:"trantype",sortable:!0},{title:"Instrument",key:"tsym",sortable:!0},{title:"Product",key:"s_prdt_ali",sortable:!0},{title:"Qty",key:"qty",sortable:!0,align:"right"},{title:"Avg price",key:"rprc",sortable:!0,align:"right"},{title:"LTP",key:"ltp",sortable:!0,align:"right"},{title:"Price",key:"prc",sortable:!0,align:"right"},{title:"Trigger price",key:"trgprc",sortable:!0,align:"right"},{title:"Order value",key:"value",sortable:!0,align:"right"},{title:"Status",key:"status",sortable:!1}],V=[{title:"Date Time",key:"norentm"},{title:"Exch Time",key:"exch"},{title:"Price",key:"prc"},{title:"Pending Qty",key:"qty"},{title:"Status",key:"status"},{title:"Modified by",key:"modifi"}],k=computed(()=>{let e=m.value||[];return"All"!==i.value?(e=e.filter(e=>e.status===i.value),l.value=e.length):l.value=0,e}),C=computed(()=>{let e=v.value||[];return"All"!==i.value?(e=e.filter(e=>e.status===i.value),l.value=e.length):l.value=0,e}),S=computed(()=>{const e=[...k.value];return g.value.column&&e.sort((e,t)=>{const a=g.value.column,o=g.value.desc?-1:1;if("norentm"===a)return o*(e.norentm>t.norentm?1:e.norentm<t.norentm?-1:0);const r=e[a],n=t[a];return"number"==typeof r&&"number"==typeof n?o*(r-n):o*String(r||"").localeCompare(String(n||""))}),e}),N=computed(()=>{const e=[...C.value];return g.value.column&&e.sort((e,t)=>{const a=g.value.column,o=g.value.desc?-1:1;if("norentm"===a)return o*(e.norentm>t.norentm?1:e.norentm<t.norentm?-1:0);const r=e[a],n=t[a];return"number"==typeof r&&"number"==typeof n?o*(r-n):o*String(r||"").localeCompare(String(n||""))}),e});function T(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}function B(e){if(!e)return"-";const t=String(e);if(t.includes(":"))return t.slice(0,8);const a=Number(t);if(!isFinite(a))return t;const o=new Date(a);return isFinite(o.getTime())?o.toTimeString().slice(0,8):t}function E(e){const t=(null==e?void 0:e.response)||[];f.value=t,m.value=(null==e?void 0:e.openorders)||t.filter(e=>"open"===e.way),v.value=(null==e?void 0:e.execorders)||t.filter(e=>"open"!==e.way);try{sessionStorage.setItem("orders_last",JSON.stringify(e))}catch(e2){}}async function I(){o.value=!0;const e=await getMOrderbook(!0);e&&(Array.isArray(e.response)||Array.isArray(e.openorders))?E(e):500!==e&&t.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load orders"),o.value=!1}function $(){i.value="All",l.value=0}function P(e){u.value=e,c.value=!0}async function D(){if("all"===u.value||h.value.length===m.value.length){for(let e=0;e<h.value.length;e++)h.value[e]&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"cancel-order",token:h.value[e].token,exch:h.value[e].exch,tsym:h.value[e].tsym,trantype:"",item:h.value[e]}})),e<h.value.length-1&&await new Promise(e=>setTimeout(e,100));h.value=[]}else u.value&&u.value.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"cancel-order",token:u.value.token,exch:u.value.exch,tsym:u.value.tsym,trantype:"",item:u.value}}));c.value=!1,u.value=null}function L(e,t,o,r,n,i){if("alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"alert",token:t,exch:o,tsym:r}}));else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:o,tsym:r,trantype:"b"}}));else if("modify"===e||"mod-order"===e)i.fillshares>0&&i.qty!==i.fillshares&&(i.qty=i.qty-i.fillshares),window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-order",token:t,exch:o,tsym:r,trantype:null==n?void 0:n.toLowerCase(),item:i}}));else if("order"===e||"re-order"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:t,exch:o,tsym:r,trantype:n,item:i}}));else if("his"===e)A(i.norenordno);else{const n=[e,t,o,r];a.push({name:"stocks details",params:{val:n}})}}function R(e){var t;e.fillshares>0&&e.qty!==e.fillshares&&(e.qty=e.qty-e.fillshares),window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-order",token:e.token,exch:e.exch,tsym:e.tsym,trantype:null==(t=e.trantype)?void 0:t.toLowerCase(),item:e}}))}async function A(e){var a;o.value=!0;const r=await getSingleorderbook(e);r&&Array.isArray(r)&&"Ok"===(null==(a=r[0])?void 0:a.stat)?(p.value=r.map(e=>{var t;return{...e,modifi:(null==(t=e.rpt)?void 0:t.includes("New"))?"NA":e.actid}}),d.value=!0):t.showSnackbar(2,(null==r?void 0:r.emsg)||"Failed to load order history"),o.value=!1}async function O(e){s.value=!0,u.value={...e};try{const t=await getLtpdata([{exch:e.exch,token:e.token}]);t&&t.data&&t.data[e.token]&&(u.value.raw=t.data[e.token])}catch(e2){console.error("Failed to fetch LTP",e2)}}function M(e){const t=e.detail;t&&(t.stat||t.response||t.openorders)&&E(t)}function F(){I()}function z(e){var t;const a=e.detail;if(!(null==a?void 0:a.token)||!(null==(t=f.value)?void 0:t.length))return;const o=f.value.findIndex(e=>e.token===a.token);o>=0&&(f.value[o].ltp=a.lp||a.ltp||f.value[o].ltp,nextTick(()=>{const e=document.getElementById(`ord${f.value[o].idx||f.value[o].norenordno}|${a.token}ltp`);e&&(e.innerHTML=T(f.value[o].ltp))}))}return onMounted(()=>{try{const e=sessionStorage.getItem("orders_last");if(e){const t=JSON.parse(e);t&&(t.response||t.openorders)&&E(t)}}catch(e2){}I(),window.addEventListener("tempdata-update",M),window.addEventListener("orderbook-update",F),window.addEventListener("web-scoketConn",z)}),onBeforeUnmount(()=>{window.removeEventListener("tempdata-update",M),window.removeEventListener("orderbook-update",F),window.removeEventListener("web-scoketConn",z)}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:r.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>r.value=e),$],color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:withCtx(()=>[createVNode(VTab,{value:"orders",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode(" Open Orders ("+toDisplayString(k.value.length)+") ",1)]),_:1}),createVNode(VTab,{value:"executed",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode(" Executed Orders ("+toDisplayString(C.value.length)+") ",1)]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),"orders"===r.value?(openBlock(),createBlock(VTextField,{key:0,style:{"max-width":"220px"},modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search for Stocks",class:"rounded-pill mr-4",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"])):createCommentVNode("",!0),"orders"===r.value?(openBlock(),createBlock(VSelect,{key:1,style:{"max-width":"180px"},modelValue:i.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>i.value=e),t[3]||(t[3]=e=>l.value=0)],"hide-details":"","append-icon":"mdi-chevron-down","prepend-inner-icon":"mdi-playlist-check",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg",items:y,"item-title":"title","item-value":"value"},null,8,["modelValue"])):(openBlock(),createBlock(VSelect,{key:2,style:{"max-width":"180px"},modelValue:i.value,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.value=e),t[5]||(t[5]=e=>l.value=0)],"hide-details":"","append-icon":"mdi-chevron-down","prepend-inner-icon":"mdi-playlist-check",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg",items:_,"item-title":"title","item-value":"value"},null,8,["modelValue"])),"orders"===r.value?(openBlock(),createBlock(VBtn,{key:3,disabled:!m.value.length,onClick:t[6]||(t[6]=e=>P("all")),class:"elevation-0 rounded-pill font-weight-bold text-none ml-2",color:"primary"},{default:withCtx(()=>[createTextVNode(" Cancel "+toDisplayString(h.value.length===m.value.length?"all":h.value.length>0?h.value.length:"all"),1)]),_:1},8,["disabled"])):createCommentVNode("",!0),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:o.value,onClick:I,color:"maintext",size:"24"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),"orders"===r.value?(openBlock(),createBlock(VDataTable,{key:0,modelValue:h.value,"onUpdate:modelValue":t[8]||(t[8]=e=>h.value=e),headers:x,items:S.value,loading:o.value,"fixed-header":"","hide-default-footer":!0,"items-per-page":-1,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","item-key":"norenordno","show-select":"","onClick:row":t[9]||(t[9]=(e,{item:t})=>O(t))},{"item.norentm":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_1$o,toDisplayString(B(e.norentm)),1)]),"item.trantype":withCtx(({item:e})=>[createVNode(VChip,{small:"",color:"B"===e.trantype?"green":"red","text-color":"B"===e.trantype?"maingreen":"mainred",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$m,toDisplayString("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color"])]),"item.tsym":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_3$k,[createBaseVNode("p",_hoisted_4$j,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_5$j,toDisplayString(e.exchs||e.exch||""),1)]),createBaseVNode("div",{onClick:t[7]||(t[7]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},["COMPLETE"!==e.status&&"CANCELED"!==e.status&&"REJECTED"!==e.status?(openBlock(),createBlock(VBtn,{key:0,onClick:t=>R(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("mdi-pen",-1)])]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0),"COMPLETE"!==e.status&&"CANCELED"!==e.status&&"REJECTED"!==e.status?(openBlock(),createBlock(VBtn,{key:1,onClick:t=>P(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("mdi-close-circle-outline",-1)])]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0),createVNode(VBtn,{onClick:t=>L("chart",e.token,e.exch,e.tsym,null,e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[25]||(t[25]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>L("order",e.token,e.exch,e.tsym,e.trantype.toLowerCase(),e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[26]||(t[26]=[createTextVNode("mdi-autorenew",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VMenu,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[27]||(t[27]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(b,(t,a)=>(openBlock(),createElementBlock("div",{key:a},[createVNode(VListItem,{onClick:a=>{var o;return"cancel"===t.type?P(e):t.type?L(t.type,e.token,e.exch,e.tsym,t.trans||(null==(o=e.trantype)?void 0:o.toLowerCase()),e):O(e)},class:"pl-3 pr-6"},{prepend:withCtx(()=>["string"==typeof t.icon?(openBlock(),createBlock(VIcon,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(openBlock(),createElementBlock("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,_hoisted_6$j)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.s_prdt_ali":withCtx(({item:e})=>[e.s_prdt_ali?(openBlock(),createBlock(VChip,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_7$j,toDisplayString(e.s_prdt_ali),1)]),_:2},1024)):"ESIP"===e.ordersource?(openBlock(),createBlock(VChip,{key:1,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_8$j,toDisplayString(e.ordersource),1)]),_:2},1024)):createCommentVNode("",!0)]),"item.qty":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_9$j,toDisplayString(e.fillshares&&Number(e.fillshares)>0?e.fillshares/("MCX"===e.exch?e.ls:1)+"/":"")+toDisplayString(e.qty?e.qty/("MCX"===e.exch?e.ls:1):"0"),1)]),"item.rprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_10$j,toDisplayString(T(e.avgprc||e.rprc)),1)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_11$j,[createBaseVNode("span",{id:`ord${e.idx||e.norenordno}|${e.token}ltp`},toDisplayString(T(e.ltp)),9,_hoisted_12$j)])]),"item.prc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_13$i,toDisplayString(T(e.prc)),1)]),"item.trgprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_14$h,toDisplayString(T(e.trgprc)),1)]),"item.value":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_15$f,toDisplayString(T(e.value)),1)]),"item.status":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_16$a,[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createBaseVNode("div",mergeProps(a,{class:"d-inline-flex"}),["COMPLETE"===e.status?(openBlock(),createElementBlock("svg",_hoisted_17$a,[...t[28]||(t[28]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),createBaseVNode("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===e.status||"REJECTED"===e.status?(openBlock(),createElementBlock("svg",_hoisted_18$a,[...t[29]||(t[29]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),createBaseVNode("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_19$a,[...t[30]||(t[30]=[createBaseVNode("path",{d:"M0.941406 6C0.941406 2.68629 3.6277 0 6.94141 0H10.9416C14.2553 0 16.9416 2.68629 16.9416 6C16.9416 9.31371 14.2553 12 10.9416 12H6.9414C3.62769 12 0.941406 9.31371 0.941406 6Z",fill:"#FFB038"},null,-1),createBaseVNode("path",{d:"M5.19143 7C5.74373 7 6.19145 6.55228 6.19145 6C6.19145 5.44772 5.74373 5 5.19143 5C4.63914 5 4.19142 5.44772 4.19142 6C4.19142 6.55228 4.63914 7 5.19143 7Z",fill:"white"},null,-1),createBaseVNode("path",{d:"M9.19149 7C9.74378 7 10.1915 6.55228 10.1915 6C10.1915 5.44772 9.74378 5 9.19149 5C8.63919 5 8.19147 5.44772 8.19147 6C8.19147 6.55228 8.63919 7 9.19149 7Z",fill:"white"},null,-1),createBaseVNode("path",{d:"M13.1915 7C13.7438 7 14.1915 6.55228 14.1915 6C14.1915 5.44772 13.7438 5 13.1915 5C12.6392 5 12.1915 5.44772 12.1915 6C12.1915 6.55228 12.6392 7 13.1915 7Z",fill:"white"},null,-1)])])),createTextVNode(" "+toDisplayString(e.status||""),1)],16)]),default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(e.rejreason||e.st_intrn||""),1)]),_:2},1024)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_20$a,[createBaseVNode("div",_hoisted_21$a,[createBaseVNode("img",{class:"mx-auto",width:"80px",src:unref(_imports_0$6)},null,8,_hoisted_22$a),t[31]||(t[31]=createBaseVNode("h4",{class:"subtext--text font-weight-regular caption"},[createTextVNode(" There is no Open order "),createBaseVNode("br"),createTextVNode("data here yet! ")],-1))])])]),_:1},8,["modelValue","items","loading"])):(openBlock(),createBlock(VDataTable,{key:1,headers:x,items:N.value,loading:o.value,"fixed-header":"","hide-default-footer":!0,"items-per-page":-1,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","onClick:row":t[11]||(t[11]=(e,{item:t})=>O(t))},{"item.norentm":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_23$a,toDisplayString(B(e.norentm)),1)]),"item.trantype":withCtx(({item:e})=>[createVNode(VChip,{small:"",color:"B"===e.trantype?"green":"red","text-color":"B"===e.trantype?"maingreen":"mainred",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_24$a,toDisplayString("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color"])]),"item.tsym":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_25$9,[createBaseVNode("p",_hoisted_26$9,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_27$9,toDisplayString(e.exchs||e.exch||""),1)]),createBaseVNode("div",{onClick:t[10]||(t[10]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VBtn,{onClick:t=>L("order",e.token,e.exch,e.tsym,"b",e),"min-width":"20px",color:"maingreen",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[32]||(t[32]=[createTextVNode(" B ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>L("order",e.token,e.exch,e.tsym,"s",e),"min-width":"20px",color:"mainred",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[33]||(t[33]=[createTextVNode(" S ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>L("chart",e.token,e.exch,e.tsym,null,e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[34]||(t[34]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>{var a;return L("order",e.token,e.exch,e.tsym,null==(a=e.trantype)?void 0:a.toLowerCase(),e)},style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[35]||(t[35]=[createTextVNode("mdi-autorenew",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VMenu,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[36]||(t[36]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(w,(t,a)=>(openBlock(),createElementBlock("div",{key:a},[createVNode(VListItem,{onClick:a=>{var o;return t.type?L(t.type,e.token,e.exch,e.tsym,t.trans||(null==(o=e.trantype)?void 0:o.toLowerCase()),e):O(e)},class:"pl-3 pr-6"},{prepend:withCtx(()=>["string"==typeof t.icon?(openBlock(),createBlock(VIcon,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(openBlock(),createElementBlock("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,_hoisted_28$9)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.s_prdt_ali":withCtx(({item:e})=>[e.s_prdt_ali?(openBlock(),createBlock(VChip,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_29$9,toDisplayString(e.s_prdt_ali),1)]),_:2},1024)):createCommentVNode("",!0)]),"item.qty":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_30$9,toDisplayString(e.fillshares&&Number(e.fillshares)>0?e.fillshares/("MCX"===e.exch?e.ls:1)+"/":"")+toDisplayString(e.qty?e.qty/("MCX"===e.exch?e.ls:1):"0"),1)]),"item.rprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_31$7,toDisplayString(T(e.avgprc||e.rprc)),1)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_32$6,toDisplayString(T(e.ltp)),1)]),"item.prc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_33$5,toDisplayString(T(e.prc)),1)]),"item.trgprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_34$5,toDisplayString(T(e.trgprc)),1)]),"item.value":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_35$5,toDisplayString(T(e.value)),1)]),"item.status":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_36$5,["COMPLETE"===e.status?(openBlock(),createElementBlock("svg",_hoisted_37$5,[...t[37]||(t[37]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),createBaseVNode("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===e.status||"REJECTED"===e.status?(openBlock(),createElementBlock("svg",_hoisted_38$5,[...t[38]||(t[38]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),createBaseVNode("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.status||""),1)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_39$5,[createBaseVNode("div",_hoisted_40$5,[createBaseVNode("img",{class:"mx-auto",width:"80px",src:unref(_imports_0$6)},null,8,_hoisted_41$5),t[39]||(t[39]=createBaseVNode("h4",{class:"subtext--text font-weight-regular caption"},[createTextVNode(" There is no Executed order "),createBaseVNode("br"),createTextVNode("data here yet! ")],-1))])])]),_:1},8,["items","loading"])),createVNode(VNavigationDrawer,{modelValue:s.value,"onUpdate:modelValue":t[17]||(t[17]=e=>s.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:withCtx(()=>[createVNode(VToolbar,{class:"nav-drawer crd-trn",density:"comfortable"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",variant:"text",density:"comfortable",onClick:t[12]||(t[12]=e=>s.value=!1),color:"maintext",size:"20"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...t[40]||(t[40]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),t[41]||(t[41]=createBaseVNode("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),createVNode(VSpacer)]),_:1})]),default:withCtx(()=>[u.value?(openBlock(),createElementBlock("div",_hoisted_42$5,[createVNode(VListItem,{class:"pt-3 pb-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.tsym||"")+" ",1),createBaseVNode("span",_hoisted_43$5,toDisplayString(u.value.exch||""),1)]),_:1}),createVNode(VListItemTitle,{class:"txt-000 font-weight-medium fs-16 mb-1"},{default:withCtx(()=>{var e;return[createTextVNode("₹"+toDisplayString(T((null==(e=u.value.raw)?void 0:e.lp)||u.value.ltp)),1)]}),_:1}),createVNode(VListItemTitle,{class:normalizeClass([u.value.rpnl>0?"maingreen--text":u.value.rpnl<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},{default:withCtx(()=>[createTextVNode(toDisplayString(T(u.value.rpnl))+" ("+toDisplayString(T(u.value.pnlc))+"%) ",1)]),_:1},8,["class"])]),_:1}),createVNode(VDivider),createVNode(VListItem,{class:"pt-3 pb-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:withCtx(()=>[...t[42]||(t[42]=[createTextVNode("Order Id",-1)])]),_:1}),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.norenordno)+" ",1),createBaseVNode("p",_hoisted_44$5,["COMPLETE"===u.value.status?(openBlock(),createElementBlock("svg",_hoisted_45$5,[...t[43]||(t[43]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),createBaseVNode("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===u.value.status||"REJECTED"===u.value.status?(openBlock(),createElementBlock("svg",_hoisted_46$4,[...t[44]||(t[44]=[createBaseVNode("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),createBaseVNode("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(openBlock(),createElementBlock("svg",_hoisted_47$3,[...t[45]||(t[45]=[createBaseVNode("path",{d:"M0.941406 6C0.941406 2.68629 3.6277 0 6.94141 0H10.9416C14.2553 0 16.9416 2.68629 16.9416 6C16.9416 9.31371 14.2553 12 10.9416 12H6.9414C3.62769 12 0.941406 9.31371 0.941406 6Z",fill:"#FFB038"},null,-1),createBaseVNode("path",{d:"M5.19143 7C5.74373 7 6.19145 6.55228 6.19145 6C6.19145 5.44772 5.74373 5 5.19143 5C4.63914 5 4.19142 5.44772 4.19142 6C4.19142 6.55228 4.63914 7 5.19143 7Z",fill:"white"},null,-1),createBaseVNode("path",{d:"M9.19149 7C9.74378 7 10.1915 6.55228 10.1915 6C10.1915 5.44772 9.74378 5 9.19149 5C8.63919 5 8.19147 5.44772 8.19147 6C8.19147 6.55228 8.63919 7 9.19149 7Z",fill:"white"},null,-1),createBaseVNode("path",{d:"M13.1915 7C13.7438 7 14.1915 6.55228 14.1915 6C14.1915 5.44772 13.7438 5 13.1915 5C12.6392 5 12.1915 5.44772 12.1915 6C12.1915 6.55228 12.6392 7 13.1915 7Z",fill:"white"},null,-1)])])),createTextVNode(" "+toDisplayString(u.value.status||""),1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_48$3,["COMPLETE"===u.value.status||"CANCELED"===u.value.status||"REJECTED"===u.value.status?(openBlock(),createBlock(VBtn,{key:0,onClick:t[13]||(t[13]=e=>{var t;return L("order",u.value.token,u.value.exch,u.value.tsym,null==(t=u.value.trantype)?void 0:t.toLowerCase(),u.value)}),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[...t[46]||(t[46]=[createTextVNode("Place New order",-1)])]),_:1})):(openBlock(),createBlock(VRow,{key:1},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[14]||(t[14]=e=>R(u.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[...t[47]||(t[47]=[createTextVNode("Modify Order",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[15]||(t[15]=e=>{s.value=!1,P(u.value)}),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.value.exord?"Exit":"Cancel")+"Order ",1)]),_:1})]),_:1})]),_:1}))]),createVNode(VDivider,{class:"pt-1"}),"COMPLETE"!==u.value.status?(openBlock(),createElementBlock("div",_hoisted_49$3,[createBaseVNode("div",_hoisted_50$3,[t[48]||(t[48]=createBaseVNode("p",{class:"subtext--text font-weight-medium fs-13 mb-1"},"Rejected reason",-1)),createBaseVNode("p",_hoisted_51$3,toDisplayString(u.value.rejreason||"-"),1)]),createVNode(VDivider)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_52$3,[createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[49]||(t[49]=createTextVNode("Quantity ",-1)),createBaseVNode("p",_hoisted_53$3,toDisplayString(u.value.qty?u.value.qty/("MCX"===u.value.exch?u.value.ls:1):"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[50]||(t[50]=createTextVNode("Price ",-1)),createBaseVNode("p",_hoisted_54$2,"₹"+toDisplayString(T(u.value.prc)),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[51]||(t[51]=createTextVNode("Avg price ",-1)),createBaseVNode("p",_hoisted_55$2,"₹"+toDisplayString(T(u.value.rprc||u.value.avgprc)),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[52]||(t[52]=createTextVNode("Trigger price ",-1)),createBaseVNode("p",_hoisted_56$2,"₹"+toDisplayString(T(u.value.trgprc)),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[53]||(t[53]=createTextVNode("Order type ",-1)),createBaseVNode("p",_hoisted_57$2,toDisplayString(u.value.prctyp||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[54]||(t[54]=createTextVNode("Validity ",-1)),createBaseVNode("p",_hoisted_58$2,toDisplayString(u.value.ret||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[55]||(t[55]=createTextVNode("Exch. Ord ID ",-1)),createBaseVNode("p",_hoisted_59$2,toDisplayString(u.value.exchordid||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[56]||(t[56]=createTextVNode("Time ",-1)),createBaseVNode("p",_hoisted_60$2,toDisplayString(B(u.value.norentm)),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[57]||(t[57]=createTextVNode("Exch time ",-1)),createBaseVNode("p",_hoisted_61$2,toDisplayString(B(u.value.norentm)),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[58]||(t[58]=createTextVNode("Product ",-1)),createBaseVNode("p",_hoisted_62$2,toDisplayString(u.value.s_prdt_ali||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[59]||(t[59]=createTextVNode("Place by ",-1)),createBaseVNode("p",_hoisted_63$2,toDisplayString(u.value.uid||"-"),1)]),_:1})]),createVNode(VDivider,{class:"pt-1"}),createBaseVNode("div",_hoisted_64$2,[createVNode(VBtn,{onClick:t[16]||(t[16]=e=>A(u.value.norenordno)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...t[60]||(t[60]=[createTextVNode("mdi-history",-1)])]),_:1}),t[61]||(t[61]=createTextVNode(" Order history",-1))]),_:1})])])):createCommentVNode("",!0)]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:d.value,"onUpdate:modelValue":t[19]||(t[19]=e=>d.value=e),"max-width":"720",scrollable:""},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 py-4 overflow-hidden"},{default:withCtx(()=>[p.value&&p.value[0]?(openBlock(),createElementBlock("div",_hoisted_65$2,[createVNode(VListItemTitle,{class:"font-weight-bold title maintext--text mb-0"},{default:withCtx(()=>[t[63]||(t[63]=createTextVNode("Order history ",-1)),createVNode(VIcon,{onClick:t[18]||(t[18]=e=>{d.value=!1,p.value=[]}),class:"float-right",color:"maintext"},{default:withCtx(()=>[...t[62]||(t[62]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),createVNode(VDivider,{class:"mb-3"}),createVNode(VCard,{class:"elevation-0 py-2 mt-2 mb-3",color:"secbg"},{default:withCtx(()=>[createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[64]||(t[64]=[createTextVNode("Order Number",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString(p.value[0].norenordno||"-"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[65]||(t[65]=[createTextVNode("User ID",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString(p.value[0].actid||"-"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[66]||(t[66]=[createTextVNode("Exchange",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString(p.value[0].exch||"-"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[67]||(t[67]=[createTextVNode("Product",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString("C"===p.value[0].prd?"CNC":"M"===p.value[0].prd?"NRML":"MIS"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[68]||(t[68]=[createTextVNode("Trading Symbol",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString(p.value[0].tsym||"-"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[69]||(t[69]=[createTextVNode("PriceType",-1)])]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-bold"},{default:withCtx(()=>[createTextVNode(toDisplayString("MKT"===p.value[0].prctyp?"Market":"LMT"===p.value[0].prctyp?"LIMIT":"SL-MKT"===p.value[0].prctyp?"SL MARKET":"SL LIMIT"),1)]),_:1})]),_:1}),createVNode(VListItem,{class:"mb-1 maintext--text"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"caption"},{default:withCtx(()=>[...t[70]||(t[70]=[createTextVNode("Transaction Type",-1)])]),_:1}),createVNode(VListItemTitle,{class:normalizeClass(["subtitle-2 font-weight-bold","B"===p.value[0].trantype?"maingreen--text":"mainred--text"])},{default:withCtx(()=>[createTextVNode(toDisplayString("B"===p.value[0].trantype?"BUY":"SELL"),1)]),_:1},8,["class"])]),_:1})]),_:1}),createVNode(VCard,{variant:"outlined"},{default:withCtx(()=>[createVNode(VDataTable,{dense:"",height:"128",headers:V,items:p.value,"items-per-page":-1,class:"elevation-0 rounded-lg","hide-default-footer":""},{"item.qty":withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(e.qty/("MCX"===e.exch?e.ls:1)),1)]),_:1},8,["items"])]),_:1}),createVNode(VRow,{"no-gutters":"",class:"mb-4 mt-2 px-2"},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_66$2,[t[71]||(t[71]=createTextVNode("Child ID :",-1)),createBaseVNode("span",_hoisted_67$2,toDisplayString(p.value[0].kidid||"-"),1)])]),_:1}),createVNode(VCol,{cols:"4",class:"pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_68$2,[t[72]||(t[72]=createTextVNode("Source :",-1)),createBaseVNode("span",_hoisted_69$2,toDisplayString(p.value[0].ordersource||"-"),1)])]),_:1}),createVNode(VCol,{cols:"4",class:"pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_70$2,[t[73]||(t[73]=createTextVNode("Qty :",-1)),createBaseVNode("span",_hoisted_71$2,toDisplayString(p.value[0].qty?p.value[0].qty/("MCX"===p.value[0].exch?p.value[0].ls:1):"-"),1)])]),_:1})]),_:1}),t[74]||(t[74]=createBaseVNode("p",{class:"font-weight-medium mb-1"},"Rejected reason",-1)),createBaseVNode("p",_hoisted_72$2,toDisplayString(p.value[0].rejreason||"-"),1)])):createCommentVNode("",!0)]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:c.value,"onUpdate:modelValue":t[21]||(t[21]=e=>c.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>{var e,a;return[createBaseVNode("img",{src:unref(cancelIcon),alt:"cancel icon"},null,8,_hoisted_73$2),createBaseVNode("p",_hoisted_74$2,[t[75]||(t[75]=createTextVNode(" Are you sure you want to",-1)),t[76]||(t[76]=createBaseVNode("br",null,null,-1)),createTextVNode(" "+toDisplayString("all"===u.value||Array.isArray(u.value)&&0===u.value.length?"cancel":u.value.exord?"exit":"cancel")+" ",1),createBaseVNode("b",null,toDisplayString((null==(e=u.value)?void 0:e.tsym)||""+(h.value.length===m.value.length?"All Open":"Open")),1),createTextVNode(" "+toDisplayString((null==(a=u.value)?void 0:a.exord)?"position":`order\n                    (${"all"===u.value?m.value.length:h.value.length})`)+"? ",1)]),createVNode(VRow,{class:"px-6","no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[20]||(t[20]=e=>{c.value=!1,u.value=null}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[77]||(t[77]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:D,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>{var e;return[createTextVNode(toDisplayString((null==(e=u.value)?void 0:e.exord)?"Exit":"Yes"),1)]}),_:1})]),_:1})]),_:1})]}),_:1})]),_:1},8,["modelValue"])]))}},_hoisted_1$n={class:"title font-weight-bold mb-0"},_hoisted_2$l={class:"font-weight-medium maintext--text"},_hoisted_3$j={class:"font-weight-medium fs-12"},_hoisted_4$i={class:"pos-rlt"},_hoisted_5$i={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p mr-4"},_hoisted_6$i={class:"ml-1 subtext--text fs-10"},_hoisted_7$i=["src"],_hoisted_8$i={class:"font-weight-medium fs-12"},_hoisted_9$i={class:"font-weight-medium maintext--text mb-0"},_hoisted_10$i={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_11$i={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_12$i={class:"text-right font-weight-medium maintext--text mb-0"},_hoisted_13$h={class:"text-center"},_hoisted_14$g={class:"mx-auto py-16 mt-16"},_hoisted_15$e=["src"],_sfc_main$B={__name:"StocksTradeBook",setup(e){const t=useAppStore(),a=useRouter$1(),o=ref$1(!1),r=ref$1(""),n=ref$1([]),i=[{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],l=[{title:"Time",key:"norentm",sortable:!0},{title:"Type",key:"trantype",sortable:!0},{title:"Instrument",key:"tsym",sortable:!0},{title:"Product",key:"s_prdt_ali",sortable:!0},{title:"Qty",key:"flqty",sortable:!0,align:"right"},{title:"Price",key:"flprc",sortable:!0,align:"right"},{title:"Trade value",key:"avgprc",sortable:!0,align:"right"},{title:"Order no",key:"norenordno",sortable:!0,align:"right"}],s=computed(()=>{var e;const t=null==(e=r.value)?void 0:e.toLowerCase();return t?n.value.filter(e=>{var a,o,r;return(null==(a=e.tsym)?void 0:a.toLowerCase().includes(t))||(null==(o=e.exch)?void 0:o.toLowerCase().includes(t))||(null==(r=e.norenordno)?void 0:r.toLowerCase().includes(t))}):n.value});function c(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}function d(e){if(!e)return"-";const t=String(e);if(t.includes(":"))return t.slice(0,8);const a=Number(t);if(!isFinite(a))return t;const o=new Date(a);return isFinite(o.getTime())?o.toTimeString().slice(0,8):t}async function u(){o.value=!0;const e=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!e||!a)return t.showSnackbar(2,"Session expired. Please login again."),void(o.value=!1);const r=`jData={"uid":"${e}","actid":"${e}"}&jKey=${a}`,i=await getMTradebook(r);i&&Array.isArray(i)&&i.length>0?n.value=i:(n.value=[],i&&i.emsg&&t.showSnackbar(2,i.emsg)),o.value=!1}function p(e,t,o,r,n,i){if("alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"alert",token:t,exch:o,tsym:r}}));else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:o,tsym:r,trantype:"b"}}));else if("order"===e||"re-order"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:t,exch:o,tsym:r,trantype:n,item:i}}));else{const n=[e,t,o,r];a.push({name:"stocks details",params:{val:n}})}}function h(e){console.log("Trade item:",e)}function m(){u()}return onMounted(()=>{u(),window.addEventListener("orderbook-update",m)}),onBeforeUnmount(()=>{window.removeEventListener("orderbook-update",m)}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty crd-trn"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$n,"Tradebook ("+toDisplayString(n.value.length)+")",1),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search for Stocks",class:"rounded-pill mr-4",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:o.value,onClick:u,color:"maintext",size:"24"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:l,items:s.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1,"onClick:row":t[2]||(t[2]=(e,{item:t})=>h(t))},{"item.norentm":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_2$l,toDisplayString(d(e.norentm)),1)]),"item.trantype":withCtx(({item:e})=>[createVNode(VChip,{small:"",color:"B"===e.trantype?"secgreen":"secred","text-color":"B"===e.trantype?"maingreen":"mainred",style:normalizeStyle(`border: 1px solid ${"B"===e.trantype?"#C1E7BA":"#FFCDCD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$j,toDisplayString("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color","style"])]),"item.tsym":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_4$i,[createBaseVNode("p",_hoisted_5$i,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_6$i,toDisplayString(e.exchs||e.exch||""),1)]),createBaseVNode("div",{onClick:t[1]||(t[1]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VBtn,{onClick:t=>p("order",e.token,e.exch,e.tsym,"b",e),"min-width":"20px",color:"maingreen",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[4]||(t[4]=[createTextVNode(" B ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>p("order",e.token,e.exch,e.tsym,"s",e),"min-width":"20px",color:"mainred",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[5]||(t[5]=[createTextVNode(" S ",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>p("chart",e.token,e.exch,e.tsym,null,e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[6]||(t[6]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>{var a;return p("order",e.token,e.exch,e.tsym,null==(a=e.trantype)?void 0:a.toLowerCase(),e)},style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[7]||(t[7]=[createTextVNode("mdi-autorenew",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VMenu,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[8]||(t[8]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(i,(t,a)=>createBaseVNode("div",{key:a},[createVNode(VListItem,{onClick:a=>{var o;return t.type?p(t.type,e.token,e.exch,e.tsym,t.trans||(null==(o=e.trantype)?void 0:o.toLowerCase()),e):h(e)},class:"pl-3 pr-6"},{prepend:withCtx(()=>["string"==typeof t.icon?(openBlock(),createBlock(VIcon,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(openBlock(),createElementBlock("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,_hoisted_7$i)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.s_prdt_ali":withCtx(({item:e})=>[e.s_prdt_ali?(openBlock(),createBlock(VChip,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_8$i,toDisplayString(e.s_prdt_ali),1)]),_:2},1024)):createCommentVNode("",!0)]),"item.flqty":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_9$i,toDisplayString(e.flqty?e.flqty/("MCX"===e.exch?e.ls:1):""),1)]),"item.flprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_10$i,toDisplayString(c(e.flprc)),1)]),"item.avgprc":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_11$i,toDisplayString(c(e.flqty*e.flprc)),1)]),"item.norenordno":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_12$i,toDisplayString(e.norenordno||""),1)]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_13$h,[createBaseVNode("div",_hoisted_14$g,[createBaseVNode("img",{class:"mx-auto",width:"80px",src:unref(_imports_0$6)},null,8,_hoisted_15$e),t[9]||(t[9]=createBaseVNode("h4",{class:"subtext--text font-weight-regular caption"},[createTextVNode(" There is no order "),createBaseVNode("br"),createTextVNode("data here yet! ")],-1))])])]),_:1},8,["items","loading"])]))}},_hoisted_1$m={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},_hoisted_2$k={class:"ml-1 subtext--text fs-10"},_hoisted_3$i={class:"font-weight-medium fs-12"},_hoisted_4$h={class:"font-weight-medium fs-12"},_hoisted_5$h={class:"text-center"},_hoisted_6$h={class:"mx-auto py-16 mt-16"},_hoisted_7$h=["src"],_hoisted_8$h={class:"ml-1 txt-999 fs-10"},_hoisted_9$h={class:"px-4 pt-1"},_hoisted_10$h={class:"float-right mb-0"},_hoisted_11$h={class:"float-right mb-0"},_hoisted_12$h={class:"float-right mb-0"},_hoisted_13$g={class:"float-right mb-0"},_hoisted_14$f={class:"px-4 pt-3 pb-4"},_hoisted_15$d=["src"],_sfc_main$A={__name:"StockGTTorders",setup(e){const t=useAppStore(),a=ref$1(!1),o=ref$1(""),r=ref$1([]),n=ref$1(!1),i=ref$1(!1),l=ref$1({}),s=ref$1(null),c=[{title:"Instrument",key:"tsym"},{title:"Buy/Sell",key:"trantype"},{title:"Product type",key:"orderType"},{title:"Qty",key:"qty",align:"right"},{title:"Condition",key:"condition"},{title:"Trig Value",key:"trigValue",align:"right"},{title:"",key:"actions",sortable:!1,align:"right"}],d=computed(()=>{var e;const t=null==(e=o.value)?void 0:e.toLowerCase();return t?r.value.filter(e=>function(e,t,a){const o=String(a).toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(o))}(e,["tsym","exch","orderType","condition"],t)):r.value});async function u(){a.value=!0,r.value=[];const e=await getGttorderbook();if(Array.isArray(e)&&e[0]&&"Ok"===e[0].stat){const t=e.map(e=>{var t,a;return{trigValue:e.d,condition:(null==(t=e.ai_t)?void 0:t.includes("_A_O"))?">":(null==(a=e.ai_t)?void 0:a.includes("_B_O"))?"<":"Select",qty:e.qty,orderType:"C"===e.prd?"Delivery (CNC)":"M"===e.prd?"Carry Forward (NRML)":"I"===e.prd?"Intraday":"Select",trantype:e.trantype,tsym:e.tsym,exch:e.exch,token:e.token,al_id:e.al_id,res:e}});r.value=t}a.value=!1}function p(e){const t=e.detail;"gtt"!==t&&"orders"!==t||u()}return onMounted(()=>{u(),window.addEventListener("orderbook-update",p)}),onBeforeUnmount(()=>{window.removeEventListener("orderbook-update",p)}),(e,p)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn my-4"},{default:withCtx(()=>[createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=e=>o.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-4",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:a.value,onClick:u,color:"maintext",size:"24"},{default:withCtx(()=>[...p[8]||(p[8]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{"fixed-header":"","hide-default-footer":!0,loading:a.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480",headers:c,items:d.value,"items-per-page":-1},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_1$m,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_2$k,toDisplayString(e.exch||""),1)])]),"item.trantype":withCtx(({item:e})=>[createVNode(VChip,{small:"",color:"B"===e.trantype?"secgreen":"secred","text-color":"B"===e.trantype?"maingreen":"mainred",style:normalizeStyle(`border: 1px solid ${"B"===e.trantype?"#C1E7BA":"#FFCDCD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$i,toDisplayString("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color","style"])]),"item.qty":withCtx(({item:e})=>[createVNode(VChip,{small:"",class:"table-hov-prd","text-color":"#666",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$h,toDisplayString(e.qty),1)]),_:2},1024)]),"item.actions":withCtx(({item:e})=>[createBaseVNode("div",{class:"d-inline-flex",onClick:p[1]||(p[1]=withModifiers(()=>{},["stop"]))},[createVNode(VBtn,{icon:"",size:"small",class:"mr-1",onClick:t=>function(e){window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-GTT",token:e.token,exch:e.exch,tsym:e.tsym,trantype:(e.trantype||"").toLowerCase(),item:e}}))}(e)},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...p[9]||(p[9]=[createTextVNode("mdi-square-edit-outline",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{icon:"",size:"small",onClick:t=>function(e){s.value=e,i.value=!0}(e)},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...p[10]||(p[10]=[createTextVNode("mdi-trash-can-outline",-1)])]),_:1})]),_:1},8,["onClick"])])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_5$h,[createBaseVNode("div",_hoisted_6$h,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_7$h),p[11]||(p[11]=createBaseVNode("h4",{class:"txt-999 font-weight-regular caption"},"There is no order data here yet!",-1))])])]),_:1},8,["loading","items"]),createVNode(VNavigationDrawer,{modelValue:n.value,"onUpdate:modelValue":p[4]||(p[4]=e=>n.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:withCtx(()=>[createVNode(VToolbar,{class:"nav-drawer crd-trn",density:"comfortable"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",variant:"text",density:"comfortable",onClick:p[2]||(p[2]=e=>n.value=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:"maintext",size:"20"},{default:withCtx(()=>[...p[12]||(p[12]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),p[13]||(p[13]=createBaseVNode("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),createVNode(VSpacer)]),_:1})]),default:withCtx(()=>[createVNode(VListItem,{class:"py-3"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(l.value.tsym||"")+" ",1),createBaseVNode("span",_hoisted_8$h,toDisplayString(l.value.exch||""),1)]),_:1}),createVNode(VListItemTitle,{class:"txt-000 font-weight-medium fs-16 mb-1"},{default:withCtx(()=>[createTextVNode("₹"+toDisplayString(l.value.ltp||"0.00"),1)]),_:1})]),_:1}),createVNode(VDivider,{class:"pt-1"}),createBaseVNode("div",_hoisted_9$h,[createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[p[14]||(p[14]=createTextVNode("Quantity ",-1)),createBaseVNode("p",_hoisted_10$h,toDisplayString(l.value.qty||"0"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[p[15]||(p[15]=createTextVNode("Condition ",-1)),createBaseVNode("p",_hoisted_11$h,toDisplayString(l.value.condition||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[p[16]||(p[16]=createTextVNode("Trig Value ",-1)),createBaseVNode("p",_hoisted_12$h,toDisplayString(l.value.trigValue||"-"),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:withCtx(()=>[p[17]||(p[17]=createTextVNode("Product ",-1)),createBaseVNode("p",_hoisted_13$g,toDisplayString(l.value.orderType||"-"),1)]),_:1})]),createVNode(VDivider,{class:"pt-1"}),createBaseVNode("div",_hoisted_14$f,[createVNode(VBtn,{class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal",onClick:p[3]||(p[3]=t=>e.onHistory(l.value))},{default:withCtx(()=>[createVNode(VIcon,{class:"mr-2"},{default:withCtx(()=>[...p[18]||(p[18]=[createTextVNode("mdi-history",-1)])]),_:1}),p[19]||(p[19]=createTextVNode(" Order history",-1))]),_:1})])]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:i.value,"onUpdate:modelValue":p[7]||(p[7]=e=>i.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>[createBaseVNode("img",{src:unref(cancelIcon),alt:"cancel icon"},null,8,_hoisted_15$d),p[22]||(p[22]=createBaseVNode("p",{class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},"Are you sure you want to cancel this GTT order?",-1)),createVNode(VRow,{class:"px-6","no-gluttters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:p[5]||(p[5]=e=>i.value=!1),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...p[20]||(p[20]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:p[6]||(p[6]=e=>async function(){const e=s.value;if(e)try{const a=sessionStorage.getItem("userid"),o=sessionStorage.getItem("msession"),n=await setCancelGTT(`jData={"uid":"${a}","al_id":"${e.al_id}"}&jKey=${o}`);if(n&&"OI deleted"===n.stat){t.showSnackbar(1,"GTT Order has been cancelled");const a=r.value.findIndex(t=>t.al_id===e.al_id);a>=0&&r.value.splice(a,1)}else t.showSnackbar(2,n&&n.emsg?n.emsg:"Failed to cancel GTT")}catch(e2){t.showSnackbar(2,"Failed to cancel GTT")}finally{i.value=!1,s.value=null}else i.value=!1}()),color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...p[21]||(p[21]=[createTextVNode("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},useBasketStore=defineStore("basket",()=>{const e=useAuthStore(),t=useAppStore(),a=ref$1([]),o=ref$1(null),r=ref$1([]),n=ref$1(!1),i=ref$1(!1),l=ref$1(!1),s=ref$1(null),c=ref$1(!1),d=ref$1("I"),u=ref$1("LMT"),p=ref$1(0),h=ref$1(0),m=ref$1(0),v=ref$1(5),f=ref$1(!1),g=ref$1(!1),y=ref$1(null),_=ref$1([]),b=ref$1(""),w=ref$1(null),x=ref$1({}),V=ref$1("0.00"),k=ref$1("0.00"),C=ref$1(!1),S=ref$1(!1),N=ref$1(!1),T=ref$1(""),B=ref$1(null),E=computed(()=>{var e;const t=null==(e=b.value)?void 0:e.toLowerCase();return t?a.value.filter(e=>e.name&&e.name.toLowerCase().includes(t)):a.value}),I=computed(()=>a.value.length<10),$=computed(()=>r.value.length<20);function P(){try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return;localStorage.setItem(`${t}_basketorder`,JSON.stringify(a.value))}catch(e2){console.error("Error saving baskets:",e2)}}function D(e){if(!o.value||!e)return!1;const t=a.value.findIndex(e=>e.idx===o.value.idx);return t>=0&&(a.value[t].list||(a.value[t].list=[]),a.value[t].list.push(e),r.value.push(e),o.value.list=[...a.value[t].list],P(),!0)}function L(){s.value=null,c.value=!1,d.value="I",u.value="LMT",p.value=0,h.value=0,m.value=0,v.value=5,f.value=!1,g.value=!1,y.value=null,_.value=[],b.value="",w.value=null}return{allBaskets:a,activeBasket:o,basketItems:r,loading:n,searchLoading:i,orderLoader:l,selectedScript:s,buyOrSell:c,investType:d,priceType:u,quantity:p,price:h,triggerPrice:m,marketProtection:v,afterMarket:f,editMode:g,editItem:y,searchItems:_,searchQuery:b,noData:w,basketMargin:x,totalMargin:V,postTradeMargin:k,createDialog:C,basketDialog:S,deleteDialog:N,basketName:T,editTarget:B,investItems:{0:[{txt:"Intraday",val:"I"},{txt:"Delivery",val:"C"}],1:[{txt:"Intraday",val:"I"},{txt:"Carry Forward",val:"M"}],I:"Intraday",C:"Delivery",M:"Carry Forward",H:"Cover order",B:"Bracket order"},priceItems:[{txt:"Limit",val:"LMT"},{txt:"Market",val:"MKT"},{txt:"SL Limit",val:"SL-LMT"},{txt:"SL Mkt",val:"SL-MKT"}],filteredBaskets:E,canCreateBasket:I,canAddItem:$,loadBaskets:function(){try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return void(a.value=[]);const o=localStorage.getItem(`${t}_basketorder`);a.value=o?JSON.parse(o):[]}catch(e2){console.error("Error loading baskets:",e2),a.value=[]}},saveBaskets:P,createBasket:function(e){const o=null==e?void 0:e.trim();if(!o)return!1;if(a.value.findIndex(e=>e.name===o)>=0)return t.showSnackbar(2,`${o}, script is already exists.`),!1;const r={name:o,date:(new Date).toDateString(),idx:Date.now(),list:[]};return a.value.push(r),P(),t.showSnackbar(1,"Basket have been Created"),!0},updateBasket:function(e,t){const o=null==t?void 0:t.trim();if(!o||!e)return!1;const r=a.value.findIndex(t=>t.idx===e.idx);return r>=0&&(a.value[r].name=o,P(),!0)},deleteBasket:function(e){if(!e)return!1;const o=a.value.findIndex(t=>t.idx===e.idx);return o>=0&&(a.value.splice(o,1),P(),t.showSnackbar(2,"Basket Order have been Cancelled"),!0)},openBasket:function(e){if(!e)return;const t=(e.list||[]).filter(e=>{if(e[0]&&e[0].exd){const t=new Date(e[0].exd),a=new Date;return t.setHours(0,0,0,0),a.setHours(0,0,0,0),a<=t}return!0});if(t.length!==e.list.length){const o=a.value.findIndex(t=>t.idx===e.idx);o>=0&&(a.value[o].list=t,P())}o.value={...e,list:t},r.value=[...t],S.value=!0},closeBasket:function(){S.value=!1,o.value=null,r.value=[],s.value=null,L()},addItemToBasket:D,updateItemInBasket:function(e){if(!o.value||!e)return!1;const t=a.value.findIndex(e=>e.idx===o.value.idx);if(t>=0){const n=a.value[t].list.findIndex(t=>t.token===e.token&&t.idx===e.idx);if(n>=0)return a.value[t].list[n]={...e},r.value[n]={...e},o.value.list=[...a.value[t].list],P(),!0}return!1},removeItemFromBasket:function(e){if(!o.value||!e)return!1;const t=a.value.findIndex(e=>e.idx===o.value.idx);if(t>=0){const n=a.value[t].list.findIndex(t=>t.token===e.token&&t.idx===e.idx);if(n>=0)return a.value[t].list.splice(n,1),r.value.splice(n,1),o.value.list=[...a.value[t].list],P(),!0}return!1},duplicateItem:function(e){return!(!o.value||!e)&&D({...e,idx:Date.now()})},searchScript:async function(t){if(!t||t.length<=2)return _.value=[],void(w.value=null);i.value=!0,w.value=null;try{const a=e.uid||sessionStorage.getItem("userid"),o=e.mtoken||sessionStorage.getItem("msession");if(!a||!o)return void(_.value=[]);const n=await getKambalaSearch(`jData={"uid":"${a}","stext":"${t.replace("&","%26")}"}&jKey=${o}`);if("Ok"===n.stat||n.values){let e=n.values||[];for(let t=0;t<r.value.length;t++){const a=e.findIndex(e=>e.token===r.value[t].token);a>=0&&e.splice(a,1)}_.value=e}else _.value=[],w.value="noooo"}catch(e2){console.error("Error searching scripts:",e2),_.value=[],w.value="noooo"}finally{i.value=!1}},calculateMargin:async function(){if(!r.value||0===r.value.length)return V.value="0.00",k.value="0.00",void(x.value={});try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return;let a=null;for(let e=0;e<r.value.length;e++){const o=r.value[e];0===e?a={uid:t,actid:t,discqty:"0",exch:o.exch,pCode:o.investype,prctyp:o.prctype,prd:o.investype,prc:o.prctype,qty:String(o.qty),ret:"DAY",symbol_id:o.token,tsym:o.tsym,trantype:o.buyrsell?"S":"B",trgprc:"SL-LMT"===o.prctype||"SL-MKT"===o.prctype?String(o.trgprice||0):"0",basketlists:[]}:a.basketlists.push({uid:t,actid:t,discqty:"0",exch:o.exch,pCode:o.investype,prctyp:o.prctype,prd:o.investype,prc:o.prctype,qty:String(o.qty),ret:"DAY",symbol_id:o.token,tsym:o.tsym,trantype:o.buyrsell?"S":"B",trgprc:"SL-LMT"===o.prctype||"SL-MKT"===o.prctype?String(o.trgprice||0):"0"})}if(a){const e=await getBSKMargin(a);V.value=null==e.marginused?"0.00":String(e.marginused||"0.00"),k.value=null==e.marginusedtrade?"0.00":String(e.marginusedtrade||"0.00"),x.value=e}}catch(e2){console.error("Error calculating margin:",e2),V.value="0.00",k.value="0.00",x.value={}}},placeBasketOrder:function(){if(!r.value||0===r.value.length)return;const e=r.value.flatMap(e=>{if(e.slicetimes&&e[0]&&e[0].frzqty){const t={...e,qty:e[0].frzqty},a=e.slice[0]||0,o=e.slice[1]||0;if(a>0){const e=Array(a).fill(t);return o>0?[...e,{...t,qty:o}]:e}if(o>0)return[{...t,qty:o}]}return e});window.dispatchEvent(new CustomEvent("place-bskord",{detail:e})),S.value=!1},subscribeWebSocket:function(e){if(!e||0===e.length)return;const t=e.map(e=>({exch:e.exch,token:e.token}));window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:t,page:"bsk"}}))},unsubscribeWebSocket:function(e){if(!e||0===e.length)return;const t=e.map(e=>({exch:e.exch,token:e.token}));window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:t,page:"bsk"}}))},updatePrice:function(e){if(e&&e.token){s.value&&s.value.token===e.token&&(s.value.ws||(s.value.ws={}),s.value.ws.lp=Number(e.lp).toFixed(2),s.value.ws.ch=Number(e.ch||0).toFixed(2),s.value.ws.chp=Number(e.chp||0).toFixed(2),"LMT"!==u.value&&"SL-LMT"!==u.value||(h.value=Number(e.lp).toFixed(2)));for(let t=0;t<r.value.length;t++)r.value[t].token===e.token&&(r.value[t].ltp=Number(e.lp).toFixed(2),r.value[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):"0.00",r.value[t].chp=e.chp?Number(e.chp).toFixed(2):"0.00");if(o.value&&o.value.list)for(let t=0;t<o.value.list.length;t++)o.value.list[t].token===e.token&&(o.value.list[t].ltp=Number(e.lp).toFixed(2),o.value.list[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):"0.00",o.value.list[t].chp=e.chp?Number(e.chp).toFixed(2):"0.00");if(o.value){const e=a.value.findIndex(e=>e.idx===o.value.idx);e>=0&&(a.value[e].list=[...r.value],P())}}},resetItemForm:L,setEditItem:function(e){e&&(g.value=!0,y.value=e,s.value={...e},c.value=e.buyrsell||!1,p.value=Number(e.qty||0),d.value=e.investype||"I",u.value=e.prctype||"LMT",h.value=e.price||0,m.value=e.trgprice||0,v.value=e.mktprdordqty||5,f.value=e.addmktord||!1)}}}),makeVAutocompleteProps=propsFactory({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...makeFilterProps({filterKeys:["title"]}),...makeSelectProps(),...omit(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),VAutocomplete=genericComponent()({name:"VAutocomplete",props:makeVAutocompleteProps(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:a}=t;const{t:o}=useLocale(),r=ref$1(),n=shallowRef(!1),i=shallowRef(!0),l=shallowRef(!1),s=ref$1(),c=ref$1(),d=shallowRef(-1),u=shallowRef(null),{items:p,transformIn:h,transformOut:m}=useItems(e),{textColorClasses:v,textColorStyles:f}=useTextColor(()=>{var e;return null==(e=r.value)?void 0:e.color}),g=useProxiedModel(e,"search",""),y=useProxiedModel(e,"modelValue",[],e=>h(null===e?[null]:wrapInArray(e)),t=>{const a=m(t);return e.multiple?a:a[0]??null}),_=computed(()=>"function"==typeof e.counterValue?e.counterValue(y.value):"number"==typeof e.counterValue?e.counterValue:y.value.length),b=useForm(e),{filteredItems:w,getMatches:x}=useFilter(e,p,()=>u.value??(i.value?"":g.value)),V=computed(()=>e.hideSelected&&null===u.value?w.value.filter(e=>!y.value.some(t=>t.value===e.value)):w.value),k=computed(()=>!(!e.chips&&!a.chip)),C=computed(()=>k.value||!!a.selection),S=computed(()=>y.value.map(e=>e.props.value)),N=computed(()=>{var t;return(!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&g.value===(null==(t=V.value[0])?void 0:t.title))&&V.value.length>0&&!i.value&&!l.value}),T=computed(()=>e.hideNoData&&!V.value.length||b.isReadonly.value||b.isDisabled.value),B=useProxiedModel(e,"menu"),E=computed({get:()=>B.value,set:e=>{var t;B.value&&!e&&(null==(t=s.value)?void 0:t.ΨopenChildren.size)||e&&T.value||(B.value=e)}}),{menuId:I,ariaExpanded:$,ariaControls:P,ariaLabel:D}=useMenuActivator(e,E),L=ref$1(),R=useScrolling(L,r);function A(t){e.openOnClear&&(E.value=!0),g.value=""}function O(){T.value||(E.value=!0)}function M(e){T.value||(n.value&&(e.preventDefault(),e.stopPropagation()),E.value=!E.value)}function F(e){var t;(checkPrintable(e)||"Backspace"===e.key)&&(null==(t=r.value)||t.focus())}function z(t){var a,o,n,i,l;if(b.isReadonly.value)return;const s=null==(a=r.value)?void 0:a.selectionStart,c=y.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(E.value=!0),["Escape"].includes(t.key)&&(E.value=!1),N.value&&["Enter","Tab"].includes(t.key)&&!y.value.some(e=>{let{value:t}=e;return t===V.value[0].value})&&K(V.value[0]),"ArrowDown"===t.key&&N.value&&(null==(o=L.value)||o.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&C.value&&y.value.length>0&&!g.value)return K(y.value[0],!1);if(~d.value){t.preventDefault();const e=d.value;K(y.value[d.value],!1),d.value=e>=c-1?c-2:e}else"Backspace"!==t.key||g.value||(d.value=c-1)}else if(e.multiple)if("ArrowLeft"===t.key){if(d.value<0&&s&&s>0)return;const e=d.value>-1?d.value-1:c-1;if(y.value[e])d.value=e;else{const e=(null==(n=g.value)?void 0:n.length)??null;d.value=-1,null==(i=r.value)||i.setSelectionRange(e,e)}}else if("ArrowRight"===t.key){if(d.value<0)return;const e=d.value+1;y.value[e]?d.value=e:(d.value=-1,null==(l=r.value)||l.setSelectionRange(0,0))}else~d.value&&checkPrintable(t)&&(d.value=-1)}function H(e){if(matchesSelector(r.value,":autofill")||matchesSelector(r.value,":-webkit-autofill")){const t=p.value.find(t=>t.title===e.target.value);t&&K(t)}}function q(){var t;e.eager&&(null==(t=c.value)||t.calculateVisibleItems())}function U(){var e;n.value&&(i.value=!0,null==(e=r.value)||e.focus()),u.value=null}function W(e){n.value=!0,setTimeout(()=>{l.value=!0})}function j(e){l.value=!1}function G(t){null!=t&&(""!==t||e.multiple||C.value)||(y.value=[])}const Y=shallowRef(!1);function K(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&!t.props.disabled)if(e.multiple){const o=y.value.findIndex(a=>(e.valueComparator||deepEqual$1)(a.value,t.value)),r=null==a?!~o:a;if(~o){const e=r?[...y.value,t]:[...y.value];e.splice(o,1),y.value=e}else r&&(y.value=[...y.value,t]);e.clearOnSelect&&(g.value="")}else{const e=!1!==a;y.value=e?[t]:[],u.value=i.value?"":g.value??"",g.value=e&&!C.value?t.title:"",nextTick(()=>{E.value=!1,i.value=!0})}}return watch(n,(t,a)=>{var o;t!==a&&(t?(Y.value=!0,g.value=e.multiple||C.value?"":String((null==(o=y.value.at(-1))?void 0:o.props.title)??""),i.value=!0,nextTick(()=>Y.value=!1)):(e.multiple||null!=g.value||(y.value=[]),E.value=!1,!i.value&&g.value&&(u.value=g.value),g.value="",d.value=-1))}),watch(g,e=>{n.value&&!Y.value&&(e&&(E.value=!0),i.value=!e)}),watch(E,t=>{if(!e.hideSelected&&t&&y.value.length&&i.value){const e=V.value.findIndex(e=>y.value.some(t=>e.value===t.value));IN_BROWSER&&window.requestAnimationFrame(()=>{var t;e>=0&&(null==(t=c.value)||t.scrollToIndex(e))})}t&&(u.value=null)}),watch(p,(e,t)=>{E.value||n.value&&!t.length&&e.length&&(E.value=!0)}),useRender(()=>{const t=!!(!e.hideNoData||V.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),l=y.value.length>0,u=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:r},u,{modelValue:g.value,"onUpdate:modelValue":[e=>g.value=e,G],focused:n.value,"onUpdate:focused":e=>n.value=e,validationValue:y.externalValue,counterValue:_.value,dirty:l,onChange:H,class:["v-autocomplete","v-autocomplete--"+(e.multiple?"multiple":"single"),{"v-autocomplete--active-menu":E.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!C.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:b.isReadonly.value,placeholder:l?void 0:e.placeholder,"onClick:clear":A,"onMousedown:control":O,onKeydown:z,"aria-expanded":$.value,"aria-controls":P.value}),{...a,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({id:I.value,ref:s,modelValue:E.value,"onUpdate:modelValue":e=>E.value=e,activator:"parent",contentClass:"v-autocomplete__content",disabled:T.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:q,onAfterLeave:U},e.menuProps),{default:()=>[t&&createVNode(VList,mergeProps({ref:L,filterable:!0,selected:S.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:F,onFocusin:W,onFocusout:j,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},R,e.listProps),{default:()=>{var t,r,n;return[null==(t=a["prepend-item"])?void 0:t.call(a),!V.value.length&&!e.hideNoData&&((null==(r=a["no-data"])?void 0:r.call(a))??createVNode(VListItem,{key:"no-data",title:o(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:c,renderless:!0,items:V.value,itemKey:"value"},{default:t=>{var o,r,n;let{item:l,index:s,itemRef:c}=t;const d=mergeProps(l.props,{ref:c,key:l.value,active:!(!N.value||0!==s)||void 0,onClick:()=>K(l,null)});return"divider"===l.type?(null==(o=a.divider)?void 0:o.call(a,{props:l.raw,index:s}))??createVNode(VDivider,mergeProps(l.props,{key:`divider-${s}`}),null):"subheader"===l.type?(null==(r=a.subheader)?void 0:r.call(a,{props:l.raw,index:s}))??createVNode(VListSubheader,mergeProps(l.props,{key:`subheader-${s}`}),null):(null==(n=a.item)?void 0:n.call(a,{item:l,index:s,props:d}))??createVNode(VListItem,mergeProps(d,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:l.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,l.props.prependAvatar&&createVNode(VAvatar,{image:l.props.prependAvatar},null),l.props.prependIcon&&createVNode(VIcon,{icon:l.props.prependIcon},null)])},title:()=>{var e;return i.value?l.title:highlightResult("v-autocomplete",l.title,null==(e=x(l))?void 0:e.title)}})}}),null==(n=a["append-item"])?void 0:n.call(a)]}})]}),y.value.map((t,o)=>{function r(e){e.stopPropagation(),e.preventDefault(),K(t,!1)}const n={"onClick:close":r,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),r(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},i=k.value?!!a.chip:!!a.selection,l=i?ensureValidVNode(k.value?a.chip({item:t,index:o,props:n}):a.selection({item:t,index:o})):void 0;if(!i||l)return createBaseVNode("div",{key:t.value,class:normalizeClass(["v-autocomplete__selection",o===d.value&&["v-autocomplete__selection--selected",v.value]]),style:normalizeStyle(o===d.value?f.value:{})},[k.value?a.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:t.title}}},{default:()=>[l]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:t.title,disabled:t.props.disabled},n),null):l??createBaseVNode("span",{class:"v-autocomplete__selection-text"},[t.title,e.multiple&&o<y.value.length-1&&createBaseVNode("span",{class:"v-autocomplete__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){for(var t,o,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return createBaseVNode(Fragment,null,[null==(t=a["append-inner"])?void 0:t.call(a,...i),e.menuIcon?createVNode(VIcon,{class:"v-autocomplete__menu-icon",color:null==(o=r.value)?void 0:o.fieldIconColor,icon:e.menuIcon,onMousedown:M,onClick:noop$1,"aria-label":D.value,title:D.value,tabindex:"-1"},null):void 0])}})}),forwardRefs({isFocused:n,isPristine:i,menu:E,search:g,filteredItems:w,select:K},r)}}),_hoisted_1$l={class:"mb-6"},_hoisted_2$j={class:"font-weight-medium maintext--text ws-p"},_hoisted_3$h={class:"font-weight-medium maintext--text ws-p"},_hoisted_4$g={class:"font-weight-medium maintext--text ws-p"},_hoisted_5$g={class:"ml-1 subtext--text fs-10"},_hoisted_6$g={key:0},_hoisted_7$g={class:"font-weight-regular fs-14 subtext--text mb-2"},_hoisted_8$g={class:"float-right mr-2"},_hoisted_9$g={key:0,class:"lh-16 fs-10 subtext--text mb-0"},_hoisted_10$g={class:"font-weight-regular fs-14 subtext--text mb-2"},_hoisted_11$g={class:"float-right mr-2"},_hoisted_12$g={key:0,class:"lh-16 fs-10 subtext--text mb-0"},_hoisted_13$f={class:"font-weight-medium maintext--text mb-0 ws-p"},_hoisted_14$e={class:"ml-1 txt-999 fs-10"},_hoisted_15$c={key:0},_hoisted_16$9={class:"font-weight-medium maintext--text fs-12"},_hoisted_17$9={class:"px-4"},_hoisted_18$9={class:"font-weight-bold fs-14 maintext--text mb-0"},_hoisted_19$9={class:"ml-1 txt-999 fs-10"},_hoisted_20$9={class:"font-weight-bold fs-14 maintext--text mb-0"},_hoisted_21$9={class:"fs-12 grey--text"},_hoisted_22$9={class:"font-weight-bold fs-14 maintext--text mb-0"},_hoisted_23$9={class:"ml-1 txt-999 fs-10"},_hoisted_24$9={class:"font-weight-bold fs-14 maintext--text mb-0"},_hoisted_25$8={class:"font-weight-medium maintext--text fs-12"},_hoisted_26$8={class:"font-weight-medium maintext--text ws-p"},_hoisted_27$8={class:"font-weight-medium fs-12"},_hoisted_28$8={class:"error--text font-weight-bold"},_hoisted_29$8={class:"font-weight-bold"},_hoisted_30$8={class:"font-weight-bold"},_hoisted_31$6={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_sfc_main$z={__name:"StockBSKorders",setup(e){const t=useRouter$1(),a=useBasketStore(),o=useAuthStore(),r=useAppStore(),n=ref$1(""),i=ref$1(""),l=ref$1(!1),s=ref$1(!1),c=ref$1(!1),d=ref$1(""),u=ref$1(null),p=ref$1(null),h=ref$1(null),m=computed(()=>[{title:"Basket Name",sortable:!1,key:"name"},{title:"No.of item",key:"list"},{title:"Created on",key:"date"},{title:"",width:"10%",key:"actions",sortable:!1}]),v=computed(()=>[{title:"Instrument",key:"tsym"},{title:"Buy/Sell",key:"buyrsell"},{title:"Product",key:"investype"},{title:"Price type",key:"prctype"},{title:"Qty",key:"qty",sortable:!1},{title:"Price",key:"price",sortable:!1},{title:"",width:"10%",key:"actions",sortable:!1}]);function f(){a.loading=!0,a.loadBaskets(),setTimeout(()=>{a.loading=!1},400)}function g(e,t=null){c.value=!e,u.value=t,d.value=t?t.name:"",l.value=!0}function y(){if(d.value){if(c.value&&u.value)a.updateBasket(u.value,d.value),a.activeBasket&&a.activeBasket.idx===u.value.idx&&(a.activeBasket.name=d.value);else if(a.createBasket(d.value)){const e=a.allBaskets[a.allBaskets.length-1];a.openBasket(e)}l.value=!1,d.value="",u.value=null}}function _(e){p.value=e,s.value=!0}function b(e){i.value=e,e&&e.length>2&&a.searchScript(e.toUpperCase())}async function w(e){if(e&&e.token)try{const t=`${e.exch}|${e.token}`,o=await getSecuritydata(t);if(h.value=o,o.frzqty&&Number(o.frzqty)>0){const t=Math.round(Number(o.frzqty)/Number(e.ls));o.frzqty=t*Number(e.ls)}a.selectedScript[0]=o,a.buyOrSell=!1,a.quantity=Number(e.ls),a.investType="I",a.priceType="LMT",a.price=0,a.triggerPrice=0,a.marketProtection=5,a.afterMarket=!1,a.subscribeWebSocket([e])}catch(e2){console.error("Error loading security data:",e2),r.showSnackbar(2,"Failed to load security data")}}function x(){a.selectedScript=null,a.resetItemForm(),h.value=null}function V(e,t){return Math.round(e/t)*t}function k(){const e=a.selectedScript,t=Number(a.quantity),o=Number(a.price),n=Number(a.triggerPrice),i=h.value;if(!i)return void r.showSnackbar(2,"Security information not loaded");if(!(t>0))return void r.showSnackbar(2,"The order Quantity must be greater than zero.");if(!("LMT"!==a.priceType&&"SL-LMT"!==a.priceType||o>=Number(i.lc)&&o<=Number(i.uc)))return void r.showSnackbar(2,"The order price must be between the circuit level.");if(!("SL-MKT"!==a.priceType&&"SL-LMT"!==a.priceType||n>0))return void r.showSnackbar(2,"The trigger price cannot be zero.");if(!(t<=20*Number(i.frzqty)))return void r.showSnackbar(2,`Your max slice order limit Quantity, ${(20*Number(i.frzqty)).toLocaleString()}`);if("LMT"===a.priceType||"SL-LMT"===a.priceType){const t=V(o,Number(e.ti)).toFixed(2);if(o!==Number(t))return void r.showSnackbar(2,`Price should be multiple of tick size ${e.ti} => ${t}`)}if("SL-LMT"===a.priceType||"SL-MKT"===a.priceType){const t=V(n,Number(e.ti)).toFixed(2);if(n!==Number(t))return void r.showSnackbar(2,`Trigger should be multiple of tick size ${e.ti} => ${t}`)}const l=Math.round(t/Number(e.ls))*Number(e.ls);if(t!==l&&"MCX"!==e.exch)return void r.showSnackbar(2,`Quantity should be multiple of lot size ${e.ls} => ${l>0?l:e.ls}`);const s={...e,slicetimes:t>Number(i.frzqty),slice:[1===Math.round(t/Number(i.frzqty))?1:Math.round(t/Number(i.frzqty))-1,t-Number(i.frzqty)*(1===Math.round(t/Number(i.frzqty))?1:Math.round(t/Number(i.frzqty))-1)],buyrsell:a.buyOrSell,qty:t,idx:a.editMode&&a.editItem?a.editItem.idx:Date.now(),investype:a.investType,prctype:a.priceType,price:o,trgprice:n,mktprdordqty:a.marketProtection,addmktord:a.afterMarket,ltp:e.ltp??"0.00",chp:e.chp??"0.00",ch:e.ch??"0.00",0:i};a.editMode&&a.editItem?a.updateItemInBasket(s):a.addItemToBasket(s),x(),nextTick(()=>{a.calculateMargin()})}function C(e){const t=e.detail;t&&t.token&&a.updatePrice(t)}function S(e){"bsk"===e.detail&&f()}return onMounted(()=>{"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")?(o.mtoken=sessionStorage.getItem("msession"),o.uid=sessionStorage.getItem("userid"),f()):t.push("/"),window.addEventListener("web-scoketConn",C),window.addEventListener("orderbook-update",S)}),onUnmounted(()=>{window.removeEventListener("web-scoketConn",C),window.removeEventListener("orderbook-update",S)}),watch(()=>a.basketDialog,e=>{e||x()}),(e,t)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$l,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty crd-trn"},{default:withCtx(()=>[createVNode(VBtn,{disabled:!unref(a).canCreateBasket,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",height:"40px",onClick:t[0]||(t[0]=e=>g(!0))},{default:withCtx(()=>[...t[37]||(t[37]=[createTextVNode(" + Create Basket ",-1)])]),_:1},8,["disabled"]),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill",density:"compact",flat:"",variant:"solo","bg-color":"#F1F3F8"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",onClick:t[2]||(t[2]=e=>f()),color:"#000",size:"24"},{default:withCtx(()=>[...t[38]||(t[38]=[createTextVNode("mdi-reload",-1)])]),_:1})]),_:1}),createVNode(VDataTable,{"onClick:row":t[4]||(t[4]=(e,{item:t})=>unref(a).openBasket(t)),"sort-by":[{key:"date",order:"desc"}],"hide-default-footer":"","fixed-header":"",loading:unref(a).loading,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480px",headers:m.value,search:n.value,items:unref(a).allBaskets,"items-per-page":10},{"item.name":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_2$j,toDisplayString(e.name),1)]),"item.list":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_3$h,toDisplayString(e.list?e.list.length:0)+"/20",1)]),"item.date":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_4$g,toDisplayString(e.date),1)]),"item.actions":withCtx(({item:e})=>[createBaseVNode("div",{class:"d-inline-flex",onClick:t[3]||(t[3]=withModifiers(()=>{},["stop"]))},[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:o})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(o)),[createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>unref(a).openBasket(e)},{default:withCtx(()=>[...t[39]||(t[39]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[createBaseVNode("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),createBaseVNode("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),createBaseVNode("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[40]||(t[40]=createBaseVNode("span",null,"Edit",-1))]),_:2},1024),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(a)),[createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mt-2",onClick:t=>_(e)},{default:withCtx(()=>[...t[41]||(t[41]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[42]||(t[42]=createBaseVNode("span",null,"Delete",-1))]),_:2},1024)])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[43]||(t[43]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1},8,["loading","headers","search","items"])]),createVNode(VDialog,{modelValue:unref(a).basketDialog,"onUpdate:modelValue":t[28]||(t[28]=e=>unref(a).basketDialog=e),width:"760"},{default:withCtx(()=>[createVNode(VCard,{class:"pb-6 px-6 overflow-hidden rounded-lg",color:"#ffffff"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title maintext--text mt-4 mb-1"},{default:withCtx(()=>[t[45]||(t[45]=createTextVNode(" Basket order ",-1)),createVNode(VIcon,{onClick:t[5]||(t[5]=e=>unref(a).closeBasket()),class:"float-right",color:"#000",disabled:unref(a).orderLoader},{default:withCtx(()=>[...t[44]||(t[44]=[createTextVNode("mdi-close",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDivider,{class:"mb-2"}),createVNode(VRow,{class:"pt-2 pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"4",class:"d-inline-flex"},{default:withCtx(()=>[createVNode(VTextField,{readonly:"","hide-details":"",height:"40px",density:"compact","bg-color":"#F1F3F8",flat:"",class:"rounded-pill mb-0",type:"text",variant:"solo",modelValue:unref(a).activeBasket.name,"onUpdate:modelValue":t[6]||(t[6]=e=>unref(a).activeBasket.name=e)},null,8,["modelValue"]),createVNode(VBtn,{icon:"",size:"small",class:"text-align-center ml-1 mt-1",onClick:t[7]||(t[7]=e=>g(!1,unref(a).activeBasket))},{default:withCtx(()=>[...t[46]||(t[46]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[createBaseVNode("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),createBaseVNode("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),createBaseVNode("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1}),createVNode(VBtn,{icon:"",size:"small",class:"text-align-center ml-1 mt-1",onClick:t[8]||(t[8]=e=>_(unref(a).activeBasket))},{default:withCtx(()=>[...t[47]||(t[47]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"5",class:"ml-auto"},{default:withCtx(()=>[createVNode(VAutocomplete,{disabled:!unref(a).canAddItem||unref(a).selectedScript&&unref(a).selectedScript.token,"onUpdate:modelValue":[w,t[9]||(t[9]=e=>unref(a).selectedScript=e)],loading:unref(a).searchLoading,"item-title":"tsym","return-object":"",class:"rounded-pill",flat:"",variant:"solo","bg-color":"#F1F3F8",density:"compact",modelValue:unref(a).selectedScript,search:i.value,"onUpdate:search":b,"hide-details":"",label:"Search script",items:unref(a).searchItems,"prepend-inner-icon":"mdi-magnify",clearable:"","no-filter":""},{item:withCtx(({props:e,item:t})=>[createVNode(VListItem,mergeProps(e,{title:t.raw.tsym,subtitle:t.raw.exch}),null,16,["title","subtitle"])]),_:1},8,["disabled","loading","modelValue","search","items"])]),_:1})]),_:1}),unref(a).selectedScript&&unref(a).selectedScript.token?(openBlock(),createBlock(VCard,{key:0,loading:unref(a).orderLoader,color:unref(a).buyOrSell?"#ffcdcd90":"#ECF8F1",class:"elevation-0 pt-3 pb-4"},{default:withCtx(()=>[createVNode(VToolbar,{class:"tool-sty elevation-0 pl-4 pr-2 crd-trn",dense:""},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold fs-16 maintext--text mb-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a).selectedScript.tsym)+" ",1),createBaseVNode("span",_hoisted_5$g,toDisplayString(unref(a).selectedScript.exch),1)]),_:1}),createVNode(VListItemSubtitle,{class:"font-weight-medium maintext--text"},{default:withCtx(()=>{var e,o;return[unref(a).selectedScript.ws?(openBlock(),createElementBlock("span",_hoisted_6$g,[t[48]||(t[48]=createTextVNode(" ₹",-1)),createBaseVNode("span",null,toDisplayString(unref(a).selectedScript.ws.lp?Number(unref(a).selectedScript.ws.lp).toFixed(2):"0.00"),1),createBaseVNode("span",{class:normalizeClass([unref(a).selectedScript.ws.ch>0?"maingreen--text":unref(a).selectedScript.ws.ch<0?"mainred--text":"subtext--text","text-right font-weight-medium fs-12"])},toDisplayString(unref(a).selectedScript.ws.ch?null==(e=unref(a).selectedScript.ws.ch)?void 0:e.toFixed(2):"0.00")+" ("+toDisplayString(unref(a).selectedScript.ws.chp?null==(o=unref(a).selectedScript.ws.chp)?void 0:o.toFixed(2):"0.00")+"%) ",3)])):createCommentVNode("",!0)]}),_:1})]),_:1}),createVNode(VSpacer),createVNode(VCard,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text mr-4 mt-n5",color:"#43A833"},{default:withCtx(()=>[...t[49]||(t[49]=[createTextVNode(" B ",-1)])]),_:1}),createVNode(VSwitch,{modelValue:unref(a).buyOrSell,"onUpdate:modelValue":t[10]||(t[10]=e=>unref(a).buyOrSell=e),inset:"",color:"primary"},null,8,["modelValue"]),createVNode(VCard,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text ml-1 mt-n5",color:"#F23645"},{default:withCtx(()=>[...t[50]||(t[50]=[createTextVNode(" S ",-1)])]),_:1}),createVNode(VIcon,{onClick:t[11]||(t[11]=e=>x()),color:"#000",class:"mb-auto ml-4"},{default:withCtx(()=>[...t[51]||(t[51]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),createVNode(VRow,{"no-gutters":"",class:"px-4 pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"3",class:"pb-0"},{default:withCtx(()=>[t[52]||(t[52]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Investment type",-1)),createVNode(VSelect,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo","item-title":"txt","item-value":"val","append-icon":"mdi-chevron-down",items:unref(a).investItems["NSE"===unref(a).selectedScript.exch||"BSE"===unref(a).selectedScript.exch?0:1],"hide-details":"",modelValue:unref(a).investType,"onUpdate:modelValue":t[12]||(t[12]=e=>unref(a).investType=e)},null,8,["items","modelValue"])]),_:1}),createVNode(VCol,{cols:"3",class:"pb-0"},{default:withCtx(()=>[t[53]||(t[53]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Order type",-1)),createVNode(VSelect,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo","item-title":"txt","item-value":"val","append-icon":"mdi-chevron-down",items:unref(a).priceItems,"hide-details":"",modelValue:unref(a).priceType,"onUpdate:modelValue":t[13]||(t[13]=e=>unref(a).priceType=e)},null,8,["items","modelValue"])]),_:1}),createVNode(VCol,{cols:"3",class:"pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_7$g,[t[54]||(t[54]=createTextVNode(" Quantity ",-1)),createBaseVNode("span",_hoisted_8$g,"MLot: "+toDisplayString(unref(a).selectedScript.ls),1)]),createVNode(VTextField,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"","hide-details":"",class:"rounded-pill",variant:"solo",type:"number",min:Number(unref(a).selectedScript.ls),step:Number(unref(a).selectedScript.ls),modelValue:unref(a).quantity,"onUpdate:modelValue":t[16]||(t[16]=e=>unref(a).quantity=e)},{"append-inner":withCtx(()=>[createVNode(VBtn,{onClick:t[14]||(t[14]=e=>unref(a).quantity=Number(unref(a).quantity)+Number(unref(a).selectedScript.ls)),icon:"",size:"small",class:"elevation-0"},{default:withCtx(()=>[...t[55]||(t[55]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M12 8V16",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":withCtx(()=>[createVNode(VBtn,{onClick:t[15]||(t[15]=e=>unref(a).quantity==Number(unref(a).selectedScript.ls)?Number(unref(a).quantity):unref(a).quantity=Number(unref(a).quantity)-Number(unref(a).selectedScript.ls)),icon:"",size:"small",class:"elevation-0"},{default:withCtx(()=>[...t[56]||(t[56]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),createBaseVNode("path",{d:"M16 12L8 12",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["min","step","modelValue"]),h.value?(openBlock(),createElementBlock("p",_hoisted_9$g,"Freeze qty: "+toDisplayString(h.value.frzqty),1)):createCommentVNode("",!0)]),_:1}),"LMT"===unref(a).priceType||"SL-LMT"===unref(a).priceType?(openBlock(),createBlock(VCol,{key:0,cols:"3",class:"pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_10$g,[t[57]||(t[57]=createTextVNode(" Price ",-1)),createBaseVNode("span",_hoisted_11$g,"Tick: "+toDisplayString(unref(a).selectedScript.ti),1)]),createVNode(VTextField,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"",min:unref(a).selectedScript.ti,modelValue:unref(a).price,"onUpdate:modelValue":t[17]||(t[17]=e=>unref(a).price=e),onKeyup:t[18]||(t[18]=withKeys(e=>k(),["enter"]))},{"prepend-inner":withCtx(()=>[...t[58]||(t[58]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"transparent"}),createBaseVNode("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#666666"})],-1)])]),_:1},8,["min","modelValue"]),h.value?(openBlock(),createElementBlock("p",_hoisted_12$g,"Circuit level: "+toDisplayString(h.value.lc)+" - "+toDisplayString(h.value.uc),1)):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0),"SL-MKT"===unref(a).priceType||"SL-LMT"===unref(a).priceType?(openBlock(),createBlock(VCol,{key:1,cols:"3",class:"pb-0"},{default:withCtx(()=>[t[60]||(t[60]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),createVNode(VTextField,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"",min:unref(a).selectedScript.ti,step:unref(a).selectedScript.ti,modelValue:unref(a).triggerPrice,"onUpdate:modelValue":t[19]||(t[19]=e=>unref(a).triggerPrice=e),onKeyup:t[20]||(t[20]=withKeys(e=>k(),["enter"]))},{"prepend-inner":withCtx(()=>[...t[59]||(t[59]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),createBaseVNode("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#666666"})],-1)])]),_:1},8,["min","step","modelValue"])]),_:1})):createCommentVNode("",!0),"MKT"===unref(a).priceType||"SL-MKT"===unref(a).priceType?(openBlock(),createBlock(VCol,{key:2,cols:"3",class:"pb-0"},{default:withCtx(()=>[t[61]||(t[61]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Market Protection %",-1)),createVNode(VTextField,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"","hide-details":"",class:"rounded-pill",variant:"solo",type:"number",min:"2",max:"100",step:"1",modelValue:unref(a).marketProtection,"onUpdate:modelValue":t[21]||(t[21]=e=>unref(a).marketProtection=e),onKeyup:t[22]||(t[22]=withKeys(e=>k(),["enter"]))},null,8,["modelValue"])]),_:1})):createCommentVNode("",!0),createVNode(VCol,{cols:"3",class:"pb-0"},{default:withCtx(()=>[t[63]||(t[63]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"AMO",-1)),createVNode(VCheckbox,{color:"#000",modelValue:unref(a).afterMarket,"onUpdate:modelValue":t[23]||(t[23]=e=>unref(a).afterMarket=e),"hide-details":""},{label:withCtx(()=>[...t[62]||(t[62]=[createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"After Market order",-1)])]),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3",class:"pb-0 ml-auto mt-auto"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[24]||(t[24]=e=>k()),loading:unref(a).orderLoader,color:unref(a).buyOrSell?"#F23645":"#43A833",class:"text-none rounded-pill elevation-0 white--text",block:"",height:"40px"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a).editMode?"Edit":"Add"),1)]),_:1},8,["loading","color"])]),_:1})]),_:1})]),_:1},8,["loading","color"])):(openBlock(),createBlock(VDataTable,{key:1,"sort-by":[{key:"idx",order:"asc"}],"hide-default-footer":"","fixed-header":"",loading:unref(a).loading,class:"mt-0 rounded-lg overflow-y-auto",style:{border:"1px solid #EBEEF0"},height:"288px",headers:v.value,items:unref(a).basketItems,"items-per-page":20},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_13$f,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_14$e,toDisplayString(e.exch),1),createVNode(VListItemSubtitle,{class:"font-weight-medium maintext--text fs-12 pl-1"},{default:withCtx(()=>[e.ltp?(openBlock(),createElementBlock("span",_hoisted_15$c,[t[64]||(t[64]=createTextVNode(" ₹",-1)),createBaseVNode("span",null,toDisplayString(e.ltp),1),createBaseVNode("span",{class:normalizeClass([e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text","text-right font-weight-medium fs-10"])},toDisplayString(e.ch)+" ("+toDisplayString(e.chp)+"%) ",3)])):createCommentVNode("",!0)]),_:2},1024)])]),"item.qty":withCtx(({item:e})=>[e.slicetimes?(openBlock(),createBlock(VMenu,{key:0,"offset-y":"",location:"bottom left","open-on-hover":""},{activator:withCtx(({props:t})=>[createVNode(VChip,mergeProps(t,{size:"small",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_16$9,toDisplayString(e.qty)+" "+toDisplayString(e.slicetimes?`/ ${1==Math.round(e.qty/e[0].frzqty)?2:Math.round(e.qty/e[0].frzqty)}`:""),1)]),_:2},1040)]),default:withCtx(()=>[createVNode(VCard,{class:"mx-auto text-right overflow-hidden rounded-xl elevation-0",color:"transparent",width:"300px"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 mb-0",color:"transparent",dense:""},{default:withCtx(()=>[t[65]||(t[65]=createBaseVNode("span",{class:"font-weight-bold fs-14"},"Slice Order",-1)),createVNode(VSpacer)]),_:1}),createVNode(VDivider,{class:"mb-2"}),createBaseVNode("div",_hoisted_17$9,[createVNode(VRow,{class:"pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"8",class:"text-left"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_18$9,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_19$9,toDisplayString(e.exch),1)])]),_:2},1024),createVNode(VCol,{cols:"4",class:"text-right"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_20$9,[createTextVNode(toDisplayString(e[0].frzqty)+" ",1),createBaseVNode("span",_hoisted_21$9,"x "+toDisplayString(e.slice[0]),1)])]),_:2},1024),e.slice[1]>0?(openBlock(),createBlock(VCol,{key:0,cols:"8",class:"text-left pb-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_22$9,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_23$9,toDisplayString(e.exch),1)])]),_:2},1024)):createCommentVNode("",!0),e.slice[1]>0?(openBlock(),createBlock(VCol,{key:1,cols:"4",class:"text-right"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_24$9,[createTextVNode(toDisplayString(e.slice[1])+" ",1),t[66]||(t[66]=createBaseVNode("span",{class:"fs-12 grey--text"},"x 1",-1))])]),_:2},1024)):createCommentVNode("",!0)]),_:2},1024)])]),_:2},1024)]),_:2},1024)):(openBlock(),createBlock(VChip,{key:1,size:"small",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:withCtx(()=>[createBaseVNode("span",_hoisted_25$8,toDisplayString(e.qty),1)]),_:2},1024))]),"item.investype":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_26$8,toDisplayString(unref(a).investItems[e.investype]),1)]),"item.buyrsell":withCtx(({item:e})=>[createVNode(VChip,{size:"small",color:e.buyrsell?"#ffcdcd90":"#ECF8F1","text-color":e.buyrsell?"#F23645":"#43A833",style:normalizeStyle(`border: 1px solid ${e.buyrsell?"#FFCDCD":"#C1E7BA"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:withCtx(()=>[createBaseVNode("span",_hoisted_27$8,toDisplayString(e.buyrsell?"SELL":"BUY"),1)]),_:2},1032,["color","text-color","style"])]),"item.actions":withCtx(({item:e})=>[createBaseVNode("div",{class:"d-inline-flex",onClick:t[25]||(t[25]=withModifiers(()=>{},["stop"]))},[createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:o})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(o)),[createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>unref(a).duplicateItem(e)},{default:withCtx(()=>[createVNode(VIcon,{size:"18"},{default:withCtx(()=>[...t[67]||(t[67]=[createTextVNode("mdi-content-copy",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[68]||(t[68]=createBaseVNode("span",null,"Duplicate",-1))]),_:2},1024),createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>async function(e){try{const t=`${e.exch}|${e.token}`,o=await getSecuritydata(t);if(h.value=o,o.frzqty&&Number(o.frzqty)>0){const t=Math.round(Number(o.frzqty)/Number(e.ls));o.frzqty=t*Number(e.ls)}a.setEditItem(e),a.selectedScript[0]=o,a.selectedScript.set=!0,a.subscribeWebSocket([e])}catch(e2){console.error("Error loading security data for edit:",e2),r.showSnackbar(2,"Failed to load security data")}}(e)},{default:withCtx(()=>[...t[69]||(t[69]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[createBaseVNode("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),createBaseVNode("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),createBaseVNode("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mt-2",onClick:t=>{unref(a).removeItemFromBasket(e),unref(a).calculateMargin()}},{default:withCtx(()=>[...t[70]||(t[70]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[71]||(t[71]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1},8,["loading","headers","items"])),createVNode(VRow,{class:"pt-3"},{default:withCtx(()=>["Ok"!==unref(a).basketMargin.stat?(openBlock(),createBlock(VCol,{key:0,cols:"8",class:"pa-0 pl-1"},{default:withCtx(()=>[createVNode(VList,{density:"compact",class:"crd-trn"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0 pl-2"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"subtitle-2 font-weight-regular ml-1"},{default:withCtx(()=>[t[72]||(t[72]=createTextVNode(" Remarks: ",-1)),createBaseVNode("span",_hoisted_28$8,toDisplayString(unref(a).basketMargin.remarks||unref(a).basketMargin.emsg||"-"),1)]),_:1})]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(VCol,{key:1,cols:"8",class:"pa-0 pl-1"},{default:withCtx(()=>[createVNode(VList,{density:"compact",class:"crd-trn"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0 pl-2"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"subtitle-2 font-weight-regular ml-1"},{default:withCtx(()=>[t[73]||(t[73]=createTextVNode(" Basket Margin: ₹",-1)),createBaseVNode("span",_hoisted_29$8,toDisplayString(unref(a).totalMargin),1)]),_:1}),createVNode(VListItemTitle,{class:"subtitle-2 font-weight-regular"},{default:withCtx(()=>[t[74]||(t[74]=createTextVNode(" Post Trade Margin: ₹",-1)),createBaseVNode("span",_hoisted_30$8,toDisplayString(unref(a).postTradeMargin),1)]),_:1})]),_:1})]),_:1})]),_:1})),createVNode(VCol,{cols:"1",class:"text-center"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[26]||(t[26]=e=>unref(a).calculateMargin()),disabled:unref(a).orderLoader||unref(a).selectedScript&&unref(a).selectedScript.token,text:"",size:"x-small",icon:""},{default:withCtx(()=>[...t[75]||(t[75]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[createBaseVNode("path",{fill:"currentColor",d:"M16.63 7.05a6.78 6.78 0 0 0-11.2 3.29.49.49 0 0 1-.47.37H2.65a.48.48 0 0 1-.48-.57 10 10 0 0 1 16.74-5.37l1.44-1.44A.97.97 0 0 1 22 4v5.4c0 .54-.43.98-.97.98h-5.4a.97.97 0 0 1-.69-1.65l1.69-1.69ZM2.97 13.61h5.4a.97.97 0 0 1 .69 1.66l-1.69 1.68a6.78 6.78 0 0 0 11.2-3.29.49.49 0 0 1 .47-.37h2.31c.3 0 .53.27.48.57a10 10 0 0 1-16.74 5.37l-1.44 1.44A.97.97 0 0 1 2 20v-5.4c0-.54.43-.98.97-.98Z"})],-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VCol,{cols:"3",class:"text-right"},{default:withCtx(()=>[createVNode(VBtn,{disabled:unref(a).selectedScript&&unref(a).selectedScript.token||0===unref(a).basketItems.length,loading:unref(a).orderLoader,color:"#000",class:"elevation-0 text-capitalize rounded-pill",style:{color:"#fff"},onClick:t[27]||(t[27]=e=>unref(a).placeBasketOrder())},{default:withCtx(()=>[...t[76]||(t[76]=[createTextVNode(" Place Order ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:l.value,"onUpdate:modelValue":t[33]||(t[33]=e=>l.value=e),width:"420"},{default:withCtx(()=>[createVNode(VCard,{class:"pb-4 pt-2 px-6 overflow-hidden elevation-0",color:"#ffffff"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title maintext--text mt-2 mb-4"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.value?"Edit":"Create")+" basket ",1),createVNode(VIcon,{onClick:t[29]||(t[29]=e=>l.value=!1),class:"float-right",color:"#000"},{default:withCtx(()=>[...t[77]||(t[77]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),t[78]||(t[78]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Enter the basket name",-1)),createVNode(VTextField,{"hide-details":"",height:"40px",density:"compact","bg-color":"#F1F3F8",flat:"",class:"rounded-pill mb-4",placeholder:"my first millions",onKeyup:t[30]||(t[30]=withKeys(e=>y(),["enter"])),type:"text",variant:"solo",modelValue:d.value,"onUpdate:modelValue":t[31]||(t[31]=e=>d.value=e)},null,8,["modelValue"]),createVNode(VBtn,{onClick:t[32]||(t[32]=e=>y()),disabled:!d.value,color:"#000",class:"text-none rounded-pill elevation-0 px-6 float-right",style:{color:"#fff"},height:"40px"},{default:withCtx(()=>[createTextVNode(toDisplayString(c.value?"Edit":"Create"),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:s.value,"onUpdate:modelValue":t[36]||(t[36]=e=>s.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden",color:"#ffffff"},{default:withCtx(()=>[t[85]||(t[85]=createBaseVNode("img",{src:cancelIcon,alt:"cancel icon"},null,-1)),createBaseVNode("p",_hoisted_31$6,[t[79]||(t[79]=createTextVNode(" Are you sure you want to ",-1)),t[80]||(t[80]=createBaseVNode("br",null,null,-1)),t[81]||(t[81]=createTextVNode(" delete this ",-1)),createBaseVNode("b",null,toDisplayString(p.value?p.value.name:""),1),t[82]||(t[82]=createTextVNode(" basket ",-1))]),createVNode(VRow,{class:"px-6","no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[34]||(t[34]=e=>{s.value=!1,p.value=null}),color:"#F1F3F8",class:"rounded-pill text-none font-weight-bold elevation-0",style:{color:"#666666"},block:"",height:"40px"},{default:withCtx(()=>[...t[83]||(t[83]=[createTextVNode(" No ",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[35]||(t[35]=e=>(p.value&&(a.deleteBasket(p.value),a.closeBasket()),s.value=!1,void(p.value=null))),color:"#000",class:"rounded-pill text-none font-weight-bold elevation-0",style:{color:"#fff"},block:"",height:"40px"},{default:withCtx(()=>[...t[84]||(t[84]=[createTextVNode(" Yes ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},StockBSKorders=_export_sfc(_sfc_main$z,[["__scopeId","data-v-993070f1"]]),makeVDatePickerControlsProps=propsFactory({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:IconValue,default:"$next"},prevIcon:{type:IconValue,default:"$prev"},modeIcon:{type:IconValue,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),VDatePickerControls=genericComponent()({name:"VDatePickerControls",props:makeVDatePickerControlsProps(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:a}=t;const{t:o}=useLocale(),r=computed(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),n=computed(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),i=computed(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),l=computed(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function s(){a("click:prev")}function c(){a("click:next")}function d(){a("click:year")}function u(){a("click:month")}return useRender(()=>createBaseVNode("div",{class:normalizeClass(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":convertToUnit(e.controlHeight)}},[createVNode(VBtn,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:u},null),createVNode(VBtn,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:n.value,density:"comfortable",icon:e.modeIcon,variant:"text","aria-label":o("$vuetify.datePicker.ariaLabel.selectYear"),onClick:d},null),createVNode(VSpacer,null,null),createBaseVNode("div",{class:"v-date-picker-controls__month"},[createVNode(VBtn,{"data-testid":"prev-month",disabled:i.value,density:"comfortable",icon:e.prevIcon,variant:"text","aria-label":o("$vuetify.datePicker.ariaLabel.previousMonth"),onClick:s},null),createVNode(VBtn,{"data-testid":"next-month",disabled:l.value,icon:e.nextIcon,density:"comfortable",variant:"text","aria-label":o("$vuetify.datePicker.ariaLabel.nextMonth"),onClick:c},null)])])),{}}}),makeVDatePickerHeaderProps=propsFactory({appendIcon:IconValue,color:String,header:String,transition:String,onClick:EventProp()},"VDatePickerHeader"),VDatePickerHeader=genericComponent()({name:"VDatePickerHeader",props:makeVDatePickerHeaderProps(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:a,slots:o}=t;const{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color);function i(){a("click")}function l(){a("click:append")}return useRender(()=>{const t=!(!o.default&&!e.header),a=!(!o.append&&!e.appendIcon);return createBaseVNode("div",{class:normalizeClass(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value]),style:normalizeStyle(n.value),onClick:i},[o.prepend&&createBaseVNode("div",{key:"prepend",class:"v-date-picker-header__prepend"},[o.prepend()]),t&&createVNode(MaybeTransition,{key:"content",name:e.transition},{default:()=>{var t;return[createBaseVNode("div",{key:e.header,class:"v-date-picker-header__content"},[(null==(t=o.default)?void 0:t.call(o))??e.header])]}}),a&&createBaseVNode("div",{class:"v-date-picker-header__append"},[o.append?createVNode(VDefaultsProvider,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var e;return[null==(e=o.append)?void 0:e.call(o)]}}):createVNode(VBtn,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:l},null)])])}),{}}}),makeCalendarProps=propsFactory({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},firstDayOfYear:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function useCalendar(e){const t=useDate(),a=useProxiedModel(e,"modelValue",[],e=>wrapInArray(e).map(e=>t.date(e))),o=computed(()=>e.displayValue?t.date(e.displayValue):a.value.length>0?t.date(a.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=useProxiedModel(e,"year",void 0,e=>{const a=null!=e?Number(e):t.getYear(o.value);return t.startOfYear(t.setYear(t.date(),a))},e=>t.getYear(e)),n=useProxiedModel(e,"month",void 0,e=>{const a=null!=e?Number(e):t.getMonth(o.value),n=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(n,a)},e=>t.getMonth(e)),i=computed(()=>{const a=t.toJsDate(t.startOfWeek(t.date(),e.firstDayOfWeek)).getDay();return t.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((t,o)=>e.weekdays.includes((o+a)%7))}),l=computed(()=>{const a=t.getWeekArray(n.value,e.firstDayOfWeek),o=a.flat();if("static"===e.weeksInMonth&&o.length<42){const e=o[o.length-1];let r=[];for(let n=1;n<=42-o.length;n++)r.push(t.addDays(e,n)),n%7==0&&(a.push(r),r=[])}return a});function s(o,r){return o.filter(a=>e.weekdays.includes(t.toJsDate(a).getDay())).map((o,i)=>{const l=t.toISO(o),s=!t.isSameMonth(o,n.value),c=t.isSameDay(o,t.startOfMonth(n.value)),d=t.isSameDay(o,t.endOfMonth(n.value)),u=t.isSameDay(o,n.value),h=e.weekdays.length;return{date:o,formatted:t.format(o,"keyboardDate"),isAdjacent:s,isDisabled:p(o),isEnd:d,isHidden:s&&!e.showAdjacentMonths,isSame:u,isSelected:a.value.some(e=>t.isSameDay(o,e)),isStart:c,isToday:t.isSameDay(o,r),isWeekEnd:i%h===h-1,isWeekStart:i%h===0,isoDate:l,localized:t.format(o,"dayOfMonth"),month:t.getMonth(o),year:t.getYear(o)}})}const c=computed(()=>{const a=t.startOfWeek(o.value,e.firstDayOfWeek),r=[];for(let e=0;e<=6;e++)r.push(t.addDays(a,e));return s(r,t.date())}),d=computed(()=>s(l.value.flat(),t.date())),u=computed(()=>l.value.map(a=>a.length?t.getWeek(a[0],e.firstDayOfWeek,e.firstDayOfYear):null));function p(a){if(e.disabled)return!0;const o=t.date(a);return!(!e.min||!t.isBefore(t.endOfDay(o),t.date(e.min)))||(!(!e.max||!t.isAfter(o,t.date(e.max)))||(Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(e=>t.isSameDay(t.date(e),o)):"function"==typeof e.allowedDates&&!e.allowedDates(o)))}return{displayValue:o,daysInMonth:d,daysInWeek:c,genDays:s,model:a,weeksInMonth:l,weekdayLabels:i,weekNumbers:u}}const makeVDatePickerMonthProps=propsFactory({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...omit(makeCalendarProps(),["displayValue"])},"VDatePickerMonth"),VDatePickerMonth=genericComponent()({name:"VDatePickerMonth",props:makeVDatePickerMonthProps(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=ref$1(),{t:n}=useLocale(),{daysInMonth:i,model:l,weekNumbers:s,weekdayLabels:c}=useCalendar(e),d=useDate(),u=shallowRef(),p=shallowRef(),h=shallowRef(!1),m=toRef(()=>h.value?e.reverseTransition:e.transition);"range"===e.multiple&&l.value.length>0&&(u.value=l.value[0],l.value.length>1&&(p.value=l.value[l.value.length-1]));const v=computed(()=>{const t=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return l.value.length>=t});function f(e){const t=d.format(e.date,"fullDateWithWeekday"),a=e.isToday?"currentDate":"selectDate";return n(`$vuetify.datePicker.ariaLabel.${a}`,t)}function g(t){"range"===e.multiple?function(e){const t=d.startOfDay(e);if(0===l.value.length?u.value=void 0:1===l.value.length&&(u.value=l.value[0],p.value=void 0),u.value)if(p.value)u.value=e,p.value=void 0,l.value=[u.value];else{if(d.isSameDay(t,u.value))return u.value=void 0,void(l.value=[]);d.isBefore(t,u.value)?(p.value=d.endOfDay(u.value),u.value=t):p.value=d.endOfDay(t),l.value=createDateRange(d,u.value,p.value)}else u.value=t,l.value=[u.value]}(t):e.multiple?function(e){const t=l.value.findIndex(t=>d.isSameDay(t,e));if(-1===t)l.value=[...l.value,e];else{const e=[...l.value];e.splice(t,1),l.value=e}}(t):l.value=[t]}watch(i,(e,t)=>{t&&(h.value=d.isBefore(e[0].date,t[0].date))}),useRender(()=>createBaseVNode("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&createBaseVNode("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&createBaseVNode("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[createTextVNode(" ")]),s.value.map(e=>createBaseVNode("div",{class:normalizeClass(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[e]))]),createVNode(MaybeTransition,{name:m.value},{default:()=>{var t;return[createBaseVNode("div",{ref:r,key:null==(t=i.value[0].date)?void 0:t.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&c.value.map(e=>createBaseVNode("div",{class:normalizeClass(["v-date-picker-month__day","v-date-picker-month__weekday"])},[e])),i.value.map((t,a)=>{var r;const n={props:{class:"v-date-picker-month__day-btn",color:t.isSelected||t.isToday?e.color:void 0,disabled:t.isDisabled,icon:!0,ripple:!1,text:t.localized,variant:t.isSelected?"flat":t.isToday?"outlined":"text","aria-label":f(t),"aria-current":t.isToday?"date":void 0,onClick:()=>g(t.date)},item:t,i:a};return v.value&&!t.isSelected&&(t.isDisabled=!0),createBaseVNode("div",{class:normalizeClass(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":t.isAdjacent,"v-date-picker-month__day--hide-adjacent":t.isHidden,"v-date-picker-month__day--selected":t.isSelected,"v-date-picker-month__day--week-end":t.isWeekEnd,"v-date-picker-month__day--week-start":t.isWeekStart}]),"data-v-date":t.isDisabled?void 0:t.isoDate},[(e.showAdjacentMonths||!t.isAdjacent)&&((null==(r=o.day)?void 0:r.call(o,n))??createVNode(VBtn,n.props,null))])})])]}})]))}}),makeVDatePickerMonthsProps=propsFactory({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),VDatePickerMonths=genericComponent()({name:"VDatePickerMonths",props:makeVDatePickerMonthsProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useDate(),n=useProxiedModel(e,"modelValue"),i=computed(()=>{let t=r.startOfYear(r.date());return e.year&&(t=r.setYear(t,e.year)),createRange(12).map(a=>{const o=r.format(t,"monthShort"),n=r.format(t,"month"),i=!!(!function(t){if(Array.isArray(e.allowedMonths)&&e.allowedMonths.length)return e.allowedMonths.includes(t);if("function"==typeof e.allowedMonths)return e.allowedMonths(t);return!0}(a)||e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),t)||e.max&&r.isAfter(t,r.startOfMonth(r.date(e.max))));return t=r.getNextMonth(t),{isDisabled:i,text:o,label:n,value:a}})});return watchEffect(()=>{n.value=n.value??r.getMonth(r.date())}),useRender(()=>createBaseVNode("div",{class:"v-date-picker-months",style:{height:convertToUnit(e.height)}},[createBaseVNode("div",{class:"v-date-picker-months__content"},[i.value.map((t,r)=>{var i;const l={active:n.value===r,ariaLabel:t.label,color:n.value===r?e.color:void 0,disabled:t.isDisabled,rounded:!0,text:t.text,variant:n.value===t.value?"flat":"text",onClick:()=>function(e){if(n.value===e)return void a("update:modelValue",n.value);n.value=e}(r)};return(null==(i=o.month)?void 0:i.call(o,{month:t,i:r,props:l}))??createVNode(VBtn,mergeProps({key:"month"},l),null)})])])),{}}}),makeVDatePickerYearsProps=propsFactory({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),VDatePickerYears=genericComponent()({name:"VDatePickerYears",props:makeVDatePickerYearsProps(),directives:{vIntersect:Intersect},emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useDate(),n=useProxiedModel(e,"modelValue"),i=computed(()=>{const t=r.getYear(r.date());let a=t-100,o=t+52;e.min&&(a=r.getYear(r.date(e.min))),e.max&&(o=r.getYear(r.date(e.max)));let n=r.startOfYear(r.date());return n=r.setYear(n,a),createRange(o-a+1,a).map(e=>{const t=r.format(n,"year");return n=r.setYear(n,r.getYear(n)+1),{text:t,value:e,isDisabled:!c(e)}})});watchEffect(()=>{n.value=n.value??r.getYear(r.date())});const l=templateRef();function s(){var e,t;null==(e=l.el)||e.focus(),null==(t=l.el)||t.scrollIntoView({block:"center"})}function c(t){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(t):"function"!=typeof e.allowedYears||e.allowedYears(t)}return useRender(()=>withDirectives(createBaseVNode("div",{class:"v-date-picker-years",style:{height:convertToUnit(e.height)}},[createBaseVNode("div",{class:"v-date-picker-years__content"},[i.value.map((t,r)=>{var i;const s={ref:n.value===t.value?l:void 0,active:n.value===t.value,color:n.value===t.value?e.color:void 0,rounded:!0,text:t.text,disabled:t.isDisabled,variant:n.value===t.value?"flat":"text",onClick:()=>{n.value!==t.value?n.value=t.value:a("update:modelValue",n.value)}};return(null==(i=o.year)?void 0:i.call(o,{year:t,i:r,props:s}))??createVNode(VBtn,mergeProps({key:"month"},s),null)})])]),[[Intersect,{handler:s},null,{once:!0}]])),{}}}),VPickerTitle=createSimpleFunctional("v-picker-title"),makeVPickerProps=propsFactory({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...makeVSheetProps()},"VPicker"),VPicker=genericComponent()({name:"VPicker",props:makeVPickerProps(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:o,backgroundColorStyles:r}=useBackgroundColor(()=>e.color);return useRender(()=>{const t=VSheet.filterProps(e),n=!(e.hideTitle||!e.title&&!a.title);return createVNode(VSheet,mergeProps(t,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!a.actions},e.class],style:e.style}),{default:()=>{var t;return[!e.hideHeader&&createBaseVNode("div",{key:"header",class:normalizeClass([o.value]),style:normalizeStyle([r.value])},[n&&createVNode(VPickerTitle,{key:"picker-title"},{default:()=>{var t;return[(null==(t=a.title)?void 0:t.call(a))??e.title]}}),a.header&&createBaseVNode("div",{class:"v-picker__header"},[a.header()])]),createBaseVNode("div",{class:"v-picker__body"},[null==(t=a.default)?void 0:t.call(a)]),a.actions&&createVNode(VDefaultsProvider,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[createBaseVNode("div",{class:"v-picker__actions"},[a.actions()])]})]}})}),{}}}),makeVDatePickerProps=propsFactory({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...makeVDatePickerControlsProps(),...makeVDatePickerMonthProps({weeksInMonth:"static"}),...omit(makeVDatePickerMonthsProps(),["modelValue"]),...omit(makeVDatePickerYearsProps(),["modelValue"]),...makeVPickerProps({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),VDatePicker=genericComponent()({name:"VDatePicker",props:makeVDatePickerProps(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useDate(),{t:n}=useLocale(),{rtlClasses:i}=useRtl(),l=useProxiedModel(e,"modelValue",void 0,e=>wrapInArray(e).map(e=>r.date(e)),t=>e.multiple?t:t[0]),s=useProxiedModel(e,"viewMode"),c=computed(()=>{const t=r.date(e.min);return e.min&&r.isValid(t)?t:null}),d=computed(()=>{const t=r.date(e.max);return e.max&&r.isValid(t)?t:null}),u=computed(()=>{var e;const t=r.date();let a=t;return(null==(e=l.value)?void 0:e[0])?a=r.date(l.value[0]):c.value&&r.isBefore(t,c.value)?a=c.value:d.value&&r.isAfter(t,d.value)&&(a=d.value),a&&r.isValid(a)?a:t}),p=toRef(()=>e.headerColor??e.color),h=useProxiedModel(e,"month"),m=computed({get:()=>Number(h.value??r.getMonth(r.startOfMonth(u.value))),set:e=>h.value=e}),v=useProxiedModel(e,"year"),f=computed({get:()=>Number(v.value??r.getYear(r.startOfYear(r.setMonth(u.value,m.value)))),set:e=>v.value=e}),g=shallowRef(!1),y=computed(()=>e.multiple&&l.value.length>1?n("$vuetify.datePicker.itemsSelected",l.value.length):l.value[0]&&r.isValid(l.value[0])?r.format(r.date(l.value[0]),"normalDateWithWeekday"):n(e.header)),_=computed(()=>{let e=r.date();return e=r.setDate(e,1),e=r.setMonth(e,m.value),e=r.setYear(e,f.value),r.format(e,"monthAndYear")}),b=toRef(()=>`date-picker-header${g.value?"-reverse":""}-transition`),w=computed(()=>{if(e.disabled)return!0;const t=[];if("month"!==s.value)t.push("prev","next");else{let e=r.date();if(e=r.startOfMonth(e),e=r.setMonth(e,m.value),e=r.setYear(e,f.value),c.value){const a=r.addDays(r.startOfMonth(e),-1);r.isAfter(c.value,a)&&t.push("prev")}if(d.value){const a=r.addDays(r.endOfMonth(e),1);r.isAfter(a,d.value)&&t.push("next")}}return t}),x=computed(()=>e.allowedYears||C),V=computed(()=>e.allowedMonths||S);function k(t,a){const o=e.allowedDates;if("function"!=typeof o)return!0;const n=1+r.getDiff(new Date(`${r.toISO(a)}T00:00:00Z`),new Date(`${r.toISO(t)}T00:00:00Z`),"days");for(let e=0;e<n;e++)if(o(r.addDays(t,e)))return!0;return!1}function C(t){if("function"==typeof e.allowedDates){const e=r.parseISO(`${t}-01-01`);return k(e,r.endOfYear(e))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const a of e.allowedDates)if(r.getYear(r.date(a))===t)return!0;return!1}return!0}function S(t){if("function"==typeof e.allowedDates){const e=String(t+1).padStart(2,"0"),a=r.parseISO(`${f.value}-${e}-01`);return k(a,r.endOfMonth(a))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const a of e.allowedDates)if(r.getYear(r.date(a))===f.value&&r.getMonth(r.date(a))===t)return!0;return!1}return!0}function N(){m.value<11?m.value++:(f.value++,m.value=0,P()),$()}function T(){m.value>0?m.value--:(f.value--,m.value=11,P()),$()}function B(){s.value="month"}function E(){s.value="months"===s.value?"month":"months"}function I(){s.value="year"===s.value?"month":"year"}function $(){"months"===s.value&&E()}function P(){"year"===s.value&&I()}return watch(l,(e,t)=>{const a=wrapInArray(t),o=wrapInArray(e);if(!o.length)return;const n=r.date(a[a.length-1]),i=r.date(o[o.length-1]),l=r.getMonth(i),s=r.getYear(i);l!==m.value&&(m.value=l,$()),s!==f.value&&(f.value=s,P()),g.value=r.isBefore(n,i)}),useRender(()=>{const t=VPicker.filterProps(e),a=VDatePickerControls.filterProps(e),r=VDatePickerHeader.filterProps(e),u=VDatePickerMonth.filterProps(e),h=omit(VDatePickerMonths.filterProps(e),["modelValue"]),v=omit(VDatePickerYears.filterProps(e),["modelValue"]),g={color:p.value,header:y.value,transition:b.value};return createVNode(VPicker,mergeProps(t,{color:p.value,class:["v-date-picker",`v-date-picker--${s.value}`,{"v-date-picker--show-week":e.showWeek},i.value,e.class],style:e.style}),{title:()=>{var t;return(null==(t=o.title)?void 0:t.call(o))??createBaseVNode("div",{class:"v-date-picker__title"},[n(e.title)])},header:()=>o.header?createVNode(VDefaultsProvider,{defaults:{VDatePickerHeader:{...g}}},{default:()=>{var e;return[null==(e=o.header)?void 0:e.call(o,g)]}}):createVNode(VDatePickerHeader,mergeProps({key:"header"},r,g,{onClick:"month"!==s.value?B:void 0}),{prepend:o.prepend,append:o.append}),default:()=>createBaseVNode(Fragment,null,[createVNode(VDatePickerControls,mergeProps(a,{disabled:w.value,text:_.value,"onClick:next":N,"onClick:prev":T,"onClick:month":E,"onClick:year":I}),null),createVNode(VFadeTransition,{hideOnLeave:!0},{default:()=>["months"===s.value?createVNode(VDatePickerMonths,mergeProps({key:"date-picker-months"},h,{modelValue:m.value,"onUpdate:modelValue":[e=>m.value=e,$],min:c.value,max:d.value,year:f.value,allowedMonths:V.value}),{month:o.month}):"year"===s.value?createVNode(VDatePickerYears,mergeProps({key:"date-picker-years"},v,{modelValue:f.value,"onUpdate:modelValue":[e=>f.value=e,P],min:c.value,max:d.value,allowedYears:x.value}),{year:o.year}):createVNode(VDatePickerMonth,mergeProps({key:"date-picker-month"},u,{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,month:m.value,"onUpdate:month":[e=>m.value=e,$],year:f.value,"onUpdate:year":[e=>f.value=e,P],min:c.value,max:d.value}),{day:o.day})]})]),actions:o.actions})}),{}}}),_hoisted_1$k={class:"font-weight-medium maintext--text ws-p"},_hoisted_2$i={class:"font-weight-medium maintext--text ws-p"},_hoisted_3$g={class:"font-weight-medium maintext--text ws-p"},_hoisted_4$f={class:"font-weight-medium maintext--text ws-p"},_hoisted_5$f={class:"text-center"},_hoisted_6$f={class:"mx-auto py-16 mt-16"},_hoisted_7$f=["src"],_hoisted_8$f={class:"font-weight-medium maintext--text mb-0 ws-p"},_hoisted_9$f={class:"ml-1 txt-999 fs-10"},_hoisted_10$f={key:1},_hoisted_11$f={key:1},_hoisted_12$f={class:"mx-auto"},_hoisted_13$e=["src"],_hoisted_14$d=["src"],_hoisted_15$b={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_sfc_main$y={__name:"StockSIPorders",setup(e){const t=useAppStore(),a=ref$1(!1),o=ref$1(!1),r=ref$1(""),n=ref$1(!1),i=ref$1(!1),l=ref$1(!0),s=ref$1(null),c=ref$1([]),d=ref$1([]),u=ref$1("NSE"),p=ref$1(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),h=ref$1(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),m=ref$1(null),v=[{title:"Daily",value:"Daily"},{title:"Weekly",value:"Weekly"},{title:"Fortnightly",value:"Fortnightly"},{title:"Monthly",value:"Monthly"}],f=ref$1(null),g=ref$1(null),y=ref$1(!1),_=ref$1(!1),b=ref$1([]),w=ref$1([]),x=ref$1(null),V=ref$1(null),k=[{title:"SIP Name",key:"sip_name",sortable:!1},{title:"Registered on",key:"reg_date"},{title:"Status",key:"internal"},{title:"Frequency",key:"frequency",sortable:!1},{title:"Instalments",key:"end_period",sortable:!1},{title:"",key:"actions",sortable:!1,align:"right"}],C=[{title:"Instrument",key:"tsym"},{title:"Invest by",key:"invby",width:"24%",sortable:!1},{title:"Amount",key:"prc",width:"20%",sortable:!1},{title:"Qty",key:"qty",width:"20%",sortable:!1},{title:"",key:"actions",sortable:!1,align:"right"}],S=computed(()=>{var e;const t=null==(e=r.value)?void 0:e.toLowerCase();return t?c.value.filter(e=>{var a,o;return(null==(a=e.sip_name)?void 0:a.toLowerCase().includes(t))||(null==(o=e.frequency)?void 0:o.toLowerCase().includes(t))}):c.value});function N(e){var t,a;if(e)if(l.value=!1,m.value=e.sip_name,f.value=(null==(t=v.find(t=>t.value===e.frequency))?void 0:t.value)||(null==(a=v[e.frequency])?void 0:a.value),h.value=`${e.start_date.slice(4)}-${e.start_date.slice(2,4)}-${e.start_date.slice(0,2)}`,g.value=e.end_period,s.value=e,e.Scrips&&e.Scrips.length>0){for(let t=0;t<e.Scrips.length;t++)e.Scrips[t].invby=e.Scrips[t].qty&&e.Scrips[t].qty>0?"Qty":"Amount",e.Scrips[t].idx=t;d.value=e.Scrips}else d.value=[];else l.value=!0,m.value=null,f.value=null,h.value=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),g.value=null,s.value=null,d.value=[];n.value=!0}function T(){n.value=!1,$()}function B(){b.value&&b.value.length>0?w.value=b.value.filter(e=>u.value===e.exch):w.value=[]}function E(e){e&&"string"==typeof e&&(V.value=e.toUpperCase())}function I(){if(x.value&&x.value.token){if(d.value.find(e=>String(e.token)===String(x.value.token)&&e.exch===x.value.exch))return t.showSnackbar(2,`${x.value.tsym} is already in the SIP order`),x.value=null,void(V.value=null);const e={exch:x.value.exch,tsym:x.value.tsym,token:x.value.token,prd:"C",invby:"Qty",qty:Number(x.value.ls||1),idx:d.value.length};d.value.push(e),d.value=[...d.value],x.value=null,V.value=null}}async function $(){a.value=!0;const e=sessionStorage.getItem("userid"),o=sessionStorage.getItem("msession");if(!e||!o)return t.showSnackbar(2,"Session expired. Please login again."),void(a.value=!1);const r=`jData={"uid":"${e}","actid":"${e}"}&jKey=${o}`,n=await getSiporderbook(r);n.SipDetails&&n.SipDetails.length>0?c.value=n.SipDetails:(c.value=[],n.emsg&&t.showSnackbar(2,n.emsg)),a.value=!1}async function P(){if(!s.value||!s.value.internal)return void(i.value=!1);const e={SipId:s.value.internal.SipId},a=await getSIPOrderset(e,"CancelSipOrder");"OK"===a.ReqStatus?(t.showSnackbar(1,"SIP Order have been Cancelled"),$()):t.showSnackbar(2,a.emsg||"Failed to cancel SIP order"),i.value=!1,s.value=null}function D(e){const t=String.fromCharCode(e.keyCode);if(/^[A-Za-z]+$/.test(t)||" "===t)return!0;e.preventDefault()}async function L(){const e=function(){const e=[];m.value&&m.value.trim()?/^[A-Za-z\s]+$/.test(m.value.trim())?l.value&&c.value.findIndex(e=>e.sip_name===m.value.trim())>=0&&e.push("SIP name already exists"):e.push("SIP name can only contain letters and spaces"):e.push("SIP name is required");if(h.value){const t=new Date;t.setHours(0,0,0,0);const a=new Date(h.value);a.setHours(0,0,0,0),a<t&&e.push("Start date must be today or later"),/^\d{4}-\d{2}-\d{2}$/.test(h.value)||e.push("Start date must be in YYYY-MM-DD format")}else e.push("Start date is required");f.value?["Daily","Weekly","Fortnightly","Monthly"].includes(f.value)||e.push("Frequency must be one of: Daily, Weekly, Fortnightly, Monthly"):e.push("Frequency is required");return g.value?isNaN(Number(g.value))?e.push("No. of SIPs must be a number"):Number(g.value)<=0&&e.push("No. of SIPs must be greater than zero"):e.push("No. of SIPs is required"),d.value&&0!==d.value.length?d.value.forEach((t,a)=>{t.token||e.push(`Scrip ${a+1}: Token is required`),t.exch||e.push(`Scrip ${a+1}: Exchange is required`),t.tsym||e.push(`Scrip ${a+1}: Trading symbol is required`),"Qty"===t.invby?(!t.qty||Number(t.qty)<=0)&&e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Quantity must be greater than zero`):"Amount"===t.invby?(!t.prc||Number(t.prc)<=0)&&e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Amount must be greater than zero`):e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Investment type must be Qty or Amount`)}):e.push("At least one scrip is required"),{isValid:0===e.length,errors:e}}();if(!e.isValid)return void t.showSnackbar(2,e.errors[0]);const a=c.value.findIndex(e=>e.sip_name===m.value.trim());if((!l.value||l.value&&-1===a)&&g.value>0){const e=hooks(new Date).format("DDMMYYYY");let a={};const r={Daily:"0",Weekly:"1",Fortnightly:"2",Monthly:"3"},i=d.value.map(e=>{const t={exch:e.exch,tsym:e.tsym,token:e.token,prd:e.prd||"C"};return"Qty"===e.invby?e.qty&&(t.qty=String(e.qty)):"Amount"===e.invby?e.prc&&(t.prc=String(e.prc)):t.qty=String(e.qty||1),t});a=l.value?{uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),reg_date:e,start_date:hooks(h.value).format("DDMMYYYY"),frequency:r[f.value]||"0",end_period:g.value.toString(),sip_name:m.value.trim(),Scrips:i}:{uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),reg_date:s.value.reg_date,start_date:hooks(h.value).format("DDMMYYYY"),frequency:r[f.value]||"0",end_period:g.value.toString(),sip_name:m.value.trim(),internal:s.value.internal,Scrips:i},o.value=!0;const c=await getSIPOrderset(a,l.value?"PlaceSipOrder":"ModifySipOrder");"OK"===c.ReqStatus?(t.showSnackbar(1,l.value?"SIP Order have been Placed":"SIP Order have been Modified"),$(),n.value=!1):t.showSnackbar(2,c.emsg||"Failed to place/modify SIP order"),o.value=!1}else t.showSnackbar(2,g.value>0?"SIP name already exists":"No.of SIPs must be greater than zero")}function R(){$()}function A(e){const a=e.detail;if(console.log("SIP order trigger received:",a),a&&a.token){N(null),m.value=a.tsym||a.symbol||"";const e=v.find(e=>"Daily"===e.title||"Daily"===e.value);f.value=(null==e?void 0:e.value)||"Daily",g.value=5;const o=new Date,r=new Date(o);r.setDate(o.getDate()+2),h.value=r.toISOString().slice(0,10);const i={exch:a.exch,tsym:a.tsym,token:a.token,prd:"C",invby:"Qty",qty:Number(a.ls||1),idx:d.value.length};d.value.find(e=>String(e.token)===String(i.token)&&e.exch===i.exch)?t.showSnackbar(2,`${i.tsym} is already in the SIP order`):(d.value.push(i),d.value=[...d.value]),console.log("SIP dialog should be open. basketdialog:",n.value)}else console.log("SIP order trigger received but no token found:",a)}return watch(V,async e=>{if(e&&e.length>2){_.value=!0;const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return void(_.value=!1);const o=await getKambalaSearch(`jData={"uid":"${t}","stext":"${e.replace("&","%26")}"}&jKey=${a}`);if("Ok"===o.stat||o.values){let e=o.values;for(let t=0;t<d.value.length;t++){const a=e.findIndex(e=>e.token===d.value[t].token);a>=0&&e.splice(a,1)}b.value=e}else b.value=[],w.value=[];_.value=!1,B()}}),onMounted(()=>{$(),window.addEventListener("orderbook-update",R),window.addEventListener("siporder-trigger",A)}),onBeforeUnmount(()=>{window.removeEventListener("orderbook-update",R),window.removeEventListener("siporder-trigger",A)}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty crd-trn"},{default:withCtx(()=>[createVNode(VBtn,{disabled:c.value&&c.value.length>=10,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",height:"40",onClick:t[0]||(t[0]=e=>N(null))},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode("+ Create SIP",-1)])]),_:1},8,["disabled"]),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:a.value,onClick:$,color:"maintext",size:"24"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:k,items:S.value,"fixed-header":"","hide-default-footer":!0,loading:a.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":10,"onClick:row":t[3]||(t[3]=(e,{item:t})=>function(e){N(e),l.value=!1}(t))},{"item.sip_name":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_1$k,toDisplayString(e.sip_name),1)]),"item.reg_date":withCtx(({item:e})=>{return[createBaseVNode("span",_hoisted_2$i,toDisplayString(e.reg_date?(t=e.reg_date,new Date(`${t.slice(2,4)}/${t.slice(0,2)}/${t.slice(4)}`).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})):"-"),1)];var t}),"item.internal":withCtx(({item:e})=>{var t;return[createBaseVNode("span",{class:normalizeClass(["font-weight-bold ws-p",(null==(t=e.internal)?void 0:t.active)?"success--text":"warning--text"])},toDisplayString(e.internal?e.internal.active?"Active":"Inactive":"-"),3)]}),"item.frequency":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_3$g,toDisplayString(e.frequency?v[e.frequency]:"-"),1)]),"item.end_period":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_4$f,toDisplayString(e.internal?e.internal.period:"-")+"/"+toDisplayString(e.end_period?e.end_period:0),1)]),"item.actions":withCtx(({item:e})=>[createBaseVNode("div",{onClick:t[2]||(t[2]=withModifiers(()=>{},["stop"]))},[createVNode(VBtn,{icon:"",size:"small",class:"mr-1",onClick:t=>N(e)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...t[20]||(t[20]=[createTextVNode("mdi-square-edit-outline",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{icon:"",size:"small",onClick:t=>function(e){s.value=e,i.value=!0}(e)},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...t[21]||(t[21]=[createTextVNode("mdi-trash-can-outline",-1)])]),_:1})]),_:1},8,["onClick"])])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_5$f,[createBaseVNode("div",_hoisted_6$f,[createBaseVNode("img",{class:"mx-auto",width:"80px",src:unref(_imports_0$6)},null,8,_hoisted_7$f),t[22]||(t[22]=createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"]),createVNode(VDialog,{modelValue:n.value,"onUpdate:modelValue":t[15]||(t[15]=e=>n.value=e),width:"680",scrollable:""},{default:withCtx(()=>[createVNode(VCard,{class:"pb-6 px-6 overflow-hidden rounded-lg",color:"cardbg"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title maintext--text mt-4 mb-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(l.value?"Create":"Edit")+" SIP order ",1),createVNode(VIcon,{onClick:T,class:"float-right",color:"maintext",disabled:o.value},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("mdi-close",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDivider,{class:"mb-2"}),createVNode(VRow,{class:"pt-2 pb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"3"},{default:withCtx(()=>[t[24]||(t[24]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"SIP name",-1)),createVNode(VTextField,{placeholder:"name",onKeypress:D,"hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"comfortable",flat:"",class:"rounded-pill mb-0",modelValue:m.value,"onUpdate:modelValue":t[4]||(t[4]=e=>m.value=e)},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[t[25]||(t[25]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Start date",-1)),createVNode(VMenu,{modelValue:y.value,"onUpdate:modelValue":t[8]||(t[8]=e=>y.value=e),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","min-width":"auto"},{activator:withCtx(({props:e})=>[createVNode(VTextField,mergeProps({placeholder:"YYYY-MM-DD","hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"comfortable",flat:"",class:"rounded-pill mb-0","hide-spin-buttons":"",modelValue:h.value,"onUpdate:modelValue":t[5]||(t[5]=e=>h.value=e),"append-icon":"mdi-calendar",readonly:""},e),null,16,["modelValue"])]),default:withCtx(()=>[createVNode(VDatePicker,{modelValue:h.value,"onUpdate:modelValue":[t[6]||(t[6]=e=>h.value=e),t[7]||(t[7]=e=>y.value=!1)],min:p.value},null,8,["modelValue","min"])]),_:1},8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[t[26]||(t[26]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Frequency",-1)),createVNode(VSelect,{placeholder:"Daily, Weekly, Monthly","hide-details":"",modelValue:f.value,"onUpdate:modelValue":t[9]||(t[9]=e=>f.value=e),items:v,height:"40","append-icon":"mdi-chevron-down",variant:"solo","bg-color":"secbg",density:"comfortable",flat:"",block:"",class:"rounded-pill","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"3"},{default:withCtx(()=>[t[27]||(t[27]=createBaseVNode("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"No.of SIPs",-1)),createVNode(VTextField,{placeholder:"4","hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"comfortable",flat:"",class:"rounded-pill mb-0",type:"number","hide-spin-buttons":"",modelValue:g.value,"onUpdate:modelValue":t[10]||(t[10]=e=>g.value=e)},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VSelect,{"onUpdate:modelValue":[B,t[11]||(t[11]=e=>u.value=e)],"hide-details":"",modelValue:u.value,items:["NSE","BSE"],height:"40","append-icon":"mdi-chevron-down",variant:"solo","bg-color":"secbg",density:"comfortable",flat:"",block:"",class:"rounded-pill","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"10",class:"ml-auto"},{default:withCtx(()=>[createVNode(VAutocomplete,{disabled:x.value&&x.value.set,"onUpdate:modelValue":[I,t[12]||(t[12]=e=>x.value=e)],loading:_.value,"item-title":"tsym","return-object":"",class:"rounded-pill",flat:"",variant:"solo","bg-color":"secbg",density:"comfortable",modelValue:x.value,search:V.value,"onUpdate:search":[t[13]||(t[13]=e=>V.value=e),E],"hide-details":"",label:"Search script",items:w.value,"prepend-inner-icon":"mdi-magnify","append-icon":"","no-filter":"",clearable:""},null,8,["disabled","loading","modelValue","search","items"])]),_:1})]),_:1}),x.value&&x.value.token?createCommentVNode("",!0):(openBlock(),createBlock(VDataTable,{key:0,"must-sort":"","sort-by":["idx"],"sort-desc":[!0],"fixed-header":"","hide-default-footer":!0,loading:a.value,class:"mt-0 rounded-lg overflow-y-auto",style:{border:"1px solid #EBEEF0"},height:"240",headers:C,items:d.value,"items-per-page":20},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_8$f,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_9$f,toDisplayString(e.exch||""),1)])]),"item.qty":withCtx(({item:e})=>["Qty"===e.invby?(openBlock(),createBlock(VTextField,{key:0,height:"30","hide-details":"",dense:"",class:"rounded-lg",type:"number","hide-spin-buttons":"",variant:"outlined",modelValue:e.qty,"onUpdate:modelValue":t=>e.qty=t},null,8,["modelValue","onUpdate:modelValue"])):(openBlock(),createElementBlock("span",_hoisted_10$f,toDisplayString("--")))]),"item.prc":withCtx(({item:e})=>["Amount"===e.invby?(openBlock(),createBlock(VTextField,{key:0,"hide-details":"",dense:"",class:"rounded-lg",type:"number","hide-spin-buttons":"",variant:"outlined",modelValue:e.prc,"onUpdate:modelValue":t=>e.prc=t},null,8,["modelValue","onUpdate:modelValue"])):(openBlock(),createElementBlock("span",_hoisted_11$f,toDisplayString("--")))]),"item.invby":withCtx(({item:e})=>[createVNode(VSelect,{"onUpdate:modelValue":[t=>function(e){const t=d.value.findIndex(t=>String(t.token)===String(e.token)&&t.exch===e.exch);t>=0&&("Qty"===e.invby?(d.value[t].qty=Number(d.value[t].qty||d.value[t].ls||1),delete d.value[t].prc):"Amount"===e.invby&&(d.value[t].prc=Number(d.value[t].prc||1e3),delete d.value[t].qty),d.value=[...d.value])}(e),t=>e.invby=t],"hide-details":"",modelValue:e.invby,items:["Qty","Amount"],dense:"","append-icon":"mdi-chevron-down",variant:"outlined",class:"rounded-lg"},null,8,["onUpdate:modelValue","modelValue"])]),"item.actions":withCtx(({item:e})=>[createBaseVNode("div",{onClick:t[14]||(t[14]=withModifiers(()=>{},["stop"]))},[createVNode(VBtn,{icon:"",size:"small",class:"text-align-center mt-2",onClick:t=>function(e){{const t=d.value.findIndex(t=>String(t.token)===String(e.token)&&t.exch===e.exch);t>=0&&(d.value.splice(t,1),d.value=[...d.value])}}(e)},{default:withCtx(()=>[...t[28]||(t[28]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[createBaseVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12$f,[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:unref(_imports_0$6),alt:"no data"},null,8,_hoisted_13$e),t[29]||(t[29]=createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])]),_:1})]),_:1},8,["loading","items"])),createVNode(VRow,{class:"pt-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"9"},{default:withCtx(()=>[...t[30]||(t[30]=[createBaseVNode("p",{class:"fs-13 mb-0"},[createTextVNode(" Your SIP will be placed at 9:30 on the due date, "),createBaseVNode("br"),createTextVNode(" if the due date is a market holiday, order will be placed on the next trading day. ")],-1)])]),_:1}),createVNode(VCol,{cols:"3",class:"text-right"},{default:withCtx(()=>[createVNode(VBtn,{disabled:!(m.value&&f.value&&h.value&&g.value&&0!==d.value.length),loading:o.value,color:"btnclr",class:"elevation-0 text-capitalize rounded-pill btntext--text",onClick:L},{default:withCtx(()=>[createTextVNode(toDisplayString(l.value?"Create":"Modify"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:i.value,"onUpdate:modelValue":t[17]||(t[17]=e=>i.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>{var e;return[createBaseVNode("img",{src:unref(cancelIcon),alt:"cancel icon"},null,8,_hoisted_14$d),createBaseVNode("p",_hoisted_15$b,[t[31]||(t[31]=createTextVNode(" Are you sure you want to ",-1)),t[32]||(t[32]=createBaseVNode("br",null,null,-1)),t[33]||(t[33]=createTextVNode(" delete this ",-1)),createBaseVNode("b",null,toDisplayString((null==(e=s.value)?void 0:e.sip_name)||""),1),t[34]||(t[34]=createTextVNode(" SIP order? ",-1))]),createVNode(VRow,{class:"px-6","no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[16]||(t[16]=e=>{i.value=!1,s.value=null}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[35]||(t[35]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:P,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[36]||(t[36]=[createTextVNode("Yes",-1)])]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1},8,["modelValue"])]))}},_hoisted_1$j={key:0},_hoisted_2$h={class:"title font-weight-bold mb-0"},_hoisted_3$f={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},_hoisted_4$e={class:"text-right d-inline-block w-100"},_hoisted_5$e={class:"ws-p font-weight-medium maintext--text mb-0"},_hoisted_6$e={class:"text-center"},_hoisted_7$e={class:"mx-auto py-16 mt-16"},_hoisted_8$e=["src"],_hoisted_9$e={key:1},_hoisted_10$e={class:"title font-weight-bold mb-0"},_hoisted_11$e={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},_hoisted_12$e={class:"d-flex mt-1"},_hoisted_13$d={class:"fs-10"},_hoisted_14$c={class:"fs-10"},_hoisted_15$a={class:"text-right d-inline-block w-100"},_hoisted_16$8={style:{"max-width":"300px"}},_hoisted_17$8={class:"text-center"},_hoisted_18$8={class:"mx-auto py-16 mt-16"},_hoisted_19$8=["src"],_hoisted_20$8={key:2},_hoisted_21$8={class:"title font-weight-bold mb-0"},_hoisted_22$8={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},_hoisted_23$8={class:"text-right d-inline-block w-100"},_hoisted_24$8={class:"ws-p font-weight-medium maintext--text mb-0"},_hoisted_25$7={class:"text-center"},_hoisted_26$7={class:"mx-auto py-16 mt-16"},_hoisted_27$7=["src"],_hoisted_28$7=["src"],_hoisted_29$7={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_hoisted_30$7={key:0,class:"px-6 mb-6"},_sfc_main$x={__name:"MutualOrderbook",setup(e){const t=useAppStore(),a=ref$1("sip"),o=ref$1(!1),r=ref$1([]),n=ref$1([]),i=ref$1([]),l=ref$1(""),s=ref$1(""),c=ref$1(!1),d=ref$1(null),u=ref$1(""),p=ref$1(""),h=[{title:"Date",key:"datetime"},{title:"Fund name",key:"name",width:"40%"},{title:"",key:"action"},{title:"Transaction Type",key:"type"},{title:"Invest amt",key:"Amount",align:"right"},{title:"Folio no.",key:"DPFolioNo"},{title:"Status",key:"status"}],m=[{title:"SIP Register Date",key:"SIPRegnDate"},{title:"Start Date",key:"StartDate"},{title:"End Date",key:"EndDate"},{title:"Next SIP Date",key:"NextSIPDate"},{title:"Fund name",key:"name"},{title:"",key:"action"},{title:"Frequency Type",key:"FrequencyType"},{title:"Installment amt",key:"InstallmentAmount",align:"right"},{title:"SIP Register No.",key:"SIPRegnNo"},{title:"Status",key:"status"}],v=[{title:"SIP Register Date",key:"SIPRegnDate"},{title:"Start Date",key:"StartDate"},{title:"End Date",key:"EndDate"},{title:"Fund name",key:"name"},{title:"Frequency Type",key:"FrequencyType"},{title:"Installment amt",key:"InstallmentAmount",align:"right"},{title:"SIP Register No.",key:"SIPRegnNo"},{title:"Status",key:"status"}],f=computed(()=>{var e;const t=null==(e=s.value)?void 0:e.toLowerCase();return t?n.value.filter(e=>(e.name||"").toLowerCase().includes(t)):n.value}),g=computed(()=>{var e;const t=null==(e=s.value)?void 0:e.toLowerCase();return t?i.value.filter(e=>(e.name||"").toLowerCase().includes(t)):i.value}),y=computed(()=>{var e;const t=null==(e=l.value)?void 0:e.toLowerCase();return t?r.value.filter(e=>(e.name||"").toLowerCase().includes(t)):r.value});function _(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}async function b(){o.value=!0,r.value=[],n.value=[],i.value=[];const e=sessionStorage.getItem("userid");try{const t=await getMFlumsum_order([e,"",""]),a=await getmfsipnewapi(),o=await getmfsipnewapihisty();"Ok"===(null==t?void 0:t.stat)&&Array.isArray(t.data)&&(r.value=t.data),"Ok"===(null==a?void 0:a.stat)&&Array.isArray(a.data)&&(n.value=a.data),"Ok"===(null==o?void 0:o.stat)&&Array.isArray(o.data)&&(i.value=o.data)}catch(e2){t.showSnackbar(2,"Failed to load MF orders")}o.value=!1}async function w(){var e,a,r;try{if(o.value=!0,"Pause SIP Order"===u.value){const e=await getmfpauseapi([d.value.OrderId,d.value.SIPRegnNo,d.value.Scheme_Code,p.value,""]);"Ok"===(null==e?void 0:e.stat)?t.showSnackbar(1,e.msg||"SIP paused"):t.showSnackbar(2,(null==e?void 0:e.emsg)||"Failed to pause")}else if("XSP"===(null==(e=d.value)?void 0:e.OrderType)){const e=await getMFcancelation(),o=(null==(r=null==(a=null==e?void 0:e.data)?void 0:a[0])?void 0:r.id)||"13",n=await getMFcancelxsip([d.value.OrderId,d.value.SIPRegnNo,d.value.Scheme_Code,o,""]);"Ok"===(null==n?void 0:n.stat)?t.showSnackbar(1,n.msg||"Order cancelled"):t.showSnackbar(2,(null==n?void 0:n.emsg)||"Failed to cancel")}else{const e=await getMFcancellum(d.value.OrderId,d.value.buy_sell);"Ok"===(null==e?void 0:e.stat)?t.showSnackbar(1,e.msg||"Order cancelled"):t.showSnackbar(2,(null==e?void 0:e.emsg)||"Failed to cancel")}c.value=!1,await b()}finally{o.value=!1}}return onMounted(()=>{b()}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VTabs,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact",class:"mb-4"},{default:withCtx(()=>[createVNode(VTab,{value:"sip",class:"text-none"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode("Active SIP's",-1)])]),_:1}),createVNode(VTab,{value:"orders",class:"text-none"},{default:withCtx(()=>[...t[10]||(t[10]=[createTextVNode("Order Book",-1)])]),_:1}),createVNode(VTab,{value:"siphis",class:"text-none"},{default:withCtx(()=>[...t[11]||(t[11]=[createTextVNode("SIP Order Book",-1)])]),_:1})]),_:1},8,["modelValue"]),"sip"===a.value?(openBlock(),createElementBlock("div",_hoisted_1$j,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_2$h,"Orders ("+toDisplayString(n.value.length)+")",1),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:o.value,onClick:b,color:"maintext",size:"24"},{default:withCtx(()=>[...t[12]||(t[12]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:m,items:f.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_3$f,toDisplayString(e.name||""),1)]),"item.InstallmentAmount":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_4$e,"₹"+toDisplayString(_(e.InstallmentAmount)),1)]),"item.status":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_5$e,toDisplayString(e.status||""),1)]),"item.action":withCtx(({item:e})=>[createBaseVNode("div",{class:"d-inline-flex",onClick:t[2]||(t[2]=withModifiers(()=>{},["stop"]))},["ACTIVE"===e.status?(openBlock(),createBlock(VBtn,{key:0,size:"small",class:"mr-1",variant:"tonal",color:"secred",onClick:t=>function(e){d.value=e,u.value="",c.value=!0}(e)},{default:withCtx(()=>[...t[13]||(t[13]=[createTextVNode("Cancel",-1)])]),_:1},8,["onClick"])):createCommentVNode("",!0),"ACTIVE"===e.status?(openBlock(),createBlock(VBtn,{key:1,size:"small",variant:"tonal",color:"primary",onClick:t=>function(e){d.value=e,u.value="Pause SIP Order",c.value=!0}(e)},{default:withCtx(()=>[...t[14]||(t[14]=[createTextVNode("Pause",-1)])]),_:1},8,["onClick"])):createCommentVNode("",!0)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_6$e,[createBaseVNode("div",_hoisted_7$e,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_8$e),t[15]||(t[15]=createBaseVNode("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])):"orders"===a.value?(openBlock(),createElementBlock("div",_hoisted_9$e,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_10$e,"Orders ("+toDisplayString(r.value.length)+")",1),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=e=>l.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:o.value,onClick:b,color:"maintext",size:"24"},{default:withCtx(()=>[...t[16]||(t[16]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:h,items:y.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":withCtx(({item:e})=>[createBaseVNode("div",null,[createBaseVNode("p",_hoisted_11$e,toDisplayString(e.name||""),1),createBaseVNode("div",_hoisted_12$e,[createVNode(VChip,{size:"x-small",color:"secbg",class:"mr-1","text-color":"subtext"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_13$d,toDisplayString("NRM"===e.OrderType?"Lumpsum":"SIP"),1)]),_:2},1024),createVNode(VChip,{size:"x-small",color:"secbg","text-color":"subtext"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_14$c,"Ord.no : "+toDisplayString(e.OrderId||"-"),1)]),_:2},1024)])])]),"item.Amount":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_15$a,"₹"+toDisplayString(_(e.OrderVal)),1)]),"item.status":withCtx(({item:e})=>[createVNode(VTooltip,{location:"bottom",color:"black"},{activator:withCtx(({props:t})=>[createBaseVNode("p",mergeProps(t,{class:"ws-p font-weight-medium maintext--text mb-0"}),toDisplayString(e.status||""),17)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_16$8,toDisplayString(e.Remarks||"-"),1)]),_:2},1024)]),"item.action":withCtx(({item:e})=>[createBaseVNode("div",{class:"d-inline-flex",onClick:t[4]||(t[4]=withModifiers(()=>{},["stop"]))},["PAYMENT NOT INITIATED"===e.status&&"ALLOTMENT DONE"!==e.Remarks?(openBlock(),createBlock(VBtn,{key:0,size:"small",variant:"tonal",color:"secred",onClick:t=>function(e){d.value=e,u.value="",c.value=!0}(e)},{default:withCtx(()=>[...t[17]||(t[17]=[createTextVNode(" Cancel ",-1)])]),_:1},8,["onClick"])):createCommentVNode("",!0)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_17$8,[createBaseVNode("div",_hoisted_18$8,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_19$8),t[18]||(t[18]=createBaseVNode("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])):(openBlock(),createElementBlock("div",_hoisted_20$8,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_21$8,"Orders ("+toDisplayString(i.value.length)+")",1),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:s.value,"onUpdate:modelValue":t[5]||(t[5]=e=>s.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:o.value,onClick:b,color:"maintext",size:"24"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:v,items:g.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_22$8,toDisplayString(e.name||""),1)]),"item.InstallmentAmount":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_23$8,"₹"+toDisplayString(_(e.InstallmentAmount)),1)]),"item.status":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_24$8,toDisplayString(e.status||""),1)]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_25$7,[createBaseVNode("div",_hoisted_26$7,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_27$7),t[20]||(t[20]=createBaseVNode("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])),createVNode(VDialog,{modelValue:c.value,"onUpdate:modelValue":t[8]||(t[8]=e=>c.value=e),"max-width":"420"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>[createBaseVNode("img",{src:unref(cancelIcon),alt:"cancel icon"},null,8,_hoisted_28$7),createBaseVNode("p",_hoisted_29$7,toDisplayString(u.value||"Cancel SIP order?"),1),"Pause SIP Order"===u.value?(openBlock(),createElementBlock("div",_hoisted_30$7,[createVNode(VSelect,{modelValue:p.value,"onUpdate:modelValue":t[6]||(t[6]=e=>p.value=e),"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mb-2",items:[...Array(30).keys()].map(e=>(e+1).toString()),variant:"solo","bg-color":"secbg",density:"comfortable",placeholder:"Select No Of Instalment Amount"},null,8,["modelValue","items"])])):createCommentVNode("",!0),createVNode(VRow,{class:"px-6"},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[7]||(t[7]=e=>{c.value=!1,d.value=null,u.value=""}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[21]||(t[21]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{loading:o.value,disabled:"Pause SIP Order"===u.value&&!p.value,onClick:w,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode("Yes",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},_imports_0$5="data:image/svg+xml,%3csvg%20width='20'%20height='15'%20viewBox='0%200%2020%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='15'%20rx='7'%20fill='%232DB266'/%3e%3crect%20width='20'%20height='15'%20rx='7'%20fill='%232DB266'/%3e%3cpath%20d='M6.25%208.2475L8.415%2010.4125L13.8275%205'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_imports_1$3="data:image/svg+xml,%3csvg%20width='20'%20height='15'%20viewBox='0%200%2020%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='15'%20rx='7'%20fill='%23FFB038'/%3e%3cpath%20d='M5.3125%208.75C6.00286%208.75%206.5625%208.19036%206.5625%207.5C6.5625%206.80964%206.00286%206.25%205.3125%206.25C4.62214%206.25%204.0625%206.80964%204.0625%207.5C4.0625%208.19036%204.62214%208.75%205.3125%208.75Z'%20fill='white'/%3e%3cpath%20d='M10.3125%208.75C11.0029%208.75%2011.5625%208.19036%2011.5625%207.5C11.5625%206.80964%2011.0029%206.25%2010.3125%206.25C9.62214%206.25%209.0625%206.80964%209.0625%207.5C9.0625%208.19036%209.62214%208.75%2010.3125%208.75Z'%20fill='white'/%3e%3cpath%20d='M15.3125%208.75C16.0029%208.75%2016.5625%208.19036%2016.5625%207.5C16.5625%206.80964%2016.0029%206.25%2015.3125%206.25C14.6221%206.25%2014.0625%206.80964%2014.0625%207.5C14.0625%208.19036%2014.6221%208.75%2015.3125%208.75Z'%20fill='white'/%3e%3c/svg%3e",_imports_2$3="data:image/svg+xml,%3csvg%20width='20'%20height='15'%20viewBox='0%200%2020%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='15'%20rx='7'%20fill='%23DC2626'/%3e%3cpath%20d='M7.5%2010L12.5%205M7.5%205L12.5%2010'%20stroke='white'%20stroke-width='1.2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_hoisted_1$i={class:"pos-rlt"},_hoisted_2$g={class:"table-hov-text maintext--text font-weight-medium"},_hoisted_3$e={class:"ml-1 subtext--text fs-10"},_hoisted_4$d={class:"font-weight-medium maintext--text mb-0 text-right"},_hoisted_5$d={class:"font-weight-medium maintext--text"},_hoisted_6$d={class:"font-weight-medium fs-12"},_hoisted_7$d={class:"font-weight-regular maintext--text mb-0"},_hoisted_8$d={class:"font-weight-medium maintext--text mb-0 text-capitalize"},_hoisted_9$d={key:0,width:"20",class:"mb-n02",src:_imports_0$5},_hoisted_10$d={key:1,width:"20",class:"mb-n02",src:_imports_1$3},_hoisted_11$d={key:2,width:"20",class:"mb-n02",src:_imports_2$3},_hoisted_12$d={class:"text-center"},_hoisted_13$c={class:"mx-auto py-16 mt-16"},_hoisted_14$b=["src"],_hoisted_15$9={class:"txt-999 font-weight-regular caption"},_sfc_main$w={__name:"IpoOrderbook",setup(e){const t=useAppStore(),a=ref$1(!1),o=ref$1("open"),r=ref$1(""),n=ref$1([]),i=ref$1([]),l=ref$1([]),s={open:[{name:"Cancel Order",icon:"mdi-close-circle-outline",type:"cd"},{name:"Order Status",icon:"mdi-information-outline",type:"status",hr:!0},{name:"Details",icon:"mdi-file-eye-outline",type:"detail"}],exec:[{name:"New Order",icon:"mdi-plus",type:"new"},{name:"Order Status",icon:"mdi-information-outline",type:"status",hr:!0},{name:"Details",icon:"mdi-file-eye-outline",type:"detail"}]},c=[{title:"Symbol",key:"symbol"},{title:"Order Number",key:"applicationNumber"},{title:"Datetime",key:"response_datetime"},{title:"Qty",key:"quantity"},{title:"Amount",key:"amount",align:"right"},{title:"Reason",key:"reponse_status"},{title:"Status",key:"appstatus"}],d=computed(()=>{var e;const t=null==(e=r.value)?void 0:e.toLowerCase(),a=l.value.filter(e=>e.way===o.value);return t?a.filter(e=>(e.symbol||"").toLowerCase().includes(t)||(e.applicationNumber||"").toLowerCase().includes(t)):a});function u(){}async function p(){a.value=!0,n.value=[],i.value=[],l.value=[];const e=sessionStorage.getItem("userid"),o=sessionStorage.getItem("usession");try{const t=await getIposbook([e,o]);if(Array.isArray(t)&&t.length)for(let e=0;e<t.length;e++){const a=t[e];a.idx=e,("Request Accepted By Sponsor Bank"!==a.upiPaymentStatus&&"Request Sent"!==a.upiPaymentStatus&&a.upiPaymentStatus||a.fail_reason||"new success"!==a.reponse_status)&&"pending"!==a.reponse_status?(a.way="exec",i.value.push(a)):(a.way="open",n.value.push(a)),a.amount=Math.max(...a.bid_detail.map(e=>Number(e.amount))),a.quantity=Math.max(...a.bid_detail.map(e=>Number(e.quantity))),a.len=a.bid_detail.length,a.fail_reason=a.upiPaymentStatus?a.upiPaymentStatus:"REMOVE"===a.bid_detail.requestfor||"cancel"===a.bid_detail[0].activityType?"Order was canceled by yourself.":a.fail_reason,a.appstatus="Accepted by Investor"!==a.upiPaymentStatus&&("Request Accepted By Sponsor Bank"!==a.fail_reason&&"Request Sent"!==a.fail_reason&&a.upiPaymentStatus||"new success"!==a.reponse_status)?"pending"===a.reponse_status?"Pending":"Failed":"Success",l.value.push(a)}}catch(e2){t.showSnackbar(2,"Failed to load IPO orders")}a.value=!1}return onMounted(()=>{p()}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:o.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.value=e),u],color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:withCtx(()=>[createVNode(VTab,{value:"open",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("Open Orders ("+toDisplayString(n.value.length)+")",1)]),_:1}),createVNode(VTab,{value:"exec",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode("Close Orders ("+toDisplayString(i.value.length)+")",1)]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"320px"},modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search ipos",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:a.value,onClick:p,color:"maintext",size:"24"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:c,items:d.value,"fixed-header":"","hide-default-footer":!0,loading:a.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.symbol":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("span",_hoisted_2$g,toDisplayString(e.symbol||"-"),1),createBaseVNode("span",_hoisted_3$e,toDisplayString(e.series||""),1),createBaseVNode("div",{onClick:t[2]||(t[2]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VMenu,{location:"bottom"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[4]||(t[4]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList("open"===o.value?s.open:s.exec,(e,t)=>(openBlock(),createBlock(VListItem,{key:t,onClick:t=>function(e){"new"===e.type&&(window.location.href="/ipo")}(e)},{prepend:withCtx(()=>["string"==typeof e.icon?(openBlock(),createBlock(VIcon,{key:0,icon:e.icon},null,8,["icon"])):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)]),_:2},1024)])])]),"item.amount":withCtx(({item:e})=>{var t;return[createBaseVNode("p",_hoisted_4$d,toDisplayString((null==(t=e.bid_detail)?void 0:t[0])?`₹${e.amount.toLocaleString()}`:""),1)]}),"item.response_datetime":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_5$d,toDisplayString((e.response_datetime||"").slice(0,16)),1)]),"item.quantity":withCtx(({item:e})=>[createVNode(VChip,{size:"x-small",class:"table-hov-prd rounded-md",label:"","text-color":"subtext"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_6$d,toDisplayString(e.quantity),1)]),_:2},1024)]),"item.reponse_status":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_7$d,toDisplayString(e.fail_reason||"Order placed successfully"),1)]),"item.appstatus":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_8$d,["Success"===e.appstatus?(openBlock(),createElementBlock("img",_hoisted_9$d)):"Pending"===e.appstatus?(openBlock(),createElementBlock("img",_hoisted_10$d)):(openBlock(),createElementBlock("img",_hoisted_11$d)),createTextVNode(" "+toDisplayString(e.appstatus||""),1)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_12$d,[createBaseVNode("div",_hoisted_13$c,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_14$b),createBaseVNode("h4",_hoisted_15$9,"There is no "+toDisplayString("open"===o.value?"Open":"Close")+" order data here yet!",1)])])]),_:1},8,["items","loading"])]))}},_hoisted_1$h={class:"pos-rlt"},_hoisted_2$f={class:"table-hov-text maintext--text font-weight-medium"},_hoisted_3$d={class:"ml-1 subtext--text fs-10"},_hoisted_4$c=["src"],_hoisted_5$c={class:"font-weight-medium text-right maintext--text mb-0"},_hoisted_6$c={class:"font-weight-medium maintext--text"},_hoisted_7$c={class:"font-weight-medium maintext--text mb-0 text-capitalize"},_hoisted_8$c={key:0,width:"20",class:"mb-n02",src:_imports_0$5},_hoisted_9$c={key:1,width:"20",class:"mb-n02",src:_imports_1$3},_hoisted_10$c={key:2,width:"20",class:"mb-n02",src:_imports_2$3},_hoisted_11$c={class:"text-center"},_hoisted_12$c={class:"mx-auto py-16 mt-16"},_hoisted_13$b=["src"],_hoisted_14$a={class:"txt-999 font-weight-regular caption"},_hoisted_15$8={class:"ml-1 txt-999 fs-10"},_hoisted_16$7={class:"float-right mb-0"},_hoisted_17$7={key:0,width:"20",class:"mb-n02",src:_imports_0$5},_hoisted_18$7={key:1,width:"20",class:"mb-n02",src:_imports_1$3},_hoisted_19$7={key:2,width:"20",class:"mb-n02",src:_imports_2$3},_hoisted_20$7={class:"float-right mb-0"},_hoisted_21$7={key:0,width:"20",class:"mb-n02",src:_imports_0$5},_hoisted_22$7={key:1,width:"20",class:"mb-n02",src:_imports_1$3},_hoisted_23$7={key:2,width:"20",class:"mb-n02",src:_imports_2$3},_hoisted_24$7={class:"px-4 pb-6"},_hoisted_25$6={class:"px-4 pt-1"},_hoisted_26$6={class:"float-right mb-0"},_hoisted_27$6={class:"float-right mb-0"},_hoisted_28$6={class:"float-right mb-0"},_hoisted_29$6={class:"float-right mb-0"},_hoisted_30$6={class:"float-right mb-0"},_hoisted_31$5={class:"fs-12 txt-444 font-weight-regular"},_hoisted_32$5={class:"font-weight-bold mt-3 fs-22 lh-24 mb-8"},_sfc_main$v={__name:"BondsOrderbook",setup(__props){useAppStore();const router=useRouter$1(),uid=ref$1(""),orderdrawer=ref$1(!1),canceldialog=ref$1(!1),singledata=ref$1({}),tableloader=ref$1(!0),ordertab=ref$1("open"),opensearch=ref$1(""),filter=ref$1(null),openorders=ref$1([]),execorders=ref$1([]),orderbookdata=ref$1([]),menulist={open:[{name:"Cancel Order",icon:12,type:"cd"},{name:"Order Status",icon:3,type:"",hr:!0},{name:"Details",icon:10,type:"detail"}],exec:[{name:"New Order",icon:"mdi-plus",type:"new",trans:"b"},{name:"Order Status",icon:3,type:"",hr:!0},{name:"Details",icon:10,type:"detail"}]},orderheader=[{title:"Symbol",key:"symbol"},{title:"Order Number",key:"orderNumber"},{title:"Datetime",key:"response_datetime"},{title:"Amount",key:"investmentValue",align:"right"},{title:"Reason",key:"reason",width:"30%"},{title:"Status",key:"reponse_status"}],seriesList=computed(()=>{const e=orderbookdata.value||[],t=new Set(e.map(e=>e.series).filter(Boolean));return Array.from(t).map(e=>({series:e}))}),filteredRows=computed(()=>{var e;const t=(orderbookdata.value||[]).filter(e=>!ordertab.value||e.way===ordertab.value),a=filter.value?t.filter(e=>e.series===filter.value):t,o=null==(e=opensearch.value)?void 0:e.toLowerCase();return o?a.filter(e=>(e.symbol||"").toLowerCase().includes(o)||(e.series||"").toLowerCase().includes(o)||(e.orderNumber||"").toLowerCase().includes(o)):a});function verifyLabel(e){return"S"===e?"Success":"P"===e?"Pending":"Failed"}function clearingLabel(e){return"Allotted"===e?"Success":"Fund Pending"===e||"Sent to NSCCL"===e?"Pending":"Failed"}function normalizeAndSplit(list){var _a2,_b,_c,_d,_e2;const out=[];for(let q=0;q<list.length;q++){const row={...list[q]};try{row.bid_detail="string"==typeof row.bid_detail?eval("("+row.bid_detail+")"):row.bid_detail}catch{}if("string"==typeof row.response_json){let e=row.response_json.replace(/'/g,'"').replace(/\bNone\b/g,"null").replace(/\bTrue\b/g,"true").replace(/\bFalse\b/g,"false");try{row.response_json=JSON.parse(e)}catch{}}if("string"==typeof row.response_json){let e=row.response_json.trim();(e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"'))&&(e=e.slice(1,-1));try{row.response_json=JSON.parse(e)}catch{}}row.series="TB"===(null==(_a2=row.response_json)?void 0:_a2.series)?"T-BILL":"GS"===(null==(_b=row.response_json)?void 0:_b.series)?"G-SEC":"GB"===(null==(_c=row.response_json)?void 0:_c.series)?"SGB":(null==(_d=row.response_json)?void 0:_d.series)||row.series,row.fail_reason="REMOVE"===(null==(_e2=row.bid_detail)?void 0:_e2.requestfor)?"Order was canceled by yourself.":row.fail_reason,row.appstatus=row.fail_reason?"Failed":"S"===row.verificationStatus&&"Allotted"===row.clearingStatus?"Success":"P"!==row.verificationStatus||"Sent to NSCCL"!==row.clearingStatus&&"Fund Pending"!==row.clearingStatus?"Failed":"Pending",row.way="ES"!==row.orderStatus||"S"!==row.verificationStatus&&"P"!==row.verificationStatus||"Rejected"===row.clearingStatus?"exec":"open",out.push(row)}return out}async function getOrderbook(){tableloader.value=!0,openorders.value=[],execorders.value=[];const e=sessionStorage.getItem("userid");if(!e)return tableloader.value=!1,void(orderbookdata.value=[]);uid.value=e;const t=await getBondbook([e]),a=await getBondsgbbook([e]);let o=[];if(Array.isArray(t)&&t.length&&(o=t),Array.isArray(a)&&a.length&&(o=o.length?o.concat(a):a),Array.isArray(o)&&o.length){const e=normalizeAndSplit(o);orderbookdata.value=e,openorders.value=e.filter(e=>"open"===e.way),execorders.value=e.filter(e=>"exec"===e.way)}else orderbookdata.value=[];ordertab.value="open",tableloader.value=!1}function onTabChange(){}function setOrderrowdata(e){orderdrawer.value=!0,singledata.value={...e}}function ordCancel(){window.dispatchEvent(new CustomEvent("bondmodify-event",{detail:singledata.value})),canceldialog.value=!1}return onMounted(()=>{getOrderbook()}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:ordertab.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>ordertab.value=e),onTabChange],color:"primary",fixed:"","show-arrows":"",density:"comfortable"},{default:withCtx(()=>[createVNode(VTab,{value:"open",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode(" Open Orders ("+toDisplayString(openorders.value.length)+") ",1)]),_:1}),createVNode(VTab,{value:"exec",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[createTextVNode(" Close Orders ("+toDisplayString(execorders.value.length)+") ",1)]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),createVNode(VTextField,{style:{"max-width":"220px"},modelValue:opensearch.value,"onUpdate:modelValue":t[1]||(t[1]=e=>opensearch.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search bonds",class:"rounded-pill mr-4",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),createVNode(VSelect,{style:{"max-width":"180px"},modelValue:filter.value,"onUpdate:modelValue":t[2]||(t[2]=e=>filter.value=e),"hide-details":"",class:"rounded-pill",clearable:"",variant:"solo",density:"comfortable","bg-color":"secbg","item-title":"series","item-value":"series",items:seriesList.value,label:"Bond series"},null,8,["modelValue","items"]),createVNode(VIcon,{class:"ml-3 cursor-p",disabled:tableloader.value,onClick:getOrderbook,color:"maintext",size:"24"},{default:withCtx(()=>[...t[11]||(t[11]=[createTextVNode("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),createVNode(VDataTable,{headers:orderheader,items:filteredRows.value,"fixed-header":"","hide-default-footer":!0,loading:tableloader.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1,"onClick:row":t[4]||(t[4]=(e,{item:t})=>setOrderrowdata(t))},{"item.symbol":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("span",_hoisted_2$f,toDisplayString(e.symbol||"-"),1),createBaseVNode("span",_hoisted_3$d,toDisplayString(e.series||""),1),createBaseVNode("div",{onClick:t[3]||(t[3]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VMenu,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[12]||(t[12]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList("open"===ordertab.value?menulist.open:menulist.exec,(t,a)=>(openBlock(),createElementBlock("div",{key:a},[createVNode(VListItem,{onClick:a=>"new"===t.type?unref(router).push("/bonds"):"cd"===t.type?canceldialog.value=!0:setOrderrowdata(e),class:"pl-3 pr-6"},{prepend:withCtx(()=>["string"==typeof t.icon?(openBlock(),createBlock(VIcon,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(openBlock(),createElementBlock("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,_hoisted_4$c)):createCommentVNode("",!0)]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.investmentValue":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_5$c,toDisplayString(e.investmentValue?`₹${Number(e.investmentValue).toLocaleString()}`:""),1)]),"item.response_datetime":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_6$c,toDisplayString((e.response_datetime||"").slice(0,16)),1)]),"item.reponse_status":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_7$c,["Success"===e.appstatus?(openBlock(),createElementBlock("img",_hoisted_8$c)):"Pending"===e.appstatus?(openBlock(),createElementBlock("img",_hoisted_9$c)):(openBlock(),createElementBlock("img",_hoisted_10$c)),createTextVNode(" "+toDisplayString(e.appstatus||""),1)])]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_11$c,[createBaseVNode("div",_hoisted_12$c,[createBaseVNode("img",{class:"mx-auto",width:"80",src:unref(_imports_0$6)},null,8,_hoisted_13$b),createBaseVNode("h4",_hoisted_14$a,"There is no "+toDisplayString("exec"===ordertab.value?"Close":"Open")+" order data here yet!",1)])])]),_:1},8,["items","loading"]),createVNode(VNavigationDrawer,{modelValue:orderdrawer.value,"onUpdate:modelValue":t[8]||(t[8]=e=>orderdrawer.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:withCtx(()=>[createVNode(VToolbar,{class:"nav-drawer",density:"comfortable"},{default:withCtx(()=>[createVNode(VBtn,{icon:"",variant:"text",density:"comfortable",onClick:t[5]||(t[5]=e=>orderdrawer.value=!1)},{default:withCtx(()=>[createVNode(VIcon,{color:"subtext",size:"20"},{default:withCtx(()=>[...t[13]||(t[13]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1}),t[14]||(t[14]=createBaseVNode("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),createVNode(VSpacer)]),_:1})]),default:withCtx(()=>[createVNode(VListItem,{class:"pt-3"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium maintext--text mb-3"},{default:withCtx(()=>[createTextVNode(toDisplayString(singledata.value.symbol||"")+" ",1),createBaseVNode("span",_hoisted_15$8,toDisplayString(singledata.value.series||""),1)]),_:1}),createVNode(VListItemTitle,{class:"subtext--text font-weight-medium fs-16 mb-1"},{default:withCtx(()=>[createTextVNode("₹"+toDisplayString(singledata.value.investmentValue||"0.00"),1)]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:withCtx(()=>[...t[15]||(t[15]=[createTextVNode("Order",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14"},{default:withCtx(()=>[...t[16]||(t[16]=[createTextVNode("Entry Success ",-1),createBaseVNode("p",{class:"float-right mb-0"},[createBaseVNode("img",{width:"20",class:"mb-n02",src:_imports_0$5}),createBaseVNode("span",null," Success")],-1)])]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:withCtx(()=>[...t[17]||(t[17]=[createTextVNode("Verification",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(verifyLabel(singledata.value.verificationStatus))+" ",1),createBaseVNode("p",_hoisted_16$7,["S"===singledata.value.verificationStatus?(openBlock(),createElementBlock("img",_hoisted_17$7)):"P"===singledata.value.verificationStatus?(openBlock(),createElementBlock("img",_hoisted_18$7)):(openBlock(),createElementBlock("img",_hoisted_19$7)),createBaseVNode("span",null,toDisplayString(verifyLabel(singledata.value.verificationStatus)),1)])]),_:1})]),_:1}),createVNode(VListItem,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode("Clearing",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(singledata.value.clearingStatus||"")+" ",1),createBaseVNode("p",_hoisted_20$7,["Allotted"===singledata.value.clearingStatus?(openBlock(),createElementBlock("img",_hoisted_21$7)):"Fund Pending"===singledata.value.clearingStatus||"Sent to NSCCL"===singledata.value.clearingStatus?(openBlock(),createElementBlock("img",_hoisted_22$7)):(openBlock(),createElementBlock("img",_hoisted_23$7)),createBaseVNode("span",null,toDisplayString(clearingLabel(singledata.value.clearingStatus)),1)])]),_:1})]),_:1}),createVNode(VDivider,{class:"pt-1 mt-2"}),createBaseVNode("div",_hoisted_24$7,["exec"===singledata.value.way?(openBlock(),createBlock(VBtn,{key:0,onClick:t[6]||(t[6]=e=>unref(router).push("/bonds")),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("Place New order",-1)])]),_:1})):(openBlock(),createBlock(VRow,{key:1},{default:withCtx(()=>[createVNode(VCol,{cols:"12"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[7]||(t[7]=e=>{orderdrawer.value=!1,canceldialog.value=!0}),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:withCtx(()=>[...t[20]||(t[20]=[createTextVNode("Cancel Order",-1)])]),_:1})]),_:1})]),_:1}))]),createVNode(VDivider,{class:"pt-1"}),createBaseVNode("div",_hoisted_25$6,[createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[21]||(t[21]=createTextVNode("App no ",-1)),createBaseVNode("p",_hoisted_26$6,toDisplayString(singledata.value.applicationNumber||""),1)]),_:1}),createVNode(VDivider),"SGB"===singledata.value.series?(openBlock(),createBlock(VListItemTitle,{key:0,class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[22]||(t[22]=createTextVNode("Quantity ",-1)),createBaseVNode("p",_hoisted_27$6,toDisplayString(singledata.value.quantity||""),1)]),_:1})):createCommentVNode("",!0),"SGB"===singledata.value.series?(openBlock(),createBlock(VDivider,{key:1})):createCommentVNode("",!0),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[23]||(t[23]=createTextVNode("Total amount ",-1)),createBaseVNode("p",_hoisted_28$6,"₹"+toDisplayString((singledata.value.investmentValue||0).toLocaleString()),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>{var e;return[t[24]||(t[24]=createTextVNode("Price ",-1)),createBaseVNode("p",_hoisted_29$6,"₹"+toDisplayString((null==(e=singledata.value.bid_detail)?void 0:e.price)||"0.00"),1)]}),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:withCtx(()=>[t[25]||(t[25]=createTextVNode("Series ",-1)),createBaseVNode("p",_hoisted_30$6,toDisplayString(singledata.value.series||""),1)]),_:1}),createVNode(VDivider),createVNode(VListItemTitle,{class:"maintext--text font-weight-bold fs-14 pt-4"},{default:withCtx(()=>[...t[26]||(t[26]=[createTextVNode("Failed reason",-1)])]),_:1}),createBaseVNode("p",_hoisted_31$5,toDisplayString(singledata.value.fail_reason||"Order placed successfully"),1)])]),_:1},8,["modelValue"]),createVNode(VDialog,{modelValue:canceldialog.value,"onUpdate:modelValue":t[10]||(t[10]=e=>canceldialog.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>[t[31]||(t[31]=createBaseVNode("img",{src:cancelIcon,alt:"cancel icon"},null,-1)),createBaseVNode("p",_hoisted_32$5,[t[27]||(t[27]=createTextVNode("Are you sure you want to",-1)),t[28]||(t[28]=createBaseVNode("br",null,null,-1)),createTextVNode("cancel this ("+toDisplayString(singledata.value.symbol||"")+") order",1)]),createVNode(VRow,{class:"px-6","no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[9]||(t[9]=e=>canceldialog.value=!1),color:"secbg",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[29]||(t[29]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:ordCancel,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:withCtx(()=>[...t[30]||(t[30]=[createTextVNode("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},_sfc_main$u={__name:"StockOrderSrc",setup(e){const t=useRoute$1(),a=ref$1(0);let o=null;function r(){const e={...t.params,...t.query};e&&(e.token||e.tsym)?(o={token:e.token,tsym:e.tsym,exch:e.exch,ls:e.ls||1,...e},a.value=4):"/orders/sip"===t.path&&(a.value=4)}function n(){}function i(e){const t=null==e?void 0:e.detail;[0,1,2,3,4,5,6,7].includes(t)&&(a.value=t)}return watch(()=>[t.params,t.query,t.path],()=>{r()},{deep:!0}),watch(a,e=>{4===e&&o&&setTimeout(()=>{o&&(window.dispatchEvent(new CustomEvent("siporder-trigger",{detail:o})),o=null)},500)}),onMounted(()=>{r(),window.addEventListener("order-tab",i)}),onBeforeUnmount(()=>{window.removeEventListener("order-tab",i)}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VTabs,{modelValue:a.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>a.value=e),n],color:"primary",fixed:"","show-arrows":"",density:"comfortable"},{default:withCtx(()=>[createVNode(VTab,{value:0,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[2]||(t[2]=[createTextVNode("Orders Book",-1)])]),_:1}),createVNode(VTab,{value:1,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("Trade Book",-1)])]),_:1}),createVNode(VTab,{value:2,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[4]||(t[4]=[createTextVNode("GTT Order",-1)])]),_:1}),createVNode(VTab,{value:3,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[5]||(t[5]=[createTextVNode("Basket Order",-1)])]),_:1}),createVNode(VTab,{value:4,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[6]||(t[6]=[createTextVNode("SIP Order",-1)])]),_:1}),createVNode(VTab,{value:5,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[7]||(t[7]=[createTextVNode("Mutual funds",-1)])]),_:1}),createVNode(VTab,{value:6,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[8]||(t[8]=[createTextVNode("IPOs",-1)])]),_:1}),createVNode(VTab,{value:7,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode("Bonds",-1)])]),_:1})]),_:1},8,["modelValue"]),createVNode(VWindow,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),class:"mt-4"},{default:withCtx(()=>[createVNode(VWindowItem,{value:0},{default:withCtx(()=>[createVNode(_sfc_main$C)]),_:1}),createVNode(VWindowItem,{value:1},{default:withCtx(()=>[createVNode(_sfc_main$B)]),_:1}),createVNode(VWindowItem,{value:2},{default:withCtx(()=>[createVNode(_sfc_main$A)]),_:1}),createVNode(VWindowItem,{value:3},{default:withCtx(()=>[createVNode(StockBSKorders)]),_:1}),createVNode(VWindowItem,{value:4},{default:withCtx(()=>[createVNode(_sfc_main$y)]),_:1}),createVNode(VWindowItem,{value:5},{default:withCtx(()=>[createVNode(_sfc_main$x)]),_:1}),createVNode(VWindowItem,{value:6},{default:withCtx(()=>[createVNode(_sfc_main$w)]),_:1}),createVNode(VWindowItem,{value:7},{default:withCtx(()=>[createVNode(_sfc_main$v)]),_:1})]),_:1},8,["modelValue"])]))}},_hoisted_1$g={class:"fs-14 subtext--text font-weight-medium lh-16 mb-0"},_hoisted_2$e={key:0,class:"mb-4"},_hoisted_3$c={class:"fs-14 subtext--text font-weight-regular mb-2 lh-24"},_hoisted_4$b={class:"font-weight-bold maintext--text float-right"},_hoisted_5$b={class:"fs-14 subtext--text font-weight-regular mb-2 lh-24"},_hoisted_6$b={class:"font-weight-bold maintext--text float-right"},_hoisted_7$b={class:"fs-14 subtext--text font-weight-regular mb-2 lh-24"},_hoisted_8$b={class:"font-weight-bold maintext--text float-right"},_hoisted_9$b={class:"fs-14 subtext--text font-weight-regular mb-2 lh-24"},_hoisted_10$b={class:"font-weight-bold maintext--text float-right"},_hoisted_11$b={class:"fs-14 subtext--text font-weight-regular mb-2 lh-24"},_hoisted_12$b={class:"font-weight-bold maintext--text float-right"},_sfc_main$t={__name:"FundSrc",setup(e){const t=useAppStore(),a=ref$1(!1),o=ref$1({}),r=ref$1(!1);async function n(){a.value=!0;const e=await forceRefreshMLimits(!0);e&&"Ok"===e.stat?o.value=e:500!==e&&t.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load funds"),a.value=!1}function i(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("usession");if(!t||!a)return;let o="fund"===e?`https://fund.zebuetrade.com?uid=${t}&token=${a}`:`https://fund.zebuetrade.com/${e}?uid=${t}&token=${a}`;window.open(o,"_blank")}return onMounted(()=>{!async function(){const e=await getMLimits(!0);e&&"Ok"===e.stat?o.value=e:500!==e&&e&&e.emsg&&t.showSnackbar(2,e.emsg)}()}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"crd-trn tool-sty pt-3 mb-6 mt-4"},{default:withCtx(()=>[t[4]||(t[4]=createBaseVNode("div",null,[createBaseVNode("p",{class:"font-weight-bold fs-22 mb-0"},"Securities Funds"),createBaseVNode("p",{class:"subtitle-2 subtext--text"},"View margin breakup & add/withdraw fund.")],-1)),createVNode(VSpacer),createVNode(VIcon,{class:"ml-3 cursor-p",onClick:n,color:"maintext",size:"24"},{default:withCtx(()=>[...t[3]||(t[3]=[createTextVNode("mdi-reload",-1)])]),_:1})]),_:1}),createVNode(VRow,{class:"py-6"},{default:withCtx(()=>[createVNode(VCol,{class:"pa-10",cols:"12",md:"6",style:{border:"1px solid #EBEEF0 !important","border-radius":"10px"},outlined:""},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"6",class:"pb-2"},{default:withCtx(()=>[t[5]||(t[5]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-medium mb-0 lh-16"},"Total credits",-1)),createVNode(VTextField,{value:`₹ ${o.value.total||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"pb-2"},{default:withCtx(()=>[t[6]||(t[6]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-medium mb-0 lh-16"},"Available balance to trade",-1)),createVNode(VTextField,{value:`₹ ${o.value.avbma||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"py-0 pb-2"},{default:withCtx(()=>[t[7]||(t[7]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-regular mb-0 lh-16"},"Opening balance",-1)),createVNode(VTextField,{value:`₹ ${o.value.opnbal||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"py-0 pb-2"},{default:withCtx(()=>[t[8]||(t[8]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-regular mb-0 lh-16"},"Broker collateral",-1)),createVNode(VTextField,{value:`₹ ${o.value.collateral||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"12",class:"py-0 pb-2"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_1$g,[t[9]||(t[9]=createTextVNode(" Margin used ",-1)),createVNode(VBtn,{icon:"",onClick:t[0]||(t[0]=e=>r.value=!r.value)},{default:withCtx(()=>[createVNode(VIcon,{color:"#999"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.value?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})]),createVNode(VTextField,{value:`₹ ${o.value.marginused||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"]),r.value?(openBlock(),createElementBlock("div",_hoisted_2$e,[createBaseVNode("p",_hoisted_3$c,[t[10]||(t[10]=createTextVNode("Span ",-1)),createBaseVNode("span",_hoisted_4$b,toDisplayString(o.value.span||"0.00"),1)]),createBaseVNode("p",_hoisted_5$b,[t[11]||(t[11]=createTextVNode("Exposure ",-1)),createBaseVNode("span",_hoisted_6$b,toDisplayString(o.value.expo||"0.00"),1)]),createBaseVNode("p",_hoisted_7$b,[t[12]||(t[12]=createTextVNode("Additional margin ",-1)),createBaseVNode("span",_hoisted_8$b,toDisplayString(o.value.addmrg||"0.00"),1)]),createBaseVNode("p",_hoisted_9$b,[t[13]||(t[13]=createTextVNode("Option premium ",-1)),createBaseVNode("span",_hoisted_10$b,toDisplayString(o.value.premium||"0.00"),1)]),createBaseVNode("p",_hoisted_11$b,[t[14]||(t[14]=createTextVNode("Unrealized expenses ",-1)),createBaseVNode("span",_hoisted_12$b,toDisplayString(o.value.brokerage||"0.00"),1)])])):createCommentVNode("",!0)]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"py-0"},{default:withCtx(()=>[t[15]||(t[15]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-regular mb-0 lh-16"},"Peak margin",-1)),createVNode(VTextField,{value:`₹ ${o.value.peak_mar||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"py-0"},{default:withCtx(()=>[t[16]||(t[16]=createBaseVNode("p",{class:"fs-14 subtext--text font-weight-regular mb-0 lh-16"},"Expiry margin",-1)),createVNode(VTextField,{value:`₹ ${o.value.expiry_mar||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1})]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCard,{outlined:"",elevation:"0",class:"mb-6 rounded-lg"},{default:withCtx(()=>[createVNode(VBtn,{disabled:a.value,onClick:t[1]||(t[1]=e=>i("fund")),color:"black",class:"elevation-0 rounded-lg white--text",block:""},{default:withCtx(()=>[...t[17]||(t[17]=[createTextVNode(" Add fund ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),createVNode(VCol,null,{default:withCtx(()=>[createVNode(VCard,{outlined:"",elevation:"0",class:"mb-6 rounded-lg"},{default:withCtx(()=>[createVNode(VBtn,{disabled:a.value,onClick:t[2]||(t[2]=e=>i("withdrawal")),color:"black",class:"elevation-0 rounded-lg white--text",block:""},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode(" Withdrawal ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},_sfc_main$s={__name:"SettingSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Settings",-1),createBaseVNode("p",null,"Application settings and preferences",-1)])]),_:1})]))},_hoisted_1$f={style:{position:"sticky !important",top:"80px","z-index":"1"}},_hoisted_2$d={key:0,style:{"border-top":"1px solid #EBEEF0"}},_hoisted_3$b={key:0},_hoisted_4$a=["innerHTML"],_hoisted_5$a={key:1,class:"mx-auto text-center py-16"},_hoisted_6$a=["src"],_hoisted_7$a={key:1},_hoisted_8$a={key:0},_hoisted_9$a={class:"fs-14 mb-2 text-rap-l2 lh-20"},_hoisted_10$a={key:1,class:"mx-auto text-center py-16"},_hoisted_11$a=["src"],_hoisted_12$a={key:2},_hoisted_13$a={key:0},_hoisted_14$9={class:"fs-14 mb-1 mt-1 text-rap-l2 lh-20"},_hoisted_15$7={class:"font-weight-regular fs-13 mb-0 text-rap-l2 lh-20"},_hoisted_16$6={key:1,class:"mx-auto text-center py-16"},_hoisted_17$6=["src"],_hoisted_18$6={key:3},_hoisted_19$6={class:"pos-rlt"},_hoisted_20$6={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p mr-4"},_hoisted_21$6={class:"ml-1 txt-999 fs-10"},_hoisted_22$6=["src"],_hoisted_23$6={class:"font-weight-medium maintext--text mb-0"},_hoisted_24$6={class:"font-weight-medium maintext--text mb-0"},_hoisted_25$5={class:"font-weight-medium maintext--text mb-0 text-right"},_hoisted_26$5={class:"font-weight-medium maintext--text mb-0 text-right"},_hoisted_27$5={class:"mx-auto py-16 mt-16"},_hoisted_28$5=["src"],_hoisted_29$5=["src"],_hoisted_30$5={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},_sfc_main$r={__name:"AlertScreen",setup(e){const t=useAppStore(),a=useRouter$1(),o=ref$1(!1),r=ref$1({b:[],p:[],m:[],s:[]}),n=ref$1("notification"),i=ref$1(""),l=ref$1(!1),s=ref$1({}),c=[{title:"Instrument",key:"tsym",sortable:!1},{title:"Alert type",key:"alert_type",sortable:!1},{title:"Condition",key:"condition",sortable:!1},{title:"Value",key:"d",sortable:!1,align:"end"},{title:"Order no",key:"al_id",sortable:!1,align:"end"}],d=[{name:"Modify Alert",icon:11,type:"m-alert"},{name:"Exit/Cancel Alert",icon:12,type:"c-alert",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],u=computed(()=>Array.isArray(r.value.p)?r.value.p:[]);const p=computed(()=>{let e=u.value;return i.value&&(e=e.filter(e=>function(e,t,a){if(!a)return!0;const o=a.toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(o))}(e,["tsym","exch","ai_t","d","al_id"],i.value))),e.map(e=>{var t,a;return{...e,alert_type:e.ai_t?e.ai_t.split("_")[0]:"",condition:(null==(t=e.ai_t)?void 0:t.includes("_A"))?">":(null==(a=e.ai_t)?void 0:a.includes("_B"))?"<":"Select"}})});async function h(){var e,a,n,i;o.value=!0;const l={b:[],p:[],m:[],s:[]};l.b=await getAlertAPi("GetBrokerMsg"),l.p=await getAlertAPi("GetPendingAlert"),l.m=await getAlertAPi("ExchMsg"),l.s=await getAlertAPi("ExchStatus"),r.value.b=Array.isArray(l.b)?l.b.map(e=>{var t;return{...e,dmsg:(null==(t=e.dmsg)?void 0:t.includes("href="))?e.dmsg.replace("href=","target=_blank href="):e.dmsg}}):[],r.value.p=Array.isArray(l.p)?l.p:[],r.value.m=Array.isArray(l.m)?l.m:[],r.value.s=Array.isArray(l.s)?l.s:[],Array.isArray(l.b)||t.showSnackbar(2,(null==(e=l.b)?void 0:e.emsg)||l.b),Array.isArray(l.p)||t.showSnackbar(2,(null==(a=l.p)?void 0:a.emsg)||l.p),Array.isArray(l.m)||t.showSnackbar(2,(null==(n=l.m)?void 0:n.emsg)||l.m),Array.isArray(l.s)||t.showSnackbar(2,(null==(i=l.s)?void 0:i.emsg)||l.s),o.value=!1}function m(e,t,o,r,n,i){if("c-alert"===e)s.value=i||{},l.value=!0;else if("alert"===e||"m-alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:o,tsym:r,trantype:n,item:i}}));else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:o,tsym:r,trantype:"b"}}));else{const n=[e,t,o,r];a.push({name:"stocks details",params:{val:n}})}}async function v(){o.value=!0;const e=sessionStorage.getItem("userid");if(!e||!s.value.al_id)return t.showSnackbar(2,"Invalid alert data"),void(o.value=!1);const a={uid:e,al_id:s.value.al_id},r=await setMalert(a);"OI deleted"===r.stat?(t.showSnackbar(1,`Alert has been Cancelled for ${s.value.tsym}`),await h()):t.showSnackbar(2,r.emsg||r),o.value=!1,s.value={},l.value=!1}function f(e){"orders"===e.detail&&h()}return onMounted(()=>{h(),window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:[],is:"alert",page:"alert"}})),window.addEventListener("orderbook-update",f)}),onBeforeUnmount(()=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[],is:"alert",page:"alert"}})),window.removeEventListener("orderbook-update",f)}),(e,t)=>{const a=resolveComponent("v-list-item-content");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$f,[createVNode(VToolbar,{class:"tool-sty elevation-0 pl-4",height:"40px",style:{"background-color":"white !important"},dense:""},{default:withCtx(()=>[createVNode(VTabs,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),color:"maintext",fixed:"","show-arrows":"",density:"comfortable"},{default:withCtx(()=>[createVNode(VTab,{value:"notification",class:"py-3 text-none text-start min-w-fit"},{default:withCtx(()=>[...t[5]||(t[5]=[createTextVNode("Notification",-1)])]),_:1}),createVNode(VTab,{value:"exch_alert",class:"py-3 text-none text-start min-w-fit"},{default:withCtx(()=>[...t[6]||(t[6]=[createTextVNode("Exch alert",-1)])]),_:1}),createVNode(VTab,{value:"exch_status",class:"py-3 text-none text-start min-w-fit"},{default:withCtx(()=>[...t[7]||(t[7]=[createTextVNode("Exch status",-1)])]),_:1}),createVNode(VTab,{value:"pending_alert",class:"py-3 text-none text-start min-w-fit"},{default:withCtx(()=>[...t[8]||(t[8]=[createTextVNode("Pending alert",-1)])]),_:1})]),_:1},8,["modelValue"]),createVNode(VSpacer),createVNode(VIcon,{class:"ml-3 cursor-p",onClick:h,color:"maintext",size:"24"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode("mdi-reload",-1)])]),_:1})]),_:1}),o.value?(openBlock(),createBlock(VProgressLinear,{key:0,color:"primary",indeterminate:"",rounded:""})):createCommentVNode("",!0)]),"notification"===n.value?(openBlock(),createElementBlock("div",_hoisted_2$d,[r.value.b&&r.value.b.length?(openBlock(),createElementBlock("div",_hoisted_3$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.b,(e,t)=>(openBlock(),createBlock(VCard,{key:t,class:"crd-trn rounded-lg elevation-0 mb-0"},{default:withCtx(()=>[createVNode(VListItem,{"two-line":"",class:"px-2 pr-sm-3"},{default:withCtx(()=>[createVNode(a,{class:"py-4"},{default:withCtx(()=>[createBaseVNode("p",{class:"fs-14 mb-2 text-rap-l2 lh-20",innerHTML:e.dmsg},null,8,_hoisted_4$a),createVNode(VListItemSubtitle,{class:"fs-12 font-weight-regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.norentm),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),createVNode(VDivider)]),_:2},1024))),128))])):(openBlock(),createElementBlock("div",_hoisted_5$a,[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:unref(_imports_0$6),alt:"no data"},null,8,_hoisted_6$a),t[10]||(t[10]=createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no notification here yet!",-1))]))])):"exch_alert"===n.value?(openBlock(),createElementBlock("div",_hoisted_7$a,[r.value.m&&r.value.m.length?(openBlock(),createElementBlock("div",_hoisted_8$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.m,(e,t)=>(openBlock(),createBlock(VCard,{key:t,class:"crd-trn rounded-lg elevation-0 mb-0"},{default:withCtx(()=>[createVNode(VListItem,{"two-line":"",class:"px-2 pr-sm-3"},{default:withCtx(()=>[createVNode(a,{class:"py-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_9$a,toDisplayString(e.exch)+": "+toDisplayString(e.exch_msg),1),createVNode(VListItemSubtitle,{class:"fs-12 font-weight-regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.exch_tm),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),createVNode(VDivider)]),_:2},1024))),128))])):(openBlock(),createElementBlock("div",_hoisted_10$a,[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:unref(_imports_0$6),alt:"no data"},null,8,_hoisted_11$a),t[11]||(t[11]=createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no exch alert here yet!",-1))]))])):"exch_status"===n.value?(openBlock(),createElementBlock("div",_hoisted_12$a,[r.value.s&&r.value.s.length?(openBlock(),createElementBlock("div",_hoisted_13$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value.s,(e,o)=>(openBlock(),createBlock(VCard,{key:o,class:"crd-trn rounded-lg elevation-0 mb-0"},{default:withCtx(()=>[createVNode(VListItem,{"two-line":"",class:"px-2 pr-sm-3"},{default:withCtx(()=>[createVNode(a,{class:"pb-3 pt-2"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_14$9,toDisplayString(o+1)+". "+toDisplayString(e.exch),1),createBaseVNode("p",_hoisted_15$7,[t[13]||(t[13]=createBaseVNode("span",{class:"subtext--text"},"Status: ",-1)),createVNode(VIcon,{size:"10",color:e.exchstat.includes("OPEN")?"#1FD601":"#D60101"},{default:withCtx(()=>[...t[12]||(t[12]=[createTextVNode(" mdi-checkbox-blank-circle ",-1)])]),_:1},8,["color"]),createTextVNode(" "+toDisplayString(e.exchstat)+" | ",1),t[14]||(t[14]=createBaseVNode("span",{class:"subtext--text"},"Market type:",-1)),createTextVNode(" "+toDisplayString(e.exchtype),1)]),createVNode(VListItemSubtitle,{class:"fs-12 font-weight-regular mb-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),createVNode(VDivider)]),_:2},1024))),128))])):(openBlock(),createElementBlock("div",_hoisted_16$6,[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:unref(_imports_0$6),alt:"no data"},null,8,_hoisted_17$6),t[15]||(t[15]=createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no status here yet!",-1))]))])):"pending_alert"===n.value?(openBlock(),createElementBlock("div",_hoisted_18$6,[createVNode(VTextField,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),variant:"solo",density:"comfortable","bg-color":"secbg",placeholder:"Search by instrument, exchange, alert type...","hide-details":"",class:"mt-3 mx-3","prepend-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"]),createVNode(VDataTable,{loading:o.value,"must-sort":"","sort-by":[{key:"norentm",order:"desc"}],"hide-default-footer":"","fixed-header":"",class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480px",headers:c,items:p.value,"items-per-page":-1,search:i.value},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("div",_hoisted_19$6,[createBaseVNode("p",_hoisted_20$6,[createTextVNode(toDisplayString(e.tsym||"")+" ",1),createBaseVNode("span",_hoisted_21$6,toDisplayString(e.exch||""),1)]),createBaseVNode("div",{onClick:t[2]||(t[2]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[createVNode(VBtn,{onClick:t=>m("order",e.token,e.exch,e.tsym,"b",e),"min-width":"20px",color:"maingreen",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[16]||(t[16]=[createTextVNode("B",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>m("order",e.token,e.exch,e.tsym,"s",e),"min-width":"20px",color:"mainred",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[...t[17]||(t[17]=[createTextVNode("S",-1)])]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>m("chart",e.token,e.exch,e.tsym,null,e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(a)),[createVNode(VBtn,{onClick:t=>m("c-alert",e.token,e.exch,e.tsym,"",e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[20]||(t[20]=createBaseVNode("span",null,"Cancel",-1))]),_:2},1024),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:a})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(a)),[createVNode(VBtn,{onClick:t=>m("m-alert",e.token,e.exch,e.tsym,"",e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"},{default:withCtx(()=>[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...t[21]||(t[21]=[createTextVNode("mdi-pen",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:withCtx(()=>[t[22]||(t[22]=createBaseVNode("span",null,"Modify",-1))]),_:2},1024),createVNode(VMenu,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:withCtx(({props:e})=>[createVNode(VBtn,mergeProps(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:withCtx(()=>[createVNode(VIcon,{size:"20",color:"maintext"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:withCtx(()=>[createVNode(VCard,{class:"table-menu-list"},{default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(d,(t,a)=>createBaseVNode("div",{key:a},[createVNode(VListItem,{onClick:a=>t.type?m(t.type,e.token,e.exch,e.tsym,"",e):null,class:"pl-3 pr-6"},{prepend:withCtx(()=>["string"==typeof t.icon?(openBlock(),createBlock(VIcon,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(openBlock(),createElementBlock("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,_hoisted_22$6)):(openBlock(),createBlock(VIcon,{key:2,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"]))]),default:withCtx(()=>[createVNode(VListItemTitle,{class:"subline--text font-weight-medium fs-14"},{default:withCtx(()=>[createTextVNode(toDisplayString(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(openBlock(),createBlock(VDivider,{key:0,class:"mx-3"})):createCommentVNode("",!0)])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.alert_type":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_23$6,toDisplayString(e.alert_type||""),1)]),"item.condition":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_24$6,toDisplayString(e.condition||""),1)]),"item.d":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_25$5,toDisplayString(e.d||""),1)]),"item.al_id":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_26$5,toDisplayString(e.al_id||""),1)]),"no-data":withCtx(()=>[createBaseVNode("div",_hoisted_27$5,[createBaseVNode("img",{class:"mx-auto",width:"80px",src:unref(_imports_0$6)},null,8,_hoisted_28$5),t[24]||(t[24]=createBaseVNode("h4",{class:"txt-999 font-weight-regular caption"},"There is no pending alert here yet!",-1))])]),_:1},8,["loading","items","search"])])):createCommentVNode("",!0),createVNode(VDialog,{modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=e=>l.value=e),"max-width":"400"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:withCtx(()=>[createBaseVNode("img",{src:unref(cancelIcon),alt:"cancel icon"},null,8,_hoisted_29$5),createBaseVNode("p",_hoisted_30$5,[t[25]||(t[25]=createTextVNode(" Are you sure you want to ",-1)),t[26]||(t[26]=createBaseVNode("br",null,null,-1)),t[27]||(t[27]=createTextVNode(" cancel ",-1)),createBaseVNode("b",null,toDisplayString(s.value.tsym),1),t[28]||(t[28]=createTextVNode(" alert? ",-1))]),createVNode(VRow,{class:"px-6","no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[3]||(t[3]=e=>{l.value=!1,s.value={}}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:withCtx(()=>[...t[29]||(t[29]=[createTextVNode("No",-1)])]),_:1})]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VBtn,{onClick:v,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:withCtx(()=>[...t[30]||(t[30]=[createTextVNode("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},_imports_0$4="/assets/main-card-3-DWNaePZc.svg",_imports_1$2="/assets/main-card-2-BrRkbyhz.svg",_imports_2$2="/assets/main-card-1-C9JykYea.svg",_imports_3$1="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23E6E6E6'/%3e%3cpath%20d='M16.5%2018L25.5933%2030H7.40673L16.5%2018Z'%20fill='%2343A833'/%3e%3cpath%20d='M32.5%2030L41.5933%2018H23.4067L32.5%2030Z'%20fill='%23FF1717'/%3e%3c/svg%3e",_imports_0$3="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23FFD8B4'/%3e%3cpath%20d='M24%2028V33M24%2028L30%2033M24%2028L18%2033M33%2015V23.2C33%2024.8802%2033%2025.7202%2032.673%2026.362C32.3854%2026.9265%2031.9265%2027.3854%2031.362%2027.673C30.7202%2028%2029.8802%2028%2028.2%2028H19.8C18.1198%2028%2017.2798%2028%2016.638%2027.673C16.0735%2027.3854%2015.6146%2026.9265%2015.327%2026.362C15%2025.7202%2015%2024.8802%2015%2023.2V15M20%2021V24M24%2019V24M28%2023V24M34%2015H14'%20stroke='%23E8862A'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_imports_5$1="data:image/svg+xml,%3csvg%20width='22'%20height='20'%20viewBox='0%200%2022%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2014V19M11%2014L17%2019M11%2014L5%2019M20%201V9.2C20%2010.8802%2020%2011.7202%2019.673%2012.362C19.3854%2012.9265%2018.9265%2013.3854%2018.362%2013.673C17.7202%2014%2016.8802%2014%2015.2%2014H6.8C5.1198%2014%204.2798%2014%203.638%2013.673C3.0735%2013.3854%202.6146%2012.9265%202.327%2012.362C2%2011.7202%202%2010.8802%202%209.2V1M7%207V10M11%205V10M15%209V10M21%201H1'%20stroke='%230037B7'%20stroke-opacity='0.25'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_imports_7="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%207H19M1%2013H19M7%201H5.8C4.11984%201%203.27976%201%202.63803%201.32698C2.07354%201.6146%201.6146%202.07354%201.32698%202.63803C1%203.27976%201%204.11984%201%205.8V14.2C1%2015.8802%201%2016.7202%201.32698%2017.362C1.6146%2017.9265%202.07354%2018.3854%202.63803%2018.673C3.27976%2019%204.11984%2019%205.8%2019H7M7%201H14.2C15.8802%201%2016.7202%201%2017.362%201.32698C17.9265%201.6146%2018.3854%202.07354%2018.673%202.63803C19%203.27976%2019%204.11984%2019%205.8V14.2C19%2015.8802%2019%2016.7202%2018.673%2017.362C18.3854%2017.9265%2017.9265%2018.3854%2017.362%2018.673C16.7202%2019%2015.8802%2019%2014.2%2019H7M7%201V10V19'%20stroke='%230037B7'%20stroke-opacity='0.3'%20stroke-width='1.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_imports_9="data:image/svg+xml,%3csvg%20width='18'%20height='22'%20viewBox='0%200%2018%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%201.26953V5.40007C11%205.96012%2011%206.24015%2011.109%206.45406C11.2049%206.64222%2011.3578%206.7952%2011.546%206.89108C11.7599%207.00007%2012.0399%207.00007%2012.6%207.00007H16.7305M13%2012H5M13%2016H5M7%208H5M11%201H5.8C4.11984%201%203.27976%201%202.63803%201.32698C2.07354%201.6146%201.6146%202.07354%201.32698%202.63803C1%203.27976%201%204.11984%201%205.8V16.2C1%2017.8802%201%2018.7202%201.32698%2019.362C1.6146%2019.9265%202.07354%2020.3854%202.63803%2020.673C3.27976%2021%204.11984%2021%205.8%2021H12.2C13.8802%2021%2014.7202%2021%2015.362%2020.673C15.9265%2020.3854%2016.3854%2019.9265%2016.673%2019.362C17%2018.7202%2017%2017.8802%2017%2016.2V7L11%201Z'%20stroke='%230037B7'%20stroke-opacity='0.25'%20stroke-width='1.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_imports_0$2="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_9194_1556)'%3e%3cpath%20d='M13.5%203H12V1.5H6V3H4.5V0.75C4.5%200.551088%204.57902%200.360322%204.71967%200.21967C4.86032%200.0790176%205.05109%200%205.25%200L12.75%200C12.9489%200%2013.1397%200.0790176%2013.2803%200.21967C13.421%200.360322%2013.5%200.551088%2013.5%200.75V3Z'%20fill='%23148564'/%3e%3cpath%20d='M6%2010.5V9.75C6%209.55109%206.07902%209.36032%206.21967%209.21967C6.36032%209.07902%206.55109%209%206.75%209H11.25C11.4489%209%2011.6397%209.07902%2011.7803%209.21967C11.921%209.36032%2012%209.55109%2012%209.75V10.5H18V6C18%205.60218%2017.842%205.22064%2017.5607%204.93934C17.2794%204.65804%2016.8978%204.5%2016.5%204.5H1.5C1.10218%204.5%200.720644%204.65804%200.43934%204.93934C0.158035%205.22064%200%205.60218%200%206L0%2010.5H6Z'%20fill='%23148564'/%3e%3cpath%20d='M12%2012V12.75C12%2012.9489%2011.921%2013.1397%2011.7803%2013.2803C11.6397%2013.421%2011.4489%2013.5%2011.25%2013.5H6.75C6.55109%2013.5%206.36032%2013.421%206.21967%2013.2803C6.07902%2013.1397%206%2012.9489%206%2012.75V12H0V16.5C0%2016.8978%200.158035%2017.2794%200.43934%2017.5607C0.720644%2017.842%201.10218%2018%201.5%2018H16.5C16.8978%2018%2017.2794%2017.842%2017.5607%2017.5607C17.842%2017.2794%2018%2016.8978%2018%2016.5V12H12Z'%20fill='%23148564'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_9194_1556'%3e%3crect%20width='18'%20height='18'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",_imports_1$1="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='9'%20cy='9'%20r='9'%20fill='%233FA965'/%3e%3cpath%20d='M11.8015%205.40039H7.00803C6.79614%205.40039%206.59294%205.48456%206.44311%205.63439C6.29329%205.78421%206.20912%205.98742%206.20912%206.1993C6.20912%206.41118%206.29329%206.61439%206.44311%206.76421C6.59294%206.91404%206.79614%206.99821%207.00803%206.99821H9.87291L5.64429%2011.2268C5.56798%2011.3005%205.50712%2011.3887%205.46525%2011.4862C5.42338%2011.5836%205.40134%2011.6885%205.40042%2011.7945C5.3995%2011.9006%205.41971%2012.0058%205.45988%2012.104C5.50005%2012.2022%205.55937%2012.2914%205.63439%2012.3664C5.7094%2012.4414%205.7986%2012.5007%205.89678%2012.5409C5.99496%2012.5811%206.10016%2012.6013%206.20624%2012.6004C6.31232%2012.5994%206.41715%2012.5774%206.51462%2012.5355C6.61209%2012.4937%206.70025%2012.4328%206.77395%2012.3565L11.0026%208.12787V10.9928C11.0026%2011.2046%2011.0867%2011.4078%2011.2366%2011.5577C11.3864%2011.7075%2011.5896%2011.7917%2011.8015%2011.7917C12.0134%2011.7917%2012.2166%2011.7075%2012.3664%2011.5577C12.5162%2011.4078%2012.6004%2011.2046%2012.6004%2010.9928V6.1993C12.6004%205.98742%2012.5162%205.78421%2012.3664%205.63439C12.2166%205.48456%2012.0134%205.40039%2011.8015%205.40039Z'%20fill='white'/%3e%3c/svg%3e",_imports_2$1="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='9'%20cy='9'%20r='9'%20fill='%23D34645'/%3e%3cpath%20d='M11.8015%2012.5996H7.00803C6.79614%2012.5996%206.59294%2012.5154%206.44311%2012.3656C6.29329%2012.2158%206.20912%2012.0126%206.20912%2011.8007C6.20912%2011.5888%206.29329%2011.3856%206.44311%2011.2358C6.59294%2011.086%206.79614%2011.0018%207.00803%2011.0018H9.87291L5.64429%206.77316C5.56798%206.69947%205.50712%206.61131%205.46525%206.51384C5.42338%206.41637%205.40134%206.31154%205.40042%206.20546C5.3995%206.09938%205.41971%205.99418%205.45988%205.896C5.50005%205.79782%205.55937%205.70862%205.63439%205.63361C5.7094%205.55859%205.7986%205.49927%205.89678%205.4591C5.99496%205.41893%206.10016%205.39872%206.20624%205.39964C6.31232%205.40056%206.41715%205.4226%206.51462%205.46447C6.61209%205.50634%206.70025%205.5672%206.77395%205.64351L11.0026%209.87213V7.00725C11.0026%206.79536%2011.0867%206.59216%2011.2366%206.44233C11.3864%206.29251%2011.5896%206.20834%2011.8015%206.20834C12.0134%206.20834%2012.2166%206.29251%2012.3664%206.44233C12.5162%206.59216%2012.6004%206.79536%2012.6004%207.00725V11.8007C12.6004%2012.0126%2012.5162%2012.2158%2012.3664%2012.3656C12.2166%2012.5154%2012.0134%2012.5996%2011.8015%2012.5996Z'%20fill='white'/%3e%3c/svg%3e",_imports_3="data:image/svg+xml,%3csvg%20width='35'%20height='12'%20viewBox='0%200%2035%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.49952%200L18.5928%2012H0.40625L9.49952%200Z'%20fill='%2343A833'/%3e%3cpath%20d='M25.4995%2012L34.5928%200H16.4062L25.4995%2012Z'%20fill='%23FF1717'/%3e%3c/svg%3e",_imports_4="data:image/svg+xml,%3csvg%20width='21'%20height='24'%20viewBox='0%200%2021%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.37656%202.74219L0%207.5H9.75V1.5H4.39219C3.53906%201.5%202.76094%201.98281%202.37656%202.74219ZM11.25%207.5H21L18.6234%202.74219C18.2391%201.98281%2017.4609%201.5%2016.6078%201.5H11.25V7.5ZM21%209H0V19.5C0%2021.1547%201.34531%2022.5%203%2022.5H18C19.6547%2022.5%2021%2021.1547%2021%2019.5V9Z'%20fill='%23E8862A'/%3e%3cpath%20d='M14.3333%2012C14.3333%2014.3333%2012.5%2016.1667%2010.1667%2016.1667C7.83333%2016.1667%206%2014.3333%206%2012'%20stroke='white'%20stroke-miterlimit='10'%20stroke-linecap='square'/%3e%3c/svg%3e",_imports_5="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.6188%206H3.75C3.3375%206%203%205.6625%203%205.25C3%204.8375%203.3375%204.5%203.75%204.5H21.75C22.1625%204.5%2022.5%204.1625%2022.5%203.75C22.5%202.50781%2021.4922%201.5%2020.25%201.5H3C1.34531%201.5%200%202.84531%200%204.5V19.5C0%2021.1594%201.34531%2022.5%203%2022.5H21.6188C22.9313%2022.5%2024%2021.4922%2024%2020.25V8.25C24%207.00781%2022.9313%206%2021.6188%206ZM19.5%2015.75C18.6703%2015.75%2018%2015.0797%2018%2014.25C18%2013.4203%2018.6703%2012.75%2019.5%2012.75C20.3297%2012.75%2021%2013.4203%2021%2014.25C21%2015.0797%2020.3297%2015.75%2019.5%2015.75Z'%20fill='%23F8D34C'/%3e%3c/svg%3e",_hoisted_1$e={class:"mb-4"},_hoisted_2$c={style:{display:"flex","align-items":"center",gap:"10px"}},_hoisted_3$a={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0 10px"}},_hoisted_4$9={class:"px-4 pt-4 pb-2 d-flex justify-space-between align-center"},_hoisted_5$9={class:"px-4"},_hoisted_6$9={class:"px-4 pb-2 d-flex justify-start align-center"},_hoisted_7$9={style:{display:"flex","align-items":"center",gap:"10px"}},_hoisted_8$9={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0 10px"}},_hoisted_9$9={class:"px-4 pt-4 pb-2 d-flex justify-space-between align-center"},_hoisted_10$9={class:"px-4"},_hoisted_11$9={class:"px-4 pb-2 d-flex justify-start align-center"},_hoisted_12$9={style:{display:"flex","align-items":"center","justify-content":"space-between"}},_hoisted_13$9={style:{display:"flex","align-items":"center",gap:"10px"}},_hoisted_14$8={style:{display:"flex","align-items":"center","justify-content":"space-between"}},_hoisted_15$6={style:{display:"flex","align-items":"center",gap:"10px"}},_sfc_main$q={__name:"StatBoard",setup(e){const t=ref$1([]);let a={};const o=ref$1([]),r=e=>{"port-order"===e.detail&&n()};async function n(){try{const[e,t,a]=await Promise.all([getMHoldings(!0).catch(()=>null),getMPosotion(!0).catch(()=>null),getMOrderbook(!0).catch(()=>null)]);e&&e.response&&Array.isArray(e.response)&&e.response.length>0&&setTimeout(()=>{i({detail:e})},100),t&&(t.a||t.o)&&setTimeout(()=>{i({detail:t})},150),a&&a.stat&&Array.isArray(a.stat)&&setTimeout(()=>{i({detail:a})},200)}catch(e){console.error("❌ Error reloading all stats:",e)}}const i=e=>{try{const r=null==e?void 0:e.detail;if(!r)return;if(Array.isArray(r.response)){t.value=r.response||[],a={};for(let e=0;e<t.value.length;e++)a[t.value[e].token]=e;if(d(t.value),t.value.length)try{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:t.value,is:"stat-hold",page:"stocks"}});window.dispatchEvent(e)}catch(o){}}else r.a||r.o?u(r):r.stat?p(r.stat):void 0===r.avbma&&void 0===r.total&&void 0===r.marginused&&"Ok"!==r.stat||void 0===r.collateral&&void 0===r.cash&&void 0===r.marginused||(console.log("📊 Detected margins payload in handleTempEvent:",r),h(r))}catch(o){}},l=(e,t=0)=>{const a=Number(e);return isFinite(a)?a:t},s=(e,t)=>{const a=document.getElementById(e);a&&(a.innerText=t)},c=e=>{const t=l(e);return t>=1e7?`₹${(t/1e7).toFixed(2)}Cr`:t>=1e5?`₹${(t/1e5).toFixed(2)}L`:t>=1e3?`₹${(t/1e3).toFixed(2)}K`:`₹${t.toFixed(2)}`},d=e=>{let t=0,a=0,o=0,r=0,n=0,i=0,d=0,u=0;for(const s of e){const e=l(s.netqty??s.holdqty??s.qty),r=l(s.avgprc??s.uravgprc??s.avgprc1),i=l(s.ltp??s.lp),c=l(s.close??s.cp??s.prev_close_price);t+=e*r,a+=e*i;o+=e*(i-r);n+=e*(i-c),i-c>0?d++:i-c<0&&u++}r=t>0?o/t*100:0,i=a-n>0?n/(a-n)*100:0,s("holdstatinv",c(t)),s("holdstatval",c(a)),s("holdstatpnl",c(o)),s("holdstatpnlc",l(r).toFixed(2)),s("holdstatdpnl",c(n)),s("holdstatdpnlc",l(i).toFixed(2)),s("holdingsCount",String(e.length)),s("positiveHoldings",String(d)),s("negativeHoldings",String(u));const p=(e,t)=>{const a=document.getElementById(e);a&&(a.classList.remove("maingreen--text","mainred--text","subtext--text"),a.classList.add(t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"))};p("holdstatpnlcclr",o),p("holdstatdpnlcclr",n),nextTick(()=>{const t=e.length,a=t>0?Math.round(d/t*100):0,o=100-a,r=document.getElementById("holdstatavdp"),n=document.getElementById("holdstatavdn");if(r&&(r.style.width=`${a}%`),n&&(n.style.width=`${o}%`),t>0){const e=null==r?void 0:r.querySelectorAll(".v-card");e&&e.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#ECF8F1":"#43A833"});const t=null==n?void 0:n.querySelectorAll(".v-card");t&&t.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#ffcdcd90":"#F23645"})}else{const e=null==r?void 0:r.querySelectorAll(".v-card"),t=null==n?void 0:n.querySelectorAll(".v-card");e&&e.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#F1F3F8":"#ffffff"}),t&&t.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#F1F3F8":"#ffffff"})}})},u=e=>{try{const t=Array.isArray(e.a)?e.a:[],a=Array.isArray(e.o)?e.o:[];o.value=t;let r=0,n=0,i=0,d=0,u=0,p=0;for(const e of t){const t=l(e.netqty),a=l(e.avgprc??e.netavgprc??e.dayavgprc),o=l(e.lp??e.ltp),s=l(e.crpnl??e.rpnl);r+=Math.abs(t)*a,o>0&&a>0&&0!==t&&(n+=(o-a)*t),i+=s,s>0?u++:s<0&&p++}for(const e of a){const t=l(e.netqty),a=l(e.avgprc??e.netavgprc??e.dayavgprc),o=l(e.lp??e.ltp);o>0&&a>0&&0!==t&&(d+=(o-a)*t)}s("poststatval",c(r)),s("poststatmtm",c(n)),s("poststatpnl",c(i)),s("poststatopnl",c(d)),s("positionsCount",String(t.length)),s("openPositionsCount",String(a.length)),s("positivePositions",String(u)),s("negativePositions",String(p));const h=(e,t)=>{const a=document.getElementById(e);a&&(a.classList.remove("maingreen--text","mainred--text","subtext--text"),a.classList.add(t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"))};h("poststatmtmclr",n),h("poststatpnlclr",i),h("poststatopnlclr",d),nextTick(()=>{const e=t.length,a=e>0?Math.round(u/e*100):0,o=100-a,r=document.getElementById("poststatavdp"),n=document.getElementById("poststatavdn");r&&(r.style.width=`${a}%`),n&&(n.style.width=`${o}%`)})}catch(t){}},p=e=>{try{if(!Array.isArray(e)||e.length<3)return;s("statorders-0",String(e[0]||0)),s("statorders-1",String(e[1]||0)),s("statorders-2",String(e[2]||0))}catch(t){}},h=e=>{try{let t,a,o;if(console.log("📊 Updating margins stats with limits:",e),void 0!==e.collateral||void 0!==e.cash){const r=l(e.collateral),n=l(e.brkcollamt),i=l(e.cash),s=l(e.payin),c=l(e.daycash);o=l(e.marginused),a=r+n+i+s-Math.abs(c),t=r+n+i-o+s-Math.abs(c),console.log("📊 Calculated from raw fields:",{collateral:r,brkcollamt:n,cash:i,payin:s,daycash:c,marginused:o,calculated:{avbma:t,total:a,marginused:o}})}else t=l(e.avbma),a=l(e.total),o=l(e.marginused),console.log("📊 Using provided computed values:",{avbma:t,total:a,marginused:o});console.log("📊 Final margin values:",{avbma:t,total:a,marginused:o}),nextTick(()=>{s("statmargins-avbma",c(t)),s("statmargins-total",c(a)),s("statmargins-marginused",c(o));const e=document.getElementById("statmargins-avbma-tooltip");e&&(e.innerText=c(t));const r=document.getElementById("statmargins-total-tooltip");r&&(r.innerText=c(a));const n=document.getElementById("statmargins-marginused-tooltip");n&&(n.innerText=c(o));const i=document.getElementById("statmargins-avbma-clr");i&&(i.classList.remove("mainred--text","subtext--text"),i.classList.add(t<0?"mainred--text":"subtext--text")),console.log("✅ Margins updated successfully in DOM")})}catch(t){console.error("❌ Error updating margins stats:",t)}};let m=null,v=!1;async function f(){if(!v){v=!0;try{const e=await getMHoldings(!0);e&&e.response&&Array.isArray(e.response)&&e.response.length>0&&setTimeout(()=>{i({detail:e})},200)}catch(e){}try{const e=await getMPosotion(!0);e&&(e.a||e.o)&&setTimeout(()=>{i({detail:e})},200)}catch(e){}try{const e=await getMOrderbook(!0);e&&e.stat&&Array.isArray(e.stat)&&setTimeout(()=>{i({detail:e})},250)}catch(e){}try{const e=await getMLimits(!1);console.log("📊 Initial margin load:",e),e&&"Ok"===e.stat&&(h(e),setTimeout(()=>{i({detail:e})},300))}catch(t){console.error("❌ Error loading initial margins:",t)}}}const g=()=>{n()},y=()=>{},_=()=>{};onMounted(async()=>{window.addEventListener("tempdata-update",i),window.addEventListener("web-scoketConn",b),window.addEventListener("orderbook-update",r),window.addEventListener("statboard-event",g),window.addEventListener("position-update",y),window.addEventListener("funds-update",_),await new Promise(e=>setTimeout(e,100));const e=sessionStorage.getItem("userid"),t=sessionStorage.getItem("msession");if(e&&t)f();else{let e=0;m=setInterval(()=>{e++;const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");t&&a?(clearInterval(m),m=null,f()):e>40&&(clearInterval(m),m=null)},300)}}),onBeforeUnmount(()=>{window.removeEventListener("tempdata-update",i),window.removeEventListener("web-scoketConn",b),window.removeEventListener("orderbook-update",r),window.removeEventListener("statboard-event",g),window.removeEventListener("position-update",y),window.removeEventListener("funds-update",_),m&&clearInterval(m)});const b=e=>{try{const o=e.detail;if(!Array.isArray(o)||o.length<1)return;const r=o[0],n=r.tk||r.token;if(!n||null==a[n])return;const i=a[n],l=Number(r.lp||r.ltp),s=Number(r.c||r.prev_close_price);isFinite(l)&&t.value[i]&&(t.value[i].ltp=l),isFinite(s)&&t.value[i]&&(t.value[i].close=s),d(t.value)}catch(o){}};return(e,a)=>{const r=resolveComponent("v-list-item-avatar"),n=resolveComponent("v-list-item-content");return openBlock(),createElementBlock("div",_hoisted_1$e,[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{sm:"6",cols:"12"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 px-2 pt-3 pb-4 rounded-0 stat-card rounded"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$c,[createVNode(r,{tile:"",size:"24"},{default:withCtx(()=>[...a[0]||(a[0]=[createBaseVNode("img",{src:_imports_0$2,alt:""},null,-1)])]),_:1}),a[1]||(a[1]=createBaseVNode("p",{class:"font-weight-bold fs-16"},"Holdings",-1))]),createVNode(VCard,{class:"elevation-0 card-border py-1 mx-4 mt-2 cardbg"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$a,[createVNode(n,{style:{"max-width":"22%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[2]||(a[2]=[createBaseVNode("span",{id:"holdstatinv"},"0.00",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[3]||(a[3]=[createTextVNode("Invested",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"22%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[4]||(a[4]=[createBaseVNode("span",{id:"holdstatval"},"0.00",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[5]||(a[5]=[createTextVNode("Current",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"30%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[6]||(a[6]=[createBaseVNode("span",{id:"holdstatpnlcclr",class:"subtext--text"},[createBaseVNode("span",{id:"holdstatpnl"},"0.00")],-1),createBaseVNode("span",{class:"fs-14 subtext--text"},[createTextVNode(" ("),createBaseVNode("span",{id:"holdstatpnlc"},"0.00"),createTextVNode("%) ")],-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[7]||(a[7]=[createTextVNode("Total P&L",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"26%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[8]||(a[8]=[createBaseVNode("span",{id:"holdstatdpnlcclr",class:"subtext--text"},[createBaseVNode("span",{id:"holdstatdpnl"},"0.00")],-1),createBaseVNode("span",{class:"fs-13 subtext--text"},[createTextVNode(" ("),createBaseVNode("span",{id:"holdstatdpnlc"},"0.00"),createTextVNode("%) ")],-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[9]||(a[9]=[createTextVNode("Today P&L",-1)])]),_:1})]),_:1})])]),_:1}),createBaseVNode("div",_hoisted_4$9,[a[11]||(a[11]=createBaseVNode("p",{class:"subtext--text fs-14 mb-0"},[createTextVNode("No of holdings - "),createBaseVNode("b",{id:"holdingsCount"},"0")],-1)),createVNode(VBtn,{to:"/holdings",text:"",class:"fs-12 text-none px-0 primary--text",small:"",dense:"",variant:"flat",color:"0"},{default:withCtx(()=>[...a[10]||(a[10]=[createTextVNode("View details",-1)])]),_:1})]),createBaseVNode("div",_hoisted_5$9,[createVNode(VCard,{disabled:0===t.value.length,class:"elevation-0 d-inline-flex",style:{width:"100%","background-color":"#F1F3F8"}},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"holdstatavdp",style:{width:"0%"}},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(250,e=>createBaseVNode("div",{key:`ph-${e}`},[e%2==0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===t.value.length?"#F1F3F8":"#ECF8F1"};`)},null,8,["style"])):(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===t.value.length?"#ffffff":"#43A833"};`)},null,8,["style"]))])),64))]),_:1}),createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn",style:{width:"4px","min-width":"4px"}}),createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"holdstatavdn",style:{width:"0%"}},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(250,e=>createBaseVNode("div",{key:`nh-${e}`},[e%2==0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===t.value.length?"#F1F3F8":"#ffcdcd90"};`)},null,8,["style"])):(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===t.value.length?"#ffffff":"#F23645"};`)},null,8,["style"]))])),64))]),_:1})]),_:1},8,["disabled"])]),createBaseVNode("div",_hoisted_6$9,[createVNode(VChip,{small:"",class:"mr-2",color:"success",outlined:""},{default:withCtx(()=>[...a[12]||(a[12]=[createBaseVNode("img",{src:_imports_1$1,alt:""},null,-1),createBaseVNode("span",{id:"positiveHoldings"},"0",-1),createTextVNode(" Positive ",-1)])]),_:1}),createVNode(VChip,{small:"",color:"error",outlined:""},{default:withCtx(()=>[...a[13]||(a[13]=[createBaseVNode("img",{src:_imports_2$1,alt:""},null,-1),createBaseVNode("span",{id:"negativeHoldings"},"0",-1),createTextVNode(" Negative ",-1)])]),_:1})])]),_:1})]),_:1}),createVNode(VCol,{sm:"6",cols:"12"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 px-2 pt-3 pb-4 rounded-0 stat-card rounded"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$9,[createVNode(r,{tile:"",size:"24"},{default:withCtx(()=>[...a[14]||(a[14]=[createBaseVNode("img",{src:_imports_3,alt:""},null,-1)])]),_:1}),a[15]||(a[15]=createBaseVNode("p",{class:"font-weight-bold fs-16"},"Position ",-1))]),createVNode(VCard,{class:"elevation-0 card-border py-1 mx-4 mt-2 cardbg"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_8$9,[createVNode(n,{style:{"max-width":"22%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[16]||(a[16]=[createBaseVNode("span",{id:"poststatval"},"0.00",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[17]||(a[17]=[createTextVNode("Trade value",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"22%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[18]||(a[18]=[createBaseVNode("span",{id:"poststatmtmclr",class:"subtext--text"},[createBaseVNode("span",{id:"poststatmtm"},"0.00")],-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[19]||(a[19]=[createTextVNode("MTM",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"30%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[20]||(a[20]=[createBaseVNode("span",{id:"poststatpnlclr",class:"subtext--text"},[createBaseVNode("span",{id:"poststatpnl"},"0.00")],-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[21]||(a[21]=[createTextVNode("Total P&L",-1)])]),_:1})]),_:1}),createVNode(n,{style:{"max-width":"26%"}},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-16"},{default:withCtx(()=>[...a[22]||(a[22]=[createBaseVNode("span",{id:"poststatopnlclr",class:"subtext--text"},[createBaseVNode("span",{id:"poststatopnl"},"0.00")],-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"fs-14 font-weight-regular"},{default:withCtx(()=>[...a[23]||(a[23]=[createTextVNode("Open P&L",-1)])]),_:1})]),_:1})])]),_:1}),createBaseVNode("div",_hoisted_9$9,[a[25]||(a[25]=createBaseVNode("p",{class:"subtext--text fs-14 mb-0"},[createTextVNode("No of positions - "),createBaseVNode("b",{id:"positionsCount"},"0"),createTextVNode(" / Open positions - "),createBaseVNode("b",{id:"openPositionsCount"},"0")],-1)),createVNode(VBtn,{to:"/positions",text:"",class:"fs-12 text-none px-0 primary--text",small:"",dense:"",variant:"flat",color:"0"},{default:withCtx(()=>[...a[24]||(a[24]=[createTextVNode("View details",-1)])]),_:1})]),createBaseVNode("div",_hoisted_10$9,[createVNode(VCard,{disabled:0===o.value.length,class:"elevation-0 d-inline-flex",style:{width:"100%","background-color":"#F1F3F8"}},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"poststatavdp",style:{width:"0%"}},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(250,e=>createBaseVNode("div",{key:`pp-${e}`},[e%2==0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===o.value.length?"#F1F3F8":"#ECF8F1"};`)},null,8,["style"])):(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===o.value.length?"#ffffff":"#43A833"};`)},null,8,["style"]))])),64))]),_:1}),createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn",style:{width:"4px","min-width":"4px"}}),createVNode(VCard,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"poststatavdn",style:{width:"0%"}},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(250,e=>createBaseVNode("div",{key:`np-${e}`},[e%2==0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===o.value.length?"#F1F3F8":"#ffcdcd90"};`)},null,8,["style"])):(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 rounded-0 py-4",style:normalizeStyle(`width: 4px; min-width: 4px; background-color: ${0===o.value.length?"#ffffff":"#F23645"};`)},null,8,["style"]))])),64))]),_:1})]),_:1},8,["disabled"])]),createBaseVNode("div",_hoisted_11$9,[createVNode(VChip,{small:"",class:"mr-2",color:"success",outlined:""},{default:withCtx(()=>[...a[26]||(a[26]=[createBaseVNode("img",{src:_imports_1$1,alt:""},null,-1),createBaseVNode("span",{id:"positivePositions"},"0",-1),createTextVNode("Positive ",-1)])]),_:1}),createVNode(VChip,{small:"",color:"error",outlined:""},{default:withCtx(()=>[...a[27]||(a[27]=[createBaseVNode("img",{src:_imports_2$1,alt:""},null,-1),createBaseVNode("span",{id:"negativePositions"},"0",-1),createTextVNode(" Negative ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{sm:"6",cols:"12"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 px-2 pt-1 pb-4 rounded-0 stat-card rounded"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12$9,[createBaseVNode("div",_hoisted_13$9,[createVNode(r,{tile:"",size:"20"},{default:withCtx(()=>[...a[28]||(a[28]=[createBaseVNode("img",{src:_imports_4,alt:""},null,-1)])]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-18"},{default:withCtx(()=>[...a[29]||(a[29]=[createTextVNode("Orders",-1)])]),_:1})]),_:1})]),createVNode(n,null,{default:withCtx(()=>[createVNode(VBtn,{class:"ml-auto",to:"/orders",icon:"",style:{"background-color":"transparent !important","box-shadow":"none !important",color:"#0037B7 !important"}},{default:withCtx(()=>[createVNode(VIcon,{size:"26"},{default:withCtx(()=>[...a[30]||(a[30]=[createTextVNode("mdi-arrow-right",-1)])]),_:1})]),_:1})]),_:1})]),createVNode(VCard,{class:"elevation-0 card-border py-3 mx-4 mt-2 cardbg"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[...a[31]||(a[31]=[createBaseVNode("div",{class:"text-center"},[createBaseVNode("p",{class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statorders-0"},"0")]),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Open Orders")],-1)])]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[...a[32]||(a[32]=[createBaseVNode("div",{class:"text-center"},[createBaseVNode("p",{class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statorders-1"},"0")]),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Execute Orders")],-1)])]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[...a[33]||(a[33]=[createBaseVNode("div",{class:"text-center"},[createBaseVNode("p",{class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statorders-2"},"0")]),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Rejected")],-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCol,{sm:"6",cols:"12"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 px-2 pt-1 pb-4 rounded-0 stat-card rounded"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14$8,[createBaseVNode("div",_hoisted_15$6,[createVNode(r,{tile:"",size:"20"},{default:withCtx(()=>[...a[34]||(a[34]=[createBaseVNode("img",{src:_imports_5,alt:""},null,-1)])]),_:1}),createVNode(n,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-18"},{default:withCtx(()=>[...a[35]||(a[35]=[createTextVNode("Margins",-1)])]),_:1})]),_:1})]),createVNode(n,null,{default:withCtx(()=>[createVNode(VBtn,{class:"ml-auto",to:"/funds",icon:"",style:{"background-color":"transparent !important","box-shadow":"none !important",color:"#0037B7 !important"}},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[36]||(a[36]=[createTextVNode("mdi-arrow-right",-1)])]),_:1})]),_:1})]),_:1})]),createVNode(VCard,{class:"elevation-0 card-border py-3 mx-4 mt-2 cardbg"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VTooltip,{top:"",color:"black"},{activator:withCtx(({on:e,attrs:t})=>[createBaseVNode("div",mergeProps(t,toHandlers(e,!0),{class:"text-center"}),[...a[37]||(a[37]=[createBaseVNode("p",{id:"statmargins-avbma-clr",class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statmargins-avbma"},"0.00")],-1),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Available balance",-1)])],16)]),default:withCtx(()=>[a[38]||(a[38]=createBaseVNode("span",{id:"statmargins-avbma-tooltip"},"0.00",-1))]),_:1})]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VTooltip,{top:"",color:"black"},{activator:withCtx(({on:e,attrs:t})=>[createBaseVNode("div",mergeProps(t,toHandlers(e,!0),{class:"text-center"}),[...a[39]||(a[39]=[createBaseVNode("p",{class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statmargins-total"},"0.00")],-1),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Total credits",-1)])],16)]),default:withCtx(()=>[a[40]||(a[40]=createBaseVNode("span",{id:"statmargins-total-tooltip"},"0.00",-1))]),_:1})]),_:1}),createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VTooltip,{top:"",color:"black"},{activator:withCtx(({on:e,attrs:t})=>[createBaseVNode("div",mergeProps(t,toHandlers(e,!0),{class:"text-center"}),[...a[41]||(a[41]=[createBaseVNode("p",{class:"fs-16 font-weight-bold mb-0"},[createBaseVNode("span",{id:"statmargins-marginused"},"0.00")],-1),createBaseVNode("span",{class:"fs-14 font-weight-regular"},"Margin used",-1)])],16)]),default:withCtx(()=>[a[42]||(a[42]=createBaseVNode("span",{id:"statmargins-marginused-tooltip"},"0.00",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},ic_tg="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23CAE88C'/%3e%3cpath%20d='M35%2035H14.9556C14.271%2035%2013.9288%2035%2013.6673%2034.8668C13.4374%2034.7496%2013.2504%2034.5626%2013.1332%2034.3327C13%2034.0712%2013%2033.729%2013%2033.0444V13M35%2017.8889L28.3581%2024.5308C28.116%2024.7728%2027.995%2024.8938%2027.8555%2024.9392C27.7328%2024.9791%2027.6006%2024.9791%2027.4778%2024.9392C27.3383%2024.8938%2027.2173%2024.7728%2026.9753%2024.5308L24.6914%2022.2469C24.4494%2022.0049%2024.3284%2021.8839%2024.1888%2021.8386C24.0661%2021.7987%2023.9339%2021.7987%2023.8112%2021.8386C23.6716%2021.8839%2023.5506%2022.0049%2023.3086%2022.2469L17.8889%2027.6667M35%2017.8889H30.1111M35%2017.8889V22.7778'%20stroke='%235B8937'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ic_tl="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23E88C8C'/%3e%3cpath%20d='M35%2035H14.9556C14.271%2035%2013.9288%2035%2013.6673%2034.8668C13.4374%2034.7496%2013.2504%2034.5626%2013.1332%2034.3327C13%2034.0712%2013%2033.729%2013%2033.0444V13M35%2027.6667L28.3581%2021.0247C28.1161%2020.7827%2027.995%2020.6617%2027.8555%2020.6164C27.7328%2020.5765%2027.6006%2020.5765%2027.4778%2020.6164C27.3383%2020.6617%2027.2173%2020.7827%2026.9753%2021.0247L24.6914%2023.3086C24.4494%2023.5506%2024.3284%2023.6716%2024.1888%2023.717C24.0661%2023.7568%2023.9339%2023.7568%2023.8112%2023.717C23.6716%2023.6716%2023.5506%2023.5506%2023.3086%2023.3086L17.8889%2017.8889M35%2027.6667H30.1111M35%2027.6667V22.7778'%20stroke='%23893737'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ic_vb="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23BADEFC'/%3e%3cpath%20d='M27%2014.92C27%2014.2479%2027%2013.9119%2026.8692%2013.6552C26.7542%2013.4294%2026.5706%2013.2458%2026.3448%2013.1308C26.0881%2013%2025.7521%2013%2025.08%2013H22.92C22.2479%2013%2021.9119%2013%2021.6552%2013.1308C21.4294%2013.2458%2021.2458%2013.4294%2021.1308%2013.6552C21%2013.9119%2021%2014.2479%2021%2014.92L21%2034.6H27L27%2014.92Z'%20fill='%23B3B3B3'/%3e%3cpath%20d='M12%2034.6L36%2034.6Z'%20fill='%23B3B3B3'/%3e%3cpath%20d='M21%2017.8H16.92C16.2479%2017.8%2015.9119%2017.8%2015.6552%2017.9308C15.4294%2018.0458%2015.2458%2018.2294%2015.1308%2018.4552C15%2018.7119%2015%2019.0479%2015%2019.72V34.6M27%2022.6H31.08C31.7521%2022.6%2032.0881%2022.6%2032.3448%2022.7308C32.5706%2022.8458%2032.7542%2023.0294%2032.8692%2023.2552C33%2023.5119%2033%2023.8479%2033%2024.52V34.6M12%2034.6L36%2034.6M27%2034.6L27%2014.92C27%2014.2479%2027%2013.9119%2026.8692%2013.6552C26.7542%2013.4294%2026.5706%2013.2458%2026.3448%2013.1308C26.0881%2013%2025.7521%2013%2025.08%2013H22.92C22.2479%2013%2021.9119%2013%2021.6552%2013.1308C21.4294%2013.2458%2021.2458%2013.4294%2021.1308%2013.6552C21%2013.9119%2021%2014.2479%2021%2014.92L21%2034.6H27Z'%20stroke='%23444444'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ic_ma="/assets/ma-B-JxyF4Y.svg",ic_sect="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23D37FF0'%20fill-opacity='0.5'/%3e%3cpath%20d='M24%2010C25.8385%2010%2027.659%2010.3621%2029.3576%2011.0657C31.0561%2011.7693%2032.5995%2012.8005%2033.8995%2014.1005C35.1995%2015.4005%2036.2308%2016.9439%2036.9343%2018.6424C37.6379%2020.341%2038%2022.1615%2038%2024L24%2024V10Z'%20fill='%23645AED'/%3e%3cpath%20d='M38%2024C38%2026.2094%2037.4771%2028.3873%2036.4741%2030.3559C35.4711%2032.3244%2034.0164%2034.0276%2032.229%2035.3262L24%2024L38%2024Z'%20fill='%23645AED'/%3e%3cpath%20d='M38%2024C38%2031.732%2031.732%2038%2024%2038C16.268%2038%2010%2031.732%2010%2024C10%2016.268%2016.268%2010%2024%2010C31.732%2010%2038%2016.268%2038%2024Z'%20fill='%23645AED'/%3e%3cpath%20d='M24%2010C25.8385%2010%2027.659%2010.3621%2029.3576%2011.0657C31.0561%2011.7693%2032.5995%2012.8005%2033.8995%2014.1005C35.1995%2015.4005%2036.2308%2016.9439%2036.9343%2018.6424C37.6379%2020.341%2038%2022.1615%2038%2024M24%2010V24M24%2010C16.268%2010%2010%2016.268%2010%2024C10%2031.732%2016.268%2038%2024%2038C31.732%2038%2038%2031.732%2038%2024M24%2010C31.732%2010%2038%2016.268%2038%2024M38%2024L24%2024M38%2024C38%2026.2094%2037.4771%2028.3873%2036.4741%2030.3559C35.4711%2032.3244%2034.0164%2034.0276%2032.229%2035.3262L24%2024'%20stroke='%23E3B9F3'%20stroke-width='1.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ic_them="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M24%201C11.3174%201%201%2011.3179%201%2024C1%2036.6821%2011.3174%2047%2024%2047C36.6826%2047%2047%2036.6821%2047%2024C47%2011.3179%2036.6826%201%2024%201Z'%20fill='%23CAE88C'/%3e%3cpath%20d='M13.6668%2017.3336C15.6919%2017.3336%2017.3336%2015.6919%2017.3336%2013.6668C17.3336%2011.6417%2015.6919%2010%2013.6668%2010C11.6417%2010%2010%2011.6417%2010%2013.6668C10%2015.6919%2011.6417%2017.3336%2013.6668%2017.3336Z'%20fill='%23444444'/%3e%3cpath%20d='M33.8333%2017.3336C35.8584%2017.3336%2037.5001%2015.6919%2037.5001%2013.6668C37.5001%2011.6417%2035.8584%2010%2033.8333%2010C31.8082%2010%2030.1665%2011.6417%2030.1665%2013.6668C30.1665%2015.6919%2031.8082%2017.3336%2033.8333%2017.3336Z'%20fill='%235B8937'/%3e%3cpath%20d='M13.6668%2037.3336C15.6919%2037.3336%2017.3336%2035.6919%2017.3336%2033.6668C17.3336%2031.6417%2015.6919%2030%2013.6668%2030C11.6417%2030%2010%2031.6417%2010%2033.6668C10%2035.6919%2011.6417%2037.3336%2013.6668%2037.3336Z'%20fill='%23444444'/%3e%3cpath%20d='M33.8333%2037.5001C35.8584%2037.5001%2037.5001%2035.8584%2037.5001%2033.8333C37.5001%2031.8082%2035.8584%2030.1665%2033.8333%2030.1665C31.8082%2030.1665%2030.1665%2031.8082%2030.1665%2033.8333C30.1665%2035.8584%2031.8082%2037.5001%2033.8333%2037.5001Z'%20fill='%23444444'/%3e%3cpath%20d='M23.7493%2020.0833C23.0241%2020.0833%2022.3152%2020.2983%2021.7122%2020.7012C21.1092%2021.1041%2020.6392%2021.6768%2020.3616%2022.3468C20.0841%2023.0168%2020.0115%2023.7541%2020.153%2024.4654C20.2945%2025.1767%2020.6437%2025.83%2021.1565%2026.3429C21.6693%2026.8557%2022.3227%2027.2049%2023.034%2027.3464C23.7452%2027.4879%2024.4825%2027.4152%2025.1525%2027.1377C25.8226%2026.8602%2026.3952%2026.3902%2026.7981%2025.7872C27.2011%2025.1842%2027.4161%2024.4753%2027.4161%2023.75C27.4161%2022.7775%2027.0298%2021.8449%2026.3421%2021.1572C25.6545%2020.4696%2024.7218%2020.0833%2023.7493%2020.0833Z'%20fill='%23444444'/%3e%3cpath%20d='M17.3336%2020.0833H10V27.4168H17.3336V20.0833Z'%20fill='%23444444'/%3e%3cpath%20d='M27.4161%2010H20.0825V17.3336H27.4161V10Z'%20fill='%235B8937'/%3e%3cpath%20d='M37.5001%2020.0833H30.1665V27.4168H37.5001V20.0833Z'%20fill='%235B8937'/%3e%3cpath%20d='M27.4161%2030.1665H20.0825V37.5001H27.4161V30.1665Z'%20fill='%23444444'/%3e%3c/svg%3e",_hoisted_1$d={key:0},_hoisted_2$b={style:{width:"100%"},"no-gutters":"",class:"pos-abs d-inline-flex flex-row-reverse"},_hoisted_3$9=["textContent"],_hoisted_4$8={class:"fs-14 txt-000 font-weight-medium mb-0"},_hoisted_5$8=["id"],_hoisted_6$8=["id"],_hoisted_7$8=["id"],_hoisted_8$8=["id"],_hoisted_9$8={class:"d-inline-flex align-center"},_hoisted_10$8=["src","alt"],_hoisted_11$8={class:"subtitle-1 font-weight-bold mb-0"},_hoisted_12$8={key:0},_hoisted_13$8={class:"mb-0 subtitle-2 font-weight-medium lh-16"},_hoisted_14$7={class:"caption subtext-text font-weight-bold"},_hoisted_15$5={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},_hoisted_16$5={key:0},_hoisted_17$5=["id"],_hoisted_18$5=["id"],_hoisted_19$5=["id"],_hoisted_20$5=["id"],_hoisted_21$5={key:1,class:"fs-12"},_hoisted_22$5={key:0,class:"mb-0 lh-16 mt-2 subtitle-2"},_hoisted_23$5={key:0,class:"mb-0 lh-16 mt-2 subtitle-2 text-right"},_hoisted_24$5={key:1},_hoisted_25$4={class:"mb-0 subtitle-2 font-weight-medium lh-16"},_hoisted_26$4={class:"caption subtext-text font-weight-bold"},_hoisted_27$4={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},_hoisted_28$4={key:0},_hoisted_29$4=["id"],_hoisted_30$4=["id"],_hoisted_31$4=["id"],_hoisted_32$4=["id"],_hoisted_33$4={key:1,class:"fs-12"},_hoisted_34$4={key:0,class:"mb-0 lh-16 mt-2 subtitle-2"},_hoisted_35$4={key:0,class:"mb-0 lh-16 mt-2 subtitle-2 text-right"},_hoisted_36$4={class:"text-center mt-2"},_hoisted_37$4={key:0,class:"d-flex align-center justify-center pos-abs",style:{inset:"0"}},_hoisted_38$4={class:"text-center"},_hoisted_39$4={id:"market",class:"d-inline-flex overflow-x-auto no-scroll mb-12",style:{width:"100%"}},_hoisted_40$4=["src","alt"],_hoisted_41$4={class:"font-weight-bold subtitle-2 mb-0 text-none"},_hoisted_42$4={class:"mb-0 lh-16"},_hoisted_43$4=["onClick","textContent"],_hoisted_44$4=["id","textContent"],_hoisted_45$4={class:"mb-0 lh-18"},_hoisted_46$3={key:0,class:"d-none"},_hoisted_47$2={class:"font-weight-medium maintext--text"},_hoisted_48$2=["id","textContent"],_hoisted_49$2=["id"],_hoisted_50$2=["id","textContent"],_hoisted_51$2=["id","textContent"],_hoisted_52$2={class:"mx-auto py-16"},_hoisted_53$2=["src","alt"],_hoisted_54$1={class:"primary--text font-weight-medium mb-2 text-none"},_hoisted_55$1=["onClick","textContent"],_hoisted_56$1={class:"mb-0 lh-18"},_hoisted_57$1={key:0,class:"d-none"},_hoisted_58$1={class:"font-weight-medium maintext--text"},_hoisted_59$1=["id","textContent"],_hoisted_60$1=["id"],_hoisted_61$1=["id","textContent"],_hoisted_62$1=["id","textContent"],_hoisted_63$1={class:"font-weight-medium maintext--text"},_hoisted_64$1=["id"],_hoisted_65$1=["id"],_hoisted_66$1=["id"],_hoisted_67$1=["id"],_hoisted_68$1={class:"px-4 py-4"},_hoisted_69$1={class:"font-weight-bold title mb-md-4 mb-6"},_hoisted_70$1={key:0},_hoisted_71$1={key:1},_hoisted_72$1={class:"fs-10"},_hoisted_73$1={key:2},_hoisted_74$1={key:3},_hoisted_75$1={class:"px-4 py-4"},_hoisted_76$1={class:"font-weight-bold title mb-md-4 mb-6"},_hoisted_77$1={key:0},_hoisted_78$1={key:1},_hoisted_79$1=["onClick"],_hoisted_80$1=["src","alt"],_hoisted_81$1={class:"font-weight-medium fs-14 mb-2 text-rap-l2 lh-20"},_hoisted_82$1={key:2},_hoisted_83$1={key:3},_sfc_main$p={__name:"StocksSrc",setup(e){const t=useRouter$1(),a=useTheme(),o=ref$1(null),r=ref$1(null),n=ref$1(null);ref$1(0);const i=ref$1(!1),l=ref$1(!1);ref$1(!0),ref$1(!0);const s=ref$1(null);ref$1(null);const c=ref$1([{exch:"NSE",token:"26000",tsym:"Nifty 50",too:"NIFTY 50"},{exch:"NSE",token:"26009",tsym:"Nifty Bank",too:"NIFTY BANK"},{exch:"NSE",token:"26017",tsym:"India VIX",too:""},{exch:"BSE",token:"1",tsym:"SENSEX",too:""},{exch:"NSE",token:"26013",tsym:"Nifty Next 50",too:"NIFTY NEXT 50"},{exch:"NSE",token:"26060",tsym:"NIFTY MIDCAP 150",too:"NIFTY MIDCAP 150"},{exch:"NSE",token:"26062",tsym:"NIFTY SMLCAP 250",too:"NIFTY SMALLCAP 250"},{exch:"NSE",token:"26076",tsym:"NIFTY MICROCAP250",too:"NIFTY MICROCAP 250"}]),d=ref$1([{text:"Volume & Price Up",value:"VolUpPriceUp"},{text:"Volume & Price Down",value:"VolUpPriceDown"},{text:"Open High",value:"OpenHigh"},{text:"Open Low",value:"OpenLow"},{text:"High Break",value:"HighBreak"},{text:"Low Break",value:"LowBreak"}]),u=ref$1("VolUpPriceUp"),p=ref$1([{text:"All",value:"A"},{text:"Nifty 50",value:"NIFTY50"},{text:"Nifty 500",value:"NIFTY500"},{text:"Nifty MIDCAP 50",value:"NIFTYMCAP50"},{text:"Nifty SMLCAP 50",value:"NIFTYSMCAP50"}]),h=ref$1("A"),m=ref$1([]),v=ref$1(!0),f=ref$1("NIFTY 50"),g=ref$1(["NIFTY 50","NIFTY NEXT 50","NIFTY 100","NIFTY 200","Nifty Total Market","NIFTY 500","NIFTY500 MULTICAP 50 25 25","NIFTY MIDCAP 150","NIFTY MIDCAP 50","Nifty Midcap Select","NIFTY Midcap 100","NIFTY SMALLCAP 250","NIFTY SMALLCAP 50","NIFTY FULL SMALL CAP 100","NIFTY MICROCAP 250","NIFTY LargeMidcap 250","NIFTY MIDSMALLCAP 400","NIFTY COMMODITIES"]),y=ref$1(!1),_=ref$1(!1);ref$1([{text:"NSE",value:"NSEALL"},{text:"NFO",value:"NFOALL"}]);const b=ref$1("NSEALL"),w=ref$1([[],[],[],[]]),x=[ic_tg,ic_tl,ic_vb,ic_ma],V=["tg","tl","vb","ma"],k=[ic_sect,ic_them],C=["sect","them"];ref$1([]),ref$1([]),ref$1([]),ref$1([]);const S=reactive({Sectors:[],Thematic:[],wsdata:{}}),N=ref$1("sectors"),T=ref$1(0),B=ref$1(null),E=ref$1(!1),I=ref$1(null),$=ref$1(!1),P=ref$1(!0),D=ref$1(null),L=ref$1(null),R=ref$1(null),A=ref$1(null),O=ref$1({}),M=(e,t)=>{const a={...O.value[e]||{}},o=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},r=o(t.ltp??t.lp??t.l),n=o(t.c??t.prev_close_price??t.close),i=o(t.ch),l=o(t.chp??t.pc);return void 0!==r&&(a.ltp=r),void 0!==n&&(a.prevClose=n),void 0!==i&&(a.ch=i),void 0!==l&&(a.chp=l),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),O.value[e]=a,a},F=computed(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"}]);computed(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Last 50 minutes",key:"ltp",sortable:!1,width:"80%",class:"ws-p"}]);const z=computed(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"},{title:"Open",key:"op",align:"end",class:"ws-p"},{title:"High",key:"high",align:"end",class:"ws-p"},{title:"Low",key:"low",align:"end",class:"ws-p"},{title:"Close",key:"cp",align:"end",class:"ws-p"},{title:"Volume",key:"vol",align:"end",class:"ws-p"}]);watch(f,()=>{y.value||oe()}),S.Sectors=[{title:"Bank",key:"NIFTY BANK"},{title:"Auto",key:"NIFTY AUTO"},{title:"Financial Services",key:"NIFTY FINANCIAL SERVICES"},{title:"FMCG",key:"NIFTY FMCG"},{title:"Health Care",key:"Nifty HEALTHCARE"},{title:"Pharma",key:"NIFTY PHARMA"},{title:"IT",key:"NIFTY IT"},{title:"Media",key:"NIFTY MEDIA"},{title:"Metal",key:"NIFTY METAL"},{title:"Realty",key:"NIFTY REALTY"},{title:"Consumer Durables",key:"NIFTY CONSUMER DURABLES"},{title:"Oil & Gas",key:"NIFTY OIL AND GAS INDEX"}],S.Thematic=[{title:"Core Housing",key:"Nifty Core Housing"},{title:"Energy",key:"NIFTY ENERGY"},{title:"Consumption",key:"NIFTY INDIA CONSUMPTION"},{title:"Defence",key:"Nifty India Defence"},{title:"Digital",key:"Nifty India Digital"},{title:"Manufacturing",key:"Nifty India Manufacturing"},{title:"Infrastructure",key:"NIFTY INFRASTRUCTURE"},{title:"MNC",key:"NIFTY MNC"},{title:"Mobility",key:"Nifty Mobility"},{title:"Transportation & Logistics",key:"Nifty Transportation & Logistics"},{title:"PSE",key:"NIFTY PSE"},{title:"REITs & InvITs",key:"Nifty REITs & InvITs"},{title:"SME Emerge",key:"NIFTY SME EMERGE"}],onMounted(()=>{useAppStore();const e=useAuthStore();let t=sessionStorage.getItem("c3RhdHVz");"dmFsaWR1c2Vy"==t&&(o.value||n.value||(r.value=sessionStorage.getItem("msession"),n.value=sessionStorage.getItem("usession"),o.value=sessionStorage.getItem("userid"))),window.addEventListener("websocket-quote-update",W),window.addEventListener("web-scoketConn",j),ue("sub",c.value,"ssd-pd"),Z(),ae(),oe(),"dmFsaWR1c2Vy"!=t&&(ee(),te()),setTimeout(()=>{ue("sub",c.value,"ssd-pd"),o.value&&Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv"),U()},1200),o.value||(R.value=setInterval(()=>{ue("sub",c.value,"ssd-pd")},5e3)),G(),P.value&&nextTick(()=>{window.addEventListener("scroll",G)}),watch(o,async(e,t)=>{e&&!t?(console.log("Phase 1: User logged in, re-subscribing WebSocket for top indices and sectors"),await nextTick(),R.value&&(clearInterval(R.value),R.value=null),ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv"),await Z(),await ae(),setTimeout(()=>{ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv")},500),setTimeout(()=>{ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv")},1200)):!e&&t&&(console.log("Phase 1: User logged out"),R.value||(R.value=setInterval(()=>{ue("sub",c.value,"ssd-pd")},5e3)))},{immediate:!1});const a=async()=>{var t,a,i;const l="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz"),s=e.uid||sessionStorage.getItem("userid"),d=e.mtoken||sessionStorage.getItem("msession");if(l&&s&&d&&(o.value!==s||r.value!==d)){const e=!o.value;if(o.value=s,r.value=d,n.value=sessionStorage.getItem("usession"),R.value&&(clearInterval(R.value),R.value=null),e)ue("sub",c.value,"ssd-pd"),await Z(),await ae(),oe(),await ee(),await te(),setTimeout(async()=>{await Z(),ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv")},500),setTimeout(async()=>{await Z(),ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv")},1500);else{if(await Z(),ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv"),w.value&&w.value.length>0){const e=(null==(i=w.value[0])?void 0:i.concat((null==(a=w.value[1])?void 0:a.concat(null==(t=w.value[2])?void 0:t.concat(w.value[3]||[])))||[]))||[];if(e.length>0){const t=e.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym}));ue("sub",t,"ta")}}m.value&&m.value.length>0&&ue("sub",m.value,"sc"),setTimeout(()=>{ue("sub",c.value,"ssd-pd"),Object.keys(S.wsdata||{}).length>0&&ue("sub",Object.values(S.wsdata),"adv")},1e3)}}};nextTick(()=>{a()}),D.value=watch(()=>[e.uid,e.mtoken],async([e,t])=>{e&&t&&(await nextTick(),await a())},{immediate:!1});const i=setInterval(()=>{"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&!o.value&&a()},500);L.value=i}),onBeforeUnmount(()=>{if(window.removeEventListener("scroll",G),window.removeEventListener("websocket-quote-update",W),window.removeEventListener("web-scoketConn",j),D.value&&(D.value(),D.value=null),L.value&&(clearInterval(L.value),L.value=null),R.value&&(clearInterval(R.value),R.value=null),A.value){try{A.value.disconnect()}catch(e){}A.value=null}});const H=()=>{try{const e={};for(let t=0;t<c.value.length;t++){const a=c.value[t];a.token&&(a.ltp||a.ch||a.chp)&&(e[a.token]={ltp:a.ltp||null,ch:a.ch||null,chp:a.chp||null,timestamp:Date.now()})}Object.keys(e).length>0&&localStorage.setItem(`${o.value||"guest"}_pdmwdata_cache`,JSON.stringify(e))}catch(e){console.log("savePdmwdataCache error:",e)}},q=()=>{try{const e=`${o.value||"guest"}_pdmwdata_cache`,t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.log("loadPdmwdataCache error:",e)}return null},U=()=>{const e=q();if(e)for(let t=0;t<c.value.length;t++){const a=c.value[t];if(a.token&&e[a.token]){const t=e[a.token];a.ltp&&"0.00"!==a.ltp&&"0"!==a.ltp&&0!==a.ltp||t.ltp&&(a.ltp=t.ltp),a.ch&&"0.00"!==a.ch&&"0"!==a.ch&&0!==a.ch||t.ch&&(a.ch=t.ch),a.chp&&"0.00"!==a.chp&&"0"!==a.chp&&0!==a.chp||t.chp&&(a.chp=t.chp);const o=document.getElementById(`ssdpd${a.token}ltp`);if(o){o.innerHTML=a.ltp||"0.00";const e=document.getElementById(`ssdpd${a.token}ch`),t=document.getElementById(`ssdpd${a.token}chp`),r=document.getElementById(`ssdpd${a.token}chpclr`);if(e&&(e.innerHTML=a.ch||"0.00"),t&&(t.innerHTML=` (${a.chp||"0.00"}%)`),r){const e=parseFloat(a.ch)||0;r.className=e>0?"d-inline-flex font-weight-medium fs-12 px-2 maingreen--text":e<0?"d-inline-flex font-weight-medium fs-12 px-2 mainred--text":"d-inline-flex font-weight-medium fs-12 px-2 subtext--text"}}}}},W=e=>{const t=e.detail;if(t){const e=t.token||t.tk,a=t.exchange||t.e||t.exch||t.market_segment_id;if(e){c.value.findIndex(t=>t.token==e&&(!a||t.exch===a))>=0&&pe(t)}else pe(t)}},j=e=>{const t=e.detail;if(t&&(t.token||t.tk)){const e=t,a=e.token||e.tk,o=String(a);if(c.value&&Array.isArray(c.value)){const t=c.value.findIndex(e=>String(e.token)===o);t>=0&&String(c.value[t].token)===o&&pe(e)}}if(Array.isArray(t)&&t.length>=2){const[e,a]=t;if(("stockDASH"===a||"stocks"===a||"stockINC"===a)&&e){if(c.value&&Array.isArray(c.value))if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]&&(e[t].token||e[t].tk)&&pe(e[t]);else(e.token||e.tk)&&pe(e);if("stocks"===a&&S.wsdata&&e&&(e.token||e.tk)){const t=e.token||e.tk;S.wsdata[t]&&le(e)}}}else if(t&&"object"==typeof t)if("stockDASH"===t.page||"stocks"===t.page||"stockINC"===t.page)(t.token||t.tk)&&pe(t);else if(t.token||t.tk){const e=t.token||t.tk,a=String(e);c.value.findIndex(e=>String(e.token)===a)>=0&&(console.log("handleWebSocketConnection: Processing direct token update",a),pe(t)),S.wsdata&&S.wsdata[a]&&le(t)}else if("dk"===t.t||"df"===t.t){const e=t.tk||t.token;if(e){const a=String(e);if(c.value.findIndex(e=>String(e.token)===a)>=0){console.log("handleWebSocketConnection: Processing WebSocket feed format (dk/df) for token",a);const o={token:e,tk:t.tk,lp:t.lp,ch:t.ch||(t.lp&&t.c?t.lp-t.c:null),chp:t.chp||t.pc||(t.c&&t.lp?(t.lp-t.c)/t.c*100:null),c:t.c,exchange:t.e,exch:t.e};pe(o),S.wsdata&&S.wsdata[a]&&le(o)}else console.warn("handleWebSocketConnection: WebSocket feed token not found in pdmwdata",a)}}else t.page&&"stockDASH"!==t.page&&"stocks"!==t.page&&"stockINC"!==t.page||pe(t)},G=()=>{var e;const t={elo:document.getElementById("ttt"),elt:document.getElementById("smcp"),elr:document.getElementById("eve")};Y(t.elo)&&0===(null==(e=w.value[0])?void 0:e.length)&&ee(),Y(t.elt)&&v.value&&(v.value=!1,te()),Y(t.elr)&&(B.value||se(),I.value||ce(),P.value=!1)},Y=e=>{if(!e)return!1;const{top:t,left:a,bottom:o,right:r}=e.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return t>=0&&a>=0&&o<=i&&r<=n},K=(e,a)=>{if(o.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else"NSE"==a.exch&&t.push(`/stocks/${e.toLowerCase()}`)},X=(e,t)=>{document.getElementById(`${e}`).scrollBy({left:t,behavior:"smooth"})},J=(e,t)=>{document.getElementById(`${e}`).scrollBy({left:t,behavior:"smooth"})},Q=(e,t,a,o)=>{if("TA"==a){let a=w.value[e].findIndex(e=>e.token==t.token);w.value[e][a].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):0,w.value[e][a].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):0}else if("SCR"==a){let e=m.value.findIndex(e=>e.token==t.token);m.value[e].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):0,m.value[e].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):0}},Z=async()=>{if(c.value&&0!==c.value.length)try{const e=c.value.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym}));console.log(`Phase 3: fetchInitialIndicesData: Fetching data for ${e.length} indices`),e.forEach((t,a)=>{console.log(`Phase 3: Fetching index ${a+1}/${e.length}: ${t.exch}|${t.token}|${t.tsym}`)});const t=await getLtpdata(e),a=null==t?void 0:t.data;if(a){console.log("fetchInitialIndicesData: Received data for",Object.keys(a).length,"tokens");let e=!1;for(let t=0;t<c.value.length;t++){const o=c.value[t],r=a[o.token];if(r){const a=Number(r.lp).toFixed(2),n=Number(a-Number(r.close)).toFixed(2),i=Number(r.change).toFixed(2);c.value[t].ltp=a,c.value[t].ch=n,c.value[t].chp=i,e=!0,await nextTick();const l=document.getElementById(`ssdpd${o.token}ltp`);if(l){l.innerHTML=a;const e=document.getElementById(`ssdpd${o.token}ch`),t=document.getElementById(`ssdpd${o.token}chp`),r=document.getElementById(`ssdpd${o.token}chpclr`);if(e&&(e.innerHTML=n),t&&(t.innerHTML=` (${i}%)`),r){const e=parseFloat(n)||0;r.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}}}else console.log("fetchInitialIndicesData: No data for token",o.token)}e&&H()}else{console.log("fetchInitialIndicesData: No raw data received from API, trying cache");q()&&(console.log("fetchInitialIndicesData: Loading data from cache"),U())}}catch(e){console.error("fetchInitialIndicesData: Error fetching initial indices data:",e),console.error("fetchInitialIndicesData: Error stack:",e.stack);try{q()&&(console.log("fetchInitialIndicesData: Loading data from cache after error"),U())}catch(t){console.error("fetchInitialIndicesData: Error loading cache:",t)}}else console.log("fetchInitialIndicesData: pdmwdata is empty")},ee=async()=>{w.value=[],i.value=!0;let e=await getTopList(["NSEALL"==b.value?"NSE":"NFO",b.value,"mostActive"]),t=await getTopList(["NSEALL"==b.value?"NSE":"NFO",b.value,"topG_L"]);if("Ok"==e.stat&&"Ok"==t.stat){w.value.push(t.topGainers),w.value.push(t.topLosers),w.value.push(e.byVolume),w.value.push(e.byValue);let a=w.value[0].concat(w.value[1].concat(w.value[2].concat(w.value[3]))),r=[];a.map(e=>r.push({exch:e.exch,token:e.token,tsym:e.tsym})),o.value&&ue("sub",r,"ta")}i.value=!1},te=async e=>{"yes"==e&&o.value&&ue("unsub-D",m.value,"sc"),l.value=!0,m.value=[];let t=await getConTentList(["NSE",h.value,u.value]);t&&t.length>0&&(m.value=t.slice(0,10),o.value&&ue("sub",t,"sc")),v.value=!1,l.value=!1},ae=async()=>{try{console.log("getADlistdata: Starting to fetch sector/thematic data");let t=await getADindices();if(console.log("getADlistdata: getADindices response:",t),t&&500!=t){if(S.Sectors.forEach((e,a)=>{const o=ne(t[e.key]||null,e.key);S.Sectors[a].data=o,t[e.key]||console.warn(`Missing API data for sector: ${e.key} (${e.title})`)}),S.Thematic.forEach((e,a)=>{const o=ne(t[e.key]||null,e.key);S.Thematic[a].data=o,t[e.key]||console.warn(`Missing API data for thematic: ${e.key} (${e.title})`)}),Object.keys(S.wsdata||{}).length>0){const t=Object.values(S.wsdata).filter(e=>e&&e.token&&(!e.ltp||"0.00"===e.ltp||null===e.ltp)).map(e=>({exch:e.exch||"NSE",token:e.token,tsym:e.tsym}));if(t.length>0)if(o.value)ue("sub",t,"adv"),setTimeout(()=>{ue("sub",Object.values(S.wsdata),"adv")},1200);else try{const e=await getLtpdata(t);e&&e.data&&Object.keys(S.wsdata).forEach(t=>{const a=S.wsdata[t],o=e.data[t];if(o&&a){const e=Number(o.lp||0).toFixed(2),r=Number(o.lp-o.close||0).toFixed(2),n=Number(o.change||0).toFixed(2);a.ltp=e,a.ch=r,a.chp=n;const i=document.getElementById(`ssdad${t}ltp`);if(i){i.innerHTML=e;const a=document.getElementById(`ssdad${t}ch`),o=document.getElementById(`ssdad${t}chp`),l=document.getElementById(`ssdad${t}chpclr`);if(a&&(a.innerHTML=r),o&&(o.innerHTML=` (${n}%)`),l){const e=parseFloat(n)||0;l.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}}})}catch(e){console.error("Error fetching LTP data for sectors:",e)}o.value&&Object.keys(S.wsdata||{}).length>0&&(ue("sub",Object.values(S.wsdata),"adv"),setTimeout(()=>{ue("sub",Object.values(S.wsdata),"adv")},1200))}S.Sectors.sort((e,t)=>{var a,o;return Number((null==(a=t.data)?void 0:a.marketCap)||0)-Number((null==(o=e.data)?void 0:o.marketCap)||0)}),S.Thematic.sort((e,t)=>{var a,o;return Number((null==(a=t.data)?void 0:a.marketCap)||0)-Number((null==(o=e.data)?void 0:o.marketCap)||0)}),console.log("getADlistdata: Processed",S.Sectors.length,"sectors and",S.Thematic.length,"thematic indices"),console.log("getADlistdata: WebSocket data entries:",Object.keys(S.wsdata||{}).length)}else console.warn("getADlistdata: Invalid response from getADindices API:",t);null!==N.value&&void 0!==N.value||(N.value="sectors")}catch(e){console.error("getADlistdata: Error loading sectors/thematic data:",e),console.error("getADlistdata: Error stack:",e.stack)}},oe=async()=>{y.value=!0,_.value=!1;const e=document.getElementById("avddecchart");e&&dispose(e);try{let e=[],n=await getADindice(f.value);if(!n||500==n||!Array.isArray(n)||0===n.length)return _.value=!0,y.value=!1,void setTimeout(()=>oe(),3e4);for(let t=0;t<n.length;t++)e.push({name:n[t].SYMBOL.split(":")[1],value:[Number(n[t].market_cap),`₹${n[t].ltp} <span class="fs-12 ${Number(n[t].change)>0?"maingreen--text":Number(n[t].change)<0?"mainred--text":"maintext--text"}" >${Number(n[t].ltp-Number(n[t].close)).toFixed(2)} (${n[t].change}%) </span>`,Number(n[t].change),0,n[t]["Company Name"],{token:n[t].Token,exch:n[t].SYMBOL.split(":")[0],tsym:n[t].SYMBOL.split(":")[1]}]});re(e);var t=document.getElementById("avddecchart"),o=init(t),r={title:!1,tooltip:{confine:!0,appendToBody:!0,extraCssText:"width:auto;max-width:none;white-space:nowrap;",formatter:function(e){let t=e.value;return['<div class="tooltip-title font-weight-bold black--text">'+t[4]+"</div>",`<p class="mb-0 font-weight-medium black--text fs-14">${t[1]}</p>`].join("")}},legend:!1,series:[{roam:!1,nodeClick:void 0,breadcrumb:!1,name:"NIFTY 50",type:"treemap",visualMin:-100,visualMax:100,visualDimension:3,label:{show:!0,formatter:"{b}"},top:"0%",left:"0%",right:"0%",bottom:"0%",nodeGap:2,levels:[{color:"dark"===a.global.name.value?["#FF1717","#999","#1BBC00"]:["#FF1717","#999","#43A833"],colorMappingBy:"value"}],data:e}]};r&&o.setOption(r),o.on("click",function(e){K(e.value[5].tsym.split("-")[0],e.value[5])}),window.addEventListener("resize",function(){o.resize()}),setTimeout(()=>o.resize(),0),setTimeout(()=>o.resize(),300),window.ResizeObserver&&t&&(A.value=new ResizeObserver(()=>{o.resize()}),A.value.observe(t)),y.value=!1,_.value=!1}catch(e2){y.value=!1,_.value=!0,setTimeout(()=>oe(),3e4)}},re=e=>{let t=1/0,a=-1/0;for(let o=0;o<e.length;o++){let r=e[o];if(r){let e=r.value;null!=e[2]&&e[2]<t&&(t=e[2]),null!=e[2]&&e[2]>a&&(a=e[2])}}for(let o=0;o<e.length;o++){let r=e[o];if(r){let e=r.value;null!=e[2]&&e[2]>0?e[3]=linearMap(e[2],[0,a],[40,100],!0):null!=e[2]&&e[2]<0?e[3]=linearMap(e[2],[t,0],[-100,-40],!0):e[3]=0,isFinite(e[3])||(e[3]=0),r.children&&re(r.children)}}},ne=(e,t)=>{if(!e)return{sum:0,adp:"0%",adm:"0%",adn:"0%",token:null,Positive:0,Negative:0,Neutral:0,marketCap:0};const a={...e,sum:(e.Negative||0)+(e.Neutral||0)+(e.Positive||0),Positive:e.Positive||0,Negative:e.Negative||0,Neutral:e.Neutral||0,marketCap:e.marketCap||0};return a.adp=a.sum>0?`${Math.round(a.Positive/a.sum*100)}%`:"0%",a.adm=a.sum>0?`${Math.round(a.Negative/a.sum*100)}%`:"0%",a.adn=a.sum>0?`${Math.round(a.Neutral/a.sum*100)}%`:"0%",a.token&&(S.wsdata[a.token]={exch:"NSE",token:a.token,tsym:t,ltp:e.ltp||e.ltp_price||e.lp||"0.00",ch:e.ch||e.change||e.chg||"0.00",chp:e.chp||e.change_percent||e.chp||"0.00"}),a},ie=e=>{if(!e||!S.wsdata||!S.wsdata[e])return"subtext--text";const t=parseFloat(S.wsdata[e].chp)||0;return t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"},le=e=>{const t=e.token||e.tk;if(!t||!S.wsdata||!S.wsdata[t])return;const a=M(t,e),o={...S.wsdata[t]};void 0!==a.ltp&&(o.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(o.ch=a.ch.toFixed(2)),void 0!==a.chp&&(o.chp=a.chp.toFixed(2)),S.wsdata[t]={...S.wsdata[t],...o};const r=document.getElementById(`ssdad${t}ltp`);if(r){r.innerHTML=o.ltp||"0.00";const e=document.getElementById(`ssdad${t}ch`);e&&(e.innerHTML=o.ch||"0.00");const a=document.getElementById(`ssdad${t}chp`);a&&(a.innerHTML=` (${o.chp?Number(o.chp).toFixed(2):"0.00"}%)`);const n=document.getElementById(`ssdad${t}chpclr`);if(n){const e=parseFloat(o.chp)||0;n.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}},se=async()=>{E.value=!0,B.value=[],T.value=0;let e=await getssNews();if(e.data&&e.data.length>0){let t=e.data;for(let e=0;e<t.length;e++)t[e].isdate=`${new Date(t[e].pubDate).toDateString().slice(3)} ${new Date(t[e].pubDate).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})} IST`,B.value.push(t[e]);T.value=e.newsCount}E.value=!1},ce=async()=>{$.value=!0,I.value=[];let e=await getCorporateact();e.corporateAction&&e.corporateAction.length>0&&(I.value=e.corporateAction),$.value=!1},de=(e,a,o,r)=>{if("alert"==e);else if("cGTT"==e);else{let n=window.location;n.val=[e,a,o,r],"/stocks/details"!=n.pathname&&t.push({name:"stocks details",params:{val:n.val}})}},ue=async(e,t,a)=>{if(o.value){const o=new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"ssd-pd"===a?"stockDASH":"stocks"}});window.dispatchEvent(o)}else{let e=await getLtpdata(t);if(e=e.data,"ssd-pd"==a&&e){let t=!1;for(let a=0;a<c.value.length;a++){let o=e[c.value[a].token];if(o){const e=Number(o.lp).toFixed(2),r=Number(e-Number(o.close)).toFixed(2),n=Number(o.change).toFixed(2);c.value[a].ltp=e,c.value[a].ch=r,c.value[a].chp=n,t=!0;const i=document.getElementById(`ssdpd${c.value[a].token}ltp`);if(i){i.innerHTML=Number(c.value[a].ltp||0).toFixed(2);const e=document.getElementById(`ssdpd${c.value[a].token}ch`),t=document.getElementById(`ssdpd${c.value[a].token}chp`),o=document.getElementById(`ssdpd${c.value[a].token}chpclr`);if(e&&(e.innerHTML=Number(c.value[a].ch||0).toFixed(2)),t&&(t.innerHTML=` (${Number(c.value[a].chp||0).toFixed(2)}%)`),o){const e=parseFloat(c.value[a].ch)||0;o.className=e>0?"fs-12 font-weight-medium mb-0 maingreen--text":e<0?"fs-12 font-weight-medium mb-0 mainred--text":"fs-12 font-weight-medium mb-0 subtext--text"}}}}t&&(c.value=[...c.value],H())}else if("ta"==a&&e)for(let t=0;t<w.value.length;t++)for(let a=0;a<w.value[t].length;a++){let o=e[w.value[t][a].token];o&&(w.value[t][a].ltp=Number(o.lp)?Number(o.lp).toFixed(2):0,w.value[t][a].ch=Number(o.lp)&&Number(o.close)?(Number(o.lp)-Number(o.close)).toFixed(2):0,w.value[t][a].chp=Number(o.change).toFixed(2),w.value[t][a].vol=Number(o.vol).toFixed(2),w.value[t][a].op=Number(o.open)?Number(o.open).toFixed(2):0,w.value[t][a].cp=Number(o.close)?Number(o.close).toFixed(2):0,w.value[t][a].high=Number(o.high)?Number(o.high).toFixed(2):0,w.value[t][a].low=Number(o.low)?Number(o.low).toFixed(2):0,w.value[t][a].oi=o.oi?Number(o.oi).toFixed(2):0)}else if("adv"==a&&e){var r=Object.entries(S.wsdata);for(let t=0;t<r.length;t++){let a=e[r[t][0]];if(a&&r[t][0]){const e=r[t][0],o=Number(a.lp).toFixed(2),n=Number(o-Number(a.close)).toFixed(2),i=Number(a.change).toFixed(2);S.wsdata[e].ltp=o,S.wsdata[e].ch=n,S.wsdata[e].chp=i;const l=document.getElementById(`ssdad${e}ltp`);if(l){l.innerHTML=o;const t=document.getElementById(`ssdad${e}ch`),a=document.getElementById(`ssdad${e}chp`),r=document.getElementById(`ssdad${e}chpclr`);if(t&&(t.innerHTML=n),a&&(a.innerHTML=` (${i}%)`),r){const e=parseFloat(i)||0;r.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}}}}}},pe=e=>{const t=e.token||e.tk;if(!t)return void console.warn("optionChainDataParse: No token found in data",e);const a=String(t);let o=c.value.findIndex(e=>String(e.token)===a);if(o>=0&&String(c.value[o].token)===a){const a=M(t,e),r={...c.value[o]};void 0!==a.ltp&&(r.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(r.ch=a.ch.toFixed(2)),void 0!==a.chp&&(r.chp=a.chp.toFixed(2)),c.value[o]={...c.value[o],...r};const n=document.getElementById(`ssdpd${t}ltp`);if(n){n.innerHTML=r.ltp||"0.00";const e=document.getElementById(`ssdpd${t}ch`);e&&(e.innerHTML=r.ch||"0.00");const a=document.getElementById(`ssdpd${t}chp`);a&&(a.innerHTML=` (${r.chp||"0.00"}%)`);const o=document.getElementById(`ssdpd${t}chpclr`);if(o){const e=parseFloat(r.ch)||0;o.className=e>0?"fs-12 font-weight-medium mb-0 maingreen--text":e<0?"fs-12 font-weight-medium mb-0 mainred--text":"fs-12 font-weight-medium mb-0 subtext--text"}}c.value=[...c.value],H()}S.wsdata&&S.wsdata[a]&&le(e);let r=m.value.findIndex(e=>e.token==t);if(r>=0&&m.value[r].token==t){if(void 0!==e.lp&&null!==e.lp?m.value[r].ltp=Number(e.lp).toFixed(2):void 0!==e.ltp&&null!==e.ltp?m.value[r].ltp=Number(e.ltp).toFixed(2):void 0!==e.l&&null!==e.l&&(m.value[r].ltp=Number(e.l).toFixed(2)),void 0!==e.ch&&null!==e.ch)m.value[r].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2);else if(void 0!==e.c&&null!==e.c&&void 0!==e.lp&&null!==e.lp){const t=Number(e.lp)-Number(e.c);m.value[r].ch=t>0||t<0?t.toFixed(2):(0).toFixed(2)}if(void 0!==e.chp&&null!==e.chp)m.value[r].chp=Number(e.chp).toFixed(2);else if(void 0!==e.c&&null!==e.c&&m.value[r].ch){const t=Number(e.c);if(t>0){const e=Number(m.value[r].ch)/t*100;m.value[r].chp=e.toFixed(2)}}if(void 0!==e.volume&&null!==e.volume?m.value[r].vol=Number(e.volume):void 0!==e.vol&&null!==e.vol&&(m.value[r].vol=Number(e.vol)),void 0!==e.open_price&&null!==e.open_price?m.value[r].op=Number(e.open_price)?Number(e.open_price).toFixed(2):(0).toFixed(2):void 0!==e.open&&null!==e.open&&(m.value[r].op=Number(e.open)?Number(e.open).toFixed(2):(0).toFixed(2)),void 0!==e.prev_close_price&&null!==e.prev_close_price?m.value[r].cp=Number(e.prev_close_price)?Number(e.prev_close_price).toFixed(2):(0).toFixed(2):void 0!==e.close&&null!==e.close?m.value[r].cp=Number(e.close)?Number(e.close).toFixed(2):(0).toFixed(2):void 0!==e.c&&null!==e.c&&(m.value[r].cp=Number(e.c)?Number(e.c).toFixed(2):(0).toFixed(2)),void 0!==e.high_price&&null!==e.high_price?m.value[r].high=Number(e.high_price)?Number(e.high_price).toFixed(2):(0).toFixed(2):void 0!==e.high&&null!==e.high&&(m.value[r].high=Number(e.high)?Number(e.high).toFixed(2):(0).toFixed(2)),void 0!==e.low_price&&null!==e.low_price?m.value[r].low=Number(e.low_price)?Number(e.low_price).toFixed(2):(0).toFixed(2):void 0!==e.low&&null!==e.low&&(m.value[r].low=Number(e.low)?Number(e.low).toFixed(2):(0).toFixed(2)),document.getElementById(`ssdsc${t}ltp`)){document.getElementById(`ssdsc${t}ltp`).innerHTML=m.value[r].ltp;const e=document.getElementById(`ssdsc${t}ch`),a=document.getElementById(`ssdsc${t}chp`),o=document.getElementById(`ssdsc${t}op`),n=document.getElementById(`ssdsc${t}cp`),i=document.getElementById(`ssdsc${t}high`),l=document.getElementById(`ssdsc${t}low`);e&&(e.innerHTML=m.value[r].ch),a&&(a.innerHTML=` (${m.value[r].chp}%)`),o&&(o.innerHTML=m.value[r].op),n&&(n.innerHTML=m.value[r].cp),i&&(i.innerHTML=m.value[r].high),l&&(l.innerHTML=m.value[r].low)}}if(4==w.value.length){let a=w.value[0].findIndex(e=>e.token==t),o=w.value[1].findIndex(e=>e.token==t),r=w.value[2].findIndex(e=>e.token==t),n=w.value[3].findIndex(e=>e.token==t);if(a>=0||o>=0||r>=0||n>=0)for(let i=0;i<w.value.length;i++){let l=0==i&&a>=0?a:1==i&&o>=0?o:2==i&&r>=0?r:3==i&&n>=0?n:null;if(l>=0&&w.value[i]&&w.value[i][l]&&w.value[i][l].token==t){if(w.value[i][l].ltp=Number(e.lp).toFixed(2),w.value[i][l].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2),w.value[i][l].chp=Number(e.chp).toFixed(2),w.value[i][l].vol=Number(e.volume),document.getElementById(`ssdta${t}ltp`)){document.getElementById(`ssdta${t}ltp`).innerHTML=w.value[i][l].ltp;const e=document.getElementById(`ssdta${t}ch`),a=document.getElementById(`ssdta${t}chp`);e&&(e.innerHTML=w.value[i][l].ch),a&&(a.innerHTML=` (${w.value[i][l].chp}%)`)}document.getElementById(`ssdta${t}vol`)&&(document.getElementById(`ssdta${t}vol`).innerHTML=`Vol. : ${w.value[i][l].vol}`)}}}if(S&&S.wsdata){var n=Object.entries(S.wsdata);let t=n.findIndex(t=>t[0]==e.token);if(t>=0&&S.wsdata[n[t][0]]&&S.wsdata[n[t][0]].token==e.token){const a=n[t][0],o={...S.wsdata[a],ltp:Number(e.lp).toFixed(2),ch:Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2),chp:Number(e.chp).toFixed(2)};S.wsdata[a]=o,nextTick(()=>{if(document.getElementById(`ssdad${e.token}ltp`)){document.getElementById(`ssdad${e.token}ltp`).innerHTML=o.ltp,document.getElementById(`ssdad${e.token}ch`).innerHTML=o.ch,document.getElementById(`ssdad${e.token}chp`).innerHTML=` (${o.chp}%)`;const t=document.getElementById(`ssdad${e.token}chpclr`);t&&(t.classList.remove("maingreen--text","mainred--text","subtext--text"),Number(o.ch)>0?t.classList.add("maingreen--text"):Number(o.ch)<0?t.classList.add("mainred--text"):t.classList.add("subtext--text"))}})}null!=N.value&&void 0!==N.value||(N.value="sectors")}};return(e,t)=>{const a=resolveComponent("v-list-item-content"),r=resolveDirective("dragscroll");return openBlock(),createElementBlock("div",null,[o.value?(openBlock(),createElementBlock("div",_hoisted_1$d,[createVNode(_sfc_main$q)])):(openBlock(),createBlock(VCard,{key:1,class:"elevation-0 mb-6 mb-sm-16 px-6 py-4 pa-sm-6 rounded-lg",color:"#51FFB6"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"3"},{default:withCtx(()=>[...t[14]||(t[14]=[createBaseVNode("p",{class:"fs-36 font-weight-bold black--text lh-40 mb-0 d-none d-sm-flex"},[createTextVNode(" Simple. "),createBaseVNode("br"),createTextVNode(" Insightful. "),createBaseVNode("br"),createTextVNode(" Incremental. ")],-1),createBaseVNode("p",{class:"fs-32 font-weight-bold black--text lh-28 mb-0 d-sm-none"},[createTextVNode(" Simple. "),createBaseVNode("br"),createTextVNode(" Insightful. "),createBaseVNode("br"),createTextVNode(" Incremental. ")],-1)])]),_:1}),createVNode(VCol,{cols:"8",class:"pos-rlt mr-4 ml-auto d-none d-sm-flex"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$b,[createVNode(VCard,{width:"170px",class:"pb-4 mr-3 stk-land-crds rounded-xl"},{default:withCtx(()=>[...t[15]||(t[15]=[createBaseVNode("img",{src:_imports_0$4,class:"px-2",alt:"main-card-3",width:"100%"},null,-1),createBaseVNode("p",{class:"fs-16 font-weight-bold lh-16 px-4 mb-0"},[createTextVNode(" Discover IPO "),createBaseVNode("br"),createTextVNode(" early winners. ")],-1)])]),_:1}),createVNode(VCard,{width:"170px",class:"pb-4 mr-3 stk-land-crds rounded-xl"},{default:withCtx(()=>[...t[16]||(t[16]=[createBaseVNode("img",{src:_imports_1$2,class:"px-2",alt:"main-card-2",width:"100%"},null,-1),createBaseVNode("p",{class:"fs-16 font-weight-bold lh-16 px-4 mb-0"},[createTextVNode(" Invest safely "),createBaseVNode("br"),createTextVNode(" in bonds. ")],-1)])]),_:1}),createVNode(VCard,{width:"170px",class:"pb-4 mr-3 stk-land-crds rounded-xl"},{default:withCtx(()=>[...t[17]||(t[17]=[createBaseVNode("img",{src:_imports_2$2,class:"px-2",alt:"main-card-1",width:"100%"},null,-1),createBaseVNode("p",{class:"fs-16 font-weight-bold lh-16 px-4 mb-0"},[createTextVNode(" Buy stocks "),createBaseVNode("br"),createTextVNode(" with a click. ")],-1)])]),_:1})])]),_:1})]),_:1})]),_:1})),createVNode(VToolbar,{class:"tool-sty elevation-0 crd-trn",density:"compact"},{default:withCtx(()=>[t[20]||(t[20]=createBaseVNode("img",{width:"32px",src:_imports_3$1,alt:"ind",class:"mr-1 pa-1"},null,-1)),t[21]||(t[21]=createBaseVNode("p",{class:"title font-weight-bold mb-0 mr-3"},"Top indices",-1)),createVNode(VSpacer),createVNode(VBtn,{onClick:t[0]||(t[0]=e=>X("indices",-600)),class:"mr-2",variant:"outlined",icon:"",size:"small"},{default:withCtx(()=>[createVNode(VIcon,{size:"24"},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode("mdi-chevron-left",-1)])]),_:1})]),_:1}),createVNode(VBtn,{onClick:t[1]||(t[1]=e=>J("indices",600)),class:"mr-1",icon:"",size:"small",variant:"outlined"},{default:withCtx(()=>[createVNode(VIcon,{size:"24"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1})]),_:1}),withDirectives((openBlock(),createBlock(VCard,{id:"indices",class:"crd-trn d-inline-flex overflow-x-auto elevation-0 no-scroll mb-2",width:"100%"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(a,r)=>(openBlock(),createBlock(VCard,{key:r,onClick:e=>de("Details",a.token,a.exch,a.tsym),class:normalizeClass(["px-3 py-2 crd-trn pos-rlt table-row",r!=c.value.length-1?"mr-4":""]),"min-width":"160px",style:{border:"1px solid #EBEEF0 !important"}},{default:withCtx(()=>[o.value?(openBlock(),createElementBlock("div",{key:0,onClick:t[2]||(t[2]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{bottom:"32px",right:"4px"}},[createVNode(VBtn,{disabled:!a.too,onClick:t=>e.$router.push({name:"stocks advance decline",params:{abc:a.too}}),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode("mdi-format-line-weight",-1)])]),_:1})]),_:1},8,["disabled","onClick"])])):createCommentVNode("",!0),o.value?(openBlock(),createElementBlock("div",{key:1,onClick:t[3]||(t[3]=withModifiers(()=>{},["stop"])),class:"pos-abs table-hov",style:{bottom:"8px",right:"4px"}},[createVNode(VBtn,{onClick:e=>de("option",a.token,a.exch,a.tsym),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("mdi-link-variant",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:e=>de("chart",a.token,a.exch,a.tsym),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"])])):createCommentVNode("",!0),createBaseVNode("p",{class:"subtitle-2 font-weight-bold mb-2 ws-p",textContent:toDisplayString(a.tsym?a.tsym:"")},null,8,_hoisted_3$9),createVNode(VCard,{class:"pt-02 mb-3 elevation-0 rounded-pill",width:"30%",color:"maintext"}),createBaseVNode("p",_hoisted_4$8,[t[25]||(t[25]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdpd${a.token}ltp`},toDisplayString(a.ltp?Number(a.ltp).toFixed(2):"0.00"),9,_hoisted_5$8)]),createBaseVNode("p",{class:normalizeClass(["fs-12 font-weight-medium mb-0",a.chp>0?"maingreen--text":a.chp<0?"mainred--text":"subtext--text"]),id:`ssdpd${a.token}chpclr`},[createBaseVNode("span",{id:`ssdpd${a.token}ch`},toDisplayString(a.ch?Number(a.ch).toFixed(2):"0.00"),9,_hoisted_7$8),createBaseVNode("span",{id:`ssdpd${a.token}chp`}," ("+toDisplayString(a.chp?Number(a.chp).toFixed(2):"0.00")+"%)",9,_hoisted_8$8)],10,_hoisted_6$8)]),_:2},1032,["onClick","class"]))),128))]),_:1})),[[r,void 0,void 0,{x:!0}]]),createVNode(VBtn,{to:"/stocks/allindices",text:"",variant:"flat",class:"text-none px-0 primary--text mb-6"},{default:withCtx(()=>[...t[26]||(t[26]=[createTextVNode("See all indices",-1)])]),_:1}),createVNode(VRow,{"no-gutters":"",class:"mb-4"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",sm:"6"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(S,(e,t,a)=>(openBlock(),createElementBlock(Fragment,null,[a<2?(openBlock(),createBlock(VCol,{onClick:e=>N.value=0===a?"sectors":"thematic",cols:"6",key:a,class:"text-center cursor-p"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$8,[createBaseVNode("img",{width:"28px",src:k[a],alt:C[a],class:"mr-1"},null,8,_hoisted_10$8),createBaseVNode("p",_hoisted_11$8,toDisplayString(t),1)]),createVNode(VCard,{class:"elevation-0 mx-auto",color:N.value===(0===a?"sectors":"thematic")?"primary":"transparent",height:"2px",style:{"max-width":"120px"}},null,8,["color"])]),_:2},1032,["onClick"])):createCommentVNode("",!0)],64))),256))]),_:1}),createVNode(VDivider,{class:"mb-2"}),"sectors"===N.value?(openBlock(),createElementBlock("div",_hoisted_12$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.Sectors.slice(0,6),(e,a)=>(openBlock(),createBlock(VCard,{key:a,onClick:t=>e.data&&e.data.token&&S.wsdata[e.data.token]?de("Details",e.data.token,"NSE",S.wsdata[e.data.token].tsym):null,width:"100%",class:normalizeClass(["elevation-0 pa-3 rounded-lg",a<5?"mb-2":""]),"bg-color":"secbg"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"5",sm:"4",class:"pr-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_13$8,[createTextVNode(toDisplayString(e.title)+" ",1),createBaseVNode("span",_hoisted_14$7,"("+toDisplayString(e.data&&e.data.sum?e.data.sum:"..")+")",1)]),createBaseVNode("p",_hoisted_15$5,[S.wsdata&&e.data&&e.data.token&&S.wsdata[e.data.token]?(openBlock(),createElementBlock("span",_hoisted_16$5,[createBaseVNode("span",{id:`ssdad${e.data.token}ltp`},"₹"+toDisplayString(S.wsdata&&e.data&&e.data.token&&S.wsdata[e.data.token]&&S.wsdata[e.data.token].ltp?`${S.wsdata[e.data.token].ltp}`:""),9,_hoisted_17$5),t[27]||(t[27]=createTextVNode("  ",-1)),createBaseVNode("span",{class:normalizeClass(["fs-12",S.wsdata[e.data.token]?S.wsdata[e.data.token].chp>0?"maingreen--text":S.wsdata[e.data.token].chp<0?"mainred--text":"subtext--text":"subtext--text"]),id:`ssdad${e.data.token}chpclr`},[createBaseVNode("span",{id:`ssdad${e.data.token}ch`},toDisplayString(S.wsdata[e.data.token]?`${S.wsdata[e.data.token].ch}`:"0.00"),9,_hoisted_19$5),createBaseVNode("span",{id:`ssdad${e.data.token}chp`}," ("+toDisplayString(S.wsdata[e.data.token]&&S.wsdata[e.data.token].chp?`${Number(S.wsdata[e.data.token].chp).toFixed(2)}`:"0.00")+"%)",9,_hoisted_20$5)],10,_hoisted_18$5)])):(openBlock(),createElementBlock("span",_hoisted_21$5,[...t[28]||(t[28]=[createTextVNode("0.00 ",-1),createBaseVNode("span",{class:"fs-9"}," 0.00 (0.00%)",-1)])]))])]),_:2},1024),e.data?(openBlock(),createBlock(VCol,{key:0,cols:"7",sm:"8"},{default:withCtx(()=>[createVNode(VCard,{color:"transparent",width:"100%",class:"elevation-0 d-inline-flex",style:{height:"8px"}},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adp||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"maingreen",style:{width:"100%"}})]),_:1},8,["style"]),e.data.Negative>0||e.data.Neutral>0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adn||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",style:{width:"100%"}})]),_:1},8,["style"])):createCommentVNode("",!0),createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adm||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"mainred",style:{width:"100%"}})]),_:1},8,["style"])]),_:2},1024),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pt-1"},{default:withCtx(()=>[e.data.Positive>0?(openBlock(),createElementBlock("p",_hoisted_22$5,[createVNode(VIcon,{color:"maingreen",size:"18"},{default:withCtx(()=>[...t[29]||(t[29]=[createTextVNode("mdi-arrow-top-right",-1)])]),_:1}),createTextVNode(" "+toDisplayString(e.data.Positive),1)])):createCommentVNode("",!0)]),_:2},1024),createVNode(VCol,{cols:"6",class:"pt-1"},{default:withCtx(()=>[e.data.Negative>0?(openBlock(),createElementBlock("p",_hoisted_23$5,[createTextVNode(toDisplayString(e.data.Negative)+" ",1),createVNode(VIcon,{color:"mainred",size:"18"},{default:withCtx(()=>[...t[30]||(t[30]=[createTextVNode("mdi-arrow-bottom-right",-1)])]),_:1})])):createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(openBlock(),createBlock(VCol,{key:1,cols:"8"},{default:withCtx(()=>[createVNode(VSkeletonLoader,{height:"8px",width:"100%",type:"card"})]),_:1}))]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))])):"thematic"===N.value?(openBlock(),createElementBlock("div",_hoisted_24$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(S.Thematic.slice(0,6),(e,a)=>(openBlock(),createBlock(VCard,{key:a,onClick:t=>e.data&&e.data.token&&S.wsdata[e.data.token]?de("Details",e.data.token,"NSE",S.wsdata[e.data.token].tsym):null,width:"100%",class:normalizeClass(["elevation-0 pa-3 rounded-lg",a<5?"mb-2":""]),"bg-color":"secbg"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"5",sm:"4",class:"pr-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_25$4,[createTextVNode(toDisplayString(e.title)+" ",1),createBaseVNode("span",_hoisted_26$4,"("+toDisplayString(e.data&&e.data.sum?e.data.sum:"..")+")",1)]),createBaseVNode("p",_hoisted_27$4,[S.wsdata&&e.data&&e.data.token&&S.wsdata[e.data.token]?(openBlock(),createElementBlock("span",_hoisted_28$4,[createBaseVNode("span",{id:`ssdad${e.data.token}ltp`},"₹"+toDisplayString(S.wsdata[e.data.token].ltp||"0.00"),9,_hoisted_29$4),t[31]||(t[31]=createTextVNode("  ",-1)),createBaseVNode("span",{class:normalizeClass(["fs-12",ie(e.data.token)]),id:`ssdad${e.data.token}chpclr`},[createBaseVNode("span",{id:`ssdad${e.data.token}ch`},toDisplayString(S.wsdata[e.data.token].ch||"0.00"),9,_hoisted_31$4),createBaseVNode("span",{id:`ssdad${e.data.token}chp`}," ("+toDisplayString(S.wsdata[e.data.token].chp?`${Number(S.wsdata[e.data.token].chp).toFixed(2)}`:"0.00")+"%)",9,_hoisted_32$4)],10,_hoisted_30$4)])):(openBlock(),createElementBlock("span",_hoisted_33$4,[...t[32]||(t[32]=[createTextVNode("₹0.00 ",-1),createBaseVNode("span",{class:"fs-9"}," 0.00 (0.00%)",-1)])]))])]),_:2},1024),e.data?(openBlock(),createBlock(VCol,{key:0,cols:"7",sm:"8"},{default:withCtx(()=>[createVNode(VCard,{color:"transparent",width:"100%",class:"elevation-0 d-inline-flex",style:{height:"8px"}},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adp||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"maingreen",style:{width:"100%"}})]),_:1},8,["style"]),e.data.Negative>0||e.data.Neutral>0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adn||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",style:{width:"100%"}})]),_:1},8,["style"])):createCommentVNode("",!0),createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:normalizeStyle({width:e.data.adm||"0%",height:"8px",display:"inline-flex"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"mainred",style:{width:"100%"}})]),_:1},8,["style"])]),_:2},1024),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pt-1"},{default:withCtx(()=>[e.data.Positive>0?(openBlock(),createElementBlock("p",_hoisted_34$4,[createVNode(VIcon,{color:"maingreen",size:"18"},{default:withCtx(()=>[...t[33]||(t[33]=[createTextVNode("mdi-arrow-top-right",-1)])]),_:1}),createTextVNode(" "+toDisplayString(e.data.Positive),1)])):createCommentVNode("",!0)]),_:2},1024),createVNode(VCol,{cols:"6",class:"pt-1"},{default:withCtx(()=>[e.data.Negative>0?(openBlock(),createElementBlock("p",_hoisted_35$4,[createTextVNode(toDisplayString(e.data.Negative)+" ",1),createVNode(VIcon,{color:"mainred",size:"18"},{default:withCtx(()=>[...t[34]||(t[34]=[createTextVNode("mdi-arrow-bottom-right",-1)])]),_:1})])):createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(openBlock(),createBlock(VCol,{key:1,cols:"8"},{default:withCtx(()=>[createVNode(VSkeletonLoader,{height:"8px",width:"100%",type:"card"})]),_:1}))]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_36$4,[S&&(S.Sectors||S.Thematic)?(openBlock(),createBlock(VBtn,{key:0,onClick:t[4]||(t[4]=t=>e.$router.push({name:"stocks advance decline",params:{abc:"sectors"===N.value?S.Sectors[0].key:S.Thematic[0].key,main:"sectors"===N.value?"Sectors":"Thematic"}})),text:"",variant:"flat",size:"small",block:"",class:"text-none primary--text px-2"},{default:withCtx(()=>[...t[35]||(t[35]=[createTextVNode("See all",-1)])]),_:1})):createCommentVNode("",!0)])]),_:1}),createVNode(VCol,{cols:"12",sm:"6",class:"pt-md-0"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0",density:"compact",color:"transparent"},{default:withCtx(()=>[t[36]||(t[36]=createBaseVNode("p",{class:"title font-weight-bold mb-0"},"Heatmap",-1)),createVNode(VSpacer),createVNode(VSelect,{"onUpdate:modelValue":[t[5]||(t[5]=e=>oe()),t[6]||(t[6]=e=>f.value=e)],readonly:l.value,style:{"max-width":"50%"},modelValue:f.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"flat","bg-color":"secbg",items:g.value,label:"Condition"},null,8,["readonly","modelValue","items"])]),_:1}),createVNode(VCard,{height:"500px",width:"100%",id:"avddecchart",class:"crd-trn rounded-lg elevation-0 px-6 pt-1 pb-16 pos-rlt"},{default:withCtx(()=>[_.value?(openBlock(),createElementBlock("div",_hoisted_37$4,[createBaseVNode("div",_hoisted_38$4,[t[38]||(t[38]=createBaseVNode("p",{class:"mb-2 title font-weight-bold"},"Service temporarily unavailable",-1)),t[39]||(t[39]=createBaseVNode("p",{class:"mb-4 subtext--text"},"Unable to load heatmap data. We will retry s rtly.",-1)),createVNode(VBtn,{size:"small",color:"primary",class:"text-none",onClick:t[7]||(t[7]=e=>oe())},{default:withCtx(()=>[...t[37]||(t[37]=[createTextVNode("Retry now",-1)])]),_:1})])])):createCommentVNode("",!0)]),_:1})]),_:1})]),_:1}),createVNode(VToolbar,{class:"tool-sty elevation-0 my-3",ref:"ttt",id:"ttt",density:"compact",color:"transparent"},{default:withCtx(()=>[t[42]||(t[42]=createBaseVNode("p",{class:"title font-weight-bold mb-0 mr-3"},"Today's trade action",-1)),createVNode(VSpacer),createVNode(VBtn,{onClick:t[8]||(t[8]=e=>X("market",-600)),class:"mx-2",icon:"",size:"small",variant:"outlined"},{default:withCtx(()=>[createVNode(VIcon,{size:"24"},{default:withCtx(()=>[...t[40]||(t[40]=[createTextVNode("mdi-chevron-left",-1)])]),_:1})]),_:1}),createVNode(VBtn,{onClick:t[9]||(t[9]=e=>J("market",600)),class:"mr-1",icon:"",size:"small",variant:"outlined"},{default:withCtx(()=>[createVNode(VIcon,{size:"24"},{default:withCtx(()=>[...t[41]||(t[41]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1})]),_:1},512),withDirectives((openBlock(),createElementBlock("div",_hoisted_39$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value?[[],[],[],[]]:w.value,(a,r)=>(openBlock(),createElementBlock("div",{key:r,class:normalizeClass(3==r?"mr-1":"mr-4")},[createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},class:"rounded-lg elevation-0",color:"cardbg"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 mb-0 mt-1",density:"compact",color:"transparent"},{default:withCtx(()=>[createBaseVNode("img",{width:"24px",src:x[r],alt:V[r],class:"mr-2"},null,8,_hoisted_40$4),createBaseVNode("p",_hoisted_41$4,toDisplayString(3==r?"Most active":0==r?"Top gainer":1==r?"Top losers":2==r?"Volume breakout":""),1),createVNode(VSpacer),createVNode(VBtn,{disabled:i.value,onClick:t=>e.$router.push({name:"stocks market",params:{abc:r}}),text:"",class:"text-none px-0 primary--text",size:"small"},{default:withCtx(()=>[...t[43]||(t[43]=[createTextVNode("See all",-1)])]),_:1},8,["disabled","onClick"])]),_:2},1024),createVNode(VDataTable,{"must-sort":"","sort-by":[2==r?"vol":"chp"],"sort-desc":1!=r?[!0]:[!1],mobile:"","hide-default-footer":"","fixed-header":"",loading:i.value,class:"rounded-lg overflow-y-auto",style:{"min-width":"330px"},headers:F.value,search:s.value,items:a,"items-per-page":5},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_42$4,[createBaseVNode("span",{onClick:t=>K(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust",textContent:toDisplayString(e.tsym)},null,8,_hoisted_43$4),t[44]||(t[44]=createBaseVNode("br",null,null,-1)),2==r?(openBlock(),createElementBlock("span",{key:0,class:"fs-12 subtext-text",id:`ssdta${e.token}vol`,textContent:toDisplayString(`Vol. : ${e.v}`)},null,8,_hoisted_44$4)):createCommentVNode("",!0)])]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_45$4,[o.value?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_46$3,toDisplayString(Q(r,e,"TA")),1)),createBaseVNode("span",_hoisted_47$2,[t[45]||(t[45]=createTextVNode("₹",-1)),createBaseVNode("span",{id:`ssdta${e.token}ltp`,textContent:toDisplayString(e.lp?Number(e.lp).toFixed(2):"0.00")},null,8,_hoisted_48$2)]),t[46]||(t[46]=createTextVNode()),t[47]||(t[47]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`ssdta${e.token}chpclr`},[createBaseVNode("span",{id:`ssdta${e.token}ch`,textContent:toDisplayString(e.ch?e.ch:"0.00")},null,8,_hoisted_50$2),createBaseVNode("span",{id:`ssdta${e.token}chp`,textContent:toDisplayString(` (${e.chp?e.chp:e.pc}%)`)},null,8,_hoisted_51$2)],10,_hoisted_49$2)])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-0"},{default:withCtx(()=>[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"elevation-0 text-center rounded-xl",height:"240px",text:"",color:"transparent",onClick:ee},{default:withCtx(()=>[createBaseVNode("div",_hoisted_52$2,[createBaseVNode("img",{width:"60px",src:x[r],alt:V[r],class:"mb-2 opc-05"},null,8,_hoisted_53$2),createBaseVNode("h3",_hoisted_54$1,toDisplayString(3==r?"Most active":0==r?"Top gainer":1==r?"Top losers":2==r?"Volume breakout":""),1),t[48]||(t[48]=createBaseVNode("p",{class:"subtext--text mb-0 text-none"},"Click to load the Trade action",-1))])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["sort-by","sort-desc","loading","headers","search","items"])]),_:2},1024)],2))),128))])),[[r,void 0,void 0,{x:!0}]]),createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mb-8",color:"cardbg"},{default:withCtx(()=>[createVNode(VToolbar,{ref:"smcp",id:"smcp",class:"elevation-0 my-4",density:"compact",color:"transparent"},{default:withCtx(()=>[t[49]||(t[49]=createBaseVNode("img",{width:"40px",src:_imports_0$3,alt:"srcm",class:"mr-2"},null,-1)),t[50]||(t[50]=createBaseVNode("p",{class:"title font-weight-bold mb-0"},"Stock monitor",-1)),createVNode(VSpacer),createVNode(VSelect,{modelValue:u.value,"onUpdate:modelValue":[t[10]||(t[10]=e=>u.value=e),t[11]||(t[11]=e=>te("yes"))],items:d.value,"item-title":"text","item-value":"value",label:"Condition",variant:"flat",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",readonly:l.value,class:"rounded-pill mr-3 d-none d-sm-flex",style:{"max-width":"180px","background-color":"#F1F3F8"}},null,8,["modelValue","items","readonly"]),createVNode(VSelect,{modelValue:h.value,"onUpdate:modelValue":[t[12]||(t[12]=e=>h.value=e),t[13]||(t[13]=e=>te("yes"))],items:p.value,"item-title":"text","item-value":"value",label:"Condition",variant:"flat",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",readonly:l.value,class:"rounded-pill d-none d-sm-flex",style:{"max-width":"140px","background-color":"#F1F3F8"}},null,8,["modelValue","items","readonly"])]),_:1},512),createVNode(VDataTable,{"must-sort":"","sort-by":["chp"],mobile:"","sort-desc":[!0],"hide-default-footer":"","fixed-header":"",loading:l.value,class:"rounded-lg overflow-y-auto",headers:z.value,search:s.value,items:m.value,"items-per-page":10},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("span",{onClick:t=>K(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p",textContent:toDisplayString(e.tsym)},null,8,_hoisted_55$1)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_56$1,[o.value?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_57$1,toDisplayString(Q("",e,"SCR")),1)),createBaseVNode("span",_hoisted_58$1,[t[51]||(t[51]=createTextVNode("₹",-1)),createBaseVNode("span",{id:`ssdsc${e.token}ltp`,textContent:toDisplayString(e.lp?Number(e.lp).toFixed(2):"0.00")},null,8,_hoisted_59$1)]),t[52]||(t[52]=createTextVNode()),t[53]||(t[53]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`ssdsc${e.token}chpclr`},[createBaseVNode("span",{id:`ssdsc${e.token}ch`,textContent:toDisplayString(e.ch?e.ch:"0.00")},null,8,_hoisted_61$1),createBaseVNode("span",{id:`ssdsc${e.token}chp`,textContent:toDisplayString(` (${e.chp?e.chp:e.pc}%)`)},null,8,_hoisted_62$1)],10,_hoisted_60$1)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_63$1,toDisplayString(e.v?e.v:"0.00"),1)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}op`},toDisplayString(e.ap?e.ap:"0.00"),9,_hoisted_64$1)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}cp`},toDisplayString(e.c?e.c:"0.00"),9,_hoisted_65$1)]),"item.high":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}high`},toDisplayString(e.h?e.h:"0.00"),9,_hoisted_66$1)]),"item.low":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}low`},toDisplayString(e.l?e.l:"0.00"),9,_hoisted_67$1)]),"no-data":withCtx(()=>[v.value?(openBlock(),createBlock(VCol,{key:0,cols:"12",class:"text-center pa-0"},{default:withCtx(()=>[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"elevation-0 text-center rounded-xl",height:"300px",text:"",color:"transparent",onClick:te},{default:withCtx(()=>[...t[54]||(t[54]=[createBaseVNode("div",{class:"mx-auto py-16"},[createBaseVNode("img",{width:"60px",src:_imports_5$1,class:"mb-3"}),createBaseVNode("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"Stock monitor"),createBaseVNode("p",{class:"subtext--text mb-0 text-none"},"Click to load the Market monitor data")],-1)])]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(VCol,{key:1,cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[55]||(t[55]=[createBaseVNode("div",null,[createBaseVNode("img",{width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1}))]),_:2},1032,["loading","headers","search","items"]),createVNode(VDivider),m.value&&m.value.length>0?(openBlock(),createBlock(VBtn,{key:0,disabled:l.value,to:"/stocks/screener",block:"",text:"",class:"text-none primary--text",height:"48px"},{default:withCtx(()=>[...t[56]||(t[56]=[createTextVNode("See all",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)]),_:1}),createVNode(VRow,{ref:"eve",id:"eve","no-gutters":"",class:"mb-6"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"6",class:"py-md-0"},{default:withCtx(()=>[createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},class:"crd-trn elevation-0 overflow-hidden rounded-lg",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_68$1,[createBaseVNode("p",_hoisted_69$1,"Corporate Action ("+toDisplayString(I.value&&I.value.length>0?I.value.length:"..")+")",1),$.value?(openBlock(),createElementBlock("div",_hoisted_70$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn elevation-0 mx-auto py-16"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):I.value&&I.value.length>0?(openBlock(),createElementBlock("div",_hoisted_71$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(I.value.slice(0,5),(e,o,r)=>(openBlock(),createBlock(VCard,{variant:"outlined",key:r,class:"mb-3 rounded-lg",color:"secbg"},{default:withCtx(()=>[createVNode(VListItem,null,{default:withCtx(()=>[createVNode(a,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-14 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.symbol),1)]),_:2},1024),createVNode(VListItemSubtitle,{class:"maintext--text mb-0 font-weight-medium fs-13 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.registrar)+" ",1),createBaseVNode("span",_hoisted_72$1,"("+toDisplayString(e.issueType)+")",1)]),_:2},1024)]),_:2},1024),createVNode(a,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-14 text-capitalize"},{default:withCtx(()=>[...t[57]||(t[57]=[createTextVNode(" Listing date ",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"maintext--text mb-0 font-weight-medium fs-13 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.biddingStartDate?e.biddingStartDate.slice(0,5):"")+" ",1),t[58]||(t[58]=createBaseVNode("span",{class:"fs-10 text-lowercase"},"to",-1)),createTextVNode(" "+toDisplayString(e.biddingEndDate),1)]),_:2},1024)]),_:2},1024),createVNode(a,null,{default:withCtx(()=>[createVNode(VListItemTitle,{class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-14 text-capitalize"},{default:withCtx(()=>[...t[59]||(t[59]=[createTextVNode(" Price offered ",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"maintext--text mb-0 font-weight-medium fs-13 text-capitalize"},{default:withCtx(()=>[createTextVNode("₹"+toDisplayString(e.minPrice?Number(e.minPrice).toFixed(2):"0.00"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):null==I.value?(openBlock(),createElementBlock("div",_hoisted_73$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"elevation-0 text-center rounded-xl",height:"200px",text:"",color:"primary",onClick:ce},{default:withCtx(()=>[...t[60]||(t[60]=[createBaseVNode("div",{class:"mx-auto py-16"},[createBaseVNode("img",{width:"60px",src:_imports_7,class:"mb-3"}),createBaseVNode("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"Corporate Actions "),createBaseVNode("p",{class:"subtext--text mb-0 text-none"},"Click to load the corporate action data ")],-1)])]),_:1})]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_74$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn elevation-0 mx-auto py-16 text-center"},{default:withCtx(()=>[...t[61]||(t[61]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1})]))]),I.value&&I.value.length>0&&o.value?(openBlock(),createBlock(VBtn,{key:0,href:`https://profile.zebuetrade.com/corporateaction?uid=${o.value}&token=${n.value}`,target:"_blank",block:"",text:"",class:"text-none primary--text rounded-t-0 rounded-b-lg",height:"48px"},{default:withCtx(()=>[...t[62]||(t[62]=[createTextVNode("See all",-1)])]),_:1},8,["href"])):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VCol,{cols:"12",md:"6",class:"py-md-0"},{default:withCtx(()=>[createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},class:"crd-trn elevation-0 overflow-hidden rounded-lg",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_75$1,[createBaseVNode("p",_hoisted_76$1,"News ("+toDisplayString(B.value&&B.value.length>0?B.value.length:"..")+")",1),E.value?(openBlock(),createElementBlock("div",_hoisted_77$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn elevation-0 mx-auto py-16"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):B.value&&B.value.length>0?(openBlock(),createElementBlock("div",_hoisted_78$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(B.value.slice(0,5),(e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"mb-0 cursor-p",onClick:t=>(e=>{e&&window.open(e.link,"_blank")})(e)},[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",sm:"3",xl:"2"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-lg elevation-0"},{default:withCtx(()=>[createBaseVNode("img",{src:e.image,width:"100%",height:"60px",class:"rounded-lg",alt:e.image},null,8,_hoisted_80$1)]),_:2},1024)]),_:2},1024),createVNode(VCol,{cols:"8",sm:"9",xl:"10",class:"pl-0 pl-sm-2 pt-2"},{default:withCtx(()=>[createVNode(VListItem,{"two-line":"",class:"px-0 pr-sm-3"},{default:withCtx(()=>[createVNode(a,{class:"py-0"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_81$1,toDisplayString(e.title),1),createVNode(VListItemSubtitle,{class:"fs-12 font-weight-regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isdate),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,_hoisted_79$1))),128))])):null==B.value?(openBlock(),createElementBlock("div",_hoisted_82$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VBtn,{block:"",class:"elevation-0 text-center rounded-xl",height:"200px",text:"",color:"primary",onClick:se},{default:withCtx(()=>[...t[63]||(t[63]=[createBaseVNode("div",{class:"mx-auto py-16"},[createBaseVNode("img",{width:"60px",src:_imports_9,class:"mb-3"}),createBaseVNode("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"News"),createBaseVNode("p",{class:"subtext--text mb-0 text-none"},"Click to load the latest news")],-1)])]),_:1})]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_83$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn elevation-0 mx-auto py-16 text-center"},{default:withCtx(()=>[...t[64]||(t[64]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no news data here yet!")],-1)])]),_:1})]),_:1})]))]),B.value&&B.value.length>0?(openBlock(),createBlock(VBtn,{key:0,href:"https://zebuetrade.com/news",target:"_blank",block:"",text:"",class:"text-none primary--text rounded-t-0 rounded-b-lg",height:"48px"},{default:withCtx(()=>[...t[65]||(t[65]=[createTextVNode("See all",-1)])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})]),_:1},512)])}}},_imports_0$1="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='megaphone%201'%20clip-path='url(%23clip0_6245_19510)'%3e%3cg%20id='Group'%3e%3cg%20id='Group_2'%3e%3cpath%20id='Vector'%20d='M5.97609%209.625L6.91672%2011.9595C7.15559%2012.5563%206.86641%2013.2339%206.27053%2013.475C5.67291%2013.7148%204.99434%2013.4256%204.75372%2012.8284L2.91797%208.3125'%20stroke='%23506D84'%20stroke-miterlimit='10'/%3e%3cpath%20id='Vector_2'%20d='M6.125%203.0625H3.0625C1.61263%203.0625%200.4375%204.23763%200.4375%205.6875C0.4375%207.13737%201.61263%208.3125%203.0625%208.3125H6.125C8.3125%208.3125%2010.9375%2010.5%2010.9375%2010.5V0.875C10.9375%200.875%208.3125%203.0625%206.125%203.0625Z'%20stroke='%23506D84'%20stroke-miterlimit='10'%20stroke-linecap='square'/%3e%3cpath%20id='Vector_3'%20d='M12.25%204.375C12.9749%204.375%2013.5625%204.96256%2013.5625%205.6875C13.5625%206.41244%2012.9749%207%2012.25%207'%20stroke='%23506D84'%20stroke-miterlimit='10'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_6245_19510'%3e%3crect%20width='14'%20height='14'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",_imports_1="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='stack%201'%3e%3cg%20id='Group'%3e%3cg%20id='Group_2'%3e%3cpath%20id='Vector'%20d='M0.5%203.5L6%201.5L11.5%203.5L6%205.5L0.5%203.5Z'%20stroke='%23506D84'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_2'%20d='M11.5%206.5L6%208.5L0.5%206.5'%20stroke='%23506D84'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Vector_3'%20d='M11.5%209.5L6%2011.5L0.5%209.5'%20stroke='%23506D84'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_imports_2="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2021H10C6.22876%2021%204.34315%2021%203.17157%2019.8284C2%2018.6569%202%2016.7712%202%2013V11C2%207.22876%202%205.34315%203.17157%204.17157C4.34315%203%206.22876%203%2010%203H14C17.7712%203%2019.6569%203%2020.8284%204.17157C22%205.34315%2022%207.22876%2022%2011'%20stroke='%23506D84'%20stroke-width='0.5'%20stroke-linecap='round'/%3e%3cpath%20d='M13%2017C13%2015.1144%2013%2014.1716%2013.5858%2013.5858C14.1716%2013%2015.1144%2013%2017%2013H18C19.8856%2013%2020.8284%2013%2021.4142%2013.5858C22%2014.1716%2022%2015.1144%2022%2017C22%2018.8856%2022%2019.8284%2021.4142%2020.4142C20.8284%2021%2019.8856%2021%2018%2021H17C15.1144%2021%2014.1716%2021%2013.5858%2020.4142C13%2019.8284%2013%2018.8856%2013%2017Z'%20stroke='%23506D84'%20stroke-width='0.5'/%3e%3cpath%20d='M11.5%2011.5V8.5M11.5%2011.5H8.5M11.5%2011.5L7.5%207.5'%20stroke='%23506D84'%20stroke-width='0.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";var e,t,i,o,r,n,a,s,l,c,h,d,g,u,C,S,p,m,_,y,T,b,P,L,f,w,A,I,v,R,O,D,V,k,E,W,F,M,B,N,U,x,H,j,G,z,$,J,K,q,Z,Q,Y,X,ee,te,ie,oe,re,ne,ae,se,le,ce,he,de,ge,ue,Ce,Se,pe,me,_e,ye,Te,be,Pe,Le,fe,we,Ae,Ie,ve,e2;function Re(e,t){const a={...e};for(const o in t)"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?void 0!==t[o]&&(a[o]=t[o]):a[o]=Re(e[o],t[o]);return a}e2=e||(e={}),e2.UnknownAction="UnknownAction",e2.Spinner="Spinner",e2.Loading="Loading",e2.AlertAdd="Alert.Add",e2.AlertEdit="Alert.Edit",e2.AlertsClone="Alerts.Clone",e2.AlertsRemove="Alerts.Remove",e2.AlertsRemoveAll="Alerts.RemoveAll",e2.AlertsRemoveFiltered="Alerts.RemoveFiltered",e2.AlertsRemoveAllInactive="Alerts.RemoveAllInactive",e2.AlertsRemoveAllWatchlistInactive="Alerts.RemoveAllWatchlistInactive",e2.AlertsRemoveFires="Alerts.RemoveFires",e2.AlertsRestart="Alerts.Restart",e2.AlertsRestartAllInactive="Alerts.RestartAllInactive",e2.AlertsRestartFilteredInactive="Alerts.RestartFilteredInactive",e2.AlertsStop="Alerts.Stop",e2.AlertsStopAll="Alerts.StopAll",e2.AlertsStopFilteredActive="Alerts.StopFilteredActive",e2.AlertsExportFiresToCSV="Alerts.ExportFiresToCSV",e2.AlertsLogClear="AlertsLog.Clear",e2.ChartAddIndicatorToAllCharts="Chart.AddIndicatorToAllCharts",e2.ChartAddSymbolToWatchList="Chart.AddSymbolToWatchList",e2.ChartAlertLabelToggleExtendLines="Chart.AlertLabel.ToggleExtendLines",e2.ChartApplyIndicatorsToAllCharts="Chart.ApplyIndicatorsToAllCharts",e2.ChartIndicatorApplyChildIndicator="Chart.Indicator.ApplyChildIndicator",e2.ChartIndicatorApplyFinancials="Chart.Indicator.ApplyFinancials",e2.ChartIndicatorAbout="Chart.Indicator.About",e2.ChartIndicatorPineLogs="Chart.Indicator.PineLogs",e2.ChartIndicatorPineSource="Chart.Indicator.PineSource",e2.ChartIndicatorAddFavorites="Chart.Indicator.AddFavorites",e2.ChartChangeTimeZone="Chart.ChangeTimeZone",e2.ChartClipboardCopyPrice="Chart.Clipboard.CopyPrice",e2.ChartClipboardCopyLineTools="Chart.Clipboard.CopyLineTools",e2.ChartClipboardCopySource="Chart.Clipboard.CopySource",e2.ChartClipboardPasteSource="Chart.Clipboard.PasteSource",e2.ChartCrosshairLockVerticalCursor="Chart.Crosshair.LockVerticalCursor",e2.ChartCrosshairPlusButtonDrawHorizontalLine="Chart.Crosshair.PlusButton.DrawHorizontalLine",e2.ChartCustomActionId="Chart.CustomActionId",e2.ChartDialogsShowChangeInterval="Chart.Dialogs.ShowChangeInterval",e2.ChartDialogsShowChangeSymbol="Chart.Dialogs.ShowChangeSymbol",e2.ChartDialogsShowCompareOrAddSymbol="Chart.Dialogs.ShowCompareOrAddSymbol",e2.ChartDialogsShowGeneralSettings="Chart.Dialogs.ShowGeneralSettings",e2.ChartDialogsShowGeneralSettingsLegendTab="Chart.Dialogs.ShowGeneralSettings.LegendTab",e2.ChartDialogsShowGeneralSettingsSymbolTab="Chart.Dialogs.ShowGeneralSettings.SymbolTab",e2.ChartDialogsShowGeneralScalesTab="Chart.Dialogs.ShowGeneralSettings.ScalesTab",e2.ChartDialogsShowGeneralSettingsEventsTab="Chart.Dialogs.ShowGeneralSettings.EventsTab",e2.ChartDialogsShowGeneralSettingsAlertsTab="Chart.Dialogs.ShowGeneralSettings.AlertsTab",e2.ChartDialogsShowGoToDate="Chart.Dialogs.ShowGoToDate",e2.ChartDialogsShowInsertIndicators="Chart.Dialogs.ShowInsertIndicators",e2.ChartDialogsShowInsertFinancials="Chart.Dialogs.ShowInsertFinancials",e2.ChartDialogsShowInsertSeasonals="Chart.Dialogs.ShowInsertSeasonals",e2.ChartDialogsShowInsertTechnicals="Chart.Dialogs.ShowInsertTechnicals",e2.ChartDialogsShowInsertForecast="Chart.Dialogs.ShowInsertForecast",e2.ChartDialogsShowInsertOptions="Chart.Dialogs.ShowInsertOptions",e2.ChartDetailsMetricsActionId="Chart.Dialogs.DetailsMetrics",e2.ChartDialogsShowInsertEconomyIndicators="Chart.Dialogs.ShowInsertEconomyIndicators",e2.ChartDialogsShowSymbolInfo="Chart.Dialogs.ShowSymbolInfo",e2.ChartDrawingToolbarToggleVisibility="Chart.DrawingToolbar.ToggleVisibility",e2.ChartExternalActionId="Chart.ExternalActionId",e2.ChartFavoriteDrawingToolsToolbarHide="Chart.FavoriteDrawingToolsToolbar.Hide",e2.ChartIndicatorShowSettingsDialog="Chart.Indicator.ShowSettingsDialog",e2.ChartLegendToggleLastDayChangeValuesVisibility="Chart.Legend.ToggleLastDayChangeValuesVisibility",e2.ChartLinkingGroupSync="Chart.LinkingGroupSync",e2.ChartLinkingGroupSyncChangeGroup="Chart.LinkingGroupSync.ChangeGroup",e2.ChartLegendToggleBarChangeValuesVisibility="Chart.Legend.ToggleBarChangeValuesVisibility",e2.ChartLegendTogglePriceSourceVisibility="Chart.Legend.TogglePriceSourceVisibility",e2.ChartLegendToggleIndicatorArgumentsVisibility="Chart.Legend.ToggleIndicatorArgumentsVisibility",e2.ChartLegendToggleIndicatorTitlesVisibility="Chart.Legend.ToggleIndicatorTitlesVisibility",e2.ChartLegendToggleIndicatorValuesVisibility="Chart.Legend.ToggleIndicatorValuesVisibility",e2.ChartLegendToggleOhlcValuesVisibility="Chart.Legend.ToggleOhlcValuesVisibility",e2.ChartLegendToggleOpenMarketStatusVisibility="Chart.Legend.ToggleOpenMarketStatusVisibility",e2.ChartLegendToggleSymbolVisibility="Chart.Legend.ToggleSymbolVisibility",e2.ChartLegendToggleVolumeVisibility="Chart.Legend.ToggleVolumeVisibility",e2.ChartLines="Chart.Lines",e2.ChartLinesToggleBidAskLinesVisibility="Chart.Lines.ToggleBidAskLinesVisibility",e2.ChartLinesToggleHighLowLinesVisibility="Chart.Lines.ToggleHighLowLinesVisibility",e2.ChartLinesToggleAverageLineVisibility="Chart.Lines.ToggleAverageLineVisibility",e2.ChartLinesTogglePrePostMarketPriceLineVisibility="Chart.Lines.TogglePrePostMarketPriceLineVisibility",e2.ChartLinesToggleSeriesPrevCloseLineVisibility="Chart.Lines.ToggleSeriesPrevCloseLineVisibility",e2.ChartLinesToggleSeriesPriceLineVisibility="Chart.Lines.ToggleSeriesPriceLineVisibility",e2.ChartLineToolBarsPatternToggleFlipped="Chart.LineTool.BarsPattern.ToggleFlipped",e2.ChartLineToolBarsPatternToggleMirrored="Chart.LineTool.BarsPattern.ToggleMirrored",e2.ChartLineToolRiskRewardReverse="Chart.LineTool.RiskReward.Reverse",e2.ChartLineToolClone="Chart.LineTool.Clone",e2.ChartLineToolCreateLimitOrderFromState="Chart.LineTool.CreateLimitOrderFromState",e2.ChartLineToolElliotChangeDegreeProperty="Chart.LineTool.Elliot.ChangeDegreeProperty",e2.ChartLineToolNoSync="Chart.LineTool.NoSync",e2.ChartLineToolPitchforkChangeTypeToInside="Chart.LineTool.Pitchfork.ChangeTypeToInside",e2.ChartLineToolPitchforkChangeTypeToModifiedSchiff="Chart.LineTool.Pitchfork.ChangeTypeToModifiedSchiff",e2.ChartLineToolPitchforkChangeTypeToOriginal="Chart.LineTool.Pitchfork.ChangeTypeToOriginal",e2.ChartLineToolPitchforkChangeTypeToSchiff="Chart.LineTool.Pitchfork.ChangeTypeToSchiff",e2.ChartLineToolSyncInLayout="Chart.LineTool.SyncInLayout",e2.ChartLineToolSyncGlobally="Chart.LineTool.SyncGlobally",e2.ChartLineToolTemplates="Chart.LineTool.Templates",e2.ChartLineToolTemplatesApply="Chart.LineTool.Templates.Apply",e2.ChartLineToolTemplatesApplyDefaults="Chart.LineTool.Templates.ApplyDefaults",e2.ChartLineToolTemplatesSaveAs="Chart.LineTool.Templates.SaveAs",e2.ChartLineToolToolbarChangeFontSizeProperty="Chart.LineTool.Toolbar.ChangeFontSizeProperty",e2.ChartLineToolToolbarChangeLineStyleToDashed="Chart.LineTool.Toolbar.ChangeLineStyleToDashed",e2.ChartLineToolToolbarChangeLineStyleToDotted="Chart.LineTool.Toolbar.ChangeLineStyleToDotted",e2.ChartLineToolToolbarChangeLineStyleToSolid="Chart.LineTool.Toolbar.ChangeLineStyleToSolid",e2.ChartMarksToggleVisibility="Chart.Marks.ToggleVisibility",e2.ChartMoveChartInLayout="Chart.MoveChartInLayout",e2.ChartMoveChartInLayoutBack="Chart.MoveChartInLayout.Back",e2.ChartMoveChartInLayoutForward="Chart.MoveChartInLayout.Forward",e2.ChartTpoResetAllMergesAndSplits="Chart.TPO.ResetAllMergesAndSplits",e2.ChartTpoSplitBlock="Chart.TPO.SplitBlock",e2.ChartTpoMergeBlock="Chart.TPO.MergeBlock",e2.ChartObjectTreeShow="Chart.ObjectTree.Show",e2.ChartDataWindowShow="Chart.DataWindow.Show",e2.ChartPaneControlsDeletePane="Chart.PaneControls.DeletePane",e2.ChartPaneControlsMaximizePane="Chart.PaneControls.MaximizePane",e2.ChartPaneControlsMinimizePane="Chart.PaneControls.MinimizePane",e2.ChartPaneControlsMovePaneDown="Chart.PaneControls.MovePaneDown",e2.ChartPaneControlsMovePaneUp="Chart.PaneControls.MovePaneUp",e2.ChartPaneControlsCollapsePane="Chart.PaneControls.CollapsePane",e2.ChartPaneControlsRestorePane="Chart.PaneControls.RestorePane",e2.ChartPriceScaleLabels="Chart.PriceScale.Labels",e2.ChartPriceScaleLabelsToggleBidAskLabelsVisibility="Chart.PriceScale.Labels.ToggleBidAskLabelsVisibility",e2.ChartPriceScaleLabelsToggleHighLowPriceLabelsVisibility="Chart.PriceScale.Labels.ToggleHighLowPriceLabelsVisibility",e2.ChartPriceScaleLabelsToggleAveragePriceLabelVisibility="Chart.PriceScale.Labels.ToggleAveragePriceLabelVisibility",e2.ChartPriceScaleLabelsToggleIndicatorsNameLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsNameLabelsVisibility",e2.ChartPriceScaleLabelsToggleIndicatorsValueLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsValueLabelsVisibility",e2.ChartPriceScaleLabelsTogglePrePostMarketLabelsVisibility="Chart.PriceScale.Labels.TogglePrePostMarketLabelsVisibility",e2.ChartPriceScaleLabelsToggleNoOverlappingLabelsVisibility="Chart.PriceScale.Labels.ToggleNoOverlappingLabelsVisibility",e2.ChartPriceScaleLabelsToggleSeriesLastValueVisibility="Chart.PriceScale.Labels.ToggleSeriesLastValueVisibility",e2.ChartPriceScaleLabelsToggleSymbolNameLabelsVisibility="Chart.PriceScale.Labels.ToggleSymbolNameLabelsVisibility",e2.ChartPriceScaleLabelsToggleSymbolPrevCloseValueVisibility="Chart.PriceScale.Labels.ToggleSymbolPrevCloseValueVisibility",e2.ChartPriceScaleMergeAllScales="Chart.PriceScale.MergeAllScales",e2.ChartPriceScaleMergeAllScalesToLeft="Chart.PriceScale.MergeAllScalesToLeft",e2.ChartPriceScaleMergeAllScalesToRight="Chart.PriceScale.MergeAllScalesToRight",e2.ChartPriceScaleMoveToLeft="Chart.PriceScale.MoveToLeft",e2.ChartPriceScaleMoveToRight="Chart.PriceScale.MoveToRight",e2.ChartPriceScaleReset="Chart.PriceScale.Reset",e2.ChartPriceScaleToggleAddOrderPlusButtonVisibility="Chart.PriceScale.ToggleAddOrderPlusButtonVisibility",e2.ChartPriceScaleToggleAutoScale="Chart.PriceScale.ToggleAutoScale",e2.ChartPriceScaleToggleAutoScaleSeriesOnly="Chart.PriceScale.ToggleAutoScaleSeriesOnly",e2.ChartPriceScaleToggleCountdownToBarCloseVisibility="Chart.PriceScale.ToggleCountdownToBarCloseVisibility",e2.ChartPriceScaleToggleIndexedTo100="Chart.PriceScale.ToggleIndexedTo100",e2.ChartPriceScaleToggleInvertScale="Chart.PriceScale.ToggleInvertScale",e2.ChartPriceScaleToggleLogarithmic="Chart.PriceScale.ToggleLogarithmic",e2.ChartPriceScaleTogglePercentage="Chart.PriceScale.TogglePercentage",e2.ChartPriceScaleToggleRegular="Chart.PriceScale.ToggleRegular",e2.ChartRedo="Chart.Redo",e2.ChartRemoveAllIndicators="Chart.RemoveAllIndicators",e2.ChartRemoveAllIndicatorsAndLineTools="Chart.RemoveAllIndicatorsAndLineTools",e2.ChartRemoveAllLineTools="Chart.RemoveAllLineTools",e2.ChartScalesReset="Chart.Scales.Reset",e2.ChartScalesToggleLockPriceToBarRatio="Chart.Scales.ToggleLockPriceToBarRatio",e2.ChartScrollToLineTool="Chart.ScrollToLineTool",e2.ChartSelectedObjectHide="Chart.SelectedObject.Hide",e2.ChartSelectedObjectRemove="Chart.SelectedObject.Remove",e2.ChartSelectedObjectShow="Chart.SelectedObject.Show",e2.ChartSelectedObjectShowSettingsDialog="Chart.SelectedObject.ShowSettingsDialog",e2.ChartSelectedObjectInsertRowTable="Chart.SelectedObject.InsertRowTable",e2.ChartSelectedObjectInsertColumnTable="Chart.SelectedObject.InsertColumnTable",e2.ChartSelectedObjectRemoveRowTable="Chart.SelectedObject.RemoveRowTable",e2.ChartSelectedObjectRemoveColumnTable="Chart.SelectedObject.RemoveColumnTable",e2.ChartSelectedObjectToggleLocked="Chart.SelectedObject.ToggleLocked",e2.ChartSelectedObjectToggleAnchored="Chart.SelectedObject.ToggleAnchored",e2.ChartSeriesPriceScaleToggleAutoScale="Chart.Series.PriceScale.ToggleAutoScale",e2.ChartSeriesPriceScaleToggleIndexedTo100="Chart.Series.PriceScale.ToggleIndexedTo100",e2.ChartSeriesPriceScaleToggleInvertPriceScale="Chart.Series.PriceScale.ToggleInvertPriceScale",e2.ChartSeriesPriceScaleToggleLogarithmic="Chart.Series.PriceScale.ToggleLogarithmic",e2.ChartSeriesPriceScaleTogglePercentage="Chart.Series.PriceScale.TogglePercentage",e2.ChartSeriesPriceScaleToggleRegular="Chart.Series.PriceScale.ToggleRegular",e2.ChartSessionBreaksToggleVisibility="Chart.SessionBreaks.ToggleVisibility",e2.ChartSetSession="Chart.SetSession",e2.ChartSourceChangePriceScale="Chart.Source.ChangePriceScale",e2.ChartSourceMergeDown="Chart.Source.MergeDown",e2.ChartSourceMergeUp="Chart.Source.MergeUp",e2.ChartSourceMoveToNoScale="Chart.Source.MoveToNoScale",e2.ChartSourceMoveToOtherScale="Chart.Source.MoveToOtherScale",e2.ChartSourceMoveToPane="Chart.Source.MoveToPane",e2.ChartSourceUnmergeDown="Chart.Source.UnmergeDown",e2.ChartSourceUnmergeUp="Chart.Source.UnmergeUp",e2.ChartSourceVisualOrder="Chart.Source.VisualOrder",e2.ChartSourceVisualOrderBringForward="Chart.Source.VisualOrder.BringForward",e2.ChartSourceVisualOrderBringToFront="Chart.Source.VisualOrder.BringToFront",e2.ChartSourceVisualOrderSendBackward="Chart.Source.VisualOrder.SendBackward",e2.ChartSourceVisualOrderSendToBack="Chart.Source.VisualOrder.SendToBack",e2.ChartSourceResetInputPoints="Chart.Source.ResetInputPoints",e2.ChartThemeApply="Chart.Theme.Apply",e2.ChartThemeApplyCustom="Chart.Theme.Apply.Custom",e2.ChartThemeSaveAs="Chart.Theme.SaveAs",e2.ChartTimeScaleReset="Chart.TimeScale.Reset",e2.ChartUndo="Chart.Undo",e2.ChartShowAllIdeas="Chart.ShowAllIdeas",e2.ChartShowIdeasOfFollowedUsers="Chart.ShowIdeasOfFollowedUsers",e2.ChartShowMyIdeasOnly="Chart.ShowMyIdeasOnly",e2.ChartToggleVisibilityAllLineTools="Chart.ToggleVisibility.AllLineTools",e2.ChartToggleVisibilityContinuousContractSwitch="Chart.ToggleVisibility.ContinuousContractSwitch",e2.ChartToggleVisibilityContractExpiration="Chart.ToggleVisibility.ContractExpiration",e2.ChartToggleVisibilityDividends="Chart.ToggleVisibility.Dividends",e2.ChartToggleVisibilityEarnings="Chart.ToggleVisibility.Earnings",e2.ChartToggleVisibilityEconomicEvents="Chart.ToggleVisibility.EconomicEvents",e2.ChartToggleVisibilitySplits="Chart.ToggleVisibility.Splits",e2.ChartToggleVisibilityLatestNewsAndMinds="Chart.ToggleVisibility.LatestNewsAndMinds",e2.ChartToggleVisibilityKeyFactsToday="Chart.ToggleVisibility.KeyFactsToday",e2.ChartSourceIntervalsVisibility="Chart.Source.IntervalsVisibility",e2.ChartSourceIntervalsVisibilityCurrentAndAbove="Chart.Source.IntervalsVisibility.CurrentAndAbove",e2.ChartSourceIntervalsVisibilityCurrentAndBelow="Chart.Source.IntervalsVisibility.CurrentAndBelow",e2.ChartSourceIntervalsVisibilityOnlyCurrent="Chart.Source.IntervalsVisibility.Current",e2.ChartSourceIntervalsVisibilityAll="Chart.Source.IntervalsVisibility.All",e2.NoteCreate="Note.Create",e2.NoteEdit="Note.Edit",e2.NoteRemove="Note.Remove",e2.ObjectsTreeCreateGroup="ObjectsTree.CreateGroup",e2.ObjectsTreeRemoveItem="ObjectsTree.RemoveItem",e2.ObjectsTreeRenameItem="ObjectsTree.RenameItem",e2.ObjectsTreeToggleItemLocked="ObjectsTree.ToggleItemLocked",e2.ObjectsTreeToggleItemVisibility="ObjectsTree.ToggleItemVisibility",e2.PineEditorConsoleCopyMessage="PineEditor.Console.CopyMessage",e2.PineEditorConsoleToggleVisibility="PineEditor.Console.ToggleVisibility",e2.PineEditorConsoleClear="PineEditor.Console.Clear",e2.ScreenerColumnRemove="Screener.Column.Remove",e2.ScreenerFilterChange="Screener.Filter.Change",e2.ScreenerFilterReset="Screener.Filter.Reset",e2.ScreenerToggleVisibilityCurrency="Screener.ToggleVisibility.Currency",e2.ScreenerToggleVisibilityDescription="Screener.ToggleVisibility.Description",e2.ScreenerToggleVisibilityRating="Screener.ToggleVisibility.Rating",e2.ScreenerToggleVisibilitySymbolType="Screener.ToggleVisibility.SymbolType",e2.TradingCancelOrder="Trading.CancelOrder",e2.TradingClosePosition="Trading.ClosePosition",e2.TradingCustomActionId="Trading.CustomActionId",e2.TradingDOMPlaceLimitOrder="Trading.DOMPlaceLimitOrder",e2.TradingDOMPlaceMarketOrder="Trading.DOMPlaceMarketOrder",e2.TradingDOMPlaceStopLimitOrder="Trading.DOMPlaceStopLimitOrder",e2.TradingDOMPlaceStopOrder="Trading.DOMPlaceStopOrder",e2.TradingEditOrder="Trading.EditOrder",e2.TradingModifyPosition="Trading.ModifyPosition",e2.TradingReversePosition="Trading.ReversePosition",e2.TradingSellBuyButtonsToggleVisibility="Trading.SellBuyButtonsToggleVisibility",e2.TradingTradeFromChart="Trading.TradeFromChart",e2.TradingNoOverlapMode="Trading.NoOverlapMode",e2.TradingShowSelectBrokerPanel="Trading.ShowSelectBrokerPanel",e2.TradingOrderTitle="Trading.OrderTitle",e2.TradingPositionTitle="Trading.PositionTitle",e2.WatchlistActions="Watchlist.Actions",e2.WatchlistAddSelectedSymbolsToCompare="Watchlist.AddSelectedSymbolsToCompare ",e2.WatchlistAddSymbolToCompare="Watchlist.AddSymbolToCompare",e2.WatchlistAddSymbolToSection="Watchlist.AddSymbolToSection",e2.WatchlistChangeFlaggedGroupColor="Watchlist.ChangeFlaggedGroupColor",e2.WatchlistAddSymbol="Watchlist.AddSymbol",e2.WatchlistCreate="Watchlist.Create",e2.WatchlistAddSelectedSymbols="Watchlist.AddSelectedSymbols",e2.WatchlistAddSelectedSymbolsLists="Watchlist.AddSelectedSymbols.Lists",e2.WatchlistGetDisplayedTickerDescription="Watchlist.GetDisplayedTickerDescription",e2.WatchlistCreateSection="Watchlist.CreateSection",e2.WatchlistFlagSelectedSymbols="Watchlist.FlagSelectedSymbols",e2.WatchlistFlagSymbol="Watchlist.FlagSymbol",e2.WatchlistOpenSymbolChart="Watchlist.OpenSymbolChart",e2.WatchlistOpenSymbolOverview="Watchlist.OpenSymbolOverview",e2.WatchlistRemoveSection="Watchlist.RemoveSection",e2.WatchlistRemoveSymbol="Watchlist.RemoveSymbol",e2.WatchlistRenameSection="Watchlist.RenameSection",e2.WatchlistUnflagAllSymbols="Watchlist.UnflagAllSymbols",e2.WatchlistUnflagSelectedSymbols="Watchlist.UnflagSelectedSymbols",e2.WatchlistUnflagSymbol="Watchlist.UnflagSymbol",function(e){e.extractErrorReason=function(e){return e.params[1]}}(t||(t={})),function(e){e.Default="default",e.FullSingleSession="full_single_session"}(i||(i={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(o||(o={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(r||(r={})),function(e){e.Open="market",e.Pre="pre_market",e.Post="post_market",e.Close="out_of_session",e.Holiday="holiday"}(n||(n={})),function(e){e.Separator="separator",e.Action="action"}(a||(a={})),function(e){e[e.All=0]="All",e[e.BarMarks=1]="BarMarks",e[e.TimeScaleMarks=2]="TimeScaleMarks"}(s||(s={})),function(e){e[e.Line=0]="Line",e[e.Histogram=1]="Histogram",e[e.Cross=3]="Cross",e[e.Area=4]="Area",e[e.Columns=5]="Columns",e[e.Circles=6]="Circles",e[e.LineWithBreaks=7]="LineWithBreaks",e[e.AreaWithBreaks=8]="AreaWithBreaks",e[e.StepLine=9]="StepLine",e[e.StepLineWithDiamonds=10]="StepLineWithDiamonds",e[e.StepLineWithBreaks=11]="StepLineWithBreaks"}(l||(l={})),function(e){e.Line="line",e.Colorer="colorer",e.BarColorer="bar_colorer",e.BgColorer="bg_colorer",e.TextColorer="text_colorer",e.OhlcColorer="ohlc_colorer",e.CandleWickColorer="wick_colorer",e.CandleBorderColorer="border_colorer",e.UpColorer="up_colorer",e.DownColorer="down_colorer",e.Shapes="shapes",e.Chars="chars",e.Arrows="arrows",e.Data="data",e.DataOffset="dataoffset",e.OhlcOpen="ohlc_open",e.OhlcHigh="ohlc_high",e.OhlcLow="ohlc_low",e.OhlcClose="ohlc_close"}(c||(c={})),function(e){e.AlertCondition="alertcondition"}(h||(h={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(d||(d={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(g||(g={})),function(e){e.OhlcBars="ohlc_bars",e.OhlcCandles="ohlc_candles"}(u||(u={})),function(e){e.Auto="auto",e.Tiny="tiny",e.Small="small",e.Normal="normal",e.Large="large",e.Huge="huge"}(C||(C={})),function(e){e.Integer="integer",e.Float="float",e.Price="price",e.Bool="bool",e.Text="text",e.Symbol="symbol",e.Session="session",e.Source="source",e.Resolution="resolution",e.Time="time",e.BarTime="bar_time",e.Color="color",e.Textarea="text_area"}(S||(S={})),function(e){e[e.None=0]="None",e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(p||(p={})),function(e){e.InitialCapital="initial_capital",e.Currency="currency",e.DefaultQTYValue="default_qty_value",e.DefaultQTYType="default_qty_type",e.Pyramiding="pyramiding",e.ComissionValue="commission_value",e.ComissionType="commission_type",e.BacktestFillLimitsAssumtion="backtest_fill_limits_assumption",e.Slippage="slippage",e.CalcOnOrderFills="calc_on_order_fills",e.CalcOnEveryTick="calc_on_every_tick",e.MarginLong="margin_long",e.MarginShort="margin_short",e.UseBarMagnifier="use_bar_magnifier",e.ProcessOrdersOnClose="process_orders_on_close",e.FillOrdersOnStandardOHLC="fill_orders_on_standard_ohlc"}(m||(m={})),function(e){e.Fixed="fixed",e.CashPerOrder="cash_per_order",e.PercentOfEquity="percent_of_equity"}(_||(_={})),function(e){e.Percent="percent",e.CashPerContract="cash_per_contract",e.CashPerOrder="cash_per_order"}(y||(y={})),function(e){e.FirstBar="first_visible_bar_time",e.LastBar="last_visible_bar_time",e.Realtime="subscribeRealtime"}(T||(T={})),function(e){e.FgColor="__chart_fgcolor",e.BgColor="__chart_bgcolor"}(b||(b={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.NoScale=2]="NoScale"}(P||(P={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.None=2]="None"}(L||(L={})),function(e){e.TypePlots="plot_plot",e.TypeHlines="hline_hline"}(f||(f={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop",e[e.GuaranteedStop=2]="GuaranteedStop"}(w||(w={})),function(e){e.Stocks="stocks",e.Futures="futures",e.Forex="forex",e.Crypto="crypto",e.Others="others"}(A||(A={})),function(e){e.Symbol="symbol"}(I||(I={})),function(e){e[e.PopUp=0]="PopUp",e[e.Notification=1]="Notification"}(v||(v={})),function(e){e.Quantity="qty",e.OrderSide="side",e.Price="price",e.Duration="duration",e.Brackets="brackets",e.StopLossType="slType"}(R||(R={})),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(O||(O={})),function(e){e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected",e[e.Error=4]="Error"}(D||(D={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(V||(V={})),function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(k||(k={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(E||(E={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(W||(W={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(F||(F={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(M||(M={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Placing=4]="Placing",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(B||(B={})),function(e){e[e.All=0]="All",e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(N||(N={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(U||(U={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(x||(x={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position",e[e.IndividualPosition=3]="IndividualPosition"}(H||(H={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop",e[e.GuaranteedStop=3]="GuaranteedStop"}(j||(j={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(G||(G={})),function(e){e[e.LimitPrice=1]="LimitPrice",e[e.StopPrice=2]="StopPrice",e[e.TakeProfit=3]="TakeProfit",e[e.StopLoss=4]="StopLoss",e[e.Quantity=5]="Quantity"}(z||(z={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}($||($={})),function(e){e[e.Error=0]="Error",e[e.Success=1]="Success"}(J||(J={})),function(e){e[e.Demo=1]="Demo",e[e.Real=0]="Real"}(K||(K={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(q||(q={})),function(e){e.Demo="demo",e.Live="live"}(Z||(Z={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.Reconnect=9]="Reconnect",e[e.FailedSignIn=10]="FailedSignIn"}(Q||(Q={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(Y||(Y={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(X||(X={})),function(e){e[e.Limit=1]="Limit",e[e.Stop=2]="Stop"}(ee||(ee={})),function(e){e.Disallowed="disallowed",e.Allowed="allowed",e.AllowedWithWarning="allowed_with_warning"}(te||(te={})),function(e){e.PlaceOrder="place_order",e.ModifyOrder="modify_order",e.CancelOrder="cancel_order",e.ModifyPosition="modify_position",e.ClosePosition="close_position",e.ModifyIndividualPosition="modify_individual_position",e.CloseIndividualPosition="close_individual_position",e.CloseNetPosition="close_net_position"}(ie||(ie={})),function(e){e.Date="date",e.DateOrDateTime="dateOrDateTime",e.Default="default",e.Fixed="fixed",e.FixedInCurrency="fixedInCurrency",e.VariablePrecision="variablePrecision",e.FormatQuantity="formatQuantity",e.FormatPrice="formatPrice",e.FormatPriceForexSup="formatPriceForexSup",e.FormatPriceInCurrency="formatPriceInCurrency",e.IntegerSeparated="integerSeparated",e.LocalDate="localDate",e.LocalDateOrDateTime="localDateOrDateTime",e.Percentage="percentage",e.Pips="pips",e.Profit="profit",e.ProfitInInstrumentCurrency="profitInInstrumentCurrency",e.Side="side",e.PositionSide="positionSide",e.Status="status",e.Symbol="symbol",e.Text="text",e.Type="type",e.MarginPercent="marginPercent",e.Empty="empty"}(oe||(oe={})),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(re||(re={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(ne||(ne={})),function(e){e[e.Offline=0]="Offline",e[e.Resolving=1]="Resolving",e[e.Loading=2]="Loading",e[e.Ready=3]="Ready",e[e.InvalidSymbol=4]="InvalidSymbol",e[e.Snapshot=5]="Snapshot",e[e.EOD=6]="EOD",e[e.Pulse=7]="Pulse",e[e.Delayed=8]="Delayed",e[e.DelayedSteaming=9]="DelayedSteaming",e[e.NoBars=10]="NoBars",e[e.Replay=11]="Replay",e[e.Error=12]="Error",e[e.CalculationError=13]="CalculationError",e[e.UnsupportedResolution=14]="UnsupportedResolution"}(ae||(ae={})),function(e){e[e.Markers=0]="Markers",e[e.Stepline=1]="Stepline",e[e.Simple=2]="Simple"}(se||(se={})),function(e){e[e.Bar=0]="Bar",e[e.Candle=1]="Candle",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PnF=6]="PnF",e[e.LineBreak=7]="LineBreak",e[e.HeikinAshi=8]="HeikinAshi",e[e.HollowCandle=9]="HollowCandle",e[e.Baseline=10]="Baseline",e[e.Range=11]="Range",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolFootprint=17]="VolFootprint",e[e.TPO=18]="TPO",e[e.VolCandle=19]="VolCandle",e[e.SVP=20]="SVP",e[e.HLCBars=21]="HLCBars"}(le||(le={})),function(e){e.TwentyFourHours="24-hours",e.TwelveHours="12-hours"}(ce||(ce={})),function(e){e[e.Initial=2]="Initial",e[e.SeriesZOrderIsAlwaysZero=3]="SeriesZOrderIsAlwaysZero",e[e.Current=3]="Current"}(he||(he={})),function(e){e[e.Money=0]="Money",e[e.Pips=1]="Pips",e[e.Percentage=2]="Percentage"}(de||(de={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(ge||(ge={})),de.Money,de.Money,ge.Right,function(e){e[e.Background=0]="Background",e[e.Foreground=1]="Foreground",e[e.Topmost=2]="Topmost"}(ue||(ue={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.AvailableReadonlyAlwaysDisabled=1]="AvailableReadonlyAlwaysDisabled",e[e.AvailableReadonlyAlwaysEnabled=2]="AvailableReadonlyAlwaysEnabled",e[e.Available=3]="Available"}(Ce||(Ce={})),function(e){e[e.ViewportChangeUserAction=0]="ViewportChangeUserAction",e[e.DataUpdate=1]="DataUpdate",e[e.SeriesRestart=2]="SeriesRestart",e[e.SeriesCompleted=3]="SeriesCompleted",e[e.StudyCreation=4]="StudyCreation"}(Se||(Se={})),function(e){e[e.Chart=0]="Chart"}(pe||(pe={})),function(e){e.AlwaysOn="alwaysOn",e.VisibleOnMouseOver="visibleOnMouseOver",e.AlwaysOff="alwaysOff"}(me||(me={})),function(e){e[e.Normal=0]="Normal",e[e.Log=1]="Log",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(_e||(_e={})),function(e){e[e.Bars=0]="Bars",e[e.Candles=1]="Candles",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.HeikenAshi=8]="HeikenAshi",e[e.HollowCandles=9]="HollowCandles",e[e.Baseline=10]="Baseline",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolCandle=19]="VolCandle",e[e.HLCBars=21]="HLCBars",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PointAndFigure=6]="PointAndFigure",e[e.LineBreak=7]="LineBreak"}(ye||(ye={})),function(e){e.Value="_seriesId"}(Te||(Te={})),function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.ReplayUnsupported=1]="ReplayUnsupported",e[e.UnsupportedDepth=2]="UnsupportedDepth",e[e.UnsupportedIntradyReplay=3]="UnsupportedIntradyReplay"}(be||(be={})),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(Pe||(Pe={})),function(e){e.Relative="relative",e.Absolute="absolute"}(Le||(Le={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(fe||(fe={})),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(we||(we={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(Ae||(Ae={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(Ie||(Ie={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(ve||(ve={}));const Oe={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},De=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]');let Ve=!1;function ke(){return"CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"}const Ee=class{constructor(e){var t;if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");(null==(t=e.overrides)?void 0:t["mainSeriesProperties.priceAxisProperties.lockScale"])&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete e.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=Re(Oe,e),"dark"===(this._options.theme??"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),(this._options.debug||this._options.debug_broker)&&(Ve||(Ve=!0,console.log("Using CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"))),this._innerWindowLoaded=new Promise(e=>{this._innerWindowResolver=e}),this._create()}setDebugMode(e){this._innerAPI().setDebugMode(e)}onChartReady(e){this._ready?e.call(this):this._readyHandlers.push(e)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(e){this._doWhenInnerApiLoaded(t=>{t.onGrayedObjectClicked(e)})}onShortcut(e,t){this._doWhenInnerWindowLoaded(a=>{a.createShortcutAction(e,t)})}subscribe(e,t){this._doWhenInnerApiLoaded(a=>{a.subscribe(e,t)})}unsubscribe(e,t){this._doWhenInnerApiLoaded(a=>{a.unsubscribe(e,t)})}chart(e){return this._innerAPI().chart(e)}getLanguage(){return this._options.locale}setSymbol(e,t,a){this._innerAPI().changeSymbol(e,t,a)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(e=>{e.closePopupsAndDialogs()})}selectLineTool(e,t){return this._innerAPI().selectLineTool(e,t)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(e,t){this._innerAPI().saveChart(e,t)}async load(e,t){return this._innerAPI().loadChart({json:e,extendedData:t})}getSavedCharts(e){this._innerAPI().getSavedCharts(e)}loadChartFromServer(e){return this._innerAPI().loadChartFromServer(e)}saveChartToServer(e,t,a){this._innerAPI().saveChartToServer(e,t,a)}removeChartFromServer(e,t){this._innerAPI().removeChartFromServer(e,t)}onContextMenu(e){this._doWhenInnerApiLoaded(t=>{t.onContextMenu(e)})}createButton(e){return this._innerWindow().createButton(e)}removeButton(e){this._innerWindow().removeButton(e)}createDropdown(e){return this._innerWindow().createDropdown(e)}showNoticeDialog(e){this._doWhenInnerApiLoaded(t=>{t.showNoticeDialog(e)})}showConfirmDialog(e){this._doWhenInnerApiLoaded(t=>{t.showConfirmDialog(e)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(e){return this._innerAPI().getStudyInputs(e)}getStudyStyles(e){return this._innerAPI().getStudyStyles(e)}addCustomCSSFile(e){this._innerWindow().addCustomCSSFile(e)}applyOverrides(e){this._options=Re(this._options,{overrides:e}),this._doWhenInnerWindowLoaded(t=>{t.applyOverrides(e)})}applyStudiesOverrides(e){this._doWhenInnerWindowLoaded(t=>{t.applyStudiesOverrides(e)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}activeChartIndex(){return this._innerAPI().activeChartIndex()}setActiveChart(e){return this._innerAPI().setActiveChart(e)}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(e){this._innerAPI().setLayout(e)}layoutName(){return this._innerAPI().layoutName()}resetLayoutSizes(e){this._innerAPI().resetLayoutSizes(e)}changeTheme(e,t){return this._innerWindow().changeTheme(e,t)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(e=>{e.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllChartsEnabled(){return this._innerAPI().drawOnAllChartsEnabled()}drawOnAllCharts(e){this._innerAPI().drawOnAllCharts(e)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(e){this._innerAPI().setIntervalLinkingEnabled(e)}setDateRangeLinkingEnabled(e){this._innerAPI().setDateRangeLinkingEnabled(e)}setTimeFrame(e){this._innerAPI().setTimeFrame(e)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}dateRangeSync(){return this._innerAPI().dateRangeSync()}setFeatureEnabled(e,t){this._innerAPI().setFeatureEnabled(e,t)}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(e){return this._innerAPI().takeClientScreenshot(e)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}timeHoursFormat(){return this._innerWindow().getTimeHoursFormat()}currencyAndUnitVisibility(){return this._innerWindow().getCurrencyAndUnitVisibility()}supportedChartTypes(){return this._innerAPI().supportedChartTypes()}watermark(){return this._innerAPI().watermark()}customSymbolStatus(){return this._innerWindow().customSymbolStatus()}setCSSCustomProperty(e,t){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,t)}getCSSCustomPropertyValue(e){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");const t=this._innerWindow().document.body,a=t.style.getPropertyValue(e);return a||getComputedStyle(t).getPropertyValue(e)}unloadUnusedCharts(){this._innerAPI().unloadUnusedCharts()}async customThemes(){return this._innerWindow().customThemes()}resetCache(){this._innerAPI().resetCache()}linking(){return this._innerAPI().linking}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(e){this._ready?e(this._innerWindow()):this._innerWindowLoaded.then(()=>{e(this._innerWindow())})}_doWhenInnerApiLoaded(e){this._doWhenInnerWindowLoaded(t=>{t.doWhenApiIsReady(()=>e(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",We&&setTimeout(()=>{this._iFrame.style.height=window.innerHeight+"px"},30))}async _create(){var e,t;const a=(null==(e=this._options.enabled_features)?void 0:e.includes("iframe_loading_same_origin"))??!1,o=a||((null==(t=this._options.enabled_features)?void 0:t.includes("iframe_loading_compatibility_mode"))??!1),[r,n]=this._render(!o,a),i=this._options.container,l="string"==typeof i?document.getElementById(i):i;if(null===l)throw new Error(`There is no such element - #${this._options.container}`);l.innerHTML=r,this._iFrame=l.querySelector(`#${this._id}`);const s=this._iFrame;a&&await this._innerWindowEvent("sameOriginLoad"),o&&(s.contentWindow?(s.contentWindow.document.open(),s.contentWindow.document.write(n),s.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),this._innerWindow().addEventListener("innerWindowLoad",e=>{e.detail.received=!0,function(e){if(void 0===e)throw new Error("_innerWindowResolver is undefined");return e}(this._innerWindowResolver)()},{once:!0}),(this._options.autosize||this._options.fullscreen)&&(s.style.width="100%",this._options.fullscreen||(s.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then(()=>{try{this._innerWindow().widgetReady(()=>{this._ready=!0;for(const t of this._readyHandlers)try{t.call(this)}catch(e){console.error(e)}this._innerWindow().initializationFinished()})}catch(e){if(e instanceof Error&&/widgetReady is not a function/.test(e.message))throw new Error(`There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ${window.location.host}/${this._options.library_path||""} or correct the library_path option.`)}})}_innerWindowEvent(e){return new Promise(t=>{this._innerWindow().addEventListener(e,t,{once:!0})})}_render(e,t){const a=window;if(a[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function,customThemes:this._options.custom_themes,imageStorageAdapter:this._options.image_storage_adapter},this._options.saved_data)a[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(a[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){const e=encodeURIComponent(this._options.locale);De.findIndex(t=>t.language===e)>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}const o=function(e,t){const a=new URL(`${e||""}`,location.href).href,o=JSON.parse('["bundles/runtime.528f81f7a425983444d8.js","bundles/__LANG__.9488.2f156b47fe84118759c5.js","bundles/1996.25e6f30e7a095ec239f4.css","bundles/207.2e06ffb7ce05936178f2.js","bundles/library.2a35263e52ab75f5729a.js"]'),r=encodeURIComponent(t),n=De.find(e=>e.language===r)??{iso:"en",dir:"ltr"},i=`lang="${n.iso}" dir="${n.dir}"`;return`<!DOCTYPE html><html ${(l={bundles:`\n${function(e,t,a){if(void 0===e)return"";const o=[],r=[];for(const n of e)n.endsWith(".js")?o.push(`<script defer crossorigin="anonymous" src="${n.replace("__LANG__",a)}"><\/script>`):n.endsWith(".css")&&r.push(`<link type="text/css" href="${t?n.replace(/\.css$/i,".rtl.css"):n}" rel="stylesheet"/>`);return[...o,...r].join("\n")}(o,"rtl"===n.dir,r)}\n`,localeLanguage:r,htmlAttrs:i,libraryPath:a}).htmlAttrs}><head><base href="${l.libraryPath}"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")<\/script> ${l.bundles} </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["charting_library"]<\/script><script>(function() {\n\t\twindow.urlParams = (function () {\n\t\t\tvar match,\n\t\t\t\tpl\t = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\t\t\tsearch = /([^&=]+)=?([^&]*)/g,\n\t\t\t\tdecode = function (s) { return decodeURIComponent(s.replace(pl, ' ')).replace(/<\\/?[^>]+(>|$)/g, ''); },\n\t\t\t\tquery = function() {\n\t\t\t\t\t// We don't use hash on the url because: safari 13 throws an error if you attempt this\n\t\t\t\t\t// on a blob, and safari 14 will strip hash from blob urls.\n\t\t\t\t\tif (frameElement && frameElement.dataset.widgetOptions) {\n\t\t\t\t\t\treturn frameElement.dataset.widgetOptions;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow "Unexpected use of this page";\n\t\t\t\t\t}\n\t\t\t\t}(),\n\t\t\t\tresult = {};\n\n\t\t\twhile (match = search.exec(query)) {\n\t\t\t\tresult[decode(match[1])] = decode(match[2]);\n\t\t\t}\n\n\t\t\tvar additionalSettingsObject = window.parent[result.uid];\n\n\t\t\tvar customObjectNames = ['datafeed', 'customFormatters', 'brokerFactory', 'save_load_adapter', 'customTranslateFunction', 'contextMenu'];\n\n\t\t\tfor (var p in additionalSettingsObject) {\n\t\t\t\tif (customObjectNames.indexOf(p) === -1) {\n\t\t\t\t\tresult[p] = JSON.stringify(additionalSettingsObject[p]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t})();\n\n\t\twindow.locale = urlParams.locale;\n\t\twindow.language = urlParams.locale; // a very big attention needed here\n\t\twindow.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;\n\t\twindow.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;\n\n\t\twindow.addCustomCSSFile = function(href) {\n\t\t\tvar link = document.createElement('link');\n\t\t\tlink.setAttribute('type', 'text/css');\n\t\t\tlink.setAttribute('rel', 'stylesheet');\n\t\t\tlink.setAttribute('href', href);\n\t\t\tlink.setAttribute('cross-origin', 'anonymous');\n\n\t\t\twindow.loadedCustomCss = new Promise((resolve) => {\n\t\t\t\tlink.onload = resolve;\n\t\t\t\tlink.onerror = resolve;\n\t\t\t});\n\t\t\tdocument.body.appendChild(link);\n\t\t};\n\n\t\twindow.loadedCustomCss = Promise.resolve();\n\t\tif (!!urlParams.customCSS) {\n\t\t\twindow.addCustomCSSFile(urlParams.customCSS);\n\t\t}\n\n\t\tvar loadingScreenParams = {};\n\n\t\tif (typeof urlParams.loading_screen === 'string') {\n\t\t\ttry {\n\t\t\t\tloadingScreenParams = JSON.parse(urlParams.loading_screen);\n\t\t\t} catch(e) {}\n\t\t}\n\n\t\tvar loadingIndicatorElement = document.getElementById('loading-indicator');\n\n\t\tif (loadingScreenParams.backgroundColor) {\n\t\t\tloadingIndicatorElement.style = 'background-color: ' + loadingScreenParams.backgroundColor;\n\t\t}\n\n\t\t!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l=(void 0===r&&(r=""),s='<div class="tv-spinner '.concat(r,'" role="progressbar"></div>'),i=function(t){var n,s;return n=document.documentElement,e&&(s=e.get(n)),s||((s=n.ownerDocument.createRange()).selectNodeContents(n),e&&e.set(n,s)),s.createContextualFragment(t)}(s),null!==(o=i.firstElementChild)&&i.removeChild(o),o),a=function(){function t(t){this._shown=!1,this._el=l.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();\n\n\n\t\tvar spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;\n\n\t\tvar loadingSpinner = new Spinner('large').setStyle({\n\t\t\t'--tv-spinner-color': spinnerColor,\n\t\t\tzIndex: String(2e9),\n\t\t});\n\t\tloadingSpinner.getEl().classList.add('spinner');\n\t\tloadingSpinner.spin(loadingIndicatorElement);\n\t})();<\/script></body></html>`;var l}(this._options.library_path||"",this._options.locale);let r=new URL("about:blank");if(e){const e=new Blob([o],{type:"text/html"}),t=URL.createObjectURL(e);r=new URL(t)}else if(t){const e=this._options.library_path??"/";r=new URL(e+"sameorigin.html",location.origin)}const n="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.debug_broker?"&debugBroker="+encodeURIComponent(String(this._options.debug_broker)):"")+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return[`<iframe\n\t\tversion="CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)" id="${this._id}" name="${this._id}" src="${r.href}" data-widget-options="${n}"\n\t\t${this._options.autosize||this._options.fullscreen?"":`width="${this._options.width}" height="${this._options.height}"`} title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">\n\t</iframe>`,o]}};"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.version=ke);const We=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS"),_sfc_main$o={name:"TVSingleChartContainer",props:{symbol:{default:localStorage.getItem("ssdtsym"),type:String},containerId:{default:"tv_chart_container",type:String},datafeedUrl:{default:"",type:String},libraryPath:{default:"../charting_library/",type:String},chartsStorageUrl:{default:"https://chartbe.mynt.in",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"ZEBU",type:String},userId:{default:"",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},studiesOverrides:{type:Object},title:String,subtitle:String,text:String,image:String},tvWidget:null,data:()=>({showchart:!0,theme:"light",savedSymbol:"",settings:JSON.parse(localStorage.getItem("settings")),interval:"1",tvReady:!1,pendingSymbol:null,openInterestData:[],oiloader:!1}),mounted(){this.interval=this.settings&&this.settings["chart.lastUsedTimeBasedResolution"]?this.settings["chart.lastUsedTimeBasedResolution"]:"5",this.initTWChart(localStorage.getItem("adv_chart"));var e=[];if(this.settings){for(let e in this.settings)e.includes("savedwatch")&&delete this.settings[e];e=this.settings}else e={};localStorage.setItem("settings",JSON.stringify(e)),window.addEventListener("ssd-event",e=>{let t,a,o=e.detail;if(Array.isArray(o)&&o.length>=4)t=o[2],a=o[3];else{if(!(o&&"object"==typeof o&&o.exch&&o.tsym))return;t=o.exch,a=o.tsym}if(!t||!a)return;const r=`${t}:${a}`;if(localStorage.setItem("ssdtsym",r),(o.token||Array.isArray(o)&&o[1])&&localStorage.setItem("ssdtoken",o.token||o[1]),this.tvReady&&window.tvWidget&&"function"==typeof window.tvWidget.activeChart)try{window.tvWidget.activeChart().setSymbol(r);const e=document.getElementById("histogram-container");e&&(e.innerHTML="")}catch(e2){this.pendingSymbol=r}else this.pendingSymbol=r})},beforeDestroy(){},methods:{async setIndicatorsInterval(){var e=await getIndicators();if(setInterval(async function(){for(var t=window.tvWidget.activeChart().getAllStudies(),a=[],o=0;o<t.length;o++){var r=t[o].name;"Volume"!=r&&a.push(r)}if(JSON.stringify(e.data)!=JSON.stringify(a))try{let t=await setIndicators(a);e=t}catch(e2){console.log(e2)}},5e3),e.data)for(var t=0;t<e.data.length;t++)window.tvWidget.activeChart().createStudy(e.data[t],!1,!1)},async getOidatas(){if(["NSE:NIFTY 50","NSE:NIFTY BANK","NSE:NIFTY FIN SERVICE","NSE:NIFTY MID SELECT","BSE:SENSEX","BSE:BANKEX"].includes(this.tvWidget.activeChart().symbol())){let e=await getOIbars(["NIFTY","BANKNIFTY","FINNIFTY","MIDCPNIFTY","SENSEX","BANKEX"][["NSE:NIFTY 50","NSE:NIFTY BANK","NSE:NIFTY FIN SERVICE","NSE:NIFTY MID SELECT","BSE:SENSEX","BSE:BANKEX"].indexOf(this.tvWidget.activeChart().symbol())]);e&&e.data&&e.data.length>0&&(this.openInterestData=e.data,this.renderHistogram())}else{useAppStore().showSnackbar(2,`No, OI Profile for ${this.tvWidget.activeChart().symbol()}`)}this.oiloader=!1},async renderHistogram(){var e,t;if(this.openInterestData&&this.openInterestData.length>0){const s=document.getElementById("histogram-container");s.innerHTML="";const c=this.tvWidget.activeChart().getPanes()[0].getRightPriceScales()[0]._priceScale._markBuilder._marks,d=document.getElementById(this.containerId);if(s.style.height=`${d.offsetHeight}px`,c&&c.length>0){const d=this.openInterestData.map(e=>Number(e.callOI)),u=this.openInterestData.map(e=>Number(e.putOI)),p=Math.max(...d),h=Math.max(...u);for(let m=0;m<c.length;m++){var a=this.openInterestData.findIndex(e=>Number(e.price)==Number(c[m].label));if(a>=0){var{price:o,callOI:r,putOI:n}=this.openInterestData[a];o=Number(o),r=Number(r),n=Number(n);var i=null==(e=Number((r-p)/p*100+100))?void 0:e.toFixed(0),l=null==(t=Number((n-h)/h*100+100))?void 0:t.toFixed(0);const d=(Number(c[m].coord)+30).toFixed(0),u=document.createElement("div");u.className="histogram-bar",u.style.width=`${i}px`,u.style.height="10px",u.style.backgroundColor="rgba(0, 128, 0, 0.5)",u.style.position="absolute",u.style.top=`${d}px`,u.style.right="0",u.setAttribute("id",`${o}_c`),u.setAttribute("title",`Strike: ${o}, CallOI: ${(r/1e5).toFixed(2)}L, PutOI: ${(n/1e5).toFixed(2)}L`);const v=document.createElement("div");v.className="histogram-bar",v.style.width=`${l}px`,v.style.height="10px",v.style.backgroundColor="rgba(255, 0, 0, 0.5)",v.style.position="absolute",v.style.top=`${d}px`,v.style.left="0",v.setAttribute("id",`${o}_p`),v.setAttribute("title",`Strike: ${o}, CallOI: ${(r/1e5).toFixed(2)}L, PutOI: ${(n/1e5).toFixed(2)}L`),s.appendChild(u),s.appendChild(v)}}}}},initTWChart(e){let t=localStorage.getItem("ssdtsym");t&&t.includes(":")&&!t.toLowerCase().includes("undefined")||(t=this.symbol||"NSE:NIFTY 50");const a={symbol:t,datafeed:Datafeed,interval:this.interval,container:this.containerId,auto_save_delay:1,library_path:this.libraryPath,timezone:"Asia/Kolkata",locale:"en",custom_css_url:"../css/style.css",disabled_features:["timeframes_toolbar","symbol_info","header_compare","end_of_period_timescale_marks","header_symbol_search"],enabled_features:["study_templates","use_localstorage_for_settings","iframe_loading_compatibility_mode","iframe_loading_compatibility_mode","custom_resolutions","header_saveload"],charts_storage_url:"https://chartbe.mynt.in",charts_storage_api_version:this.chartsStorageApiVersion,client_id:"Mynt_web",user_id:"",fullscreen:this.fullscreen,autosize:this.autosize,studies_overrides:this.studiesOverrides,theme:this.$vuetify.theme.dark?"light":"dark",settings_adapter:{initialSettings:this.settings,setValue:function(e,t){let a;null!=localStorage.getItem("settings")?(a=JSON.parse(localStorage.getItem("settings")),a[e],a[e]=t):a[e]=t,localStorage.setItem("settings",JSON.stringify(a))},removeValue:function(e){let t=JSON.parse(localStorage.getItem("settings"));delete t[e],localStorage.setItem("settings",JSON.stringify(t))}},widgetbar:{details:!1,news:!1,watchlist:!1,datawindow:!1,watchlist_settings:{default_symbols:[],readonly:!1}}},o=document.getElementById(this.containerId),r=document.getElementById("chartloader");if(!o||!r)return void setTimeout(()=>this.initTWChart(e),100);var n=o.classList,i=r.classList;"0"==e?(a.disabled_features.push("header_widget"),a.disabled_features.push("left_toolbar"),a.disabled_features.push("timeframes_toolbar"),a.disabled_features.push("legend_context_menu"),a.disabled_features.push("shift_visible_range_on_new_bar"),a.disabled_features.push("uppercase_instrument_names"),a.disabled_features.push("main_series_scale_menu"),n.add("TVChartpop"),n.remove("TVChartContainer"),i.add("TVChartpop"),i.remove("TVChartContainer")):(n.add("TVChartContainer"),n.remove("TVChartpop"),i.add("TVChartContainer"),i.remove("TVChartpop"));const l=sessionStorage.getItem("userid");a.user_id=l;const s=new Ee(a);this.tvWidget=s,window.tvWidget=s;const c=this;s.onChartReady(()=>{if(this.tvReady=!0,s.changeTheme(this.$vuetify.theme.dark?"dark":"light"),setTimeout(()=>{s.activeChart().applyOverrides({"paneProperties.background":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientEndColor":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientStartColor":this.$vuetify.theme.dark?"#121212":"#ffffff","mainSeriesProperties.highLowAvgPrice.highLowPriceLinesVisible":!0,"mainSeriesProperties.highLowAvgPrice.highLowPriceLabelsVisible":!0,"scalesProperties.showStudyPlotLabels":!1,"mainSeriesProperties.showCountdown":!0,"paneProperties.legendProperties.showStudyArguments":!1,"mainSeriesProperties.statusViewStyle.showExchange":!1,"mainSeriesProperties.statusViewStyle.showInterval":!1})},0),"0"!=e&&(s.headerReady().then(()=>{const e=s.createButton({align:"right"});e.setAttribute("title","Reset Chart"),e.innerHTML='<svg width="28" height="34" viewBox="0 0 28 34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 19C5.5 20.6811 5.99852 22.3245 6.93251 23.7223C7.8665 25.1202 9.19402 26.2096 10.7472 26.853C12.3004 27.4963 14.0094 27.6646 15.6583 27.3367C17.3071 27.0087 18.8217 26.1992 20.0104 25.0104C21.1992 23.8217 22.0087 22.3071 22.3367 20.6583C22.6647 19.0094 22.4963 17.3004 21.853 15.7472C21.2096 14.194 20.1202 12.8665 18.7223 11.9325C17.3245 10.9985 15.6811 10.5 14 10.5H7.5" stroke="currentColor"/><path d="M11 14L7.5 10.5L11 7" stroke="currentColor"/></svg>',e.addEventListener("click",()=>{s.activeChart().resetData(),s.activeChart().executeActionById("chartReset"),c.renderHistogram()})}),s.onContextMenu(function(e,t){return[{position:"top",text:"Set Alert ("+(null==t?void 0:t.toFixed(2))+")",click:function(){var e,a;const o=new CustomEvent("menudialog",{detail:{type:"alert",token:localStorage.getItem("ssdtoken"),exch:null==(e=localStorage.getItem("ssdtsym"))?void 0:e.split(":")[0],tsym:null==(a=localStorage.getItem("ssdtsym"))?void 0:a.split(":")[1],action:"a",data:{price:null==t?void 0:t.toFixed(2)}}});window.dispatchEvent(o)}}]})),s.activeChart().dataReady(()=>{s.activeChart().executeActionById("chartReset")}),this.showchart=!1,this.setIndicatorsInterval(),this.pendingSymbol){try{s.activeChart().setSymbol(this.pendingSymbol)}catch(e2){}this.pendingSymbol=null}})}},destroyed(){null!==this.tvWidget&&(this.tvWidget.remove(),this.tvWidget=null)}},_hoisted_1$c={class:"tradingview-wrapper elevation-0"},_hoisted_2$a=["id"];function _sfc_render$1(e,t,a,o,r,n){return openBlock(),createElementBlock("div",null,[r.oiloader?(openBlock(),createBlock(VProgressLinear,{key:0,color:"primary",indeterminate:"",rounded:""})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_1$c,[createBaseVNode("div",{id:a.containerId,class:"chart-container"},null,8,_hoisted_2$a),t[0]||(t[0]=createBaseVNode("div",{id:"histogram-container",class:"histogram-container"},null,-1)),r.showchart?(openBlock(),createBlock(VCard,{key:0,color:"cardbg",width:"100%",id:"chartloader",class:"pos-abs elevation-0 rounded-0 text-center",style:{top:0,left:0}},{default:withCtx(()=>[createVNode(VProgressCircular,{class:"my-auto",color:"primary",size:60,width:4,indeterminate:"",style:{top:"40%"}})]),_:1})):createCommentVNode("",!0)])])}const TVSingleChartContainer=_export_sfc(_sfc_main$o,[["render",_sfc_render$1],["__scopeId","data-v-a1741ffd"]]),_sfc_main$n={name:"TVMultiChartContainer",props:{symbol:{default:localStorage.getItem("ssdtsym"),type:String},chartLayoutType:{default:1,type:Number},containerId:{default:"tv_chart_1",type:String},datafeedUrl:{default:"",type:String},libraryPath:{default:"../charting_library/",type:String},chartsStorageUrl:{default:"https://chartbe.mynt.in",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"ZEBU",type:String},userId:{default:"",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},tvWidgetCount:{default:1,type:Number},studiesOverrides:{type:Object},title:String,subtitle:String,text:String,image:String},data:()=>({activeTVChartSection:!1,showchart:!0,theme:"light",savedSymbol:"",settings:JSON.parse(localStorage.getItem("settings")),interval:"1",openInterestData:[],oiloader:!1}),mounted(){this.interval=this.settings&&this.settings["chart.lastUsedTimeBasedResolution"]?this.settings["chart.lastUsedTimeBasedResolution"]:"5",this.initTWChart(localStorage.getItem("adv_chart"));var e=[];if(this.settings){for(let e in this.settings)e.includes("savedwatch")&&delete this.settings[e];e=this.settings}else e={};localStorage.setItem("settings",JSON.stringify(e))},beforeDestroy(){},methods:{captureSelectedTVChart(){eventBus.$emit("section-clicked",this.containerId),eventBus.$on("section-clicked",e=>{e===this.containerId?this.activeTVChartSection=!0:this.activeTVChartSection=!1})},async setIndicatorsInterval(e){var t=await getIndicators();if(setInterval(async function(){for(var a=window[e].activeChart().getAllStudies(),o=[],r=0;r<a.length;r++){var n=a[r].name;"Volume"!=n&&o.push(n)}if(JSON.stringify(t.data)!=JSON.stringify(o))try{let e=await setIndicators(o);t=e}catch(e2){console.log(e2)}},5e3),t.data)for(var a=0;a<t.data.length;a++)window[e].activeChart().createStudy(t.data[a],!1,!1)},initTWChart(e){let t=localStorage.getItem("ssdtsym");t&&t.includes(":")&&!t.toLowerCase().includes("undefined")||(t=this.symbol||"NSE:NIFTY 50");const a={symbol:t,datafeed:Datafeed,interval:this.interval,container:this.containerId,auto_save_delay:1,library_path:this.libraryPath,timezone:"Asia/Kolkata",locale:"en",custom_css_url:"../css/style.css",disabled_features:["timeframes_toolbar","symbol_info","header_compare","end_of_period_timescale_marks","header_symbol_search"],enabled_features:["study_templates","use_localstorage_for_settings","iframe_loading_compatibility_mode","iframe_loading_compatibility_mode","custom_resolutions","header_saveload"],charts_storage_url:"https://chartbe.mynt.in",charts_storage_api_version:this.chartsStorageApiVersion,client_id:"Mynt_web",user_id:"",fullscreen:this.fullscreen,autosize:this.autosize,studies_overrides:this.studiesOverrides,theme:this.$vuetify.theme.dark?"light":"dark",settings_adapter:{initialSettings:this.settings,setValue:function(e,t){let a;null!=localStorage.getItem("settings")?(a=JSON.parse(localStorage.getItem("settings")),a[e],a[e]=t):a[e]=t,localStorage.setItem("settings",JSON.stringify(a))},removeValue:function(e){let t=JSON.parse(localStorage.getItem("settings"));delete t[e],localStorage.setItem("settings",JSON.stringify(t))}},widgetbar:{details:!1,news:!1,watchlist:!1,datawindow:!1,watchlist_settings:{default_symbols:[],readonly:!1}}},o=sessionStorage.getItem("userid");a.user_id=o,window[this.containerId]=new Ee(a),window[this.containerId].onChartReady(()=>{window[this.containerId].changeTheme(this.$vuetify.theme.dark?"dark":"light"),setTimeout(()=>{window[this.containerId].activeChart().applyOverrides({"paneProperties.background":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientEndColor":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientStartColor":this.$vuetify.theme.dark?"#121212":"#ffffff","mainSeriesProperties.highLowAvgPrice.highLowPriceLinesVisible":!0,"mainSeriesProperties.highLowAvgPrice.highLowPriceLabelsVisible":!0,"scalesProperties.showStudyPlotLabels":!1,"mainSeriesProperties.showCountdown":!0,"paneProperties.legendProperties.showStudyArguments":!1,"mainSeriesProperties.statusViewStyle.showExchange":!1,"mainSeriesProperties.statusViewStyle.showInterval":!1})},0),"0"!=e&&(window[this.containerId].headerReady().then(()=>{const e=window[this.containerId].createButton({align:"right"});e.setAttribute("title","Reset Chart"),e.innerHTML='<svg width="28" height="34" viewBox="0 0 28 34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 19C5.5 20.6811 5.99852 22.3245 6.93251 23.7223C7.8665 25.1202 9.19402 26.2096 10.7472 26.853C12.3004 27.4963 14.0094 27.6646 15.6583 27.3367C17.3071 27.0087 18.8217 26.1992 20.0104 25.0104C21.1992 23.8217 22.0087 22.3071 22.3367 20.6583C22.6647 19.0094 22.4963 17.3004 21.853 15.7472C21.2096 14.194 20.1202 12.8665 18.7223 11.9325C17.3245 10.9985 15.6811 10.5 14 10.5H7.5" stroke="currentColor"/><path d="M11 14L7.5 10.5L11 7" stroke="currentColor"/></svg>',e.addEventListener("click",()=>{window[this.containerId].activeChart().resetData(),window[this.containerId].activeChart().executeActionById("chartReset")})}),window[this.containerId].onContextMenu(function(e,t){return[{position:"top",text:"Set Alert ("+(null==t?void 0:t.toFixed(2))+")",click:function(){eventBus.$emit("menudialog","alert",localStorage.getItem("ssdtoken"),localStorage.getItem("ssdtsym").split(":")[0],localStorage.getItem("ssdtsym").split(":")[1],"a",{price:null==t?void 0:t.toFixed(2)})}}]})),window[this.containerId].activeChart().dataReady(()=>{window[this.containerId].activeChart().executeActionById("chartReset")}),this.showchart=!1,this.setIndicatorsInterval(this.containerId)})}},destroyed(){null!==window[this.containerId]&&(window[this.containerId].remove(),window[this.containerId]=null)}},_hoisted_1$b=["id"];function _sfc_render(e,t,a,o,r,n){return openBlock(),createElementBlock("div",{class:normalizeClass(["tradingview-wrapper elevation-0",{active:r.activeTVChartSection}])},[r.activeTVChartSection?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,class:"tvChart-overlay-detect",onClick:t[0]||(t[0]=(...e)=>n.captureSelectedTVChart&&n.captureSelectedTVChart(...e))})),createBaseVNode("div",{id:a.containerId,class:normalizeClass(1==a.chartLayoutType||2==a.chartLayoutType?"mono-TVChartContainer":"trio-TVChartContainer")},null,10,_hoisted_1$b)],2)}const TVMultiChartContainer=_export_sfc(_sfc_main$n,[["render",_sfc_render],["__scopeId","data-v-ee792584"]]),_imports_0="data:image/svg+xml,%3csvg%20width='19'%20height='18'%20viewBox='0%200%2019%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1773_851)'%3e%3cpath%20d='M6.71387%204.37662V1H12.4282V4.37662'%20stroke='%230037B7'%20stroke-width='1.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.85714%2011.1302H1V5.50249C1%205.20398%201.12041%204.9177%201.33474%204.70662C1.54906%204.49554%201.83975%204.37695%202.14286%204.37695H17C17.3031%204.37695%2017.5938%204.49554%2017.8081%204.70662C18.0224%204.9177%2018.1429%205.20398%2018.1429%205.50249V11.1302H11.2857'%20stroke='%230037B7'%20stroke-width='1.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.9997%2013.3809V15.6319C16.9997%2015.9305%2016.8793%2016.2167%2016.665%2016.4278C16.4507%2016.6389%2016.16%2016.7575%2015.8569%2016.7575H3.28544C2.98233%2016.7575%202.69164%2016.6389%202.47731%2016.4278C2.26299%2016.2167%202.14258%2015.9305%202.14258%2015.6319V13.3809'%20stroke='%230037B7'%20stroke-width='1.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.287%208.87891H7.8584V13.3811H11.287V8.87891Z'%20stroke='%230037B7'%20stroke-width='1.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1773_851'%3e%3crect%20width='19'%20height='18'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",VSliderSymbol=Symbol.for("vuetify:v-slider");function getOffset(e,t,a){const o="vertical"===a,r=t.getBoundingClientRect(),n="touches"in e?e.touches[0]:e;return o?n.clientY-(r.top+r.height/2):n.clientX-(r.left+r.width/2)}function getPosition(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const makeSliderProps=propsFactory({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"==typeof e||"always"===e},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>"boolean"==typeof e||"always"===e},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,noKeyboard:Boolean,...makeRoundedProps(),...makeElevationProps({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),useSteps=e=>{const t=computed(()=>parseFloat(e.min)),a=computed(()=>parseFloat(e.max)),o=computed(()=>Number(e.step)>0?parseFloat(e.step):0),r=computed(()=>Math.max(getDecimals(o.value),getDecimals(t.value)));return{min:t,max:a,step:o,decimals:r,roundValue:function(e){if(e=parseFloat(e),o.value<=0)return e;const n=clamp(e,t.value,a.value),i=t.value%o.value;let l=Math.round((n-i)/o.value)*o.value+i;return n>l&&l+o.value>a.value&&(l=a.value),parseFloat(Math.min(l,a.value).toFixed(r.value))}}},useSlider=e=>{let{props:t,steps:a,onSliderStart:o,onSliderMove:r,onSliderEnd:n,getActiveThumb:i}=e;const l=useForm(t),{isRtl:s}=useRtl(),c=toRef(()=>t.reverse),d=computed(()=>"vertical"===t.direction),u=computed(()=>d.value!==c.value),{min:p,max:h,step:m,decimals:v,roundValue:f}=a,g=computed(()=>parseInt(t.thumbSize,10)),y=computed(()=>parseInt(t.tickSize,10)),_=computed(()=>parseInt(t.trackSize,10)),b=computed(()=>(h.value-p.value)/m.value),w=computed(()=>t.error||l.isDisabled.value?void 0:t.thumbColor??t.color),x=computed(()=>t.error||l.isDisabled.value?void 0:t.thumbColor),V=computed(()=>t.error||l.isDisabled.value?void 0:t.trackColor??t.color),k=computed(()=>t.error||l.isDisabled.value?void 0:t.trackFillColor??t.color),C=shallowRef(!1),S=shallowRef(0),N=ref$1(),T=ref$1();function B(e){var a;const o=null==(a=N.value)?void 0:a.$el;if(!o)return;const r="vertical"===t.direction,n=r?"top":"left",i=r?"height":"width",l=r?"clientY":"clientX",{[n]:c,[i]:d}=o.getBoundingClientRect(),m=getPosition(e,l);let v=clamp((m-c-S.value)/d)||0;return(r?u.value:u.value!==s.value)&&(v=1-v),f(p.value+v*(h.value-p.value))}const E=e=>{const t=B(e);null!=t&&n({value:t}),C.value=!1,S.value=0},I=e=>{const a=B(e);T.value=i(e),T.value&&(C.value=!0,T.value.contains(e.target)?S.value=getOffset(e,T.value,t.direction):(S.value=0,null!=a&&r({value:a})),null!=a&&o({value:a}),nextTick(()=>{var e;return null==(e=T.value)?void 0:e.focus()}))},$={passive:!0,capture:!0};function P(e){const t=B(e);null!=t&&r({value:t})}function D(e){e.stopPropagation(),e.preventDefault(),E(e),window.removeEventListener("mousemove",P,$),window.removeEventListener("mouseup",D)}function L(e){var t;E(e),window.removeEventListener("touchmove",P,$),null==(t=e.target)||t.removeEventListener("touchend",L)}const R=e=>{const t=(e-p.value)/(h.value-p.value)*100;return clamp(isNaN(t)?0:t,0,100)},A=toRef(()=>t.showTicks),O=computed(()=>A.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(e=>({value:e,position:R(e),label:e.toString()})):Object.keys(t.ticks).map(e=>({value:parseFloat(e),position:R(parseFloat(e)),label:t.ticks[e]})):b.value!==1/0?createRange(b.value+1).map(e=>{const t=p.value+e*m.value;return{value:t,position:R(t)}}):[]:[]),M=computed(()=>O.value.some(e=>{let{label:t}=e;return!!t})),F={activeThumbRef:T,color:toRef(()=>t.color),decimals:v,disabled:l.isDisabled,direction:toRef(()=>t.direction),elevation:toRef(()=>t.elevation),hasLabels:M,isReversed:c,indexFromEnd:u,min:p,max:h,mousePressed:C,noKeyboard:toRef(()=>t.noKeyboard),numTicks:b,onSliderMousedown:function(e){0===e.button&&(e.preventDefault(),I(e),window.addEventListener("mousemove",P,$),window.addEventListener("mouseup",D,{passive:!1}))},onSliderTouchstart:function(e){var t;I(e),window.addEventListener("touchmove",P,$),null==(t=e.target)||t.addEventListener("touchend",L,{passive:!1})},parsedTicks:O,parseMouseMove:B,position:R,readonly:l.isReadonly,rounded:toRef(()=>t.rounded),roundValue:f,showTicks:A,startOffset:S,step:m,thumbSize:g,thumbColor:w,thumbLabelColor:x,thumbLabel:toRef(()=>t.thumbLabel),ticks:toRef(()=>t.ticks),tickSize:y,trackColor:V,trackContainerRef:N,trackFillColor:k,trackSize:_,vertical:d};return provide(VSliderSymbol,F),F},makeVSliderThumbProps=propsFactory({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,noKeyboard:Boolean,...makeComponentProps()},"VSliderThumb"),VSliderThumb=genericComponent()({name:"VSliderThumb",directives:{vRipple:Ripple},props:makeVSliderThumbProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=inject(VSliderSymbol),{isRtl:n,rtlClasses:i}=useRtl();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:l,max:s,thumbColor:c,thumbLabelColor:d,step:u,disabled:p,thumbSize:h,thumbLabel:m,direction:v,isReversed:f,vertical:g,readonly:y,elevation:_,mousePressed:b,decimals:w,indexFromEnd:x}=r,V=computed(()=>p.value?void 0:_.value),{elevationClasses:k}=useElevation(V),{textColorClasses:C,textColorStyles:S}=useTextColor(c),{backgroundColorClasses:N,backgroundColorStyles:T}=useBackgroundColor(d),{pageup:B,pagedown:E,end:I,home:$,left:P,right:D,down:L,up:R}=keyValues,A=[B,E,I,$,P,D,L,R],O=computed(()=>u.value?[1,2,3]:[1,5,10]);function M(t){const a=function(t,a){if(e.noKeyboard)return;if(!A.includes(t.key))return;t.preventDefault();const o=u.value||.1,r=(s.value-l.value)/o;if([P,D,L,R].includes(t.key)){const e=(g.value?[n.value?P:D,f.value?L:R]:x.value!==n.value?[P,R]:[D,R]).includes(t.key)?1:-1,i=t.shiftKey?2:t.ctrlKey?1:0;-1!==e||a!==s.value||i||Number.isInteger(r)?a+=e*o*O.value[i]:a-=r%1*o}else t.key===$?a=l.value:t.key===I?a=s.value:a-=(t.key===E?1:-1)*o*(r>100?r/10:10);return Math.max(e.min,Math.min(e.max,a))}(t,e.modelValue);null!=a&&o("update:modelValue",a)}return useRender(()=>{const t=convertToUnit(x.value?100-e.position:e.position,"%");return createBaseVNode("div",{class:normalizeClass(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&b.value},e.class,i.value]),style:normalizeStyle([{"--v-slider-thumb-position":t,"--v-slider-thumb-size":convertToUnit(h.value)},e.style]),role:"slider",tabindex:p.value?-1:0,"aria-label":e.name,"aria-valuemin":l.value,"aria-valuemax":s.value,"aria-valuenow":e.modelValue,"aria-readonly":!!y.value,"aria-orientation":v.value,onKeydown:y.value?void 0:M},[createBaseVNode("div",{class:normalizeClass(["v-slider-thumb__surface",C.value,k.value]),style:normalizeStyle(S.value)},null),withDirectives(createBaseVNode("div",{class:normalizeClass(["v-slider-thumb__ripple",C.value]),style:normalizeStyle(S.value)},null),[[Ripple,e.ripple,null,{circle:!0,center:!0}]]),createVNode(VScaleTransition,{origin:"bottom center"},{default:()=>{var t;return[withDirectives(createBaseVNode("div",{class:"v-slider-thumb__label-container"},[createBaseVNode("div",{class:normalizeClass(["v-slider-thumb__label",N.value]),style:normalizeStyle(T.value)},[createBaseVNode("div",null,[(null==(t=a["thumb-label"])?void 0:t.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(u.value?w.value:1)]),createBaseVNode("div",{class:"v-slider-thumb__label-wedge"},null)])]),[[vShow,m.value&&e.focused||"always"===m.value]])]}})])}),{}}}),makeVSliderTrackProps=propsFactory({start:{type:Number,required:!0},stop:{type:Number,required:!0},...makeComponentProps()},"VSliderTrack"),VSliderTrack=genericComponent()({name:"VSliderTrack",props:makeVSliderTrackProps(),emits:{},setup(e,t){let{slots:a}=t;const o=inject(VSliderSymbol);if(!o)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:n,rounded:i,showTicks:l,tickSize:s,trackColor:c,trackFillColor:d,trackSize:u,vertical:p,min:h,max:m,indexFromEnd:v}=o,{roundedClasses:f}=useRounded(i),{backgroundColorClasses:g,backgroundColorStyles:y}=useBackgroundColor(d),{backgroundColorClasses:_,backgroundColorStyles:b}=useBackgroundColor(c),w=computed(()=>`inset-${p.value?"block":"inline"}-${v.value?"end":"start"}`),x=computed(()=>p.value?"height":"width"),V=computed(()=>({[w.value]:"0%",[x.value]:"100%"})),k=computed(()=>e.stop-e.start),C=computed(()=>({[w.value]:convertToUnit(e.start,"%"),[x.value]:convertToUnit(k.value,"%")})),S=computed(()=>{if(!l.value)return[];return(p.value?n.value.slice().reverse():n.value).map((t,o)=>{var r;const n=t.value!==h.value&&t.value!==m.value?convertToUnit(t.position,"%"):void 0;return createBaseVNode("div",{key:t.value,class:normalizeClass(["v-slider-track__tick",{"v-slider-track__tick--filled":t.position>=e.start&&t.position<=e.stop,"v-slider-track__tick--first":t.value===h.value,"v-slider-track__tick--last":t.value===m.value}]),style:{[w.value]:n}},[(t.label||a["tick-label"])&&createBaseVNode("div",{class:"v-slider-track__tick-label"},[(null==(r=a["tick-label"])?void 0:r.call(a,{tick:t,index:o}))??t.label])])})});return useRender(()=>createBaseVNode("div",{class:normalizeClass(["v-slider-track",f.value,e.class]),style:normalizeStyle([{"--v-slider-track-size":convertToUnit(u.value),"--v-slider-tick-size":convertToUnit(s.value)},e.style])},[createBaseVNode("div",{class:normalizeClass(["v-slider-track__background",_.value,{"v-slider-track__background--opacity":!!r.value||!d.value}]),style:{...V.value,...b.value}},null),createBaseVNode("div",{class:normalizeClass(["v-slider-track__fill",g.value]),style:{...C.value,...y.value}},null),l.value&&createBaseVNode("div",{class:normalizeClass(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":"always"===l.value}])},[S.value])])),{}}}),makeVSliderProps=propsFactory({...makeFocusProps(),...makeSliderProps(),...makeVInputProps(),modelValue:{type:[Number,String],default:0}},"VSlider"),VSlider=genericComponent()({name:"VSlider",props:makeVSliderProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=ref$1(),n=ref$1(),{rtlClasses:i}=useRtl(),l=useSteps(e),s=useProxiedModel(e,"modelValue",void 0,e=>l.roundValue(null==e?l.min.value:e)),{min:c,max:d,mousePressed:u,roundValue:p,onSliderMousedown:h,onSliderTouchstart:m,trackContainerRef:v,position:f,hasLabels:g,disabled:y,readonly:_,noKeyboard:b}=useSlider({props:e,steps:l,onSliderStart:()=>{o("start",s.value)},onSliderEnd:e=>{let{value:t}=e;const a=p(t);s.value=a,o("end",a)},onSliderMove:e=>{let{value:t}=e;return s.value=p(t)},getActiveThumb:()=>{var e;return null==(e=r.value)?void 0:e.$el}}),{isFocused:w,focus:x,blur:V}=useFocus(e),k=computed(()=>f(s.value));return useRender(()=>{const t=VInput.filterProps(e),o=!!(e.label||a.label||a.prepend);return createVNode(VInput,mergeProps({ref:n,class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||g.value,"v-slider--focused":w.value,"v-slider--pressed":u.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},t,{focused:w.value}),{...a,prepend:o?t=>{var o,r;return createBaseVNode(Fragment,null,[(null==(o=a.label)?void 0:o.call(a,t))??(e.label?createVNode(VLabel,{id:t.id.value,class:"v-slider__label",text:e.label},null):void 0),null==(r=a.prepend)?void 0:r.call(a,t)])}:void 0,default:t=>{let{id:o,messagesId:n}=t;return createBaseVNode("div",{class:"v-slider__container",onMousedown:_.value?void 0:h,onTouchstartPassive:_.value?void 0:m},[createBaseVNode("input",{id:o.value,name:e.name||o.value,disabled:!!y.value,readonly:!!_.value,tabindex:"-1",value:s.value},null),createVNode(VSliderTrack,{ref:v,start:0,stop:k.value},{"tick-label":a["tick-label"]}),createVNode(VSliderThumb,{ref:r,"aria-describedby":n.value,focused:w.value,noKeyboard:b.value,min:c.value,max:d.value,modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,position:k.value,elevation:e.elevation,onFocus:x,onBlur:V,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),forwardRefs({focus:()=>{var e;return null==(e=r.value)?void 0:e.$el.focus()}},n)}}),_hoisted_1$a={class:"d-flex align-center px-0 px-md-4"},_hoisted_2$9=["src","alt"],_hoisted_3$8={key:1,class:"headline maintext--text font-weight-bold"},_hoisted_4$7={class:"d-flex flex-column justify-center w-100 ml-3"},_hoisted_5$7={class:"d-flex align-center"},_hoisted_6$7={class:"primary--text fs-12 pt-1"},_hoisted_7$7={class:"mb-0 mr-md-4 subtitle-1 font-weight-bold lh-24"},_hoisted_8$7=["id"],_hoisted_9$7=["id"],_hoisted_10$7=["id"],_hoisted_11$7=["id"],_hoisted_12$7={key:0,class:"px-4"},_hoisted_13$7={key:1},_hoisted_14$6=["id"],_hoisted_15$4=["id"],_hoisted_16$4={class:"d-flex flex-row mb-1"},_hoisted_17$4={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24"},_hoisted_18$4=["id"],_hoisted_19$4={key:1,class:"fs-12 pt-1 lh-24"},_hoisted_20$4={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24 float-right"},_hoisted_21$4=["id"],_hoisted_22$4={class:"d-flex flex-row mb-1"},_hoisted_23$4={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24"},_hoisted_24$4={key:1,class:"fs-12 pt-1 lh-24"},_hoisted_25$3={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24 float-right"},_hoisted_26$3={class:"pt-5"},_hoisted_27$3={class:"text-right"},_hoisted_28$3={class:"mb-0 subtext--text fs-14 font-weight-medium"},_hoisted_29$3={class:"float-right"},_hoisted_30$3={class:"mb-0 subtext--text fs-14 font-weight-medium text-right"},_hoisted_31$3={class:"float-left"},_hoisted_32$3=["id"],_hoisted_33$3=["id"],_hoisted_34$3=["id"],_hoisted_35$3=["id"],_hoisted_36$3=["id"],_hoisted_37$3=["id"],_hoisted_38$3={key:0,class:"px-4 pt-4"},_hoisted_39$3=["id"],_hoisted_40$3=["id"],_hoisted_41$3={class:"mb-0 fs-10 text-uppercase font-weight-medium"},_hoisted_42$3={class:"mb-0 fs-10 text-uppercase font-weight-medium"},_hoisted_43$3={key:1,class:"px-4 pb-4"},_hoisted_44$3={key:0,class:"pos-abs",style:{right:"-10px"}},_hoisted_45$3={key:0,class:"pos-abs",style:{right:"-32px"}},_sfc_main$m={__name:"StocksOverview",setup(e){const t=ref$1(!0),a=ref$1([]),o=ref$1(null),r=ref$1([]),n=ref$1(0),i=ref$1(!1),l=()=>{try{return JSON.parse(localStorage.getItem("price_cache")||"{}")}catch{return{}}},s=e=>{const t=Number(a.value&&a.value[0]&&a.value[0].ltp?a.value[0].ltp:0),o=Number(e);if(!t||!o||o<=0)return"0.00";const r=(t-o)/o*100;return isFinite(r)?r.toFixed(2):"0.00"},c=(e,t,a)=>{window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==e?u(e,t,a):setTimeout(()=>{c(e,t,a)},100)},d=()=>{o.value=null},u=async(e,r,i)=>{let s=window.ssddetail;o.value=`${apiurl.imgicon}${i.split("-")[0]}.png`,a.value=[];var c=s[1]?s[1]:"";t.value=!1,a.value.push(s[0]),c&&c.fundamental&&c.fundamental[0]?a.value.f=c.fundamental[0]:a.value.f=[],p(e),v("sub",[{token:e,exch:r,tsym:i}],"ssd"),n.value=a.value[0]&&a.value[0].token?a.value[0].token:0,f(e),m(a.value[0]);const d=l();if(a.value&&a.value[0]&&e){const t=d[e];if(t){["ltp","ch","chp","high_price","low_price","open_price","close_price"].forEach(e=>{a.value[0][e]&&0!==Number(a.value[0][e])||(a.value[0][e]=t[e])});const o=(e,t)=>{const a=document.getElementById(e);a&&void 0!==t&&(a.innerHTML=t)};o(`ssdove${e}ltp`,a.value[0].ltp),o(`ssdove${e}ch`,a.value[0].ch),o(`ssdove${e}chp`,a.value[0].chp)}}},p=e=>{var t,o,n=null==(t=window.ssdreqdata)?void 0:t.data;n&&n[e]&&n[e].t?(r.value=[{type:"1 day",returns:(null==(o=a.value[0])?void 0:o.close_price)||0},{type:"1 week",returns:Number(n[e].t.wk1_c)?Number(n[e].t.wk1_c):0},{type:"2 week",returns:Number(n[e].t.wk2_c)?Number(n[e].t.wk2_c):0},{type:"1 month",returns:Number(n[e].t.mnth1_c)?Number(n[e].t.mnth1_c):0},{type:"3 month",returns:Number(n[e].t.mnth3_c)?Number(n[e].t.mnth3_c):0},{type:"1 year",returns:Number(n[e].t.wk52_c)?Number(n[e].t.wk52_c):0}],a.value.pivot=Number(n[e].t.sup_3)>0&&Number(n[e].t.sup_2)>0&&Number(n[e].t.sup_1)>0&&Number(n[e].t.res_1)>0&&Number(n[e].t.res_2)>0&&Number(n[e].t.res_3)>0?[{color:"#FF1717",name:"S3",value:Number(n[e].t.sup_3)?Number(n[e].t.sup_3):0},{color:"#D34645",name:"S2",value:Number(n[e].t.sup_2)?Number(n[e].t.sup_2):0},{color:"#E38988",name:"S1",value:Number(n[e].t.sup_1)?Number(n[e].t.sup_1):0},{color:"#84C89D",name:"R1",value:Number(n[e].t.res_1)?Number(n[e].t.res_1):0},{color:"#3FA965",name:"R2",value:Number(n[e].t.res_2)?Number(n[e].t.res_2):0},{color:"#43A833",name:"R3",value:Number(n[e].t.res_3)?Number(n[e].t.res_3):0}]:[],a.value.pivotpoint=Number(n[e].t.pivot_point)?Number(n[e].t.pivot_point):0):(r.value=[],setTimeout(()=>{p(e)},100))},h=()=>{o.value=null,a.value=[],r.value=[]},m=e=>{if(!e)return;const t=e.token,o=e=>e||0===e?Number(e).toFixed(2):"0.00",r=e=>e||0===e?Number(e):0;a.value[0].ltp=o(e.lp||e.ltp),a.value[0].ch=o(e.ch),a.value[0].chp=o(e.chp),a.value[0].high_price=o(e.high_price||e.high),a.value[0].low_price=o(e.low_price||e.low),a.value[0].open_price=o(e.open_price||e.open),a.value[0].close_price=o(e.prev_close_price||e.close),a.value[0].vol=r(e.volume||e.vol),a.value[0].ap=o(e.ap),a.value[0].oi=r(e.oi),a.value[0].uc=o(e.uc),a.value[0].lc=o(e.lc),a.value[0].ltt=e.ltt||"00:00:00",a.value[0].ltq=r(e.ltq);const n=(e,t)=>{const a=document.getElementById(e);a&&(a.innerHTML=t)};t&&(n(`ssdove${t}ltp`,a.value[0].ltp),n(`ssdove${t}ch`,a.value[0].ch),n(`ssdove${t}chp`,a.value[0].chp),n(`ssdove${t}hp`,a.value[0].high_price),n(`ssdove${t}lp`,a.value[0].low_price),n(`ssdove${t}op`,a.value[0].open_price),n(`ssdove${t}cp`,a.value[0].close_price),n(`ssdove${t}vol`,a.value[0].vol),n(`ssdove${t}ap`,a.value[0].ap),n(`ssdove${t}oi`,a.value[0].oi),n(`ssdove${t}uc`,a.value[0].uc),n(`ssdove${t}lc`,a.value[0].lc),n(`ssdove${t}ltt`,a.value[0].ltt),n(`ssdove${t}ltq`,a.value[0].ltq))},v=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},f=e=>{const t=getMHoldingdata();if(!(null==t?void 0:t.length))return null;const o=t.find(t=>t.token==e);(null==o?void 0:o.netqty)>0&&(a.value[0].sucase=o.netqty)},g=e=>{const t=e.token||e.tk;if(!t||!a.value[0]||a.value[0].token!=t)return;const o=Number(e.lp||e.ltp||0);!isNaN(o)&&o>0&&(a.value[0].ltp=o.toFixed(2)),a.value[0].lp=a.value[0].ltp;const n=Number(e.ch||e.c);isNaN(n)||(a.value[0].ch=n.toFixed(2));const i=Number(e.chp);isNaN(i)||(a.value[0].chp=i.toFixed(2));const s=Number(e.high_price||e.high);isNaN(s)||(a.value[0].high_price=s.toFixed(2));const c=Number(e.low_price||e.low);isNaN(c)||(a.value[0].low_price=c.toFixed(2));const d=Number(e.w52h);isNaN(d)||(a.value[0].w52h=d.toFixed(2));const u=Number(e.w52l);isNaN(u)||(a.value[0].w52l=u.toFixed(2));const p=Number(e.open_price||e.open);isNaN(p)||(a.value[0].open_price=p.toFixed(2));const h=Number(e.prev_close_price||e.close);isNaN(h)||(a.value[0].close_price=h);const m=Number(e.socketVolume||e.volume||e.vol);isNaN(m)||(a.value[0].vol=m);const v=Number(e.ap);isNaN(v)||(a.value[0].ap=v.toFixed(2));const f=Number(e.oi);isNaN(f)||(a.value[0].oi=f);const g=Number(e.uc);isNaN(g)||(a.value[0].uc=g);const y=Number(e.lc);isNaN(y)||(a.value[0].lc=y),e.ltt&&(a.value[0].ltt=e.ltt);const _=Number(e.ltq);isNaN(_)||(a.value[0].ltq=_),e.tbq&&e.tsq&&(a.value[0].bid_qty=e.tbq>0||e.tsq>0?((e.tbq-(e.tbq+e.tsq))/(e.tbq+e.tsq)*100+100).toFixed(2):0,a.value[0].ask_qty=e.tbq>0||e.tsq>0?Math.abs(100-a.value[0].bid_qty).toFixed(2):0),e.depth&&(a.value[0].depth=e.depth,a.value[0].depth.bids&&a.value[0].depth.bids.length>0&&(a.value[0].bitmax=Math.max(...a.value[0].depth.bids.map(e=>e.volume))),a.value[0].depth.asks&&a.value[0].depth.asks.length>0&&(a.value[0].askmax=Math.max(...a.value[0].depth.asks.map(e=>e.volume))));const b=l();b[t]={ltp:a.value[0].ltp,ch:a.value[0].ch,chp:a.value[0].chp,high_price:a.value[0].high_price,low_price:a.value[0].low_price,open_price:a.value[0].open_price,close_price:a.value[0].close_price},(e=>{try{localStorage.setItem("price_cache",JSON.stringify(e))}catch{}})(b);let w=document.getElementById(`ssdove${t}ltp`);if(w){a.value[0].ltp&&Number(a.value[0].ltp)>0&&(w.innerHTML=a.value[0].ltp);const e=document.getElementById(`ssdove${t}ch`),o=document.getElementById(`ssdove${t}chp`),r=document.getElementById(`ssdove${t}chpclr`);if(e&&void 0!==a.value[0].ch&&(e.innerHTML=a.value[0].ch),o&&void 0!==a.value[0].chp&&(o.innerHTML=a.value[0].chp),r){const e=parseFloat(a.value[0].ch)||0;r.className=e>0?"fs-12 maingreen--text":e<0?"fs-12 mainred--text":"fs-12 subtext-text"}const n=document.getElementById(`ssdove${t}oi`),i=document.getElementById(`ssdove${t}uc`),l=document.getElementById(`ssdove${t}lc`),s=document.getElementById(`ssdove${t}ltt`),c=document.getElementById(`ssdove${t}ltq`),d=document.getElementById(`ssdove${t}vol`),u=document.getElementById(`ssdove${t}ap`),p=document.getElementById(`ssdove${t}hp`),h=document.getElementById(`ssdove${t}lp`),m=document.getElementById(`ssdove${t}op`),v=document.getElementById(`ssdove${t}cp`);n&&(n.innerHTML=a.value[0].oi),i&&(i.innerHTML=a.value[0].uc),l&&(l.innerHTML=a.value[0].lc),s&&(s.innerHTML=a.value[0].ltt),c&&(c.innerHTML=a.value[0].ltq),d&&(d.innerHTML=a.value[0].vol),u&&(u.innerHTML=a.value[0].ap),p&&(p.innerHTML=a.value[0].high_price),h&&(h.innerHTML=a.value[0].low_price),m&&(m.innerHTML=a.value[0].open_price),v&&(v.innerHTML=a.value[0].close_price)}let x=document.getElementById(`ssdove${t}rbg`);if(x&&r.value.length>0){const e=document.getElementById(`ssdove${t}rchp`),o=document.getElementById(`ssdove${t}rchpclr`);if(e&&r.value[0]&&(e.innerHTML=r.value[0].returns?((a.value[0].ltp-r.value[0].returns)/r.value[0].returns*100).toFixed(2):"0.00"),o){const e=parseFloat(a.value[0].ch)||0;o.className=e>0?"fs-18 font-weight-bold mb-2 maingreen--text":e<0?"fs-18 font-weight-bold mb-2 mainred--text":"fs-18 font-weight-bold mb-2 subtext--text"}const n=parseFloat(a.value[0].ch)||0;x.style.backgroundColor=n>0?"#FBFFFA":n<0?"#FFFCFB":"#FAFAFA"}},y=e=>{const{detail:o}=e;if(Array.isArray(o)&&o.length>=4){const[e,r,n,i]=o;a.value[0]&&v("unsub-D",[{token:a.value[0].token,exch:a.value[0].exch,tsym:a.value[0].tsym}],"ssd"),t.value=!0,h(),c(r,n,i)}},_=e=>{const{detail:t}=e;i.value=t},b=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSSD"==a&&g(e)}else t&&"object"==typeof t&&("stockSSD"===t.page||t.token||t.tk)&&g(t)};return onMounted(()=>{let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&(t.value=!0,h(),c(localStorage.getItem("ssdtoken"),e.split(":")[0],e.split(":")[1])),window.addEventListener("ssd-event",y),window.addEventListener("lwc-event",_),window.addEventListener("web-scoketConn",b)}),onBeforeUnmount(()=>{window.removeEventListener("lwc-event",_),window.removeEventListener("ssd-event",y),window.removeEventListener("web-scoketConn",b)}),(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VCard,{class:"crd-trn ss-cards mb-4 overflow-hidden",width:"100%"},{default:withCtx(()=>[createVNode(VCard,{color:"secbg",height:"93px",class:"elevation-0 rounded-0 pt-2 px-md-0 px-3"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:{"background-color":"#F1F3F8 !important"}},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"7",class:"pb-1 pb-md-2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$a,[createVNode(VAvatar,{color:"mainbg",size:"56",class:"my-0"},{default:withCtx(()=>{var e;return[o.value?(openBlock(),createElementBlock("img",{key:0,src:o.value,onError:d,class:"pa-1",alt:(null==(e=a.value[0])?void 0:e.cname)||"stock",width:"56px"},null,40,_hoisted_2$9)):(openBlock(),createElementBlock("span",_hoisted_3$8,toDisplayString(a.value[0]?(a.value[0].cname?a.value[0].cname:a.value[0].symname).slice(0,1):""),1))]}),_:1}),createBaseVNode("div",_hoisted_4$7,[createBaseVNode("div",{class:normalizeClass([a.value[0]?"maintext--text":"txt-trn","font-weight-bold mb-0 text-capitalize lh-14 pt-3"]),style:{"font-size":"16px !important"}},toDisplayString(a.value[0]?a.value[0].cname?a.value[0].cname:a.value[0].tsym:"abcd"),3),createVNode(VChipGroup,{class:"my-0 py-0 d-flex flex-wrap align-center",column:""},{default:withCtx(()=>{var e;return[createVNode(VChip,{label:"",size:"small",color:"0",style:{color:"0 !important"},class:"font-weight-medium fs-10"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value.f&&a.value.f.industry?a.value.f.industry:"Industry"),1)]),_:1}),createVNode(VChip,{label:"",size:"small",color:"black",style:{color:"black !important"},class:"font-weight-medium fs-10"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value.f&&a.value.f.market_cap_type?a.value.f.market_cap_type:"Marketcap type"),1)]),_:1}),(null==(e=a.value[0])?void 0:e.sucase)?(openBlock(),createBlock(VChip,{key:0,label:"",size:"small",color:"white",class:"font-weight-medium px-2"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_5$7,[t[2]||(t[2]=createBaseVNode("img",{width:"14px",src:_imports_0,style:{"margin-right":"4px"}},null,-1)),createBaseVNode("span",_hoisted_6$7,toDisplayString(a.value[0].sucase),1)])]),_:1})):createCommentVNode("",!0)]}),_:1})])])]),_:1}),createVNode(VCol,{cols:"12",md:"5",class:"text-md-right text-left pt-0 pt-md-5 pb-2 pl-4 pl-md-3"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_7$7,[t[5]||(t[5]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdove${n.value}ltp`},toDisplayString(a.value[0]&&a.value[0].ltp?a.value[0].ltp:"0.00"),9,_hoisted_8$7),t[6]||(t[6]=createBaseVNode("br",{class:"d-none d-md-block"},null,-1)),createBaseVNode("span",{class:normalizeClass(["fs-12",a.value[0]?a.value[0].ch>0?"maingreen--text":a.value[0].ch<0?"mainred--text":"subtext-text":"subtext-text"]),id:`ssdove${n.value}chpclr`},[createBaseVNode("span",{id:`ssdove${n.value}ch`},toDisplayString(a.value[0]&&a.value[0].ch?`${a.value[0].ch}`:"0.00"),9,_hoisted_10$7),t[3]||(t[3]=createTextVNode(" (",-1)),createBaseVNode("span",{id:`ssdove${n.value}chp`},toDisplayString(a.value[0]&&a.value[0].chp?`${a.value[0].chp}`:"0.00"),9,_hoisted_11$7),t[4]||(t[4]=createTextVNode("%)",-1))],10,_hoisted_9$7)])]),_:1})]),_:1})]),_:1}),i.value&&a.value&&a.value[0]?(openBlock(),createElementBlock("div",_hoisted_12$7,[createVNode(LightweightChart,{propstsym:a.value[0]?a.value[0]:{}},null,8,["propstsym"])])):(openBlock(),createElementBlock("div",_hoisted_13$7,[createVNode(VCard,{height:"46vh"})]))]),_:1}),createVNode(VCard,{class:"crd-trn ss-cards mb-4 pt-4 overflow-hidden",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(VRow,{class:"pt-md-3 pl-md-4 pr-md-7 flex-column-reverse flex-md-row"},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"4",class:"px-7 pl-md-3 pr-md-5 pb-0"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pt-0"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-0"},{default:withCtx(()=>[...t[7]||(t[7]=[createTextVNode("Market Cap ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value.f&&a.value.f.market_cap?`${Number(a.value.f.market_cap).toLocaleString()}`:"0.00"),1)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"6",class:"pt-0"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-0"},{default:withCtx(()=>[...t[8]||(t[8]=[createTextVNode("Volume ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-0",id:`ssdove${n.value}vol`},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value[0]&&a.value[0].volume?`${a.value[0].volume.toLocaleString()}`:"0.00"),1)]),_:1},8,["id"])]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 pb-0"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode("Open ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 pb-0"},{default:withCtx(()=>[t[10]||(t[10]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdove${n.value}op`},toDisplayString(a.value[0]&&a.value[0].open_price?a.value[0].open_price:"0.00"),9,_hoisted_14$6)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"6"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 pb-0"},{default:withCtx(()=>[...t[11]||(t[11]=[createTextVNode("Close ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 pb-0"},{default:withCtx(()=>[t[12]||(t[12]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdove${n.value}cp`},toDisplayString(a.value[0]&&a.value[0].close_price?a.value[0].close_price:"0.00"),9,_hoisted_15$4)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[t[15]||(t[15]=createBaseVNode("p",{class:"font-weight-regular fs-10 subtext--text mb-0"},"High - Low",-1)),createBaseVNode("div",_hoisted_16$4,[createBaseVNode("span",_hoisted_17$4,[t[13]||(t[13]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdove${n.value}hp`},toDisplayString(a.value[0]&&a.value[0].high_price?a.value[0].high_price:"0.00"),9,_hoisted_18$4)]),a.value[0]&&a.value[0].ltp>a.value[0].low_price&&a.value[0].ltp<a.value[0].high_price?(openBlock(),createBlock(VCard,{key:0,width:"100%",class:"crd-trn elevation-0 px-2 rot-180"},{default:withCtx(()=>[createVNode(VSlider,{"hide-details":"","thumb-color":"maintext",color:"subtext",modelValue:a.value[0].ltp,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value[0].ltp=e),readonly:"",min:a.value[0].low_price,max:a.value[0].high_price,"track-color":"subtext"},null,8,["modelValue","min","max"])]),_:1})):(openBlock(),createElementBlock("span",_hoisted_19$4," - ")),createBaseVNode("span",_hoisted_20$4,[t[14]||(t[14]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`ssdove${n.value}lp`},toDisplayString(a.value[0]&&a.value[0].low_price?a.value[0].low_price:"0.00"),9,_hoisted_21$4)])]),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"12"},{default:withCtx(()=>[t[16]||(t[16]=createBaseVNode("p",{class:"font-weight-regular fs-10 subtext--text mb-0"},"52 Weeks high - 52 Weeks low",-1)),createBaseVNode("div",_hoisted_22$4,[createBaseVNode("span",_hoisted_23$4,toDisplayString(a.value[0]&&a.value[0].w52h?`₹${a.value[0].w52h}`:"0.00"),1),a.value[0]&&a.value[0].ltp>a.value[0].w52l&&a.value[0].ltp<a.value[0].w52h?(openBlock(),createBlock(VCard,{key:0,width:"100%",class:"crd-trn elevation-0 px-2 rot-180"},{default:withCtx(()=>[createVNode(VSlider,{"hide-details":"","thumb-color":"maintext",color:"subtext",modelValue:a.value[0].ltp,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value[0].ltp=e),readonly:"",min:a.value[0].w52l,max:a.value[0].w52h,"track-color":"subtext"},null,8,["modelValue","min","max"])]),_:1})):(openBlock(),createElementBlock("span",_hoisted_24$4," - ")),createBaseVNode("span",_hoisted_25$3,toDisplayString(a.value[0]&&a.value[0].w52l?`₹${a.value[0].w52l}`:"0.00"),1)])]),_:1})]),_:1})]),_:1}),createVNode(VCol,{cols:"12",md:"8",class:"pa-md-0 pt-4 pb-0 px-6 pos-rlt"},{default:withCtx(()=>[a.value[0]?(openBlock(),createBlock(VCard,{key:0,class:"crd-trn elevation-0 rounded-0 ss-adv-chart mt-auto",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_26$3,[t[21]||(t[21]=createBaseVNode("p",{class:"font-weight-bold fs-16 mb-0"},"Market Depth",-1)),createVNode(VListItem,{class:"px-0"},{append:withCtx(()=>[createBaseVNode("div",_hoisted_27$3,[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-12 subtext--text mb-1 text-uppercase py-0"},{default:withCtx(()=>[...t[18]||(t[18]=[createTextVNode("Sell order Qty ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-1 py-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value[0].ask_qty>0?a.value[0].ask_qty:"0.00")+"%",1)]),_:1})])]),default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-12 subtext--text mb-1 text-uppercase py-0"},{default:withCtx(()=>[...t[17]||(t[17]=[createTextVNode("Buy order Qty ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-1 py-0"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value[0].bid_qty>0?a.value[0].bid_qty:"0.00")+"%",1)]),_:1})]),_:1}),a.value[0]&&a.value[0].bid_qty>0||a.value[0].ask_qty>0?(openBlock(),createBlock(VProgressLinear,{key:0,class:"market-depth",color:"maingreen","model-value":a.value[0].bid_qty},null,8,["model-value"])):(openBlock(),createBlock(VProgressLinear,{key:1,color:"#D9DBDC","model-value":100})),a.value[0]&&a.value[0].depth?(openBlock(),createBlock(VRow,{key:2,"no-gutters":"",class:"mt-3"},{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"py-0 pr-4",style:{"border-right":"thin dashed #d9dbdc !important"}},{default:withCtx(()=>[t[19]||(t[19]=createBaseVNode("p",{class:"subtext--text fs-12 font-weight-medium mb-2"},[createTextVNode("Quantity "),createBaseVNode("span",{class:"float-right maingreen--text"},"Bid")],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value[0].depth.bids,(e,t)=>(openBlock(),createElementBlock("div",{class:"pos-rlt mb-2 depthrow-b",key:t},[createVNode(VCard,{class:"elevation-0 px-2 crd-trn",style:{"z-index":"1"}},{default:withCtx(()=>{var t;return[createBaseVNode("p",_hoisted_28$3,[createTextVNode(toDisplayString(e.volume.toLocaleString())+" ",1),createBaseVNode("span",_hoisted_29$3,toDisplayString(null==(t=e.price)?void 0:t.toFixed(2)),1)])]}),_:2},1024),createVNode(VCard,{class:"elevation-0 rounded-0 py-3 pos-abs",style:{left:"0",top:"-1px","z-index":"0"},color:"secgreen",width:`${((e.volume-a.value[0].bitmax)/a.value[0].bitmax*100+100).toFixed(0)}%`},null,8,["width"])]))),128))]),_:1}),createVNode(VCol,{cols:"6",class:"py-0 pl-4",style:{"border-left":"thin dashed #d9dbdc !important"}},{default:withCtx(()=>[t[20]||(t[20]=createBaseVNode("p",{class:"subtext--text fs-12 font-weight-medium text-right mb-2"},[createBaseVNode("span",{class:"float-left mainred--text"},"Ask"),createTextVNode(" Quantity")],-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value[0].depth.asks,(e,t)=>(openBlock(),createElementBlock("div",{class:"pos-rlt mb-2 depthrow-a",key:t},[createVNode(VCard,{class:"elevation-0 px-2 crd-trn",style:{"z-index":"1"}},{default:withCtx(()=>{var t;return[createBaseVNode("p",_hoisted_30$3,[createBaseVNode("span",_hoisted_31$3,toDisplayString(null==(t=e.price)?void 0:t.toFixed(2)),1),createTextVNode(" "+toDisplayString(e.volume.toLocaleString()),1)])]}),_:2},1024),createVNode(VCard,{class:"elevation-0 rounded-0 py-3 pos-abs",style:{right:"0",top:"-1px","z-index":"0"},color:"secred",width:`${((e.volume-a.value[0].askmax)/a.value[0].askmax*100+100).toFixed(0)}%`},null,8,["width"])]))),128))]),_:1})]),_:1})):createCommentVNode("",!0)])]),_:1})):createCommentVNode("",!0),a.value[0]&&a.value[0].instname&&("UNDIND"==a.value[0].instname||"COM"==a.value[0].instname)?(openBlock(),createBlock(VCard,{key:1,class:"pos-abs md-glasscard elevation-0",height:"270px",width:"100%"},{default:withCtx(()=>[...t[22]||(t[22]=[createBaseVNode("div",{class:"pos-cent"},[createBaseVNode("p",{class:"mb-0 fs-14 maintext--text font-weight-bold text-center"},[createTextVNode(" Non-tradable symbol, "),createBaseVNode("br"),createTextVNode(" no market depth data ")])],-1)])]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(VRow,{"no-gutters":"",class:"px-4 pt-0"},{default:withCtx(()=>[createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("Avg price ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}ap`},toDisplayString(a.value[0]&&a.value[0].ap?a.value[0].ap:"0.00"),9,_hoisted_32$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("OI ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}oi`},toDisplayString(a.value[0]&&a.value[0].oi?a.value[0].oi:"0.00"),9,_hoisted_33$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[25]||(t[25]=[createTextVNode("Upper circuit level ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}uc`},toDisplayString(a.value[0]&&a.value[0].uc?a.value[0].uc:"0.00"),9,_hoisted_34$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[26]||(t[26]=[createTextVNode("Lower circuit level ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}lc`},toDisplayString(a.value[0]&&a.value[0].lc?a.value[0].lc:"0.00"),9,_hoisted_35$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[27]||(t[27]=[createTextVNode("Last trade qty ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}ltq`},toDisplayString(a.value[0]&&a.value[0].ltq?a.value[0].ltq:"0.00"),9,_hoisted_36$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1}),createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:withCtx(()=>[...t[28]||(t[28]=[createTextVNode("Last trade time ",-1)])]),_:1}),createVNode(VListItemTitle,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:withCtx(()=>[createBaseVNode("span",{id:`ssdove${n.value}ltt`},toDisplayString(a.value[0]&&a.value[0].ltt?a.value[0].ltt:"0.00"),9,_hoisted_37$3)]),_:1})]),_:1}),createVNode(VDivider)]),_:1})]),_:1})])]),_:1}),createVNode(VCard,{class:"crd-trn ss-cards mb-2 overflow-hidden",width:"100%"},{default:withCtx(()=>[r.value?(openBlock(),createElementBlock("div",_hoisted_38$3,[t[30]||(t[30]=createBaseVNode("p",{class:"font-weight-bold subtitle-2 mb-1"},"Returns",-1)),createVNode(VRow,{"no-gutters":"",class:"mt-0 pb-6"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value?r.value:6,(e,o)=>(openBlock(),createBlock(VCol,{cols:"6",md:"2",key:o,class:"pt-0"},{default:withCtx(()=>[0==o?(openBlock(),createBlock(VCard,{key:0,id:`ssdove${n.value}rbg`,color:a.value[0].ch>0?"secgreen":a.value[0].ch<0?"secred":"secbg",class:"rounded-lg px-3 py-2 elevation-0 brd-1-solid-ccc text-center",width:"100%"},{default:withCtx(()=>[createBaseVNode("p",{id:`ssdove${n.value}rchpclr`,class:normalizeClass([a.value[0].ch>0?"maingreen--text":a.value[0].ch<0?"mainred--text":"subtext--text","fs-18 font-weight-bold mb-2"])},[createBaseVNode("span",{id:`ssdove${n.value}rchp`},toDisplayString(s(e.returns)),9,_hoisted_40$3),t[29]||(t[29]=createTextVNode("% ",-1))],10,_hoisted_39$3),createBaseVNode("p",_hoisted_41$3,toDisplayString(e.type?e.type:"---"),1)]),_:2},1032,["id","color"])):(openBlock(),createBlock(VCard,{key:1,color:(a.value[0].ltp-e.returns)/e.returns*100>0?"secgreen":(a.value[0].ltp-e.returns)/e.returns*100<0?"secred":"secbg",class:"rounded-lg px-3 py-2 elevation-0 brd-1-solid-ccc text-center",width:"100%"},{default:withCtx(()=>[createBaseVNode("p",{class:normalizeClass([Number(s(e.returns))>0?"maingreen--text":Number(s(e.returns))<0?"mainred--text":"subtext--text","fs-18 font-weight-bold mb-2"])},toDisplayString(s(e.returns))+"% ",3),createBaseVNode("p",_hoisted_42$3,toDisplayString(e.type?e.type:"---"),1)]),_:2},1032,["color"]))]),_:2},1024))),128))]),_:1})])):createCommentVNode("",!0),a.value.pivot&&a.value.pivot.length>0?(openBlock(),createElementBlock("div",_hoisted_43$3,[t[32]||(t[32]=createBaseVNode("p",{class:"font-weight-bold subtitle-2 mb-1"},"Pivot levels",-1)),createVNode(VRow,{"no-gutters":"",class:"px-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.value.pivot,(e,o)=>(openBlock(),createBlock(VCol,{cols:"2",class:"px-0",key:o},{default:withCtx(()=>[createVNode(VCard,{width:"100%",class:"crd-trn elevation-0 px-1"},{default:withCtx(()=>[createBaseVNode("p",{class:normalizeClass(["fs-14 mb-0 font-weight-medium pos-rlt",o<=2?"":"text-right"])},[createTextVNode(toDisplayString(e.name)+" ",1),2==o?(openBlock(),createElementBlock("span",_hoisted_44$3,"P")):createCommentVNode("",!0)],2),createVNode(VCard,{width:"100%",color:e.color,height:"8px",class:"elevation-0 pos-rlt"},{default:withCtx(()=>[a.value.pivot[o-1]&&a.value[0].ltp<=e.value&&a.value[0].ltp>=a.value.pivot[o-1].value?(openBlock(),createBlock(VIcon,{key:0,class:"pos-abs",style:normalizeStyle([{top:"-4px"},`left: ${Math.trunc((e.value-a.value[0].ltp)/e.value*100)}%;`]),color:"maintext",size:"16"},{default:withCtx(()=>[...t[31]||(t[31]=[createTextVNode("mdi-checkbox-blank-circle",-1)])]),_:1},8,["style"])):createCommentVNode("",!0)]),_:2},1032,["color"]),createBaseVNode("p",{class:normalizeClass(["fs-12 mb-0 font-weight-medium pos-rlt",o<=2?"":"text-right"])},[createTextVNode(toDisplayString(Number(e.value)?Number(e.value).toFixed(2):"")+" ",1),2==o?(openBlock(),createElementBlock("span",_hoisted_45$3,toDisplayString(Number(a.value.pivotpoint)?Number(a.value.pivotpoint).toFixed(2):""),1)):createCommentVNode("",!0)],2)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):createCommentVNode("",!0)]),_:1})]))}},_hoisted_1$9={class:"d-flex align-center px-0 px-md-4 pt-3 pb-0"},_hoisted_2$8=["src","alt"],_hoisted_3$7={key:1,class:"headline font-weight-bold"},_hoisted_4$6={class:"d-flex flex-column justify-center w-100 ml-3"},_hoisted_5$6={class:"d-flex align-center"},_hoisted_6$6={class:"primary--text fs-12 pt-1"},_hoisted_7$6={class:"mb-0 mr-md-4 subtitle-1 font-weight-bold lh-24"},_hoisted_8$6={class:"py-3 py-md-6"},_hoisted_9$6={class:"pt-md-6 pt-4 px-4"},_hoisted_10$6={class:"pb-4 px-4"},_hoisted_11$6={class:"pl-4"},_hoisted_12$6={class:"pl-4 font-weight-medium maintext--text text-capitalize"},_hoisted_13$6={class:"text-right d-none d-md-table-cell"},_hoisted_14$5={class:"text-right d-none d-md-table-cell"},_hoisted_15$3={class:"text-right d-none d-md-table-cell"},_hoisted_16$3={class:"text-right d-none d-md-table-cell"},_hoisted_17$3={class:"text-right d-none d-md-table-cell"},_hoisted_18$3={class:"text-right d-none d-md-table-cell"},_hoisted_19$3={class:"text-right d-none d-md-table-cell"},_hoisted_20$3={class:"pr-4 text-right d-none d-md-table-cell"},_hoisted_21$3={class:"pr-4 text-right d-md-none"},_hoisted_22$3={key:0},_hoisted_23$3={key:1},_hoisted_24$3={key:2},_hoisted_25$2={class:"pt-6 pb-4 pl-4"},_hoisted_26$2={class:"primary--text"},_hoisted_27$2={class:"pt-6 pb-md-4 pb-8 px-7"},_hoisted_28$2={class:"font-weight-medium maintext--text mb-0 d-inline-flex"},_hoisted_29$2={class:"maintext--text"},_hoisted_30$2={class:"pl-4"},_hoisted_31$2={class:"font-weight-medium maintext--text text-capitalize"},_hoisted_32$2={class:"text-right d-none d-md-table-cell"},_hoisted_33$2={class:"pr-4 text-right d-none d-md-table-cell"},_hoisted_34$2={class:"text-right d-none d-md-table-cell"},_hoisted_35$2={class:"pr-4 text-right d-md-none"},_hoisted_36$2={key:0},_hoisted_37$2={key:1},_hoisted_38$2={key:2},_hoisted_39$2={class:"pt-6 pb-4 px-4"},_hoisted_40$2={key:1},_hoisted_41$2={key:0},_hoisted_42$2={key:1},_hoisted_43$2={key:2},_hoisted_44$2={class:"mx-auto"},_hoisted_45$2={class:"txt-999 font-weight-regular"},_hoisted_46$2={class:"pt-md-6 pb-4 px-4"},_hoisted_47$1={class:"d-inline-flex mb-6"},_hoisted_48$1={key:0},_hoisted_49$1={key:1},_hoisted_50$1=["src","alt"],_hoisted_51$1={key:2},_hoisted_52$1={class:"pos-cent"},_hoisted_53$1={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},_sfc_main$l={__name:"StockSingle",setup(e){const t=ref$1(!0),a=reactive({}),o=ref$1(""),r=()=>{try{return JSON.parse(localStorage.getItem("price_cache")||"{}")}catch{return{}}},n=reactive({"PE Ratio":"","Sector PE":"",EVEBITDA:"","PB Ratio":"","Sector PB":"","Dividend Yield":"",ROCE:"",ROE:"","Debt to equity":"","Price to Sale":"","Book Value":"","Face Value":""}),i=ref$1(0),l=ref$1(null),s=reactive({}),c=ref$1("stockFinancialsStandalone"),d=ref$1("y5"),u=reactive({y5:"MM YYYY",y4:"MM YYYY",y3:"MM YYYY",y2:"MM YYYY",y1:"MM YYYY"});ref$1(0);const p=ref$1(null),h=ref$1([]),m=ref$1("dividend_yield_percent"),v=reactive({dates:[],script:[],closes:[]}),f=ref$1(0),g=reactive({all:[],table:[],x:0,y:"promoters"}),y=ref$1([]),_=ref$1(null),b=ref$1("mf_holding_percent"),w=ref$1(0),x=ref$1("announcement");ref$1([]);const V=[{txt:"Daily",key:"day",tit:"Today's"},{txt:"Weekly",key:"weekly",tit:"Week's"},{txt:"Monthly",key:"monthly",tit:"Month's"}],k=ref$1(0),C=ref$1([]),S=ref$1(0),N=ref$1({}),T=ref$1(null),B=ref$1([]),E=ref$1(!0),I=ref$1(null),$=ref$1(null),P=ref$1(null),D=computed(()=>[{title:"Financial Years",key:"exp",filter:Q,sortable:!1,class:"fin-w-head pl-4"},{title:u.y5,key:"y5",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:u.y4,key:"y4",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:u.y3,key:"y3",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:u.y2,key:"y2",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:u.y1,key:"y1",sortable:!1,align:"end",class:" pr-4 d-none d-md-table-cell"},{title:u.y1,key:"y0",sortable:!1,align:"end",class:"pr-4 d-md-none"}]),L=computed(()=>[{title:"Stocks",key:"company_name",sortable:!1,class:"peer-w-head pl-4"},{title:"LTP",key:"ltp",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Mkt. Cap",key:"market_cap",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"PE Ratio",key:"pe",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"PB Ratio",key:"price_book_value",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"ROCE%",key:"roce_percent",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Evebitda",key:"ev_ebitda",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Debt to EQ",key:"debt_to_equity",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"Div yield",key:"dividend_yield_percent",sortable:!1,align:"end",class:" pr-4 ws-p d-none d-md-table-cell"},{title:"Peers",key:"peers",sortable:!1,align:"end",class:" pr-4 ws-p d-md-none"}]),R=computed(()=>[{title:"Investor",key:"investor",sortable:!1,class:"hold-w-head"},{title:"Holding %",key:"holding",sortable:!1,align:"end"}]),A=computed(()=>[{title:"Funds",key:"mutual_fund",sortable:!1,class:"mf-w-head pl-4"},{title:"Mkt. cap held%",key:"market_cap_Held",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"AUM",key:"mf_aum",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Weight%",key:"mf_holding_percent",sortable:!1,align:"end",class:" pr-4 d-none d-md-table-cell"},{title:"Trend",key:"mftrend",sortable:!1,align:"end",class:"pr-4 d-md-none"}]),O=(e,a,o)=>{window.ssddetail&&window.ssddetail[0]&&window.ssddetail[1]&&window.ssddetail[0].token==e?H(e,a,o):window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==e&&"no data"==window.ssddetail[1]?t.value=!1:setTimeout(()=>{O(e,a,o)},100)},M=()=>{o.value=null},F=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},z=ref$1({token:null,exch:null,tsym:null}),H=async(e,i,l)=>{var c,d,p,m;let f=window.ssddetail;o.value=`${apiurl.imgicon}${l.split("-")[0]}.png`,Object.keys(a).forEach(e=>delete a[e]);var _=f[1];t.value=!1,a[0]=f[0];try{const e=a[0]||{},t=Number(e.lp||e.ltp||0),o=Number(e.close_price||e.close||0);if(!isNaN(t)&&t>0&&(e.ltp=t.toFixed(2)),!isNaN(o)&&o>0){const a=t-o;e.ch=isFinite(a)?a.toFixed(2):"0.00";const r=a/o*100;e.chp=isFinite(r)?r.toFixed(2):"0.00"}a[0]=e}catch(e2){}const b=r()[e];if(b){["ltp","ch","chp","high_price","low_price","open_price","close_price"].forEach(e=>{a[0][e]&&0!==Number(a[0][e])||(a[0][e]=b[e])})}if(_&&_.fundamental&&_.fundamental[0]?(a.f=_.fundamental[0],Object.assign(n,{"PE Ratio":_.fundamental[0].pe||"","Sector PE":_.fundamental[0].sector_pe||"",EVEBITDA:_.fundamental[0].ev_ebitda||"","PB Ratio":_.fundamental[0].price_book_value||"","Sector PB":"","Dividend Yield":_.fundamental[0].dividend_yield_percent||"",ROCE:_.fundamental[0].roce_percent||"",ROE:_.fundamental[0].roe_percent||"","Debt to equity":_.fundamental[0].debt_to_equity||"","Price to Sale":_.fundamental[0].sales_to_working_capital||"","Book Value":_.fundamental[0].book_value||"","Face Value":_.fundamental[0].fv||""}),E.value=!0):(E.value=!1,Object.keys(n).forEach(e=>n[e]="")),_.returns?B.value=_.returns:B.value=[],_.stockFinancialsConsolidated&&_.stockFinancialsStandalone&&3==Object.keys(_.stockFinancialsConsolidated).length&&3==Object.keys(_.stockFinancialsStandalone).length){s.stockFinancialsConsolidated={},s.stockFinancialsStandalone={};for(const[e,t]of Object.entries(s)){s[e].balanceSheet=[],s[e].cashflowSheet=[],s[e].incomeSheet=[];for(const[o,r]of Object.entries(_[e]))for(const[n,i]of Object.entries(r))for(const[l,p]of Object.entries(i)){var w=s[e][o].findIndex(e=>e.name==l);o&&n&&"year_end_date"!=l&&-1==w?(s[e][o].push({name:l,sym:l.includes("_percent")?"%":"₹",y1:r[0]&&Number(r[0][l])?Number(r[0][l]).toFixed(2):0,y2:r[1]&&Number(r[1][l])?Number(r[1][l]).toFixed(2):0,y3:r[2]&&Number(r[2][l])?Number(r[2][l]).toFixed(2):0,y4:r[3]&&Number(r[3][l])?Number(r[3][l]).toFixed(2):0,y5:r[4]&&Number(r[4][l])?Number(r[4][l]).toFixed(2):0,exp:"balanceSheet"==o?(null==(d=null==(c=a.f)?void 0:c.industry)?void 0:d.includes("Bank"))?"total_assets"==l?"total_assets":"total_liabilities"==l?"total_liabilities":"":"total_current_assets"==l?"total_current_assets":"total_non_current_assets"==l?"total_non_current_assets":"total_current_liabilities"==l?"total_current_liabilities":"total_non-current_liabilities"==l?"total_non-current_liabilities":"":"incomeSheet"==o?"revenue"==l?"Revenue":"operating_profit"==l?"operating_profit":"expenditure"==l?"Expenditure":"profit_before_tax"==l?"profit_before_tax":"tax"==l?"Tax":"profit_after_tax"==l?"Profit_After_Tax":"":"",idx:"incomeSheet"==o?"revenue"==l?"0":"operating_profit"==l?"2":"expenditure"==l?"1":"profit_before_tax"==l?"3":"tax"==l?"4":"profit_after_tax"==l?"5":"":"balanceSheet"==o?"total_current_assets"==l?"0":"total_non_current_assets"==l?"1":"total_current_liabilities"==l?"2":"total_non-current_liabilities"==l?"3":"":""}),s[e].valuevalue=p+t):"year_end_date"==l&&(r[0]&&(u.y5=new Date(r[0][l]).toLocaleString("default",{month:"short",year:"numeric"})),r[1]&&(u.y4=new Date(r[1][l]).toLocaleString("default",{month:"short",year:"numeric"})),r[2]&&(u.y3=new Date(r[2][l]).toLocaleString("default",{month:"short",year:"numeric"})),r[3]&&(u.y2=new Date(r[3][l]).toLocaleString("default",{month:"short",year:"numeric"})),r[4]&&(u.y1=new Date(r[4][l]).toLocaleString("default",{month:"short",year:"numeric"})))}}U()}else Object.keys(s).forEach(e=>delete s[e]);if(_.peersComparison&&_.peersComparison.peers&&_.peersComparison.peers.length>0){let e=[];_.peersComparison.peers.map(t=>{e.push({token:t.zebuToken?t.zebuToken:"0",exch:t.SYMBOL.split(":")[0]})});let t=await getLtpdata(e);_.peersComparison.peers.map(e=>{e.ltp=e.zebuToken?t.data[e.zebuToken]:null}),h.value=_.peersComparison.peers,_.peersComparison.stock&&_.peersComparison.stock[0]&&(_.peersComparison.stock[0].ltp=(null==(p=a[0])?void 0:p.ltp)||(null==(m=a[0])?void 0:m.lp)||0,h.value.unshift(_.peersComparison.stock[0]))}else h.value=[];if(_.peerComparisonChart&&Object.keys(_.peerComparisonChart).length>0){v.dates=[],v.script=[],v.closes=[];var x=["#148564","#7CD36E","#F9CD6C","#FDEBC4","#DEDEDE"];Object.entries(_.peerComparisonChart).forEach(([e,t],a)=>{v.script.push(e.split(":")[1].split("-")[0]),61==t.date.length&&61!=v.dates.length&&t.date.map(e=>{v.dates.push(new Date(e).toLocaleString("default",{month:"short",year:"2-digit"}))}),v.closes.push({name:e.split(":")[1].split("-")[0],type:"line",symbol:"none",sampling:"lttb",data:t.close.slice(1),color:x[a],areaStyle:{color:new LinearGradient(0,0,0,1,[{offset:0,color:x[a]+"20"},{offset:1,color:x[a]}])}})}),G()}else v.dates=[],v.script=[],v.closes=[];_.shareholdings&&_.shareholdings.length>0?(g.all=_.shareholdings,g.table=[{color:"#148564",holding:100,shares:"promoters",investor:"Total Promoter Holding"},{color:"#7CD36E",holding:100,shares:"fii_fpi",investor:"Foreign Institutions"},{color:"#F9CD6C",holding:100,shares:"dii",investor:"Other Domestic Institutions"},{color:"#FDEBC4",holding:100,shares:"retail_and_others",investor:"Retail and other"},{color:"#DEDEDE",holding:100,shares:"mutual funds",investor:"Mutual Funds"}],g.x=0,g.y="promoters",Y()):(g.all=[],g.table=[]),_.MFholdings&&_.MFholdings.length>0?y.value=_.MFholdings:y.value=[],_.stockEvents&&Object.keys(_.stockEvents).length>0?a.events=_.stockEvents:a.events={},window.scrollTo(0,0),X()},q=(e,t,o)=>{Object.keys(a).forEach(e=>delete a[e]),Object.keys(n).forEach(e=>n[e]=""),B.value=[],Object.keys(s).forEach(e=>delete s[e]),h.value=[],v.dates=[],v.script=[],v.closes=[],g.all=[],g.table=[],y.value=[],u.y5="MM YYYY",u.y4="MM YYYY",u.y3="MM YYYY",u.y2="MM YYYY",u.y1="MM YYYY",e&&t&&o&&O(e,t,o),!z.value.token||z.value.token===e&&z.value.exch===t||F("unsub",[{token:z.value.token,exch:z.value.exch,tsym:z.value.tsym}],"ssd"),F("sub",[{token:e,exch:t,tsym:o}],"ssd"),z.value={token:e,exch:t,tsym:o}},U=()=>{var e,t,a,o,r,n,l,d,u;let p=[],h={0:[],1:[],2:[]};if(s.chart=!0,(null==(t=null==(e=s[c.value])?void 0:e.balanceSheet)?void 0:t.length)>0&&(null==(o=null==(a=s[c.value])?void 0:a.cashflowSheet)?void 0:o.length)>0&&(null==(n=null==(r=s[c.value])?void 0:r.incomeSheet)?void 0:n.length)>0){let e=D.value.slice(1,6),t=null,a=null,o=null;var m=i.value;2!=i.value&&(t=s[c.value][0==m?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==m?"revenue":"total_assets")),a=s[c.value][0==m?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==m?"expenditure":"total_liabilities")),o=s[c.value][0==m?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==m?"profit_after_tax":"deferred_tax_assets__and__liabilities")));for(let r=0;r<e.length;r++)p.push(e[r].text),h[0].unshift((null==(l=s[c.value][0==m?"incomeSheet":1==m?"balanceSheet":"cashflowSheet"][2==m?2:t])?void 0:l[`y${r+1}`])||0),h[1].unshift((null==(d=s[c.value][0==m?"incomeSheet":1==m?"balanceSheet":"cashflowSheet"][2==m?1:a])?void 0:d[`y${r+1}`])||0),h[2].unshift((null==(u=s[c.value][0==m?"incomeSheet":1==m?"balanceSheet":"cashflowSheet"][2==m?0:o])?void 0:u[`y${r+1}`])||0);s.chart=!1}j(p,h)},W=(e,t)=>{const a=document.getElementById("financialchart");if(!a)return;if(0===a.offsetWidth||0===a.offsetHeight)return void setTimeout(()=>W(e,t),150);if(P.value){try{P.value.dispose()}catch{}P.value=null}P.value=init(a);var o={grid:{left:64,right:24,y:"4%"},color:["#148564","#7CD36E","#F9CD6C"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:0==i.value?["Revenue","Expenditure","Profit After Tax"]:1==i.value?["Assets","Liabilities"]:["Operating","Investing","Financing"],orient:"horizontal",bottom:24,top:"bottom"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:[{type:"category",axisTick:{show:!1},data:e||!1}],yAxis:[{type:"value",axisLabel:{formatter:e=>e/1e3+" K"}}],series:[{name:0==i.value?"Revenue":1==i.value?"Assets":"Operating",type:"bar",label:!1,emphasis:{focus:"series"},data:!(!t||!t[0])&&t[0]},{name:0==i.value?"Expenditure":1==i.value?"Liabilities":"Investing",type:"bar",label:!1,emphasis:{focus:"series"},data:!(!t||!t[1])&&t[1]},{name:0==i.value?"Profit After Tax":1==i.value?"Debt to assets":"Financing",type:2==i.value?"bar":"line",label:!1,emphasis:{focus:"series"},data:1!=i.value&&(t&&t[2]?t[2]:[])}]};P.value.setOption(o);window.addEventListener("resize",()=>{P.value&&P.value.resize()})},j=(e,t)=>{W(e,t)},G=()=>{if(!I.value){const e=document.getElementById("pricechart");e&&(I.value=init(e))}if(!I.value)return;var e={grid:{left:44,right:24,y:"4%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:v.script,orient:"horizontal",bottom:240,top:"bottom"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:{type:"category",data:v.dates.slice(1)},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},series:v.closes};I.value.setOption(e);window.addEventListener("resize",()=>{I.value&&I.value.resize()})},Y=()=>{var e;let t=[],a=[];if(g.all&&g.all.length>0){for(let n=0;n<g.all.length;n++)a.unshift(Number((null==(e=g.all[n][g.y])?void 0:e.toFixed(2))||0)),t.unshift(new Date(g.all[n].date).toLocaleString("default",{month:"short",year:"2-digit"}));let o=g.table.findIndex(e=>e.shares==g.y),r=o>=0?g.table[o].color:"#148564";K(t,a,r)}},K=(e,t,a)=>{((e,t,a)=>{if(!$.value){const e=document.getElementById("holdchart");e&&($.value=init(e))}if(!$.value)return;var o={color:a,xAxis:{type:"category",data:e,splitLine:{show:!1},scale:!1,axisLine:{}},yAxis:{type:"value",splitLine:{show:!1},max:100},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"<b>{c}%</b> on {b}"},grid:{left:28,containLabel:!1,bottom:32,top:32,right:8},series:[{data:t,type:"bar",label:{show:!0,formatter:"{c}%",precision:1,position:"top",valueAnimation:!0}}]};$.value.setOption(o),window.addEventListener("resize",()=>{$.value&&$.value.resize()})})(e,t,a)},X=async()=>{if(T.value=!0,window.storenews&&window.storenews.data)C.value=window.storenews.data,k.value=window.storenews.newsCount||0,T.value=!1;else{C.value=[],k.value=0;let e=await getssNews();if(e.data&&e.data.length>0){let t=e.data;for(let e=0;e<t.length;e++)t[e].isdate=`${new Date(t[e].pubDate).toDateString().slice(3)} ${new Date(t[e].pubDate).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})} IST`,C.value.push(t[e]);k.value=e.newsCount||0}T.value=!1}},J=e=>{var t=e.toLowerCase().replace("_percent"," in %");return t=(t=t.replace(/[._-]/g," ")).replace(/less|total/gi,"")},Q=e=>!(!e&&2!=i.value)||e,Z=e=>{const t=e.token||e.tk;if(a[0]&&a[0].token==t&&a[0]){const o=Number(e.lp||e.ltp||0);if(!isNaN(o)&&o>0){const e=o.toFixed(2);a[0].lp=e,a[0].ltp=e}const n=Number(e.ch||e.c);isNaN(n)||(a[0].ch=n.toFixed(2));const i=Number(e.chp);isNaN(i)||(a[0].chp=i.toFixed(2));const l=r();l[t]={ltp:a[0].ltp,ch:a[0].ch,chp:a[0].chp,high_price:a[0].high_price,low_price:a[0].low_price,open_price:a[0].open_price,close_price:a[0].close_price},(e=>{try{localStorage.setItem("price_cache",JSON.stringify(e))}catch{}})(l)}},ee=e=>{const{detail:a}=e;if(Array.isArray(a)&&a.length>=4){const[e,o,r,n]=a;t.value=!0,q(o,r,n)}},te=e=>{const{detail:t}=e;t&&"object"==typeof t&&(t.token||t.tk)?Z(t):Array.isArray(t)&&t.length>0&&Z(t[0])};return onMounted(()=>{let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&(t.value=!0,q(),O(localStorage.getItem("ssdtoken"),e.split(":")[0],e.split(":")[1])),window.addEventListener("ssd-event",ee),window.addEventListener("web-scoketConn",te),N.value=V[0]}),onBeforeUnmount(()=>{window.removeEventListener("ssd-event",ee),window.removeEventListener("web-scoketConn",te),a[0]&&a[0].token&&F("unsub",[{token:a[0].token,exch:a[0].exch,tsym:a[0].tsym}],"ssd"),P.value&&(P.value.dispose(),P.value=null),I.value&&(I.value.dispose(),I.value=null),$.value&&($.value.dispose(),$.value=null)}),watch([i,c],()=>{Object.keys(s).length>0&&U()}),watch([f,()=>g.x],()=>{g.all&&g.all.length>0&&Y()}),watch(()=>g.y,()=>{g.all&&g.all.length>0&&Y()}),(e,t)=>(openBlock(),createElementBlock("div",null,[E.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(E.value?"":"d-none")},[createVNode(VCard,{id:"fun",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:withCtx(()=>[createVNode(VCard,{color:"secbg",class:"elevation-0 rounded-0 pt-2 px-md-0 px-3"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",style:{"background-color":"#F1F3F8 !important"}},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"7",class:"pb-1 pb-md-2"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$9,[createVNode(VAvatar,{color:"#fbfbfb",size:"56",class:"my-0"},{default:withCtx(()=>[o.value?(openBlock(),createElementBlock("img",{key:0,src:o.value,onError:M,class:"pa-1",alt:o.value,width:"56px"},null,40,_hoisted_2$8)):(openBlock(),createElementBlock("span",_hoisted_3$7,toDisplayString(a[0]?(a[0].cname?a[0].cname:a[0].symname).slice(0,1):""),1))]),_:1}),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",{class:normalizeClass([a[0]?"maintext--text":"txt-trn","font-weight-bold mb-0 text-capitalize lh-14"]),style:{"font-size":"16px !important"}},toDisplayString(a[0]?a[0].cname?a[0].cname:a[0].tsym:"abcd"),3),createVNode(VChipGroup,{class:"my-0 py-0 d-flex flex-wrap align-center",column:""},{default:withCtx(()=>{var e;return[createVNode(VChip,{label:"",size:"small",color:"white",class:"font-weight-medium fs-10",style:{color:"var(--v-theme-subtext, #555) !important"}},{default:withCtx(()=>[createTextVNode(toDisplayString(a.f&&a.f.industry?a.f.industry:"Industry"),1)]),_:1}),createVNode(VChip,{label:"",size:"small",color:"white",class:"font-weight-medium fs-10",style:{color:"var(--v-theme-subtext, #555) !important"}},{default:withCtx(()=>[createTextVNode(toDisplayString(a.f&&a.f.market_cap_type?a.f.market_cap_type:"Marketcap type"),1)]),_:1}),(null==(e=a[0])?void 0:e.sucase)?(openBlock(),createBlock(VChip,{key:0,label:"",size:"small",color:"white",class:"font-weight-medium px-2"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_5$6,[t[17]||(t[17]=createBaseVNode("img",{width:"14px",src:_imports_0,style:{"margin-right":"4px"}},null,-1)),createBaseVNode("span",_hoisted_6$6,toDisplayString(a[0].sucase),1)])]),_:1})):createCommentVNode("",!0)]}),_:1})])])]),_:1}),createVNode(VCol,{cols:"12",md:"5",class:"text-md-right text-left pt-0 pt-md-5 pb-2 pl-4 pl-md-3"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_7$6,[createTextVNode(toDisplayString(a[0]&&Number(a[0].ltp)?`₹${a[0].ltp}`:"0.00")+" ",1),t[18]||(t[18]=createBaseVNode("br",{class:"d-none d-md-block"},null,-1)),createBaseVNode("span",{class:normalizeClass(["fs-12",a[0]?a[0].ch>0?"txt-gre":a[0].ch<0?"txt-red":"txt-444":"txt-444"])},toDisplayString(a[0]&&a[0].ch?`${a[0].ch}`:"0.00")+" ("+toDisplayString(a[0]&&a[0].chp?`${a[0].chp}`:"0.00")+"%)",3)])]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_8$6,[createVNode(VToolbar,{class:"nav-drawer elevation-0 px-0 crd-trn",density:"compact"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title mb-2"},{default:withCtx(()=>[...t[19]||(t[19]=[createTextVNode("Fundamental ratios",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"maintext--text font-weight-medium fs-12"},{default:withCtx(()=>[createTextVNode(" Fundamental breakdown of "+toDisplayString(a[0]?a[0].symname:"")+" information ",1)]),_:1})]),_:1})]),_:1}),createVNode(VRow,{class:"px-4 mt-md-4 mt-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(n,(e,t,a)=>(openBlock(),createBlock(VCol,{cols:"4",class:"pb-0",key:a},{default:withCtx(()=>[createVNode(VTextField,{class:"funda-field",readonly:"",color:"maintext",label:t,"model-value":e||"-"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1})])]),_:1}),createVNode(VCard,{id:"fin",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$6,[createVNode(VListItem,{class:"px-0 pt-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title mb-2"},{default:withCtx(()=>[...t[20]||(t[20]=[createTextVNode("Financial",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"maintext--text font-weight-medium fs-12"},{default:withCtx(()=>[createTextVNode(" Financial breakdown of "+toDisplayString(a[0]?a[0].symname:"")+" information ",1)]),_:1})]),_:1}),createVNode(VChipGroup,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),t[1]||(t[1]=e=>U())],mandatory:"",class:"mb-2"},{default:withCtx(()=>[createVNode(VChip,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:0==i.value?"maintext":"subtext"},{default:withCtx(()=>[...t[21]||(t[21]=[createTextVNode(" Income ",-1)])]),_:1},8,["color"]),createVNode(VChip,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:1==i.value?"maintext":"subtext"},{default:withCtx(()=>[...t[22]||(t[22]=[createTextVNode(" Balance Sheet ",-1)])]),_:1},8,["color"]),createVNode(VChip,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:2==i.value?"maintext":"subtext"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode(" Cashflow ",-1)])]),_:1},8,["color"])]),_:1},8,["modelValue"])]),createVNode(VCard,{height:"420px",id:"financialchart",class:"crd-trn rounded-lg pt-4 elevation-0"}),createBaseVNode("div",_hoisted_10$6,[createVNode(VDivider,{class:"my-md-6 my-3"}),createVNode(VToolbar,{flat:"",density:"compact",class:"tool-sty crd-trn"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold fs-16"},{default:withCtx(()=>[createTextVNode(toDisplayString(2==i.value?"Cashflow":0==i.value?"Income":"Balance Sheet")+" Statement ",1)]),_:1}),createVNode(VListItemSubtitle,{class:"subtext--text font-weight-medium fs-12"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("All Figures in Cr.",-1)])]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VSelect,{"onUpdate:modelValue":[t[2]||(t[2]=e=>U()),t[3]||(t[3]=e=>c.value=e)],"hide-details":"","append-icon":"mdi-chevron-down",modelValue:c.value,items:[{key:"Standalone",val:"stockFinancialsStandalone"},{key:"Consolidated",val:"stockFinancialsConsolidated"}],"item-title":"key","item-value":"val",class:"rounded-pill max-w-160",density:"compact",variant:"flat","bg-color":"secbg",label:"Filter"},null,8,["modelValue"])]),_:1})]),createVNode(VDataTable,{mobile:"","item-key":"name","must-sort":"","sort-by":[2!=i.value?"idx":"name"],"sort-desc":[!1],"hide-default-footer":"","fixed-header":"",class:"financialtabel rounded-0",headers:D.value,search:l.value,items:s[c.value]?0==i.value?s[c.value].incomeSheet:1==i.value?s[c.value].balanceSheet:s[c.value].cashflowSheet:[],"items-per-page":-1},{"header.y0":withCtx(()=>[createVNode(VSelect,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:d.value,"onUpdate:modelValue":t[4]||(t[4]=e=>d.value=e),items:D.value.slice(1,6),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.exp":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_11$6,[createBaseVNode("span",{class:normalizeClass(["font-weight-medium maintext--text text-capitalize",J(e.name).includes("-")?"txt-red":""])},toDisplayString(J(e.name)),3)])]),"item.y1":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["pr-4 text-right d-none d-md-table-cell",e.y1<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e.y1)+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"item.y2":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["text-right d-none d-md-table-cell",e.y2<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e.y2)+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"item.y3":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["text-right d-none d-md-table-cell",e.y3<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e.y3)+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"item.y4":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["text-right d-none d-md-table-cell",e.y4<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e.y4)+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"item.y5":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["text-right d-none d-md-table-cell",e.y5<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e.y5)+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"item.y0":withCtx(({item:e})=>[createBaseVNode("td",{class:normalizeClass(["pr-4 text-right d-md-none",e[d.value]<0?"txt-red":""])},toDisplayString("₹"==e.sym?e.sym:"")+toDisplayString(e[d.value])+" "+toDisplayString("%"==e.sym?e.sym:""),3)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[25]||(t[25]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Financial data here yet!")],-1)])]),_:1})]),_:2},1032,["sort-by","headers","search","items"]),createVNode(VDivider,{class:"d-md-none"})]),_:1}),createVNode(VCard,{id:"peers",class:"crd-trn ss-cards overflow-hidden mb-md-6 pt-6",width:"100%"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 px-0 crd-trn",density:"compact"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title mb-2"},{default:withCtx(()=>[...t[26]||(t[26]=[createTextVNode("Peers Comparison",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"maintext--text font-weight-medium fs-12"},{default:withCtx(()=>[createTextVNode("Peers Comparison breakdown of "+toDisplayString(h.value[0]?h.value[0].industry:"")+" information",1)]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VTextField,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=e=>p.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mb-2 d-none d-md-flex",density:"compact",variant:"flat","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),createVNode(VDataTable,{mobile:"","must-sort":"","sort-by":[""],"sort-desc":[!1],"hide-default-footer":"","fixed-header":"",class:"rounded-0 overflow-y-auto mt-4",headers:L.value,height:"334px",width:"800px",search:p.value,items:h.value,"items-per-page":h.value.length},{"header.peers":withCtx(()=>[createVNode(VSelect,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=e=>m.value=e),items:L.value.slice(1,9),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.company_name":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_12$6,toDisplayString(e.SYMBOL.split(":")[1]),1)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_13$6,toDisplayString(e.ltp&&e.ltp.lp?Number(e.ltp.lp).toFixed(2):"0.00"),1)]),"item.market_cap":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_14$5,toDisplayString(e.market_cap?e.market_cap.toFixed(2):"0.00"),1)]),"item.pe":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_15$3,toDisplayString(e.pe?e.pe:"0.00"),1)]),"item.price_book_value":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_16$3,toDisplayString(e.price_book_value?e.price_book_value:"0.00"),1)]),"item.roce_percent":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_17$3,toDisplayString(e.roce_percent?e.roce_percent:"0.00"),1)]),"item.ev_ebitda":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_18$3,toDisplayString(e.ev_ebitda?e.ev_ebitda:"0.00"),1)]),"item.debt_to_equity":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_19$3,toDisplayString(e.debt_to_equity?e.debt_to_equity:"0.00"),1)]),"item.dividend_yield_percent":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_20$3,[createBaseVNode("span",null,toDisplayString(e.dividend_yield_percent?`${e.dividend_yield_percent}%`:"---"),1)])]),"item.peers":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_21$3,["dividend_yield_percent"==m.value?(openBlock(),createElementBlock("span",_hoisted_22$3,toDisplayString(e.dividend_yield_percent?`${e.dividend_yield_percent}%`:"---"),1)):"ltp"==m.value?(openBlock(),createElementBlock("span",_hoisted_23$3,toDisplayString(e.ltp&&e.ltp.lp?Number(e.ltp.lp).toFixed(2):"0.00"),1)):(openBlock(),createElementBlock("span",_hoisted_24$3,toDisplayString(e[m.value]?e[m.value]:""),1))])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[27]||(t[27]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Peers comparison data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","search","items","items-per-page"]),createVNode(VDivider,{class:"d-md-none"})]),_:1}),createVNode(VCard,{id:"price",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_25$2,[createVNode(VToolbar,{flat:"",density:"compact",class:"tool-sty mb-5 crd-trn"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold title mb-2"},{default:withCtx(()=>[...t[28]||(t[28]=[createTextVNode("Price Comparison",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"subtext--text font-weight-medium fs-12"},{default:withCtx(()=>[t[29]||(t[29]=createTextVNode(" Compare ",-1)),createBaseVNode("span",_hoisted_26$2,toDisplayString(a[0]?a[0].symname:""),1),t[30]||(t[30]=createTextVNode(" with other stocks ",-1))]),_:1})]),_:1}),createVNode(VSpacer)]),_:1}),createVNode(VCard,{height:"460px",width:"100%",id:"pricechart",class:"crd-trn rounded-lg elevation-0"})])]),_:1}),createVNode(VCard,{id:"hold",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_27$2,[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",md:"7",class:"pa-0"},{default:withCtx(()=>[t[32]||(t[32]=createBaseVNode("p",{class:"font-weight-bold title mb-md-2 mb-0"},"Holdings",-1)),g.all?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:f.value,"onUpdate:modelValue":[t[7]||(t[7]=e=>f.value=e),t[8]||(t[8]=e=>g.x=f.value)],mandatory:"",class:"mb-2"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.all,(e,t)=>(openBlock(),createBlock(VChip,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:f.value==t?"maintext":"subtext",key:t},{default:withCtx(()=>[createTextVNode(toDisplayString(e.date?new Date(e.date).toLocaleString("default",{month:"short",year:"2-digit"}):"MMM YYYY"),1)]),_:2},1032,["color"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),t[33]||(t[33]=createBaseVNode("p",{class:"font-weight-bold subtitle-1 font-weight-medium mb-2"},"Shareholding Breakdown",-1)),createVNode(VCard,{width:"100%",color:"secbg",height:"36px",class:"d-inline-flex elevation-0 rounded-0 mb-3"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.table,(e,t)=>(openBlock(),createBlock(VCard,{height:"36px",width:`${(g.all[g.x][e.shares]/(g.all[g.x].dii+g.all[g.x].fii_fpi+g.all[g.x]["mutual funds"]+g.all[g.x].promoters+g.all[g.x].retail_and_others)*100).toFixed(0)}%`,class:"elevation-0 rounded-0",color:e.color,key:t},null,8,["width","color"]))),128))]),_:1}),createVNode(VDataTable,{mobile:"","hide-default-footer":"",class:"rounded-0 overflow-y-auto","fixed-header":"",headers:R.value,items:g.table},{"item.investor":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_28$2,[createVNode(VCard,{color:e.color,class:"mt-1 mr-2 elevation-0",width:"12px",height:"12px"},null,8,["color"]),createTextVNode(" "+toDisplayString(e.investor),1)])]),"item.holding":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_29$2,toDisplayString(g.table&&e.shares?g.all[g.x][e.shares].toFixed(2):"0.00")+" %",1)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[31]||(t[31]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Holdings data here yet! ")],-1)])]),_:1})]),_:2},1032,["headers","items"]),createVNode(VDivider,{class:"d-md-none"})]),_:1}),createVNode(VCol,{cols:"12",md:"5",class:"pr-md-0 pl-md-4 px-0 pb-0"},{default:withCtx(()=>[createVNode(VCard,{variant:"outlined",class:"crd-trn pa-3 rounded-lg"},{default:withCtx(()=>[t[34]||(t[34]=createBaseVNode("p",{class:"font-weight-bold subtitle-1 font-weight-medium mb-1"},"Shareholding History",-1)),t[35]||(t[35]=createBaseVNode("p",{class:"subtext--text font-weight-medium fs-12"},"Select a segment from the breakdowns to see its pattern here",-1)),createVNode(VSelect,{"onUpdate:modelValue":[t[9]||(t[9]=e=>Y()),t[10]||(t[10]=e=>g.y=e)],"hide-details":"","append-icon":"mdi-chevron-down",modelValue:g.y,items:g.table,"item-title":"investor","item-value":"shares",block:"",class:"rounded-pill",density:"compact",variant:"flat","bg-color":"secbg",label:"Filter"},null,8,["modelValue","items"]),createVNode(VCard,{height:"294px",width:"100%",id:"holdchart",class:"crd-trn rounded-lg elevation-0"})]),_:1})]),_:1})]),_:1})]),createVNode(VDivider,{class:"my-4 d-none d-md-flex"}),createVNode(VToolbar,{flat:"",density:"compact",class:"tool-sty px-4 mb-4 crd-trn"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-bold fs-16 mb-2"},{default:withCtx(()=>[...t[36]||(t[36]=[createTextVNode("Mutual Funds Holding Trend",-1)])]),_:1}),createVNode(VListItemSubtitle,{class:"subtext--text mb-0 font-weight-medium fs-12"},{default:withCtx(()=>[...t[37]||(t[37]=[createTextVNode("In last 3 months, mutual fund holding of the company has almost stayed constant",-1)])]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VTextField,{modelValue:_.value,"onUpdate:modelValue":t[11]||(t[11]=e=>_.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mb-2 d-none d-md-flex",density:"compact",variant:"flat","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),createVNode(VDataTable,{mobile:"","must-sort":"","sort-by":["market_cap_Held"],"sort-desc":[!0],"hide-default-footer":"","fixed-header":"",class:"rounded-0",headers:A.value,items:y.value,search:_.value,"items-per-page":y.value.length},{"header.mftrend":withCtx(()=>[createVNode(VSelect,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:b.value,"onUpdate:modelValue":t[12]||(t[12]=e=>b.value=e),items:A.value.slice(1,4),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.mutual_fund":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_30$2,[createBaseVNode("span",_hoisted_31$2,toDisplayString(e.mutual_fund.split("-")?e.mutual_fund.split("-")[0]:e.mutual_fund),1)])]),"item.market_cap_Held":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_32$2,[createBaseVNode("span",null,toDisplayString(e.market_cap_Held?`${e.market_cap_Held.toFixed(4)}`:"0.0000")+"%",1)])]),"item.mf_holding_percent":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_33$2,[createBaseVNode("span",null,toDisplayString(e.mf_holding_percent?`${e.mf_holding_percent.toFixed(2)}`:"0.00")+"%",1)])]),"item.mf_aum":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_34$2,[createBaseVNode("span",null,toDisplayString(e.mf_aum?`${e.mf_aum.toFixed(2)}`:"0.00"),1)])]),"item.mftrend":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_35$2,["market_cap_Held"==b.value?(openBlock(),createElementBlock("span",_hoisted_36$2,toDisplayString(e.market_cap_Held?`${e.market_cap_Held.toFixed(4)}`:"0.0000")+"%",1)):"mf_holding_percent"==b.value?(openBlock(),createElementBlock("span",_hoisted_37$2,toDisplayString(e.mf_holding_percent?`${e.mf_holding_percent.toFixed(2)}`:"0.00")+"% ",1)):(openBlock(),createElementBlock("span",_hoisted_38$2,toDisplayString(e[b.value]?e[b.value].toFixed(2):"0.00"),1))])]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[38]||(t[38]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Peers comparison data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","items","search","items-per-page"]),createVNode(VDivider,{class:"d-md-none"})]),_:1}),createVNode(VCard,{id:"event",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_39$2,[t[40]||(t[40]=createBaseVNode("p",{class:"font-weight-bold title mb-md-2 mb-0"},"Events",-1)),a.events?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:w.value,"onUpdate:modelValue":[t[13]||(t[13]=e=>w.value=e),t[14]||(t[14]=e=>x.value=Object.keys(a.events)[w.value])],mandatory:"",class:"mb-4"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.events,(e,t,a)=>(openBlock(),createBlock(VChip,{variant:"outlined",color:w.value==a?"maintext":"subtext",class:"font-weight-medium fs-14 text-capitalize",key:a},{default:withCtx(()=>[createTextVNode(toDisplayString(t),1)]),_:2},1032,["color"]))),128))]),_:1},8,["modelValue"])):createCommentVNode("",!0),a.events&&a.events[x.value]&&a.events[x.value].length>0?(openBlock(),createElementBlock("div",_hoisted_40$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(a.events[x.value],(e,t,a)=>(openBlock(),createBlock(VCard,{variant:"outlined",key:a,class:"mb-3 rounded-lg",color:"secbg"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e,(e,t,a)=>(openBlock(),createBlock(VListItem,{key:a},{default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"txt-5E6 mb-2 font-weight-medium fs-13 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(J(t)),1)]),_:2},1024),createVNode(VListItemTitle,{class:"txt-000 font-weight-medium fs-14 text-capitalize"},{default:withCtx(()=>[t.includes("date")?(openBlock(),createElementBlock("span",_hoisted_41$2,toDisplayString(new Date(e).toISOString().slice(0,10)),1)):(openBlock(),createElementBlock("span",_hoisted_42$2,toDisplayString(e),1))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))])):(openBlock(),createElementBlock("div",_hoisted_43$2,[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_44$2,[t[39]||(t[39]=createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"},null,-1)),createBaseVNode("h5",_hoisted_45$2,"There is no "+toDisplayString(x.value)+" events data here yet!",1)])]),_:1})]))])]),_:1}),createVNode(VCard,{id:"news",class:"crd-trn ss-cards overflow-hidden",width:"100%"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_46$2,[t[42]||(t[42]=createBaseVNode("p",{class:"font-weight-bold title mb-md-2 mb-0"},"News",-1)),createBaseVNode("div",_hoisted_47$1,[a.events?(openBlock(),createBlock(VChipGroup,{key:0,modelValue:S.value,"onUpdate:modelValue":[t[15]||(t[15]=e=>S.value=e),t[16]||(t[16]=e=>{return t=V[S.value],N.value=t,void X();var t})],mandatory:"",class:"mb-0"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(V,(e,t)=>createVNode(VChip,{color:S.value==t?"maintext":"subtext",key:t,variant:"outlined",class:"font-weight-medium fs-14 maintext--text text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.txt),1)]),_:2},1032,["color"])),64))]),_:1},8,["modelValue"])):createCommentVNode("",!0)]),T.value?(openBlock(),createElementBlock("div",_hoisted_48$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn elevation-0 mx-auto py-16"},{default:withCtx(()=>[createVNode(VProgressCircular,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):C.value.length>0?(openBlock(),createElementBlock("div",_hoisted_49$1,[createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(C.value,(e,t)=>(openBlock(),createBlock(VCol,{cols:"12",md:"6",key:t},{default:withCtx(()=>[createVNode(VCard,{class:"crd-trn rounded-lg elevation-0 mb-2",onClick:t=>(e=>{e&&window.open(e.link,"_blank")})(e)},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"4",sm:"3",xl:"2"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-lg elevation-0"},{default:withCtx(()=>[createBaseVNode("img",{src:e.image,width:"100%",height:"60px",class:"rounded-lg",alt:e.image},null,8,_hoisted_50$1)]),_:2},1024)]),_:2},1024),createVNode(VCol,{cols:"8",sm:"9",xl:"10",class:"pl-0 pl-sm-2 pt-2"},{default:withCtx(()=>[createVNode(VListItem,{class:"px-0 pr-sm-3 py-0"},{default:withCtx(()=>[createVNode(VListItemTitle,{class:"font-weight-medium fs-14 mb-2 text-rap-l2 lh-20"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:2},1024),createVNode(VListItemSubtitle,{class:"fs-12 font-weight-regular"},{default:withCtx(()=>[createTextVNode(toDisplayString(e.isdate),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_51$1,[createVNode(VContainer,{"fill-height":""},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 mx-auto py-16 text-center"},{default:withCtx(()=>[...t[41]||(t[41]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no news data here yet!")],-1)])]),_:1})]),_:1})]))])]),_:1})],2)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass([E.value?"d-none":"","no-scroll pos-rlt"]),style:{height:"calc(100vh - 118px)"}},[createBaseVNode("div",_hoisted_52$1,[createBaseVNode("p",_hoisted_53$1,[t[43]||(t[43]=createTextVNode(" No Fundamental data ",-1)),t[44]||(t[44]=createBaseVNode("br",null,null,-1)),t[45]||(t[45]=createTextVNode(" for ",-1)),createBaseVNode("b",null,toDisplayString(a[0]?a[0].cname:""),1)])])],2)]))}},StockSingle=_export_sfc(_sfc_main$l,[["__scopeId","data-v-c3849d16"]]),useOptionsStore=defineStore("options",()=>{const e=ref$1(!0),t=ref$1(!1),a=ref$1(!0),o=ref$1(""),r=ref$1(""),n=ref$1({}),i=ref$1(""),l=ref$1([]),s=ref$1(0),c=ref$1(""),d=ref$1(null),u=ref$1(1),p=ref$1(null),h=ref$1([]),m=ref$1([]),v=ref$1({}),f=ref$1({}),g=ref$1([]),y=ref$1([]),_=ref$1([]),b=ref$1([]),w=ref$1([]),x=ref$1([]),V=ref$1(0),k=ref$1(0),C=ref$1(0),S=ref$1(null),N=ref$1(null),T=ref$1(!0),B=ref$1(!0),E=ref$1(!1),I=ref$1(!1),$=ref$1(!1),P=ref$1(!1),D=ref$1(!1),L=ref$1(10),R=ref$1("100%"),A=ref$1("hidden"),O=ref$1(!1),M=ref$1([]),F=ref$1(null),z=ref$1(0),H=ref$1([]),q=ref$1([]),U=ref$1([]),W=ref$1(""),j=ref$1([]),G=ref$1(""),Y=ref$1(""),K=ref$1(""),X=ref$1(""),J=ref$1(""),Q=ref$1(""),Z=computed(()=>`background-color: ${document.documentElement.classList.contains("v-theme--dark")||window.matchMedia("(prefers-color-scheme: dark)").matches?"#1E222D":"#F9FCFF"} !important;`),ee=e=>{e&&("7"===e.true||7===e.true?(L.value=15,R.value="1580px",A.value="scroll"):"6"===e.true||6===e.true?(L.value=14,R.value="1460px",A.value="scroll"):"5"===e.true||5===e.true?(L.value=13,R.value="1340px",A.value="scroll"):"4"===e.true||4===e.true?(L.value=12,R.value="1220px",A.value="scroll"):"3"===e.true||3===e.true?(L.value=11,R.value="1100px",A.value="scroll"):"5"===e.false||5===e.false?(L.value=10,R.value="100%",A.value="hidden"):"1"!==e.true&&1!==e.true&&"7"!==e.false&&7!==e.false||(R.value="100%",A.value="hidden","2"===e.true||2===e.true?(L.value=10,A.value="scroll"):"1"===e.true||1===e.true?L.value=9:"7"!==e.false&&7!==e.false||(L.value=8)))};return{optionchainid:e,coractdata:t,coractloader:a,optionStockSymbol:o,optionStockSpot:r,optionStockSymbolInfo:n,optionStockName:i,lsexd:l,lsexdfilter:s,lsexdval:c,daydiff:d,ccfilter:u,chainCount:p,chainStocksList:h,subscriptionchainStocksList:m,chainSpotdata:v,chainSpotPrice:f,upcallSO:g,upputSO:y,dwncallSO:_,dwnputSO:b,callsideopc:w,putsideopc:x,pcrRatio:V,pcrputRatio:k,pcrcallRatio:C,barCallsOi:S,barPutsOi:N,bitcheckbox:T,askcheckbox:B,ivcheckbox:E,thetacheckbox:I,vagacheckbox:$,gamacheckbox:P,deltacheckbox:D,opchtablehead:L,simtblwidth:R,simtblscroll:A,drawer:O,positiondata:M,positions:F,greekCount:z,data1:H,tsym:q,optionchain:U,opexch:W,securityinfo:j,opname:G,exchange:Y,scriptToken:K,optoken:X,userid:J,usession:Q,opdatabgs:Z,clearOption:t=>{t||(e.value=!1),h.value=[],z.value=0,v.value={},l.value=[],g.value=[],y.value=[],_.value=[],b.value=[],d.value="",S.value=null,N.value=null,w.value=[],x.value=[],H.value=[],U.value=[],f.value={},_.value=[],b.value=[],g.value=[],y.value=[],n.value={},m.value=[]},setOptionChainData:e=>{U.value=e,h.value=e.values||[],m.value=e.values||[]},calculatePCR:()=>{const e=g.value.reduce((e,t)=>e+parseFloat(t.oi||0),0)+_.value.reduce((e,t)=>e+parseFloat(t.oi||0),0),t=y.value.reduce((e,t)=>e+parseFloat(t.oi||0),0)+b.value.reduce((e,t)=>e+parseFloat(t.oi||0),0);V.value=e>0?Number(t/e).toFixed(2):0,C.value=Number(e).toFixed(2),k.value=Number(t).toFixed(2)},updateColumnVisibility:()=>{let e=[E.value,$.value,I.value,P.value,D.value,T.value,B.value].reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});7===e.true?(L.value=15,R.value="1580px",A.value="scroll"):6===e.true?(L.value=14,R.value="1460px",A.value="scroll"):5===e.true?(L.value=13,R.value="1340px",A.value="scroll"):4===e.true?(L.value=12,R.value="1220px",A.value="scroll"):3===e.true?(L.value=11,R.value="1100px",A.value="scroll"):1!==e.true&&7!==e.false&&2!==e.true||(R.value="100%",A.value="hidden",2===e.true?(L.value=10,A.value="scroll"):1===e.true?L.value=9:7===e.false&&(L.value=8))},loadColumnSettings:e=>{if(e)try{const t=JSON.parse(localStorage.getItem(`${e}_opdatstrue`)),a=JSON.parse(localStorage.getItem(`${e}_opvalstrue`));t&&(E.value=t.ivcheckbox||!1,$.value=t.vagacheckbox||!1,I.value=t.thetacheckbox||!1,P.value=t.gamacheckbox||!1,D.value=t.deltacheckbox||!1,T.value=void 0===t.bitcheckbox||t.bitcheckbox,B.value=void 0===t.askcheckbox||t.askcheckbox,a&&ee(a))}catch(t){console.error("Error loading column settings:",t)}},saveColumnSettings:e=>{if(e)try{let t=[E.value,$.value,I.value,P.value,D.value,T.value,B.value].reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});const a=JSON.stringify({ivcheckbox:E.value,vagacheckbox:$.value,thetacheckbox:I.value,gamacheckbox:P.value,deltacheckbox:D.value,askcheckbox:B.value,bitcheckbox:T.value}),o=JSON.stringify({true:String(t.true||0),false:String(t.false||0)});localStorage.setItem(`${e}_opdatstrue`,a),localStorage.setItem(`${e}_opvalstrue`,o)}catch(t){console.error("Error saving column settings:",t)}},defltTablestyle:ee}}),basketIconLight="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20487.1%20487.1'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M342.3,137.978H385l-63.3-108.6c-5.1-8.8-16.4-11.8-25.2-6.6c-8.8,5.1-11.8,16.4-6.6,25.2L342.3,137.978z'/%3e%3cpath%20d='M197.4,47.978c5.1-8.8,2.2-20.1-6.6-25.2s-20.1-2.2-25.2,6.6l-63.3,108.7H145L197.4,47.978z'/%3e%3cpath%20d='M455.7,171.278H31.3c-17.3,0-31.3,14-31.3,31.3v34.7c0,17.3,14,31.3,31.3,31.3h9.8l30.2,163.7%20c3.8,19.3,21.4,34.6,39.7,34.6h12h78.8c8,0,18.4,0,29,0l0,0h9.6h9.6l0,0c10.6,0,21,0,29,0h78.8h12c18.3,0,35.9-15.3,39.7-34.6%20l30.4-163.8h15.9c17.3,0,31.3-14,31.3-31.3v-34.7C487,185.278,473,171.278,455.7,171.278z%20M172.8,334.878v70.6%20c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7c10.1,0,17.7,8.2,17.7,17.7V334.878%20z%20M229.6,334.878v70.6c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7%20s17.7,8.2,17.7,17.7V334.878z%20M286.7,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7v-70.6v-28.4%20c0-9.5,8.2-17.7,17.7-17.7s17.7,7.6,17.7,17.7V375.878z%20M343.5,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7%20v-70.6v-28.4c0-9.5,7.6-17.7,17.7-17.7c9.5,0,17.7,7.6,17.7,17.7V375.878z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",basketOrderIcon="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23666'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20487.1%20487.1'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M342.3,137.978H385l-63.3-108.6c-5.1-8.8-16.4-11.8-25.2-6.6c-8.8,5.1-11.8,16.4-6.6,25.2L342.3,137.978z'/%3e%3cpath%20d='M197.4,47.978c5.1-8.8,2.2-20.1-6.6-25.2s-20.1-2.2-25.2,6.6l-63.3,108.7H145L197.4,47.978z'/%3e%3cpath%20d='M455.7,171.278H31.3c-17.3,0-31.3,14-31.3,31.3v34.7c0,17.3,14,31.3,31.3,31.3h9.8l30.2,163.7%20c3.8,19.3,21.4,34.6,39.7,34.6h12h78.8c8,0,18.4,0,29,0l0,0h9.6h9.6l0,0c10.6,0,21,0,29,0h78.8h12c18.3,0,35.9-15.3,39.7-34.6%20l30.4-163.8h15.9c17.3,0,31.3-14,31.3-31.3v-34.7C487,185.278,473,171.278,455.7,171.278z%20M172.8,334.878v70.6%20c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7c10.1,0,17.7,8.2,17.7,17.7V334.878%20z%20M229.6,334.878v70.6c0,10.1-8.2,17.7-17.7,17.7c-10.1,0-17.7-8.2-17.7-17.7v-29.6v-69.4c0-10.1,8.2-17.7,17.7-17.7%20s17.7,8.2,17.7,17.7V334.878z%20M286.7,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7v-70.6v-28.4%20c0-9.5,8.2-17.7,17.7-17.7s17.7,7.6,17.7,17.7V375.878z%20M343.5,375.878v29.6c0,9.5-7.6,17.7-17.7,17.7c-9.5,0-17.7-7.6-17.7-17.7%20v-70.6v-28.4c0-9.5,7.6-17.7,17.7-17.7c9.5,0,17.7,7.6,17.7,17.7V375.878z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_hoisted_1$8={key:0,class:"tvcharts"},_hoisted_2$7={class:"font-weight-bold mb-0 lh-24 text-none"},_hoisted_3$6={class:"ml-4 font-weight-bold fs-12"},_hoisted_4$5=["src"],_hoisted_5$5={class:"secbg"},_hoisted_6$5={class:"cardbg"},_hoisted_7$5=["colspan"],_hoisted_8$5=["colspan"],_hoisted_9$5={key:0,width:"60px",colspan:"1"},_hoisted_10$5={key:1,width:"60px",colspan:"1"},_hoisted_11$5={key:2,width:"60px",colspan:"1"},_hoisted_12$5={key:3,width:"60px",colspan:"1"},_hoisted_13$5={colspan:"2"},_hoisted_14$4={width:"96px",colspan:"2"},_hoisted_15$2={key:4,colspan:"1"},_hoisted_16$2={key:5,colspan:"1"},_hoisted_17$2={width:"100px",colspan:"2"},_hoisted_18$2={colspan:"2"},_hoisted_19$2={key:6,width:"60px",colspan:"1"},_hoisted_20$2={colspan:"4",style:{"border-left":"thin solid rgba(0, 0, 0, 0.12)","border-right":"thin solid rgba(0, 0, 0, 0.12)"}},_hoisted_21$2={key:7,width:"60px",colspan:"1"},_hoisted_22$2={colspan:"2"},_hoisted_23$2={width:"100px",colspan:"2"},_hoisted_24$2={key:8,colspan:"1"},_hoisted_25$1={key:9,colspan:"1"},_hoisted_26$1={width:"96px",colspan:"2"},_hoisted_27$1={colspan:"2"},_hoisted_28$1={key:10,width:"60px",colspan:"1"},_hoisted_29$1={key:11,width:"60px",colspan:"1"},_hoisted_30$1={key:12,width:"60px",colspan:"1"},_hoisted_31$1={key:13,width:"60px",colspan:"1"},_hoisted_32$1=["innerHTML"],_hoisted_33$1=["innerHTML"],_hoisted_34$1=["innerHTML"],_hoisted_35$1=["innerHTML"],_hoisted_36$1=["id","innerHTML"],_hoisted_37$1=["id"],_hoisted_38$1={class:"optiondatasty optionbartext"},_hoisted_39$1=["id"],_hoisted_40$1=["id"],_hoisted_41$1=["id"],_hoisted_42$1=["id","innerHTML"],_hoisted_43$1=["id","innerHTML"],_hoisted_44$1=["id"],_hoisted_45$1=["id"],_hoisted_46$1=["id"],_hoisted_47=["id","innerHTML"],_hoisted_48={key:0,class:"opdatacallupbtn lfttrbtn",style:{"margin-left":"-192px"}},_hoisted_49=["onClick"],_hoisted_50={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_51=["onClick"],_hoisted_52={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_53=["onClick"],_hoisted_54={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_55=["src"],_hoisted_56=["onClick"],_hoisted_57={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_58=["onClick"],_hoisted_59=["onClick"],_hoisted_60=["innerHTML"],_hoisted_61=["id"],_hoisted_62={class:"subtitle-2 font-weight-bold"},_hoisted_63=["id"],_hoisted_64={key:7,colspan:"1",class:"text-center pa-0"},_hoisted_65=["innerHTML"],_hoisted_66={colspan:"2",class:"text-center opdatacalluphov opdatas"},_hoisted_67=["id","innerHTML"],_hoisted_68={key:0,class:"opdatacallupbtn uprghtrbtn"},_hoisted_69=["onClick"],_hoisted_70=["onClick"],_hoisted_71=["onClick"],_hoisted_72={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p"},_hoisted_73=["onClick"],_hoisted_74={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_75=["src"],_hoisted_76=["onClick"],_hoisted_77={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_78=["onClick"],_hoisted_79={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_80={colspan:"2",class:"text-center opdatas"},_hoisted_81=["id"],_hoisted_82=["id"],_hoisted_83=["id"],_hoisted_84={key:8,colspan:"1",class:"text-center opdatas"},_hoisted_85=["id","innerHTML"],_hoisted_86={key:9,colspan:"1",class:"text-center opdatas"},_hoisted_87=["id","innerHTML"],_hoisted_88={colspan:"2",class:"text-center opdatas opdatacalluphov"},_hoisted_89=["id"],_hoisted_90={class:"optiondatasty optionbartext"},_hoisted_91=["id"],_hoisted_92=["id"],_hoisted_93=["id"],_hoisted_94={colspan:"2",class:"text-center opdatas"},_hoisted_95=["id","innerHTML"],_hoisted_96={key:10,colspan:"1",class:"text-center pa-0"},_hoisted_97=["innerHTML"],_hoisted_98={key:11,colspan:"1",class:"text-center pa-0"},_hoisted_99=["innerHTML"],_hoisted_100={key:12,colspan:"1",class:"text-center pa-0"},_hoisted_101=["innerHTML"],_hoisted_102={key:13,colspan:"1",class:"text-center pa-0"},_hoisted_103=["innerHTML"],_hoisted_104={key:0,ref:"chainSpotRow"},_hoisted_105=["colspan"],_hoisted_106={id:"opcenterview",colspan:"4",class:"text-center pa-0 opdatacalluphov"},_hoisted_107={class:"font-weight-bold body-2"},_hoisted_108=["colspan"],_hoisted_109=["innerHTML"],_hoisted_110=["innerHTML"],_hoisted_111=["innerHTML"],_hoisted_112=["innerHTML"],_hoisted_113=["id","innerHTML"],_hoisted_114=["id"],_hoisted_115={class:"optiondatasty optionbartext"},_hoisted_116=["id"],_hoisted_117=["id"],_hoisted_118=["id"],_hoisted_119=["id","innerHTML"],_hoisted_120=["id","innerHTML"],_hoisted_121=["id"],_hoisted_122=["id"],_hoisted_123=["id"],_hoisted_124=["id","innerHTML"],_hoisted_125={key:0,class:"opdatacallupbtn lfttrbtn",style:{"margin-left":"-192px"}},_hoisted_126=["onClick"],_hoisted_127={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_128=["onClick"],_hoisted_129={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_130=["onClick"],_hoisted_131={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_132=["src"],_hoisted_133=["onClick"],_hoisted_134={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},_hoisted_135=["onClick"],_hoisted_136=["onClick"],_hoisted_137=["innerHTML"],_hoisted_138=["id"],_hoisted_139={class:"subtitle-2 font-weight-bold"},_hoisted_140=["id"],_hoisted_141={key:7,colspan:"1",class:"text-center pa-0"},_hoisted_142=["innerHTML"],_hoisted_143={colspan:"2",class:"text-center opdatacalluphov opdatas"},_hoisted_144=["id","innerHTML"],_hoisted_145={key:0,class:"opdatacallupbtn dwnrghtrbtn"},_hoisted_146=["onClick"],_hoisted_147=["onClick"],_hoisted_148=["onClick"],_hoisted_149={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p"},_hoisted_150=["onClick"],_hoisted_151={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_152=["src"],_hoisted_153=["onClick"],_hoisted_154={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_155=["onClick"],_hoisted_156={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},_hoisted_157={colspan:"2",class:"text-center opdatas"},_hoisted_158=["id"],_hoisted_159=["id"],_hoisted_160=["id"],_hoisted_161={key:8,colspan:"1",class:"text-center pa-0"},_hoisted_162=["id","innerHTML"],_hoisted_163={key:9,colspan:"1",class:"text-center pa-0"},_hoisted_164=["id","innerHTML"],_hoisted_165={colspan:"2",class:"text-center opdatas opdatacalluphov"},_hoisted_166=["id"],_hoisted_167={class:"optiondatasty optionbartext"},_hoisted_168=["id"],_hoisted_169=["id"],_hoisted_170=["id"],_hoisted_171={colspan:"2",class:"text-center opdatas"},_hoisted_172=["id","innerHTML"],_hoisted_173={key:10,colspan:"1",class:"text-center pa-0"},_hoisted_174=["innerHTML"],_hoisted_175={key:11,colspan:"1",class:"text-center pa-0"},_hoisted_176=["innerHTML"],_hoisted_177={key:12,colspan:"1",class:"text-center pa-0"},_hoisted_178=["innerHTML"],_hoisted_179={key:13,colspan:"1",class:"text-center pa-0"},_hoisted_180=["innerHTML"],_hoisted_181={key:1},_hoisted_182=["colspan"],_hoisted_183={key:0,class:"mb-3"},_hoisted_184={key:0,width:"60px",colspan:"1"},_hoisted_185={key:1,width:"60px",colspan:"1"},_hoisted_186={key:2,width:"60px",colspan:"1"},_hoisted_187={key:3,width:"60px",colspan:"1"},_hoisted_188={colspan:"2"},_hoisted_189={width:"96px",colspan:"2",class:"px-0"},_hoisted_190={class:"optionheadsty"},_hoisted_191={key:4,colspan:"1"},_hoisted_192={key:5,colspan:"1"},_hoisted_193={width:"100px",colspan:"2"},_hoisted_194={colspan:"2"},_hoisted_195={key:6,width:"60px",colspan:"1"},_hoisted_196={colspan:"4",style:{"border-left":"thin solid rgba(0, 0, 0, 0.12)","border-right":"thin solid rgba(0, 0, 0, 0.12)"}},_hoisted_197={class:"optionheadsty"},_hoisted_198={key:7,width:"60px",colspan:"1"},_hoisted_199={colspan:"2"},_hoisted_200={width:"100px",colspan:"2"},_hoisted_201={key:8,colspan:"1"},_hoisted_202={key:9,colspan:"1"},_hoisted_203={width:"96px",colspan:"2",class:"px-0"},_hoisted_204={class:"optionheadsty"},_hoisted_205={colspan:"2"},_hoisted_206={key:10,width:"60px",colspan:"1"},_hoisted_207={key:11,width:"60px",colspan:"1"},_hoisted_208={key:12,width:"60px",colspan:"1"},_hoisted_209={key:13,width:"60px",colspan:"1"},_hoisted_210={class:"d-flex align-center justify-space-between pa-3"},_hoisted_211={class:"pa-3"},_hoisted_212={class:"pa-3"},_hoisted_213={key:1,class:"no-scroll pos-rlt",style:{height:"calc(100vh - 118px)"}},_hoisted_214={class:"pos-cent"},_hoisted_215={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},_sfc_main$k={__name:"StocksOption",setup(e){useRoute$1();const t=useRouter$1(),a=useTheme(),o=useOptionsStore(),r=useAuthStore(),n=useAppStore(),i=ref$1({});function l(e,t){const a={...i.value[e]||{}},o=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},r=o(t.ltp??t.lp??t.l),n=o(t.c??t.prev_close_price??t.close??t.pc),l=o(t.ch),s=o(t.chp??t.pc),c=o(t.ask??t.a),d=o(t.bid??t.b),u=o(t.oi),p=o(t.poi??t.prev_oi),h=o(t.vol??t.volume??t.socketVolume);return o(t.ch),o(t.chp),void 0!==r&&(a.ltp=r),void 0!==n&&(a.prevClose=n),void 0!==c&&(a.ask=c),void 0!==d&&(a.bid=d),void 0!==u&&(a.oi=u),void 0!==p&&(a.poi=p),void 0!==h&&(a.vol=h),void 0!==l&&(a.ch=l),void 0!==s&&(a.chp=s),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),i.value[e]=a,a}async function s(e,t){var a,i,l,d,p;const h=localStorage.getItem("ssdtoken"),m=null==(a=window.ssdreqdata)?void 0:a.data;let v;if(m&&m[h]&&m[h].l||window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==h){v=m&&m[h]&&m[h].l?m[h].l:window.ssddetail[2];let a=e.toUpperCase();if(a.split(":")[0].match(/^NFO$/))o.optionStockSymbol=a;else{let e=a.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(e){let t=a.split(e[0]);(null==(i=t[0].split(":")[1])?void 0:i.match(/^NIFTY$/))?o.optionStockSymbol="NSE:NIFTY 50":(null==(l=t[0].split(":")[1])?void 0:l.match(/^BANKNIFTY$/))?o.optionStockSymbol="NSE:NIFTY BANK":(null==(d=t[0].split(":")[1])?void 0:d.match(/^FINNIFTY$/))?o.optionStockSymbol="NSE:NIFTY FIN SERVICE":(null==(p=t[0].split(":")[0])?void 0:p.match(/^NFO$/))?o.optionStockSymbol=`NSE:${t[0].split(":")[1]}-EQ`:o.optionStockSymbol=a}else o.optionStockSymbol=a}await getMasters(`${o.optionStockSymbol}`)&&v&&v.opt_exp&&v.opt_exp.length>0&&(m&&m[h]&&m[h].q||window.ssddetail[0])?(o.optionStockSpot=0,o.lsexdfilter=0,async function(e,t,a){var i,l,s,d,p,h;try{if("exit"==e)return o.coractloader=!0,o.coractdata=!1,void(o.optionchainid=!1);o.loadColumnSettings(r.uid),o.drawer=!1,nextTick(()=>{u()}),o.chainCount="",o.chainSpotdata={},o.lsexd=[],o.upcallSO=[],o.upputSO=[],o.dwncallSO=[],o.dwnputSO=[];let m=await getMasters(`${o.optionStockSymbol}`);if(m&&m.length>0){o.exchange=o.optionStockSymbol.split(":")[0],o.scriptToken=m[0];const e=(null==(l=null==(i=window.ssdreqdata)?void 0:i.data)?void 0:l[a])?window.ssdreqdata.data[a].i:null==(s=window.ssddetail)?void 0:s[3],r=(null==(p=null==(d=window.ssdreqdata)?void 0:d.data)?void 0:p[a])?window.ssdreqdata.data[a].q:null==(h=window.ssddetail)?void 0:h[0];if(e){o.securityinfo=e,o.opname=e.symname||"",o.opexch=e.exch||"",o.optoken=e.token||"";let a,i=[];if(t.opt_exp&&Array.isArray(t.opt_exp)){t.opt_exp.forEach(e=>{i.push({...e})}),i.sort((e,t)=>new Date(e.exd)-new Date(t.exd)),o.data1=i,o.lsexd=[],o.tsym=[];for(let e=0;e<i.length;e++)o.lsexd.push(i[e].exd),o.tsym.push(i[e].tsym);o.lsexdval=o.lsexd[0]||""}o.chainCount="10",a=r&&r.und_exch&&r.und_tk?await getQuotesdata(`${r.und_exch}|${r.und_tk}`):r,a?(console.log("[Options] Spot price data:",a),o.subscriptionchainStocksList.push({exch:a.exch,token:a.token,tsym:a.tsym}),o.optionStockSymbolInfo={exch:a.exch,token:a.token,tsym:a.tsym},o.optionStockName=o.optionStockSymbolInfo.tsym||"",o.optionStockSpot=a.lp||0,console.log("[Options] Spot price:",o.optionStockSpot),console.log("[Options] Symbol info:",o.optionStockSymbolInfo),c()):(console.error("[Options] No quote data available"),o.coractloader=!1,o.coractdata=!1,n.showSnackbar(2,"Unable to fetch spot price data"))}else console.error("[Options] Symbol has no tradable futures or options"),o.coractloader=!1,o.coractdata=!1,n.showSnackbar(2,"The symbol has no tradable futures or options.")}else console.error("[Options] Missing security info or expiry data"),o.coractloader=!1,o.coractdata=!1}catch(m){console.error("[Options] Error in optionchainMet:",m),o.coractloader=!1,o.coractdata=!1,n.showSnackbar(2,`Error: ${m.message||"Unknown error"}`)}}(t||null,v,h),o.optionchainid=!0,o.coractloader=!0,o.coractdata=!1):(o.clearOption(),o.optionStockSymbol=a)}else v&&v.opt_exp&&0===v.opt_exp.length?o.clearOption():setTimeout(()=>{s(e,t)},100)}async function c(){var e,t,a;try{console.log("[Options] Starting optionChainDate..."),console.log("[Options] Current expiry filter:",o.lsexdfilter),console.log("[Options] Available expiry dates:",o.lsexd),o.greekCount=0,o.daydiff="",o.chainStocksList=[],o.upcallSO=[],o.dwncallSO=[],o.upputSO=[],o.dwnputSO=[],o.chainSpotPrice=o.optionStockSpot,o.lsexdval=o.lsexd[o.lsexdfilter]||"";const l=["5","10","15","30","50"];o.chainCount=l[o.ccfilter]||"10",console.log("[Options] Selected expiry:",o.lsexdval),console.log("[Options] Chain count:",o.chainCount),console.log("[Options] Data1 length:",(null==(e=o.data1)?void 0:e.length)||0);let s=null==(t=o.data1)?void 0:t.find(e=>e.exd===o.lsexdval);if(o.lsexdval){let e=new Date(o.lsexdval),t=(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"/"+(e.getDate()>9?e.getDate():"0"+e.getDate())+"/"+e.getFullYear(),a=new Date,r=(a.getMonth()>8?a.getMonth()+1:"0"+(a.getMonth()+1))+"/"+(a.getDate()>9?a.getDate():"0"+a.getDate())+"/"+a.getFullYear(),n=new Date(r),i=(new Date(t).getTime()-n.getTime())/864e5;o.daydiff=i+1}if(!s)return console.error("[Options] Expiry date not found in data1:",o.lsexdval),console.error("[Options] Available data1:",o.data1),o.coractloader=!1,o.coractdata=!1,void n.showSnackbar(2,`Expiry date ${o.lsexdval} not found`);const c=sessionStorage.getItem("userid")||"G",u=sessionStorage.getItem("msession")||"G";o.userid=c,o.usession=u;const p=s.tsym.includes("&")?s.tsym.replace("&","%26"):s.tsym,h=`jData={"uid":"${c}","exch":"${s.exch}","tsym":"${p}","cnt":"${o.chainCount}","strprc":"${o.optionStockSpot}"}&jKey=${u}`;console.log("[Options] Fetching options chain..."),console.log("[Options] Query params:",{exch:s.exch,tsym:p,cnt:o.chainCount,strprc:o.optionStockSpot});let m=null;try{m=await getOptionschain(h),console.log("[Options] API Response:",m)}catch(i){return console.error("[Options] API Error:",i),o.coractloader=!1,o.coractdata=!1,void n.showSnackbar(2,`Error fetching options chain: ${i.message||"Unknown error"}`)}if(!m)return console.error("[Options] No data returned from API"),o.coractloader=!1,o.coractdata=!1,void n.showSnackbar(2,"No data returned from options chain API");if(m&&"Ok"==m.stat){console.log("[Options] API Success - Processing data..."),console.log("[Options] Values count:",(null==(a=m.values)?void 0:a.length)||0),o.optionchain=m,o.chainStocksList=m.values||[],o.subscriptionchainStocksList=m.values||[];const e=Number(o.optionStockSpot);o.chainStocksList.forEach(e=>{const t="PE"===e.optt?"CE":"PE";o.chainStocksList.some(a=>a.optt===t&&Number(a.strprc)===Number(e.strprc))||o.chainStocksList.push({exch:e.exch,token:"",tsym:"",optt:t,pp:e.pp,ls:e.ls,ti:e.ti,strprc:e.strprc})});const t=[...o.chainStocksList].sort((e,t)=>Number(e.strprc)-Number(t.strprc));if(t.forEach(e=>{void 0!==e.oi&&null!==e.oi&&void 0===e.coi&&(e.coi=Number(e.oi)),void 0!==e.coi&&null!==e.coi&&(e.oi=(Number(e.coi)/1e5).toFixed(2)),void 0!==e.poi&&null!==e.poi&&void 0!==e.coi&&(e.oich=((Number(e.coi)-Number(e.poi))/1e5).toFixed(2)),void 0!==e.vol&&null!==e.vol&&"number"==typeof e.vol?e.vol=(Number(e.vol)/1e5).toFixed(2):void 0!==e.socketVolume&&null!==e.socketVolume&&(e.vol=(Number(e.socketVolume)/1e5).toFixed(2)),void 0!==e.ltp&&null!==e.ltp&&(e.ltp=Number(e.ltp)?Number(e.ltp).toFixed(2):e.ltp),void 0!==e.ch&&null!==e.ch&&(e.ch=Number(e.ch)?Number(e.ch).toFixed(2):e.ch),void 0!==e.chp&&null!==e.chp&&(e.chp=Number(e.chp)?Number(e.chp).toFixed(2):e.chp),void 0!==e.bid&&null!==e.bid&&(e.bid=Number(e.bid)?Number(e.bid).toFixed(2):e.bid),void 0!==e.ask&&null!==e.ask&&(e.ask=Number(e.ask)?Number(e.ask).toFixed(2):e.ask),e.bar||(e.bar="rgba(0, 0, 0, 0.12)")}),o.callsideopc=t.filter(t=>"CE"===t.optt&&(e>Number(t.strprc)?o.upcallSO.push({...t,p:""}):o.dwncallSO.push({...t,p:""}),!0)),o.putsideopc=t.filter(t=>"PE"===t.optt&&(e>Number(t.strprc)?o.upputSO.push({...t,p:""}):o.dwnputSO.push({...t,p:""}),!0)),o.callsideopc.length>0){const e=o.callsideopc.map(e=>Number(e.coi||0)).filter(e=>e>0);e.length>0?o.barCallsOi=Math.max(...e):o.barCallsOi=null}else o.barCallsOi=null;if(o.putsideopc.length>0){const e=o.putsideopc.map(e=>Number(e.coi||0)).filter(e=>e>0);e.length>0?o.barPutsOi=Math.max(...e):o.barPutsOi=null}else o.barPutsOi=null;if(o.barCallsOi&&(o.upcallSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-o.barCallsOi)/o.barCallsOi*100+100)?void 0:t.toFixed(0))}),o.dwncallSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-o.barCallsOi)/o.barCallsOi*100+100)?void 0:t.toFixed(0))})),o.barPutsOi&&(o.upputSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-o.barPutsOi)/o.barPutsOi*100+100)?void 0:t.toFixed(0))}),o.dwnputSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-o.barPutsOi)/o.barPutsOi*100+100)?void 0:t.toFixed(0))})),o.calculatePCR(),setTimeout(()=>{nextTick(()=>{const e=document.getElementById("opcenterview");e&&e.scrollIntoView({behavior:"smooth",block:"center"})})},10),r.uid)try{await g()}catch(i){console.error("[Options] Error loading positions:",i)}o.subscriptionchainStocksList.push(o.optionStockSymbolInfo),d("sub",o.subscriptionchainStocksList,"ssd"),o.coractdata=!0,o.coractloader=!1,console.log("[Options] Data loaded successfully!"),console.log("[Options] upcallSO count:",o.upcallSO.length),console.log("[Options] upputSO count:",o.upputSO.length),console.log("[Options] dwncallSO count:",o.dwncallSO.length),console.log("[Options] dwnputSO count:",o.dwnputSO.length)}else console.error("[Options] API Error:",null==m?void 0:m.stat,null==m?void 0:m.emsg),o.coractloader=!1,o.coractdata=!1,n.showSnackbar(2,(null==m?void 0:m.emsg)||"Failed to fetch options chain")}catch(i){console.error("[Options] Unexpected error in optionChainDate:",i),o.coractloader=!1,o.coractdata=!1,n.showSnackbar(2,`Unexpected error: ${i.message||"Unknown error"}`)}}function d(e,t,a){const o=new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}});window.dispatchEvent(o)}function u(){try{if(!o||"function"!=typeof o.updateColumnVisibility)return void console.error("[Options] updateColumnVisibility is not available");o.updateColumnVisibility(),r&&r.uid&&o&&"function"==typeof o.saveColumnSettings&&o.saveColumnSettings(r.uid)}catch(e){console.error("[Options] Error in simpleTablestyle:",e)}}function p(){window.dispatchEvent(new CustomEvent("option-search",{detail:o.optionStockSymbolInfo}))}function h(e){const t=e.detail;let a,r,n,i;Array.isArray(t)?[a,r,n,i]=t:t&&"object"==typeof t&&(a=t.type,r=t.token,n=t.exch,i=t.tsym),r&&n&&i&&(o.optionStockSymbol=i,d("unsub-D",o.chainStocksList,"ssd"),o.clearOption(!0),o.coractloader=!0,o.coractdata=!1,s(`${n}:${i}`,"exit"))}function m(e){const t=e.detail;let a=null;if(Array.isArray(t)&&t.length>=2){const[e,o]=t;"stockSSD"===o&&e&&(a=e)}else t&&"object"==typeof t&&("stockSSD"===t.page||t.token)&&(a=t);a&&a.token&&function(e){var t,a,r,n,i,s,c,d,u,p,h;const m=String(e.token),g=m;if(o.optionStockSymbolInfo&&String(o.optionStockSymbolInfo.token)===g){const n=l(m,e);o.chainSpotdata={...o.chainSpotdata,lp:(null==(t=n.ltp)?void 0:t.toFixed(2))||e.lp||"0.00",ch:(null==(a=n.ch)?void 0:a.toFixed(2))||e.ch||"0.00",chp:(null==(r=n.chp)?void 0:r.toFixed(2))||e.chp||"0.00"}}let y=o.upcallSO.findIndex(e=>String(e.token)===g),_=o.upputSO.findIndex(e=>String(e.token)===g),b=o.dwncallSO.findIndex(e=>String(e.token)===g),w=o.dwnputSO.findIndex(e=>String(e.token)===g);const x=l(m,e);if(y>=0){const e=o.upcallSO[y];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),o.barCallsOi&&void 0!==x.oi&&(e.pro=null==(n=(x.oi-o.barCallsOi)/o.barCallsOi*100+100)?void 0:n.toFixed(0)),void 0!==x.vol&&(e.vol=null==(i=x.vol/1e5)?void 0:i.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}o.upcallSO[y]={...o.upcallSO[y],...e},o.upcallSO=[...o.upcallSO],v("upcall",m,e)}else if(_>=0){const e=o.upputSO[_];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),o.barPutsOi&&void 0!==x.oi&&(e.pro=null==(s=(x.oi-o.barPutsOi)/o.barPutsOi*100+100)?void 0:s.toFixed(0)),void 0!==x.vol&&(e.vol=null==(c=x.vol/1e5)?void 0:c.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}o.upputSO[_]={...o.upputSO[_],...e},o.upputSO=[...o.upputSO],v("upput",m,e)}else if(b>=0){const e=o.dwncallSO[b];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),o.barCallsOi&&void 0!==x.oi&&(e.pro=null==(d=(x.oi-o.barCallsOi)/o.barCallsOi*100+100)?void 0:d.toFixed(0)),void 0!==x.vol&&(e.vol=null==(u=x.vol/1e5)?void 0:u.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}o.dwncallSO[b]={...o.dwncallSO[b],...e},o.dwncallSO=[...o.dwncallSO],v("dwncall",m,e)}else if(w>=0){const e=o.dwnputSO[w];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),o.barPutsOi&&void 0!==x.oi&&(e.pro=null==(p=(x.oi-o.barPutsOi)/o.barPutsOi*100+100)?void 0:p.toFixed(0)),void 0!==x.vol&&(e.vol=null==(h=x.vol/1e5)?void 0:h.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}o.dwnputSO[w]={...o.dwnputSO[w],...e},o.dwnputSO=[...o.dwnputSO],v("dwnput",m,e)}if(o.callsideopc.length>0){const e=Math.max(...o.callsideopc.map(e=>Number(e.coi||0)));e>0&&(o.barCallsOi=e)}if(o.putsideopc.length>0){const e=Math.max(...o.putsideopc.map(e=>Number(e.coi||0)));e>0&&(o.barPutsOi=e)}const V=o.upcallSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),k=o.dwncallSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),C=V+k,S=o.upputSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),N=o.dwnputSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),T=S+N;o.pcrRatio=C>0?Number(T/C).toFixed(2):0;o.pcrcallRatio=Number(C).toFixed(2),o.pcrputRatio=Number(T).toFixed(2),(o.ivcheckbox||o.vagacheckbox||o.thetacheckbox||o.gamacheckbox||o.deltacheckbox)&&(b>=0&&o.dwncallSO[b]&&!("IV"in o.dwncallSO[b])&&f("dwncallSO",o.dwncallSO,b),w>=0&&o.dwnputSO[w]&&!("IV"in o.dwnputSO[w])&&f("dwnputSO",o.dwnputSO,w),y>=0&&o.upcallSO[y]&&!("IV"in o.upcallSO[y])&&f("upcallSO",o.upcallSO,y),_>=0&&o.upputSO[_]&&!("IV"in o.upputSO[_])&&f("upputSO",o.upputSO,_))}(a)}function v(e,t,a){const o=String(t);if(document.getElementById(`${e}${o}ltp`)){const t=document.getElementById(`${e}${o}ltp`);t&&(t.innerHTML=a.ltp||"0.00");const r=document.getElementById(`${e}${o}ch`);r&&(r.innerHTML=a.ch||"0.00");const n=document.getElementById(`${e}${o}chp`);n&&(n.innerHTML=` (${a.chp||"0.00"}%)`);const i=document.getElementById(`${e}${o}chpclr`);if(i){const e=parseFloat(a.ch)||0;i.className=e>0?"optiondatasty maingreen--text":e<0?"optiondatasty mainred--text":"optiondatasty",i.style.color=e>0?"#43A833":e<0?"#F23645":""}const l=document.getElementById(`${e}${o}oi`);l&&(l.innerHTML=a.oi||"0.00");const s=document.getElementById(`${e}${o}oich`);s&&(s.innerHTML=` (${a.oich||"0.00"})`);const c=document.getElementById(`${e}${o}oiclr`);if(c){const e=parseFloat(a.oich)||0;c.style.color=e>0?"#43A833":e<0?"#F23645":"none"}const d=document.getElementById(`${e}${o}vol`);d&&(d.innerHTML=a.vol||"0.00");const u=document.getElementById(`${e}${o}pro`);u&&a.pro&&u.style.setProperty("--my-width-var",`${a.pro}%`);const p=document.getElementById(`${e}${o}bar`);if(p&&a.bar){const t="upput"===e||"dwnput"===e?"--my-rgtbrdclr-var":"--my-lftbrdclr-var";p.style.setProperty(t,a.bar)}}const r=document.getElementById(`${e}${o}bid`);r&&(r.innerHTML=a.bid||"0.00");const n=document.getElementById(`${e}${o}ask`);n&&(n.innerHTML=a.ask||"0.00")}async function f(e,t,a){if(o.greekCount>=4*parseInt(o.chainCount))return;o.greekCount+=1;const r=t[a];if(r)try{const t=await getGreekoptions(JSON.stringify({spotPrice:o.optionStockSpot,expiryDay:parseInt(o.daydiff),OPTIONS:r}));if(t&&"GreekValues"in t&&t.GreekValues.length>0){const r=t.GreekValues[0];let n=null;"dwncallSO"===e?n=o.dwncallSO[a]:"dwnputSO"===e?n=o.dwnputSO[a]:"upcallSO"===e?n=o.upcallSO[a]:"upputSO"===e&&(n=o.upputSO[a]),n&&(n.IV=Number(r.IV)?Number(r.IV).toFixed(2):r.IV,n.Rho=r.Rho,n.delta=Number(r.delta)?Number(r.delta).toFixed(4):r.delta,n.gamma=Number(r.gamma)?Number(r.gamma).toFixed(4):r.gamma,n.theta=Number(r.theta)?Number(r.theta).toFixed(4):r.theta,n.vega=Number(r.vega)?Number(r.vega).toFixed(4):r.vega,"dwncallSO"===e?(o.dwncallSO[a]={...o.dwncallSO[a],...n},o.dwncallSO=[...o.dwncallSO]):"dwnputSO"===e?(o.dwnputSO[a]={...o.dwnputSO[a],...n},o.dwnputSO=[...o.dwnputSO]):"upcallSO"===e?(o.upcallSO[a]={...o.upcallSO[a],...n},o.upcallSO=[...o.upcallSO]):"upputSO"===e&&(o.upputSO[a]={...o.upputSO[a],...n},o.upputSO=[...o.upputSO]))}}catch(n){console.error("Error calculating Greeks:",n)}}async function g(){if(!o.positions||!o.positions.o){const e=await getMPosotion();o.positions=e}!async function(){const e=o.positions;if(o.positiondata=[],e&&e.o&&e.o.length>0){o.positiondata=[...e.o];for(let e=0;e<o.positiondata.length;e++){const t=o.positiondata[e];if(t&&(["OPTIDX","OPTFUT"].includes(t.instname)||"NFO"===t.exch)&&0!==Number(t.netqty)){const e=o.upcallSO.findIndex(e=>e.tsym===t.tsym),a=o.upputSO.findIndex(e=>e.tsym===t.tsym),r=o.dwncallSO.findIndex(e=>e.tsym===t.tsym),n=o.dwnputSO.findIndex(e=>e.tsym===t.tsym),i={p:!0,ppp:{netqty:t.netqty,netavgprc:t.netavgprc||t.avgprc,avgprc:t.avgprc,crpnl:t.crpnl||0},pmtm:((Number(t.ltp||0)-Number(t.netavgprc||t.avgprc||0))*Number(t.netqty)+Number(t.crpnl||0)).toFixed(2),px:"",pz:"",icon:"",qtyp:Number(t.netqty),qtyclr:Number(t.netqty)>0?"maingreen--text":"mainred--text"},l=parseFloat(i.pmtm);i.px=l>0?"maingreen--text":l<0?"mainred--text":"white--text",i.pz=l>0?"maingreen":l<0?"mainred":"rgba(0, 0, 0, 0.12)",i.icon=l>0?"mdi-arrow-up-drop-circle":l<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle",e>=0&&(o.upcallSO[e]={...o.upcallSO[e],...i},o.upcallSO=[...o.upcallSO]),a>=0&&(o.upputSO[a]={...o.upputSO[a],...i},o.upputSO=[...o.upputSO]),r>=0&&(o.dwncallSO[r]={...o.dwncallSO[r],...i},o.dwncallSO=[...o.dwncallSO]),n>=0&&(o.dwnputSO[n]={...o.dwnputSO[n],...i},o.dwnputSO=[...o.dwnputSO])}}}}()}function y(){return a.current.value.dark?basketIconDark:basketIconLight}function _(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("ssd-event",{detail:["chart",a.token,a.exch,a.tsym]}))}function b(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("ssd-event",{detail:["depth",a.token,a.exch,a.tsym]}))}function w(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&(a.buySell="BUY",a.expdate=o.lsexd,a.ordvai="MKT",a.ordlot=1,a.ordprc=Number(a.ltp||0),a.checkbox=!0,window.dispatchEvent(new CustomEvent("bskwatch-event",{detail:{type:"add",data:a,optionchain:o.optionchain}})))}function x(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&window.dispatchEvent(new CustomEvent("addscript-wl",{detail:a}))}function V(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:a.token,exch:a.exch,tsym:a.tsym,trantype:"b"}}))}function k(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:a.token,exch:a.exch,tsym:a.tsym,trantype:"s"}}))}return"undefined"==typeof window||window.ssdreqdata||(window.ssdreqdata={data:{}}),"undefined"==typeof window||window.ssddetail||(window.ssddetail=[]),onMounted(()=>{o.userid=sessionStorage.getItem("userid")||"",o.usession=sessionStorage.getItem("msession")||"";let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&s(e),window.addEventListener("ssd-event",h),window.addEventListener("web-scoketConn",m),window.addEventListener("orderbook-update",e=>{"port-order"===e.detail&&g()})}),onUnmounted(()=>{window.removeEventListener("ssd-event",h),window.removeEventListener("web-scoketConn",m)}),(e,a)=>{const r=resolveComponent("v-list-item-group");return openBlock(),createElementBlock("div",null,[unref(o).optionchainid?(openBlock(),createElementBlock("div",_hoisted_1$8,[createVNode(VCard,{color:"cardbg",width:"100%",class:"rounded-md",style:{overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(VToolbar,{flat:"",dense:"",class:"tool-sty crd-trn pr-4"},{default:withCtx(()=>[createVNode(VBtn,{readonly:unref(o).coractloader,onClick:p,class:"elevation-0 rounded-lg mr-2",color:"transparent"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_2$7,[createVNode(VIcon,null,{default:withCtx(()=>[...a[24]||(a[24]=[createTextVNode("mdi-magnify",-1)])]),_:1}),createTextVNode(" "+toDisplayString(unref(o).optionStockName||""),1)])]),_:1},8,["readonly"]),createVNode(VMenu,{location:"bottom",offset:"4"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VBtn,{readonly:unref(o).coractloader,color:"secbg",class:"elevation-0 rounded-lg text-none fs-14 mr-4 px-2 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(o).lsexdval||"")+" ",1),createBaseVNode("span",_hoisted_3$6,toDisplayString(unref(o).lsexdval&&unref(o).daydiff?unref(o).daydiff+"(D)":""),1),createVNode(VIcon,null,{default:withCtx(()=>[...a[25]||(a[25]=[createTextVNode("mdi-chevron-down",-1)])]),_:1})]),_:1},8,["readonly"])],16)]),default:withCtx(()=>[createVNode(VList,{density:"compact",style:{"max-height":"320px","overflow-y":"scroll"}},{default:withCtx(()=>[createVNode(r,{modelValue:unref(o).lsexdfilter,"onUpdate:modelValue":[a[0]||(a[0]=e=>unref(o).lsexdfilter=e),c],"active-class":"primary--text"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o).lsexd,(e,t)=>(openBlock(),createBlock(VListItem,{key:t,value:t},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode(VMenu,{location:"bottom",offset:"4"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VBtn,{readonly:unref(o).coractloader,color:"secbg",class:"elevation-0 rounded-lg text-none fs-14 px-2 text-capitalize"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(o).chainCount?"50"==unref(o).chainCount?"All":unref(o).chainCount:"")+" ",1),createVNode(VIcon,null,{default:withCtx(()=>[...a[26]||(a[26]=[createTextVNode("mdi-chevron-down",-1)])]),_:1})]),_:1},8,["readonly"])],16)]),default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[createVNode(r,{modelValue:unref(o).ccfilter,"onUpdate:modelValue":[a[1]||(a[1]=e=>unref(o).ccfilter=e),c],"active-class":"primary--text"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(["5","10","15","30","All"],(e,t)=>createVNode(VListItem,{key:t,value:t},{default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e),1)]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode(VSpacer),createVNode(VBtn,{readonly:unref(o).coractloader,tile:"",icon:"",onClick:a[2]||(a[2]=e=>{return t="create",void window.dispatchEvent(new CustomEvent("bskwatch-event",{detail:{type:t,data:o.optionStockSymbolInfo}}));var t})},{default:withCtx(()=>[createBaseVNode("img",{width:"24px",src:unref(basketOrderIcon)},null,8,_hoisted_4$5)]),_:1},8,["readonly"]),0==unref(o).drawer?(openBlock(),createBlock(VBtn,{key:0,readonly:unref(o).coractloader,tile:"",icon:"",onClick:a[3]||(a[3]=e=>unref(o).drawer=!0)},{default:withCtx(()=>[...a[27]||(a[27]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"28",height:"28"},[createBaseVNode("g",{fill:"currentColor","fill-rule":"evenodd"},[createBaseVNode("path",{"fill-rule":"nonzero",d:"M14 17a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),createBaseVNode("path",{d:"M5.005 16A1.003 1.003 0 0 1 4 14.992v-1.984A.998.998 0 0 1 5 12h1.252a7.87 7.87 0 0 1 .853-2.06l-.919-.925c-.356-.397-.348-1 .03-1.379l1.42-1.42a1 1 0 0 1 1.416.007l.889.882A7.96 7.96 0 0 1 12 6.253V5c0-.514.46-1 1-1h2c.557 0 1 .44 1 1v1.253a7.96 7.96 0 0 1 2.06.852l.888-.882a1 1 0 0 1 1.416-.006l1.42 1.42a.999.999 0 0 1 .029 1.377s-.4.406-.918.926a7.87 7.87 0 0 1 .853 2.06H23c.557 0 1 .447 1 1.008v1.984A.998.998 0 0 1 23 16h-1.252a7.87 7.87 0 0 1-.853 2.06l.882.888a1 1 0 0 1 .006 1.416l-1.42 1.42a1 1 0 0 1-1.415-.007l-.889-.882a7.96 7.96 0 0 1-2.059.852v1.248c0 .56-.45 1.005-1.008 1.005h-1.984A1.004 1.004 0 0 1 12 22.995v-1.248a7.96 7.96 0 0 1-2.06-.852l-.888.882a1 1 0 0 1-1.416.006l-1.42-1.42a1 1 0 0 1 .007-1.415l.882-.888A7.87 7.87 0 0 1 6.252 16H5.005zm3.378-6.193l-.227.34A6.884 6.884 0 0 0 7.14 12.6l-.082.4H5.005C5.002 13 5 13.664 5 14.992c0 .005.686.008 2.058.008l.082.4c.18.883.52 1.71 1.016 2.453l.227.34-1.45 1.46c-.004.003.466.477 1.41 1.422l1.464-1.458.34.227a6.959 6.959 0 0 0 2.454 1.016l.399.083v2.052c0 .003.664.005 1.992.005.005 0 .008-.686.008-2.057l.399-.083a6.959 6.959 0 0 0 2.454-1.016l.34-.227 1.46 1.45c.003.004.477-.466 1.422-1.41l-1.458-1.464.227-.34A6.884 6.884 0 0 0 20.86 15.4l.082-.4h2.053c.003 0 .005-.664.005-1.992 0-.005-.686-.008-2.058-.008l-.082-.4a6.884 6.884 0 0 0-1.016-2.453l-.227-.34 1.376-1.384.081-.082-1.416-1.416-1.465 1.458-.34-.227a6.959 6.959 0 0 0-2.454-1.016L15 7.057V5c0-.003-.664-.003-1.992 0-.005 0-.008.686-.008 2.057l-.399.083a6.959 6.959 0 0 0-2.454 1.016l-.34.227-1.46-1.45c-.003-.004-.477.466-1.421 1.408l1.457 1.466z"})])],-1)])]),_:1},8,["readonly"])):createCommentVNode("",!0)]),_:1}),createVNode(VDivider),createBaseVNode("div",null,[unref(o).coractdata?(openBlock(),createBlock(VCard,{key:0,class:"crd-trn elevation-0 rounded-0",style:{overflow:"hidden"}},{default:withCtx(()=>[createVNode(VTable,{class:"no-scroll crd-trn","fixed-header":"",style:normalizeStyle(`--my-simtblwidth-var:${unref(o).simtblwidth};--my-simtblscroll-var:${unref(o).simtblscroll};`),height:"calc(100vh - 178px)",density:"compact"},{default:withCtx(()=>[createBaseVNode("thead",_hoisted_5$5,[createBaseVNode("tr",_hoisted_6$5,[createBaseVNode("th",{colspan:unref(o).opchtablehead,class:"px-0 text-center"},[...a[28]||(a[28]=[createBaseVNode("span",{class:"font-weight-bold"},"CALLS",-1)])],8,_hoisted_7$5),a[30]||(a[30]=createBaseVNode("th",{colspan:"4",class:"text-center pa-0"},null,-1)),createBaseVNode("th",{colspan:unref(o).opchtablehead,class:"px-0 text-center"},[...a[29]||(a[29]=[createBaseVNode("span",{class:"font-weight-bold"},"PUTS",-1)])],8,_hoisted_8$5)]),createBaseVNode("tr",null,[unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_9$5,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[31]||(a[31]=[createBaseVNode("span",{class:"optionheadsty"},"THETA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_10$5,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[32]||(a[32]=[createBaseVNode("span",{class:"optionheadsty"},"VEGA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_11$5,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[33]||(a[33]=[createBaseVNode("span",{class:"optionheadsty"},"GAMA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_12$5,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[34]||(a[34]=[createBaseVNode("span",{class:"optionheadsty"},"DELTA",-1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_13$5,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[35]||(a[35]=[createBaseVNode("span",{class:"optionheadsty"},[createTextVNode("VOL"),createBaseVNode("span",{class:"optionchsty"},"(lac)")],-1)])]),_:1})]),createBaseVNode("th",_hoisted_14$4,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[36]||(a[36]=[createBaseVNode("span",{class:"optionheadsty"},[createTextVNode("OI"),createBaseVNode("span",{class:"optionchsty"},"(ch)")],-1)])]),_:1})]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_15$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[37]||(a[37]=[createBaseVNode("span",{class:"optionheadsty"},"BID",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_16$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[38]||(a[38]=[createBaseVNode("span",{class:"optionheadsty"},"ASK",-1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_17$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[39]||(a[39]=[createBaseVNode("span",{class:"optionheadsty"},"CH",-1)])]),_:1})]),createBaseVNode("th",_hoisted_18$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[40]||(a[40]=[createBaseVNode("span",{class:"optionheadsty"},"LTP",-1)])]),_:1})]),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_19$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[41]||(a[41]=[createBaseVNode("span",{class:"optionheadsty"},"IV",-1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_20$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[42]||(a[42]=[createBaseVNode("span",{class:"mx-4 optionheadsty"},"STRIKES",-1)])]),_:1})]),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_21$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[43]||(a[43]=[createBaseVNode("span",{class:"optionheadsty"},"IV",-1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_22$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[44]||(a[44]=[createBaseVNode("span",{class:"optionheadsty"},"LTP",-1)])]),_:1})]),createBaseVNode("th",_hoisted_23$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[45]||(a[45]=[createBaseVNode("span",{class:"optionheadsty"},"CH",-1)])]),_:1})]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_24$2,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[46]||(a[46]=[createBaseVNode("span",{class:"optionheadsty"},"BID",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_25$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[47]||(a[47]=[createBaseVNode("span",{class:"optionheadsty"},"ASK",-1)])]),_:1})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_26$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[48]||(a[48]=[createBaseVNode("span",{class:"optionheadsty"},[createTextVNode("OI"),createBaseVNode("span",{class:"optionchsty"},"(ch)")],-1)])]),_:1})]),createBaseVNode("th",_hoisted_27$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[49]||(a[49]=[createBaseVNode("span",{class:"optionheadsty"},[createTextVNode("VOL"),createBaseVNode("span",{class:"optionchsty"},"(lac)")],-1)])]),_:1})]),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_28$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[50]||(a[50]=[createBaseVNode("span",{class:"optionheadsty"},"DELTA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_29$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[51]||(a[51]=[createBaseVNode("span",{class:"optionheadsty"},"GAMA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_30$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[52]||(a[52]=[createBaseVNode("span",{class:"optionheadsty"},"VEGA",-1)])]),_:1})])):createCommentVNode("",!0),unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_31$1,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:withCtx(()=>[...a[53]||(a[53]=[createBaseVNode("span",{class:"optionheadsty"},"THETA",-1)])]),_:1})])):createCommentVNode("",!0)])]),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o).upcallSO,(e,r)=>{var n,i,l,s,c,d,u,p,h,m,v,f,g,C,S,N,T,B,E,I,$,P,D,L,R,A,O,M,F,z,H;return openBlock(),createElementBlock("tr",{key:"calloption"+r,class:"totrhover"},[unref(o).thetacheckbox?(openBlock(),createElementBlock("th",{key:0,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.theta?e.theta:"0.0000"},null,8,_hoisted_32$1)],4)):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",{key:1,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.vega?e.vega:"0.0000"},null,8,_hoisted_33$1)],4)):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",{key:2,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.gamma?e.gamma:"0.0000"},null,8,_hoisted_34$1)],4)):createCommentVNode("",!0),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",{key:3,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.delta?e.delta:"0.0000"},null,8,_hoisted_35$1)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"2",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`upcall${e.token}vol`,innerHTML:e.vol?e.vol:"0.00"},null,8,_hoisted_36$1)],4),createBaseVNode("th",{colspan:"2",class:"text-center opdatas opdatacalluphov",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{class:"callprogress",style:normalizeStyle(`--my-width-var:${e.pro||0}%;`),id:`upcall${e.token}pro`},[createBaseVNode("span",_hoisted_38$1,[createBaseVNode("span",{id:`upcall${e.token}oi`},toDisplayString(e.oi?e.oi:"0.00"),9,_hoisted_39$1),createBaseVNode("span",{id:`upcall${e.token}oiclr`,style:normalizeStyle(`color:${e.oich>0?"#43A833":e.oich<0?"#F23645":"none"};`),class:"optionchsty"},[createBaseVNode("span",{id:`upcall${e.token}oich`},"("+toDisplayString(e.oich?e.oich:"0.00")+")",9,_hoisted_41$1)],12,_hoisted_40$1)])],12,_hoisted_37$1)],4),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",{key:4,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",id:`upcall${e.token}bid`,innerHTML:e.bid?e.bid:"0.00"},null,8,_hoisted_42$1)],4)):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",{key:5,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",id:`upcall${e.token}ask`,innerHTML:e.ask?e.ask:"0.00"},null,8,_hoisted_43$1)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"2",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{style:normalizeStyle(`color:${e.ch>0?"#43A833":e.ch<0?"#F23645":""};`),id:`upcall${e.token}chpclr`,class:"optiondatasty"},[createBaseVNode("span",{id:`upcall${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_45$1),createBaseVNode("span",{id:`upcall${e.token}chp`,class:"optionchsty"}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%) ",9,_hoisted_46$1)],12,_hoisted_44$1)],4),createBaseVNode("th",{colspan:"2",class:"text-center opdatacalluphov opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`upcall${e.token}ltp`,innerHTML:e.ltp?e.ltp:"0.00"},null,8,_hoisted_47),e.token?(openBlock(),createElementBlock("tr",_hoisted_48,[createBaseVNode("th",{colspan:"1",onClick:t=>_(e)},[createBaseVNode("div",_hoisted_50,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[54]||(a[54]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})])],8,_hoisted_49),createBaseVNode("th",{colspan:"1",onClick:t=>b(e)},[createBaseVNode("div",_hoisted_52,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[55]||(a[55]=[createTextVNode("mdi-format-align-center",-1)])]),_:1})])],8,_hoisted_51),createBaseVNode("th",{colspan:"1",onClick:t=>w(e)},[createBaseVNode("div",_hoisted_54,[createBaseVNode("img",{width:"16px",src:y()},null,8,_hoisted_55)])],8,_hoisted_53),createBaseVNode("th",{colspan:"1",onClick:t=>x(e)},[createBaseVNode("div",_hoisted_57,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[56]||(a[56]=[createTextVNode("mdi-bookmark-outline",-1)])]),_:1})])],8,_hoisted_56),createBaseVNode("th",{colspan:"1",onClick:t=>k(e)},[...a[57]||(a[57]=[createBaseVNode("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,_hoisted_58),createBaseVNode("th",{colspan:"1",onClick:t=>V(e)},[...a[58]||(a[58]=[createBaseVNode("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,_hoisted_59)])):createCommentVNode("",!0)],4),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",{key:6,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.IV?e.IV:"0.00"},null,8,_hoisted_60)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"4",class:"text-center opstrprcborder opdatacalluphov pos-rlt",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{class:"lftbarstatus",style:normalizeStyle(`--my-lftbrdclr-var:${e.bar||"rgba(0, 0, 0, 0.12)"};`),id:`upcall${e.token}bar`},null,12,_hoisted_61),e.p?(openBlock(),createBlock(VTooltip,{key:0,location:"left",color:"black"},{activator:withCtx(({props:o})=>[createVNode(VIcon,mergeProps({ref_for:!0},o,{class:"badghlpos pos-abs",color:e.pz||"rgba(0, 0, 0, 0.12)",onClick:a[4]||(a[4]=e=>unref(t).push("/positions")),size:"14"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:withCtx(()=>[createBaseVNode("span",null,[createBaseVNode("b",{class:normalizeClass(e.qtyclr)},toDisplayString(e.qtyp||"0"),3),a[59]||(a[59]=createTextVNode(" Qty @ ",-1)),createBaseVNode("span",{class:normalizeClass([e.px,"font-weight-bold"])},toDisplayString(e.pmtm||"0.00"),3),a[60]||(a[60]=createTextVNode(" MTM ",-1))])]),_:2},1024)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_62,toDisplayString(Number(e.strprc)?e.strprc:"0.00"),1),unref(o).upputSO[r]&&unref(o).upputSO[r].p?(openBlock(),createBlock(VTooltip,{key:1,location:"right",color:"black"},{activator:withCtx(({props:e})=>[createVNode(VIcon,mergeProps({ref_for:!0},e,{class:"badghrpos pos-abs",color:unref(o).upputSO[r].pz||"rgba(0, 0, 0, 0.12)",onClick:a[5]||(a[5]=e=>unref(t).push("/positions")),size:"14"}),{default:withCtx(()=>[createTextVNode(toDisplayString(unref(o).upputSO[r].icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:withCtx(()=>[createBaseVNode("span",null,[createBaseVNode("b",{class:normalizeClass(unref(o).upputSO[r].qtyclr)},toDisplayString(unref(o).upputSO[r].qtyp||"0"),3),a[61]||(a[61]=createTextVNode(" Qty @ ",-1)),createBaseVNode("span",{class:normalizeClass([unref(o).upputSO[r].px,"font-weight-bold"])},toDisplayString(unref(o).upputSO[r].pmtm||"0.00"),3),a[62]||(a[62]=createTextVNode(" MTM ",-1))])]),_:2},1024)):createCommentVNode("",!0),createBaseVNode("div",{class:"rgtbarstatus",style:normalizeStyle(`--my-rgtbrdclr-var:${(null==(n=unref(o).upputSO[r])?void 0:n.bar)||"rgba(0, 0, 0, 0.12)"};`),id:`upput${(null==(i=unref(o).upputSO[r])?void 0:i.token)||""}bar`},null,12,_hoisted_63)],4),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_64,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(l=unref(o).upputSO[r])?void 0:l.IV)?unref(o).upputSO[r].IV:"0.00"},null,8,_hoisted_65)])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_66,[createBaseVNode("span",{class:"optiondatasty",id:`upput${(null==(s=unref(o).upputSO[r])?void 0:s.token)||""}ltp`,innerHTML:(null==(c=unref(o).upputSO[r])?void 0:c.ltp)?unref(o).upputSO[r].ltp:"0.00"},null,8,_hoisted_67),unref(o).upputSO[r]&&unref(o).upputSO[r].token?(openBlock(),createElementBlock("tr",_hoisted_68,[createBaseVNode("th",{colspan:"1",onClick:t=>V(e,unref(o).upputSO)},[...a[63]||(a[63]=[createBaseVNode("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,_hoisted_69),createBaseVNode("th",{colspan:"1",onClick:t=>k(e,unref(o).upputSO)},[...a[64]||(a[64]=[createBaseVNode("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,_hoisted_70),createBaseVNode("th",{colspan:"1",onClick:t=>x(e,unref(o).upputSO)},[createBaseVNode("div",_hoisted_72,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[65]||(a[65]=[createTextVNode("mdi-bookmark-outline",-1)])]),_:1})])],8,_hoisted_71),createBaseVNode("th",{colspan:"1",onClick:t=>w(e,unref(o).upputSO)},[createBaseVNode("div",_hoisted_74,[createBaseVNode("img",{width:"16px",src:y()},null,8,_hoisted_75)])],8,_hoisted_73),createBaseVNode("th",{colspan:"1",onClick:t=>b(e,unref(o).upputSO)},[createBaseVNode("div",_hoisted_77,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[66]||(a[66]=[createTextVNode("mdi-format-align-center",-1)])]),_:1})])],8,_hoisted_76),createBaseVNode("th",{colspan:"1",onClick:t=>_(e,unref(o).upputSO)},[createBaseVNode("div",_hoisted_79,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[67]||(a[67]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})])],8,_hoisted_78)])):createCommentVNode("",!0)]),createBaseVNode("th",_hoisted_80,[createBaseVNode("span",{style:normalizeStyle(`color:${(null==(d=unref(o).upputSO[r])?void 0:d.ch)>0?"#43A833":(null==(u=unref(o).upputSO[r])?void 0:u.ch)<0?"#F23645":""};`),id:`upput${(null==(p=unref(o).upputSO[r])?void 0:p.token)||""}chpclr`,class:"optiondatasty"},[createBaseVNode("span",{id:`upput${(null==(h=unref(o).upputSO[r])?void 0:h.token)||""}ch`},toDisplayString((null==(m=unref(o).upputSO[r])?void 0:m.ch)?unref(o).upputSO[r].ch:"0.00"),9,_hoisted_82),createBaseVNode("span",{id:`upput${(null==(v=unref(o).upputSO[r])?void 0:v.token)||""}chp`,class:"optionchsty"}," ("+toDisplayString((null==(f=unref(o).upputSO[r])?void 0:f.chp)?unref(o).upputSO[r].chp:"0.00")+"%) ",9,_hoisted_83)],12,_hoisted_81)]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_84,[createBaseVNode("span",{class:"optiondatasty",id:`upput${(null==(g=unref(o).upputSO[r])?void 0:g.token)||""}bid`,innerHTML:(null==(C=unref(o).upputSO[r])?void 0:C.bid)?unref(o).upputSO[r].bid:"0.00"},null,8,_hoisted_85)])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_86,[createBaseVNode("span",{class:"optiondatasty",id:`upput${(null==(S=unref(o).upputSO[r])?void 0:S.token)||""}ask`,innerHTML:(null==(N=unref(o).upputSO[r])?void 0:N.ask)?unref(o).upputSO[r].ask:"0.00"},null,8,_hoisted_87)])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_88,[createBaseVNode("div",{class:"putprogress",style:normalizeStyle(`--my-width-var:${(null==(T=unref(o).upputSO[r])?void 0:T.pro)||0}%;`),id:`upput${(null==(B=unref(o).upputSO[r])?void 0:B.token)||""}pro`},[createBaseVNode("span",_hoisted_90,[createBaseVNode("span",{id:`upput${(null==(E=unref(o).upputSO[r])?void 0:E.token)||""}oi`},toDisplayString((null==(I=unref(o).upputSO[r])?void 0:I.oi)?unref(o).upputSO[r].oi:"0.00"),9,_hoisted_91),createBaseVNode("span",{id:`upput${(null==($=unref(o).upputSO[r])?void 0:$.token)||""}oiclr`,style:normalizeStyle(`color:${(null==(P=unref(o).upputSO[r])?void 0:P.oich)>0?"#43A833":(null==(D=unref(o).upputSO[r])?void 0:D.oich)<0?"#F23645":"none"};`),class:"optionchsty"},[createBaseVNode("span",{id:`upput${(null==(L=unref(o).upputSO[r])?void 0:L.token)||""}oich`}," ("+toDisplayString((null==(R=unref(o).upputSO[r])?void 0:R.oich)?unref(o).upputSO[r].oich:"0.00")+") ",9,_hoisted_93)],12,_hoisted_92)])],12,_hoisted_89)]),createBaseVNode("th",_hoisted_94,[createBaseVNode("span",{class:"optiondatasty",id:`upput${(null==(A=unref(o).upputSO[r])?void 0:A.token)||""}vol`,innerHTML:(null==(O=unref(o).upputSO[r])?void 0:O.vol)?unref(o).upputSO[r].vol:"0.00"},null,8,_hoisted_95)]),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_96,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(M=unref(o).upputSO[r])?void 0:M.delta)?unref(o).upputSO[r].delta:"0.0000"},null,8,_hoisted_97)])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_98,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(F=unref(o).upputSO[r])?void 0:F.gamma)?unref(o).upputSO[r].gamma:"0.0000"},null,8,_hoisted_99)])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_100,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(z=unref(o).upputSO[r])?void 0:z.vega)?unref(o).upputSO[r].vega:"0.0000"},null,8,_hoisted_101)])):createCommentVNode("",!0),unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_102,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(H=unref(o).upputSO[r])?void 0:H.theta)?unref(o).upputSO[r].theta:"0.0000"},null,8,_hoisted_103)])):createCommentVNode("",!0)])}),128)),unref(o).chainSpotdata&&unref(o).chainSpotdata.lp?(openBlock(),createElementBlock("tr",_hoisted_104,[createBaseVNode("th",{colspan:unref(o).opchtablehead,class:"px-0"},[createVNode(VProgressLinear,{value:"100",color:"#FF720C",height:"1"})],8,_hoisted_105),createBaseVNode("th",_hoisted_106,[createVNode(VCard,{class:"white--text elevation-0",color:"#FF720C",tile:""},{default:withCtx(()=>[createBaseVNode("span",_hoisted_107,toDisplayString(unref(o).chainSpotdata.lp?unref(o).chainSpotdata.lp:"0.00"),1)]),_:1})]),createBaseVNode("th",{colspan:unref(o).opchtablehead,class:"px-0"},[createVNode(VProgressLinear,{value:"100",color:"#FF720C",height:"1"})],8,_hoisted_108)],512)):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(o).dwncallSO,(e,r)=>{var n,i,l,s,c,d,u,p,h,m,v,f,g,C,S,N,T,B,E,I,$,P,D,L,R,A,O,M,F,z,H;return openBlock(),createElementBlock("tr",{key:"dwncall"+r,class:"totrhover"},[unref(o).thetacheckbox?(openBlock(),createElementBlock("th",{key:0,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.theta?e.theta:"0.0000"},null,8,_hoisted_109)],4)):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",{key:1,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.vega?e.vega:"0.0000"},null,8,_hoisted_110)],4)):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",{key:2,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.gamma?e.gamma:"0.0000"},null,8,_hoisted_111)],4)):createCommentVNode("",!0),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",{key:3,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.delta?e.delta:"0.0000"},null,8,_hoisted_112)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"2",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`dwncall${e.token}vol`,innerHTML:e.vol?e.vol:"0.00"},null,8,_hoisted_113)],4),createBaseVNode("th",{colspan:"2",class:"text-center opdatas opdatacalluphov",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{class:"callprogress",style:normalizeStyle(`--my-width-var:${e.pro||0}%;`),id:`dwncall${e.token}pro`},[createBaseVNode("span",_hoisted_115,[createBaseVNode("span",{id:`dwncall${e.token}oi`},toDisplayString(e.oi?e.oi:"0.00"),9,_hoisted_116),createBaseVNode("span",{id:`dwncall${e.token}oiclr`,style:normalizeStyle(`color:${e.oich>0?"#43A833":e.oich<0?"#F23645":"none"};`),class:"optionchsty"},[createBaseVNode("span",{id:`dwncall${e.token}oich`},"("+toDisplayString(e.oich?e.oich:"0.00")+")",9,_hoisted_118)],12,_hoisted_117)])],12,_hoisted_114)],4),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",{key:4,colspan:"1",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`dwncall${e.token}bid`,innerHTML:e.bid?e.bid:"0.00"},null,8,_hoisted_119)],4)):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",{key:5,colspan:"1",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`dwncall${e.token}ask`,innerHTML:e.ask?e.ask:"0.00"},null,8,_hoisted_120)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"2",class:"text-center opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{style:normalizeStyle(`color:${e.ch>0?"#43A833":e.ch<0?"#F23645":""};`),id:`dwncall${e.token}chpclr`,class:"optiondatasty"},[createBaseVNode("span",{id:`dwncall${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_122),createBaseVNode("span",{id:`dwncall${e.token}chp`,class:"optionchsty"}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%) ",9,_hoisted_123)],12,_hoisted_121)],4),createBaseVNode("th",{colspan:"2",class:"text-center opdatacalluphov opdatas",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("span",{class:"optiondatasty",id:`dwncall${e.token}ltp`,innerHTML:Number(e.ltp)?e.ltp:"0.00"},null,8,_hoisted_124),e.token?(openBlock(),createElementBlock("tr",_hoisted_125,[createBaseVNode("th",{colspan:"1",onClick:t=>_(e)},[createBaseVNode("div",_hoisted_127,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[68]||(a[68]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})])],8,_hoisted_126),createBaseVNode("th",{colspan:"1",onClick:t=>b(e)},[createBaseVNode("div",_hoisted_129,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[69]||(a[69]=[createTextVNode("mdi-format-align-center",-1)])]),_:1})])],8,_hoisted_128),createBaseVNode("th",{colspan:"1",onClick:t=>w(e)},[createBaseVNode("div",_hoisted_131,[createBaseVNode("img",{width:"16px",src:y()},null,8,_hoisted_132)])],8,_hoisted_130),createBaseVNode("th",{colspan:"1",onClick:t=>x(e)},[createBaseVNode("div",_hoisted_134,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[70]||(a[70]=[createTextVNode("mdi-bookmark-outline",-1)])]),_:1})])],8,_hoisted_133),createBaseVNode("th",{colspan:"1",onClick:t=>k(e)},[...a[71]||(a[71]=[createBaseVNode("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,_hoisted_135),createBaseVNode("th",{colspan:"1",onClick:t=>V(e)},[...a[72]||(a[72]=[createBaseVNode("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,_hoisted_136)])):createCommentVNode("",!0)],4),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",{key:6,colspan:"1",class:"text-center pa-0",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.IV?e.IV:"0.00"},null,8,_hoisted_137)],4)):createCommentVNode("",!0),createBaseVNode("th",{colspan:"4",class:"text-center opstrprcborder opdatacalluphov pos-rlt",style:normalizeStyle(unref(o).opdatabgs)},[createBaseVNode("div",{class:"lftbarstatus",style:normalizeStyle(`--my-lftbrdclr-var:${e.bar||"rgba(0, 0, 0, 0.12)"};`),id:`dwncall${e.token}bar`},null,12,_hoisted_138),e.p?(openBlock(),createBlock(VTooltip,{key:0,location:"left",color:"black"},{activator:withCtx(({props:o})=>[createVNode(VIcon,mergeProps({ref_for:!0},o,{class:"badghlpos pos-abs",color:e.pz||"rgba(0, 0, 0, 0.12)",onClick:a[6]||(a[6]=e=>unref(t).push("/positions")),size:"14"}),{default:withCtx(()=>[createTextVNode(toDisplayString(e.icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:withCtx(()=>[createBaseVNode("span",null,[createBaseVNode("b",{class:normalizeClass(e.qtyclr)},toDisplayString(e.qtyp||"0"),3),a[73]||(a[73]=createTextVNode(" Qty @ ",-1)),createBaseVNode("span",{class:normalizeClass([e.px,"font-weight-bold"])},toDisplayString(e.pmtm||"0.00"),3),a[74]||(a[74]=createTextVNode(" MTM ",-1))])]),_:2},1024)):createCommentVNode("",!0),createBaseVNode("span",_hoisted_139,toDisplayString(Number(e.strprc)?e.strprc:"0.00"),1),unref(o).dwnputSO[r]&&unref(o).dwnputSO[r].p?(openBlock(),createBlock(VTooltip,{key:1,location:"right",color:"black"},{activator:withCtx(({props:e})=>[createVNode(VIcon,mergeProps({ref_for:!0},e,{class:"badghrpos pos-abs",color:unref(o).dwnputSO[r].pz||"rgba(0, 0, 0, 0.12)",onClick:a[7]||(a[7]=e=>unref(t).push("/positions")),size:"14"}),{default:withCtx(()=>[createTextVNode(toDisplayString(unref(o).dwnputSO[r].icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:withCtx(()=>[createBaseVNode("span",null,[createBaseVNode("b",{class:normalizeClass(unref(o).dwnputSO[r].qtyclr)},toDisplayString(unref(o).dwnputSO[r].qtyp||"0"),3),a[75]||(a[75]=createTextVNode(" Qty @ ",-1)),createBaseVNode("span",{class:normalizeClass([unref(o).dwnputSO[r].px,"font-weight-bold"])},toDisplayString(unref(o).dwnputSO[r].pmtm||"0.00"),3),a[76]||(a[76]=createTextVNode(" MTM ",-1))])]),_:2},1024)):createCommentVNode("",!0),createBaseVNode("div",{class:"rgtbarstatus",style:normalizeStyle(`--my-rgtbrdclr-var:${(null==(n=unref(o).dwnputSO[r])?void 0:n.bar)||"rgba(0, 0, 0, 0.12)"};`),id:`dwnput${(null==(i=unref(o).dwnputSO[r])?void 0:i.token)||""}bar`},null,12,_hoisted_140)],4),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_141,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(l=unref(o).dwnputSO[r])?void 0:l.IV)?unref(o).dwnputSO[r].IV:"0.00"},null,8,_hoisted_142)])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_143,[createBaseVNode("span",{class:"optiondatasty",id:`dwnput${(null==(s=unref(o).dwnputSO[r])?void 0:s.token)||""}ltp`,innerHTML:Number(null==(c=unref(o).dwnputSO[r])?void 0:c.ltp)?unref(o).dwnputSO[r].ltp:"0.00"},null,8,_hoisted_144),unref(o).dwnputSO[r]&&unref(o).dwnputSO[r].token?(openBlock(),createElementBlock("tr",_hoisted_145,[createBaseVNode("th",{colspan:"1",onClick:t=>V(e,unref(o).dwnputSO)},[...a[77]||(a[77]=[createBaseVNode("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,_hoisted_146),createBaseVNode("th",{colspan:"1",onClick:t=>k(e,unref(o).dwnputSO)},[...a[78]||(a[78]=[createBaseVNode("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,_hoisted_147),createBaseVNode("th",{colspan:"1",onClick:t=>x(e,unref(o).dwnputSO)},[createBaseVNode("div",_hoisted_149,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[79]||(a[79]=[createTextVNode("mdi-bookmark-outline",-1)])]),_:1})])],8,_hoisted_148),createBaseVNode("th",{colspan:"1",onClick:t=>w(e,unref(o).dwnputSO)},[createBaseVNode("div",_hoisted_151,[createBaseVNode("img",{width:"16px",src:y()},null,8,_hoisted_152)])],8,_hoisted_150),createBaseVNode("th",{colspan:"1",onClick:t=>b(e,unref(o).dwnputSO)},[createBaseVNode("div",_hoisted_154,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[80]||(a[80]=[createTextVNode("mdi-format-align-center",-1)])]),_:1})])],8,_hoisted_153),createBaseVNode("th",{colspan:"1",onClick:t=>_(e,unref(o).dwnputSO)},[createBaseVNode("div",_hoisted_156,[createVNode(VIcon,{size:"16",color:"maintext"},{default:withCtx(()=>[...a[81]||(a[81]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})])],8,_hoisted_155)])):createCommentVNode("",!0)]),createBaseVNode("th",_hoisted_157,[createBaseVNode("span",{style:normalizeStyle(`color:${(null==(d=unref(o).dwnputSO[r])?void 0:d.ch)>0?"#43A833":(null==(u=unref(o).dwnputSO[r])?void 0:u.ch)<0?"#F23645":""};`),id:`dwnput${(null==(p=unref(o).dwnputSO[r])?void 0:p.token)||""}chpclr`,class:"optiondatasty"},[createBaseVNode("span",{id:`dwnput${(null==(h=unref(o).dwnputSO[r])?void 0:h.token)||""}ch`},toDisplayString((null==(m=unref(o).dwnputSO[r])?void 0:m.ch)?unref(o).dwnputSO[r].ch:"0.00"),9,_hoisted_159),createBaseVNode("span",{id:`dwnput${(null==(v=unref(o).dwnputSO[r])?void 0:v.token)||""}chp`,class:"optionchsty"}," ("+toDisplayString((null==(f=unref(o).dwnputSO[r])?void 0:f.chp)?unref(o).dwnputSO[r].chp:"0.00")+"%) ",9,_hoisted_160)],12,_hoisted_158)]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_161,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",id:`dwnput${(null==(g=unref(o).dwnputSO[r])?void 0:g.token)||""}bid`,innerHTML:(null==(C=unref(o).dwnputSO[r])?void 0:C.bid)?unref(o).dwnputSO[r].bid:"0.00"},null,8,_hoisted_162)])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_163,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",id:`dwnput${(null==(S=unref(o).dwnputSO[r])?void 0:S.token)||""}ask`,innerHTML:(null==(N=unref(o).dwnputSO[r])?void 0:N.ask)?unref(o).dwnputSO[r].ask:"0.00"},null,8,_hoisted_164)])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_165,[createBaseVNode("div",{class:"putprogress",style:normalizeStyle(`--my-width-var:${(null==(T=unref(o).dwnputSO[r])?void 0:T.pro)||0}%;`),id:`dwnput${(null==(B=unref(o).dwnputSO[r])?void 0:B.token)||""}pro`},[createBaseVNode("span",_hoisted_167,[createBaseVNode("span",{id:`dwnput${(null==(E=unref(o).dwnputSO[r])?void 0:E.token)||""}oi`},toDisplayString((null==(I=unref(o).dwnputSO[r])?void 0:I.oi)?unref(o).dwnputSO[r].oi:"0.00"),9,_hoisted_168),createBaseVNode("span",{id:`dwnput${(null==($=unref(o).dwnputSO[r])?void 0:$.token)||""}oiclr`,style:normalizeStyle(`color:${(null==(P=unref(o).dwnputSO[r])?void 0:P.oich)>0?"#43A833":(null==(D=unref(o).dwnputSO[r])?void 0:D.oich)<0?"#F23645":"none"};`),class:"optionchsty"},[createBaseVNode("span",{id:`dwnput${(null==(L=unref(o).dwnputSO[r])?void 0:L.token)||""}oich`}," ("+toDisplayString((null==(R=unref(o).dwnputSO[r])?void 0:R.oich)?unref(o).dwnputSO[r].oich:"0.00")+") ",9,_hoisted_170)],12,_hoisted_169)])],12,_hoisted_166)]),createBaseVNode("th",_hoisted_171,[createBaseVNode("span",{class:"optiondatasty",id:`dwnput${(null==(A=unref(o).dwnputSO[r])?void 0:A.token)||""}vol`,innerHTML:(null==(O=unref(o).dwnputSO[r])?void 0:O.vol)?unref(o).dwnputSO[r].vol:"0.00"},null,8,_hoisted_172)]),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_173,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(M=unref(o).dwnputSO[r])?void 0:M.delta)?unref(o).dwnputSO[r].delta:"0.0000"},null,8,_hoisted_174)])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_175,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(F=unref(o).dwnputSO[r])?void 0:F.gamma)?unref(o).dwnputSO[r].gamma:"0.0000"},null,8,_hoisted_176)])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_177,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(z=unref(o).dwnputSO[r])?void 0:z.vega)?unref(o).dwnputSO[r].vega:"0.0000"},null,8,_hoisted_178)])):createCommentVNode("",!0),unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_179,[createBaseVNode("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(H=unref(o).dwnputSO[r])?void 0:H.theta)?unref(o).dwnputSO[r].theta:"0.0000"},null,8,_hoisted_180)])):createCommentVNode("",!0)])}),128)),0===unref(o).dwncallSO.length&&0===unref(o).upcallSO.length?(openBlock(),createElementBlock("tr",_hoisted_181,[createBaseVNode("td",{colspan:unref(o).opchtablehead+4+unref(o).opchtablehead,class:"text-center py-16"},[...a[82]||(a[82]=[createBaseVNode("p",{class:"subtext--text"},"No options chain data available",-1)])],8,_hoisted_182)])):createCommentVNode("",!0)]),unref(o).coractdata?(openBlock(),createElementBlock("tfoot",_hoisted_183,[createBaseVNode("tr",null,[unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_184,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_185,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_186,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_187,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_188,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),createBaseVNode("th",_hoisted_189,[createVNode(VCard,{class:"elevation-0 text-center",color:"secbg",tile:""},{default:withCtx(()=>[createBaseVNode("span",_hoisted_190,toDisplayString(unref(o).pcrcallRatio>0?unref(o).pcrcallRatio:"0"),1)]),_:1})]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_191,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_192,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_193,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),createBaseVNode("th",_hoisted_194,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_195,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_196,[createVNode(VCard,{class:"crd-trn elevation-0 text-center",tile:""},{default:withCtx(()=>[createBaseVNode("span",_hoisted_197,"PCR : "+toDisplayString(unref(o).pcrRatio>0?unref(o).pcrRatio:"0.0000"),1)]),_:1})]),unref(o).ivcheckbox?(openBlock(),createElementBlock("th",_hoisted_198,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_199,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),createBaseVNode("th",_hoisted_200,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),unref(o).bitcheckbox?(openBlock(),createElementBlock("th",_hoisted_201,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).askcheckbox?(openBlock(),createElementBlock("th",_hoisted_202,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),createBaseVNode("th",_hoisted_203,[createVNode(VCard,{class:"elevation-0 text-center",color:"secbg",tile:""},{default:withCtx(()=>[createBaseVNode("span",_hoisted_204,toDisplayString(unref(o).pcrputRatio>0?unref(o).pcrputRatio:"0"),1)]),_:1})]),createBaseVNode("th",_hoisted_205,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),unref(o).deltacheckbox?(openBlock(),createElementBlock("th",_hoisted_206,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).gamacheckbox?(openBlock(),createElementBlock("th",_hoisted_207,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).vagacheckbox?(openBlock(),createElementBlock("th",_hoisted_208,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0),unref(o).thetacheckbox?(openBlock(),createElementBlock("th",_hoisted_209,[createVNode(VCard,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),_:1},8,["style"])]),_:1})):createCommentVNode("",!0),createVNode(VNavigationDrawer,{"hide-overlay":"",class:"elevation-1",modelValue:unref(o).drawer,"onUpdate:modelValue":a[23]||(a[23]=e=>unref(o).drawer=e),color:"cardbg",absolute:"",temporary:"",location:"right"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_210,[a[84]||(a[84]=createBaseVNode("p",{class:"mt-2 mb-0"},"View setting",-1)),createVNode(VBtn,{tile:"",icon:"",onClick:a[8]||(a[8]=e=>unref(o).drawer=!1)},{default:withCtx(()=>[...a[83]||(a[83]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"17",height:"17",fill:"currentColor"},[createBaseVNode("path",{d:"m.58 1.42.82-.82 15 15-.82.82z"}),createBaseVNode("path",{d:"m.58 15.58 15-15 .82.82-15 15z"})],-1)])]),_:1})]),createVNode(VDivider),createBaseVNode("div",_hoisted_211,[a[85]||(a[85]=createBaseVNode("p",{class:"mt-0 mb-1"},"Add columns",-1)),createVNode(VCard,{flat:"",color:"transparent"},{default:withCtx(()=>[createVNode(VCheckbox,{"onUpdate:modelValue":[a[9]||(a[9]=e=>u()),a[10]||(a[10]=e=>unref(o).bitcheckbox=e)],modelValue:unref(o).bitcheckbox,label:"BID"},null,8,["modelValue"]),createVNode(VCheckbox,{"onUpdate:modelValue":[a[11]||(a[11]=e=>u()),a[12]||(a[12]=e=>unref(o).askcheckbox=e)],modelValue:unref(o).askcheckbox,label:"ASK"},null,8,["modelValue"]),createVNode(VCheckbox,{"onUpdate:modelValue":[a[13]||(a[13]=e=>u()),a[14]||(a[14]=e=>unref(o).ivcheckbox=e)],modelValue:unref(o).ivcheckbox,label:"IV"},null,8,["modelValue"])]),_:1})]),createVNode(VDivider),createBaseVNode("div",_hoisted_212,[a[86]||(a[86]=createBaseVNode("p",{class:"mt-0 mb-1"},"Add greeks",-1)),createVNode(VCard,{flat:"",color:"transparent"},{default:withCtx(()=>[createVNode(VCheckbox,{"onUpdate:modelValue":[a[15]||(a[15]=e=>u()),a[16]||(a[16]=e=>unref(o).deltacheckbox=e)],modelValue:unref(o).deltacheckbox,label:"DELTA"},null,8,["modelValue"]),createVNode(VCheckbox,{"onUpdate:modelValue":[a[17]||(a[17]=e=>u()),a[18]||(a[18]=e=>unref(o).gamacheckbox=e)],modelValue:unref(o).gamacheckbox,label:"GAMA"},null,8,["modelValue"]),createVNode(VCheckbox,{"onUpdate:modelValue":[a[19]||(a[19]=e=>u()),a[20]||(a[20]=e=>unref(o).vagacheckbox=e)],modelValue:unref(o).vagacheckbox,label:"VEGA"},null,8,["modelValue"]),createVNode(VCheckbox,{"onUpdate:modelValue":[a[21]||(a[21]=e=>u()),a[22]||(a[22]=e=>unref(o).thetacheckbox=e)],modelValue:unref(o).thetacheckbox,label:"THETA"},null,8,["modelValue"])]),_:1})]),createVNode(VDivider),a[87]||(a[87]=createBaseVNode("div",{class:"pa-3"},[createBaseVNode("p",{class:"mt-0 mb-1"},"Info"),createBaseVNode("div",{class:"d-flex align-center"},[createBaseVNode("div",{style:{"background-color":"#1e53e530"},class:"infoprogress"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"OI percentage bar"),createBaseVNode("p",{class:"text-caption mb-0"},[createTextVNode("size diff from max "),createBaseVNode("br"),createTextVNode("call & put")])])])],-1)),createVNode(VDivider,{class:"mx-4"}),a[88]||(a[88]=createBaseVNode("div",{class:"pa-3"},[createBaseVNode("p",{class:"mt-0 mb-1"},"Bullish"),createBaseVNode("div",{class:"d-flex align-center mb-2"},[createBaseVNode("div",{style:{"background-color":"#43A833"},class:"infobarstatus"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"Up trend (Long build-up)"),createBaseVNode("p",{class:"text-caption mb-0"},"More traders are buying")])]),createBaseVNode("div",{class:"d-flex align-center"},[createBaseVNode("div",{style:{"background-color":"#ECF8F1"},class:"infobarstatus"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"Down trend (Short covering)"),createBaseVNode("p",{class:"text-caption mb-0"},"Buyers are squaring")])])],-1)),createVNode(VDivider,{class:"mx-4"}),a[89]||(a[89]=createBaseVNode("div",{class:"pa-3"},[createBaseVNode("p",{class:"mt-0 mb-1"},"Bearish"),createBaseVNode("div",{class:"d-flex align-center mb-2"},[createBaseVNode("div",{style:{"background-color":"#F23645"},class:"infobarstatus"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"Down trend (Short build-up)"),createBaseVNode("p",{class:"text-caption mb-0"},"More traders are selling")])]),createBaseVNode("div",{class:"d-flex align-center"},[createBaseVNode("div",{style:{"background-color":"#ffcdcd90"},class:"infobarstatus"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"Down trend (Long unwinding)"),createBaseVNode("p",{class:"text-caption mb-0"},"Profit booking")])])],-1)),createVNode(VDivider,{class:"mx-4"}),a[90]||(a[90]=createBaseVNode("div",{class:"pa-3"},[createBaseVNode("div",{class:"d-flex align-center"},[createBaseVNode("div",{style:{"background-color":"rgba(0, 0, 0, 0.12)"},class:"infobarstatus"}),createBaseVNode("div",{class:"ml-2"},[createBaseVNode("p",{class:"mb-0 font-weight-medium"},"Trade not accurate"),createBaseVNode("p",{class:"text-caption mb-0"},"none")])])],-1))]),_:1},8,["modelValue"]),unref(o).coractloader?(openBlock(),createBlock(VCard,{key:1,color:"transparent",width:"100%",style:{"z-index":"0 !important"},class:"elevation-0 rounded-lg py-10 px-16"},{default:withCtx(()=>[a[91]||(a[91]=createBaseVNode("p",{class:"pa-16 pb-0 text-center"},"Getting your Option Chain",-1)),createVNode(VCard,{width:"200px",class:"elevation-0 mx-auto"},{default:withCtx(()=>[createVNode(VProgressLinear,{class:"mb-12",color:"primary",indeterminate:"",rounded:"",height:"6"})]),_:1})]),_:1})):createCommentVNode("",!0)])])]),_:1})])):(openBlock(),createElementBlock("div",_hoisted_213,[createBaseVNode("div",_hoisted_214,[createBaseVNode("p",_hoisted_215,[a[92]||(a[92]=createTextVNode(" No Option chain data ",-1)),a[93]||(a[93]=createBaseVNode("br",null,null,-1)),a[94]||(a[94]=createTextVNode(" for ",-1)),createBaseVNode("b",null,toDisplayString(unref(o).optionStockSymbol||""),1)])])]))])}}},StocksOption=_export_sfc(_sfc_main$k,[["__scopeId","data-v-9a25dae2"]]),_hoisted_1$7={style:{position:"sticky !important",top:"80px","z-index":"1"}},_hoisted_2$6={class:"text-center font-weight-medium tab-txt"},_hoisted_3$5=["src"],_hoisted_4$4=["src"],_hoisted_5$4=["src"],_hoisted_6$4={key:1,class:"text-center py-16"},_hoisted_7$4={key:0},_hoisted_8$4={key:1},_hoisted_9$4={key:0},_hoisted_10$4={class:"my-16 py-16 text-center"},_hoisted_11$4={class:"text-h6"},_hoisted_12$4={key:1,class:"text-center py-16"},_hoisted_13$4={key:1,class:"text-center py-16"},_hoisted_14$3={class:"pos-rlt"},_hoisted_15$1={class:"font-weight-medium"},_hoisted_16$1={class:"pos-abs futtable-hov",style:{bottom:"12px",left:"50%",transform:"translate(-50%, 0)"}},_hoisted_17$1=["onClick"],_hoisted_18$1=["onClick"],_hoisted_19$1={class:"mb-0 ws-p"},_hoisted_20$1=["id"],_hoisted_21$1=["id"],_hoisted_22$1=["id"],_hoisted_23$1=["id"],_hoisted_24$1=["id"],_hoisted_25=["id"],_hoisted_26=["id"],_hoisted_27=["id"],_hoisted_28=["id"],_hoisted_29={key:1,class:"no-scroll pos-rlt",style:{height:"calc(100vh - 118px)"}},_hoisted_30={class:"pos-cent"},_hoisted_31={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},_hoisted_32={key:0},_hoisted_33={class:"font-weight-bold fs-14 mb-0"},_hoisted_34={class:"fs-10 font-weight-medium subtext--text"},_hoisted_35={class:"mb-0 fs-14"},_hoisted_36={class:"font-weight-medium"},_hoisted_37={key:1},_hoisted_38={class:"font-weight-bold fs-14 mb-0"},_hoisted_39={class:"fs-10 font-weight-medium subtext--text"},_hoisted_40={class:"mb-0 fs-14"},_hoisted_41={class:"font-weight-medium"},_hoisted_42={key:2},_hoisted_43={class:"font-weight-bold fs-14 mb-0"},_hoisted_44={class:"fs-10 font-weight-medium subtext--text"},_hoisted_45={class:"mb-0 fs-14"},_hoisted_46={class:"font-weight-medium"},_sfc_main$j={__name:"StocksDetails",setup(e){const t=useRoute$1(),a=useRouter$1(),o=useAppStore(),r=ref$1("tv_chart_1"),n=ref$1(1),i=ref$1("single-chart"),l=ref$1(!1),s=ref$1([{id:1,icon:"single-chart"},{id:2,icon:"dio-chart"},{id:4,icon:"quadro-chart"}]),c=ref$1(!0),d=ref$1(0),u=ref$1([{tab:!0,txt:"Overview",class:"ws-p"},{tab:!0,txt:"Chart",class:"ws-p"},{tab:!0,txt:"Fundamental",class:"ws-p"},{tab:!0,txt:"Option",class:"ws-p"},{tab:!0,txt:"Future",class:"ws-p"},{tab:!0,txt:"Info",class:"ws-p"}]),p=ref$1(null),h=ref$1(null),m=ref$1(null),v=ref$1([]),f=ref$1([]),g=ref$1([]),y=ref$1({}),_=ref$1([]),b=ref$1(null),w=ref$1(null),x=ref$1(!1),V=ref$1(!0);"undefined"==typeof window||window.ssdreqdata||(window.ssdreqdata={data:{}}),"undefined"!=typeof window&&(window.ssddetail=[]);const k=computed(()=>[{title:"SYMBOL",key:"tsym",class:"ws-p"},{title:"LTP CH(%)",key:"ltp",class:"ws-p"},{title:"BID",key:"bid",class:"ws-p",align:"end"},{title:"ASK",key:"ask",class:"ws-p",align:"end"},{title:"AVG PRICE",key:"ap",class:"ws-p",align:"end"},{title:"HIGH",key:"h_p",class:"ws-p",align:"end"},{title:"LOW",key:"l_p",class:"ws-p",align:"end"},{title:"OPEN",key:"op",class:"ws-p",align:"end"},{title:"CLOSE",key:"cp",class:"ws-p",align:"end"},{title:"VOL",key:"vol",class:"ws-p"}]),C=()=>{1==d.value?l.value=!0:l.value=!1,setTimeout(()=>{if(window.dispatchEvent(new CustomEvent("lwc-event",{detail:0==d.value})),1==d.value){const{exch:e,tsym:a,token:o}=function(){var e;if(_.value&&_.value.length>=3)return{exch:_.value[1],tsym:_.value[2],token:_.value[0]};const a=null==t?void 0:t.query;if(a&&a.exch&&a.tsym)return{exch:a.exch,tsym:a.tsym,token:a.token};const o=null==(e=null==t?void 0:t.params)?void 0:e.val;if(Array.isArray(o)&&o.length>=4)return{exch:o[2],tsym:o[3],token:o[1]};try{const e=localStorage.getItem("ssdtsym"),t=localStorage.getItem("ssdtoken");if(e&&e.includes(":")){const[a,o]=e.split(":");return{exch:a,tsym:o,token:t}}}catch(r){}return{exch:null,tsym:null,token:null}}();if(e&&a){const t=`${e}:${a}`;localStorage.setItem("ssdtsym",t),o&&localStorage.setItem("ssdtoken",o);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:"chart",token:o||_.value[0],exch:e,tsym:a}}))}catch(e2){}F(e,a)}}},10)},S=async(e=4e3)=>{const t=Date.now();for(;Date.now()-t<e;){const e=sessionStorage.getItem("c3RhdHVz"),t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if("dmFsaWR1c2Vy"===e&&t&&a)return p.value=t,m.value=a,h.value=sessionStorage.getItem("usession"),!0;await new Promise(e=>setTimeout(e,100))}return p.value=sessionStorage.getItem("userid"),m.value=sessionStorage.getItem("msession"),h.value=sessionStorage.getItem("usession"),!(!p.value||!m.value)},N=()=>{V.value=!V.value,setTimeout(()=>{x.value=!x.value,x.value&&document.getElementById("popdiv")&&L(document.getElementById("popdiv"))},10)},T=(e,t,a,o,r,n)=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:o,trantype:r,item:n}}))},B=async(e,t,a,r)=>{E(e,t,a,r);const n=[e,t,a,r];if(localStorage.setItem("ssdParams",JSON.stringify(n)),localStorage.setItem("ssdtsym",`${a}:${r}`),localStorage.setItem("ssdtoken",t),_.value[0]!=t&&_.value[2]!=r){let e,n;if(_.value=Array.from([t,a,r]),window.ssdreqdata&&window.ssdreqdata.data&&window.ssdreqdata.data[t])e=window.ssdreqdata.data[t].l,n=window.ssdreqdata.data[t].i,window.ssdreqdata.data[t].s&&window.ssdreqdata.data[t].s.fundamental?(u.value[2].tab=!0,window.ssddetail=[window.ssdreqdata.data[t].q,window.ssdreqdata.data[t].s,e,n]):(u.value[2].tab=!1,window.ssddetail=[window.ssdreqdata.data[t].q,"no data",e,n]),b.value=window.ssdreqdata.data[t].q;else try{const o=await getQuotesdata(`${a}|${t}|${r}`),i="BSE"==a||"NSE"==a?await getssDetails(`${a}:${r}`):null;e=await getLinkedScrips(`${a}|${t}|${r}`),n=await getSecuritydata(`${a}|${t}`),i&&i.fundamental?(u.value[2].tab=!0,window.ssddetail=[o,i,e,n]):(u.value[2].tab=!1,window.ssddetail=[o,"no data",e,n]),window.ssdreqdata.data[t]={q:o,s:i,l:e,t:null,i:n},w.value=e,b.value=o}catch(i){console.error("Error loading stock data:",i),o.showSnackbar(2,"Failed to load stock data")}await I(t,a,r,e),n&&$(n)}},E=(e,t,a,o)=>{e>=0?1==d.value&&F(a,o):"chart"==e&&1==d.value?F(a,o):"detail"==e||"Details"==e||"depth"==e?d.value=0:"chart"==e?d.value=1:"Funda"==e?d.value=2:"option"==e&&(d.value=3),C(),analytics$1&&logEvent(analytics$1,"stock_details",{event_name:u.value[d.value].txt,value:1})},I=async(e,t,a,o)=>{const r=window.ssdreqdata.data,n=o;let i;if("NSE"==t||"BSE"==t)if(r&&r[e]&&r[e].t)i=r[e].t;else try{i=await getTechnicals(`${t}|${e}|${encodeURIComponent(a)}`),r[e].t=i}catch(l){console.error("Error loading technicals:",l)}if(n&&"Ok"==n.stat)if(v.value=[],b.value&&"UNDIND"!=b.value.instname&&"COM"!=b.value.instname&&n.equls&&n.equls.length>0?(u.value[2].tab=!0,v.value=n.equls):u.value[2].tab=!1,f.value=[],b.value&&n.opt_exp&&n.opt_exp.length>0?(u.value[3].tab=!0,f.value=n.opt_exp):u.value[3].tab=!1,g.value=[],b.value&&"COM"!=b.value.instname&&n.fut&&n.fut.length>0){u.value[4].tab=!0;for(let e=0;e<n.fut.length;e++)"NFO"==n.fut[e].exch||n.fut[e].exch,g.value.push(n.fut[e]),g.value.sort((e,t)=>new Date(e.exd)-new Date(t.exd));P("sub",g.value,"ssd")}else u.value[4].tab=!1;c.value=!1},$=e=>{y.value={"Company Name":e.cname,"Trading Symbol":e.tsym,"Symbol Name":e.symnam,Exchange:e.exch,Segment:e.seg,"Expiry Date":e.exd,"Intrument Name":e.instname,"Strike Price":e.strprc,"Option Type":e.optt,ISIN:e.isin,"Tick Size":e.ti,"Lot Size":e.ls,"Price precision":e.pp,Multiplier:e.mult,"gn/gd * pn/pd":e.gp_nd,"Price Units":e.prcunt,"Price Quote Qty":e.prcqqty,"Trade Units":e.trdunt,"Delivery Units":e.delunt,"Freeze Qty":e.frzqty,"scripupdate Gsm Ind":e.gsmind,"Elm Buy Margin":e.elmbmrg,"Elm Sell Margin":e.elmsmrg,"Additional Long Margin":e.addbmrg,"Additional Short Margin":e.addsmrg,"Special Long Margin":e.splbmrg,"Special Short Margin":e.splsmrg,"Delivery Margin":e.delmrg,"Tender Margin":e.tenmrg,"Tender Start Date":e.tenstrd,"Tender End Eate":e.tenendd,"Exercise Start Date":e.exestrd,"Exercise End Date":e.exeendd,"Market type":e.mkt_t,"Issue date":e.issue_d,"Listing date":e.listing_d,"last trading date":e.last_trd_d,"Elm Margin":e.elmmrg,"Var Margin":e.varmrg,"Exposure Margin":e.expmrg,"((GN / GD) * (PN/PD))":e.prcftr_d,"Non tradable instruments":e.nontrd,"Weekly Option, W1, W2, W3, W4 th week":e.weekly}},P=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},D=e=>{if(!Array.isArray(g.value)||0===g.value.length)return;const t=g.value.findIndex(t=>t.token==e.token);if(t>=0&&g.value[t].token==e.token){g.value[t].ltp=Number(e.lp).toFixed(2),g.value[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):0,g.value[t].chp=Number(e.chp).toFixed(2),g.value[t].vol=Number(e.volume),g.value[t].h_p=Number(e.high_price).toFixed(2),g.value[t].l_p=Number(e.low_price).toFixed(2),g.value[t].op=Number(e.open_price).toFixed(2),g.value[t].cp=Number(e.prev_close_price).toFixed(2),g.value[t].ap=Number(e.ap).toFixed(2),g.value[t].bid_qty=e.bid_qty,g.value[t].bid=Number(e.bid).toFixed(2),g.value[t].ask_qty=e.ask_qty,g.value[t].ask=Number(e.ask).toFixed(2);if(document.getElementById(`futt${e.token}ltp`)){document.getElementById(`futt${e.token}ltp`).innerHTML=g.value[t].ltp,document.getElementById(`futt${e.token}chs`).innerHTML=` ${g.value[t].ch} (${g.value[t].chp}%)`;const a=document.getElementById(`futt${e.token}chsclr`);a&&(a.className="fs-12 "+(g.value[t].ch>0?"maingreen--text":g.value[t].ch<0?"mainred--text":"maintext--text")),document.getElementById(`futt${e.token}vol`).innerHTML=g.value[t].vol,document.getElementById(`futt${e.token}h_p`).innerHTML=g.value[t].h_p,document.getElementById(`futt${e.token}l_p`).innerHTML=g.value[t].l_p,document.getElementById(`futt${e.token}op`).innerHTML=g.value[t].op,document.getElementById(`futt${e.token}cp`).innerHTML=g.value[t].cp,document.getElementById(`futt${e.token}ap`).innerHTML=g.value[t].ap}}},L=e=>{if(!e)return;let t=0,a=0,o=0,r=0;const n=document.getElementById(e.id+"header"),i=e=>{(e=e||window.event).preventDefault(),o=e.clientX,r=e.clientY,document.onmouseup=s,document.onmousemove=l},l=n=>{(n=n||window.event).preventDefault(),t=o-n.clientX,a=r-n.clientY,o=n.clientX,r=n.clientY,e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-t+"px"},s=()=>{document.onmouseup=null,document.onmousemove=null};n?n.onmousedown=i:e.onmousedown=i},R=e=>{const t=e.detail;t&&(r.value=t)},A=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(m.value=sessionStorage.getItem("msession"),h.value=sessionStorage.getItem("usession"),p.value=sessionStorage.getItem("userid")):a.push("/stocks")},O=e=>{const{type:t,token:a,exch:o,tsym:r}=e.detail||{},n=window.location;if(t&&a&&o&&r){const e=[t,a,o,r];localStorage.setItem("ssdParams",JSON.stringify(e)),localStorage.setItem("ssdtsym",`${o}:${r}`),localStorage.setItem("ssdtoken",a),console.log("Stored params from ssd-event:",e)}"/stocks/details"==n.pathname&&a&&a!=_.value[0]&&(c.value=!0,P("unsub-D",g.value,"ssd"),window.ssddetail=[],console.log("Loading data from ssd-event:",{type:t,token:a,exch:o,tsym:r}),B(t,a,o,r).then(()=>{try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[t,a,o,r]}))}catch(e2){}}))},M=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSSD"==a&&D(e)}else t&&"stockSSD"==t.page&&D(t)};async function F(e,t,a=20,o=150){if(!e||!t)return;let i=0;for(;i<a;){const a=1==n.value?window.tvWidget:window[r.value];if(a&&a.activeChart&&"function"==typeof a.activeChart)try{return void a.activeChart().setSymbol(`${e}:${t}`)}catch(e2){}i++,await new Promise(e=>setTimeout(e,o))}}return onMounted(async()=>{await S(4e3),V.value=!0,x.value=!1;let e=t.params.val;if(console.log("Route params ::: ",e),console.log("Route query ::: ",t.query),!e||!Array.isArray(e)||e.length<4)if(t.query.token&&t.query.exch&&t.query.tsym)e=[t.query.type||"detail",t.query.token,t.query.exch,t.query.tsym],console.log("Loaded params from query:",e),localStorage.setItem("ssdParams",JSON.stringify(e)),localStorage.setItem("ssdtsym",`${t.query.exch}:${t.query.tsym}`),localStorage.setItem("ssdtoken",t.query.token);else{const t=localStorage.getItem("ssdParams");if(t)try{e=JSON.parse(t),console.log("Loaded params from localStorage:",e)}catch(o){console.error("Error parsing stored params:",o)}else{const t=localStorage.getItem("ssdtsym"),a=localStorage.getItem("ssdtoken");if(t&&a){const[o,r]=t.split(":");o&&r&&(e=["detail",a,o,r],console.log("Reconstructed params from ssdtsym/ssdtoken:",e),localStorage.setItem("ssdParams",JSON.stringify(e)))}}}else localStorage.setItem("ssdParams",JSON.stringify(e));if(e&&Array.isArray(e)&&e.length>=4){console.log("Loading stock data with params:",e),localStorage.setItem("ssdParams",JSON.stringify(e));try{a.replace({name:"stocks details",params:{val:e},query:{}})}catch(e2){}await B(e[0],e[1],e[2],e[3]);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[e[0],e[1],e[2],e[3]]})),window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:e[0],token:e[1],exch:e[2],tsym:e[3]}}))}catch(e2){}1==d.value&&(localStorage.setItem("ssdtsym",`${e[2]}:${e[3]}`),localStorage.setItem("ssdtoken",e[1]),F(e[2],e[3]))}else console.log("No valid params found, redirecting to /stocks"),a.push("/stocks");watch(()=>[t.params,t.query],async([e,t],[r,n])=>{let i=null;if(t&&t.token&&t.exch&&t.tsym)i=[t.type||"detail",t.token,t.exch,t.tsym],localStorage.setItem("ssdParams",JSON.stringify(i)),localStorage.setItem("ssdtsym",`${t.exch}:${t.tsym}`),localStorage.setItem("ssdtoken",t.token),a.replace({name:"stocks details",params:{val:i},query:{}});else if(e&&e.val&&Array.isArray(e.val)&&e.val.length>=4)i=e.val,localStorage.setItem("ssdParams",JSON.stringify(i));else{const e=localStorage.getItem("ssdParams");if(e)try{i=JSON.parse(e)}catch(o){console.error("Error parsing stored params in watcher:",o)}}if(i&&Array.isArray(i)&&i.length>=4&&(await S(4e3),0===_.value.length||_.value[0]!==i[1]||_.value[2]!==i[3])){console.log("Route changed, loading new stock data:",i),await B(i[0],i[1],i[2],i[3]);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[i[0],i[1],i[2],i[3]]}))}catch(e2){}try{a.replace({name:"stocks details",params:{val:i},query:{}})}catch(e2){}1==d.value&&F(i[2],i[3])}},{immediate:!1}),window.addEventListener("section-clicked",R),window.addEventListener("user-event",A),window.addEventListener("ssd-event",O),window.addEventListener("web-scoketConn",M),window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),await nextTick(),x.value&&document.getElementById("popdiv")&&L(document.getElementById("popdiv"))}),onBeforeUnmount(()=>{window.removeEventListener("section-clicked",R),window.removeEventListener("user-event",A),window.removeEventListener("ssd-event",O),window.removeEventListener("web-scoketConn",M),g.value&&g.value.length>0&&P("unsub-D",g.value,"ssd")}),(e,t)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$7,[createVNode(VToolbar,{class:"tool-sty elevation-0 pl-4",height:"40px",style:{"background-color":"white !important"},density:"compact"},{default:withCtx(()=>[createVNode(VTabs,{modelValue:d.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>d.value=e),t[1]||(t[1]=e=>C())],"show-arrows":"",density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,(e,t)=>(openBlock(),createBlock(VTab,{key:t,value:t,class:"text-none text-start min-w-fit",style:{padding:"20px !important"},disabled:!e.tab},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$6,toDisplayString(e.txt),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"]),createVNode(VSpacer),b.value&&"UNDIND"!=b.value.instname&&"COM"!=b.value.instname&&(1===n.value&&!l.value||1===n.value&&l.value)?(openBlock(),createBlock(VBtn,{key:0,onClick:t[2]||(t[2]=e=>T("order",_.value[0],_.value[1],_.value[2],"s")),disabled:c.value,size:"small",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 fs-14",variant:"tonal",color:"red"},{default:withCtx(()=>[...t[9]||(t[9]=[createTextVNode(" Sell ",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0),b.value&&"UNDIND"!=b.value.instname&&"COM"!=b.value.instname&&(1===n.value&&!l.value||1===n.value&&l.value)?(openBlock(),createBlock(VBtn,{key:1,onClick:t[3]||(t[3]=e=>T("order",_.value[0],_.value[1],_.value[2],"b")),disabled:c.value,size:"small",variant:"tonal",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 fs-14",color:"green"},{default:withCtx(()=>[...t[10]||(t[10]=[createTextVNode(" Buy ",-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[_.value&&_.value.length>0?(openBlock(),createBlock(VBtn,{key:0,onClick:t[4]||(t[4]=e=>T("alert",_.value[0],_.value[1],_.value[2],"a")),disabled:c.value,icon:"",size:"small"},{default:withCtx(()=>[...t[11]||(t[11]=[createBaseVNode("img",{width:"18px",src:_imports_0$1},null,-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)],16)]),default:withCtx(()=>[t[12]||(t[12]=createBaseVNode("span",null,"Create Alert",-1))]),_:1}),createVNode(VTooltip,{location:"top",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[b.value&&"UNDIND"!=b.value.instname&&"COM"!=b.value.instname?(openBlock(),createBlock(VBtn,{key:0,onClick:t[5]||(t[5]=e=>T("order-GTT",_.value[0],_.value[1],_.value[2],"b")),disabled:c.value,icon:"",size:"small",class:"ml-2"},{default:withCtx(()=>[...t[13]||(t[13]=[createBaseVNode("img",{width:"18px",src:_imports_1},null,-1)])]),_:1},8,["disabled"])):createCommentVNode("",!0)],16)]),default:withCtx(()=>[t[14]||(t[14]=createBaseVNode("span",null,"Create GTT / GTC",-1))]),_:1}),1==n.value?(openBlock(),createBlock(VTooltip,{key:2,location:"top",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VBtn,{onClick:t[6]||(t[6]=e=>N()),disabled:c.value,size:"small",class:"mr-2 ml-2",icon:""},{default:withCtx(()=>[createBaseVNode("img",{width:"20px",src:x.value?"/src/assets/out-pip.svg":"/src/assets/to-pip.svg"},null,8,_hoisted_3$5)]),_:1},8,["disabled"])],16)]),default:withCtx(()=>[t[15]||(t[15]=createBaseVNode("span",null,"Pop Chart",-1))]),_:1})):createCommentVNode("",!0),l.value&&V.value?(openBlock(),createBlock(VTooltip,{key:3,location:"top",color:"black"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VMenu,{location:"bottom",offset:"4"},{activator:withCtx(({props:e})=>[createBaseVNode("div",normalizeProps(guardReactiveProps(e)),[createVNode(VBtn,{disabled:c.value,size:"small",class:"mr-2",icon:""},{default:withCtx(()=>[createBaseVNode("img",{width:"20px",src:`/src/assets/tv_chart_icon/${i.value}.svg`},null,8,_hoisted_4$4)]),_:1},8,["disabled"])],16)]),default:withCtx(()=>[createVNode(VList,{density:"compact"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(e,t)=>(openBlock(),createBlock(VListItem,{key:t},{append:withCtx(()=>[createVNode(VBtn,{onClick:withModifiers(t=>(e=>{n.value=e.id,i.value=e.icon})(e),["stop"]),disabled:c.value,size:"small",class:"mr-2",icon:""},{default:withCtx(()=>[createBaseVNode("img",{width:"20px",src:`/src/assets/tv_chart_icon/${e.icon}.svg`},null,8,_hoisted_5$4)]),_:2},1032,["onClick","disabled"])]),default:withCtx(()=>[createVNode(VListItemTitle,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.id),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],16)]),default:withCtx(()=>[t[16]||(t[16]=createBaseVNode("span",null,[createTextVNode("Multi Chart "),createBaseVNode("sup",null,"beta")],-1))]),_:1})):createCommentVNode("",!0)]),_:1}),c.value?(openBlock(),createBlock(VProgressLinear,{key:0,color:"primary",indeterminate:"",rounded:""})):(openBlock(),createBlock(VDivider,{key:1}))]),createVNode(VWindow,{modelValue:d.value,"onUpdate:modelValue":t[7]||(t[7]=e=>d.value=e),style:{"z-index":"0"}},{default:withCtx(()=>[createVNode(VWindowItem,{value:0},{default:withCtx(()=>[u.value[0].tab?(openBlock(),createBlock(_sfc_main$m,{key:0})):(openBlock(),createElementBlock("div",_hoisted_6$4,[...t[17]||(t[17]=[createBaseVNode("p",{class:"subtext--text"},"Loading overview...",-1)])]))]),_:1}),createVNode(VWindowItem,{value:1},{default:withCtx(()=>[1!=n.value?(openBlock(),createElementBlock("div",_hoisted_7$4,[x.value?createCommentVNode("",!0):(openBlock(),createBlock(TVMultiChartContainer,{key:0,currentTVChartLayoutType:n.value},null,8,["currentTVChartLayoutType"]))])):(openBlock(),createElementBlock("div",_hoisted_8$4,[V.value?(openBlock(),createElementBlock("div",_hoisted_9$4,[x.value?createCommentVNode("",!0):(openBlock(),createBlock(TVSingleChartContainer,{key:0}))])):(openBlock(),createBlock(VContainer,{key:1,class:"elevation-0",color:"transparent"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$4,[t[19]||(t[19]=createBaseVNode("img",{width:"160px",src:_imports_2},null,-1)),t[20]||(t[20]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_11$4,[createBaseVNode("b",null,toDisplayString(_.value&&_.value[2]?_.value[2]:""),1),t[18]||(t[18]=createTextVNode(" on Pop Chart",-1))])])]),_:1}))]))]),_:1}),createVNode(VWindowItem,{value:2},{default:withCtx(()=>[u.value[2].tab?(openBlock(),createBlock(StockSingle,{key:0})):(openBlock(),createElementBlock("div",_hoisted_12$4,[...t[21]||(t[21]=[createBaseVNode("p",{class:"subtext--text"},"Fundamental data not available for this instrument",-1)])]))]),_:1}),createVNode(VWindowItem,{value:3},{default:withCtx(()=>[u.value[3].tab?(openBlock(),createBlock(StocksOption,{key:0})):(openBlock(),createElementBlock("div",_hoisted_13$4,[...t[22]||(t[22]=[createBaseVNode("p",{class:"subtext--text"},"Option chain not available for this instrument",-1)])]))]),_:1}),createVNode(VWindowItem,{value:4},{default:withCtx(()=>[g.value&&g.value.length>0?(openBlock(),createBlock(VDataTable,{key:0,"disable-sort":"",mobile:"","hide-default-footer":"",class:"rounded-0 overflow-y-auto futtable","fixed-header":"",headers:k.value,items:g.value},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("td",_hoisted_14$3,[createBaseVNode("span",_hoisted_15$1,toDisplayString(e.tsym),1),createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",{onClick:t=>T("order",e.token,e.exch,e.tsym,"b"),style:{"min-width":"24px","background-color":"#43A833","border-radius":"4px"},class:"px-2 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center cursor-p"}," B",8,_hoisted_17$1),createBaseVNode("div",{onClick:t=>T("order",e.token,e.exch,e.tsym,"s"),style:{"min-width":"24px","background-color":"#F23645","border-radius":"4px"},class:"px-2 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center cursor-p"}," S",8,_hoisted_18$1),createVNode(VBtn,{onClick:t=>(e=>{window.dispatchEvent(new CustomEvent("addscript-wl",{detail:e}))})(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[23]||(t[23]=[createTextVNode("mdi-bookmark-outline",-1)])]),_:1})]),_:1},8,["onClick"]),createVNode(VBtn,{onClick:t=>((e,t,o,r)=>{const n=[e,t,o,r];localStorage.setItem("ssdParams",JSON.stringify(n)),localStorage.setItem("ssdtsym",`${o}:${r}`),localStorage.setItem("ssdtoken",t),a.push({name:"stocks details",params:{val:n},query:{type:e,token:t,exch:o,tsym:r}})})("chart",e.token,e.exch,e.tsym),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small",icon:""},{default:withCtx(()=>[createVNode(VIcon,{size:"18",color:"maintext"},{default:withCtx(()=>[...t[24]||(t[24]=[createTextVNode("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"])])])]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_19$1,[createBaseVNode("span",{id:`futt${e.token}ltp`},toDisplayString(e.ltp),9,_hoisted_20$1),createBaseVNode("span",{id:`futt${e.token}chsclr`,class:normalizeClass(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[createBaseVNode("span",{id:`futt${e.token}chs`},toDisplayString(e.ch)+" ("+toDisplayString(e.chp)+"%)",9,_hoisted_22$1)],10,_hoisted_21$1)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",{id:`futt${e.token}vol`},toDisplayString(e.vol),9,_hoisted_23$1)]),"item.h_p":withCtx(({item:e})=>[createBaseVNode("span",{class:"text-right",id:`futt${e.token}h_p`},toDisplayString(e.h_p),9,_hoisted_24$1)]),"item.l_p":withCtx(({item:e})=>[createBaseVNode("span",{class:"text-right",id:`futt${e.token}l_p`},toDisplayString(e.l_p),9,_hoisted_25)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"text-right",id:`futt${e.token}op`},toDisplayString(e.op),9,_hoisted_26)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"text-right",id:`futt${e.token}cp`},toDisplayString(e.cp),9,_hoisted_27)]),"item.ap":withCtx(({item:e})=>[createBaseVNode("span",{class:"text-right",id:`futt${e.token}ap`},toDisplayString(e.ap),9,_hoisted_28)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...t[25]||(t[25]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Future data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","items"])):(openBlock(),createElementBlock("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[createBaseVNode("p",_hoisted_31,[t[26]||(t[26]=createTextVNode(" No Future data ",-1)),t[27]||(t[27]=createBaseVNode("br",null,null,-1)),t[28]||(t[28]=createTextVNode(" for ",-1)),createBaseVNode("b",null,toDisplayString(_.value&&_.value[1]&&_.value[2]?`${_.value[1]}:${_.value[2]}`:""),1)])])]))]),_:1}),createVNode(VWindowItem,{value:5},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":"",class:"py-4"},{default:withCtx(()=>[y.value&&Object.keys(y.value).length>0?(openBlock(),createBlock(VCol,{key:0,cols:"12"},{default:withCtx(()=>[t[29]||(t[29]=createBaseVNode("h3",{class:"font-weight-bold mb-4"},"Security Information",-1)),createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y.value,(e,t,a)=>(openBlock(),createBlock(VCol,{cols:"6",class:"pa-0",key:a},{default:withCtx(()=>[createVNode(VListItem,{class:"py-0"},{append:withCtx(()=>[createVNode(VListItemTitle,{class:"subtitle-1 font-weight-bold"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(null!=e?e:"-"),1)]),_:2},1024)]),default:withCtx(()=>[createVNode(VListItemSubtitle,{class:"subtitle-1 font-weight-medium"},{default:withCtx(()=>[createTextVNode(toDisplayString(t),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):createCommentVNode("",!0),w.value?(openBlock(),createBlock(VCol,{key:1,cols:"12",class:"mt-4"},{default:withCtx(()=>[createVNode(VDivider,{class:"mb-4"}),t[33]||(t[33]=createBaseVNode("h3",{class:"font-weight-bold mb-4"},"Linked Scrips",-1)),w.value.equls&&w.value.equls.length>0?(openBlock(),createElementBlock("div",_hoisted_32,[t[30]||(t[30]=createBaseVNode("p",{class:"font-weight-bold lh-16 mb-2"},"Equity",-1)),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(w.value.equls,(e,t)=>(openBlock(),createBlock(VCol,{cols:"6",md:"4",key:t+e.tsym},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secgreen"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_33,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_34,toDisplayString(e.exch),1)]),createBaseVNode("p",_hoisted_35,[createBaseVNode("span",_hoisted_36,toDisplayString(e.ltp?e.ltp:"0.00"),1),createBaseVNode("span",{class:normalizeClass(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[createBaseVNode("span",null,toDisplayString(e.ch?e.ch:"0.00")+" ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):createCommentVNode("",!0),w.value.opt_exp&&w.value.opt_exp.length>0?(openBlock(),createElementBlock("div",_hoisted_37,[createVNode(VDivider,{class:"my-4"}),t[31]||(t[31]=createBaseVNode("p",{class:"font-weight-bold lh-16 mb-2"},"Options",-1)),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(w.value.opt_exp,(e,t)=>(openBlock(),createBlock(VCol,{cols:"6",md:"4",key:t+e.tsym},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secbg"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_38,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_39,toDisplayString(e.exch),1)]),createBaseVNode("p",_hoisted_40,[createBaseVNode("span",_hoisted_41,toDisplayString(e.ltp?e.ltp:"0.00"),1),createBaseVNode("span",{class:normalizeClass(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[createBaseVNode("span",null,toDisplayString(e.ch?e.ch:"0.00")+" ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):createCommentVNode("",!0),g.value&&g.value.length>0?(openBlock(),createElementBlock("div",_hoisted_42,[createVNode(VDivider,{class:"my-4"}),t[32]||(t[32]=createBaseVNode("p",{class:"font-weight-bold lh-16 mb-2"},"Futures",-1)),createVNode(VRow,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,(e,t)=>(openBlock(),createBlock(VCol,{cols:"6",md:"4",key:t+e.tsym},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secred"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_43,[createTextVNode(toDisplayString(e.tsym)+" ",1),createBaseVNode("span",_hoisted_44,toDisplayString(e.exch),1)]),createBaseVNode("p",_hoisted_45,[createBaseVNode("span",_hoisted_46,toDisplayString(e.ltp?e.ltp:"0.00"),1),createBaseVNode("span",{class:normalizeClass(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[createBaseVNode("span",null,toDisplayString(e.ch?e.ch:"0.00")+" ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):createCommentVNode("",!0)]),_:1})):createCommentVNode("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),1==n.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([V.value?"d-none":"d-flex","rounded-lg"])},[createVNode(VCard,{id:"popdiv",width:"28%",height:"20%",class:"rounded-lg overflow-hidden pos-rlt"},{default:withCtx(()=>[createVNode(VCard,{class:"pos-abs rounded-0 elevation-0",color:"transparent",height:"40px",width:"100%",id:"popdivheader"},{default:withCtx(()=>[createVNode(VBtn,{onClick:t[8]||(t[8]=e=>N()),disabled:c.value,color:"maintext",size:"x-small",class:"mr-2 mt-2 float-right",icon:""},{default:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...t[34]||(t[34]=[createTextVNode("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),x.value?(openBlock(),createBlock(TVSingleChartContainer,{key:0})):createCommentVNode("",!0)]),_:1})],2)):createCommentVNode("",!0)]))}},StocksDetails=_export_sfc(_sfc_main$j,[["__scopeId","data-v-8b002865"]]),makeVBreadcrumbsDividerProps=propsFactory({divider:[Number,String],...makeComponentProps()},"VBreadcrumbsDivider"),VBreadcrumbsDivider=genericComponent()({name:"VBreadcrumbsDivider",props:makeVBreadcrumbsDividerProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{var t;return createBaseVNode("li",{"aria-hidden":"true",class:normalizeClass(["v-breadcrumbs-divider",e.class]),style:normalizeStyle(e.style)},[(null==(t=null==a?void 0:a.default)?void 0:t.call(a))??e.divider])}),{}}}),makeVBreadcrumbsItemProps=propsFactory({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...makeComponentProps(),...makeRouterProps(),...makeTagProps({tag:"li"})},"VBreadcrumbsItem"),VBreadcrumbsItem=genericComponent()({name:"VBreadcrumbsItem",props:makeVBreadcrumbsItemProps(),setup(e,t){let{slots:a,attrs:o}=t;const r=useLink(e,o),n=computed(()=>{var t;return e.active||(null==(t=r.isActive)?void 0:t.value)}),{textColorClasses:i,textColorStyles:l}=useTextColor(()=>n.value?e.activeColor:e.color);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":n.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:n.value&&e.activeClass},i.value,e.class]),style:normalizeStyle([l.value,e.style]),"aria-current":n.value?"page":void 0},{default:()=>{var t,o;return[r.isLink.value?createBaseVNode("a",mergeProps({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[(null==(o=a.default)?void 0:o.call(a))??e.title]):(null==(t=a.default)?void 0:t.call(a))??e.title]}})),{}}}),makeVBreadcrumbsProps=propsFactory({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:IconValue,items:{type:Array,default:()=>[]},...makeComponentProps(),...makeDensityProps(),...makeRoundedProps(),...makeTagProps({tag:"ul"})},"VBreadcrumbs"),VBreadcrumbs=genericComponent()({name:"VBreadcrumbs",props:makeVBreadcrumbsProps(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:o,backgroundColorStyles:r}=useBackgroundColor(()=>e.bgColor),{densityClasses:n}=useDensity(e),{roundedClasses:i}=useRounded(e);provideDefaults({VBreadcrumbsDivider:{divider:toRef(()=>e.divider)},VBreadcrumbsItem:{activeClass:toRef(()=>e.activeClass),activeColor:toRef(()=>e.activeColor),color:toRef(()=>e.color),disabled:toRef(()=>e.disabled)}});const l=computed(()=>e.items.map(e=>"string"==typeof e?{item:{title:e},raw:e}:{item:e,raw:e}));return useRender(()=>{const t=!(!a.prepend&&!e.icon);return createVNode(e.tag,{class:normalizeClass(["v-breadcrumbs",o.value,n.value,i.value,e.class]),style:normalizeStyle([r.value,e.style])},{default:()=>{var o;return[t&&createBaseVNode("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[a.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},a.prepend):createVNode(VIcon,{key:"prepend-icon",start:!0,icon:e.icon},null)]),l.value.map((e,t,o)=>{var r;let{item:n,raw:i}=e;return createBaseVNode(Fragment,null,[(null==(r=a.item)?void 0:r.call(a,{item:n,index:t}))??createVNode(VBreadcrumbsItem,mergeProps({key:t,disabled:t>=o.length-1},"string"==typeof n?{title:n}:n),{default:a.title?()=>{var e;return null==(e=a.title)?void 0:e.call(a,{item:n,index:t})}:void 0}),t<o.length-1&&createVNode(VBreadcrumbsDivider,null,{default:a.divider?()=>{var e;return null==(e=a.divider)?void 0:e.call(a,{item:i,index:t})}:void 0})])}),null==(o=a.default)?void 0:o.call(a)]}})}),{}}}),_hoisted_1$6={class:"subtitle-1 font-weight-bold"},_hoisted_2$5={class:"font-weight-bold mb-0"},_hoisted_3$4=["onClick"],_hoisted_4$3={class:"mb-0 lh-18"},_hoisted_5$3={class:"font-weight-medium maintext--text"},_hoisted_6$3=["id"],_hoisted_7$3=["id"],_hoisted_8$3=["id"],_hoisted_9$3=["id"],_hoisted_10$3=["id"],_hoisted_11$3=["id"],_hoisted_12$3=["id"],_hoisted_13$3=["id"],_hoisted_14$2=["id"],_sfc_main$i={__name:"StocksIndices",setup(e){const t=useRouter$1(),a=useRoute$1(),o=useAuthStore(),r=ref$1([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"All indices",disabled:!0,href:"/stocks/allindices"},{text:"exch",disabled:!0,href:"/stocks/allindices?exch=NSE"}]),n=ref$1(null),i=ref$1(null),l=ref$1(null),s=ref$1(!0),c=ref$1("NSE"),d=ref$1(null),u=ref$1(0),p=ref$1({}),h=ref$1([]),m=ref$1([]),v=computed(()=>[{text:"Index name",value:"tsym",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),f=computed(()=>c.value?m.value.filter(e=>e.exch===c.value):m.value),g=async()=>{let e=await getIndexList();if(e&&Object.keys(e).length>0){var t=[];h.value=[],Object.entries(e).forEach(([e,a],o)=>{if(o<3)for(let r=0;r<a.length;r++)a[r]&&a[r].idxname&&t.push({exch:e,token:a[r].token,tsym:a[r].idxname}),h.value.push({tsym:a[r].idxname,token:a[r].token,pe:0,pb:0,exch:e})}),y("sub",t,"allind"),u.value=h.value.length,m.value=h.value,p.value=m.value.reduce((e,{exch:t})=>(e[t]=(e[t]||0)+1,e),{})}else u.value=0,h.value=[];s.value=!1},y=async(e,t,a)=>{if(n.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockINC"}}));else{let e=await getLtpdata(t);e=e.data;for(let t=0;t<h.value.length;t++){let a=e[h.value[t].token];a&&(h.value[t].ltp=Number(a.lp).toFixed(2),h.value[t].ch=Number(h.value[t].ltp-Number(a.close)).toFixed(2),h.value[t].chp=Number(a.change),h.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),h.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),h.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),h.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),h.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2))}}},_=e=>{const t=e.token||e.tk;if(!t)return;let a=h.value.findIndex(e=>e.token==t);if(a>=0&&h.value[a].token==t){if(h.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),h.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),h.value[a].chp=Number(e.chp||0).toFixed(2),h.value[a].vol=Number(e.volume||e.vol||0).toFixed(2),h.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),h.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),h.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),h.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`indi${t}ltp`)){document.getElementById(`indi${t}ltp`).innerHTML=h.value[a].ltp;const e=document.getElementById(`indi${t}ch`),o=document.getElementById(`indi${t}chp`),r=document.getElementById(`indi${t}chpclr`);if(e&&(e.innerHTML=h.value[a].ch),o&&(o.innerHTML=` (${h.value[a].chp}%)`),r){const e=parseFloat(h.value[a].ch)||0;r.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const n=document.getElementById(`indi${t}vol`),i=document.getElementById(`indi${t}op`),l=document.getElementById(`indi${t}cp`),s=document.getElementById(`indi${t}high`),c=document.getElementById(`indi${t}low`);n&&(n.innerHTML=h.value[a].vol),i&&(i.innerHTML=h.value[a].op),l&&(l.innerHTML=h.value[a].cp),s&&(s.innerHTML=h.value[a].high),c&&(c.innerHTML=h.value[a].low)}}},b=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockINC"==a&&h.value&&h.value.length>0&&_(e)}else t&&"object"==typeof t&&"stockINC"===t.page&&(t.token||t.tk)&&_(t)},w=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid"))),g()};return watch(()=>a.query.exch,e=>{e&&["NSE","BSE","MCX"].includes(e)&&(c.value=e,r.value[2].text=e,r.value[2].href=`/stocks/allindices?exch=${e}`)},{immediate:!0}),watch(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(n.value=e,i.value=t,l.value=sessionStorage.getItem("usession"),g())},{immediate:!1}),onMounted(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid")),g()):g(),window.addEventListener("user-event",w),window.addEventListener("web-scoketConn",b)}),onBeforeUnmount(()=>{window.removeEventListener("user-event",w),window.removeEventListener("web-scoketConn",b)}),(e,a)=>(openBlock(),createElementBlock("div",null,[createVNode(VBreadcrumbs,{class:"pa-0 pt-2",items:r.value},{item:withCtx(({item:e})=>[createVNode(VBreadcrumbsItem,{class:normalizeClass(e.disabled?"":"primary--text cursor-p"),onClick:a=>unref(t).push(e.href),disabled:e.disabled},{default:withCtx(()=>[createTextVNode(toDisplayString("exch"==e.text?c.value:e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[3]||(a[3]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),createVNode(VToolbar,{flat:"",density:"compact",class:"tool-sty crd-trn"},{default:withCtx(()=>[a[4]||(a[4]=createBaseVNode("span",{class:"title font-weight-bold"},"All Indices",-1)),createVNode(VSpacer),a[5]||(a[5]=createBaseVNode("div",{class:"mr-1"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16",fill:"none"},[createBaseVNode("path",{d:"M1.5 2.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M14.5 2.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M14.5 6.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M14.5 10.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M14.5 14.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M1.5 6.5H7.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M1.5 10.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M1.5 14.5H6.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),createBaseVNode("span",_hoisted_1$6,toDisplayString(u.value)+" Indices",1)]),_:1}),a[10]||(a[10]=createBaseVNode("p",{class:"fs-12 subtext--text mb-10"}," Stock market indexes represent a specific group of shares selected based on criteria like trading frequency and share size. These indexes serve as a way to track market direction and changes. serve as statistical indicators that measure fluctuations in financial markets. These indices provide performance insights for specific market segments or the overall market. ",-1)),createBaseVNode("div",null,[createVNode(VToolbar,{class:"tool-sty elevation-0 mb-4 crd-trn",density:"compact"},{default:withCtx(()=>[createBaseVNode("p",_hoisted_2$5,toDisplayString(c.value)+" "+toDisplayString(p.value[c.value]?p.value[c.value]:"0")+" indices",1),createVNode(VSpacer),createVNode(VSelect,{"onUpdate:modelValue":[a[0]||(a[0]=e=>(()=>{const e=[...m.value];m.value=[],setTimeout(()=>{m.value=e},1)})()),a[1]||(a[1]=e=>c.value=e)],style:{"max-width":"180px"},modelValue:c.value,"hide-details":"","append-icon":"mdi-chevron-down","prepend-inner-icon":"mdi-playlist-check",class:"rounded-pill mr-3",density:"compact",variant:"solo","bg-color":"secbg",items:["NSE","BSE","MCX"],label:"Filter"},null,8,["modelValue"]),createVNode(VTextField,{style:{"max-width":"220px"},disabled:s.value,modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search for Indices",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg"},null,8,["disabled","modelValue"])]),_:1}),createVNode(VDataTable,{"must-sort":"","disable-sort":"","fixed-header":"",mobile:"",loading:s.value,class:"rounded-lg overflow-y-auto mb-6",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},headers:v.value,search:d.value,items:f.value,"items-per-page":10},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("span",{onClick:a=>((e,a)=>{if(n.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push({name:"stocks advance decline",params:{abc:e,main:"find"}})})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},toDisplayString(e.tsym),9,_hoisted_3$4)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_4$3,[createBaseVNode("span",_hoisted_5$3,[a[6]||(a[6]=createTextVNode("₹",-1)),createBaseVNode("span",{id:`indi${e.token}ltp`},toDisplayString(e.ltp?Number(e.ltp).toFixed(2):"0.00"),9,_hoisted_6$3)]),a[7]||(a[7]=createTextVNode()),a[8]||(a[8]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`indi${e.token}chpclr`},[createBaseVNode("span",{id:`indi${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_8$3),createBaseVNode("span",{id:`indi${e.token}chp`}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",9,_hoisted_9$3)],10,_hoisted_7$3)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}vol`},toDisplayString(e.vol?e.vol:"0.00"),9,_hoisted_10$3)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}op`},toDisplayString(e.op?e.op:"0.00"),9,_hoisted_11$3)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}cp`},toDisplayString(e.cp?e.cp:"0.00"),9,_hoisted_12$3)]),"item.high":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}high`},toDisplayString(e.high?e.high:"0.00"),9,_hoisted_13$3)]),"item.low":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}low`},toDisplayString(e.low?e.low:"0.00"),9,_hoisted_14$2)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...a[9]||(a[9]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no Indices data here yet!")],-1)])]),_:1})]),_:2},1032,["loading","headers","search","items"])])]))}},StocksIndices=_export_sfc(_sfc_main$i,[["__scopeId","data-v-34e9e79a"]]),_hoisted_1$5=["src","alt"],_hoisted_2$4={class:"font-weight-bold title mb-0 text-none"},_hoisted_3$3=["onClick"],_hoisted_4$2={class:"mb-0 lh-18"},_hoisted_5$2={class:"font-weight-medium maintext--text"},_hoisted_6$2=["id"],_hoisted_7$2=["id"],_hoisted_8$2=["id"],_hoisted_9$2=["id"],_hoisted_10$2=["id"],_hoisted_11$2=["id"],_hoisted_12$2=["id"],_hoisted_13$2=["id"],_hoisted_14$1=["id"],_sfc_main$h={__name:"StockMarket",setup(e){const t=useRouter$1(),a=useRoute$1(),o=useAuthStore(),r=ref$1([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"Markets",disabled:!0,href:"/stocks/market"},{text:"this",disabled:!0}]),n=ref$1(null),i=ref$1(null),l=ref$1(null),s=ref$1([{text:"NSE",value:"NSEALL"},{text:"NFO",value:"NFOALL"}]),c=ref$1("NSEALL"),d=ref$1(0),u=ref$1([]),p=ref$1([]),h=ref$1(!0),m=ref$1(null),v=ref$1([]),f=computed(()=>[{title:"Top gainer",value:0},{title:"Top losers",value:1},{title:"Volume breakout",value:2},{title:"Most active",value:3}]),g=computed(()=>[{text:"Symbol",value:"tsym",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),y=e=>{switch(e){case 0:return"Top gainer";case 1:return"Top losers";case 2:return"Volume breakout";case 3:return"Most active";default:return""}},_=e=>{switch(e){case 0:default:return ic_tg;case 1:return ic_tl;case 2:return ic_vb;case 3:return ic_ma}},b=e=>{switch(e){case 0:default:return"tg";case 1:return"tl";case 2:return"vb";case 3:return"ma"}},w=()=>{u.value=[],setTimeout(()=>{p.value&&p.value.length>d.value&&(u.value=p.value[d.value]||[])},1),r.value[2].text=y(d.value)},x=async e=>{"yes"==e&&V("unsub-D",v.value,"mkt"),p.value=[],u.value=[],h.value=!0;let t=await getTopList(["NSEALL"==c.value?"NSE":"NFO",c.value,"mostActive"]),a=await getTopList(["NSEALL"==c.value?"NSE":"NFO",c.value,"topG_L"]);if("Ok"==t.stat&&"Ok"==a.stat){p.value.push(a.topGainers),p.value.push(a.topLosers),p.value.push(t.byVolume),p.value.push(t.byValue);let e=p.value[0].concat(p.value[1].concat(p.value[2].concat(p.value[3])));V("sub",e,"mkt"),v.value=e,u.value=p.value[d.value]||[]}h.value=!1},V=async(e,t,a)=>{if(n.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockMKT"}}));else{let e=await getLtpdata(t);if(e=e.data,e){for(let t=0;t<p.value.length;t++)for(let a=0;a<p.value[t].length;a++){let o=e[p.value[t][a].token];o&&(p.value[t][a].ltp=Number(o.lp)?Number(o.lp).toFixed(2):(0).toFixed(2),p.value[t][a].ch=Number(o.lp)&&Number(o.close)?(Number(o.lp)-Number(o.close)).toFixed(2):(0).toFixed(2),p.value[t][a].chp=Number(o.change).toFixed(2),p.value[t][a].vol=Number(o.vol).toFixed(2),p.value[t][a].op=Number(o.open)?Number(o.open).toFixed(2):(0).toFixed(2),p.value[t][a].cp=Number(o.close)?Number(o.close).toFixed(2):(0).toFixed(2),p.value[t][a].high=Number(o.high)?Number(o.high).toFixed(2):(0).toFixed(2),p.value[t][a].low=Number(o.low)?Number(o.low).toFixed(2):(0).toFixed(2))}p.value&&p.value.length>d.value&&(u.value=p.value[d.value]||[])}}},k=e=>{var t,a,o,r;const n=e.token||e.tk;if(!n)return;let i=(null==(t=p.value[0])?void 0:t.findIndex(e=>e.token==n))??-1,l=(null==(a=p.value[1])?void 0:a.findIndex(e=>e.token==n))??-1,s=(null==(o=p.value[2])?void 0:o.findIndex(e=>e.token==n))??-1,c=(null==(r=p.value[3])?void 0:r.findIndex(e=>e.token==n))??-1;if(i>=0||l>=0||s>=0||c>=0){for(let t=0;t<p.value.length;t++){let a=0==t&&i>=0?i:1==t&&l>=0?l:2==t&&s>=0?s:3==t&&c>=0?c:null;if(a>=0&&p.value[t]&&p.value[t][a]&&p.value[t][a].token==n){if(p.value[t][a].ltp=Number(e.lp||e.ltp||0).toFixed(2),p.value[t][a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),p.value[t][a].chp=Number(e.chp||0).toFixed(2),p.value[t][a].vol=Number(e.volume||e.vol||0),p.value[t][a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),p.value[t][a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),p.value[t][a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),p.value[t][a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`stkmrk${n}ltp`)){document.getElementById(`stkmrk${n}ltp`).innerHTML=p.value[t][a].ltp;const e=document.getElementById(`stkmrk${n}ch`),o=document.getElementById(`stkmrk${n}chp`),r=document.getElementById(`stkmrk${n}chpclr`);if(e&&(e.innerHTML=p.value[t][a].ch),o&&(o.innerHTML=` (${p.value[t][a].chp}%)`),r){const e=parseFloat(p.value[t][a].ch)||0;r.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const i=document.getElementById(`stkmrk${n}vol`),l=document.getElementById(`stkmrk${n}op`),s=document.getElementById(`stkmrk${n}cp`),c=document.getElementById(`stkmrk${n}high`),d=document.getElementById(`stkmrk${n}low`);i&&(i.innerHTML=p.value[t][a].vol),l&&(l.innerHTML=p.value[t][a].op),s&&(s.innerHTML=p.value[t][a].cp),c&&(c.innerHTML=p.value[t][a].high),d&&(d.innerHTML=p.value[t][a].low)}}}p.value&&p.value.length>d.value&&(u.value=p.value[d.value]||[])}},C=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockMKT"==a&&p.value&&4==p.value.length&&k(e)}else t&&"object"==typeof t&&"stockMKT"===t.page&&(t.token||t.tk)&&k(t)},S=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid"))),x()};return watch(()=>a.params.abc,e=>{void 0!==e&&!isNaN(e)&&e>=0&&e<=3&&(d.value=parseInt(e),w())},{immediate:!0}),watch(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(n.value=e,i.value=t,l.value=sessionStorage.getItem("usession"),x())},{immediate:!1}),onMounted(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),void 0!==a.params.abc&&!isNaN(a.params.abc)&&a.params.abc>=0&&a.params.abc<=3&&(d.value=parseInt(a.params.abc)),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid")),x()):x(),window.addEventListener("user-event",S),window.addEventListener("web-scoketConn",C)}),onBeforeUnmount(()=>{window.removeEventListener("user-event",S),window.removeEventListener("web-scoketConn",C)}),(e,a)=>(openBlock(),createElementBlock("div",null,[createVNode(VBreadcrumbs,{class:"pa-0 pt-2",items:r.value},{item:withCtx(({item:e})=>[createVNode(VBreadcrumbsItem,{class:normalizeClass(e.disabled?"":"primary--text cursor-p"),onClick:a=>unref(t).push(e.href),disabled:e.disabled},{default:withCtx(()=>[createTextVNode(toDisplayString("this"==e.text?y(d.value):e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[7]||(a[7]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8 crd-trn"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 mb-4 mb-sm-2 my-4",density:"compact",color:"transparent"},{default:withCtx(()=>[createBaseVNode("img",{width:"40px",src:_(d.value),alt:b(d.value),class:"mr-2"},null,8,_hoisted_1$5),createBaseVNode("p",_hoisted_2$4,toDisplayString(y(d.value)),1),createVNode(VSpacer),createVNode(VSelect,{"onUpdate:modelValue":[a[0]||(a[0]=e=>x("yes")),a[1]||(a[1]=e=>c.value=e)],readonly:h.value,style:{"max-width":"140px"},modelValue:c.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-3 d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:s.value,label:"Condition"},null,8,["readonly","modelValue","items"]),createVNode(VSelect,{"onUpdate:modelValue":[a[2]||(a[2]=e=>w()),a[3]||(a[3]=e=>d.value=e)],readonly:h.value,style:{"max-width":"120px"},modelValue:d.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill d-sm-none",density:"compact",variant:"solo","bg-color":"secbg",items:f.value},null,8,["readonly","modelValue","items"]),createVNode(VTextField,{style:{"max-width":"220px"},disabled:h.value,modelValue:m.value,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg"},null,8,["disabled","modelValue"])]),_:1}),createVNode(VTabs,{class:"d-none d-sm-flex",color:"maintext",modelValue:d.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>d.value=e),a[6]||(a[6]=e=>w())]},{default:withCtx(()=>[createVNode(VTab,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:withCtx(()=>[...a[8]||(a[8]=[createTextVNode("Top gainer",-1)])]),_:1}),createVNode(VTab,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:withCtx(()=>[...a[9]||(a[9]=[createTextVNode("Top losers",-1)])]),_:1}),createVNode(VTab,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:withCtx(()=>[...a[10]||(a[10]=[createTextVNode("Volume breakout",-1)])]),_:1}),createVNode(VTab,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:withCtx(()=>[...a[11]||(a[11]=[createTextVNode("Most active",-1)])]),_:1})]),_:1},8,["modelValue"]),createVNode(VDivider),createVNode(VDataTable,{"must-sort":"","sort-by":[2==d.value?"vol":"chp"],"sort-desc":1!=d.value?[!0]:[!1],mobile:"","fixed-header":"",loading:h.value,class:"rounded-lg overflow-y-auto",headers:g.value,search:m.value,items:u.value,"items-per-page":10},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("span",{onClick:a=>((e,a)=>{if(n.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},toDisplayString(e.tsym),9,_hoisted_3$3)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_4$2,[createBaseVNode("span",_hoisted_5$2,[a[12]||(a[12]=createTextVNode("₹",-1)),createBaseVNode("span",{id:`stkmrk${e.token}ltp`},toDisplayString(e.ltp?Number(e.ltp).toFixed(2):"0.00"),9,_hoisted_6$2)]),a[13]||(a[13]=createTextVNode()),a[14]||(a[14]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`stkmrk${e.token}chpclr`},[createBaseVNode("span",{id:`stkmrk${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_8$2),createBaseVNode("span",{id:`stkmrk${e.token}chp`}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",9,_hoisted_9$2)],10,_hoisted_7$2)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}vol`},toDisplayString(e.vol?e.vol:"0.00"),9,_hoisted_10$2)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}op`},toDisplayString(e.op?e.op:"0.00"),9,_hoisted_11$2)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}cp`},toDisplayString(e.cp?e.cp:"0.00"),9,_hoisted_12$2)]),"item.high":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}high`},toDisplayString(e.high?e.high:"0.00"),9,_hoisted_13$2)]),"item.low":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}low`},toDisplayString(e.low?e.low:"0.00"),9,_hoisted_14$1)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...a[15]||(a[15]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:2},1032,["sort-by","sort-desc","loading","headers","search","items"])]),_:1})]))}},StockMarket=_export_sfc(_sfc_main$h,[["__scopeId","data-v-6382319a"]]),_hoisted_1$4=["onClick"],_hoisted_2$3={class:"mb-0 lh-18"},_hoisted_3$2={key:0,class:"d-none"},_hoisted_4$1={class:"font-weight-medium maintext--text"},_hoisted_5$1=["id"],_hoisted_6$1=["id"],_hoisted_7$1=["id"],_hoisted_8$1=["id"],_hoisted_9$1={class:"font-weight-medium maintext--text"},_hoisted_10$1=["id"],_hoisted_11$1=["id"],_hoisted_12$1=["id"],_hoisted_13$1=["id"],_sfc_main$g={__name:"StockScreener",setup(e){const t=useRouter$1(),a=useAuthStore(),o=ref$1([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"Screener",disabled:!0,href:"/stocks/screener"},{text:"this",disabled:!0}]),r=ref$1(null),n=ref$1(null),i=ref$1(null),l=ref$1([{text:"Volume & Price Up",value:"VolUpPriceUp"},{text:"Volume & Price Down",value:"VolUpPriceDown"},{text:"Weekly Volume Perc",value:"WeeklyVolPerc"},{text:"Weekly Volume Perc Potential",value:"WeeklyVolPercPotential"},{text:"2Day Price Perc Up",value:"2DayPricePercUp"},{text:"2Day Price Perc Down",value:"2DayPricePercDown"},{text:"Upper Circuit",value:"UpperCircuit"},{text:"Lower Circuit",value:"LowerCircuit"},{text:"Open High",value:"OpenHigh"},{text:"Open Low",value:"OpenLow"},{text:"High Break",value:"HighBreak"},{text:"Low Break",value:"LowBreak"},{text:"Weekly High Break",value:"W1HighBreak"},{text:"Weekly Low Break",value:"W1LowBreak"},{text:"2 Weeks High Break",value:"W2HighBreak"},{text:"2 Weeks Low Break",value:"W2LowBreak"},{text:"Monthly High Break",value:"M1HighBreak"},{text:"Monthly Low Break",value:"M1LowBreak"},{text:"3 Months High Break",value:"M3HighBreak"},{text:"3 Months Low Break",value:"M3LowBreak"},{text:"52 Weeks High Break",value:"W52HighBreak"},{text:"52 Weeks Low Break",value:"W52LowBreak"},{text:"R3 Break",value:"R3Break"},{text:"R2 Break",value:"R2Break"},{text:"R1 Break",value:"R1Break"},{text:"Pivot Break",value:"PivotBreak"},{text:"S1 Break",value:"S1Break"},{text:"S2 Break",value:"S2Break"},{text:"S3 Break",value:"S3Break"}]),s=ref$1("VolUpPriceUp"),c=ref$1([{text:"All",value:"A"},{text:"Nifty 50",value:"NIFTY50"},{text:"Nifty 500",value:"NIFTY500"},{text:"Nifty MIDCAP 50",value:"NIFTYMCAP50"},{text:"Nifty SMLCAP 50",value:"NIFTYSMCAP50"}]),d=ref$1("A"),u=ref$1([]),p=ref$1(!0),h=ref$1(null),m=computed(()=>[{text:"Symbol",value:"tsym",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),v=(e,t,a)=>{let o=u.value.findIndex(e=>e.token==t.token);o>=0&&(u.value[o].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):(0).toFixed(2),u.value[o].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):(0).toFixed(2))},f=async e=>{"yes"==e&&g("unsub-D",u.value,"sc"),p.value=!0;let t=await getConTentList(["NSE",d.value,s.value]);t&&t.length>0?(u.value=t,g("sub",t,"sc")):u.value=[],p.value=!1},g=async(e,t,a)=>{if(r.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSCR"}}));else{let e=await getLtpdata(t);if(e=e.data,e)for(let t=0;t<u.value.length;t++){let a=e[u.value[t].token];a&&(u.value[t].lp=Number(a.lp).toFixed(2),u.value[t].ch=Number(a.lp)&&Number(a.close)?(Number(a.lp)-Number(a.close)).toFixed(2):(0).toFixed(2),u.value[t].chp=Number(a.change).toFixed(2),u.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),u.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),u.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),u.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),u.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2))}}},y=e=>{const t=e.token||e.tk;if(!t)return;let a=u.value.findIndex(e=>e.token==t);if(a>=0&&u.value[a].token==t){if(u.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),u.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),u.value[a].chp=Number(e.chp||0).toFixed(2),u.value[a].vol=Number(e.volume||e.vol||0),u.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),u.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),u.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),u.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`ssdsc${t}ltp`)){document.getElementById(`ssdsc${t}ltp`).innerHTML=u.value[a].ltp;const e=document.getElementById(`ssdsc${t}ch`),o=document.getElementById(`ssdsc${t}chp`),r=document.getElementById(`ssdsc${t}chpclr`);if(e&&(e.innerHTML=u.value[a].ch),o&&(o.innerHTML=` (${u.value[a].chp}%)`),r){const e=parseFloat(u.value[a].ch)||0;r.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const n=document.getElementById(`ssdsc${t}op`),i=document.getElementById(`ssdsc${t}cp`),l=document.getElementById(`ssdsc${t}high`),s=document.getElementById(`ssdsc${t}low`);n&&(n.innerHTML=u.value[a].op),i&&(i.innerHTML=u.value[a].cp),l&&(l.innerHTML=u.value[a].high),s&&(s.innerHTML=u.value[a].low)}}},_=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSCR"==a&&u.value&&Array.isArray(u.value)&&y(e)}else t&&"object"==typeof t&&"stockSCR"===t.page&&(t.token||t.tk)&&y(t)},b=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(r.value||i.value||(n.value=sessionStorage.getItem("msession"),i.value=sessionStorage.getItem("usession"),r.value=sessionStorage.getItem("userid"))),f()};return watch(()=>s.value,e=>{const t=l.value.find(t=>t.value===e);t&&(o.value[2].text=t.text)},{immediate:!0}),watch(()=>[a.uid,a.mtoken],([e,t])=>{e&&t&&(r.value=e,n.value=t,i.value=sessionStorage.getItem("usession"),f())},{immediate:!1}),onMounted(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(r.value||i.value||(n.value=sessionStorage.getItem("msession"),i.value=sessionStorage.getItem("usession"),r.value=sessionStorage.getItem("userid")),f()):f(),window.addEventListener("user-event",b),window.addEventListener("web-scoketConn",_)}),onBeforeUnmount(()=>{window.removeEventListener("user-event",b),window.removeEventListener("web-scoketConn",_)}),(e,a)=>(openBlock(),createElementBlock("div",null,[createVNode(VBreadcrumbs,{class:"pa-0 pt-2",items:o.value},{item:withCtx(({item:e})=>[createVNode(VBreadcrumbsItem,{class:normalizeClass(e.disabled?"":"primary--text cursor-p"),onClick:a=>unref(t).push(e.href),disabled:e.disabled},{default:withCtx(()=>[createTextVNode(toDisplayString("this"==e.text?s.value:e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[8]||(a[8]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8 crd-trn"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 my-4",density:"compact",color:"transparent"},{default:withCtx(()=>[a[9]||(a[9]=createBaseVNode("img",{width:"40px",src:_imports_0$3,alt:"srcm",class:"mr-2"},null,-1)),a[10]||(a[10]=createBaseVNode("p",{class:"title font-weight-bold mb-0"},"Stock monitor",-1)),createVNode(VSpacer,{class:"d-none d-sm-flex"}),createVNode(VSelect,{"onUpdate:modelValue":[a[0]||(a[0]=e=>f("yes")),a[1]||(a[1]=e=>s.value=e)],readonly:p.value,style:{"max-width":"180px"},modelValue:s.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-3 d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:l.value,label:"Condition"},null,8,["readonly","modelValue","items"]),createVNode(VSelect,{"onUpdate:modelValue":[a[2]||(a[2]=e=>f("yes")),a[3]||(a[3]=e=>d.value=e)],readonly:p.value,style:{"max-width":"140px"},modelValue:d.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:c.value,label:"Condition"},null,8,["readonly","modelValue","items"])]),_:1}),createVNode(VToolbar,{class:"elevation-0 my-4 d-sm-none",density:"compact",color:"transparent"},{default:withCtx(()=>[createVNode(VSelect,{"onUpdate:modelValue":[a[4]||(a[4]=e=>f("yes")),a[5]||(a[5]=e=>s.value=e)],readonly:p.value,modelValue:s.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-1",density:"compact",variant:"solo","bg-color":"secbg",items:l.value,label:"Condition"},null,8,["readonly","modelValue","items"]),createVNode(VSelect,{"onUpdate:modelValue":[a[6]||(a[6]=e=>f("yes")),a[7]||(a[7]=e=>d.value=e)],readonly:p.value,modelValue:d.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill ml-1",density:"compact",variant:"solo","bg-color":"secbg",items:c.value,label:"Condition"},null,8,["readonly","modelValue","items"])]),_:1}),createVNode(VDivider),createVNode(VDataTable,{"must-sort":"","sort-by":["chp"],"sort-desc":[!0],mobile:"","fixed-header":"",loading:p.value,class:"rounded-lg overflow-y-auto",headers:m.value,search:h.value,items:u.value,"items-per-page":10},{"item.tsym":withCtx(({item:e})=>[createBaseVNode("span",{onClick:a=>((e,a)=>{if(r.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},toDisplayString(e.tsym),9,_hoisted_1$4)]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_2$3,[r.value?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_3$2,toDisplayString(v(0,e)),1)),createBaseVNode("span",_hoisted_4$1,[a[11]||(a[11]=createTextVNode("₹",-1)),createBaseVNode("span",{id:`ssdsc${e.token}ltp`},toDisplayString(e.lp?Number(e.lp).toFixed(2):"0.00"),9,_hoisted_5$1)]),a[12]||(a[12]=createTextVNode()),a[13]||(a[13]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`ssdsc${e.token}chpclr`},[createBaseVNode("span",{id:`ssdsc${e.token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_7$1),createBaseVNode("span",{id:`ssdsc${e.token}chp`}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",9,_hoisted_8$1)],10,_hoisted_6$1)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",_hoisted_9$1,toDisplayString(e.v?e.v:"0.00"),1)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}op`},toDisplayString(e.ap?e.ap:"0.00"),9,_hoisted_10$1)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}cp`},toDisplayString(e.c?e.c:"0.00"),9,_hoisted_11$1)]),"item.high":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}high`},toDisplayString(e.h?e.h:"0.00"),9,_hoisted_12$1)]),"item.low":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`ssdsc${e.token}low`},toDisplayString(e.l?e.l:"0.00"),9,_hoisted_13$1)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...a[14]||(a[14]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:2},1032,["loading","headers","search","items"])]),_:1})]))}},StockScreener=_export_sfc(_sfc_main$g,[["__scopeId","data-v-aae8b372"]]),_hoisted_1$3={class:"font-weight-bold title mb-0 text-none ws-p lh-16"},_hoisted_2$2={class:"caption subtext--text font-weight-bold"},_hoisted_3$1={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},_hoisted_4=["id"],_hoisted_5=["id"],_hoisted_6=["id"],_hoisted_7=["id"],_hoisted_8={class:"px-4"},_hoisted_9={key:0,class:"mb-0 lh-16 mt-2 subtitle-2"},_hoisted_10={key:0,class:"mb-0 lh-16 mt-2 subtitle-2 text-right"},_hoisted_11={class:"mb-0 lh-16"},_hoisted_12=["onClick"],_hoisted_13={class:"caption subtext--text ws-p"},_hoisted_14={class:"mb-0 lh-18"},_hoisted_15={class:"font-weight-medium maintext--text"},_hoisted_16=["id"],_hoisted_17=["id"],_hoisted_18=["id"],_hoisted_19=["id"],_hoisted_20=["id"],_hoisted_21=["id"],_hoisted_22=["id"],_hoisted_23=["id"],_hoisted_24=["id"],_sfc_main$f={__name:"StockAD",setup(e){const t=useRouter$1(),a=useRoute$1(),o=useAuthStore(),r=ref$1([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"sec",disabled:!0,href:"/stocks/advance_decline"},{text:"Advance & Decline",disabled:!0,href:"/stocks/advance_decline"},{text:"thisi",disabled:!0},{text:"this",disabled:!0}]),n=ref$1(null),i=ref$1(null),l=ref$1(null),s=ref$1("Nifty-Indices"),c=ref$1("NIFTY 50"),d=ref$1({}),u=ref$1({});ref$1([]);const p=ref$1([]),h=ref$1({}),m=ref$1(null),v=ref$1(!0),f=ref$1(null),g=ref$1([]),y=computed(()=>[{text:"Symbol",value:"SYMBOL",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),_=async()=>{v.value=!0;let e=await getADindice();Object.entries(e).length>0&&(h.value=e);let t=await getADindices();t&&500!=t?(u.value=t,delete u.value.Company,b()):v.value=!1},b=async e=>{var t;if("main"==e&&h.value[s.value]&&h.value[s.value].length>0){const e=h.value[s.value][0];c.value="string"==typeof e?e:e.name||e}const a="string"==typeof c.value?c.value:(null==(t=c.value)?void 0:t.name)||c.value;if(u.value[a]){"yes"==e&&x("unsub-D",g.value,"ta"),v.value=!0,p.value=[],d.value={};let t=await getADindice(a);if(d.value=w(u.value[a]),t&&t.length>0){p.value=t;let e=[];t.forEach(t=>{e.push({exch:t.SYMBOL.split(":")[0],token:t.Token,tsym:t.SYMBOL.split(":")[1]})}),d.value.token&&e.push({exch:"NSE",token:d.value.token,tsym:a}),x("sub",e,"ta"),g.value=e}Object.entries(h.value).forEach(([e,t])=>{for(let o=0;o<t.length;o++){if(("string"==typeof t[o]?t[o]:t[o].name||t[o])===a){m.value=e,r.value[1].text=e,r.value[3].text=e,r.value[4].text=a;break}}}),v.value=!1}},w=e=>{if(!e)return{};const t={...e};return t.sum=(e.Negative||0)+(e.Neutral||0)+(e.Positive||0),t.adp=t.sum>0?`${Math.round(e.Positive/t.sum*100)}%`:"0%",t.adm=t.sum>0?`${Math.round(e.Negative/t.sum*100)}%`:"0%",t.adn=t.sum>0?`${Math.round(e.Neutral/t.sum*100)}%`:"0%",t},x=async(e,t,a)=>{if(n.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockAD"}}));else{let e=await getLtpdata(t);if(e=e.data,e){for(let t=0;t<p.value.length;t++){let a=e[p.value[t].Token];a&&(p.value[t].ltp=Number(a.lp).toFixed(2),p.value[t].ch=Number(p.value[t].ltp-Number(a.close)).toFixed(2),p.value[t].chp=Number(a.change),p.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),p.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),p.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),p.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),p.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2),p.value[t].oi=a.oi?Number(a.oi).toFixed(2):(0).toFixed(2))}if(d.value.token){let t=e[d.value.token];t&&(d.value.ltp=Number(t.lp).toFixed(2),d.value.ch=Number(d.value.ltp-Number(t.close)).toFixed(2),d.value.chp=Number(t.change))}}}},V=e=>{const t=e.token||e.tk;if(!t)return;let a=p.value.findIndex(e=>e.Token==t);if(a>=0&&p.value[a].Token==t){if(p.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),p.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),p.value[a].chp=Number(e.chp||0).toFixed(2),p.value[a].vol=Number(e.volume||e.vol||0),p.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),p.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),p.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),p.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`avddec${t}ltp`)){document.getElementById(`avddec${t}ltp`).innerHTML=p.value[a].ltp;const e=document.getElementById(`avddec${t}ch`),o=document.getElementById(`avddec${t}chp`),r=document.getElementById(`avddec${t}chpclr`);if(e&&(e.innerHTML=p.value[a].ch),o&&(o.innerHTML=` (${p.value[a].chp}%)`),r){const e=parseFloat(p.value[a].ch)||0;r.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const n=document.getElementById(`avddec${t}vol`),i=document.getElementById(`avddec${t}op`),l=document.getElementById(`avddec${t}cp`),s=document.getElementById(`avddec${t}high`),c=document.getElementById(`avddec${t}low`);n&&(n.innerHTML=p.value[a].vol),i&&(i.innerHTML=p.value[a].op),l&&(l.innerHTML=p.value[a].cp),s&&(s.innerHTML=p.value[a].high),c&&(c.innerHTML=p.value[a].low)}}if(d.value.token==t){if(d.value.ltp=Number(e.lp||e.ltp||0).toFixed(2),d.value.ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),d.value.chp=Number(e.chp||0).toFixed(2),document.getElementById(`savddec${t}ltp`)){document.getElementById(`savddec${t}ltp`).innerHTML=d.value.ltp;const e=document.getElementById(`savddec${t}ch`),a=document.getElementById(`savddec${t}chp`),o=document.getElementById(`savddec${t}chpclr`);if(e&&(e.innerHTML=d.value.ch),a&&(a.innerHTML=` (${d.value.chp}%)`),o){const e=parseFloat(d.value.ch)||0;o.className=e>0?"fs-12 maingreen--text":e<0?"fs-12 mainred--text":"fs-12 subtext--text"}}}},k=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockAD"==a&&p.value&&Array.isArray(p.value)&&V(e)}else t&&"object"==typeof t&&"stockAD"===t.page&&(t.token||t.tk)&&V(t)},C=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid"))),_()};return watch(()=>a.params,e=>{e.abc&&("find"==e.main?s.value="find":"Sectors"==e.main?s.value="Sectoral-Indices":"Thematic"==e.main&&(s.value="Thematic-Indices"),c.value=e.abc,r.value[1].text=e.main||"sec",r.value[3].text=s.value,r.value[4].text=e.abc)},{immediate:!0}),watch(()=>s.value,e=>{r.value[3].text=e?e.split("-")[0]:"thisi"}),watch(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(n.value=e,i.value=t,l.value=sessionStorage.getItem("usession"),_())},{immediate:!1}),onMounted(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),a.params.abc&&("find"==a.params.main?s.value="find":"Sectors"==a.params.main?s.value="Sectoral-Indices":"Thematic"==a.params.main&&(s.value="Thematic-Indices"),c.value=a.params.abc,r.value[1].text=a.params.main||"sec",r.value[3].text=s.value,r.value[4].text=a.params.abc),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(n.value||l.value||(i.value=sessionStorage.getItem("msession"),l.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid")),_()):_(),window.addEventListener("user-event",C),window.addEventListener("web-scoketConn",k)}),onBeforeUnmount(()=>{window.removeEventListener("user-event",C),window.removeEventListener("web-scoketConn",k)}),(e,a)=>(openBlock(),createElementBlock("div",null,[createVNode(VBreadcrumbs,{class:"pa-0 pt-2",items:r.value},{item:withCtx(({item:e})=>[createVNode(VBreadcrumbsItem,{class:normalizeClass(e.disabled?"":"primary--text cursor-p"),onClick:a=>unref(t).push(e.href),disabled:e.disabled},{default:withCtx(()=>[createTextVNode(toDisplayString("thisi"==e.text?s.value?s.value.split("-")[0]:"":"this"==e.text?c.value:"sec"==e.text?m.value?m.value.split("-")[0]:"Indices":e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:withCtx(()=>[createVNode(VIcon,null,{default:withCtx(()=>[...a[9]||(a[9]=[createTextVNode("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),createVNode(VCard,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8 crd-trn"},{default:withCtx(()=>[createVNode(VToolbar,{class:"elevation-0 my-4",density:"compact",color:"transparent"},{default:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("p",_hoisted_1$3,[createTextVNode(toDisplayString(c.value?c.value.split("-")[0]:"")+" ",1),createBaseVNode("span",_hoisted_2$2,"("+toDisplayString(d.value.sum?d.value.sum:"..")+")",1)]),createBaseVNode("p",_hoisted_3$1,[a[10]||(a[10]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`savddec${d.value.token}ltp`},toDisplayString(d.value.ltp?d.value.ltp:"0.00"),9,_hoisted_4),a[11]||(a[11]=createTextVNode("  ",-1)),createBaseVNode("span",{class:normalizeClass(["fs-12",d.value.ch>0?"maingreen--text":d.value.ch<0?"mainred--text":"subtext--text"]),id:`savddec${d.value.token}chpclr`},[createBaseVNode("span",{id:`savddec${d.value.token}ch`},toDisplayString(d.value.ch?d.value.ch:"0.00"),9,_hoisted_6),createBaseVNode("span",{id:`savddec${d.value.token}chp`}," ("+toDisplayString(d.value.chp?d.value.chp:"0.00")+"%)",9,_hoisted_7)],10,_hoisted_5)])]),createVNode(VSpacer,{class:"d-none d-sm-flex"}),createVNode(VSelect,{"onUpdate:modelValue":[a[0]||(a[0]=e=>b("main")),a[1]||(a[1]=e=>s.value=e)],readonly:v.value,style:{"max-width":"140px"},modelValue:s.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-3 d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:Object.entries(h.value),"return-object":""},{item:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(e[0]),1)]),selection:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(e[0]),1)]),_:1},8,["readonly","modelValue","items"]),createVNode(VAutocomplete,{"onUpdate:modelValue":[a[2]||(a[2]=e=>b("yes")),a[3]||(a[3]=e=>c.value=e)],readonly:v.value,style:{"max-width":"140px"},modelValue:c.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-3 d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:h.value[s.value]?h.value[s.value]:[],"return-object":""},{item:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString("string"==typeof e?e:e.name||e),1)]),selection:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString("string"==typeof e?e:e.name||e),1)]),_:1},8,["readonly","modelValue","items"]),createVNode(VTextField,{style:{"max-width":"220px"},disabled:v.value,modelValue:f.value,"onUpdate:modelValue":a[4]||(a[4]=e=>f.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg"},null,8,["disabled","modelValue"])]),_:1}),createVNode(VToolbar,{class:"elevation-0 my-4 d-sm-none",density:"compact",color:"transparent"},{default:withCtx(()=>[createVNode(VSelect,{"onUpdate:modelValue":[a[5]||(a[5]=e=>b("main")),a[6]||(a[6]=e=>s.value=e)],readonly:v.value,modelValue:s.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-1",density:"compact",variant:"solo","bg-color":"secbg",items:Object.entries(h.value),"return-object":""},{item:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(e[0]),1)]),selection:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString(e[0]),1)]),_:1},8,["readonly","modelValue","items"]),createVNode(VAutocomplete,{"onUpdate:modelValue":[a[7]||(a[7]=e=>b("yes")),a[8]||(a[8]=e=>c.value=e)],readonly:v.value,modelValue:c.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill ml-1",density:"compact",variant:"solo","bg-color":"secbg",items:h.value[s.value]?h.value[s.value]:[],"return-object":""},{item:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString("string"==typeof e?e:e.name||e),1)]),selection:withCtx(({item:e})=>[createBaseVNode("span",null,toDisplayString("string"==typeof e?e:e.name||e),1)]),_:1},8,["readonly","modelValue","items"])]),_:1}),createBaseVNode("div",_hoisted_8,[createVNode(VCard,{width:"100%",class:"elevation-0 pa-3 rounded-lg mb-3",height:"60px",color:"secbg"},{default:withCtx(()=>[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"12",class:"d-inline-flex"},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn",style:normalizeStyle({width:d.value.adp||"0%"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"maingreen",width:"100%"}),d.value.Positive>0?(openBlock(),createElementBlock("p",_hoisted_9,[createVNode(VIcon,{color:"maingreen",size:"18"},{default:withCtx(()=>[...a[12]||(a[12]=[createTextVNode("mdi-arrow-top-right",-1)])]),_:1}),createTextVNode(" "+toDisplayString(d.value.Positive),1)])):createCommentVNode("",!0)]),_:1},8,["style"]),d.value.Negative>0||d.value.Neutral>0?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn",style:normalizeStyle({width:d.value.adn||"0%"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",width:"100%"})]),_:1},8,["style"])):createCommentVNode("",!0),createVNode(VCard,{class:"elevation-0 rounded-lg crd-trn",style:normalizeStyle({width:d.value.adm||"0%"})},{default:withCtx(()=>[createVNode(VCard,{class:"elevation-0 rounded-lg py-1",color:"mainred",width:"100%"}),d.value.Negative>0?(openBlock(),createElementBlock("p",_hoisted_10,[createTextVNode(toDisplayString(d.value.Negative)+" ",1),createVNode(VIcon,{color:"mainred",size:"18"},{default:withCtx(()=>[...a[13]||(a[13]=[createTextVNode("mdi-arrow-bottom-right",-1)])]),_:1})])):createCommentVNode("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),createVNode(VDataTable,{"must-sort":"","sort-by":["change"],"sort-desc":[!0],mobile:"","fixed-header":"",loading:v.value,class:"rounded-lg overflow-y-auto",headers:y.value,search:f.value,items:p.value,"items-per-page":10},{"item.SYMBOL":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_11,[createBaseVNode("span",{onClick:a=>((e,a)=>{if(n.value){let e=[0,a.Token,"NSE",a.SYMBOL.split(":")[1]];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.SYMBOL.split(":")[1].split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},toDisplayString(e.SYMBOL.split(":")[1]),9,_hoisted_12),a[14]||(a[14]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",_hoisted_13,toDisplayString(e.Industry?e.Industry:""),1)])]),"item.ltp":withCtx(({item:e})=>[createBaseVNode("p",_hoisted_14,[createBaseVNode("span",_hoisted_15,[a[15]||(a[15]=createTextVNode(" ₹",-1)),createBaseVNode("span",{id:`avddec${e.Token}ltp`},toDisplayString(e.ltp?Number(e.ltp).toFixed(2):"0.00"),9,_hoisted_16)]),a[16]||(a[16]=createTextVNode()),a[17]||(a[17]=createBaseVNode("br",null,null,-1)),createBaseVNode("span",{class:normalizeClass(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`avddec${e.Token}chpclr`},[createBaseVNode("span",{id:`avddec${e.Token}ch`},toDisplayString(e.ch?e.ch:"0.00"),9,_hoisted_18),createBaseVNode("span",{id:`avddec${e.Token}chp`}," ("+toDisplayString(e.chp?e.chp:"0.00")+"%)",9,_hoisted_19)],10,_hoisted_17)])]),"item.vol":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`avddec${e.Token}vol`},toDisplayString(e.vol?e.vol:"0.00"),9,_hoisted_20)]),"item.op":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`avddec${e.Token}op`},toDisplayString(e.op?e.op:"0.00"),9,_hoisted_21)]),"item.cp":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`avddec${e.Token}cp`},toDisplayString(e.cp?e.cp:"0.00"),9,_hoisted_22)]),"item.high":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`avddec${e.Token}high`},toDisplayString(e.high?e.high:"0.00"),9,_hoisted_23)]),"item.low":withCtx(({item:e})=>[createBaseVNode("span",{class:"font-weight-medium maintext--text",id:`avddec${e.Token}low`},toDisplayString(e.low?e.low:"0.00"),9,_hoisted_24)]),"no-data":withCtx(()=>[createVNode(VCol,{cols:"12",class:"text-center pa-16"},{default:withCtx(()=>[...a[18]||(a[18]=[createBaseVNode("div",{class:"mx-auto"},[createBaseVNode("img",{class:"align-self-stretch mx-auto",width:"80px",src:_imports_0$6,alt:"no data"}),createBaseVNode("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:2},1032,["loading","headers","search","items"])]),_:1})]))}},StockAD=_export_sfc(_sfc_main$f,[["__scopeId","data-v-05bcef93"]]),_hoisted_1$2={class:"chart-container"},_sfc_main$e={__name:"SingleStocks",setup(e){const t=ref$1([]);ref$1({});const a=computed(()=>t.value.length&&t.value[0]&&t.value[0].exch&&t.value[0].tsym?`https://mynt-oi-option-data.web.app/web?tsym=${t.value[0].exch}:${t.value[0].tsym}&lp=${t.value.g&&Number(t.value.g.lp)?Number(t.value.g.lp).toFixed(2):"0.00"}&theme=false`:"");return onMounted(()=>{logEvent(analytics$1,"single_stock_view",{event_name:"Single Stock",value:1})}),(e,o)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[o[1]||(o[1]=createBaseVNode("h1",null,"Single Stock Analysis",-1)),o[2]||(o[2]=createBaseVNode("p",null,"Individual stock analysis and trading",-1)),o[3]||(o[3]=createBaseVNode("p",null,"Firebase analytics integration ready",-1)),t.value&&t.value[0]?(openBlock(),createBlock(VCard,{key:0,class:"elevation-0 rounded-0 ss-adv-chart"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$2,[o[0]||(o[0]=createBaseVNode("p",null,"TradingView chart will be integrated here",-1)),createBaseVNode("p",null,"Chart URL: "+toDisplayString(a.value),1)])]),_:1})):createCommentVNode("",!0)]),_:1})]))}},SingleStocks=_export_sfc(_sfc_main$e,[["__scopeId","data-v-28f80596"]]),_sfc_main$d={__name:"MutualSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Mutual Funds",-1),createBaseVNode("p",null,"Mutual fund investment platform",-1)])]),_:1})]))},_sfc_main$c={__name:"MutualCategorieSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Mutual Fund Categories",-1),createBaseVNode("p",null,"Browse mutual funds by categories",-1)])]),_:1})]))},_sfc_main$b={__name:"MuturalNfoSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"NFO (New Fund Offers)",-1),createBaseVNode("p",null,"New fund offers and launches",-1)])]),_:1})]))},_sfc_main$a={__name:"MutualSingle",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Mutual Fund Details",-1),createBaseVNode("p",null,"Individual mutual fund details and analysis",-1)])]),_:1})]))},_sfc_main$9={__name:"BondSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Bonds",-1),createBaseVNode("p",null,"Bond trading and investment platform",-1)])]),_:1})]))},_sfc_main$8={__name:"IpoSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"IPOs",-1),createBaseVNode("p",null,"Initial Public Offerings platform",-1)])]),_:1})]))},_sfc_main$7={__name:"IpoPerformance",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"IPO Performance",-1),createBaseVNode("p",null,"IPO performance tracking and analysis",-1)])]),_:1})]))},_sfc_main$6={__name:"FnoSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"F&O (Futures & Options)",-1),createBaseVNode("p",null,"Futures and Options trading platform",-1)])]),_:1})]))},_sfc_main$5={__name:"CollectionSrc",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Collections",-1),createBaseVNode("p",null,"Investment collections and portfolios",-1)])]),_:1})]))},_sfc_main$4={__name:"MasterFile",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Master File",-1),createBaseVNode("p",null,"Master data and configuration",-1)])]),_:1})]))},_sfc_main$3={__name:"CollectionSingle",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",null,[createVNode(VContainer,null,{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("h1",null,"Collection Details",-1),createBaseVNode("p",null,"Individual collection details and analysis",-1)])]),_:1})]))},_sfc_main$2={__name:"ViewsLayout",setup:e=>(e,t)=>{const a=resolveComponent("router-view");return openBlock(),createElementBlock("div",null,[createVNode(a)])}},_hoisted_1$1={class:"no-xhide"},_hoisted_2$1=["src"],_sfc_main$1={__name:"NotFoundPage",setup:e=>(e,t)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(VCard,{height:"89vh",class:"elevation-0"},{default:withCtx(()=>[createVNode(VContainer,{"fill-height":"",class:"text-center pt-0 px-0"},{default:withCtx(()=>[createVNode(VCard,{width:"100%",color:"secbg",class:"rounded-xl mx-auto elevation-0 py-8"},{default:withCtx(()=>[createBaseVNode("img",{src:`/src/assets/404${e.$vuetify.theme.dark?"d":""}.svg`,alt:"404 image",class:"pt-6 pb-3"},null,8,_hoisted_2$1),t[1]||(t[1]=createBaseVNode("h1",{class:"font-weight-bold lh-32 mb-4"},"Sorry, we couldn't find that page :/",-1)),t[2]||(t[2]=createBaseVNode("h4",{class:"font-weight-regular mb-5"},[createTextVNode("Please check the URL or navigate back to our "),createBaseVNode("br"),createTextVNode(" homepage to explore our current offerings and resources ")],-1)),createVNode(VBtn,{color:"btnclr",to:"/stocks",height:"48px",class:"text-none rounded-pill elevation-0 px-8"},{default:withCtx(()=>[...t[0]||(t[0]=[createBaseVNode("span",{class:"btntext--text font-weight-medium body-2"},"Back to homepage",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]))},_hoisted_1={class:"pt-16"},_hoisted_2={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},_hoisted_3={class:"pt-6"},_sfc_main={__name:"StartCheck",setup(e){const t=ref$1(null),a=ref$1(null),o=ref$1("LMT"),r=ref$1(0),n=ref$1({NorenWClient:{},NorenWClientTV:{},NorenWClientTP:{},NorenWClientWeb:{}}),i=e=>{let o=`jData={"uid":"${t.value.toUpperCase()}","actid":"${t.value.toUpperCase()}"}&jKey=${a.value}`;var r=0==e?"NorenWClient":1==e?"NorenWClientTV":2==e?"NorenWClientTP":3==e?"NorenWClientWeb":null;if(e<=3){let t={method:"post",url:`https://go.mynt.in/${r}/PositionBook`,data:o};axios.request(t).then(t=>{n.value[`${r}`]=t.data,i(e+1)}).catch(t=>{n.value[`${r}`]={...t.response.data},i(e+1),n.value={...n.value}})}};return(e,l)=>(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(VRow,{"no-gutters":""},{default:withCtx(()=>[createVNode(VCol,{cols:"3"},{default:withCtx(()=>[createVNode(VCard,{class:"rounded-0 elevation-0",color:"transparent",height:"40px"},{default:withCtx(()=>[createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"6",class:"pr-0"},{default:withCtx(()=>[createVNode(VCard,{onClick:l[0]||(l[0]=e=>o.value="MKT"),color:"MKT"==o.value?"maintext":"secbg",class:normalizeClass(["MKT"==o.value?"mainbg--text":"maintext--text","elevation-0 fs-12 font-weight-bold rounded-pill rounded-r-0 justify-center d-flex align-center"]),height:"40px"},{default:withCtx(()=>[...l[6]||(l[6]=[createTextVNode(" MKT ",-1)])]),_:1},8,["color","class"])]),_:1}),createVNode(VCol,{cols:"6",class:"pl-0"},{default:withCtx(()=>[createVNode(VCard,{onClick:l[1]||(l[1]=e=>o.value="LMT"),color:"LMT"==o.value?"maintext":"secbg",class:normalizeClass(["LMT"==o.value?"mainbg--text":"maintext--text","elevation-0 fs-12 font-weight-bold rounded-pill rounded-l-0 justify-center d-flex align-center"]),height:"40px"},{default:withCtx(()=>[...l[7]||(l[7]=[createTextVNode(" LMT ",-1)])]),_:1},8,["color","class"])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(VCol,{cols:"9"},{default:withCtx(()=>[createVNode(VTextField,{readonly:"MKT"==o.value||"SL-MKT"==o.value,height:"40px","hide-details":"",dense:"","background-color":"secbg",flat:"",block:"",class:"rounded-pill",solo:"",type:"number","hide-spin-buttons":"",modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e)},{append:withCtx(()=>["MKT"==o.value||"SL-MKT"==o.value?(openBlock(),createElementBlock("svg",_hoisted_2,[...l[8]||(l[8]=[createBaseVNode("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),createBaseVNode("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):createCommentVNode("",!0)]),"prepend-inner":withCtx(()=>[...l[9]||(l[9]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[createBaseVNode("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),createBaseVNode("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["readonly","modelValue"])]),_:1})]),_:1}),createVNode(VRow,null,{default:withCtx(()=>[createVNode(VCol,{cols:"4"},{default:withCtx(()=>[createVNode(VTextField,{modelValue:t.value,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value=e),label:"Client id",variant:"outlined"},null,8,["modelValue"])]),_:1}),createVNode(VCol,{cols:"8"},{default:withCtx(()=>[createVNode(VTextField,{modelValue:a.value,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value=e),label:"session",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(VBtn,{color:"primary",disabled:!t.value||!a.value,onClick:l[5]||(l[5]=e=>i(0))},{default:withCtx(()=>[...l[10]||(l[10]=[createTextVNode(" fetch ",-1)])]),_:1},8,["disabled"]),createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(e,t,a)=>(openBlock(),createBlock(VRow,{key:a},{default:withCtx(()=>[createVNode(VCol,{cols:"2"},{default:withCtx(()=>[createTextVNode(toDisplayString(t)+" ("+toDisplayString(e&&e.length>0?e.length:0)+")",1)]),_:2},1024),createVNode(VCol,{cols:"10",onClick:t=>{return a=e,void navigator.clipboard.writeText(JSON.stringify(a)).then(()=>{alert("Text copied to clipboard!")}).catch(e=>{console.error("Failed to copy text:",e)});var a}},{default:withCtx(()=>[createTextVNode(toDisplayString(e),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]))}};let analytics=null;try{analytics=getAnalytics()}catch(error2){console.error("Failed to initialize Firebase Analytics:",error2)}const routes=[{path:"/sc",name:"sc",component:_sfc_main},{path:"/tv",name:"tv",component:_sfc_main$K},{path:"/mtv",name:"mtv",component:_sfc_main$J},{path:"/lwc",name:"lwc",component:LightweightChart},{path:"/",redirect:"/stocks",name:"layout",component:_sfc_main$L,children:[{path:"/",redirect:"/stocks",name:"dashboard",component:_sfc_main$G,children:[{path:"/stocks",name:"stocks",component:_sfc_main$p},{path:"/stocks/allindices",name:"stocks indices",component:StocksIndices},{path:"/stocks/market",name:"stocks market",component:StockMarket},{path:"/stocks/screener",name:"stocks screener",component:StockScreener},{path:"/stocks/advance_decline",name:"stocks advance decline",component:StockAD},{path:"/stocks/details",name:"dashboard layout",component:_sfc_main$H,children:[{path:"/stocks/details",name:"stocks details",component:StocksDetails},{path:"/fno",name:"fno",component:_sfc_main$6}]},{path:"/mutualfund",name:"mutual fund home",component:_sfc_main$d},{path:"/mutualfund/orderbook",name:"mutual fund orderbook",component:_sfc_main$x},{path:"/mutualfund/categories",name:"mutual fund categories",component:_sfc_main$c},{path:"/mutualfund/nfo",name:"mutual fund nfo",component:_sfc_main$b},{path:"/mutualfund/single",alias:"/mutualfund/*",name:"mutual fund single",component:_sfc_main$a},{path:"/bonds",name:"bonds home",component:_sfc_main$9},{path:"/bonds/orderbook",name:"bonds orderbook",component:_sfc_main$v},{path:"/ipo",name:"ipos home",component:_sfc_main$8},{path:"/ipo/orderbook",name:"ipos orderbook",component:_sfc_main$w},{path:"/ipo/performance",name:"ipos performance",component:_sfc_main$7},{path:"/collection",name:"collection home",component:_sfc_main$5},{path:"/mst",name:"mst home",component:_sfc_main$4},{path:"/collection/single",alias:"/collection/*",name:"collection single",component:_sfc_main$3}]},{path:"/funds",name:"funds",component:_sfc_main$t},{path:"/settings",name:"Settings",component:_sfc_main$s},{path:"/orders",name:"orderbook",component:_sfc_main$u},{path:"/orders/book",name:"orders book",component:_sfc_main$C},{path:"/orders/trade",name:"orders trade",component:_sfc_main$B},{path:"/orders/gtt",name:"orders gtt",component:_sfc_main$A},{path:"/orders/basket",name:"orders basket",component:StockBSKorders},{path:"/orders/sip",name:"orders sip",component:_sfc_main$y},{path:"/positions",name:"views layout",component:_sfc_main$2,children:[{path:"/positions",name:"positions",component:PosiTions},{path:"/holdings",name:"holdings",component:_sfc_main$E},{path:"/notification",name:"alert screen",component:_sfc_main$r},{path:"/stocks/single",alias:"/stocks/*",name:"single stocks",component:SingleStocks},{path:"/portifilo",name:"PortfiloAn",component:_sfc_main$D}]},{path:"/:pathMatch(.*)*",component:_sfc_main$1}]}],router=createRouter({history:createWebHistory("/"),routes:routes,scrollBehavior(){window.scrollTo(0,0)}});router.beforeEach((e,t)=>{if(void 0===t.name){if("/positions"===e.path||"/holdings"===e.path||"/funds"===e.path||"/notification"===e.path||e.path.startsWith("/orders"))return{path:"/stocks",replace:!0}}}),router.afterEach(e=>{try{analytics&&logEvent(analytics,"page_view",{page_path:e.fullPath})}catch(error2){console.error("Firebase analytics error:",error2)}}),router.onError(e=>{console.error("Router navigation error:",e)});const VAlertTitle=createSimpleFunctional("v-alert-title"),makeIconSizeProps=propsFactory({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function useIconSizes(e,t){return{iconSize:computed(()=>{const a=new Map(e.iconSizes),o=e.iconSize??t()??"default";return a.has(o)?a.get(o):o})}}const allowedTypes=["success","info","warning","error"],makeVAlertProps=propsFactory({border:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:IconValue,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>allowedTypes.includes(e)},...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeElevationProps(),...makeIconSizeProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps(),...makeVariantProps({variant:"flat"})},"VAlert"),VAlert=genericComponent()({name:"VAlert",props:makeVAlertProps(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useProxiedModel(e,"modelValue"),n=toRef(()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:i}=useIconSizes(e,()=>e.prominent?44:void 0),{themeClasses:l}=provideTheme(e),{colorClasses:s,colorStyles:c,variantClasses:d}=useVariant(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:u}=useDensity(e),{dimensionStyles:p}=useDimension(e),{elevationClasses:h}=useElevation(e),{locationStyles:m}=useLocation(e),{positionClasses:v}=usePosition(e),{roundedClasses:f}=useRounded(e),{textColorClasses:g,textColorStyles:y}=useTextColor(()=>e.borderColor),{t:_}=useLocale(),b=toRef(()=>({"aria-label":_(e.closeLabel),onClick(e){r.value=!1,a("click:close",e)}}));return()=>{const t=!(!o.prepend&&!n.value),a=!(!o.title&&!e.title),_=!(!o.close&&!e.closable),w={density:e.density,icon:n.value,size:e.iconSize||e.prominent?i.value:void 0};return r.value&&createVNode(e.tag,{class:normalizeClass(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},l.value,s.value,u.value,h.value,v.value,f.value,d.value,e.class]),style:normalizeStyle([c.value,p.value,m.value,e.style]),role:"alert"},{default:()=>{var r,i;return[genOverlays(!1,"v-alert"),e.border&&createBaseVNode("div",{key:"border",class:normalizeClass(["v-alert__border",g.value]),style:normalizeStyle(y.value)},null),t&&createBaseVNode("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!n.value,defaults:{VIcon:{...w}}},o.prepend):createVNode(VIcon,mergeProps({key:"prepend-icon"},w),null)]),createBaseVNode("div",{class:"v-alert__content"},[a&&createVNode(VAlertTitle,{key:"title"},{default:()=>{var t;return[(null==(t=o.title)?void 0:t.call(o))??e.title]}}),(null==(r=o.text)?void 0:r.call(o))??e.text,null==(i=o.default)?void 0:i.call(o)]),o.append&&createBaseVNode("div",{key:"append",class:"v-alert__append"},[o.append()]),_&&createBaseVNode("div",{key:"close",class:"v-alert__close"},[o.close?createVNode(VDefaultsProvider,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var e;return[null==(e=o.close)?void 0:e.call(o,{props:b.value})]}}):createVNode(VBtn,mergeProps({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},b.value),null)])]}})}}}),makeVBannerActionsProps=propsFactory({color:String,density:String,...makeComponentProps()},"VBannerActions"),VBannerActions=genericComponent()({name:"VBannerActions",props:makeVBannerActionsProps(),setup(e,t){let{slots:a}=t;return provideDefaults({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-banner-actions",e.class]),style:normalizeStyle(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),VBannerText=createSimpleFunctional("v-banner-text"),makeVBannerProps=propsFactory({avatar:String,bgColor:String,color:String,icon:IconValue,lines:String,stacked:Boolean,sticky:Boolean,text:String,...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeDimensionProps(),...makeDisplayProps({mobile:null}),...makeElevationProps(),...makeLocationProps(),...makePositionProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VBanner"),VBanner=genericComponent()({name:"VBanner",props:makeVBannerProps(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:o,backgroundColorStyles:r}=useBackgroundColor(()=>e.bgColor),{borderClasses:n}=useBorder(e),{densityClasses:i}=useDensity(e),{displayClasses:l,mobile:s}=useDisplay(e),{dimensionStyles:c}=useDimension(e),{elevationClasses:d}=useElevation(e),{locationStyles:u}=useLocation(e),{positionClasses:p}=usePosition(e),{roundedClasses:h}=useRounded(e),{themeClasses:m}=provideTheme(e),v=toRef(()=>e.color),f=toRef(()=>e.density);provideDefaults({VBannerActions:{color:v,density:f}}),useRender(()=>{const t=!(!e.text&&!a.text),g=!(!e.avatar&&!e.icon),y=!(!g&&!a.prepend);return createVNode(e.tag,{class:normalizeClass(["v-banner",{"v-banner--stacked":e.stacked||s.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},m.value,o.value,n.value,i.value,l.value,d.value,p.value,h.value,e.class]),style:normalizeStyle([r.value,c.value,u.value,e.style]),role:"banner"},{default:()=>{var o;return[y&&createBaseVNode("div",{key:"prepend",class:"v-banner__prepend"},[a.prepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",disabled:!g,defaults:{VAvatar:{color:v.value,density:f.value,icon:e.icon,image:e.avatar}}},a.prepend):createVNode(VAvatar,{key:"prepend-avatar",color:v.value,density:f.value,icon:e.icon,image:e.avatar},null)]),createBaseVNode("div",{class:"v-banner__content"},[t&&createVNode(VBannerText,{key:"text"},{default:()=>{var t;return[(null==(t=a.text)?void 0:t.call(a))??e.text]}}),null==(o=a.default)?void 0:o.call(a)]),a.actions&&createVNode(VBannerActions,{key:"actions"},a.actions)]}})})}}),makeVBottomNavigationProps=propsFactory({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...makeBorderProps(),...makeComponentProps(),...makeDensityProps(),...makeElevationProps(),...makeRoundedProps(),...makeLayoutItemProps({name:"bottom-navigation"}),...makeTagProps({tag:"header"}),...makeGroupProps({selectedClass:"v-btn--selected"}),...makeThemeProps()},"VBottomNavigation"),VBottomNavigation=genericComponent()({name:"VBottomNavigation",props:makeVBottomNavigationProps(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:o}=useTheme(),{borderClasses:r}=useBorder(e),{backgroundColorClasses:n,backgroundColorStyles:i}=useBackgroundColor(()=>e.bgColor),{densityClasses:l}=useDensity(e),{elevationClasses:s}=useElevation(e),{roundedClasses:c}=useRounded(e),{ssrBootStyles:d}=useSsrBoot(),u=computed(()=>Number(e.height)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0)),p=useProxiedModel(e,"active",e.active),{layoutItemStyles:h}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(()=>"bottom"),layoutSize:toRef(()=>p.value?u.value:0),elementSize:u,active:p,absolute:toRef(()=>e.absolute)});return useGroup(e,VBtnToggleSymbol),provideDefaults({VBtn:{baseColor:toRef(()=>e.baseColor),color:toRef(()=>e.color),density:toRef(()=>e.density),stacked:toRef(()=>"horizontal"!==e.mode),variant:"text"}},{scoped:!0}),useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-bottom-navigation",{"v-bottom-navigation--active":p.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":"shift"===e.mode},o.value,n.value,r.value,l.value,s.value,c.value,e.class]),style:normalizeStyle([i.value,h.value,{height:convertToUnit(u.value)},d.value,e.style])},{default:()=>[a.default&&createBaseVNode("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),makeVCarouselProps=propsFactory({color:String,cycle:Boolean,delimiterIcon:{type:IconValue,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...makeVWindowProps({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),VCarousel=genericComponent()({name:"VCarousel",props:makeVCarouselProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),{t:r}=useLocale(),n=ref$1();let i=-1;function l(){e.cycle&&n.value&&(i=window.setTimeout(n.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function s(){window.clearTimeout(i),window.requestAnimationFrame(l)}return watch(o,s),watch(()=>e.interval,s),watch(()=>e.cycle,e=>{e?s():window.clearTimeout(i)}),onMounted(l),useRender(()=>{const t=VWindow.filterProps(e);return createVNode(VWindow,mergeProps({ref:n},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:convertToUnit(e.height)},e.style]}),{default:a.default,additional:t=>{let{group:n}=t;return createBaseVNode(Fragment,null,[!e.hideDelimiters&&createBaseVNode("div",{class:"v-carousel__controls",style:{left:"left"===e.verticalDelimiters&&e.verticalDelimiters?0:"auto",right:"right"===e.verticalDelimiters?0:"auto"}},[n.items.value.length>0&&createVNode(VDefaultsProvider,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[n.items.value.map((e,t)=>{const o={id:`carousel-item-${e.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",t+1,n.items.value.length),class:["v-carousel__controls__item",n.isSelected(e.id)&&"v-btn--active"],onClick:()=>n.select(e.id,!0)};return a.item?a.item({props:o,item:e}):createVNode(VBtn,mergeProps(e,o),null)})]})]),e.progress&&createVNode(VProgressLinear,{absolute:!0,class:"v-carousel__progress",color:"string"==typeof e.progress?e.progress:void 0,modelValue:(n.getItemIndex(o.value)+1)/n.items.value.length*100},null)])},prev:a.prev,next:a.next})}),{}}}),makeVCarouselItemProps=propsFactory({...makeVImgProps(),...makeVWindowItemProps()},"VCarouselItem"),VCarouselItem=genericComponent()({name:"VCarouselItem",inheritAttrs:!1,props:makeVCarouselItemProps(),setup(e,t){let{slots:a,attrs:o}=t;useRender(()=>{const t=VImg.filterProps(e),r=VWindowItem.filterProps(e);return createVNode(VWindowItem,mergeProps({class:["v-carousel-item",e.class]},r),{default:()=>[createVNode(VImg,mergeProps(o,t),a)]})})}}),VCode=createSimpleFunctional("v-code","code"),makeVColorPickerCanvasProps=propsFactory({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...makeComponentProps()},"VColorPickerCanvas"),VColorPickerCanvas=defineComponent({name:"VColorPickerCanvas",props:makeVColorPickerCanvasProps(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:a}=t;const o=shallowRef(!1),r=ref$1(),n=shallowRef(parseFloat(e.width)),i=shallowRef(parseFloat(e.height)),l=ref$1({x:0,y:0}),s=computed({get:()=>l.value,set(t){var o,s;if(!r.value)return;const{x:c,y:d}=t;l.value=t,a("update:color",{h:(null==(o=e.color)?void 0:o.h)??0,s:clamp(c,0,n.value)/n.value,v:1-clamp(d,0,i.value)/i.value,a:(null==(s=e.color)?void 0:s.a)??1})}}),c=computed(()=>{const{x:t,y:a}=s.value,o=parseInt(e.dotSize,10)/2;return{width:convertToUnit(e.dotSize),height:convertToUnit(e.dotSize),transform:`translate(${convertToUnit(t-o)}, ${convertToUnit(a-o)})`}}),{resizeRef:d}=useResizeObserver(e=>{var t;if(!(null==(t=d.el)?void 0:t.offsetParent))return;const{width:a,height:o}=e[0].contentRect;n.value=a,i.value=o});function u(t){"mousedown"===t.type&&t.preventDefault(),e.disabled||(p(t),window.addEventListener("mousemove",p),window.addEventListener("mouseup",h),window.addEventListener("touchmove",p),window.addEventListener("touchend",h))}function p(t){if(e.disabled||!r.value)return;o.value=!0;const a=getEventCoordinates(t);!function(e,t,a){const{left:o,top:r,width:n,height:i}=a;s.value={x:clamp(e-o,0,n),y:clamp(t-r,0,i)}}(a.clientX,a.clientY,r.value.getBoundingClientRect())}function h(){window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",h)}function m(){var t;if(!r.value)return;const a=r.value,o=a.getContext("2d");if(!o)return;const n=o.createLinearGradient(0,0,a.width,0);n.addColorStop(0,"hsla(0, 0%, 100%, 1)"),n.addColorStop(1,`hsla(${(null==(t=e.color)?void 0:t.h)??0}, 100%, 50%, 1)`),o.fillStyle=n,o.fillRect(0,0,a.width,a.height);const i=o.createLinearGradient(0,0,0,a.height);i.addColorStop(0,"hsla(0, 0%, 0%, 0)"),i.addColorStop(1,"hsla(0, 0%, 0%, 1)"),o.fillStyle=i,o.fillRect(0,0,a.width,a.height)}return watch(()=>{var t;return null==(t=e.color)?void 0:t.h},m,{immediate:!0}),watch(()=>[n.value,i.value],(e,t)=>{m(),l.value={x:s.value.x*e[0]/t[0],y:s.value.y*e[1]/t[1]}},{flush:"post"}),watch(()=>e.color,()=>{o.value?o.value=!1:l.value=e.color?{x:e.color.s*n.value,y:(1-e.color.v)*i.value}:{x:0,y:0}},{deep:!0,immediate:!0}),onMounted(()=>m()),useRender(()=>createBaseVNode("div",{ref:d,class:normalizeClass(["v-color-picker-canvas",e.class]),style:normalizeStyle(e.style),onMousedown:u,onTouchstartPassive:u},[createBaseVNode("canvas",{ref:r,width:n.value,height:i.value},null),e.color&&createBaseVNode("div",{class:normalizeClass(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:normalizeStyle(c.value)},null)])),{}}});function stripAlpha(e,t){if(t){const{a:t,...a}=e;return a}return e}function extractColor(e,t){if(null==t||"string"==typeof t){const a=1!==e.a;if(null==t?void 0:t.startsWith("rgb(")){const{r:t,g:o,b:r,a:n}=HSVtoRGB(e);return`rgb(${t} ${o} ${r}`+(a?` / ${n})`:")")}if(null==t?void 0:t.startsWith("hsl(")){const{h:t,s:o,l:r,a:n}=HSVtoHSL(e);return`hsl(${t} ${Math.round(100*o)} ${Math.round(100*r)}`+(a?` / ${n})`:")")}const o=HSVtoHex(e);return 1===e.a?o.slice(0,7):o}if("object"==typeof t){let a;return has(t,["r","g","b"])?a=HSVtoRGB(e):has(t,["h","s","l"])?a=HSVtoHSL(e):has(t,["h","s","v"])&&(a=e),stripAlpha(a,!has(t,["a"])&&1===e.a)}return e}const nullColor={h:0,s:0,v:0,a:1},rgba={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return null!=t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:HSVtoRGB,from:RGBtoHSV},rgb={...rgba,inputs:null==(_a=rgba.inputs)?void 0:_a.slice(0,3)},hsla={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:e=>Math.round(100*e.s)/100,getColor:(e,t)=>({...e,s:Number(t)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:e=>Math.round(100*e.l)/100,getColor:(e,t)=>({...e,l:Number(t)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return null!=t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:HSVtoHSL,from:HSLtoHSV},hsl={...hsla,inputs:hsla.inputs.slice(0,3)},hexa={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t,localeKey:"hexaInput"}],to:HSVtoHex,from:HexToHSV},hex={...hexa,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t,localeKey:"hexInput"}]},modes={rgb:rgb,rgba:rgba,hsl:hsl,hsla:hsla,hex:hex,hexa:hexa},VColorPickerInput=e=>{let{label:t,...a}=e;return createBaseVNode("div",{class:"v-color-picker-edit__input"},[createBaseVNode("input",normalizeProps(guardReactiveProps(a)),null),createBaseVNode("span",null,[t])])},makeVColorPickerEditProps=propsFactory({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(modes).includes(e)},modes:{type:Array,default:()=>Object.keys(modes),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(modes).includes(e))},...makeComponentProps()},"VColorPickerEdit"),VColorPickerEdit=defineComponent({name:"VColorPickerEdit",props:makeVColorPickerEditProps(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:a}=t;const{t:o}=useLocale(),r=computed(()=>e.modes.map(e=>({...modes[e],name:e}))),n=computed(()=>{var t;const n=r.value.find(t=>t.name===e.mode);if(!n)return[];const i=e.color?n.to(e.color):null;return null==(t=n.inputs)?void 0:t.map(t=>{let{getValue:r,getColor:l,localeKey:s,...c}=t;return{...n.inputProps,...c,ariaLabel:o(`$vuetify.colorPicker.ariaLabel.${s}`),disabled:e.disabled,value:i&&r(i),onChange:e=>{const t=e.target;t&&a("update:color",n.from(l(i??n.to(nullColor),t.value)))}}})});return useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-color-picker-edit",e.class]),style:normalizeStyle(e.style)},[null==(t=n.value)?void 0:t.map(e=>createVNode(VColorPickerInput,e,null)),r.value.length>1&&createVNode(VBtn,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":o("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const t=r.value.findIndex(t=>t.name===e.mode);a("update:mode",r.value[(t+1)%r.value.length].name)}},null)])}),{}}}),makeVColorPickerPreviewProps=propsFactory({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:IconValue,default:"$eyeDropper"},...makeComponentProps()},"VColorPickerPreview"),VColorPickerPreview=defineComponent({name:"VColorPickerPreview",props:makeVColorPickerPreviewProps(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;const{t:o}=useLocale(),r=new AbortController;async function n(){if(!SUPPORTS_EYE_DROPPER||e.disabled)return;const t=new window.EyeDropper;try{const o=await t.open({signal:r.signal}),n=RGBtoHSV(parseColor(o.sRGBHex));a("update:color",{...e.color??nullColor,...n})}catch(e2){}}return onUnmounted(()=>r.abort()),useRender(()=>{var t,r;return createBaseVNode("div",{class:normalizeClass(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:normalizeStyle(e.style)},[SUPPORTS_EYE_DROPPER&&!e.hideEyeDropper&&createBaseVNode("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[createVNode(VBtn,{"aria-label":o("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:e.disabled,icon:e.eyeDropperIcon,variant:"plain",onClick:n},null)]),createBaseVNode("div",{class:"v-color-picker-preview__dot"},[createBaseVNode("div",{style:{background:HSVtoCSS(e.color??nullColor)}},null)]),createBaseVNode("div",{class:"v-color-picker-preview__sliders"},[createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:o("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:null==(t=e.color)?void 0:t.h,"onUpdate:modelValue":t=>a("update:color",{...e.color??nullColor,h:t}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&createVNode(VSlider,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:o("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:(null==(r=e.color)?void 0:r.a)??1,"onUpdate:modelValue":t=>a("update:color",{...e.color??nullColor,a:t}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),red={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},pink={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},purple={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},deepPurple={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},indigo={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},blue={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},lightBlue={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},cyan={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},teal={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},green={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},lightGreen={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},lime={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},yellow={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},amber={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},orange={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},deepOrange={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},brown={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},blueGrey={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},grey={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},shades={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},colors={red:red,pink:pink,purple:purple,deepPurple:deepPurple,indigo:indigo,blue:blue,lightBlue:lightBlue,cyan:cyan,teal:teal,green:green,lightGreen:lightGreen,lime:lime,yellow:yellow,amber:amber,orange:orange,deepOrange:deepOrange,brown:brown,blueGrey:blueGrey,grey:grey,shades:shades},makeVColorPickerSwatchesProps=propsFactory({swatches:{type:Array,default:()=>parseDefaultColors(colors)},disabled:Boolean,color:Object,maxHeight:[Number,String],...makeComponentProps()},"VColorPickerSwatches");function parseDefaultColors(e){return Object.keys(e).map(t=>{const a=e[t];return a.base?[a.base,a.darken4,a.darken3,a.darken2,a.darken1,a.lighten1,a.lighten2,a.lighten3,a.lighten4,a.lighten5]:[a.black,a.white,a.transparent]})}const VColorPickerSwatches=defineComponent({name:"VColorPickerSwatches",props:makeVColorPickerSwatchesProps(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;return useRender(()=>createBaseVNode("div",{class:normalizeClass(["v-color-picker-swatches",e.class]),style:normalizeStyle([{maxHeight:convertToUnit(e.maxHeight)},e.style])},[createBaseVNode("div",null,[e.swatches.map(t=>createBaseVNode("div",{class:"v-color-picker-swatches__swatch"},[t.map(t=>{const o=parseColor(t),r=RGBtoHSV(o),n=RGBtoCSS(o);return createBaseVNode("div",{class:"v-color-picker-swatches__color",onClick:()=>r&&a("update:color",r)},[createBaseVNode("div",{style:{background:n}},[e.color&&deepEqual$1(e.color,r)?createVNode(VIcon,{size:"x-small",icon:"$success",color:getContrast(t,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),makeVColorPickerProps=propsFactory({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(modes).includes(e)},modes:{type:Array,default:()=>Object.keys(modes),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(modes).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...makeVPickerProps({hideHeader:!0}),...pick(makeVColorPickerPreviewProps(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),VColorPicker=defineComponent({name:"VColorPicker",props:makeVColorPickerProps(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"mode"),r=ref$1(null),n=useProxiedModel(e,"modelValue",void 0,e=>{if(null==e||""===e)return null;let t;try{t=RGBtoHSV(parseColor(e))}catch(a){return null}return t},t=>t?extractColor(t,e.modelValue):null),i=computed(()=>n.value?{...n.value,h:r.value??n.value.h}:null),{rtlClasses:l}=useRtl();let s=!0;watch(n,e=>{s?e&&(r.value=e.h):s=!0},{immediate:!0});const c=e=>{s=!1,r.value=e.h,n.value=e};return onBeforeMount(()=>{e.modes.includes(o.value)||(o.value=e.modes[0])}),provideDefaults({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),useRender(()=>{const t=VPicker.filterProps(e);return createVNode(VPicker,mergeProps(t,{class:["v-color-picker",l.value,e.class],style:[{"--v-color-picker-color-hsv":HSVtoCSS({...i.value??nullColor,a:1})},e.style]}),{...a,default:()=>createBaseVNode(Fragment,null,[!e.hideCanvas&&createVNode(VColorPickerCanvas,{key:"canvas",color:i.value,"onUpdate:color":c,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&createBaseVNode("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&createVNode(VColorPickerPreview,{key:"preview",color:i.value,"onUpdate:color":c,hideAlpha:!o.value.endsWith("a"),disabled:e.disabled,hideEyeDropper:e.hideEyeDropper,eyeDropperIcon:e.eyeDropperIcon},null),!e.hideInputs&&createVNode(VColorPickerEdit,{key:"edit",modes:e.modes,mode:o.value,"onUpdate:mode":e=>o.value=e,color:i.value,"onUpdate:color":c,disabled:e.disabled},null)]),e.showSwatches&&createVNode(VColorPickerSwatches,{key:"swatches",color:i.value,"onUpdate:color":c,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),makeVComboboxProps=propsFactory({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...makeFilterProps({filterKeys:["title"]}),...makeSelectProps({hideNoData:!0,returnObject:!0}),...omit(makeVTextFieldProps({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VCombobox"),VCombobox=genericComponent()({name:"VCombobox",props:makeVComboboxProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var a;let{emit:o,slots:r}=t;const{t:n}=useLocale(),i=ref$1(),l=shallowRef(!1),s=shallowRef(!0),c=shallowRef(!1),d=ref$1(),u=ref$1(),p=shallowRef(-1);let h=!1;const{items:m,transformIn:v,transformOut:f}=useItems(e),{textColorClasses:g,textColorStyles:y}=useTextColor(()=>{var e;return null==(e=i.value)?void 0:e.color}),_=useProxiedModel(e,"modelValue",[],e=>v(wrapInArray(e)),t=>{const a=f(t);return e.multiple?a:a[0]??null}),b=useForm(e),w=computed(()=>!(!e.chips&&!r.chip)),x=computed(()=>w.value||!!r.selection),V=shallowRef(e.multiple||x.value?"":(null==(a=_.value[0])?void 0:a.title)??""),k=shallowRef(null),C=computed({get:()=>V.value,set:async t=>{var a;if(V.value=t??"",null===t||""===t&&!e.multiple&&!x.value?_.value=[]:e.multiple||x.value||(_.value=[transformItem$3(e,t)],nextTick(()=>{var e;return null==(e=u.value)?void 0:e.scrollToIndex(0)})),t&&e.multiple&&(null==(a=e.delimiters)?void 0:a.length)){const a=e.delimiters.map(escapeForRegex).join("|"),o=t.split(new RegExp(`(?:${a})+`));if(o.length>1){for(let t of o)t=t.trim(),t&&(Y(transformItem$3(e,t)),await nextTick());V.value=""}}t||(p.value=-1),s.value=!t}}),S=computed(()=>"function"==typeof e.counterValue?e.counterValue(_.value):"number"==typeof e.counterValue?e.counterValue:e.multiple?_.value.length:C.value.length),{filteredItems:N,getMatches:T}=useFilter(e,m,()=>k.value??(e.alwaysFilter||!s.value?C.value:"")),B=computed(()=>e.hideSelected&&null===k.value?N.value.filter(e=>!_.value.some(t=>t.value===e.value)):N.value),E=computed(()=>e.hideNoData&&!B.value.length||b.isReadonly.value||b.isDisabled.value),I=useProxiedModel(e,"menu"),$=computed({get:()=>I.value,set:e=>{var t;I.value&&!e&&(null==(t=d.value)?void 0:t.ΨopenChildren.size)||e&&E.value||(I.value=e)}}),{menuId:P,ariaExpanded:D,ariaControls:L,ariaLabel:R}=useMenuActivator(e,$);watch(V,e=>{h?nextTick(()=>h=!1):l.value&&!$.value&&($.value=!0),o("update:search",e)}),watch(_,t=>{var a;e.multiple||x.value||(V.value=(null==(a=t[0])?void 0:a.title)??"")});const A=computed(()=>_.value.map(e=>e.value)),O=computed(()=>{var t;return(!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&C.value===(null==(t=B.value[0])?void 0:t.title))&&B.value.length>0&&!s.value&&!c.value}),M=ref$1(),F=useScrolling(M,i);function z(t){h=!0,nextTick(()=>h=!1),e.openOnClear&&($.value=!0)}function H(){E.value||($.value=!0)}function q(e){E.value||(l.value&&(e.preventDefault(),e.stopPropagation()),$.value=!$.value)}function U(e){var t;(checkPrintable(e)||"Backspace"===e.key)&&(null==(t=i.value)||t.focus())}function W(t){var a,o,r,n;if(isComposingIgnoreKey(t)||b.isReadonly.value)return;const l=null==(a=i.value)?void 0:a.selectionStart,s=_.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&($.value=!0),["Escape"].includes(t.key)&&($.value=!1),O.value&&["Enter","Tab"].includes(t.key)&&!_.value.some(e=>{let{value:t}=e;return t===B.value[0].value})&&Y(N.value[0]),"ArrowDown"===t.key&&O.value&&(null==(o=M.value)||o.focus("next")),"Enter"===t.key&&C.value&&(Y(transformItem$3(e,C.value),!0,!0),x.value&&(V.value="")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&x.value&&_.value.length>0&&!C.value)return Y(_.value[0],!1);if(~p.value){t.preventDefault();const e=p.value;Y(_.value[p.value],!1),p.value=e>=s-1?s-2:e}else"Backspace"!==t.key||C.value||(p.value=s-1)}else if(e.multiple)if("ArrowLeft"===t.key){if(p.value<0&&l&&l>0)return;const e=p.value>-1?p.value-1:s-1;_.value[e]?p.value=e:(p.value=-1,null==(r=i.value)||r.setSelectionRange(C.value.length,C.value.length))}else if("ArrowRight"===t.key){if(p.value<0)return;const e=p.value+1;_.value[e]?p.value=e:(p.value=-1,null==(n=i.value)||n.setSelectionRange(0,0))}else~p.value&&checkPrintable(t)&&(p.value=-1)}function j(){var t;e.eager&&(null==(t=u.value)||t.calculateVisibleItems())}function G(){var e;l.value&&(null==(e=i.value)||e.focus()),s.value=!0,k.value=null}function Y(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&!t.props.disabled)if(e.multiple){const o=_.value.findIndex(a=>(e.valueComparator||deepEqual$1)(a.value,t.value)),r=null==a?!~o:a;if(~o){const e=r?[..._.value,t]:[..._.value];e.splice(o,1),_.value=e}else r&&(_.value=[..._.value,t]);e.clearOnSelect&&(C.value="")}else{const r=!1!==a;_.value=r?[t]:[],s.value&&!e.alwaysFilter||!V.value||(k.value=V.value),V.value=r&&!x.value?t.title:"",nextTick(()=>{$.value=o,s.value=!0})}}function K(e){l.value=!0,setTimeout(()=>{c.value=!0})}function X(e){c.value=!1}return watch(l,(t,a)=>{if(!t&&t!==a&&(p.value=-1,$.value=!1,C.value)){if(e.multiple)return void Y(transformItem$3(e,C.value));if(!x.value)return;_.value.some(e=>{let{title:t}=e;return t===C.value})?V.value="":Y(transformItem$3(e,C.value))}}),watch($,t=>{if(!e.hideSelected&&t&&_.value.length&&s.value){const t=B.value.findIndex(t=>_.value.some(a=>(e.valueComparator||deepEqual$1)(a.value,t.value)));IN_BROWSER&&window.requestAnimationFrame(()=>{var e;t>=0&&(null==(e=u.value)||e.scrollToIndex(t))})}t&&(k.value=null)}),watch(m,(e,t)=>{$.value||l.value&&!t.length&&e.length&&($.value=!0)}),useRender(()=>{const t=!!(!e.hideNoData||B.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),a=_.value.length>0,o=VTextField.filterProps(e);return createVNode(VTextField,mergeProps({ref:i},o,{modelValue:C.value,"onUpdate:modelValue":e=>C.value=e,focused:l.value,"onUpdate:focused":e=>l.value=e,validationValue:_.externalValue,counterValue:S.value,dirty:a,class:["v-combobox",{"v-combobox--active-menu":$.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!x.value,"v-combobox--selecting-index":p.value>-1,["v-combobox--"+(e.multiple?"multiple":"single")]:!0},e.class],style:e.style,readonly:b.isReadonly.value,placeholder:a?void 0:e.placeholder,"onClick:clear":z,"onMousedown:control":H,onKeydown:W,"aria-expanded":D.value,"aria-controls":L.value}),{...r,default:()=>createBaseVNode(Fragment,null,[createVNode(VMenu,mergeProps({id:P.value,ref:d,modelValue:$.value,"onUpdate:modelValue":e=>$.value=e,activator:"parent",contentClass:"v-combobox__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:j,onAfterLeave:G},e.menuProps),{default:()=>[t&&createVNode(VList,mergeProps({ref:M,filterable:!0,selected:A.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),selectable:!0,onKeydown:U,onFocusin:K,onFocusout:X,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},F,e.listProps),{default:()=>{var t,a,o;return[null==(t=r["prepend-item"])?void 0:t.call(r),!B.value.length&&!e.hideNoData&&((null==(a=r["no-data"])?void 0:a.call(r))??createVNode(VListItem,{key:"no-data",title:n(e.noDataText)},null)),createVNode(VVirtualScroll,{ref:u,renderless:!0,items:B.value,itemKey:"value"},{default:t=>{var a,o,n;let{item:i,index:l,itemRef:c}=t;const d=mergeProps(i.props,{ref:c,key:i.value,active:!(!O.value||0!==l)||void 0,onClick:()=>Y(i,null)});return"divider"===i.type?(null==(a=r.divider)?void 0:a.call(r,{props:i.raw,index:l}))??createVNode(VDivider,mergeProps(i.props,{key:`divider-${l}`}),null):"subheader"===i.type?(null==(o=r.subheader)?void 0:o.call(r,{props:i.raw,index:l}))??createVNode(VListSubheader,mergeProps(i.props,{key:`subheader-${l}`}),null):(null==(n=r.item)?void 0:n.call(r,{item:i,index:l,props:d}))??createVNode(VListItem,mergeProps(d,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return createBaseVNode(Fragment,null,[e.multiple&&!e.hideSelected?createVNode(VCheckboxBtn,{key:i.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,i.props.prependAvatar&&createVNode(VAvatar,{image:i.props.prependAvatar},null),i.props.prependIcon&&createVNode(VIcon,{icon:i.props.prependIcon},null)])},title:()=>{var e;return s.value?i.title:highlightResult("v-combobox",i.title,null==(e=T(i))?void 0:e.title)}})}}),null==(o=r["append-item"])?void 0:o.call(r)]}})]}),_.value.map((t,a)=>{function o(e){e.stopPropagation(),e.preventDefault(),Y(t,!1)}const n={"onClick:close":o,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),o(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},i=w.value?!!r.chip:!!r.selection,l=i?ensureValidVNode(w.value?r.chip({item:t,index:a,props:n}):r.selection({item:t,index:a})):void 0;if(!i||l)return createBaseVNode("div",{key:t.value,class:normalizeClass(["v-combobox__selection",a===p.value&&["v-combobox__selection--selected",g.value]]),style:normalizeStyle(a===p.value?y.value:{})},[w.value?r.chip?createVNode(VDefaultsProvider,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:t.title}}},{default:()=>[l]}):createVNode(VChip,mergeProps({key:"chip",closable:e.closableChips,size:"small",text:t.title,disabled:t.props.disabled},n),null):l??createBaseVNode("span",{class:"v-combobox__selection-text"},[t.title,e.multiple&&a<_.value.length-1&&createBaseVNode("span",{class:"v-combobox__selection-comma"},[createTextVNode(",")])])])})]),"append-inner":function(){for(var t,a,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return createBaseVNode(Fragment,null,[null==(t=r["append-inner"])?void 0:t.call(r,...n),e.hideNoData&&!e.items.length||!e.menuIcon?void 0:createVNode(VIcon,{class:"v-combobox__menu-icon",color:null==(a=i.value)?void 0:a.fieldIconColor,icon:e.menuIcon,onMousedown:q,onClick:noop$1,"aria-label":R.value,title:R.value,tabindex:"-1"},null)])}})}),forwardRefs({isFocused:l,isPristine:s,menu:$,search:C,selectionIndex:p,filteredItems:N,select:Y},i)}}),makeVConfirmEditProps=propsFactory({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),VConfirmEdit=genericComponent()({name:"VConfirmEdit",props:makeVConfirmEditProps(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const r=useProxiedModel(e,"modelValue"),n=ref$1();watchEffect(()=>{n.value=structuredClone(toRaw(r.value))});const{t:i}=useLocale(),l=computed(()=>deepEqual$1(r.value,n.value));function s(t){return"boolean"==typeof e.disabled?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(t):l.value}const c=computed(()=>s("save")),d=computed(()=>s("cancel"));function u(){r.value=n.value,a("save",n.value)}function p(){n.value=structuredClone(toRaw(r.value)),a("cancel")}function h(t){return createBaseVNode(Fragment,null,[createVNode(VBtn,mergeProps({disabled:d.value,variant:"text",color:e.color,onClick:p,text:i(e.cancelText)},t),null),createVNode(VBtn,mergeProps({disabled:c.value,variant:"text",color:e.color,onClick:u,text:i(e.okText)},t),null)])}let m=!1;return useRender(()=>{var t;return createBaseVNode(Fragment,null,[null==(t=o.default)?void 0:t.call(o,{model:n,save:u,cancel:p,isPristine:l.value,get actions(){return m=!0,h}}),!e.hideActions&&!m&&h()])}),{save:u,cancel:p,isPristine:l}}}),makeDataIteratorItemsProps=propsFactory({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function transformItem(e,t){return{type:"item",value:e.returnObject?t:getPropertyFromItem(t,e.itemValue),selectable:getPropertyFromItem(t,e.itemSelectable,!0),raw:t}}function transformItems(e,t){const a=[];for(const o of t)a.push(transformItem(e,o));return a}function useDataIteratorItems(e){return{items:computed(()=>transformItems(e,e.items))}}const makeVDataIteratorProps=propsFactory({search:String,loading:Boolean,...makeComponentProps(),...makeDataIteratorItemsProps(),...makeDataTableSelectProps(),...makeDataTableSortProps(),...makeDataTablePaginateProps({itemsPerPage:5}),...makeDataTableExpandProps(),...makeDataTableGroupProps(),...makeFilterProps(),...makeTagProps(),...makeTransitionProps$1({transition:{component:VFadeTransition,hideOnLeave:!0}})},"VDataIterator"),VDataIterator=genericComponent()({name:"VDataIterator",props:makeVDataIteratorProps(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"groupBy"),r=toRef(()=>e.search),{items:n}=useDataIteratorItems(e),{filteredItems:i}=useFilter(e,n,r,{transform:e=>e.raw}),{sortBy:l,multiSort:s,mustSort:c}=createSort(e),{page:d,itemsPerPage:u}=createPagination(e),{toggleSort:p}=provideSort({sortBy:l,multiSort:s,mustSort:c,page:d}),{sortByWithGroups:h,opened:m,extractRows:v,isGroupOpen:f,toggleGroup:g}=provideGroupBy({groupBy:o,sortBy:l}),{sortedItems:y}=useSortedItems(e,i,h,{transform:e=>e.raw}),{flatItems:_}=useGroupedItems(y,o,m,!1),b=toRef(()=>_.value.length),{startIndex:w,stopIndex:x,pageCount:V,prevPage:k,nextPage:C,setItemsPerPage:S,setPage:N}=providePagination({page:d,itemsPerPage:u,itemsLength:b}),{paginatedItems:T}=usePaginatedItems({items:_,startIndex:w,stopIndex:x,itemsPerPage:u}),B=computed(()=>v(T.value)),{isSelected:E,select:I,selectAll:$,toggleSelect:P}=provideSelection(e,{allItems:n,currentPage:B}),{isExpanded:D,toggleExpand:L}=provideExpanded(e);useOptions({page:d,itemsPerPage:u,sortBy:l,groupBy:o,search:r});const R=computed(()=>({page:d.value,itemsPerPage:u.value,sortBy:l.value,pageCount:V.value,toggleSort:p,prevPage:k,nextPage:C,setPage:N,setItemsPerPage:S,isSelected:E,select:I,selectAll:$,toggleSelect:P,isExpanded:D,toggleExpand:L,isGroupOpen:f,toggleGroup:g,items:B.value,itemsCount:i.value.length,groupedItems:T.value}));return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:normalizeStyle(e.style)},{default:()=>{var t,o;return[null==(t=a.header)?void 0:t.call(a,R.value),createVNode(MaybeTransition,{transition:e.transition},{default:()=>{var t,o;return[e.loading?createVNode(LoaderSlot,{key:"loader",name:"v-data-iterator",active:!0},{default:e=>{var t;return null==(t=a.loader)?void 0:t.call(a,e)}}):createBaseVNode("div",{key:"items"},[T.value.length?null==(o=a.default)?void 0:o.call(a,R.value):null==(t=a["no-data"])?void 0:t.call(a)])]}}),null==(o=a.footer)?void 0:o.call(a,R.value)]}})),{}}}),makeVEmptyStateProps=propsFactory({actionText:String,bgColor:String,color:String,icon:IconValue,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...makeComponentProps(),...makeDimensionProps(),...makeSizeProps({size:void 0}),...makeThemeProps()},"VEmptyState"),VEmptyState=genericComponent()({name:"VEmptyState",props:makeVEmptyStateProps(),emits:{"click:action":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const{themeClasses:r}=provideTheme(e),{backgroundColorClasses:n,backgroundColorStyles:i}=useBackgroundColor(()=>e.bgColor),{dimensionStyles:l}=useDimension(e),{displayClasses:s}=useDisplay();function c(e){a("click:action",e)}return useRender(()=>{var t,a,d;const u=!(!o.actions&&!e.actionText),p=!(!o.headline&&!e.headline),h=!(!o.title&&!e.title),m=!(!o.text&&!e.text),v=!!(o.media||e.image||e.icon),f=e.size||(e.image?200:96);return createBaseVNode("div",{class:normalizeClass(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,n.value,s.value,e.class]),style:normalizeStyle([i.value,l.value,e.style])},[v&&createBaseVNode("div",{key:"media",class:"v-empty-state__media"},[o.media?createVNode(VDefaultsProvider,{key:"media-defaults",defaults:{VImg:{src:e.image,height:f},VIcon:{size:f,icon:e.icon}}},{default:()=>[o.media()]}):createBaseVNode(Fragment,null,[e.image?createVNode(VImg,{key:"image",src:e.image,height:f},null):e.icon?createVNode(VIcon,{key:"icon",color:e.color,size:f,icon:e.icon},null):void 0])]),p&&createBaseVNode("div",{key:"headline",class:"v-empty-state__headline"},[(null==(t=o.headline)?void 0:t.call(o))??e.headline]),h&&createBaseVNode("div",{key:"title",class:"v-empty-state__title"},[(null==(a=o.title)?void 0:a.call(o))??e.title]),m&&createBaseVNode("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:convertToUnit(e.textWidth)}},[(null==(d=o.text)?void 0:d.call(o))??e.text]),o.default&&createBaseVNode("div",{key:"content",class:"v-empty-state__content"},[o.default()]),u&&createBaseVNode("div",{key:"actions",class:"v-empty-state__actions"},[createVNode(VDefaultsProvider,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var e;return[(null==(e=o.actions)?void 0:e.call(o,{props:{onClick:c}}))??createVNode(VBtn,{onClick:c},null)]}})])])}),{}}}),makeVFabProps=propsFactory({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...omit(makeVBtnProps({active:!0}),["location","spaced"]),...makeLayoutItemProps(),...makeLocationProps(),...makeTransitionProps$1({transition:"fab-transition"})},"VFab"),VFab=genericComponent()({name:"VFab",props:makeVFabProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),r=shallowRef(56),n=ref$1(),{resizeRef:i}=useResizeObserver(e=>{e.length&&(r.value=e[0].target.clientHeight)}),l=toRef(()=>e.app||e.absolute),s=computed(()=>{var t;return!!l.value&&((null==(t=e.location)?void 0:t.split(" ").shift())??"bottom")}),c=computed(()=>{var t;return!!l.value&&((null==(t=e.location)?void 0:t.split(" ")[1])??"end")});useToggleScope(()=>e.app,()=>{const t=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:s,layoutSize:computed(()=>e.layout?r.value+24:0),elementSize:computed(()=>r.value+24),active:computed(()=>e.app&&o.value),absolute:toRef(()=>e.absolute)});watchEffect(()=>{n.value=t.layoutItemStyles.value})});const d=ref$1();return useRender(()=>{const t=VBtn.filterProps(e);return createBaseVNode("div",{ref:d,class:normalizeClass(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${s.value}`]:l.value,[`v-fab--${c.value}`]:l.value},e.class]),style:normalizeStyle([e.app?{...n.value}:{height:e.absolute?"100%":"inherit"},e.style])},[createBaseVNode("div",{class:"v-fab__container"},[createVNode(MaybeTransition,{appear:e.appear,transition:e.transition},{default:()=>[withDirectives(createVNode(VBtn,mergeProps({ref:i},t,{active:void 0,location:void 0}),a),[[vShow,e.active]])]})])])}),{}}});function useFileDrop(){return{handleDrop:async function(e){var t,a;const o=[],r=[...(null==(t=e.dataTransfer)?void 0:t.items)??[]].filter(e=>"file"===e.kind).map(e=>e.webkitGetAsEntry()).filter(Boolean);if(r.length)for(const n of r){const e=await traverseFileTree(n,appendIfDirectory(".",n));o.push(...e.map(e=>e.file))}else o.push(...(null==(a=e.dataTransfer)?void 0:a.files)??[]);return o},hasFilesOrFolders:function(e){var t,a;return[...(null==(t=e.dataTransfer)?void 0:t.items)??[]].filter(e=>"file"===e.kind).map(e=>e.webkitGetAsEntry()).filter(Boolean).length>0||[...(null==(a=e.dataTransfer)?void 0:a.files)??[]].length>0}}}function traverseFileTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((a,o)=>{if(e.isFile){e.file(e=>a([{file:e,path:t}]),o)}else if(e.isDirectory){e.createReader().readEntries(async e=>{const o=[];for(const a of e)o.push(...await traverseFileTree(a,appendIfDirectory(t,a)));a(o)})}})}function appendIfDirectory(e,t){return t.isDirectory?`${e}/${t.name}`:e}const makeFileFilterProps=propsFactory({filterByType:String},"file-accept");function useFileFilter(e){const t=computed(()=>e.filterByType?createFilter(e.filterByType):null);return{filterAccepted:function(e){if(t.value){const a=e.filter(t.value);return{accepted:a,rejected:e.filter(e=>!a.includes(e))}}return{accepted:e,rejected:[]}}}}function createFilter(e){const t=e.split(",").map(e=>e.trim().toLowerCase()),a=t.filter(e=>e.startsWith(".")),o=t.filter(e=>e.endsWith("/*")),r=t.filter(e=>!a.includes(e)&&!o.includes(e));return e=>{var t,n;const i=(null==(t=e.name.split(".").at(-1))?void 0:t.toLowerCase())??"",l=(null==(n=e.type.split("/").at(0))?void 0:n.toLowerCase())??"";return r.includes(e.type)||a.includes(`.${i}`)||o.includes(`${l}/*`)}}const makeVFileInputProps=propsFactory({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>"boolean"==typeof e||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...makeVInputProps({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>wrapInArray(e).every(e=>null!=e&&"object"==typeof e)},...makeFileFilterProps(),...makeVFieldProps({clearable:!0})},"VFileInput"),VFileInput=genericComponent()({name:"VFileInput",inheritAttrs:!1,props:makeVFileInputProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{t:n}=useLocale(),{filterAccepted:i}=useFileFilter(e),l=useProxiedModel(e,"modelValue",e.modelValue,e=>wrapInArray(e),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:s,focus:c,blur:d}=useFocus(e),u=computed(()=>"boolean"!=typeof e.showSize?e.showSize:void 0),p=computed(()=>(l.value??[]).reduce((e,t)=>{let{size:a=0}=t;return e+a},0)),h=computed(()=>humanReadableFileSize(p.value,u.value)),m=computed(()=>(l.value??[]).map(t=>{const{name:a="",size:o=0}=t,r=function(t){if(t.length<Number(e.truncateLength))return t;const a=Math.floor((Number(e.truncateLength)-1)/2);return`${t.slice(0,a)}…${t.slice(t.length-a)}`}(a);return e.showSize?`${r} (${humanReadableFileSize(o,u.value)})`:r})),v=computed(()=>{var t;const a=(null==(t=l.value)?void 0:t.length)??0;return e.showSize?n(e.counterSizeString,a,h.value):n(e.counterString,a)}),f=ref$1(),g=ref$1(),y=ref$1(),_=toRef(()=>s.value||e.active),b=computed(()=>["plain","underlined"].includes(e.variant)),w=shallowRef(!1),{handleDrop:x,hasFilesOrFolders:V}=useFileDrop();function k(){var e;y.value!==document.activeElement&&(null==(e=y.value)||e.focus()),s.value||c()}function C(e){var t;null==(t=y.value)||t.click()}function S(e){o("mousedown:control",e)}function N(e){var t;null==(t=y.value)||t.click(),o("click:control",e)}function T(t){t.stopPropagation(),k(),nextTick(()=>{l.value=[],callEvent(e["onClick:clear"],t)})}function B(e){e.preventDefault(),e.stopImmediatePropagation(),w.value=!0}function E(e){e.preventDefault(),w.value=!1}async function I(e){if(e.preventDefault(),e.stopImmediatePropagation(),w.value=!1,!y.value||!V(e))return;P(await x(e))}function $(t){if(t.target&&!t.repack)if(e.filterByType)P([...t.target.files]);else{const e=t.target;l.value=[...e.files??[]]}}function P(e){const t=new DataTransfer,{accepted:a,rejected:r}=i(e);r.length&&o("rejected",r);for(const o of a)t.items.add(o);y.value.files=t.files,l.value=[...t.files];const n=new Event("change",{bubbles:!0});n.repack=!0,y.value.dispatchEvent(n)}return watch(l,e=>{(!Array.isArray(e)||!e.length)&&y.value&&(y.value.value="")}),useRender(()=>{const t=!(!r.counter&&!e.counter),o=!(!t&&!r.details),[n,i]=filterInputAttrs(a),{modelValue:c,...u}=VInput.filterProps(e),x={...VField.filterProps(e),"onClick:clear":T},V=void 0!==a.webkitdirectory&&!1!==a.webkitdirectory,P=a.accept?String(a.accept):void 0,D=V?void 0:e.filterByType??P;return createVNode(VInput,mergeProps({ref:f,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":w.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":b.value},e.class],style:e.style,"onClick:prepend":C},n,u,{centerAffix:!b.value,focused:s.value}),{...r,default:t=>{let{id:a,isDisabled:o,isDirty:n,isReadonly:c,isValid:u,hasDetails:v}=t;return createVNode(VField,mergeProps({ref:g,prependIcon:e.prependIcon,onMousedown:S,onClick:N,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},x,{id:a.value,active:_.value||n.value,dirty:n.value||e.dirty,disabled:o.value,focused:s.value,details:v.value,error:!1===u.value,onDragover:B,onDrop:I}),{...r,default:t=>{var a;let{props:{class:n,...s},controlRef:u}=t;return createBaseVNode(Fragment,null,[createBaseVNode("input",mergeProps({ref:e=>y.value=u.value=e,type:"file",accept:D,readonly:c.value,disabled:o.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),c.value&&e.preventDefault(),k()},onChange:$,onDragleave:E,onFocus:k,onBlur:d},s,i),null),createBaseVNode("div",{class:normalizeClass(n)},[!!(null==(a=l.value)?void 0:a.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:m.value,totalBytes:p.value,totalBytesReadable:h.value}):e.chips?m.value.map(e=>createVNode(VChip,{key:e,size:"small",text:e},null)):m.value.join(", "))])])}})},details:o?a=>{var o,n;return createBaseVNode(Fragment,null,[null==(o=r.details)?void 0:o.call(r,a),t&&createBaseVNode(Fragment,null,[createBaseVNode("span",null,null),createVNode(VCounter,{active:!!(null==(n=l.value)?void 0:n.length),value:v.value,disabled:e.disabled},r.counter)])])}:void 0})}),forwardRefs({},f,g,y)}}),makeVHoverProps=propsFactory({disabled:Boolean,modelValue:{type:Boolean,default:null},...makeDelayProps()},"VHover"),VHover=genericComponent()({name:"VHover",props:makeVHoverProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),{runOpenDelay:r,runCloseDelay:n}=useDelay(e,t=>!e.disabled&&(o.value=t));return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isHovering:o.value,props:{onMouseenter:r,onMouseleave:n}})}}}),makeVInfiniteScrollProps=propsFactory({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...makeDimensionProps(),...makeTagProps()},"VInfiniteScroll"),VInfiniteScrollIntersect=defineComponent({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:a}=t;const{intersectionRef:o,isIntersecting:r}=useIntersectionObserver();return watch(r,async t=>{a("intersect",e.side,t)}),useRender(()=>createBaseVNode("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:o},[createTextVNode(" ")])),{}}}),VInfiniteScroll=genericComponent()({name:"VInfiniteScroll",props:makeVInfiniteScrollProps(),emits:{load:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=ref$1(),n=shallowRef("ok"),i=shallowRef("ok"),l=computed(()=>convertToUnit(e.margin)),s=shallowRef(!1);function c(t){if(!r.value)return;const a="vertical"===e.direction?"scrollTop":"scrollLeft";r.value[a]=t}function d(){if(!r.value)return 0;const t="vertical"===e.direction?"scrollTop":"scrollLeft";return r.value[t]}function u(){if(!r.value)return 0;const t="vertical"===e.direction?"scrollHeight":"scrollWidth";return r.value[t]}function p(e,t){"start"===e?n.value=t:"end"===e?i.value=t:"both"===e&&(n.value=t,i.value=t)}onMounted(()=>{r.value&&("start"===e.side?c(u()):"both"===e.side&&c(u()/2-function(){if(!r.value)return 0;const t="vertical"===e.direction?"clientHeight":"clientWidth";return r.value[t]}()/2))});let h=0;function m(e,t){s.value=t,s.value&&v(e)}function v(t){if("manual"!==e.mode&&!s.value)return;const a=function(e){return"start"===e?n.value:i.value}(t);r.value&&!["empty","loading"].includes(a)&&(h=u(),p(t,"loading"),o("load",{side:t,done:function(a){p(t,a),nextTick(()=>{"empty"!==a&&"error"!==a&&("ok"===a&&"start"===t&&c(u()-h+d()),"manual"!==e.mode&&nextTick(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{v(t)})})})}))})}}))}const{t:f}=useLocale();function g(t,o){var r,n,i,l,s;if(e.side!==t&&"both"!==e.side)return;const c=()=>v(t),d={side:t,props:{onClick:c,color:e.color}};return"error"===o?null==(r=a.error)?void 0:r.call(a,d):"empty"===o?(null==(n=a.empty)?void 0:n.call(a,d))??createBaseVNode("div",null,[f(e.emptyText)]):"manual"===e.mode?"loading"===o?(null==(i=a.loading)?void 0:i.call(a,d))??createVNode(VProgressCircular,{indeterminate:!0,color:e.color},null):(null==(l=a["load-more"])?void 0:l.call(a,d))??createVNode(VBtn,{variant:"outlined",color:e.color,onClick:c},{default:()=>[f(e.loadMoreText)]}):(null==(s=a.loading)?void 0:s.call(a,d))??createVNode(VProgressCircular,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:y}=useDimension(e);return useRender(()=>{const t=e.tag,o="start"===e.side||"both"===e.side,s="end"===e.side||"both"===e.side,c="intersect"===e.mode;return createVNode(t,{ref:r,class:normalizeClass(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":o,"v-infinite-scroll--end":s}]),style:normalizeStyle(y.value)},{default:()=>{var e;return[createBaseVNode("div",{class:"v-infinite-scroll__side"},[g("start",n.value)]),o&&c&&createVNode(VInfiniteScrollIntersect,{key:"start",side:"start",onIntersect:m,rootMargin:l.value},null),null==(e=a.default)?void 0:e.call(a),s&&c&&createVNode(VInfiniteScrollIntersect,{key:"end",side:"end",onIntersect:m,rootMargin:l.value},null),createBaseVNode("div",{class:"v-infinite-scroll__side"},[g("end",i.value)])]}})}),{reset:function(t){const a=t??e.side;p(a,"ok"),nextTick(()=>{c(u()-h+d()),"manual"!==e.mode&&nextTick(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{"both"===a?(v("start"),v("end")):v(a)})})})})})}}}}),VItemGroupSymbol=Symbol.for("vuetify:v-item-group"),makeVItemGroupProps=propsFactory({...makeComponentProps(),...makeGroupProps({selectedClass:"v-item--selected"}),...makeTagProps(),...makeThemeProps()},"VItemGroup"),VItemGroup=genericComponent()({name:"VItemGroup",props:makeVItemGroupProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{isSelected:r,select:n,next:i,prev:l,selected:s}=useGroup(e,VItemGroupSymbol);return()=>createVNode(e.tag,{class:normalizeClass(["v-item-group",o.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:r,select:n,next:i,prev:l,selected:s.value})]}})}}),VItem=genericComponent()({name:"VItem",props:makeGroupItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:o,select:r,toggle:n,selectedClass:i,value:l,disabled:s}=useGroupItem(e,VItemGroupSymbol);return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isSelected:o.value,selectedClass:i.value,select:r,toggle:n,value:l.value,disabled:s.value})}}}),makeVKbdProps=propsFactory({color:String,...makeBorderProps(),...makeComponentProps(),...makeRoundedProps(),...makeTagProps({tag:"kbd"}),...makeThemeProps(),...makeElevationProps()},"VKbd"),VKbd=genericComponent()({name:"VKbd",props:makeVKbdProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{borderClasses:r}=useBorder(e),{roundedClasses:n}=useRounded(e),{backgroundColorClasses:i,backgroundColorStyles:l}=useBackgroundColor(()=>e.color),{elevationClasses:s}=useElevation(e);return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-kbd",o.value,i.value,r.value,s.value,n.value,e.class]),style:normalizeStyle([l.value,e.style])},a)),{}}}),makeVLayoutProps=propsFactory({...makeComponentProps(),...makeDimensionProps(),...makeLayoutProps()},"VLayout"),VLayout=genericComponent()({name:"VLayout",props:makeVLayoutProps(),setup(e,t){let{slots:a}=t;const{layoutClasses:o,layoutStyles:r,getLayoutItem:n,items:i,layoutRef:l}=createLayout(e),{dimensionStyles:s}=useDimension(e);return useRender(()=>{var t;return createBaseVNode("div",{ref:l,class:normalizeClass([o.value,e.class]),style:normalizeStyle([s.value,r.value,e.style])},[null==(t=a.default)?void 0:t.call(a)])}),{getLayoutItem:n,items:i}}}),makeVLayoutItemProps=propsFactory({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...makeComponentProps(),...makeLayoutItemProps()},"VLayoutItem"),VLayoutItem=genericComponent()({name:"VLayoutItem",props:makeVLayoutItemProps(),setup(e,t){let{slots:a}=t;const{layoutItemStyles:o}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:toRef(()=>e.position),elementSize:toRef(()=>e.size),layoutSize:toRef(()=>e.size),active:toRef(()=>e.modelValue),absolute:toRef(()=>e.absolute)});return()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-layout-item",e.class]),style:normalizeStyle([o.value,e.style])},[null==(t=a.default)?void 0:t.call(a)])}}}),makeVLazyProps=propsFactory({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...makeComponentProps(),...makeDimensionProps(),...makeTagProps(),...makeTransitionProps$1({transition:"fade-transition"})},"VLazy"),VLazy=genericComponent()({name:"VLazy",directives:{vIntersect:Intersect},props:makeVLazyProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{dimensionStyles:o}=useDimension(e),r=useProxiedModel(e,"modelValue");function n(e){r.value||(r.value=e)}return useRender(()=>withDirectives(createVNode(e.tag,{class:normalizeClass(["v-lazy",e.class]),style:normalizeStyle([o.value,e.style])},{default:()=>[r.value&&createVNode(MaybeTransition,{transition:e.transition,appear:!0},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})]}),[[Intersect,{handler:n,options:e.options},null]])),{}}}),makeVLocaleProviderProps=propsFactory({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...makeComponentProps()},"VLocaleProvider"),VLocaleProvider=genericComponent()({name:"VLocaleProvider",props:makeVLocaleProviderProps(),setup(e,t){let{slots:a}=t;const{rtlClasses:o}=provideLocale(e);return useRender(()=>{var t;return createBaseVNode("div",{class:normalizeClass(["v-locale-provider",o.value,e.class]),style:normalizeStyle(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),makeVMainProps=propsFactory({scrollable:Boolean,...makeComponentProps(),...makeDimensionProps(),...makeTagProps({tag:"main"})},"VMain"),VMain=genericComponent()({name:"VMain",props:makeVMainProps(),setup(e,t){let{slots:a}=t;const{dimensionStyles:o}=useDimension(e),{mainStyles:r}=useLayout(),{ssrBootStyles:n}=useSsrBoot();return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:normalizeStyle([r.value,n.value,o.value,e.style])},{default:()=>{var t,o;return[e.scrollable?createBaseVNode("div",{class:"v-main__scroller"},[null==(t=a.default)?void 0:t.call(a)]):null==(o=a.default)?void 0:o.call(a)]}})),{}}}),VNoSsr=defineComponent({name:"VNoSsr",setup(e,t){let{slots:a}=t;const o=useHydration();return()=>{var e;return o.value&&(null==(e=a.default)?void 0:e.call(a))}}}),HOLD_REPEAT=50,HOLD_DELAY=500;function useHold(e){let{toggleUpDown:t}=e,a=-1,o=-1;function r(){window.clearTimeout(a),window.clearInterval(o),window.removeEventListener("pointerup",r),document.removeEventListener("blur",r)}function n(e){t("up"===e)}return onScopeDispose(r),{holdStart:function(e){r(),n(e),window.addEventListener("pointerup",r),document.addEventListener("blur",r),a=window.setTimeout(()=>{o=window.setInterval(()=>n(e),HOLD_REPEAT)},HOLD_DELAY)},holdStop:r}}const makeVNumberInputProps=propsFactory({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},minFractionDigits:{type:Number,default:null},decimalSeparator:{type:String,validator:e=>!e||1===e.length},...omit(makeVTextFieldProps(),["modelValue","validationValue"])},"VNumberInput"),VNumberInput=genericComponent()({name:"VNumberInput",props:{...makeVNumberInputProps()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=ref$1(),{holdStart:r,holdStop:n}=useHold({toggleUpDown:C}),i=useForm(e),l=computed(()=>i.isDisabled.value||i.isReadonly.value),s=shallowRef(e.focused),{decimalSeparator:c}=useLocale(),d=computed(()=>{var t;return(null==(t=e.decimalSeparator)?void 0:t[0])||c.value});function u(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.precision,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=null==a?String(t):t.toFixed(a);if(s.value&&o)return Number(r).toString().replace(".",d.value);if(null===e.minFractionDigits||null!==a&&a<e.minFractionDigits)return r.replace(".",d.value);let[n,i]=r.split(".");return i=(i??"").padEnd(e.minFractionDigits,"0").replace(new RegExp(`(?<=\\d{${e.minFractionDigits}})0+$`,"g"),""),[n,i].filter(Boolean).join(d.value)}const p=useProxiedModel(e,"modelValue",null,e=>e??null,t=>null==t?t??null:clamp(Number(t),e.min,e.max)),h=shallowRef(null);watchEffect(()=>{var e;s.value&&!l.value&&Number(null==(e=h.value)?void 0:e.replace(d.value,"."))===p.value||(null==p.value?h.value=null:isNaN(p.value)||(h.value=u(p.value)))});const m=computed({get:()=>h.value,set(t){if(null===t||""===t)return p.value=null,void(h.value=null);const a=Number(t.replace(d.value,"."));!isNaN(a)&&a<=e.max&&a>=e.min&&(p.value=a,h.value=t)}}),v=computed(()=>!l.value&&(p.value??0)+e.step<=e.max),f=computed(()=>!l.value&&(p.value??0)-e.step>=e.min),g=computed(()=>e.hideInput?"stacked":e.controlVariant),y=toRef(()=>"split"===g.value?"$plus":"$collapse"),_=toRef(()=>"split"===g.value?"$minus":"$expand"),b=toRef(()=>"split"===g.value?"default":"small"),w=toRef(()=>"stacked"===g.value?"auto":"100%"),x={props:{onClick:T,onPointerup:B,onPointerdown:E,onPointercancel:B}},V={props:{onClick:T,onPointerup:B,onPointerdown:I,onPointercancel:B}};function k(e){if(null==e)return 0;const t=e.toString(),a=t.indexOf(".");return~a?t.length-a:0}function C(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(l.value)return;if(null==p.value)return void(m.value=u(clamp(0,e.min,e.max)));let a=Math.max(k(p.value),k(e.step));null!=e.precision&&(a=Math.max(a,e.precision)),t?v.value&&(m.value=u(p.value+e.step,a)):f.value&&(m.value=u(p.value-e.step,a))}function S(t){var a;if(!t.data)return;const o=t.target,{value:r,selectionStart:n,selectionEnd:i}=o??{},l=r?r.slice(0,n)+t.data+r.slice(i):t.data,s=extractNumber(l,e.precision,d.value);if(new RegExp(`^-?\\d*${escapeForRegex(d.value)}?\\d*$`).test(l)||(t.preventDefault(),o.value=s,nextTick(()=>m.value=s)),null!=e.precision){if((null==(a=l.split(d.value)[1])?void 0:a.length)>e.precision){t.preventDefault(),o.value=s,nextTick(()=>m.value=s);const e=(n??0)+t.data.length;o.setSelectionRange(e,e)}0===e.precision&&l.endsWith(d.value)&&(t.preventDefault(),o.value=s,nextTick(()=>m.value=s))}}async function N(e){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(e.key)||e.ctrlKey||["ArrowDown","ArrowUp"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),$(),await nextTick(),"ArrowDown"===e.key?C(!1):C())}function T(e){e.stopPropagation()}function B(e){const t=e.currentTarget;null==t||t.releasePointerCapture(e.pointerId),e.preventDefault(),n()}function E(e){const t=e.currentTarget;null==t||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),r("up")}function I(e){const t=e.currentTarget;null==t||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),r("down")}function $(){if(l.value)return;if(!o.value)return;const t=o.value.value,a=Number(t.replace(d.value,"."));t&&!isNaN(a)?m.value=u(clamp(a,e.min,e.max)):m.value=null}function P(){l.value||(m.value=null===p.value||isNaN(p.value)?null:u(p.value,e.precision,!1))}function D(){l.value||(null===p.value||isNaN(p.value)?m.value=null:m.value=p.value.toString().replace(".",d.value))}function L(){$()}return watch(()=>e.precision,()=>P()),watch(()=>e.minFractionDigits,()=>P()),onMounted(()=>{$()}),useRender(()=>{const{modelValue:t,type:r,...n}=VTextField.filterProps(e);function i(){return a.increment?createVNode(VDefaultsProvider,{key:"increment-defaults",defaults:{VBtn:{disabled:!v.value,height:w.value,size:b.value,icon:y.value,variant:"text"}}},{default:()=>[a.increment(x)]}):createVNode(VBtn,{"aria-hidden":"true","data-testid":"increment",disabled:!v.value,height:w.value,icon:y.value,key:"increment-btn",onClick:T,onPointerdown:E,onPointerup:B,onPointercancel:B,size:b.value,variant:"text",tabindex:"-1"},null)}function l(){return a.decrement?createVNode(VDefaultsProvider,{key:"decrement-defaults",defaults:{VBtn:{disabled:!f.value,height:w.value,size:b.value,icon:_.value,variant:"text"}}},{default:()=>[a.decrement(V)]}):createVNode(VBtn,{"aria-hidden":"true","data-testid":"decrement",disabled:!f.value,height:w.value,icon:_.value,key:"decrement-btn",onClick:T,onPointerdown:I,onPointerup:B,onPointercancel:B,size:b.value,variant:"text",tabindex:"-1"},null)}function c(){return createBaseVNode("div",{class:"v-number-input__control"},[l(),createVNode(VDivider,{vertical:"stacked"!==g.value},null),i()])}function d(){return e.hideInput||e.inset?void 0:createVNode(VDivider,{vertical:!0},null)}const u="split"===g.value?createBaseVNode("div",{class:"v-number-input__control"},[createVNode(VDivider,{vertical:!0},null),i()]):e.reverse||"hidden"===g.value?void 0:createBaseVNode(Fragment,null,[d(),c()]),h=a["append-inner"]||u,k="split"===g.value?createBaseVNode("div",{class:"v-number-input__control"},[l(),createVNode(VDivider,{vertical:!0},null)]):e.reverse&&"hidden"!==g.value?createBaseVNode(Fragment,null,[c(),d()]):void 0,C=a["prepend-inner"]||k;return createVNode(VTextField,mergeProps({ref:o},n,{modelValue:m.value,"onUpdate:modelValue":e=>m.value=e,focused:s.value,"onUpdate:focused":e=>s.value=e,validationValue:p.value,onBeforeinput:S,onFocus:D,onBlur:L,onKeydown:N,class:["v-number-input",{"v-number-input--default":"default"===g.value,"v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":"split"===g.value,"v-number-input--stacked":"stacked"===g.value},e.class],style:e.style,inputmode:"decimal"}),{...a,"append-inner":h?function(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return createBaseVNode(Fragment,null,[null==(e=a["append-inner"])?void 0:e.call(a,...o),u])}:void 0,"prepend-inner":C?function(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return createBaseVNode(Fragment,null,[k,null==(e=a["prepend-inner"])?void 0:e.call(a,...o)])}:void 0})}),forwardRefs({},o)}}),makeVOtpInputProps=propsFactory({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...makeDimensionProps(),...makeFocusProps(),...pick(makeVFieldProps({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),VOtpInput=genericComponent()({name:"VOtpInput",props:makeVOtpInputProps(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const{dimensionStyles:n}=useDimension(e),{isFocused:i,focus:l,blur:s}=useFocus(e),c=useProxiedModel(e,"modelValue","",e=>null==e?[]:String(e).split(""),e=>e.join("")),{t:d}=useLocale(),u=computed(()=>Number(e.length)),p=computed(()=>Array(u.value).fill(0)),h=ref$1(-1),m=ref$1(),v=ref$1([]),f=computed(()=>v.value[h.value]);let g=!1;function y(){if(x(f.value.value))return void(f.value.value="");if(g)return;const e=c.value.slice(),t=f.value.value;e[h.value]=t;let a=null;h.value>c.value.length?a=c.value.length+1:h.value+1!==u.value&&(a="next"),c.value=e,a&&focusChild(m.value,a)}function _(){g=!1,y()}function b(e){const t=c.value.slice(),a=h.value;let o=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(e.key)&&(e.preventDefault(),"ArrowLeft"===e.key?o="prev":"ArrowRight"===e.key?o="next":["Backspace","Delete"].includes(e.key)&&(t[h.value]="",c.value=t,h.value>0&&"Backspace"===e.key?o="prev":requestAnimationFrame(()=>{var e;null==(e=v.value[a])||e.select()})),requestAnimationFrame(()=>{null!=o&&focusChild(m.value,o)}))}function w(){s(),h.value=-1}function x(t){return"number"===e.type&&/[^0-9]/g.test(t)}return useToggleScope(()=>e.autofocus,()=>{const e=effectScope();e.run(()=>{const{intersectionRef:t,isIntersecting:a}=useIntersectionObserver();watchEffect(()=>{t.value=v.value[0]}),watch(a,a=>{var o;a&&(null==(o=t.value)||o.focus(),e.stop())})})}),provideDefaults({VField:{color:toRef(()=>e.color),bgColor:toRef(()=>e.color),baseColor:toRef(()=>e.baseColor),disabled:toRef(()=>e.disabled),error:toRef(()=>e.error),variant:toRef(()=>e.variant)}},{scoped:!0}),watch(c,e=>{e.length===u.value&&o("finish",e.join(""))},{deep:!0}),watch(h,e=>{e<0||nextTick(()=>{var t;null==(t=v.value[e])||t.select()})}),useRender(()=>{var t;const[o,s]=filterInputAttrs(a);return createBaseVNode("div",mergeProps({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},o),[createBaseVNode("div",{ref:m,class:"v-otp-input__content",style:normalizeStyle([n.value])},[p.value.map((t,a)=>createBaseVNode(Fragment,null,[e.divider&&0!==a&&createBaseVNode("span",{class:"v-otp-input__divider"},[e.divider]),createVNode(VField,{focused:i.value&&e.focusAll||h.value===a,key:a},{...r,loader:void 0,default:()=>createBaseVNode("input",{ref:e=>v.value[a]=e,"aria-label":d(e.label,a+1),autofocus:0===a&&e.autofocus,autocomplete:"one-time-code",class:normalizeClass(["v-otp-input__field"]),disabled:e.disabled,inputmode:"number"===e.type?"numeric":"text",min:"number"===e.type?0:void 0,maxlength:0===a?u.value:"1",placeholder:e.placeholder,type:"number"===e.type?"text":e.type,value:c.value[a],onInput:y,onFocus:e=>{return t=a,l(),void(h.value=t);var t},onBlur:w,onKeydown:b,onCompositionstart:()=>g=!0,onCompositionend:_,onPaste:e=>function(e,t){var a;t.preventDefault(),t.stopPropagation();const o=(null==(a=null==t?void 0:t.clipboardData)?void 0:a.getData("Text").trim().slice(0,u.value))??"",r=o.length-1==-1?e:o.length-1;x(o)||(c.value=o.split(""),h.value=r)}(a,e)},null)})])),createBaseVNode("input",mergeProps({class:"v-otp-input-input",type:"hidden"},s,{value:c.value.join("")}),null),createVNode(VOverlay,{contained:!0,contentClass:"v-otp-input__loader",modelValue:!!e.loading,persistent:!0},{default:()=>{var t;return[(null==(t=r.loader)?void 0:t.call(r))??createVNode(VProgressCircular,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),null==(t=r.default)?void 0:t.call(r)])])}),{blur:()=>{var e;null==(e=v.value)||e.some(e=>e.blur())},focus:()=>{var e;null==(e=v.value)||e[0].focus()},reset:function(){c.value=[]},isFocused:i}}});function floor(e){return Math.floor(Math.abs(e))*Math.sign(e)}const makeVParallaxProps=propsFactory({scale:{type:[Number,String],default:.5},...makeComponentProps()},"VParallax"),VParallax=genericComponent()({name:"VParallax",props:makeVParallaxProps(),setup(e,t){let{slots:a}=t;const{intersectionRef:o,isIntersecting:r}=useIntersectionObserver(),{resizeRef:n,contentRect:i}=useResizeObserver(),{height:l}=useDisplay(),s=ref$1();let c;watchEffect(()=>{var e;o.value=n.value=null==(e=s.value)?void 0:e.$el}),watch(r,e=>{e?(c=getScrollParent(o.value),c=c===document.scrollingElement?document:c,c.addEventListener("scroll",p,{passive:!0}),p()):c.removeEventListener("scroll",p)}),onBeforeUnmount(()=>{null==c||c.removeEventListener("scroll",p)}),watch(l,p),watch(()=>{var e;return null==(e=i.value)?void 0:e.height},p);const d=computed(()=>1-clamp(Number(e.scale)));let u=-1;function p(){r.value&&!PREFERS_REDUCED_MOTION()&&(cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var e;const t=(null==(e=s.value)?void 0:e.$el).querySelector(".v-img__img");if(!t)return;const a=c instanceof Document?document.documentElement.clientHeight:c.clientHeight,r=c instanceof Document?window.scrollY:c.scrollTop,n=o.value.getBoundingClientRect().top+r,l=i.value.height,u=floor((r-(n+(l-a)/2))*d.value),p=Math.max(1,(d.value*(a-l)+l)/l);t.style.setProperty("transform",`translateY(${u}px) scale(${p})`)}))}return useRender(()=>createVNode(VImg,{class:normalizeClass(["v-parallax",{"v-parallax--active":r.value},e.class]),style:normalizeStyle(e.style),ref:s,cover:!0,onLoadstart:p,onLoad:p},a)),{}}}),makeVRangeSliderProps=propsFactory({...makeFocusProps(),...makeVInputProps(),...makeSliderProps(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),VRangeSlider=genericComponent()({name:"VRangeSlider",props:makeVRangeSliderProps(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=ref$1(),n=ref$1(),i=ref$1(),{rtlClasses:l}=useRtl();const s=useSteps(e),c=useProxiedModel(e,"modelValue",void 0,e=>(null==e?void 0:e.length)?e.map(e=>s.roundValue(e)):[0,0]),{activeThumbRef:d,hasLabels:u,max:p,min:h,mousePressed:m,onSliderMousedown:v,onSliderTouchstart:f,position:g,trackContainerRef:y,readonly:_}=useSlider({props:e,steps:s,onSliderStart:()=>{o("start",c.value)},onSliderEnd:t=>{var a;let{value:n}=t;const i=d.value===(null==(a=r.value)?void 0:a.$el)?[n,c.value[1]]:[c.value[0],n];!e.strict&&i[0]<i[1]&&(c.value=i),o("end",c.value)},onSliderMove:t=>{var a,o,i,l;let{value:s}=t;const[u,p]=c.value;e.strict||u!==p||u===h.value||(d.value=s>u?null==(a=n.value)?void 0:a.$el:null==(o=r.value)?void 0:o.$el,null==(i=d.value)||i.focus()),d.value===(null==(l=r.value)?void 0:l.$el)?c.value=[Math.min(s,p),p]:c.value=[u,Math.max(u,s)]},getActiveThumb:function(t){if(!r.value||!n.value)return;const a=getOffset(t,r.value.$el,e.direction),o=getOffset(t,n.value.$el,e.direction),i=Math.abs(a),l=Math.abs(o);return i<l||i===l&&a<0?r.value.$el:n.value.$el}}),{isFocused:b,focus:w,blur:x}=useFocus(e),V=computed(()=>g(c.value[0])),k=computed(()=>g(c.value[1]));return useRender(()=>{const t=VInput.filterProps(e),o=!!(e.label||a.label||a.prepend);return createVNode(VInput,mergeProps({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!a["tick-label"]||u.value,"v-slider--focused":b.value,"v-slider--pressed":m.value,"v-slider--disabled":e.disabled},l.value,e.class],style:e.style,ref:i},t,{focused:b.value}),{...a,prepend:o?t=>{var o,r;return createBaseVNode(Fragment,null,[(null==(o=a.label)?void 0:o.call(a,t))??(e.label?createVNode(VLabel,{class:"v-slider__label",text:e.label},null):void 0),null==(r=a.prepend)?void 0:r.call(a,t)])}:void 0,default:t=>{var o,i;let{id:l,messagesId:s}=t;return createBaseVNode("div",{class:"v-slider__container",onMousedown:_.value?void 0:v,onTouchstartPassive:_.value?void 0:f},[createBaseVNode("input",{id:`${l.value}_start`,name:e.name||l.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),createBaseVNode("input",{id:`${l.value}_stop`,name:e.name||l.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),createVNode(VSliderTrack,{ref:y,start:V.value,stop:k.value},{"tick-label":a["tick-label"]}),createVNode(VSliderThumb,{ref:r,"aria-describedby":s.value,focused:b&&d.value===(null==(o=r.value)?void 0:o.$el),modelValue:c.value[0],"onUpdate:modelValue":e=>c.value=[e,c.value[1]],onFocus:e=>{var t,a,o,i;w(),d.value=null==(t=r.value)?void 0:t.$el,p.value!==h.value&&c.value[0]===c.value[1]&&c.value[1]===h.value&&e.relatedTarget!==(null==(a=n.value)?void 0:a.$el)&&(null==(o=r.value)||o.$el.blur(),null==(i=n.value)||i.$el.focus())},onBlur:()=>{x(),d.value=void 0},min:h.value,max:c.value[1],position:V.value,ripple:e.ripple},{"thumb-label":a["thumb-label"]}),createVNode(VSliderThumb,{ref:n,"aria-describedby":s.value,focused:b&&d.value===(null==(i=n.value)?void 0:i.$el),modelValue:c.value[1],"onUpdate:modelValue":e=>c.value=[c.value[0],e],onFocus:e=>{var t,a,o,i;w(),d.value=null==(t=n.value)?void 0:t.$el,p.value!==h.value&&c.value[0]===c.value[1]&&c.value[0]===p.value&&e.relatedTarget!==(null==(a=r.value)?void 0:a.$el)&&(null==(o=n.value)||o.$el.blur(),null==(i=r.value)||i.$el.focus())},onBlur:()=>{x(),d.value=void 0},min:c.value[0],max:p.value,position:k.value,ripple:e.ripple},{"thumb-label":a["thumb-label"]})])}})}),forwardRefs({focus:()=>{var e;return null==(e=r.value)?void 0:e.$el.focus()}},i)}}),makeVRatingProps=propsFactory({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:IconValue,default:"$ratingEmpty"},fullIcon:{type:IconValue,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...makeComponentProps(),...makeDensityProps(),...makeSizeProps(),...makeTagProps(),...makeThemeProps()},"VRating"),VRating=genericComponent()({name:"VRating",props:makeVRatingProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{t:o}=useLocale(),{themeClasses:r}=provideTheme(e),n=useProxiedModel(e,"modelValue"),i=computed(()=>clamp(parseFloat(n.value),0,Number(e.length))),l=computed(()=>createRange(Number(e.length),1)),s=computed(()=>l.value.flatMap(t=>e.halfIncrements?[t-.5,t]:[t])),c=shallowRef(-1),d=computed(()=>s.value.map(t=>{const a=e.hover&&c.value>-1,o=i.value>=t,r=c.value>=t,n=(a?r:o)?e.fullIcon:e.emptyIcon,l=e.activeColor??e.color;return{isFilled:o,isHovered:r,icon:n,color:o||r?l:e.color}})),u=computed(()=>[0,...s.value].map(t=>({onMouseenter:e.hover?function(){c.value=t}:void 0,onMouseleave:e.hover?function(){c.value=-1}:void 0,onClick:function(){e.disabled||e.readonly||(n.value=i.value===t&&e.clearable?0:t)}}))),p=useId(),h=computed(()=>e.name??`v-rating-${p}`);function m(t){var r,n;let{value:l,index:s,showStar:c=!0}=t;const{onMouseenter:p,onMouseleave:m,onClick:v}=u.value[s+1],f=`${h.value}-${String(l).replace(".","-")}`,g={color:null==(r=d.value[s])?void 0:r.color,density:e.density,disabled:e.disabled,icon:null==(n=d.value[s])?void 0:n.icon,ripple:e.ripple,size:e.size,variant:"plain"};return createBaseVNode(Fragment,null,[createBaseVNode("label",{for:f,class:normalizeClass({"v-rating__item--half":e.halfIncrements&&l%1>0,"v-rating__item--full":e.halfIncrements&&l%1==0}),onMouseenter:p,onMouseleave:m,onClick:v},[createBaseVNode("span",{class:"v-rating__hidden"},[o(e.itemAriaLabel,l,e.length)]),c?a.item?a.item({...d.value[s],props:g,value:l,index:s,rating:i.value}):createVNode(VBtn,mergeProps({"aria-label":o(e.itemAriaLabel,l,e.length)},g),null):void 0]),createBaseVNode("input",{class:"v-rating__hidden",name:h.value,id:f,type:"radio",value:l,checked:i.value===l,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function v(e){return a["item-label"]?a["item-label"](e):e.label?createBaseVNode("span",null,[e.label]):createBaseVNode("span",null,[createTextVNode(" ")])}return useRender(()=>{var t;const o=!!(null==(t=e.itemLabels)?void 0:t.length)||a["item-label"];return createVNode(e.tag,{class:normalizeClass(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class]),style:normalizeStyle(e.style)},{default:()=>[createVNode(m,{value:0,index:-1,showStar:!1},null),l.value.map((t,a)=>{var r,n;return createBaseVNode("div",{class:"v-rating__wrapper"},[o&&"top"===e.itemLabelPosition?v({value:t,index:a,label:null==(r=e.itemLabels)?void 0:r[a]}):void 0,createBaseVNode("div",{class:"v-rating__item"},[e.halfIncrements?createBaseVNode(Fragment,null,[createVNode(m,{value:t-.5,index:2*a},null),createVNode(m,{value:t,index:2*a+1},null)]):createVNode(m,{value:t,index:a},null)]),o&&"bottom"===e.itemLabelPosition?v({value:t,index:a,label:null==(n=e.itemLabels)?void 0:n[a]}):void 0])})]})}),{}}}),VSlideGroupItem=genericComponent()({name:"VSlideGroupItem",props:makeGroupItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const o=useGroupItem(e,VSlideGroupSymbol);return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isSelected:o.isSelected.value,select:o.select,toggle:o.toggle,selectedClass:o.selectedClass.value})}}}),makeVSnackbarQueueProps=propsFactory({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...omit(makeVSnackbarProps(),["modelValue"])},"VSnackbarQueue"),VSnackbarQueue=genericComponent()({name:"VSnackbarQueue",props:makeVSnackbarQueueProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const{t:r}=useLocale(),n=shallowRef(!1),i=shallowRef(!1),l=shallowRef();function s(){e.modelValue.length?c():(l.value=void 0,i.value=!1)}function c(){const[t,...o]=e.modelValue;a("update:modelValue",o),l.value="string"==typeof t?{text:t}:t,nextTick(()=>{n.value=!0})}function d(){n.value=!1}watch(()=>e.modelValue.length,(e,t)=>{!i.value&&e>t&&c()}),watch(n,e=>{e&&(i.value=!0)});const u=computed(()=>({color:"string"==typeof e.closable?e.closable:void 0,text:r(e.closeText)}));useRender(()=>{const t=!(!e.closable&&!o.actions),{modelValue:a,...r}=VSnackbar.filterProps(e);return createBaseVNode(Fragment,null,[i.value&&!!l.value&&(o.default?createVNode(VDefaultsProvider,{defaults:{VSnackbar:l.value}},{default:()=>[o.default({item:l.value})]}):createVNode(VSnackbar,mergeProps(r,l.value,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,onAfterLeave:s}),{text:o.text?()=>{var e;return null==(e=o.text)?void 0:e.call(o,{item:l.value})}:void 0,actions:t?()=>createBaseVNode(Fragment,null,[o.actions?createVNode(VDefaultsProvider,{defaults:{VBtn:u.value}},{default:()=>[o.actions({item:l.value,props:{onClick:d}})]}):createVNode(VBtn,mergeProps(u.value,{onClick:d}),null)]):void 0}))])})}}),makeLineProps=propsFactory({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),makeVBarlineProps=propsFactory({autoLineWidth:Boolean,...makeLineProps()},"VBarline"),VBarline=genericComponent()({name:"VBarline",props:makeVBarlineProps(),setup(e,t){let{slots:a}=t;const o=useId(),r=computed(()=>e.id||`barline-${o}`),n=computed(()=>Number(e.autoDrawDuration)||500),i=computed(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==a?void 0:a.label))),l=computed(()=>parseFloat(e.lineWidth)||4),s=computed(()=>Math.max(e.modelValue.length*l.value,Number(e.width))),c=computed(()=>({minX:0,maxX:s.value,minY:0,maxY:parseInt(e.height,10)})),d=computed(()=>e.modelValue.map(t=>getPropertyFromItem(t,e.itemValue,t)));function u(t,a){const{minX:o,maxX:r,minY:n,maxY:i}=a,l=t.length;let s=null!=e.max?Number(e.max):Math.max(...t),c=null!=e.min?Number(e.min):Math.min(...t);c>0&&null==e.min&&(c=0),s<0&&null==e.max&&(s=0);const d=r/(1===l?2:l),u=(i-n)/(s-c||1),p=i-Math.abs(c*u);return t.map((e,t)=>{const a=Math.abs(u*e);return{x:o+t*d,y:p-a+Number(e<0)*a,height:a,value:e}})}const p=computed(()=>{const t=[],a=u(d.value,c.value),o=a.length;for(let r=0;t.length<o;r++){const o=a[r];let n=e.labels[r];n||(n="object"==typeof o?o.value:o),t.push({x:o.x,value:String(n)})}return t}),h=computed(()=>u(d.value,c.value)),m=computed(()=>1===h.value.length?(c.value.maxX-l.value)/2:(Math.abs(h.value[0].x-h.value[1].x)-l.value)/2),v=computed(()=>"boolean"==typeof e.smooth?e.smooth?2:0:Number(e.smooth));useRender(()=>{const t=e.gradient.slice().length?e.gradient.slice().reverse():[""];return createBaseVNode("svg",{display:"block"},[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:"left"===e.gradientDirection?"100%":"0",y1:"top"===e.gradientDirection?"100%":"0",x2:"right"===e.gradientDirection?"100%":"0",y2:"bottom"===e.gradientDirection?"100%":"0"},[t.map((e,a)=>createBaseVNode("stop",{offset:a/Math.max(t.length-1,1),"stop-color":e||"currentColor"},null))])]),createBaseVNode("clipPath",{id:`${r.value}-clip`},[h.value.map(t=>createBaseVNode("rect",{x:t.x+m.value,y:t.y,width:l.value,height:t.height,rx:v.value,ry:v.value},[e.autoDraw&&!PREFERS_REDUCED_MOTION()&&createBaseVNode(Fragment,null,[createBaseVNode("animate",{attributeName:"y",from:t.y+t.height,to:t.y,dur:`${n.value}ms`,fill:"freeze"},null),createBaseVNode("animate",{attributeName:"height",from:"0",to:t.height,dur:`${n.value}ms`,fill:"freeze"},null)])]))]),i.value&&createBaseVNode("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[p.value.map((t,o)=>{var r;return createBaseVNode("text",{x:t.x+m.value+l.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||5.25),"font-size":Number(e.labelSize)||7},[(null==(r=a.label)?void 0:r.call(a,{index:o,value:t.value}))??t.value])})]),createBaseVNode("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[createBaseVNode("rect",{x:0,y:0,width:Math.max(e.modelValue.length*l.value,Number(e.width)),height:e.height},null)])])})}});function genPath(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:75;if(0===e.length)return"";const r=e.shift(),n=e[e.length-1];return(a?`M${r.x} ${o-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((a,o)=>{const n=e[o+1],i=e[o-1]||r,l=n&&checkCollinear(n,a,i);if(!n||l)return`L${a.x} ${a.y}`;const s=Math.min(getDistance(i,a),getDistance(n,a)),c=s/2<t?s/2:t,d=moveTo(i,a,c),u=moveTo(n,a,c);return`L${d.x} ${d.y}S${a.x} ${a.y} ${u.x} ${u.y}`}).join("")+(a?`L${n.x} ${o-r.x+2} Z`:"")}function int(e){return parseInt(e,10)}function checkCollinear(e,t,a){return int(e.x+a.x)===int(2*t.x)&&int(e.y+a.y)===int(2*t.y)}function getDistance(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function moveTo(e,t,a){const o=e.x-t.x,r=e.y-t.y,n=Math.sqrt(o*o+r*r),i=o/n,l=r/n;return{x:t.x+i*a,y:t.y+l*a}}const makeVTrendlineProps=propsFactory({fill:Boolean,...makeLineProps()},"VTrendline"),VTrendline=genericComponent()({name:"VTrendline",props:makeVTrendlineProps(),setup(e,t){let{slots:a}=t;const o=useId(),r=computed(()=>e.id||`trendline-${o}`),n=computed(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),i=ref$1(0),l=ref$1(null);function s(t,a){const{minX:o,maxX:r,minY:n,maxY:i}=a;1===t.length&&(t=[t[0],t[0]]);const l=t.length,s=null!=e.max?Number(e.max):Math.max(...t),c=null!=e.min?Number(e.min):Math.min(...t),d=(r-o)/(l-1),u=(i-n)/(s-c||1);return t.map((e,t)=>({x:o+t*d,y:i-(e-c)*u,value:e}))}const c=computed(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==a?void 0:a.label))),d=computed(()=>parseFloat(e.lineWidth)||4),u=computed(()=>Number(e.width)),p=computed(()=>{const t=Number(e.padding);return{minX:t,maxX:u.value-t,minY:t,maxY:parseInt(e.height,10)-t}}),h=computed(()=>e.modelValue.map(t=>getPropertyFromItem(t,e.itemValue,t))),m=computed(()=>{const t=[],a=s(h.value,p.value),o=a.length;for(let r=0;t.length<o;r++){const o=a[r];let n=e.labels[r];n||(n="object"==typeof o?o.value:o),t.push({x:o.x,value:String(n)})}return t});function v(t){const a="boolean"==typeof e.smooth?e.smooth?8:0:Number(e.smooth);return genPath(s(h.value,p.value),a,t,parseInt(e.height,10))}watch(()=>e.modelValue,async()=>{if(await nextTick(),!e.autoDraw||!l.value||PREFERS_REDUCED_MOTION())return;const t=l.value,a=t.getTotalLength();e.fill?(t.style.transformOrigin="bottom center",t.style.transition="none",t.style.transform="scaleY(0)",t.getBoundingClientRect(),t.style.transition=`transform ${n.value}ms ${e.autoDrawEasing}`,t.style.transform="scaleY(1)"):(t.style.strokeDasharray=`${a}`,t.style.strokeDashoffset=`${a}`,t.getBoundingClientRect(),t.style.transition=`stroke-dashoffset ${n.value}ms ${e.autoDrawEasing}`,t.style.strokeDashoffset="0"),i.value=a},{immediate:!0}),useRender(()=>{var t;const o=e.gradient.slice().length?e.gradient.slice().reverse():[""];return createBaseVNode("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:"left"===e.gradientDirection?"100%":"0",y1:"top"===e.gradientDirection?"100%":"0",x2:"right"===e.gradientDirection?"100%":"0",y2:"bottom"===e.gradientDirection?"100%":"0"},[o.map((e,t)=>createBaseVNode("stop",{offset:t/Math.max(o.length-1,1),"stop-color":e||"currentColor"},null))])]),c.value&&createBaseVNode("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((t,o)=>{var r;return createBaseVNode("text",{x:t.x+d.value/2+d.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||5.25),"font-size":Number(e.labelSize)||7},[(null==(r=a.label)?void 0:r.call(a,{index:o,value:t.value}))??t.value])})]),createBaseVNode("path",{ref:l,d:v(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&createBaseVNode("path",{d:v(!1),fill:"none",stroke:e.color??(null==(t=e.gradient)?void 0:t[0])},null)])})}}),makeVSparklineProps=propsFactory({type:{type:String,default:"trend"},...makeVBarlineProps(),...makeVTrendlineProps()},"VSparkline"),VSparkline=genericComponent()({name:"VSparkline",props:makeVSparklineProps(),setup(e,t){let{slots:a}=t;const{textColorClasses:o,textColorStyles:r}=useTextColor(()=>e.color),n=computed(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==a?void 0:a.label))),i=computed(()=>{let t=parseInt(e.height,10);return n.value&&(t+=1.5*parseInt(e.labelSize,10)),t});useRender(()=>{const t="trend"===e.type?VTrendline:VBarline,n="trend"===e.type?VTrendline.filterProps(e):VBarline.filterProps(e);return createVNode(t,mergeProps({key:e.type,class:o.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(i.value,10)}`},n),a)})}}),makeVSpeedDialProps=propsFactory({...makeComponentProps(),...makeVMenuProps({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),VSpeedDial=genericComponent()({name:"VSpeedDial",props:makeVSpeedDialProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useProxiedModel(e,"modelValue"),r=ref$1(),n=computed(()=>{var t;const[a,o="center"]=(null==(t=e.location)?void 0:t.split(" "))??[];return`${a} ${o}`}),i=computed(()=>({[`v-speed-dial__content--${n.value.replace(" ","-")}`]:!0}));return useRender(()=>{const t=VMenu.filterProps(e);return createVNode(VMenu,mergeProps(t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:e.class,style:e.style,contentClass:["v-speed-dial__content",i.value,e.contentClass],location:n.value,ref:r,transition:"fade-transition"}),{...a,default:t=>createVNode(VDefaultsProvider,{defaults:{VBtn:{size:"small"}}},{default:()=>[createVNode(MaybeTransition,{appear:!0,group:!0,transition:e.transition},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,t)]}})]})})}),{}}}),VStepperSymbol=Symbol.for("vuetify:v-stepper"),makeVStepperActionsProps=propsFactory({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),VStepperActions=genericComponent()({name:"VStepperActions",props:makeVStepperActionsProps(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:a,slots:o}=t;const{t:r}=useLocale();function n(){a("click:prev")}function i(){a("click:next")}return useRender(()=>{const t={onClick:n},a={onClick:i};return createBaseVNode("div",{class:"v-stepper-actions"},[createVNode(VDefaultsProvider,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var e;return[(null==(e=o.prev)?void 0:e.call(o,{props:t}))??createVNode(VBtn,t,null)]}}),createVNode(VDefaultsProvider,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var e;return[(null==(e=o.next)?void 0:e.call(o,{props:a}))??createVNode(VBtn,a,null)]}})])}),{}}}),VStepperHeader=createSimpleFunctional("v-stepper-header"),makeStepperItemProps=propsFactory({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:IconValue,default:"$complete"},editable:Boolean,editIcon:{type:IconValue,default:"$edit"},error:Boolean,errorIcon:{type:IconValue,default:"$error"},icon:IconValue,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),makeVStepperItemProps=propsFactory({...makeStepperItemProps(),...makeGroupItemProps()},"VStepperItem"),VStepperItem=genericComponent()({name:"VStepperItem",directives:{vRipple:Ripple},props:makeVStepperItemProps(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const o=useGroupItem(e,VStepperSymbol,!0),r=computed(()=>(null==o?void 0:o.value.value)??e.value),n=computed(()=>e.rules.every(e=>!0===e())),i=computed(()=>!e.disabled&&e.editable),l=computed(()=>!e.disabled&&e.editable),s=computed(()=>e.error||!n.value),c=computed(()=>e.complete||e.rules.length>0&&n.value),d=computed(()=>s.value?e.errorIcon:c.value?e.completeIcon:o.isSelected.value&&e.editable?e.editIcon:e.icon),u=computed(()=>({canEdit:l.value,hasError:s.value,hasCompleted:c.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return useRender(()=>{var t,n,p;const h=(!o||o.isSelected.value||c.value||l.value)&&!s.value&&!e.disabled,m=!(null==e.title&&!a.title),v=!(null==e.subtitle&&!a.subtitle);return withDirectives(createBaseVNode("button",{class:normalizeClass(["v-stepper-item",{"v-stepper-item--complete":c.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":s.value},null==o?void 0:o.selectedClass.value]),disabled:!e.editable,type:"button",onClick:function(){null==o||o.toggle()}},[i.value&&genOverlays(!0,"v-stepper-item"),createVNode(VAvatar,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:h?e.color:void 0,size:24},{default:()=>{var e;return[(null==(e=a.icon)?void 0:e.call(a,u.value))??(d.value?createVNode(VIcon,{icon:d.value},null):r.value)]}}),createBaseVNode("div",{class:"v-stepper-item__content"},[m&&createBaseVNode("div",{key:"title",class:"v-stepper-item__title"},[(null==(t=a.title)?void 0:t.call(a,u.value))??e.title]),v&&createBaseVNode("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[(null==(n=a.subtitle)?void 0:n.call(a,u.value))??e.subtitle]),null==(p=a.default)?void 0:p.call(a,u.value)])]),[[Ripple,e.editable&&e.ripple,null]])}),{}}}),makeVStepperWindowProps=propsFactory({...omit(makeVWindowProps(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),VStepperWindow=genericComponent()({name:"VStepperWindow",props:makeVStepperWindowProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=inject(VStepperSymbol,null),r=useProxiedModel(e,"modelValue"),n=computed({get(){var e;return null==r.value&&o?null==(e=o.items.value.find(e=>o.selected.value.includes(e.id)))?void 0:e.value:r.value},set(e){r.value=e}});return useRender(()=>{const t=VWindow.filterProps(e);return createVNode(VWindow,mergeProps({_as:"VStepperWindow"},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),makeVStepperWindowItemProps=propsFactory({...makeVWindowItemProps()},"VStepperWindowItem"),VStepperWindowItem=genericComponent()({name:"VStepperWindowItem",props:makeVStepperWindowItemProps(),setup(e,t){let{slots:a}=t;return useRender(()=>{const t=VWindowItem.filterProps(e);return createVNode(VWindowItem,mergeProps({_as:"VStepperWindowItem"},t,{class:["v-stepper-window-item",e.class],style:e.style}),a)}),{}}}),makeStepperProps=propsFactory({altLabels:Boolean,bgColor:String,completeIcon:IconValue,editIcon:IconValue,editable:Boolean,errorIcon:IconValue,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...makeDisplayProps()},"Stepper"),makeVStepperProps=propsFactory({...makeStepperProps(),...makeGroupProps({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...makeVSheetProps(),...pick(makeVStepperActionsProps(),["prevText","nextText"])},"VStepper"),VStepper=genericComponent()({name:"VStepper",props:makeVStepperProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{items:o,next:r,prev:n,selected:i}=useGroup(e,VStepperSymbol),{displayClasses:l,mobile:s}=useDisplay(e),{completeIcon:c,editIcon:d,errorIcon:u,color:p,editable:h,prevText:m,nextText:v}=toRefs(e),f=computed(()=>e.items.map((t,a)=>({title:getPropertyFromItem(t,e.itemTitle,t),value:getPropertyFromItem(t,e.itemValue,a+1),raw:t}))),g=computed(()=>o.value.findIndex(e=>i.value.includes(e.id))),y=computed(()=>e.disabled?e.disabled:0===g.value?"prev":g.value===o.value.length-1&&"next");return provideDefaults({VStepperItem:{editable:h,errorIcon:u,completeIcon:c,editIcon:d,prevText:m,nextText:v},VStepperActions:{color:p,disabled:y,prevText:m,nextText:v}}),useRender(()=>{const t=VSheet.filterProps(e),o=!(!a.header&&!e.items.length),i=e.items.length>0,c=!(e.hideActions||!i&&!a.actions);return createVNode(VSheet,mergeProps(t,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":s.value},l.value,e.class],style:e.style}),{default:()=>{var e,t;return[o&&createVNode(VStepperHeader,{key:"stepper-header"},{default:()=>[f.value.map((e,t)=>{let{raw:o,...r}=e;return createBaseVNode(Fragment,null,[!!t&&createVNode(VDivider,null,null),createVNode(VStepperItem,r,{default:a[`header-item.${r.value}`]??a.header,icon:a.icon,title:a.title,subtitle:a.subtitle})])})]}),i&&createVNode(VStepperWindow,{key:"stepper-window"},{default:()=>[f.value.map(e=>createVNode(VStepperWindowItem,{value:e.value},{default:()=>{var t,o;return(null==(t=a[`item.${e.value}`])?void 0:t.call(a,e))??(null==(o=a.item)?void 0:o.call(a,e))}}))]}),null==(e=a.default)?void 0:e.call(a,{prev:n,next:r}),c&&((null==(t=a.actions)?void 0:t.call(a,{next:r,prev:n}))??createVNode(VStepperActions,{key:"stepper-actions","onClick:prev":n,"onClick:next":r},a))]}})}),{prev:n,next:r}}}),makeVSystemBarProps=propsFactory({color:String,height:[Number,String],window:Boolean,...makeComponentProps(),...makeElevationProps(),...makeLayoutItemProps(),...makeRoundedProps(),...makeTagProps(),...makeThemeProps()},"VSystemBar"),VSystemBar=genericComponent()({name:"VSystemBar",props:makeVSystemBarProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{backgroundColorClasses:r,backgroundColorStyles:n}=useBackgroundColor(()=>e.color),{elevationClasses:i}=useElevation(e),{roundedClasses:l}=useRounded(e),{ssrBootStyles:s}=useSsrBoot(),c=computed(()=>e.height??(e.window?32:24)),{layoutItemStyles:d}=useLayoutItem({id:e.name,order:computed(()=>parseInt(e.order,10)),position:shallowRef("top"),layoutSize:c,elementSize:c,active:computed(()=>!0),absolute:toRef(()=>e.absolute)});return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-system-bar",{"v-system-bar--window":e.window},o.value,r.value,i.value,l.value,e.class]),style:normalizeStyle([n.value,d.value,s.value,e.style])},a)),{}}}),makeVTextareaProps=propsFactory({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...makeAutocompleteProps(),...makeVInputProps(),...makeVFieldProps()},"VTextarea"),VTextarea=genericComponent()({name:"VTextarea",directives:{vIntersect:Intersect},inheritAttrs:!1,props:makeVTextareaProps(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:a,emit:o,slots:r}=t;const n=useProxiedModel(e,"modelValue"),{isFocused:i,focus:l,blur:s}=useFocus(e),{onIntersect:c}=useAutofocus(e),d=computed(()=>"function"==typeof e.counterValue?e.counterValue(n.value):(n.value||"").toString().length),u=computed(()=>a.maxlength?a.maxlength:!e.counter||"number"!=typeof e.counter&&"string"!=typeof e.counter?void 0:e.counter),p=ref$1(),h=ref$1(),m=shallowRef(""),v=ref$1(),f=ref$1(0),{platform:g}=useDisplay(),y=useAutocomplete(e),_=computed(()=>e.persistentPlaceholder||i.value||e.active);function b(){var e;y.isSuppressing.value&&y.update(),v.value!==document.activeElement&&(null==(e=v.value)||e.focus()),i.value||l()}function w(e){b(),o("click:control",e)}function x(e){o("mousedown:control",e)}function V(t){t.stopPropagation(),b(),nextTick(()=>{n.value="",callEvent(e["onClick:clear"],t)})}function k(t){var a;const o=t.target;if(n.value=o.value,null==(a=e.modelModifiers)?void 0:a.trim){const e=[o.selectionStart,o.selectionEnd];nextTick(()=>{o.selectionStart=e[0],o.selectionEnd=e[1]})}}const C=ref$1(),S=ref$1(Number(e.rows)),N=computed(()=>["plain","underlined"].includes(e.variant));function T(){nextTick(()=>{if(!v.value)return;if(g.value.firefox)return void(f.value=12);const{offsetWidth:e,clientWidth:t}=v.value;f.value=Math.max(0,e-t)}),e.autoGrow&&nextTick(()=>{if(!C.value||!h.value)return;const t=getComputedStyle(C.value),a=getComputedStyle(h.value.$el),o=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),r=C.value.scrollHeight,n=parseFloat(t.lineHeight),i=Math.max(parseFloat(e.rows)*n+o,parseFloat(a.getPropertyValue("--v-input-control-height"))),l=parseFloat(e.maxRows)*n+o||1/0,s=clamp(r??0,i,l);S.value=Math.floor((s-o)/n),m.value=convertToUnit(s)})}let B;return watchEffect(()=>{e.autoGrow||(S.value=Number(e.rows))}),onMounted(T),watch(n,T),watch(()=>e.rows,T),watch(()=>e.maxRows,T),watch(()=>e.density,T),watch(S,e=>{o("update:rows",e)}),watch(C,e=>{e?(B=new ResizeObserver(T),B.observe(C.value)):null==B||B.disconnect()}),onBeforeUnmount(()=>{null==B||B.disconnect()}),useRender(()=>{const t=!!(r.counter||e.counter||e.counterValue),o=!(!t&&!r.details),[l,g]=filterInputAttrs(a),{modelValue:T,...B}=VInput.filterProps(e),E={...VField.filterProps(e),"onClick:clear":V};return createVNode(VInput,mergeProps({ref:p,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":N.value},e.class],style:[{"--v-textarea-scroll-bar-width":convertToUnit(f.value)},e.style]},l,B,{centerAffix:1===S.value&&!N.value,focused:i.value}),{...r,default:t=>{let{id:a,isDisabled:o,isDirty:l,isReadonly:d,isValid:u,hasDetails:p}=t;return createVNode(VField,mergeProps({ref:h,style:{"--v-textarea-control-height":m.value},onClick:w,onMousedown:x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{id:a.value,active:_.value||l.value,centerAffix:1===S.value&&!N.value,dirty:l.value||e.dirty,disabled:o.value,focused:i.value,details:p.value,error:!1===u.value}),{...r,default:t=>{let{props:{class:a,...r},controlRef:i}=t;return createBaseVNode(Fragment,null,[e.prefix&&createBaseVNode("span",{class:"v-text-field__prefix"},[e.prefix]),withDirectives(createBaseVNode("textarea",mergeProps({ref:e=>v.value=i.value=e,class:a,value:n.value,onInput:k,autofocus:e.autofocus,readonly:d.value,disabled:o.value,placeholder:e.placeholder,rows:e.rows,name:y.fieldName.value,autocomplete:y.fieldAutocomplete.value,onFocus:b,onBlur:s},r,g),null),[[Intersect,{handler:c},null,{once:!0}]]),e.autoGrow&&withDirectives(createBaseVNode("textarea",{class:normalizeClass([a,"v-textarea__sizer"]),id:`${r.id}-sizer`,"onUpdate:modelValue":e=>n.value=e,ref:C,readonly:!0,"aria-hidden":"true"},null),[[vModelText,n.value]]),e.suffix&&createBaseVNode("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?a=>{var o;return createBaseVNode(Fragment,null,[null==(o=r.details)?void 0:o.call(r,a),t&&createBaseVNode(Fragment,null,[createBaseVNode("span",null,null),createVNode(VCounter,{active:e.persistentCounter||i.value,value:d.value,max:u.value,disabled:e.disabled},r.counter)])])}:void 0})}),forwardRefs({},p,h,v)}}),makeVThemeProviderProps=propsFactory({withBackground:Boolean,...makeComponentProps(),...makeThemeProps(),...makeTagProps()},"VThemeProvider"),VThemeProvider=genericComponent()({name:"VThemeProvider",props:makeVThemeProviderProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e);return()=>{var t;return e.withBackground?createVNode(e.tag,{class:normalizeClass(["v-theme-provider",o.value,e.class]),style:normalizeStyle(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}}):null==(t=a.default)?void 0:t.call(a)}}}),makeVTimelineDividerProps=propsFactory({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:IconValue,iconColor:String,lineColor:String,...makeComponentProps(),...makeRoundedProps(),...makeSizeProps(),...makeElevationProps()},"VTimelineDivider"),VTimelineDivider=genericComponent()({name:"VTimelineDivider",props:makeVTimelineDividerProps(),setup(e,t){let{slots:a}=t;const{sizeClasses:o,sizeStyles:r}=useSize(e,"v-timeline-divider__dot"),{backgroundColorStyles:n,backgroundColorClasses:i}=useBackgroundColor(()=>e.dotColor),{roundedClasses:l}=useRounded(e,"v-timeline-divider__dot"),{elevationClasses:s}=useElevation(e),{backgroundColorClasses:c,backgroundColorStyles:d}=useBackgroundColor(()=>e.lineColor);return useRender(()=>createBaseVNode("div",{class:normalizeClass(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:normalizeStyle(e.style)},[createBaseVNode("div",{class:normalizeClass(["v-timeline-divider__before",c.value]),style:normalizeStyle(d.value)},null),!e.hideDot&&createBaseVNode("div",{key:"dot",class:normalizeClass(["v-timeline-divider__dot",s.value,l.value,o.value]),style:normalizeStyle(r.value)},[createBaseVNode("div",{class:normalizeClass(["v-timeline-divider__inner-dot",i.value,l.value]),style:normalizeStyle(n.value)},[a.default?createVNode(VDefaultsProvider,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},a.default):createVNode(VIcon,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),createBaseVNode("div",{class:normalizeClass(["v-timeline-divider__after",c.value]),style:normalizeStyle(d.value)},null)])),{}}}),makeVTimelineItemProps=propsFactory({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:IconValue,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>null==e||["start","end"].includes(e)},...makeComponentProps(),...makeDimensionProps(),...makeElevationProps(),...makeRoundedProps(),...makeSizeProps(),...makeTagProps()},"VTimelineItem"),VTimelineItem=genericComponent()({name:"VTimelineItem",props:makeVTimelineItemProps(),setup(e,t){let{slots:a}=t;const{dimensionStyles:o}=useDimension(e),r=shallowRef(0),n=ref$1();return watch(n,e=>{var t;e&&(r.value=(null==(t=e.$el.querySelector(".v-timeline-divider__dot"))?void 0:t.getBoundingClientRect().width)??0)},{flush:"post"}),useRender(()=>{var t,i;return createBaseVNode("div",{class:normalizeClass(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":"start"===e.side,"v-timeline-item--side-end":"end"===e.side},e.class]),style:normalizeStyle([{"--v-timeline-dot-size":convertToUnit(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${convertToUnit(e.lineInset)})`:convertToUnit(0)},e.style])},[createBaseVNode("div",{class:"v-timeline-item__body",style:normalizeStyle(o.value)},[null==(t=a.default)?void 0:t.call(a)]),createVNode(VTimelineDivider,{ref:n,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:a.icon}),"compact"!==e.density&&createBaseVNode("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&(null==(i=a.opposite)?void 0:i.call(a))])])}),{}}}),makeVTimelineProps=propsFactory({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>null==e||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...pick(makeVTimelineItemProps({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...makeComponentProps(),...makeDensityProps(),...makeTagProps(),...makeThemeProps()},"VTimeline"),VTimeline=genericComponent()({name:"VTimeline",props:makeVTimelineProps(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=provideTheme(e),{densityClasses:r}=useDensity(e),{rtlClasses:n}=useRtl();provideDefaults({VTimelineDivider:{lineColor:toRef(()=>e.lineColor)},VTimelineItem:{density:toRef(()=>e.density),dotColor:toRef(()=>e.dotColor),fillDot:toRef(()=>e.fillDot),hideOpposite:toRef(()=>e.hideOpposite),iconColor:toRef(()=>e.iconColor),lineColor:toRef(()=>e.lineColor),lineInset:toRef(()=>e.lineInset),size:toRef(()=>e.size)}});const i=computed(()=>{const t=e.side?e.side:"default"!==e.density?"end":null;return t&&`v-timeline--side-${t}`}),l=computed(()=>{const t=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return t;case"start":return t[0];case"end":return t[1];default:return null}});return useRender(()=>createVNode(e.tag,{class:normalizeClass(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,l.value,{"v-timeline--inset-line":!!e.lineInset},o.value,r.value,i.value,n.value,e.class]),style:normalizeStyle([{"--v-timeline-line-thickness":convertToUnit(e.lineThickness)},e.style])},a)),{}}});function pad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")}const makeVTimePickerClockProps=propsFactory({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),VTimePickerClock=genericComponent()({name:"VTimePickerClock",props:makeVTimePickerClockProps(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:a}=t;const o=ref$1(null),r=ref$1(null),n=ref$1(void 0),i=ref$1(!1),l=ref$1(null),s=ref$1(null),c=debounce(e=>a("change",e),750),{textColorClasses:d,textColorStyles:u}=useTextColor(()=>e.color),{backgroundColorClasses:p,backgroundColorStyles:h}=useBackgroundColor(()=>e.color),m=computed(()=>e.max-e.min+1),v=computed(()=>e.double?m.value/2:m.value),f=computed(()=>360/v.value),g=computed(()=>f.value*Math.PI/180),y=computed(()=>null==e.modelValue?e.min:e.modelValue),_=computed(()=>.62),b=computed(()=>{const t=[];for(let a=e.min;a<=e.max;a+=e.step)t.push(a);return t});function w(e){n.value!==e&&(n.value=e),a("input",e)}function x(t){return!e.allowedValues||e.allowedValues(t)}function V(t){if(!e.scrollable||e.disabled)return;t.preventDefault();const a=Math.sign(-t.deltaY||1);let o=y.value;do{o+=a,o=(o-e.min+m.value)%m.value+e.min}while(!x(o)&&o!==y.value);o!==e.displayedValue&&w(o),c(o)}function k(t){return e.double&&t-e.min>=v.value}function C(e){return k(e)?_.value:1}function S(t,a){const o=(Math.round(t/f.value)+(a?v.value:0))%m.value+e.min;return t<360-f.value/2?o:a?e.max-v.value+1:e.min}function N(t){const{x:a,y:o}=function(t){const a=e.rotate*Math.PI/180;return{x:Math.sin((t-e.min)*g.value+a)*C(t),y:-Math.cos((t-e.min)*g.value+a)*C(t)}}(t);return{left:`${Math.round(50+50*a)}%`,top:`${Math.round(50+50*o)}%`}}function T(e,t){const a=t.x-e.x,o=t.y-e.y;return Math.sqrt(a*a+o*o)}function B(e){null===l.value&&(l.value=e),s.value=e,w(e)}function E(t){var a,n;if(t.preventDefault(),!i.value&&"click"!==t.type||!o.value)return;const{width:l,top:s,left:c}=null==(a=o.value)?void 0:a.getBoundingClientRect(),{width:d}=(null==(n=r.value)?void 0:n.getBoundingClientRect())??{width:0},{clientX:u,clientY:p}="touches"in t?t.touches[0]:t,h={x:l/2,y:-l/2},m={x:u-c,y:s-p},v=Math.round(function(e,t){const a=2*Math.atan2(t.y-e.y-T(e,t),t.x-e.x);return Math.abs(180*a/Math.PI)}(h,m)-e.rotate+360)%360,g=e.double&&T(h,m)<(d+d*_.value)/4,y=Math.ceil(15/f.value);let b;for(let e=0;e<y;e++){if(b=S(v+e*f.value,g),x(b))return B(b);if(b=S(v-e*f.value,g),x(b))return B(b)}}function I(t){e.disabled||(t.preventDefault(),window.addEventListener("mousemove",E),window.addEventListener("touchmove",E),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),l.value=null,s.value=null,i.value=!0,E(t))}function $(e){e.stopPropagation(),window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",E),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$),i.value=!1,null!==s.value&&x(s.value)&&a("change",s.value)}watch(()=>e.modelValue,e=>{n.value=e}),useRender(()=>createBaseVNode("div",{class:normalizeClass([{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":null==e.modelValue,"v-time-picker-clock--readonly":e.readonly}]),onMousedown:I,onTouchstart:I,onWheel:V,ref:o},[createBaseVNode("div",{class:"v-time-picker-clock__inner",ref:r},[createBaseVNode("div",{class:normalizeClass([{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":k(e.modelValue)},d.value]),style:normalizeStyle([{transform:`rotate(${e.rotate+f.value*(y.value-e.min)}deg) scaleY(${C(y.value)})`},u.value])},null),b.value.map(t=>{const a=t===y.value;return createBaseVNode("div",{class:normalizeClass([{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":a,"v-time-picker-clock__item--disabled":e.disabled||!x(t)},a&&p.value]),style:normalizeStyle([N(t),a&&h.value])},[createBaseVNode("span",null,[e.format(t)])])})])]))}}),makeVTimePickerControlsProps=propsFactory({ampm:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,value:Number,viewMode:String},"VTimePickerControls"),VTimePickerControls=genericComponent()({name:"VTimePickerControls",props:makeVTimePickerControlsProps(),emits:{"update:period":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const{t:r}=useLocale();return useRender(()=>{let t=e.hour;return e.ampm&&(t=t?(t-1)%12+1:12),createBaseVNode("div",{class:"v-time-picker-controls"},[createBaseVNode("div",{class:normalizeClass({"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds})},[createVNode(VBtn,{active:"hour"===e.viewMode,color:"hour"===e.viewMode?e.color:void 0,disabled:e.disabled,variant:"tonal",class:normalizeClass({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),text:null==e.hour?"--":pad(`${t}`),onClick:()=>a("update:viewMode","hour")},null),createBaseVNode("span",{class:normalizeClass(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}])},[createTextVNode(":")]),createVNode(VBtn,{active:"minute"===e.viewMode,color:"minute"===e.viewMode?e.color:void 0,class:normalizeClass({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":"minute"===e.viewMode,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,variant:"tonal",text:null==e.minute?"--":pad(e.minute),onClick:()=>a("update:viewMode","minute")},null),e.useSeconds&&createBaseVNode("span",{class:normalizeClass(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]),key:"secondsDivider"},[createTextVNode(":")]),e.useSeconds&&createVNode(VBtn,{key:"secondsVal",active:"second"===e.viewMode,color:"second"===e.viewMode?e.color:void 0,variant:"tonal",onClick:()=>a("update:viewMode","second"),class:normalizeClass({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":"second"===e.viewMode,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,text:null==e.second?"--":pad(e.second)},null),e.ampm&&createBaseVNode("div",{class:"v-time-picker-controls__ampm"},[createVNode(VBtn,{active:"am"===e.period,color:"am"===e.period?e.color:void 0,class:normalizeClass({"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":"am"===e.period}),disabled:e.disabled,text:r("$vuetify.timePicker.am"),variant:e.disabled&&"am"===e.period?"elevated":"tonal",onClick:()=>"am"!==e.period?a("update:period","am"):null},null),createVNode(VBtn,{active:"pm"===e.period,color:"pm"===e.period?e.color:void 0,class:normalizeClass({"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":"pm"===e.period}),disabled:e.disabled,text:r("$vuetify.timePicker.pm"),variant:e.disabled&&"pm"===e.period?"elevated":"tonal",onClick:()=>"pm"!==e.period?a("update:period","pm"):null},null)])])])}),{}}}),rangeHours24=createRange(24),rangeHours12am=createRange(12),rangeHours12pm=rangeHours12am.map(e=>e+12);createRange(60);const makeVTimePickerProps=propsFactory({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,viewMode:{type:String,default:"hour"},period:{type:String,default:"am",validator:e=>["am","pm"].includes(e)},modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...omit(makeVPickerProps({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),VTimePicker=genericComponent()({name:"VTimePicker",props:makeVTimePickerProps(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const{t:r}=useLocale(),n=ref$1(null),i=ref$1(null),l=ref$1(null),s=ref$1(null),c=ref$1(null),d=ref$1(null),u=useProxiedModel(e,"period","am"),p=useProxiedModel(e,"viewMode","hour"),h=ref$1(null),m=ref$1(null),v=computed(()=>{let t;if(t=e.allowedHours instanceof Array?t=>e.allowedHours.includes(t):e.allowedHours,!e.min&&!e.max)return t;const a=e.min?Number(e.min.split(":")[0]):0,o=e.max?Number(e.max.split(":")[0]):23;return e=>e>=Number(a)&&e<=Number(o)&&(!t||t(e))}),f=computed(()=>{let t;const a=!v.value||null===n.value||v.value(n.value);if(t=e.allowedMinutes instanceof Array?t=>e.allowedMinutes.includes(t):e.allowedMinutes,!e.min&&!e.max)return a?t:()=>!1;const[o,r]=e.min?e.min.split(":").map(Number):[0,0],[i,l]=e.max?e.max.split(":").map(Number):[23,59],s=60*o+Number(r),c=60*i+Number(l);return e=>{const o=60*n.value+e;return o>=s&&o<=c&&a&&(!t||t(e))}}),g=computed(()=>{let t;const a=(!v.value||null===n.value||v.value(n.value))&&(!f.value||null===i.value||f.value(i.value));if(t=e.allowedSeconds instanceof Array?t=>e.allowedSeconds.includes(t):e.allowedSeconds,!e.min&&!e.max)return a?t:()=>!1;const[o,r,l]=e.min?e.min.split(":").map(Number):[0,0,0],[s,c,d]=e.max?e.max.split(":").map(Number):[23,59,59],u=3600*o+60*r+Number(l||0),p=3600*s+60*c+Number(d||0);return e=>{const o=3600*n.value+60*i.value+e;return o>=u&&o<=p&&a&&(!t||t(e))}}),y=computed(()=>"ampm"===e.format);function _(){return null==n.value||null==i.value||e.useSeconds&&null==l.value?null:`${pad(n.value)}:${pad(i.value)}`+(e.useSeconds?`:${pad(l.value)}`:"")}function b(){const e=_();null!==e&&a("update:modelValue",e)}function w(e){return e?(e-1)%12+1:12}function x(e,t){return e%12+("pm"===t?12:0)}function V(e){if(null==e||""===e)n.value=null,i.value=null,l.value=null;else if(e instanceof Date)n.value=e.getHours(),i.value=e.getMinutes(),l.value=e.getSeconds();else{const[t,,a,,o,r]=e.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);n.value=r?x(parseInt(t,10),r):parseInt(t,10),i.value=parseInt(a,10),l.value=parseInt(o||0,10)}u.value=null==n.value||n.value<12?"am":"pm"}function k(e){if(u.value=e,null!=n.value){const e=n.value+("am"===u.value?-12:12);n.value=function(e,t){const a=v.value;if(!a)return t;const o=y.value?t<12?rangeHours12am:rangeHours12pm:rangeHours24;return((o.find(e=>a((e+t)%o.length+o[0]))||0)+t)%o.length+o[0]}(0,e)}return a("update:period",e),b(),!0}function C(e){"hour"===p.value?n.value=y.value?x(e,u.value):e:"minute"===p.value?i.value=e:l.value=e}function S(t){switch(p.value||"hour"){case"hour":a("update:hour",t);break;case"minute":a("update:minute",t);break;case"second":a("update:second",t)}const o=null!==n.value&&null!==i.value&&(!e.useSeconds||null!==l.value);if("hour"===p.value?p.value="minute":e.useSeconds&&"minute"===p.value&&(p.value="second"),n.value===s.value&&i.value===c.value&&(!e.useSeconds||l.value===d.value))return;null!==_()&&(s.value=n.value,c.value=i.value,e.useSeconds&&(d.value=l.value),o&&b())}watch(()=>e.period,e=>k(e)),watch(()=>e.modelValue,e=>V(e)),onMounted(()=>{V(e.modelValue)}),useRender(()=>{const t=VPicker.filterProps(e),a=VTimePickerControls.filterProps(e),s=VTimePickerClock.filterProps(omit(e,["format","modelValue","min","max"]));return createVNode(VPicker,mergeProps(t,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var t;return(null==(t=o.title)?void 0:t.call(o))??createBaseVNode("div",{class:"v-time-picker__title"},[r(e.title)])},header:()=>createVNode(VTimePickerControls,mergeProps(a,{ampm:y.value,hour:n.value,minute:i.value,period:u.value,second:l.value,viewMode:p.value,"onUpdate:period":e=>k(e),"onUpdate:viewMode":e=>p.value=e,ref:h}),null),default:()=>createVNode(VTimePickerClock,mergeProps(s,{allowedValues:"hour"===p.value?v.value:"minute"===p.value?f.value:g.value,double:"hour"===p.value&&!y.value,format:"hour"===p.value?y.value?w:e=>e:e=>pad(e,2),max:"hour"===p.value?y.value&&"am"===u.value?11:23:59,min:"hour"===p.value&&y.value&&"pm"===u.value?12:0,size:20,step:"hour"===p.value?1:5,modelValue:"hour"===p.value?n.value:"minute"===p.value?i.value:l.value,onChange:S,onInput:C,ref:m}),null),actions:o.actions})})}}),makeVTreeviewGroupProps=propsFactory({...omit(makeVListGroupProps({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),VTreeviewGroup=genericComponent()({name:"VTreeviewGroup",props:makeVTreeviewGroupProps(),setup(e,t){let{slots:a}=t;const o=ref$1(),r=computed(()=>{var t;return(null==(t=o.value)?void 0:t.isOpen)?e.collapseIcon:e.expandIcon}),n=computed(()=>({VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,toggleIcon:r.value}}));return useRender(()=>{const t=VListGroup.filterProps(e);return createVNode(VListGroup,mergeProps(t,{ref:o,class:["v-treeview-group",e.class],subgroup:!0}),{...a,activator:a.activator?e=>createBaseVNode(Fragment,null,[createVNode(VDefaultsProvider,{defaults:n.value},{default:()=>{var t;return[null==(t=a.activator)?void 0:t.call(a,e)]}})]):void 0})}),{}}}),VTreeviewSymbol=Symbol.for("vuetify:v-treeview"),makeVTreeviewItemProps=propsFactory({loading:Boolean,hideActions:Boolean,hasCustomPrepend:Boolean,indentLines:Array,toggleIcon:IconValue,...makeVListItemProps({slim:!0})},"VTreeviewItem"),VTreeviewItem=genericComponent()({name:"VTreeviewItem",props:makeVTreeviewItemProps(),emits:{toggleExpand:e=>!0},setup(e,t){let{slots:a,emit:o}=t;const r=inject(VTreeviewSymbol,{visibleIds:ref$1()}).visibleIds,n=ref$1(),i=computed(()=>{var e,t;return(null==(e=n.value)?void 0:e.root.activatable.value)&&(null==(t=n.value)?void 0:t.isGroupActivator)}),l=computed(()=>{var t,a;return(null==(t=n.value)?void 0:t.link.isClickable.value)||null!=e.value&&!!(null==(a=n.value)?void 0:a.list)}),s=computed(()=>!e.disabled&&!1!==e.link&&(e.link||l.value||i.value)),c=computed(()=>{var e;return r.value&&!r.value.has(toRaw(null==(e=n.value)?void 0:e.id))});function d(e){var t,a;s.value&&i.value&&(null==(a=n.value)||a.activate(!(null==(t=n.value)?void 0:t.isActivated),e))}function u(e){e.preventDefault(),e.stopPropagation(),o("toggleExpand",e)}return useRender(()=>{var t;const o=VListItem.filterProps(e),r=a.prepend||e.toggleIcon||e.indentLines||e.prependIcon||e.prependAvatar;return createVNode(VListItem,mergeProps({ref:n},o,{active:(null==(t=n.value)?void 0:t.isActivated)||void 0,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":i.value,"v-treeview-item--filtered":c.value},e.class],ripple:!1,onClick:d}),{...a,prepend:r?t=>{var o;return createBaseVNode(Fragment,null,[e.indentLines&&e.indentLines.length>0?createBaseVNode("div",{key:"indent-lines",class:"v-treeview-indent-lines",style:{"--v-indent-parts":e.indentLines.length}},[e.indentLines.map(e=>createBaseVNode("div",{class:normalizeClass(`v-treeview-indent-line v-treeview-indent-line--${e}`)},null))]):"",!e.hideActions&&createVNode(VListItemAction,{start:!0},{default:()=>[e.toggleIcon?createBaseVNode(Fragment,null,[a.toggle?createVNode(VDefaultsProvider,{key:"prepend-defaults",defaults:{VBtn:{density:"compact",icon:e.toggleIcon,variant:"text",loading:e.loading},VProgressCircular:{indeterminate:"disable-shrink",size:20,width:2}}},{default:()=>[a.toggle({...t,loading:e.loading,props:{onClick:u}})]}):createVNode(VBtn,{key:"prepend-toggle",density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:u},{loader:()=>createVNode(VProgressCircular,{indeterminate:"disable-shrink",size:"20",width:"2"},null)})]):createBaseVNode("div",{class:"v-treeview-item__level"},null)]}),e.hasCustomPrepend?createVNode(VDefaultsProvider,{key:"prepend-defaults",defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{start:!0}}},{default:()=>{var e;return[null==(e=a.prepend)?void 0:e.call(a,t)]}}):createBaseVNode(Fragment,null,[null==(o=a.prepend)?void 0:o.call(a,t),e.prependAvatar&&createVNode(VAvatar,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&createVNode(VIcon,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])])}:void 0})}),forwardRefs({},n)}}),makeVTreeviewChildrenProps=propsFactory({fluid:Boolean,disabled:Boolean,loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:IconValue,default:"$checkboxIndeterminate"},falseIcon:IconValue,trueIcon:IconValue,returnObject:Boolean,activatable:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object],index:Number,isLastGroup:Boolean,separateRoots:Boolean,parentIndentLines:Array,indentLinesVariant:String,path:{type:Array,default:()=>[]},...pick(makeVTreeviewItemProps(),["hideActions"]),...makeDensityProps()},"VTreeviewChildren"),VTreeviewChildren=genericComponent()({name:"VTreeviewChildren",props:makeVTreeviewChildrenProps(),setup(e,t){let{slots:a}=t;const o=reactive(new Set),r=ref$1([]),n=computed(()=>!e.disabled&&(null!=e.openOnClick?e.openOnClick:e.selectable&&!e.activatable));async function i(t){var a,r;try{if(!(null==(a=e.items)?void 0:a.length)||!e.loadChildren)return;0===(null==(r=null==t?void 0:t.children)?void 0:r.length)&&(o.add(t.value),await e.loadChildren(t.raw))}finally{o.delete(t.value)}}function l(t,a){e.selectable&&t(a)}return()=>{var t,s;return(null==(t=a.default)?void 0:t.call(a))??(null==(s=e.items)?void 0:s.map((t,s,c)=>{var d,u;const{children:p,props:h}=t,m=o.has(t.value),v=!!(null==(d=c.at(s+1))?void 0:d.children),f=(null==(u=e.path)?void 0:u.length)??0,g=c.length-1===s,y={index:s,depth:f,isFirst:0===s,isLast:g,path:[...e.path,s],hideAction:e.hideActions},_=getIndentLines({depth:f,isLast:g,isLastGroup:e.isLastGroup,leafLinks:!e.hideActions&&!e.fluid,separateRoots:e.separateRoots,parentIndentLines:e.parentIndentLines,variant:e.indentLinesVariant}),b={toggle:a.toggle?e=>{var o;return null==(o=a.toggle)?void 0:o.call(a,{...e,...y,item:t.raw,internalItem:t,loading:m})}:void 0,prepend:o=>{var r;return createBaseVNode(Fragment,null,[e.selectable&&(!p||p&&!["leaf","single-leaf"].includes(e.selectStrategy))&&createVNode(VListItemAction,{start:!0},{default:()=>[createVNode(VCheckboxBtn,{key:t.value,modelValue:o.isSelected,disabled:e.disabled,loading:m,color:e.selectedColor,density:e.density,indeterminate:o.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,"onUpdate:modelValue":e=>l(o.select,e),onClick:e=>e.stopPropagation(),onKeydown:e=>{["Enter","Space"].includes(e.key)&&(e.stopPropagation(),l(o.select,o.isSelected))}},null)]}),null==(r=a.prepend)?void 0:r.call(a,{...o,...y,item:t.raw,internalItem:t})])},append:a.append?e=>{var o;return null==(o=a.append)?void 0:o.call(a,{...e,...y,item:t.raw,internalItem:t})}:void 0,title:a.title?e=>{var o;return null==(o=a.title)?void 0:o.call(a,{...e,item:t.raw,internalItem:t})}:void 0,subtitle:a.subtitle?e=>{var o;return null==(o=a.subtitle)?void 0:o.call(a,{...e,item:t.raw,internalItem:t})}:void 0},w=VTreeviewGroup.filterProps(h),x=VTreeviewChildren.filterProps({...e,...y});return p?createVNode(VTreeviewGroup,mergeProps(w,{value:e.returnObject?t.raw:null==w?void 0:w.value,rawId:null==w?void 0:w.value}),{activator:o=>{let{props:c}=o;const d={...h,...c,value:null==h?void 0:h.value,indentLines:_.node,onToggleExpand:[()=>i(t),c.onClick],onClick:n.value?[()=>i(t),c.onClick]:()=>{var e,t;return l(null==(e=r.value[s])?void 0:e.select,!(null==(t=r.value[s])?void 0:t.isSelected))}};return renderSlot$1(a.header,{props:d,item:t.raw,internalItem:t,loading:m},()=>createVNode(VTreeviewItem,mergeProps({ref:e=>r.value[s]=e},d,{hasCustomPrepend:!!a.prepend,hideActions:e.hideActions,value:e.returnObject?t.raw:h.value,loading:m}),b))},default:()=>createVNode(VTreeviewChildren,mergeProps(x,{items:p,indentLinesVariant:e.indentLinesVariant,parentIndentLines:_.children,isLastGroup:v,returnObject:e.returnObject}),a)}):renderSlot$1(a.item,{props:h,item:t.raw,internalItem:t},()=>"divider"===t.type?renderSlot$1(a.divider,{props:t.raw},()=>createVNode(VDivider,t.props,null)):"subheader"===t.type?renderSlot$1(a.subheader,{props:t.raw},()=>createVNode(VListSubheader,t.props,null)):createVNode(VTreeviewItem,mergeProps(h,{hasCustomPrepend:!!a.prepend,hideActions:e.hideActions,indentLines:_.leaf,value:e.returnObject?toRaw(t.raw):h.value}),b))}))}}});function flatten(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const a of e)t.push(a),a.children&&flatten(a.children,t);return t}const makeVTreeviewProps=propsFactory({openAll:Boolean,indentLines:[Boolean,String],search:String,...makeFilterProps({filterKeys:["title"]}),...omit(makeVTreeviewChildrenProps(),["index","path","indentLinesVariant","parentIndentLines","isLastGroup"]),...omit(makeVListProps({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["nav","openStrategy"]),modelValue:Array},"VTreeview"),VTreeview=genericComponent()({name:"VTreeview",props:makeVTreeviewProps(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:a,emit:o}=t;const{items:r}=useListItems(e),n=toRef(()=>e.activeColor),i=toRef(()=>e.baseColor),l=toRef(()=>e.color),s=useProxiedModel(e,"activated"),c=useProxiedModel(e,"selected"),d=computed({get:()=>e.modelValue??c.value,set(e){c.value=e,o("update:modelValue",e)}}),u=ref$1(),p=computed(()=>e.openAll?y(r.value):e.opened),h=computed(()=>flatten(r.value)),m=toRef(()=>e.search),{filteredItems:v}=useFilter(e,h,m),f=computed(()=>{var t;if(!m.value)return null;const a=null==(t=u.value)?void 0:t.getPath;return a?new Set(v.value.flatMap(t=>{const o=e.returnObject?t.raw:t.props.value;return[...a(o),...g(o)].map(toRaw)})):null});function g(e){var t,a;const o=[],r=((null==(t=u.value)?void 0:t.children.get(e))??[]).slice();for(;r.length;){const e=r.shift();e&&(o.push(e),r.push(...((null==(a=u.value)?void 0:a.children.get(e))??[]).slice()))}return o}function y(t){let a=[];for(const o of t)o.children&&(a.push(e.returnObject?toRaw(o.raw):o.value),o.children&&(a=a.concat(y(o.children))));return a}return provide(VTreeviewSymbol,{visibleIds:f}),provideDefaults({VTreeviewGroup:{activeColor:n,baseColor:i,color:l,collapseIcon:toRef(()=>e.collapseIcon),expandIcon:toRef(()=>e.expandIcon)},VTreeviewItem:{activeClass:toRef(()=>e.activeClass),activeColor:n,baseColor:i,color:l,density:toRef(()=>e.density),disabled:toRef(()=>e.disabled),lines:toRef(()=>e.lines),variant:toRef(()=>e.variant)}}),useRender(()=>{const t=VList.filterProps(e),o=VTreeviewChildren.filterProps(e),n="boolean"==typeof e.indentLines?"default":e.indentLines;return createVNode(VList,mergeProps({ref:u},t,{class:["v-treeview",{"v-treeview--fluid":e.fluid},e.class],openStrategy:"multiple",style:e.style,opened:p.value,activated:s.value,"onUpdate:activated":e=>s.value=e,selected:d.value,"onUpdate:selected":e=>d.value=e}),{default:()=>[createVNode(VTreeviewChildren,mergeProps(o,{density:e.density,returnObject:e.returnObject,items:r.value,parentIndentLines:e.indentLines?[]:void 0,indentLinesVariant:n}),a)]})}),{}}}),VValidation=genericComponent()({name:"VValidation",props:makeValidationProps(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=useValidation(e,"validation");return()=>{var e;return null==(e=a.default)?void 0:e.call(a,o)}}}),components=Object.freeze(Object.defineProperty({__proto__:null,VAlert:VAlert,VAlertTitle:VAlertTitle,VApp:VApp,VAppBar:VAppBar,VAppBarNavIcon:VAppBarNavIcon,VAppBarTitle:VAppBarTitle,VAutocomplete:VAutocomplete,VAvatar:VAvatar,VBadge:VBadge,VBanner:VBanner,VBannerActions:VBannerActions,VBannerText:VBannerText,VBottomNavigation:VBottomNavigation,VBottomSheet:VBottomSheet,VBreadcrumbs:VBreadcrumbs,VBreadcrumbsDivider:VBreadcrumbsDivider,VBreadcrumbsItem:VBreadcrumbsItem,VBtn:VBtn,VBtnGroup:VBtnGroup,VBtnToggle:VBtnToggle,VCard:VCard,VCardActions:VCardActions,VCardItem:VCardItem,VCardSubtitle:VCardSubtitle,VCardText:VCardText,VCardTitle:VCardTitle,VCarousel:VCarousel,VCarouselItem:VCarouselItem,VCheckbox:VCheckbox,VCheckboxBtn:VCheckboxBtn,VChip:VChip,VChipGroup:VChipGroup,VClassIcon:VClassIcon,VCode:VCode,VCol:VCol,VColorPicker:VColorPicker,VCombobox:VCombobox,VComponentIcon:VComponentIcon,VConfirmEdit:VConfirmEdit,VContainer:VContainer,VCounter:VCounter,VDataIterator:VDataIterator,VDataTable:VDataTable,VDataTableFooter:VDataTableFooter,VDataTableHeaders:VDataTableHeaders,VDataTableRow:VDataTableRow,VDataTableRows:VDataTableRows,VDataTableServer:VDataTableServer,VDataTableVirtual:VDataTableVirtual,VDatePicker:VDatePicker,VDatePickerControls:VDatePickerControls,VDatePickerHeader:VDatePickerHeader,VDatePickerMonth:VDatePickerMonth,VDatePickerMonths:VDatePickerMonths,VDatePickerYears:VDatePickerYears,VDefaultsProvider:VDefaultsProvider,VDialog:VDialog,VDialogBottomTransition:VDialogBottomTransition,VDialogTopTransition:VDialogTopTransition,VDialogTransition:VDialogTransition,VDivider:VDivider,VEmptyState:VEmptyState,VExpandTransition:VExpandTransition,VExpandXTransition:VExpandXTransition,VExpansionPanel:VExpansionPanel,VExpansionPanelText:VExpansionPanelText,VExpansionPanelTitle:VExpansionPanelTitle,VExpansionPanels:VExpansionPanels,VFab:VFab,VFabTransition:VFabTransition,VFadeTransition:VFadeTransition,VField:VField,VFieldLabel:VFieldLabel,VFileInput:VFileInput,VFooter:VFooter,VForm:VForm,VHover:VHover,VIcon:VIcon,VImg:VImg,VInfiniteScroll:VInfiniteScroll,VInput:VInput,VItem:VItem,VItemGroup:VItemGroup,VKbd:VKbd,VLabel:VLabel,VLayout:VLayout,VLayoutItem:VLayoutItem,VLazy:VLazy,VLigatureIcon:VLigatureIcon,VList:VList,VListGroup:VListGroup,VListImg:VListImg,VListItem:VListItem,VListItemAction:VListItemAction,VListItemMedia:VListItemMedia,VListItemSubtitle:VListItemSubtitle,VListItemTitle:VListItemTitle,VListSubheader:VListSubheader,VLocaleProvider:VLocaleProvider,VMain:VMain,VMenu:VMenu,VMessages:VMessages,VNavigationDrawer:VNavigationDrawer,VNoSsr:VNoSsr,VNumberInput:VNumberInput,VOtpInput:VOtpInput,VOverlay:VOverlay,VPagination:VPagination,VParallax:VParallax,VProgressCircular:VProgressCircular,VProgressLinear:VProgressLinear,VRadio:VRadio,VRadioGroup:VRadioGroup,VRangeSlider:VRangeSlider,VRating:VRating,VResponsive:VResponsive,VRow:VRow,VScaleTransition:VScaleTransition,VScrollXReverseTransition:VScrollXReverseTransition,VScrollXTransition:VScrollXTransition,VScrollYReverseTransition:VScrollYReverseTransition,VScrollYTransition:VScrollYTransition,VSelect:VSelect,VSelectionControl:VSelectionControl,VSelectionControlGroup:VSelectionControlGroup,VSheet:VSheet,VSkeletonLoader:VSkeletonLoader,VSlideGroup:VSlideGroup,VSlideGroupItem:VSlideGroupItem,VSlideXReverseTransition:VSlideXReverseTransition,VSlideXTransition:VSlideXTransition,VSlideYReverseTransition:VSlideYReverseTransition,VSlideYTransition:VSlideYTransition,VSlider:VSlider,VSnackbar:VSnackbar,VSnackbarQueue:VSnackbarQueue,VSpacer:VSpacer,VSparkline:VSparkline,VSpeedDial:VSpeedDial,VStepper:VStepper,VStepperActions:VStepperActions,VStepperHeader:VStepperHeader,VStepperItem:VStepperItem,VStepperWindow:VStepperWindow,VStepperWindowItem:VStepperWindowItem,VSvgIcon:VSvgIcon,VSwitch:VSwitch,VSystemBar:VSystemBar,VTab:VTab,VTable:VTable,VTabs:VTabs,VTabsWindow:VTabsWindow,VTabsWindowItem:VTabsWindowItem,VTextField:VTextField,VTextarea:VTextarea,VThemeProvider:VThemeProvider,VTimePicker:VTimePicker,VTimePickerClock:VTimePickerClock,VTimePickerControls:VTimePickerControls,VTimeline:VTimeline,VTimelineItem:VTimelineItem,VToolbar:VToolbar,VToolbarItems:VToolbarItems,VToolbarTitle:VToolbarTitle,VTooltip:VTooltip,VTreeview:VTreeview,VTreeviewGroup:VTreeviewGroup,VTreeviewItem:VTreeviewItem,VValidation:VValidation,VVirtualScroll:VVirtualScroll,VWindow:VWindow,VWindowItem:VWindowItem},Symbol.toStringTag,{value:"Module"}));function mounted$2(e,t){const a=t.modifiers||{},o=t.value,{once:r,immediate:n,...i}=a,l=!Object.keys(i).length,{handler:s,options:c}="object"==typeof o?o:{handler:o,options:{attributes:(null==i?void 0:i.attr)??l,characterData:(null==i?void 0:i.char)??l,childList:(null==i?void 0:i.child)??l,subtree:(null==i?void 0:i.sub)??l}},d=new MutationObserver(function(){null==s||s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1?arguments[1]:void 0),r&&unmounted$2(e,t)});n&&(null==s||s([],d)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,c)}function unmounted$2(e,t){var a;(null==(a=e._mutate)?void 0:a[t.instance.$.uid])&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Mutate={mounted:mounted$2,unmounted:unmounted$2};function mounted$1(e,t){var a,o;const r=t.value,n={passive:!(null==(a=t.modifiers)?void 0:a.active)};window.addEventListener("resize",r,n),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:r,options:n},(null==(o=t.modifiers)?void 0:o.quiet)||r()}function unmounted$1(e,t){var a;if(!(null==(a=e._onResize)?void 0:a[t.instance.$.uid]))return;const{handler:o,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",o,r),delete e._onResize[t.instance.$.uid]}const Resize={mounted:mounted$1,unmounted:unmounted$1};function mounted(e,t){const{self:a=!1}=t.modifiers??{},o=t.value,r="object"==typeof o&&o.options||{passive:!0},n="function"==typeof o||"handleEvent"in o?o:o.handler,i=a?e:t.arg?document.querySelector(t.arg):window;i&&(i.addEventListener("scroll",n,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:n,options:r,target:a?void 0:i})}function unmounted(e,t){var a;if(!(null==(a=e._onScroll)?void 0:a[t.instance.$.uid]))return;const{handler:o,options:r,target:n=e}=e._onScroll[t.instance.$.uid];n.removeEventListener("scroll",o,r),delete e._onScroll[t.instance.$.uid]}function updated(e,t){t.value!==t.oldValue&&(unmounted(e,t),mounted(e,t))}const Scroll={mounted:mounted,unmounted:unmounted,updated:updated};function useDirectiveComponent(e,t){const a=mountComponent("string"==typeof e?resolveComponent(e):e,t);return{mounted:a,updated:a,unmounted(e){render(null,e)}}}function mountComponent(e,t){return function(a,o,r){var n,i,l;const s="function"==typeof t?t(o):t,c=(null==(n=o.value)?void 0:n.text)??o.value??(null==s?void 0:s.text),d=isObject$3(o.value)?o.value:{},u=(r.ctx===o.instance.$?null==(i=findComponentParent(r,o.instance.$))?void 0:i.provides:null==(l=r.ctx)?void 0:l.provides)??o.instance.$.provides,p=h$1(e,mergeProps(s,d),()=>c??a.textContent);p.appContext=Object.assign(Object.create(null),o.instance.$.appContext,{provides:u}),render(p,a)}}function findComponentParent(e,t){const a=new Set,o=t=>{var r,n;for(const i of t){if(!i)continue;if(i===e||i.el&&e.el&&i.el===e.el)return!0;let t;if(a.add(i),i.suspense?t=o([i.ssContent]):Array.isArray(i.children)?t=o(i.children):(null==(r=i.component)?void 0:r.vnode)&&(t=o([null==(n=i.component)?void 0:n.subTree])),t)return t;a.delete(i)}return!1};if(!o([t.subTree]))return t;const r=Array.from(a).reverse();for(const n of r)if(n.component)return n.component;return t}const Tooltip=useDirectiveComponent(VTooltip,e=>{var t;return{activator:"parent",location:null==(t=e.arg)?void 0:t.replace("-"," "),text:"boolean"==typeof e.value?void 0:e.value}}),directives=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:ClickOutside,Intersect:Intersect,Mutate:Mutate,Resize:Resize,Ripple:Ripple,Scroll:Scroll,Tooltip:Tooltip,Touch:Touch},Symbol.toStringTag,{value:"Module"})),vuetify=createVuetify({components:components,directives:directives,theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#0037B7",secondary:"#0037B7",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",mainbg:"#fff",maintext:"#000",secbg:"#F1F3F8",subtext:"#666666",outline:"#EBEEF0",subline:"#454344",mainred:"#F23645",maingreen:"#43A833",secred:"#ffcdcd90",secgreen:"#ECF8F1",cardbg:"#ffffff",btnclr:"#000",btntext:"#fff",primhover:"#CFD9F2",statcard:"#FAFBFF",loaderbg:"#FAFBFF"}},dark:{colors:{primary:"#2E65F6",secondary:"#2E65F6",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",mainbg:"#000",maintext:"#fff",secbg:"#1E1E1E",subtext:"#999999",outline:"#222222",subline:"#EBEEF0",mainred:"#FF1717",maingreen:"#1BBC00",secred:"#FF17173a",secgreen:"#49c5333a",cardbg:"#121212",btnclr:"#B0BEC5",btntext:"#000",primhover:"#2E65F61a",statcard:"#1E1E1E",loaderbg:"rgba(0, 0, 0, 0.12)"}}}},icons:{defaultSet:"mdi"}});function cleanupFirebaseStorage(){try{const e=[];for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);a&&a.startsWith("firebase:")&&e.push(a)}e.forEach(e=>{try{localStorage.removeItem(e),console.log(`🧹 Cleaned up Firebase key: ${e}`)}catch(e2){console.warn(`⚠️ Could not remove Firebase key ${e}:`,e2)}}),e.length>0&&console.log(`✅ Cleaned up ${e.length} Firebase storage keys`)}catch(error2){console.warn("⚠️ Error cleaning Firebase storage:",error2)}}function cleanupOldSessionData(){try{const e=["userid","usession","msession","wsstat","c3RhdHVz","profile_data","client_data"],t=[];for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);o&&(e.includes(o)||o.startsWith("firebase:")||o.includes("_wllayout")||t.push(o))}t.forEach(e=>{try{localStorage.removeItem(e),console.log(`🧹 Cleaned up old key: ${e}`)}catch(e2){console.warn(`⚠️ Could not remove key ${e}:`,e2)}})}catch(error2){console.warn("⚠️ Error cleaning old session data:",error2)}}function getStorageSize(){try{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=localStorage[t].length+t.length);return e}catch(error2){return 0}}function checkAndCleanupStorage(){try{const e=getStorageSize(),t=5242880;console.log(`📊 Current storage size: ${(e/1024).toFixed(2)}KB / ${(t/1024).toFixed(2)}KB`),e>.8*t&&(console.log("🧹 Storage > 80% full, cleaning up..."),cleanupFirebaseStorage(),cleanupOldSessionData())}catch(error2){console.warn("⚠️ Error checking storage:",error2)}}function initStorageCleanup(){cleanupFirebaseStorage(),setInterval(()=>{checkAndCleanupStorage()},3e5),checkAndCleanupStorage()}const storageCleanup=Object.freeze(Object.defineProperty({__proto__:null,checkAndCleanupStorage:checkAndCleanupStorage,cleanupFirebaseStorage:cleanupFirebaseStorage,cleanupOldSessionData:cleanupOldSessionData,getStorageSize:getStorageSize,initStorageCleanup:initStorageCleanup},Symbol.toStringTag,{value:"Module"})),app=createApp(_sfc_main$T);app.use(createPinia()),app.use(router),app.use(vuetify),initStorageCleanup(),window.addEventListener("error",e=>{if(e.error&&("QuotaExceededError"===e.error.name||22===e.error.code))return console.warn("⚠️ QuotaExceededError detected, cleaning up storage..."),__vitePreload(async()=>{const{cleanupFirebaseStorage:e,cleanupOldSessionData:t}=await Promise.resolve().then(()=>storageCleanup);return{cleanupFirebaseStorage:e,cleanupOldSessionData:t}},void 0).then(({cleanupFirebaseStorage:e,cleanupOldSessionData:t})=>{e(),t()}).catch(e=>console.error("Error importing cleanup utility:",e)),e.preventDefault(),!1},!0),window.addEventListener("unhandledrejection",e=>{!e.reason||"QuotaExceededError"!==e.reason.name&&22!==e.reason.code||(console.warn("⚠️ Unhandled QuotaExceededError in promise, cleaning up storage..."),__vitePreload(async()=>{const{cleanupFirebaseStorage:e,cleanupOldSessionData:t}=await Promise.resolve().then(()=>storageCleanup);return{cleanupFirebaseStorage:e,cleanupOldSessionData:t}},void 0).then(({cleanupFirebaseStorage:e,cleanupOldSessionData:t})=>{e(),t()}).catch(e=>console.error("Error importing cleanup utility:",e)),e.preventDefault())}),app.directive("watchlist-scroll",{mounted(e){const t=t=>{e.scrollTop+=t.deltaY,t.preventDefault()};e.__wl_onWheel=t,e.addEventListener("wheel",t,{passive:!1})},unmounted(e){e.__wl_onWheel&&(e.removeEventListener("wheel",e.__wl_onWheel),delete e.__wl_onWheel)}}),app.mount("#app")}});export default require_index_001();
