var e=Object.getOwnPropertyNames;import{J as t,d as a,f as l,t as n,K as o,n as s,v as i,y as r,F as u,q as d,L as c,D as p,p as m,h as v,A as h,w as f,r as g,H as y,M as b,u as x,x as w,m as _,s as k,T as S,o as C,a as I,N as E,O as T,I as N,P as M,Q as A,e as O,B as P,l as F,R as L,k as D,S as V,U as B,V as $,W as R,X as z,Y as U,Z as q,_ as H,$ as j,a0 as W,a1 as Y,b as G,a2 as K,c as X,E as J,a3 as Q,a4 as Z,a5 as ee,a6 as te,a7 as ae,a8 as le,a9 as ne,aa as oe,ab as se,ac as ie,ad as re,ae as ue,af as de,ag as ce,ah as pe,j as me,ai as ve,aj as he,ak as fe,al as ge,am as ye,an as be}from"./vue-vendor-D9af0Ypx.js";import{p as xe,g as we,d as _e,i as ke,a as Se,b as Ce,c as Ie,e as Ee,f as Te,h as Ne,u as Me,m as Ae,j as Oe,k as Pe,l as Fe,n as Le,w as De,o as Ve,q as Be,r as $e,s as Re,t as ze,I as Ue,v as qe,S as He,x as je,y as We,P as Ye,z as Ge,A as Ke,B as Xe,C as Je,D as Qe,E as Ze,F as et,G as tt,H as at,J as lt,K as nt,L as ot,M as st,N as it,O as rt,Q as ut,R as dt,T as ct,U as pt,V as mt,W as vt,X as ht,Y as ft,Z as gt,_ as yt,$ as bt,a0 as xt,a1 as wt,a2 as _t,a3 as kt,a4 as St,a5 as Ct,a6 as It,a7 as Et,a8 as Tt,a9 as Nt,aa as Mt,ab as At,ac as Ot,ad as Pt,ae as Ft,af as Lt,ag as Dt,ah as Vt,ai as Bt,aj as $t,ak as Rt,al as zt,am as Ut,an as qt,ao as Ht,ap as jt,aq as Wt,ar as Yt,as as Gt,at as Kt,au as Xt,av as Jt,aw as Qt,ax as Zt,ay as ea,az as ta,aA as aa,aB as la,aC as na,aD as oa,aE as sa,aF as ia,aG as ra,aH as ua,aI as da,aJ as ca,aK as pa,aL as ma,aM as va,aN as ha,aO as fa,aP as ga,aQ as ya,aR as ba,aS as xa,aT as wa,aU as _a,aV as ka,aW as Sa,aX as Ca,aY as Ia,aZ as Ea,a_ as Ta,a$ as Na,b0 as Ma,b1 as Aa,b2 as Oa,b3 as Pa,b4 as Fa,b5 as La,b6 as Da,b7 as Va,b8 as Ba,b9 as $a,ba as Ra,bb as za}from"./vuetify-vendor-B-KY0umX.js";import{V as Ua,d as qa,i as Ha,l as ja,L as Wa,g as Ya}from"./chart-vendor-CEM9YIeh.js";var Ga,Ka,Xa=(Ga={"assets/index-ErwLYZdk.js"(e,Ga){var Ka;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Xa={},Ja=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));l=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Xa)return;Xa[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},Qa=t("app",()=>{const e=a(!1),t=a("#121212"),l=a(""),n=a(!1),o=a(!0),s=a(!1),i=a(null),r=a(!1),u=a([]),d=a([]),c=a({stickysrc:!1,quicksrc:!1,expos:"MKT",mktpro:5,qtypre:"0",mainpreitems:{NSE:["CNC","LMT","DAY",""],BSE:["CNC","LMT","DAY",""],MCX:["NRML","LMT","DAY",""],NFO:["NRML","LMT","DAY",""],CDS:["NRML","LMT","DAY",""],BFO:["NRML","LMT","EOS",""],BCD:["NRML","LMT","EOS",""]}}),p=a(!0),m=a(!1),v=a(!1),h=()=>{sessionStorage.removeItem("usession"),sessionStorage.removeItem("userid"),sessionStorage.removeItem("msession"),sessionStorage.removeItem("imei"),localStorage.removeItem("profile_data")},f=e=>{v.value=e,document.title=(e?"❕":"")+"MYNT by Zebu - Invest & Trade",m.value=e};return{snackbar:e,snackcolor:t,snacktxt:l,subloader:n,mainloader:o,showalert:s,showalertmsg:i,wllayout:r,snackalerts:u,wsorderalertdata:d,orderprefd:c,onlinestat:p,onLinebanner:m,lowConnection:v,showSnackbar:(a,n)=>{if("[]"==JSON.stringify(n)||/^Error Occurred : \d+ "no data"$/.test(n))return;let o=n;"object"==typeof n&&null!==n&&(o=n.emsg||n.message||n.toString());const s="string"==typeof o&&(o.toLowerCase().includes("session expired")||o.toLowerCase().includes("invalid session key")||o.toLowerCase().includes("session expired : invalid session key")),i="attempt"===o||"string"==typeof o&&o.includes("attempt")&&!s||"string"==typeof o&&o.includes("WebSocket")&&!s;if(!i||s){if(e.value=!0,s||n&&"object"==typeof n&&"Request failed with status code 401"==n.message||"string"==typeof o&&o.includes("Session Expired")||"mobile_unique not valid"==o?(t.value="warning",l.value=s?o:"Session has expired. Please log in again.",setTimeout(()=>{h()},100)):n&&!i&&(t.value=0==a?"error":1==a?"success":"warning",l.value="500"==o?"Network/Internal Server Error":o),e.value){u.value.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:l.value});const e=sessionStorage.getItem("userid");if(e){const t=e+(new Date).toLocaleDateString();sessionStorage.setItem(t,JSON.stringify(u.value))}}}else e.value=!1},hideSnackbar:()=>{e.value=!1},showLoader:()=>{n.value=!0},hideLoader:()=>{n.value=!1},setMainLoader:e=>{o.value=e},showAlert:e=>{e&&e.callback&&(s.value=!0,i.value=e)},hideAlert:()=>{s.value=!1,i.value=null},toggleWatchlistLayout:()=>{r.value=!r.value;const e=sessionStorage.getItem("userid");e&&localStorage.setItem(`${e}_wllayout`,JSON.stringify(r.value))},setWatchlistLayout:e=>{r.value=e},resetStorage:h,addWSOrderAlert:e=>{if(!e)return;const t=`Your ${"S"==e.trantype?"SELL":"BUY"} order ${e.norenordno} for <br> ${e.tsym} in ${e.exch} is ${e.status}`;if(d.value.push({message:t,timeout:3e3,color:"COMPLETE"==e.status?"success":"REJECTED"==e.status||"CANCELED"==e.status?"error":"warning"}),e&&e.status){const e=sessionStorage.getItem("userid");if(e){u.value.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:t});const a=e+(new Date).toLocaleDateString();sessionStorage.setItem(a,JSON.stringify(u.value))}}},getOrderPref:()=>c.value,setOrderPref:e=>{c.value={...c.value,...e}},setConnectionStatus:e=>{p.value=e,m.value&&e?(document.title="MYNT by Zebu - Invest & Trade",setTimeout(()=>{m.value=!1},3e3)):(document.title="❗MYNT by Zebu - Invest & Trade",m.value=!0)},setLowConnection:f,checkConnectionSpeed:()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&p.value&&f(["2g","slow-2g"].includes(e.effectiveType))}}});var Za=new URL(window.location.href).searchParams;const el="app"==Za.get("src"),tl={myntapi:"https://go.mynt.in/NorenWClientWeb/",webSocketURL:"wss://go.mynt.in/NorenWSWeb/",source:"API"};var al=Za.get("user"),ll=Za.get("usession");Za.get("dark");const nl={wss:"wss://ws.zebull.in/NorenWS/",clientid:al,token:ll,myntapi:"https://go.mynt.in/NorenWClient/",source:"MOB"},ol={banklogo:"https://ekycbe.mynt.in/zebu",imgicon:"https://besim.zebull.in/static/equity/icons/",searchapi:"https://v3.mynt.in/search/",eqapi:"https://v3.mynt.in/equity/",copy:"https://copy.mynt.in/",mfapi:"https://v3.mynt.in/mf/",mfnewapi:"https://v3.mynt.in/mfapi/",masterfileapi:"https://v3.mynt.in/mf/",exmynt:"https://be.zebull.in/",bondapi:"https://besim.zebull.in/",iposapi:"https://v3.mynt.in/ipo/",collapi:"https://v3.mynt.in/collection/",ledger:"https://rekycbe.mynt.in/",upiurl:"https://fundapi.mynt.in/",repapi:"https://rekycbe.mynt.in/report/",asvrapi:"https://asvr.mynt.in/bcast/",autho:"https://rekycbe.mynt.in/autho/",sessapi:"https://sess.mynt.in/",zebuApiUrl:"https://be.mynt.in/"};var sl={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const il="${JSCORE_VERSION}",rl=function(e,t){if(!e)throw ul(t)},ul=function(e){return new Error("Firebase Database ("+il+") INTERNAL ASSERT FAILED: "+e)},dl=function(e){const t=[];let a=0;for(let l=0;l<e.length;l++){let n=e.charCodeAt(l);n<128?t[a++]=n:n<2048?(t[a++]=n>>6|192,t[a++]=63&n|128):55296==(64512&n)&&l+1<e.length&&56320==(64512&e.charCodeAt(l+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++l)),t[a++]=n>>18|240,t[a++]=n>>12&63|128,t[a++]=n>>6&63|128,t[a++]=63&n|128):(t[a++]=n>>12|224,t[a++]=n>>6&63|128,t[a++]=63&n|128)}return t},cl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let n=0;n<e.length;n+=3){const t=e[n],o=n+1<e.length,s=o?e[n+1]:0,i=n+2<e.length,r=i?e[n+2]:0,u=t>>2,d=(3&t)<<4|s>>4;let c=(15&s)<<2|r>>6,p=63&r;i||(p=64,o||(c=64)),l.push(a[u],a[d],a[c],a[p])}return l.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let a=0,l=0;for(;a<e.length;){const n=e[a++];if(n<128)t[l++]=String.fromCharCode(n);else if(n>191&&n<224){const o=e[a++];t[l++]=String.fromCharCode((31&n)<<6|63&o)}else if(n>239&&n<365){const o=((7&n)<<18|(63&e[a++])<<12|(63&e[a++])<<6|63&e[a++])-65536;t[l++]=String.fromCharCode(55296+(o>>10)),t[l++]=String.fromCharCode(56320+(1023&o))}else{const o=e[a++],s=e[a++];t[l++]=String.fromCharCode((15&n)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let n=0;n<e.length;){const t=a[e.charAt(n++)],o=n<e.length?a[e.charAt(n)]:0;++n;const s=n<e.length?a[e.charAt(n)]:64;++n;const i=n<e.length?a[e.charAt(n)]:64;if(++n,null==t||null==o||null==s||null==i)throw new pl;const r=t<<2|o>>4;if(l.push(r),64!==s){const e=o<<4&240|s>>2;if(l.push(e),64!==i){const e=s<<6&192|i;l.push(e)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class pl extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ml=function(e){const t=dl(e);return cl.encodeByteArray(t,!0)},vl=function(e){return ml(e).replace(/\./g,"")},hl=function(e){try{return cl.decodeString(e,!0)}catch(SJ){console.error("base64Decode failed: ",SJ)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function fl(e){return gl(void 0,e)}function gl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const a in t)t.hasOwnProperty(a)&&yl(a)&&(e[a]=gl(e[a],t[a]));return e}function yl(e){return"__proto__"!==e}
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const bl=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xl=()=>{try{return bl()||(()=>{if("undefined"==typeof process)return;const e=sl.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(SJ){return}const t=e&&hl(e[1]);return t&&JSON.parse(t)})()}catch(SJ){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${SJ}`)}},wl=e=>{const t=(e=>{var t,a;return null===(a=null===(t=xl())||void 0===t?void 0:t.emulatorHosts)||void 0===a?void 0:a[e]})(e);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(a+1),10);return"["===t[0]?[t.substring(1,a-1),l]:[t.substring(0,a),l]},_l=()=>{var e;return null===(e=xl())||void 0===e?void 0:e.config};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,a))}}}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sl(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Cl(){try{return"object"==typeof indexedDB}catch(SJ){return!1}}function Il(){return new Promise((e,t)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(l);n.onsuccess=()=>{n.result.close(),a||self.indexedDB.deleteDatabase(l),e(!0)},n.onupgradeneeded=()=>{a=!1},n.onerror=()=>{var e;t((null===(e=n.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}class El extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name="FirebaseError",Object.setPrototypeOf(this,El.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},l=`${this.service}/${e}`,n=this.errors[e],o=n?function(e,t){return e.replace(Nl,(e,a)=>{const l=t[a];return null!=l?String(l):`<${a}?>`})}(n,a):"Error",s=`${this.serviceName}: ${o} (${l}).`;return new El(l,s,a)}}const Nl=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ml(e){return JSON.parse(e)}function Al(e){return JSON.stringify(e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Ol=function(e){let t={},a={},l={},n="";try{const o=e.split(".");t=Ml(hl(o[0])||""),a=Ml(hl(o[1])||""),n=o[2],l=a.d||{},delete a.d}catch(SJ){}return{header:t,claims:a,data:l,signature:n}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Pl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fl(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ll(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dl(e,t,a){const l={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=t.call(a,e[n],n,e));return l}function Vl(e,t){if(e===t)return!0;const a=Object.keys(e),l=Object.keys(t);for(const n of a){if(!l.includes(n))return!1;const a=e[n],o=t[n];if(Bl(a)&&Bl(o)){if(!Vl(a,o))return!1}else if(a!==o)return!1}for(const n of l)if(!a.includes(n))return!1;return!0}function Bl(e){return null!==e&&"object"==typeof e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class $l{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const a=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)a[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)a[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=a[d-3]^a[d-8]^a[d-14]^a[d-16];a[d]=4294967295&(e<<1|e>>>31)}let l,n,o=this.chain_[0],s=this.chain_[1],i=this.chain_[2],r=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=r^s&(i^r),n=1518500249):(l=s^i^r,n=1859775393):d<60?(l=s&i|r&(s|i),n=2400959708):(l=s^i^r,n=3395469782);const e=(o<<5|o>>>27)+l+u+n+a[d]&4294967295;u=r,r=i,i=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+i&4294967295,this.chain_[3]=this.chain_[3]+r&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const a=t-this.blockSize;let l=0;const n=this.buf_;let o=this.inbuf_;for(;l<t;){if(0===o)for(;l<=a;)this.compress_(e,l),l+=this.blockSize;if("string"==typeof e){for(;l<t;)if(n[o]=e.charCodeAt(l),++o,++l,o===this.blockSize){this.compress_(n),o=0;break}}else for(;l<t;)if(n[o]=e[l],++o,++l,o===this.blockSize){this.compress_(n),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=255&t,t/=256;this.compress_(this.buf_);let a=0;for(let l=0;l<5;l++)for(let t=24;t>=0;t-=8)e[a]=this.chain_[l]>>t&255,++a;return e}}function Rl(e,t){return`${e} failed: ${t} argument `}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const zl=function(e){let t=0;for(let a=0;a<e.length;a++){const l=e.charCodeAt(a);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,a++):t+=3}return t};function Ul(e,t=1e3,a=2){const l=t*Math.pow(a,e),n=Math.round(.5*l*(Math.random()-.5)*2);return Math.min(144e5,l+n)}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ql(e){return e&&e._delegate?e._delegate:e}class Hl{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const jl="[DEFAULT]";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Wl{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new kl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&e.resolve(a)}catch(SJ){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),l=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(a)&&!this.shouldAutoInitialize()){if(l)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:a})}catch(SJ){if(l)return null;throw SJ}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e))try{this.getOrInitializeService({instanceIdentifier:jl})}catch(SJ){}for(const[e,t]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:a});t.resolve(e)}catch(SJ){}}}}clearInstance(e=jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=jl){return this.instances.has(e)}getOptions(e=jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[n,o]of this.instancesDeferred.entries())a===this.normalizeInstanceIdentifier(n)&&o.resolve(l);return l}onInit(e,t){var a;const l=this.normalizeInstanceIdentifier(t),n=null!==(a=this.onInitCallbacks.get(l))&&void 0!==a?a:new Set;n.add(e),this.onInitCallbacks.set(l,n);const o=this.instances.get(l);return o&&e(o,l),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const n of a)try{n(e,t)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(l=e,l===jl?void 0:l),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch(n){}var l;return a||null}normalizeInstanceIdentifier(e=jl){return this.component?this.component.multipleInstances?e:jl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gl,Kl;(Kl=Gl||(Gl={}))[Kl.DEBUG=0]="DEBUG",Kl[Kl.VERBOSE=1]="VERBOSE",Kl[Kl.INFO=2]="INFO",Kl[Kl.WARN=3]="WARN",Kl[Kl.ERROR=4]="ERROR",Kl[Kl.SILENT=5]="SILENT";const Xl={debug:Gl.DEBUG,verbose:Gl.VERBOSE,info:Gl.INFO,warn:Gl.WARN,error:Gl.ERROR,silent:Gl.SILENT},Jl=Gl.INFO,Ql={[Gl.DEBUG]:"log",[Gl.VERBOSE]:"log",[Gl.INFO]:"info",[Gl.WARN]:"warn",[Gl.ERROR]:"error"},Zl=(e,t,...a)=>{if(t<e.logLevel)return;const l=(new Date).toISOString(),n=Ql[t];if(!n)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[n](`[${l}]  ${e.name}:`,...a)};class en{constructor(e){this.name=e,this._logLevel=Jl,this._logHandler=Zl,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gl))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Xl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gl.DEBUG,...e),this._logHandler(this,Gl.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gl.VERBOSE,...e),this._logHandler(this,Gl.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gl.INFO,...e),this._logHandler(this,Gl.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gl.WARN,...e),this._logHandler(this,Gl.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gl.ERROR,...e),this._logHandler(this,Gl.ERROR,...e)}}let tn,an;const ln=new WeakMap,nn=new WeakMap,on=new WeakMap,sn=new WeakMap,rn=new WeakMap;let un={get(e,t,a){if(e instanceof IDBTransaction){if("done"===t)return nn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||on.get(e);if("store"===t)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return pn(e[t])},set:(e,t,a)=>(e[t]=a,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function dn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(an||(an=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(mn(this),t),pn(ln.get(this))}:function(...t){return pn(e.apply(mn(this),t))}:function(t,...a){const l=e.call(mn(this),t,...a);return on.set(l,t.sort?t.sort():[t]),pn(l)}}function cn(e){return"function"==typeof e?dn(e):(e instanceof IDBTransaction&&function(e){if(nn.has(e))return;const t=new Promise((t,a)=>{const l=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",o),e.removeEventListener("abort",o)},n=()=>{t(),l()},o=()=>{a(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",n),e.addEventListener("error",o),e.addEventListener("abort",o)});nn.set(e,t)}(e),t=e,(tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,un):e);var t}function pn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,a)=>{const l=()=>{e.removeEventListener("success",n),e.removeEventListener("error",o)},n=()=>{t(pn(e.result)),l()},o=()=>{a(e.error),l()};e.addEventListener("success",n),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&ln.set(t,e)}).catch(()=>{}),rn.set(t,e),t}(e);if(sn.has(e))return sn.get(e);const t=cn(e);return t!==e&&(sn.set(e,t),rn.set(t,e)),t}const mn=e=>rn.get(e);function vn(e,t,{blocked:a,upgrade:l,blocking:n,terminated:o}={}){const s=indexedDB.open(e,t),i=pn(s);return l&&s.addEventListener("upgradeneeded",e=>{l(pn(s.result),e.oldVersion,e.newVersion,pn(s.transaction),e)}),a&&s.addEventListener("blocked",e=>a(e.oldVersion,e.newVersion,e)),i.then(e=>{o&&e.addEventListener("close",()=>o()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}const hn=["get","getKey","getAll","getAllKeys","count"],fn=["put","add","delete","clear"],gn=new Map;function yn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(gn.get(t))return gn.get(t);const a=t.replace(/FromIndex$/,""),l=t!==a,n=fn.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!n&&!hn.includes(a))return;const o=async function(e,...t){const o=this.transaction(e,n?"readwrite":"readonly");let s=o.store;return l&&(s=s.index(t.shift())),(await Promise.all([s[a](...t),n&&o.done]))[0]};return gn.set(t,o),o}var bn;bn=un,un={...bn,get:(e,t,a)=>yn(e,t)||bn.get(e,t,a),has:(e,t)=>!!yn(e,t)||bn.has(e,t)};
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class xn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const wn="@firebase/app",_n="0.10.13",kn=new en("@firebase/app"),Sn="@firebase/app-compat",Cn="@firebase/analytics-compat",In="@firebase/analytics",En="@firebase/app-check-compat",Tn="@firebase/app-check",Nn="@firebase/auth",Mn="@firebase/auth-compat",An="@firebase/database",On="@firebase/data-connect",Pn="@firebase/database-compat",Fn="@firebase/functions",Ln="@firebase/functions-compat",Dn="@firebase/installations",Vn="@firebase/installations-compat",Bn="@firebase/messaging",$n="@firebase/messaging-compat",Rn="@firebase/performance",zn="@firebase/performance-compat",Un="@firebase/remote-config",qn="@firebase/remote-config-compat",Hn="@firebase/storage",jn="@firebase/storage-compat",Wn="@firebase/firestore",Yn="@firebase/vertexai-preview",Gn="@firebase/firestore-compat",Kn="firebase",Xn="[DEFAULT]",Jn={[wn]:"fire-core",[Sn]:"fire-core-compat",[In]:"fire-analytics",[Cn]:"fire-analytics-compat",[Tn]:"fire-app-check",[En]:"fire-app-check-compat",[Nn]:"fire-auth",[Mn]:"fire-auth-compat",[An]:"fire-rtdb",[On]:"fire-data-connect",[Pn]:"fire-rtdb-compat",[Fn]:"fire-fn",[Ln]:"fire-fn-compat",[Dn]:"fire-iid",[Vn]:"fire-iid-compat",[Bn]:"fire-fcm",[$n]:"fire-fcm-compat",[Rn]:"fire-perf",[zn]:"fire-perf-compat",[Un]:"fire-rc",[qn]:"fire-rc-compat",[Hn]:"fire-gcs",[jn]:"fire-gcs-compat",[Wn]:"fire-fst",[Gn]:"fire-fst-compat",[Yn]:"fire-vertex","fire-js":"fire-js",[Kn]:"fire-js-all"},Qn=new Map,Zn=new Map,eo=new Map;function to(e,t){try{e.container.addComponent(t)}catch(SJ){kn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,SJ)}}function ao(e){const t=e.name;if(eo.has(t))return kn.debug(`There were multiple attempts to register component ${t}.`),!1;eo.set(t,e);for(const a of Qn.values())to(a,e);for(const a of Zn.values())to(a,e);return!0}function lo(e,t){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(t)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const no=new Tl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class oo{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function so(e,t={}){let a=e;"object"!=typeof t&&(t={name:t});const l=Object.assign({name:Xn,automaticDataCollectionEnabled:!1},t),n=l.name;if("string"!=typeof n||!n)throw no.create("bad-app-name",{appName:String(n)});if(a||(a=_l()),!a)throw no.create("no-options");const o=Qn.get(n);if(o){if(Vl(a,o.options)&&Vl(l,o.config))return o;throw no.create("duplicate-app",{appName:n})}const s=new Yl(n);for(const r of eo.values())s.addComponent(r);const i=new oo(a,l,s);return Qn.set(n,i),i}function io(e=Xn){const t=Qn.get(e);if(!t&&e===Xn&&_l())return so();if(!t)throw no.create("no-app",{appName:e});return t}function ro(e,t,a){var l;let n=null!==(l=Jn[e])&&void 0!==l?l:e;a&&(n+=`-${a}`);const o=n.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${n}" with version "${t}":`];return o&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void kn.warn(e.join(" "))}ao(new Hl(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const uo="firebase-heartbeat-store";let co=null;function po(){return co||(co=vn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(uo)}catch(SJ){console.warn(SJ)}}}).catch(e=>{throw no.create("idb-open",{originalErrorMessage:e.message})})),co}async function mo(e,t){try{const a=(await po()).transaction(uo,"readwrite"),l=a.objectStore(uo);await l.put(t,vo(e)),await a.done}catch(SJ){if(SJ instanceof El)kn.warn(SJ.message);else{const t=no.create("idb-set",{originalErrorMessage:null==SJ?void 0:SJ.message});kn.warn(t.message)}}}function vo(e){return`${e.name}!${e.options.appId}`}
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ho{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new go(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=fo();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(e=>e.date===l))return;return this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(SJ){kn.warn(SJ)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=fo(),{heartbeatsToSend:a,unsentEntries:l}=function(e,t=1024){const a=[];let l=e.slice();for(const n of e){const e=a.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),yo(a)>t){e.dates.pop();break}}else if(a.push({agent:n.agent,dates:[n.date]}),yo(a)>t){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}(this._heartbeatsCache.heartbeats),n=vl(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}catch(SJ){return kn.warn(SJ),""}}}function fo(){return(new Date).toISOString().substring(0,10)}class go{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Cl()&&Il().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await po()).transaction(uo),a=await t.objectStore(uo).get(vo(e));return await t.done,a}catch(SJ){if(SJ instanceof El)kn.warn(SJ.message);else{const t=no.create("idb-get",{originalErrorMessage:null==SJ?void 0:SJ.message});kn.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}}}function yo(e){return vl(JSON.stringify({version:2,heartbeats:e})).length}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bo;bo="",ao(new Hl("platform-logger",e=>new xn(e),"PRIVATE")),ao(new Hl("heartbeat",e=>new ho(e),"PRIVATE")),ro(wn,_n,bo),ro(wn,_n,"esm2017"),ro("fire-js",""),
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
ro("firebase","10.14.1","app");var xo={};const wo="@firebase/database",_o="1.0.8";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
let ko="";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class So{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Al(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ml(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Co{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Pl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Io=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new So(t)}}catch(SJ){}return new Co},Eo=Io("localStorage"),To=Io("sessionStorage"),No=new en("@firebase/database"),Mo=function(){let e=1;return function(){return e++}}(),Ao=function(e){const t=function(e){const t=[];let a=0;for(let l=0;l<e.length;l++){let n=e.charCodeAt(l);if(n>=55296&&n<=56319){const t=n-55296;l++,rl(l<e.length,"Surrogate pair missing trail surrogate."),n=65536+(t<<10)+(e.charCodeAt(l)-56320)}n<128?t[a++]=n:n<2048?(t[a++]=n>>6|192,t[a++]=63&n|128):n<65536?(t[a++]=n>>12|224,t[a++]=n>>6&63|128,t[a++]=63&n|128):(t[a++]=n>>18|240,t[a++]=n>>12&63|128,t[a++]=n>>6&63|128,t[a++]=63&n|128)}return t}(e),a=new $l;a.update(t);const l=a.digest();return cl.encodeByteArray(l)},Oo=function(...e){let t="";for(let a=0;a<e.length;a++){const l=e[a];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?t+=Oo.apply(null,l):t+="object"==typeof l?Al(l):l,t+=" "}return t};let Po=null,Fo=!0;const Lo=function(...e){if(!0===Fo&&(Fo=!1,null===Po&&!0===To.get("logging_enabled")&&(rl(!0,"Can't turn on custom loggers persistently."),No.logLevel=Gl.VERBOSE,Po=No.log.bind(No))),Po){const t=Oo.apply(null,e);Po(t)}},Do=function(e){return function(...t){Lo(e,...t)}},Vo=function(...e){const t="FIREBASE INTERNAL ERROR: "+Oo(...e);No.error(t)},Bo=function(...e){const t=`FIREBASE FATAL ERROR: ${Oo(...e)}`;throw No.error(t),new Error(t)},$o=function(...e){const t="FIREBASE WARNING: "+Oo(...e);No.warn(t)},Ro=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zo="[MIN_NAME]",Uo="[MAX_NAME]",qo=function(e,t){if(e===t)return 0;if(e===zo||t===Uo)return-1;if(t===zo||e===Uo)return 1;{const a=Jo(e),l=Jo(t);return null!==a?null!==l?a-l===0?e.length-t.length:a-l:-1:null!==l?1:e<t?-1:1}},Ho=function(e,t){return e===t?0:e<t?-1:1},jo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Al(t))},Wo=function(e){if("object"!=typeof e||null===e)return Al(e);const t=[];for(const l in e)t.push(l);t.sort();let a="{";for(let l=0;l<t.length;l++)0!==l&&(a+=","),a+=Al(t[l]),a+=":",a+=Wo(e[t[l]]);return a+="}",a},Yo=function(e,t){const a=e.length;if(a<=t)return[e];const l=[];for(let n=0;n<a;n+=t)n+t>a?l.push(e.substring(n,a)):l.push(e.substring(n,n+t));return l};function Go(e,t){for(const a in e)e.hasOwnProperty(a)&&t(a,e[a])}const Ko=function(e){rl(!Ro(e),"Invalid JSON number");const t=1023;let a,l,n,o,s;0===e?(l=0,n=0,a=1/e==-1/0?1:0):(a=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),l=o+t,n=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(l=0,n=Math.round(e/Math.pow(2,-1074))));const i=[];for(s=52;s;s-=1)i.push(n%2?1:0),n=Math.floor(n/2);for(s=11;s;s-=1)i.push(l%2?1:0),l=Math.floor(l/2);i.push(a?1:0),i.reverse();const r=i.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(r.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()},Xo=new RegExp("^-?(0*)\\d{1,10}$"),Jo=function(e){if(Xo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Qo=function(e){try{e()}catch(SJ){setTimeout(()=>{const t=SJ.stack||"";throw $o("Exception was thrown by user callback.",t),SJ},Math.floor(0))}},Zo=function(e,t){const a=setTimeout(e,t);return"number"==typeof a&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(a):"object"==typeof a&&a.unref&&a.unref(),a};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class es{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,a):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){$o(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ts{constructor(e,t,a){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,a):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$o(e)}}class as{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}as.OWNER="owner";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const ls=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ns="ac",os="websocket",ss="long_polling";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class is{constructor(e,t,a,l,n=!1,o="",s=!1,i=!1){this.secure=t,this.namespace=a,this.webSocketOnly=l,this.nodeAdmin=n,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=i,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Eo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function rs(e,t,a){let l;if(rl("string"==typeof t,"typeof type must == string"),rl("object"==typeof a,"typeof params must == object"),t===os)l=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ss)throw new Error("Unknown connection type: "+t);l=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(a.ns=e.namespace);const n=[];return Go(a,(e,t)=>{n.push(e+"="+t)}),l+n.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class us{constructor(){this.counters_={}}incrementCounter(e,t=1){Pl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return fl(this.counters_)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ds={},cs={};function ps(e){const t=e.toString();return ds[t]||(ds[t]=new us),ds[t]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class ms{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Qo(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const vs="start";class hs{constructor(e,t,a,l,n,o,s){this.connId=e,this.repoInfo=t,this.applicationId=a,this.appCheckToken=l,this.authToken=n,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Do(e),this.stats_=ps(t),this.urlFn=e=>(this.appCheckToken&&(e[ns]=this.appCheckToken),rs(t,ss,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ms(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const a=function(){document.body?t||(t=!0,e()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fs((...e)=>{const[t,a,l,n,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===vs)this.id=a,this.password=l;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,a]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,a)},()=>{this.onClosed_()},this.urlFn);const e={};e[vs]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ns]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ls.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hs.forceAllow_=!0}static forceDisallow(){hs.forceDisallow_=!0}static isAvailable(){return!!hs.forceAllow_||!(hs.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Al(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const a=ml(t),l=Yo(a,1840);for(let n=0;n<l.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[n]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const a={dframe:"t"};a.id=e,a.pw=t,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Al(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class fs{constructor(e,t,a,l){this.onDisconnect=a,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Mo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=fs.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(SJ){Lo("frame writing exception"),SJ.stack&&Lo(SJ.stack),Lo(SJ)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Lo("No IE domain setting required")}catch(SJ){const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),a="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+a.length<=1870;){const e=this.pendingSegs.shift();a=a+"&seg"+l+"="+e.seg+"&ts"+l+"="+e.ts+"&d"+l+"="+e.d,l++}return t+=a,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,a){this.pendingSegs.push({seg:e,ts:t,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const a=()=>{this.outstandingRequests.delete(t),this.newRequest_()},l=setTimeout(a,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(l),a()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const e=a.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),t())},a.onerror=()=>{Lo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch(SJ){}},Math.floor(1))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let gs=null;"undefined"!=typeof MozWebSocket?gs=MozWebSocket:"undefined"!=typeof WebSocket&&(gs=WebSocket);class ys{constructor(e,t,a,l,n,o,s){this.connId=e,this.applicationId=a,this.appCheckToken=l,this.authToken=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Do(this.connId),this.stats_=ps(t),this.connURL=ys.connectionURL_(t,o,s,l,a),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,a,l,n){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&ls.test(location.hostname)&&(o.r="f"),t&&(o.s=t),a&&(o.ls=a),l&&(o[ns]=l),n&&(o.p=n),rs(e,os,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eo.set("previous_websocket_failure",!0);try{let e;this.mySock=new gs(this.connURL,[],e)}catch(SJ){this.log_("Error instantiating WebSocket.");const t=SJ.message||SJ.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(t);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==gs&&!ys.forceDisallow_}static previouslyFailed(){return Eo.isInMemoryStorage||!0===Eo.get("previous_websocket_failure")}markConnectionHealthy(){Eo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ml(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(rl(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Al(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const a=Yo(t,16384);a.length>1&&this.sendString_(String(a.length));for(let l=0;l<a.length;l++)this.sendString_(a[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(SJ){this.log_("Exception thrown from WebSocket.send():",SJ.message||SJ.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ys.responsesRequiredToBeHealthy=2,ys.healthyTimeout=3e4;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class bs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[hs,ys]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ys&&ys.isAvailable();let a=t&&!ys.previouslyFailed();if(e.webSocketOnly&&(t||$o("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ys];else{const e=this.transports_=[];for(const t of bs.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);bs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bs.globalTransportInitialized_=!1;class xs{constructor(e,t,a,l,n,o,s,i,r,u){this.id=e,this.repoInfo_=t,this.applicationId_=a,this.appCheckToken_=l,this.authToken_=n,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=i,this.onKill_=r,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Do("c:"+this.id+":"),this.transportManager_=new bs(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,a)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Zo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=jo("t",e),a=jo("d",e);if("c"===t)this.onSecondaryControl_(a);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(a)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=jo("t",e),a=jo("d",e);"c"===t?this.onControl_(a):"d"===t&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=jo("t",e);if("d"in e){const a=e.d;if("h"===t){const e=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(a):"r"===t?this.onReset_(a):"e"===t?Vo("Server Error: "+a):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vo("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,a=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==a&&$o("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,a),Zo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ws{put(e,t,a,l){}merge(e,t,a,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,a){}onDisconnectMerge(e,t,a){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class _s{constructor(e){this.allowedEvents_=e,this.listeners_={},rl(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let e=0;e<a.length;e++)a[e].callback.apply(a[e].context,t)}}on(e,t,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:a});const l=this.getInitialEvent(e);l&&t.apply(a,l)}off(e,t,a){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let n=0;n<l.length;n++)if(l[n].callback===t&&(!a||a===l[n].context))return void l.splice(n,1)}validateEventType_(e){rl(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ks extends _s{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Sl()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ks}getInitialEvent(e){return rl("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ss{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cs(){return new Ss("")}function Is(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Es(e){return e.pieces_.length-e.pieceNum_}function Ts(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ss(e.pieces_,t)}function Ns(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ms(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function As(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let a=e.pieceNum_;a<e.pieces_.length-1;a++)t.push(e.pieces_[a]);return new Ss(t,0)}function Os(e,t){const a=[];for(let l=e.pieceNum_;l<e.pieces_.length;l++)a.push(e.pieces_[l]);if(t instanceof Ss)for(let l=t.pieceNum_;l<t.pieces_.length;l++)a.push(t.pieces_[l]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&a.push(e[t])}return new Ss(a,0)}function Ps(e){return e.pieceNum_>=e.pieces_.length}function Fs(e,t){const a=Is(e),l=Is(t);if(null===a)return t;if(a===l)return Fs(Ts(e),Ts(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ls(e,t){if(Es(e)!==Es(t))return!1;for(let a=e.pieceNum_,l=t.pieceNum_;a<=e.pieces_.length;a++,l++)if(e.pieces_[a]!==t.pieces_[l])return!1;return!0}function Ds(e,t){let a=e.pieceNum_,l=t.pieceNum_;if(Es(e)>Es(t))return!1;for(;a<e.pieces_.length;){if(e.pieces_[a]!==t.pieces_[l])return!1;++a,++l}return!0}class Vs{constructor(e,t){this.errorPrefix_=t,this.parts_=Ms(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=zl(this.parts_[a]);Bs(this)}}function Bs(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$s(e))}function $s(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Rs extends _s{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new Rs}getInitialEvent(e){return rl("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const zs=1e3;class Us extends ws{constructor(e,t,a,l,n,o,s,i){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=a,this.onConnectStatus_=l,this.onServerInfoUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=i,this.id=Us.nextPersistentConnectionId_++,this.log_=Do("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,i)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rs.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ks.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,a){const l=++this.requestNumber_,n={r:l,a:e,b:t};this.log_(Al(n)),rl(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(n),a&&(this.requestCBHash_[l]=a)}get(e){this.initConnection_();const t=new kl,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const a=e.d;"ok"===e.s?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,a,l){this.initConnection_();const n=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+n),this.listens.has(o)||this.listens.set(o,new Map),rl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),rl(!this.listens.get(o).has(n),"listen() called twice for same path/queryId.");const s={onComplete:l,hashFn:t,query:e,tag:a};this.listens.get(o).set(n,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(a)})}sendListen_(e){const t=e.query,a=t._path.toString(),l=t._queryIdentifier;this.log_("Listen on "+a+" for "+l);const n={p:a};e.tag&&(n.q=t._queryObject,n.t=e.tag),n.h=e.hashFn(),this.sendRequest("q",n,n=>{const o=n.d,s=n.s;Us.warnOnListenWarnings_(o,t),(this.listens.get(a)&&this.listens.get(a).get(l))===e&&(this.log_("listen response",n),"ok"!==s&&this.removeListen_(a,l),e.onComplete&&e.onComplete(s,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Pl(e,"w")){const a=Fl(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',a=t._path.toString();$o(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ol(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ol(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(t,a,t=>{const a=t.s,l=t.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,a=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,a)})}unlisten(e,t){const a=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+l),rl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,l)&&this.connected_&&this.sendUnlisten_(a,l,e._queryObject,t)}sendUnlisten_(e,t,a,l){this.log_("Unlisten on "+e+" for "+t);const n={p:e};l&&(n.q=a,n.t=l),this.sendRequest("n",n)}onDisconnectPut(e,t,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:a})}onDisconnectMerge(e,t,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:a})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,a,l){const n={p:t,d:a};this.log_("onDisconnect "+e,n),this.sendRequest(e,n,e=>{l&&setTimeout(()=>{l(e.s,e.d)},Math.floor(0))})}put(e,t,a,l){this.putInternal("p",e,t,a,l)}merge(e,t,a,l){this.putInternal("m",e,t,a,l)}putInternal(e,t,a,l,n){this.initConnection_();const o={p:t,d:a};void 0!==n&&(o.h=n),this.outstandingPuts_.push({action:e,request:o,onComplete:l}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,a,a=>{this.log_(t+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(a.s,a.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Al(e));const t=e.r,a=this.requestCBHash_[t];a&&(delete this.requestCBHash_[t],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Vo("Unrecognized action received from server: "+Al(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){rl(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+Us.nextConnectionId_++,o=this.lastSessionId;let s=!1,i=null;const r=function(){i?i.close():(s=!0,l())},u=function(e){rl(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:r,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[e,r]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?Lo("getToken() completed but was canceled"):(Lo("getToken() completed. Creating connection."),this.authToken_=e&&e.accessToken,this.appCheckToken_=r&&r.token,i=new xs(n,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,a,l,e=>{$o(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&$o(e),r())}}}interrupt(e){Lo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ll(this.interruptReasons_)&&(this.reconnectDelay_=zs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let a;a=t?t.map(e=>Wo(e)).join("$"):"default";const l=this.removeListen_(e,a);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,t){const a=new Ss(e).toString();let l;if(this.listens.has(a)){const e=this.listens.get(a);l=e.get(t),e.delete(t),0===e.size&&this.listens.delete(a)}else l=void 0;return l}onAuthRevoked_(e,t){Lo("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Lo("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+ko.replace(/\./g,"-")]=1,Sl()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ks.getInstance().currentlyOnline();return Ll(this.interruptReasons_)&&e}}Us.nextPersistentConnectionId_=0,Us.nextConnectionId_=0;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class qs{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new qs(e,t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Hs{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const a=new qs(zo,e),l=new qs(zo,t);return 0!==this.compare(a,l)}minPost(){return qs.MIN}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let js;class Ws extends Hs{static get __EMPTY_NODE(){return js}static set __EMPTY_NODE(e){js=e}compare(e,t){return qo(e.name,t.name)}isDefinedOn(e){throw ul("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return qs.MIN}maxPost(){return new qs(Uo,js)}makePost(e,t){return rl("string"==typeof e,"KeyIndex indexValue must always be a string."),new qs(e,js)}toString(){return".key"}}const Ys=new Ws;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Gs{constructor(e,t,a,l,n=null){this.isReverse_=l,this.resultGenerator_=n,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?a(e.key,t):1,l&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ks{constructor(e,t,a,l,n){this.key=e,this.value=t,this.color=null!=a?a:Ks.RED,this.left=null!=l?l:Xs.EMPTY_NODE,this.right=null!=n?n:Xs.EMPTY_NODE}copy(e,t,a,l,n){return new Ks(null!=e?e:this.key,null!=t?t:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=n?n:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let l=this;const n=a(e,l.key);return l=n<0?l.copy(null,null,null,l.left.insert(e,t,a),null):0===n?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,a)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xs.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let a,l;if(a=this,t(e,a.key)<0)a.left.isEmpty()||a.left.isRed_()||a.left.left.isRed_()||(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),a.right.isEmpty()||a.right.isRed_()||a.right.left.isRed_()||(a=a.moveRedRight_()),0===t(e,a.key)){if(a.right.isEmpty())return Xs.EMPTY_NODE;l=a.right.min_(),a=a.copy(l.key,l.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ks.RED=!0,Ks.BLACK=!1;class Xs{constructor(e,t=Xs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ks.BLACK,null,null))}remove(e){return new Xs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ks.BLACK,null,null))}get(e){let t,a=this.root_;for(;!a.isEmpty();){if(t=this.comparator_(e,a.key),0===t)return a.value;t<0?a=a.left:t>0&&(a=a.right)}return null}getPredecessorKey(e){let t,a=this.root_,l=null;for(;!a.isEmpty();){if(t=this.comparator_(e,a.key),0===t){if(a.left.isEmpty())return l?l.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}t<0?a=a.left:t>0&&(l=a,a=a.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Gs(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Gs(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Gs(this.root_,null,this.comparator_,!0,e)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Js(e,t){return qo(e.name,t.name)}function Qs(e,t){return qo(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Zs;Xs.EMPTY_NODE=new class{copy(e,t,a,l,n){return this}insert(e,t,a){return new Ks(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ei=function(e){return"number"==typeof e?"number:"+Ko(e):"string:"+e},ti=function(e){if(e.isLeafNode()){const t=e.val();rl("string"==typeof t||"number"==typeof t||"object"==typeof t&&Pl(t,".sv"),"Priority must be a string or number.")}else rl(e===Zs||e.isEmpty(),"priority of unexpected type.");rl(e===Zs||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
let ai,li,ni;class oi{constructor(e,t=oi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,rl(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ti(this.priorityNode_)}static set __childrenNodeConstructor(e){ai=e}static get __childrenNodeConstructor(){return ai}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new oi(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ps(e)?this:".priority"===Is(e)?this.priorityNode_:oi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:oi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const a=Is(e);return null===a?t:t.isEmpty()&&".priority"!==a?this:(rl(".priority"!==a||1===Es(e),".priority must be the last token in a path"),this.updateImmediateChild(a,oi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ts(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ei(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ko(this.value_):this.value_,this.lazyHash_=Ao(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===oi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof oi.__childrenNodeConstructor?-1:(rl(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,a=typeof this.value_,l=oi.VALUE_TYPE_ORDER.indexOf(t),n=oi.VALUE_TYPE_ORDER.indexOf(a);return rl(l>=0,"Unknown leaf type: "+t),rl(n>=0,"Unknown leaf type: "+a),l===n?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:n-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}oi.VALUE_TYPE_ORDER=["object","boolean","number","string"];const si=new class extends Hs{compare(e,t){const a=e.node.getPriority(),l=t.node.getPriority(),n=a.compareTo(l);return 0===n?qo(e.name,t.name):n}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return qs.MIN}maxPost(){return new qs(Uo,new oi("[PRIORITY-POST]",ni))}makePost(e,t){const a=li(e);return new qs(t,new oi("[PRIORITY-POST]",a))}toString(){return".priority"}},ii=Math.log(2);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ri{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ii,10)),this.current_=this.count-1;const a=(l=this.count,parseInt(Array(l+1).join("1"),2));var l;this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ui=function(e,t,a,l){e.sort(t);const n=function(t,l){const o=l-t;let s,i;if(0===o)return null;if(1===o)return s=e[t],i=a?a(s):s,new Ks(i,s.node,Ks.BLACK,null,null);{const r=parseInt(o/2,10)+t,u=n(t,r),d=n(r+1,l);return s=e[r],i=a?a(s):s,new Ks(i,s.node,Ks.BLACK,u,d)}},o=function(t){let l=null,o=null,s=e.length;const i=function(t,l){const o=s-t,i=s;s-=t;const u=n(o+1,i),d=e[o],c=a?a(d):d;r(new Ks(c,d.node,l,null,u))},r=function(e){l?(l.left=e,l=e):(o=e,l=e)};for(let e=0;e<t.count;++e){const a=t.nextBitIsOne(),l=Math.pow(2,t.count-(e+1));a?i(l,Ks.BLACK):(i(l,Ks.BLACK),i(l,Ks.RED))}return o}(new ri(e.length));return new Xs(l||t,o)};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let di;const ci={};class pi{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return rl(ci&&si,"ChildrenNode.ts has not been loaded"),di=di||new pi({".priority":ci},{".priority":si}),di}get(e){const t=Fl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xs?t:null}hasIndex(e){return Pl(this.indexSet_,e.toString())}addIndex(e,t){rl(e!==Ys,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let l=!1;const n=t.getIterator(qs.Wrap);let o,s=n.getNext();for(;s;)l=l||e.isDefinedOn(s.node),a.push(s),s=n.getNext();o=l?ui(a,e.getCompare()):ci;const i=e.toString(),r=Object.assign({},this.indexSet_);r[i]=e;const u=Object.assign({},this.indexes_);return u[i]=o,new pi(u,r)}addToIndexes(e,t){const a=Dl(this.indexes_,(a,l)=>{const n=Fl(this.indexSet_,l);if(rl(n,"Missing index implementation for "+l),a===ci){if(n.isDefinedOn(e.node)){const a=[],l=t.getIterator(qs.Wrap);let o=l.getNext();for(;o;)o.name!==e.name&&a.push(o),o=l.getNext();return a.push(e),ui(a,n.getCompare())}return ci}{const l=t.get(e.name);let n=a;return l&&(n=n.remove(new qs(e.name,l))),n.insert(e,e.node)}});return new pi(a,this.indexSet_)}removeFromIndexes(e,t){const a=Dl(this.indexes_,a=>{if(a===ci)return a;{const l=t.get(e.name);return l?a.remove(new qs(e.name,l)):a}});return new pi(a,this.indexSet_)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let mi;class vi{constructor(e,t,a){this.children_=e,this.priorityNode_=t,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&ti(this.priorityNode_),this.children_.isEmpty()&&rl(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mi||(mi=new vi(new Xs(Qs),null,pi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mi}updatePriority(e){return this.children_.isEmpty()?this:new vi(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?mi:t}}getChild(e){const t=Is(e);return null===t?this:this.getImmediateChild(t).getChild(Ts(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(rl(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const a=new qs(e,t);let l,n;t.isEmpty()?(l=this.children_.remove(e),n=this.indexMap_.removeFromIndexes(a,this.children_)):(l=this.children_.insert(e,t),n=this.indexMap_.addToIndexes(a,this.children_));const o=l.isEmpty()?mi:this.priorityNode_;return new vi(l,o,n)}}updateChild(e,t){const a=Is(e);if(null===a)return t;{rl(".priority"!==Is(e)||1===Es(e),".priority must be the last token in a path");const l=this.getImmediateChild(a).updateChild(Ts(e),t);return this.updateImmediateChild(a,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let a=0,l=0,n=!0;if(this.forEachChild(si,(o,s)=>{t[o]=s.val(e),a++,n&&vi.INTEGER_REGEXP_.test(o)?l=Math.max(l,Number(o)):n=!1}),!e&&n&&l<2*a){const e=[];for(const a in t)e[a]=t[a];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ei(this.getPriority().val())+":"),this.forEachChild(si,(t,a)=>{const l=a.hash();""!==l&&(e+=":"+t+":"+l)}),this.lazyHash_=""===e?"":Ao(e)}return this.lazyHash_}getPredecessorChildName(e,t,a){const l=this.resolveIndex_(a);if(l){const a=l.getPredecessorKey(new qs(e,t));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new qs(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new qs(t,this.children_.get(t)):null}forEachChild(e,t){const a=this.resolveIndex_(e);return a?a.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const a=this.resolveIndex_(t);if(a)return a.getIteratorFrom(e,e=>e);{const a=this.children_.getIteratorFrom(e.name,qs.Wrap);let l=a.peek();for(;null!=l&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const a=this.resolveIndex_(t);if(a)return a.getReverseIteratorFrom(e,e=>e);{const a=this.children_.getReverseIteratorFrom(e.name,qs.Wrap);let l=a.peek();for(;null!=l&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hi?-1:0}withIndex(e){if(e===Ys||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new vi(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ys||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(si),a=t.getIterator(si);let l=e.getNext(),n=a.getNext();for(;l&&n;){if(l.name!==n.name||!l.node.equals(n.node))return!1;l=e.getNext(),n=a.getNext()}return null===l&&null===n}return!1}return!1}}resolveIndex_(e){return e===Ys?null:this.indexMap_.get(e.toString())}}vi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const hi=new class extends vi{constructor(){super(new Xs(Qs),vi.EMPTY_NODE,pi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return vi.EMPTY_NODE}isEmpty(){return!1}};function fi(e,t=null){if(null===e)return vi.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),rl(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new oi(e,fi(t));if(e instanceof Array){let a=vi.EMPTY_NODE;return Go(e,(t,l)=>{if(Pl(e,t)&&"."!==t.substring(0,1)){const e=fi(l);!e.isLeafNode()&&e.isEmpty()||(a=a.updateImmediateChild(t,e))}}),a.updatePriority(fi(t))}{const a=[];let l=!1;if(Go(e,(e,t)=>{if("."!==e.substring(0,1)){const n=fi(t);n.isEmpty()||(l=l||!n.getPriority().isEmpty(),a.push(new qs(e,n)))}}),0===a.length)return vi.EMPTY_NODE;const n=ui(a,Js,e=>e.name,Qs);if(l){const e=ui(a,si.getCompare());return new vi(n,fi(t),new pi({".priority":e},{".priority":si}))}return new vi(n,fi(t),pi.Default)}}Object.defineProperties(qs,{MIN:{value:new qs(zo,vi.EMPTY_NODE)},MAX:{value:new qs(Uo,hi)}}),Ws.__EMPTY_NODE=vi.EMPTY_NODE,oi.__childrenNodeConstructor=vi,Zs=hi,function(e){ni=e}(hi),function(e){li=e}(fi);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class gi extends Hs{constructor(e){super(),this.indexPath_=e,rl(!Ps(e)&&".priority"!==Is(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const a=this.extractChild(e.node),l=this.extractChild(t.node),n=a.compareTo(l);return 0===n?qo(e.name,t.name):n}makePost(e,t){const a=fi(e),l=vi.EMPTY_NODE.updateChild(this.indexPath_,a);return new qs(t,l)}maxPost(){const e=vi.EMPTY_NODE.updateChild(this.indexPath_,hi);return new qs(Uo,e)}toString(){return Ms(this.indexPath_,0).join("/")}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const yi=new class extends Hs{compare(e,t){const a=e.node.compareTo(t.node);return 0===a?qo(e.name,t.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return qs.MIN}maxPost(){return qs.MAX}makePost(e,t){const a=fi(e);return new qs(t,a)}toString(){return".value"}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bi(e){return{type:"value",snapshotNode:e}}function xi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _i(e,t,a){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:a}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class ki{constructor(e){this.index_=e}updateChild(e,t,a,l,n,o){rl(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(l).equals(a.getChild(l))&&s.isEmpty()===a.isEmpty()?e:(null!=o&&(a.isEmpty()?e.hasChild(t)?o.trackChildChange(wi(t,s)):rl(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(xi(t,a)):o.trackChildChange(_i(t,a,s))),e.isLeafNode()&&a.isEmpty()?e:e.updateImmediateChild(t,a).withIndex(this.index_))}updateFullNode(e,t,a){return null!=a&&(e.isLeafNode()||e.forEachChild(si,(e,l)=>{t.hasChild(e)||a.trackChildChange(wi(e,l))}),t.isLeafNode()||t.forEachChild(si,(t,l)=>{if(e.hasChild(t)){const n=e.getImmediateChild(t);n.equals(l)||a.trackChildChange(_i(t,l,n))}else a.trackChildChange(xi(t,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?vi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Si{constructor(e){this.indexedFilter_=new ki(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Si.getStartPost_(e),this.endPost_=Si.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&a}updateChild(e,t,a,l,n,o){return this.matches(new qs(t,a))||(a=vi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,a,l,n,o)}updateFullNode(e,t,a){t.isLeafNode()&&(t=vi.EMPTY_NODE);let l=t.withIndex(this.index_);l=l.updatePriority(vi.EMPTY_NODE);const n=this;return t.forEachChild(si,(e,t)=>{n.matches(new qs(e,t))||(l=l.updateImmediateChild(e,vi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,a)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ci{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Si(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,a,l,n,o){return this.rangedFilter_.matches(new qs(t,a))||(a=vi.EMPTY_NODE),e.getImmediateChild(t).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,a,l,n,o):this.fullLimitUpdateChild_(e,t,a,n,o)}updateFullNode(e,t,a){let l;if(t.isLeafNode()||t.isEmpty())l=vi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;l=vi.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;e.hasNext()&&a<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;l=l.updateImmediateChild(t.name,t.node),a++}}}else{let e;l=t.withIndex(this.index_),l=l.updatePriority(vi.EMPTY_NODE),e=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let a=0;for(;e.hasNext();){const t=e.getNext();a<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?a++:l=l.updateImmediateChild(t.name,vi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,a)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,a,l,n){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,a)=>e(a,t)}else o=this.index_.getCompare();const s=e;rl(s.numChildren()===this.limit_,"");const i=new qs(t,a),r=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(i);if(s.hasChild(t)){const e=s.getImmediateChild(t);let d=l.getChildAfterChild(this.index_,r,this.reverse_);for(;null!=d&&(d.name===t||s.hasChild(d.name));)d=l.getChildAfterChild(this.index_,d,this.reverse_);const c=null==d?1:o(d,i);if(u&&!a.isEmpty()&&c>=0)return null!=n&&n.trackChildChange(_i(t,a,e)),s.updateImmediateChild(t,a);{null!=n&&n.trackChildChange(wi(t,e));const a=s.updateImmediateChild(t,vi.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=n&&n.trackChildChange(xi(d.name,d.node)),a.updateImmediateChild(d.name,d.node)):a}}return a.isEmpty()?e:u&&o(r,i)>=0?(null!=n&&(n.trackChildChange(wi(r.name,r.node)),n.trackChildChange(xi(t,a))),s.updateImmediateChild(t,a).updateImmediateChild(r.name,vi.EMPTY_NODE)):e}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ii{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=si}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return rl(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return rl(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zo}hasEnd(){return this.endSet_}getIndexEndValue(){return rl(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return rl(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Uo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return rl(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===si}copy(){const e=new Ii;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ei(e){const t={};if(e.isDefault())return t;let a;if(e.index_===si?a="$priority":e.index_===yi?a="$value":e.index_===Ys?a="$key":(rl(e.index_ instanceof gi,"Unrecognized index type!"),a=e.index_.toString()),t.orderBy=Al(a),e.startSet_){const a=e.startAfterSet_?"startAfter":"startAt";t[a]=Al(e.indexStartValue_),e.startNameSet_&&(t[a]+=","+Al(e.indexStartName_))}if(e.endSet_){const a=e.endBeforeSet_?"endBefore":"endAt";t[a]=Al(e.indexEndValue_),e.endNameSet_&&(t[a]+=","+Al(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Ti(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let a=e.viewFrom_;""===a&&(a=e.isViewFromLeft()?"l":"r"),t.vf=a}return e.index_!==si&&(t.i=e.index_.toString()),t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ni extends ws{constructor(e,t,a,l){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.log_=Do("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(rl(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,a,l){const n=e._path.toString();this.log_("Listen called for "+n+" "+e._queryIdentifier);const o=Ni.getListenId_(e,a),s={};this.listens_[o]=s;const i=Ei(e._queryParams);this.restRequest_(n+".json",i,(e,t)=>{let i=t;if(404===e&&(i=null,e=null),null===e&&this.onDataUpdate_(n,i,!1,a),Fl(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",l(t,null)}})}unlisten(e,t){const a=Ni.getListenId_(e,t);delete this.listens_[a]}get(e){const t=Ei(e._queryParams),a=e._path.toString(),l=new kl;return this.restRequest_(a+".json",t,(e,t)=>{let n=t;404===e&&(n=null,e=null),null===e?(this.onDataUpdate_(a,n,!1,null),l.resolve(n)):l.reject(new Error(n))}),l.promise}refreshAuthToken(e){}restRequest_(e,t={},a){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,n])=>{l&&l.accessToken&&(t.auth=l.accessToken),n&&n.token&&(t.ac=n.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[a,l]of Object.entries(e))Array.isArray(l)?l.forEach(e=>{t.push(encodeURIComponent(a)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(a)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(a&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=Ml(s.responseText)}catch(SJ){$o("Failed to parse JSON response for "+o+": "+s.responseText)}a(null,e)}else 401!==s.status&&404!==s.status&&$o("Got unsuccessful REST response for "+o+" Status: "+s.status),a(s.status);a=null}},s.open("GET",o,!0),s.send()})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Mi{constructor(){this.rootNode_=vi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ai(){return{value:null,children:new Map}}function Oi(e,t,a){if(Ps(t))e.value=a,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,a);else{const l=Is(t);e.children.has(l)||e.children.set(l,Ai()),Oi(e.children.get(l),t=Ts(t),a)}}function Pi(e,t,a){null!==e.value?a(t,e.value):function(e,t){e.children.forEach((e,a)=>{t(a,e)})}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,(e,l)=>{Pi(l,new Ss(t.toString()+"/"+e),a)})}class Fi{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Go(this.last_,(e,a)=>{t[e]=t[e]-a}),this.last_=e,t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Li{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fi(e);const a=1e4+2e4*Math.random();Zo(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),t={};let a=!1;Go(e,(e,l)=>{l>0&&Pl(this.statsToReport_,e)&&(t[e]=l,a=!0)}),a&&this.server_.reportStats(t),Zo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Di,Vi;function Bi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(Vi=Di||(Di={}))[Vi.OVERWRITE=0]="OVERWRITE",Vi[Vi.MERGE=1]="MERGE",Vi[Vi.ACK_USER_WRITE=2]="ACK_USER_WRITE",Vi[Vi.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class $i{constructor(e,t,a){this.path=e,this.affectedTree=t,this.revert=a,this.type=Di.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ps(this.path)){if(null!=this.affectedTree.value)return rl(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ss(e));return new $i(Cs(),t,this.revert)}}return rl(Is(this.path)===e,"operationForChild called for unrelated child."),new $i(Ts(this.path),this.affectedTree,this.revert)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ri{constructor(e,t){this.source=e,this.path=t,this.type=Di.LISTEN_COMPLETE}operationForChild(e){return Ps(this.path)?new Ri(this.source,Cs()):new Ri(this.source,Ts(this.path))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class zi{constructor(e,t,a){this.source=e,this.path=t,this.snap=a,this.type=Di.OVERWRITE}operationForChild(e){return Ps(this.path)?new zi(this.source,Cs(),this.snap.getImmediateChild(e)):new zi(this.source,Ts(this.path),this.snap)}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ui{constructor(e,t,a){this.source=e,this.path=t,this.children=a,this.type=Di.MERGE}operationForChild(e){if(Ps(this.path)){const t=this.children.subtree(new Ss(e));return t.isEmpty()?null:t.value?new zi(this.source,Cs(),t.value):new Ui(this.source,Cs(),t)}return rl(Is(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ui(this.source,Ts(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class qi{constructor(e,t,a){this.node_=e,this.fullyInitialized_=t,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ps(e))return this.isFullyInitialized()&&!this.filtered_;const t=Is(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Hi{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ji(e,t,a,l,n,o){const s=l.filter(e=>e.type===a);s.sort((t,a)=>function(e,t,a){if(null==t.childName||null==a.childName)throw ul("Should only compare child_ events.");const l=new qs(t.childName,t.snapshotNode),n=new qs(a.childName,a.snapshotNode);return e.index_.compare(l,n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,a)),s.forEach(a=>{const l=function(e,t,a){return"value"===t.type||"child_removed"===t.type||(t.prevName=a.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);n.forEach(n=>{n.respondsTo(a.type)&&t.push(n.createEvent(l,e.query_))})})}function Wi(e,t){return{eventCache:e,serverCache:t}}function Yi(e,t,a,l){return Wi(new qi(t,a,l),e.serverCache)}function Gi(e,t,a,l){return Wi(e.eventCache,new qi(t,a,l))}function Ki(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Xi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Ji;class Qi{constructor(e,t=(()=>(Ji||(Ji=new Xs(Ho)),Ji))()){this.value=e,this.children=t}static fromObject(e){let t=new Qi(null);return Go(e,(e,a)=>{t=t.set(new Ss(e),a)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cs(),value:this.value};if(Ps(e))return null;{const a=Is(e),l=this.children.get(a);if(null!==l){const n=l.findRootMostMatchingPathAndValue(Ts(e),t);return null!=n?{path:Os(new Ss(a),n.path),value:n.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ps(e))return this;{const t=Is(e),a=this.children.get(t);return null!==a?a.subtree(Ts(e)):new Qi(null)}}set(e,t){if(Ps(e))return new Qi(t,this.children);{const a=Is(e),l=(this.children.get(a)||new Qi(null)).set(Ts(e),t),n=this.children.insert(a,l);return new Qi(this.value,n)}}remove(e){if(Ps(e))return this.children.isEmpty()?new Qi(null):new Qi(null,this.children);{const t=Is(e),a=this.children.get(t);if(a){const l=a.remove(Ts(e));let n;return n=l.isEmpty()?this.children.remove(t):this.children.insert(t,l),null===this.value&&n.isEmpty()?new Qi(null):new Qi(this.value,n)}return this}}get(e){if(Ps(e))return this.value;{const t=Is(e),a=this.children.get(t);return a?a.get(Ts(e)):null}}setTree(e,t){if(Ps(e))return t;{const a=Is(e),l=(this.children.get(a)||new Qi(null)).setTree(Ts(e),t);let n;return n=l.isEmpty()?this.children.remove(a):this.children.insert(a,l),new Qi(this.value,n)}}fold(e){return this.fold_(Cs(),e)}fold_(e,t){const a={};return this.children.inorderTraversal((l,n)=>{a[l]=n.fold_(Os(e,l),t)}),t(e,this.value,a)}findOnPath(e,t){return this.findOnPath_(e,Cs(),t)}findOnPath_(e,t,a){const l=!!this.value&&a(t,this.value);if(l)return l;if(Ps(e))return null;{const l=Is(e),n=this.children.get(l);return n?n.findOnPath_(Ts(e),Os(t,l),a):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cs(),t)}foreachOnPath_(e,t,a){if(Ps(e))return this;{this.value&&a(t,this.value);const l=Is(e),n=this.children.get(l);return n?n.foreachOnPath_(Ts(e),Os(t,l),a):new Qi(null)}}foreach(e){this.foreach_(Cs(),e)}foreach_(e,t){this.children.inorderTraversal((a,l)=>{l.foreach_(Os(e,a),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,a)=>{a.value&&e(t,a.value)})}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Zi{constructor(e){this.writeTree_=e}static empty(){return new Zi(new Qi(null))}}function er(e,t,a){if(Ps(t))return new Zi(new Qi(a));{const l=e.writeTree_.findRootMostValueAndPath(t);if(null!=l){const n=l.path;let o=l.value;const s=Fs(n,t);return o=o.updateChild(s,a),new Zi(e.writeTree_.set(n,o))}{const l=new Qi(a),n=e.writeTree_.setTree(t,l);return new Zi(n)}}}function tr(e,t,a){let l=e;return Go(a,(e,a)=>{l=er(l,Os(t,e),a)}),l}function ar(e,t){if(Ps(t))return Zi.empty();{const a=e.writeTree_.setTree(t,new Qi(null));return new Zi(a)}}function lr(e,t){return null!=nr(e,t)}function nr(e,t){const a=e.writeTree_.findRootMostValueAndPath(t);return null!=a?e.writeTree_.get(a.path).getChild(Fs(a.path,t)):null}function or(e){const t=[],a=e.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(si,(e,a)=>{t.push(new qs(e,a))}):e.writeTree_.children.inorderTraversal((e,a)=>{null!=a.value&&t.push(new qs(e,a.value))}),t}function sr(e,t){if(Ps(t))return e;{const a=nr(e,t);return new Zi(null!=a?new Qi(a):e.writeTree_.subtree(t))}}function ir(e){return e.writeTree_.isEmpty()}function rr(e,t){return ur(Cs(),e.writeTree_,t)}function ur(e,t,a){if(null!=t.value)return a.updateChild(e,t.value);{let l=null;return t.children.inorderTraversal((t,n)=>{".priority"===t?(rl(null!==n.value,"Priority writes must always be leaf nodes"),l=n.value):a=ur(Os(e,t),n,a)}),a.getChild(e).isEmpty()||null===l||(a=a.updateChild(Os(e,".priority"),l)),a}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function dr(e,t){return kr(t,e)}function cr(e,t){const a=e.allWrites.findIndex(e=>e.writeId===t);rl(a>=0,"removeWrite called with nonexistent writeId.");const l=e.allWrites[a];e.allWrites.splice(a,1);let n=l.visible,o=!1,s=e.allWrites.length-1;for(;n&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=a&&pr(t,l.path)?n=!1:Ds(l.path,t.path)&&(o=!0)),s--}return!!n&&(o?(function(e){e.visibleWrites=vr(e.allWrites,mr,Cs()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(l.snap?e.visibleWrites=ar(e.visibleWrites,l.path):Go(l.children,t=>{e.visibleWrites=ar(e.visibleWrites,Os(l.path,t))}),!0))}function pr(e,t){if(e.snap)return Ds(e.path,t);for(const a in e.children)if(e.children.hasOwnProperty(a)&&Ds(Os(e.path,a),t))return!0;return!1}function mr(e){return e.visible}function vr(e,t,a){let l=Zi.empty();for(let n=0;n<e.length;++n){const o=e[n];if(t(o)){const e=o.path;let t;if(o.snap)Ds(a,e)?(t=Fs(a,e),l=er(l,t,o.snap)):Ds(e,a)&&(t=Fs(e,a),l=er(l,Cs(),o.snap.getChild(t)));else{if(!o.children)throw ul("WriteRecord should have .snap or .children");if(Ds(a,e))t=Fs(a,e),l=tr(l,t,o.children);else if(Ds(e,a))if(t=Fs(e,a),Ps(t))l=tr(l,Cs(),o.children);else{const e=Fl(o.children,Is(t));if(e){const a=e.getChild(Ts(t));l=er(l,Cs(),a)}}}}}return l}function hr(e,t,a,l,n){if(l||n){const o=sr(e.visibleWrites,t);if(!n&&ir(o))return a;if(n||null!=a||lr(o,Cs())){const o=function(e){return(e.visible||n)&&(!l||!~l.indexOf(e.writeId))&&(Ds(e.path,t)||Ds(t,e.path))};return rr(vr(e.allWrites,o,t),a||vi.EMPTY_NODE)}return null}{const l=nr(e.visibleWrites,t);if(null!=l)return l;{const l=sr(e.visibleWrites,t);return ir(l)?a:null!=a||lr(l,Cs())?rr(l,a||vi.EMPTY_NODE):null}}}function fr(e,t,a,l){return hr(e.writeTree,e.treePath,t,a,l)}function gr(e,t){return function(e,t,a){let l=vi.EMPTY_NODE;const n=nr(e.visibleWrites,t);if(n)return n.isLeafNode()||n.forEachChild(si,(e,t)=>{l=l.updateImmediateChild(e,t)}),l;if(a){const n=sr(e.visibleWrites,t);return a.forEachChild(si,(e,t)=>{const a=rr(sr(n,new Ss(e)),t);l=l.updateImmediateChild(e,a)}),or(n).forEach(e=>{l=l.updateImmediateChild(e.name,e.node)}),l}return or(sr(e.visibleWrites,t)).forEach(e=>{l=l.updateImmediateChild(e.name,e.node)}),l}(e.writeTree,e.treePath,t)}function yr(e,t,a,l){return function(e,t,a,l,n){rl(l||n,"Either existingEventSnap or existingServerSnap must exist");const o=Os(t,a);if(lr(e.visibleWrites,o))return null;{const t=sr(e.visibleWrites,o);return ir(t)?n.getChild(a):rr(t,n.getChild(a))}}(e.writeTree,e.treePath,t,a,l)}function br(e,t){return function(e,t){return nr(e.visibleWrites,t)}(e.writeTree,Os(e.treePath,t))}function xr(e,t,a,l,n,o){return function(e,t,a,l,n,o,s){let i;const r=sr(e.visibleWrites,t),u=nr(r,Cs());if(null!=u)i=u;else{if(null==a)return[];i=rr(r,a)}if(i=i.withIndex(s),i.isEmpty()||i.isLeafNode())return[];{const e=[],t=s.getCompare(),a=o?i.getReverseIteratorFrom(l,s):i.getIteratorFrom(l,s);let r=a.getNext();for(;r&&e.length<n;)0!==t(r,l)&&e.push(r),r=a.getNext();return e}}(e.writeTree,e.treePath,t,a,l,n,o)}function wr(e,t,a){return function(e,t,a,l){const n=Os(t,a),o=nr(e.visibleWrites,n);return null!=o?o:l.isCompleteForChild(a)?rr(sr(e.visibleWrites,n),l.getNode().getImmediateChild(a)):null}(e.writeTree,e.treePath,t,a)}function _r(e,t){return kr(Os(e.treePath,t),e.writeTree)}function kr(e,t){return{treePath:e,writeTree:t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sr{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,a=e.childName;rl("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),rl(".priority"!==a,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(a);if(l){const n=l.type;if("child_added"===t&&"child_removed"===n)this.changeMap.set(a,_i(a,e.snapshotNode,l.snapshotNode));else if("child_removed"===t&&"child_added"===n)this.changeMap.delete(a);else if("child_removed"===t&&"child_changed"===n)this.changeMap.set(a,wi(a,l.oldSnap));else if("child_changed"===t&&"child_added"===n)this.changeMap.set(a,xi(a,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==n)throw ul("Illegal combination of changes: "+e+" occurred after "+l);this.changeMap.set(a,_i(a,e.snapshotNode,l.oldSnap))}}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Cr=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,a){return null}};class Ir{constructor(e,t,a=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=a}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new qi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wr(this.writes_,e,t)}}getChildAfterChild(e,t,a){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xi(this.viewCache_),n=xr(this.writes_,l,t,1,a,e);return 0===n.length?null:n[0]}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Er(e,t,a,l,n){const o=new Sr;let s,i;if(a.type===Di.OVERWRITE){const r=a;r.source.fromUser?s=Mr(e,t,r.path,r.snap,l,n,o):(rl(r.source.fromServer,"Unknown source."),i=r.source.tagged||t.serverCache.isFiltered()&&!Ps(r.path),s=Nr(e,t,r.path,r.snap,l,n,i,o))}else if(a.type===Di.MERGE){const r=a;r.source.fromUser?s=function(e,t,a,l,n,o,s){let i=t;return l.foreach((l,r)=>{const u=Os(a,l);Ar(t,Is(u))&&(i=Mr(e,i,u,r,n,o,s))}),l.foreach((l,r)=>{const u=Os(a,l);Ar(t,Is(u))||(i=Mr(e,i,u,r,n,o,s))}),i}(e,t,r.path,r.children,l,n,o):(rl(r.source.fromServer,"Unknown source."),i=r.source.tagged||t.serverCache.isFiltered(),s=Pr(e,t,r.path,r.children,l,n,i,o))}else if(a.type===Di.ACK_USER_WRITE){const i=a;s=i.revert?function(e,t,a,l,n,o){let s;if(null!=br(l,a))return t;{const i=new Ir(l,t,n),r=t.eventCache.getNode();let u;if(Ps(a)||".priority"===Is(a)){let a;if(t.serverCache.isFullyInitialized())a=fr(l,Xi(t));else{const e=t.serverCache.getNode();rl(e instanceof vi,"serverChildren would be complete if leaf node"),a=gr(l,e)}u=e.filter.updateFullNode(r,a,o)}else{const n=Is(a);let d=wr(l,n,t.serverCache);null==d&&t.serverCache.isCompleteForChild(n)&&(d=r.getImmediateChild(n)),u=null!=d?e.filter.updateChild(r,n,d,Ts(a),i,o):t.eventCache.getNode().hasChild(n)?e.filter.updateChild(r,n,vi.EMPTY_NODE,Ts(a),i,o):r,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=fr(l,Xi(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=br(l,Cs()),Yi(t,u,s,e.filter.filtersNodes())}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,i.path,l,n,o):function(e,t,a,l,n,o,s){if(null!=br(n,a))return t;const i=t.serverCache.isFiltered(),r=t.serverCache;if(null!=l.value){if(Ps(a)&&r.isFullyInitialized()||r.isCompleteForPath(a))return Nr(e,t,a,r.getNode().getChild(a),n,o,i,s);if(Ps(a)){let l=new Qi(null);return r.getNode().forEachChild(Ys,(e,t)=>{l=l.set(new Ss(e),t)}),Pr(e,t,a,l,n,o,i,s)}return t}{let u=new Qi(null);return l.foreach((e,t)=>{const l=Os(a,e);r.isCompleteForPath(l)&&(u=u.set(e,r.getNode().getChild(l)))}),Pr(e,t,a,u,n,o,i,s)}}(e,t,i.path,i.affectedTree,l,n,o)}else{if(a.type!==Di.LISTEN_COMPLETE)throw ul("Unknown operation type: "+a.type);s=function(e,t,a,l,n){const o=t.serverCache,s=Gi(t,o.getNode(),o.isFullyInitialized()||Ps(a),o.isFiltered());return Tr(e,s,a,l,Cr,n)}(e,t,a.path,l,o)}const r=o.getChanges();return function(e,t,a){const l=t.eventCache;if(l.isFullyInitialized()){const n=l.getNode().isLeafNode()||l.getNode().isEmpty(),o=Ki(e);(a.length>0||!e.eventCache.isFullyInitialized()||n&&!l.getNode().equals(o)||!l.getNode().getPriority().equals(o.getPriority()))&&a.push(bi(Ki(t)))}}(t,s,r),{viewCache:s,changes:r}}function Tr(e,t,a,l,n,o){const s=t.eventCache;if(null!=br(l,a))return t;{let i,r;if(Ps(a))if(rl(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const a=Xi(t),n=gr(l,a instanceof vi?a:vi.EMPTY_NODE);i=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const a=fr(l,Xi(t));i=e.filter.updateFullNode(t.eventCache.getNode(),a,o)}else{const u=Is(a);if(".priority"===u){rl(1===Es(a),"Can't have a priority with additional path components");const n=s.getNode();r=t.serverCache.getNode();const o=yr(l,a,n,r);i=null!=o?e.filter.updatePriority(n,o):s.getNode()}else{const d=Ts(a);let c;if(s.isCompleteForChild(u)){r=t.serverCache.getNode();const e=yr(l,a,s.getNode(),r);c=null!=e?s.getNode().getImmediateChild(u).updateChild(d,e):s.getNode().getImmediateChild(u)}else c=wr(l,u,t.serverCache);i=null!=c?e.filter.updateChild(s.getNode(),u,c,d,n,o):s.getNode()}}return Yi(t,i,s.isFullyInitialized()||Ps(a),e.filter.filtersNodes())}}function Nr(e,t,a,l,n,o,s,i){const r=t.serverCache;let u;const d=s?e.filter:e.filter.getIndexedFilter();if(Ps(a))u=d.updateFullNode(r.getNode(),l,null);else if(d.filtersNodes()&&!r.isFiltered()){const e=r.getNode().updateChild(a,l);u=d.updateFullNode(r.getNode(),e,null)}else{const e=Is(a);if(!r.isCompleteForPath(a)&&Es(a)>1)return t;const n=Ts(a),o=r.getNode().getImmediateChild(e).updateChild(n,l);u=".priority"===e?d.updatePriority(r.getNode(),o):d.updateChild(r.getNode(),e,o,n,Cr,null)}const c=Gi(t,u,r.isFullyInitialized()||Ps(a),d.filtersNodes());return Tr(e,c,a,n,new Ir(n,c,o),i)}function Mr(e,t,a,l,n,o,s){const i=t.eventCache;let r,u;const d=new Ir(n,t,o);if(Ps(a))u=e.filter.updateFullNode(t.eventCache.getNode(),l,s),r=Yi(t,u,!0,e.filter.filtersNodes());else{const n=Is(a);if(".priority"===n)u=e.filter.updatePriority(t.eventCache.getNode(),l),r=Yi(t,u,i.isFullyInitialized(),i.isFiltered());else{const o=Ts(a),u=i.getNode().getImmediateChild(n);let c;if(Ps(o))c=l;else{const e=d.getCompleteChild(n);c=null!=e?".priority"===Ns(o)&&e.getChild(As(o)).isEmpty()?e:e.updateChild(o,l):vi.EMPTY_NODE}r=u.equals(c)?t:Yi(t,e.filter.updateChild(i.getNode(),n,c,o,d,s),i.isFullyInitialized(),e.filter.filtersNodes())}}return r}function Ar(e,t){return e.eventCache.isCompleteForChild(t)}function Or(e,t,a){return a.foreach((e,a)=>{t=t.updateChild(e,a)}),t}function Pr(e,t,a,l,n,o,s,i){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let r,u=t;r=Ps(a)?l:new Qi(null).setTree(a,l);const d=t.serverCache.getNode();return r.children.inorderTraversal((a,l)=>{if(d.hasChild(a)){const r=Or(0,t.serverCache.getNode().getImmediateChild(a),l);u=Nr(e,u,new Ss(a),r,n,o,s,i)}}),r.children.inorderTraversal((a,l)=>{const r=!t.serverCache.isCompleteForChild(a)&&null===l.value;if(!d.hasChild(a)&&!r){const r=Or(0,t.serverCache.getNode().getImmediateChild(a),l);u=Nr(e,u,new Ss(a),r,n,o,s,i)}}),u}class Fr{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,l=new ki(a.getIndex()),n=(o=a).loadsAllData()?new ki(o.getIndex()):o.hasLimit()?new Ci(o):new Si(o);var o;this.processor_=function(e){return{filter:e}}(n);const s=t.serverCache,i=t.eventCache,r=l.updateFullNode(vi.EMPTY_NODE,s.getNode(),null),u=n.updateFullNode(vi.EMPTY_NODE,i.getNode(),null),d=new qi(r,s.isFullyInitialized(),l.filtersNodes()),c=new qi(u,i.isFullyInitialized(),n.filtersNodes());this.viewCache_=Wi(c,d),this.eventGenerator_=new Hi(this.query_)}get query(){return this.query_}}function Lr(e,t){const a=Xi(e.viewCache_);return a&&(e.query._queryParams.loadsAllData()||!Ps(t)&&!a.getImmediateChild(Is(t)).isEmpty())?a.getChild(t):null}function Dr(e){return 0===e.eventRegistrations_.length}function Vr(e,t,a){const l=[];if(a){rl(null==t,"A cancel should cancel all event registrations.");const n=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(a,n);t&&l.push(t)})}if(t){let a=[];for(let l=0;l<e.eventRegistrations_.length;++l){const n=e.eventRegistrations_[l];if(n.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(l+1));break}}else a.push(n)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return l}function Br(e,t,a,l){t.type===Di.MERGE&&null!==t.source.queryId&&(rl(Xi(e.viewCache_),"We should always have a full cache before handling merges"),rl(Ki(e.viewCache_),"Missing event cache, even though we have a server cache"));const n=e.viewCache_,o=Er(e.processor_,n,t,a,l);var s,i;return s=e.processor_,i=o.viewCache,rl(i.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),rl(i.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),rl(o.viewCache.serverCache.isFullyInitialized()||!n.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,$r(e,o.changes,o.viewCache.eventCache.getNode(),null)}function $r(e,t,a,l){const n=l?[l]:e.eventRegistrations_;return function(e,t,a,l){const n=[],o=[];return t.forEach(t=>{var a;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((a=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:a}))}),ji(e,n,"child_removed",t,l,a),ji(e,n,"child_added",t,l,a),ji(e,n,"child_moved",o,l,a),ji(e,n,"child_changed",t,l,a),ji(e,n,"value",t,l,a),n}(e.eventGenerator_,t,a,n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Rr,zr;class Ur{constructor(){this.views=new Map}}function qr(e,t,a,l){const n=t.source.queryId;if(null!==n){const o=e.views.get(n);return rl(null!=o,"SyncTree gave us an op for an invalid query."),Br(o,t,a,l)}{let n=[];for(const o of e.views.values())n=n.concat(Br(o,t,a,l));return n}}function Hr(e,t,a,l,n){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=fr(a,n?l:null),o=!1;e?o=!0:l instanceof vi?(e=gr(a,l),o=!1):(e=vi.EMPTY_NODE,o=!1);const s=Wi(new qi(e,o,!1),new qi(l,n,!1));return new Fr(t,s)}return s}function jr(e,t,a,l,n,o){const s=Hr(e,t,l,n,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,a),function(e,t){const a=e.viewCache_.eventCache,l=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(si,(e,t)=>{l.push(xi(e,t))}),a.isFullyInitialized()&&l.push(bi(a.getNode())),$r(e,l,a.getNode(),t)}(s,a)}function Wr(e,t,a,l){const n=t._queryIdentifier,o=[];let s=[];const i=Jr(e);if("default"===n)for(const[r,u]of e.views.entries())s=s.concat(Vr(u,a,l)),Dr(u)&&(e.views.delete(r),u.query._queryParams.loadsAllData()||o.push(u.query));else{const t=e.views.get(n);t&&(s=s.concat(Vr(t,a,l)),Dr(t)&&(e.views.delete(n),t.query._queryParams.loadsAllData()||o.push(t.query)))}return i&&!Jr(e)&&o.push(new(rl(Rr,"Reference.ts has not been loaded"),Rr)(t._repo,t._path)),{removed:o,events:s}}function Yr(e){const t=[];for(const a of e.views.values())a.query._queryParams.loadsAllData()||t.push(a);return t}function Gr(e,t){let a=null;for(const l of e.views.values())a=a||Lr(l,t);return a}function Kr(e,t){if(t._queryParams.loadsAllData())return Qr(e);{const a=t._queryIdentifier;return e.views.get(a)}}function Xr(e,t){return null!=Kr(e,t)}function Jr(e){return null!=Qr(e)}function Qr(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Zr=1;class eu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qi(null),this.pendingWriteTree_={visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tu(e,t,a,l,n){return function(e,t,a,l,n){rl(l>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===n&&(n=!0),e.allWrites.push({path:t,snap:a,writeId:l,visible:n}),n&&(e.visibleWrites=er(e.visibleWrites,t,a)),e.lastWriteId=l}(e.pendingWriteTree_,t,a,l,n),n?uu(e,new zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a)):[]}function au(e,t,a=!1){const l=function(e,t){for(let a=0;a<e.allWrites.length;a++){const l=e.allWrites[a];if(l.writeId===t)return l}return null}(e.pendingWriteTree_,t);if(cr(e.pendingWriteTree_,t)){let t=new Qi(null);return null!=l.snap?t=t.set(Cs(),!0):Go(l.children,e=>{t=t.set(new Ss(e),!0)}),uu(e,new $i(l.path,t,a))}return[]}function lu(e,t,a){return uu(e,new zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,a))}function nu(e,t,a,l,n=!1){const o=t._path,s=e.syncPointTree_.get(o);let i=[];if(s&&("default"===t._queryIdentifier||Xr(s,t))){const r=Wr(s,t,a,l);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=r.removed;if(i=r.events,!n){const a=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),n=e.syncPointTree_.findOnPath(o,(e,t)=>Jr(t));if(a&&!n){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const a=function(e){return e.fold((e,t,a)=>{if(t&&Jr(t))return[Qr(t)];{let e=[];return t&&(e=Yr(t)),Go(a,(t,a)=>{e=e.concat(a)}),e}})}(t);for(let t=0;t<a.length;++t){const l=a[t],n=l.query,o=pu(e,l);e.listenProvider_.startListening(yu(n),mu(e,n),o.hashFn,o.onComplete)}}}if(!n&&u.length>0&&!l)if(a){const a=null;e.listenProvider_.stopListening(yu(t),a)}else u.forEach(t=>{const a=e.queryToTagMap.get(vu(t));e.listenProvider_.stopListening(yu(t),a)})}!function(e,t){for(let a=0;a<t.length;++a){const l=t[a];if(!l._queryParams.loadsAllData()){const t=vu(l),a=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(a)}}}(e,u)}return i}function ou(e,t,a,l){const n=hu(e,l);if(null!=n){const l=fu(n),o=l.path,s=l.queryId,i=Fs(o,t);return gu(e,o,new zi(Bi(s),i,a))}return[]}function su(e,t,a,l=!1){const n=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const a=Fs(e,n);o=o||Gr(t,a),s=s||Jr(t)});let i,r=e.syncPointTree_.get(n);r?(s=s||Jr(r),o=o||Gr(r,Cs())):(r=new Ur,e.syncPointTree_=e.syncPointTree_.set(n,r)),null!=o?i=!0:(i=!1,o=vi.EMPTY_NODE,e.syncPointTree_.subtree(n).foreachChild((e,t)=>{const a=Gr(t,Cs());a&&(o=o.updateImmediateChild(e,a))}));const u=Xr(r,t);if(!u&&!t._queryParams.loadsAllData()){const a=vu(t);rl(!e.queryToTagMap.has(a),"View does not exist, but we have a tag");const l=Zr++;e.queryToTagMap.set(a,l),e.tagToQueryMap.set(l,a)}let d=jr(r,t,a,dr(e.pendingWriteTree_,n),o,i);if(!u&&!s&&!l){const a=Kr(r,t);d=d.concat(function(e,t,a){const l=t._path,n=mu(e,t),o=pu(e,a),s=e.listenProvider_.startListening(yu(t),n,o.hashFn,o.onComplete),i=e.syncPointTree_.subtree(l);if(n)rl(!Jr(i.value),"If we're adding a query, it shouldn't be shadowed");else{const t=i.fold((e,t,a)=>{if(!Ps(e)&&t&&Jr(t))return[Qr(t).query];{let e=[];return t&&(e=e.concat(Yr(t).map(e=>e.query))),Go(a,(t,a)=>{e=e.concat(a)}),e}});for(let a=0;a<t.length;++a){const l=t[a];e.listenProvider_.stopListening(yu(l),mu(e,l))}}return s}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,a))}return d}function iu(e,t,a){const l=e.pendingWriteTree_,n=e.syncPointTree_.findOnPath(t,(e,a)=>{const l=Gr(a,Fs(e,t));if(l)return l});return hr(l,t,n,a,!0)}function ru(e,t){const a=t._path;let l=null;e.syncPointTree_.foreachOnPath(a,(e,t)=>{const n=Fs(e,a);l=l||Gr(t,n)});let n=e.syncPointTree_.get(a);n?l=l||Gr(n,Cs()):(n=new Ur,e.syncPointTree_=e.syncPointTree_.set(a,n));const o=null!=l,s=o?new qi(l,!0,!1):null;return function(e){return Ki(e.viewCache_)}(Hr(n,t,dr(e.pendingWriteTree_,t._path),o?s.getNode():vi.EMPTY_NODE,o))}function uu(e,t){return du(t,e.syncPointTree_,null,dr(e.pendingWriteTree_,Cs()))}function du(e,t,a,l){if(Ps(e.path))return cu(e,t,a,l);{const n=t.get(Cs());null==a&&null!=n&&(a=Gr(n,Cs()));let o=[];const s=Is(e.path),i=e.operationForChild(s),r=t.children.get(s);if(r&&i){const e=a?a.getImmediateChild(s):null,t=_r(l,s);o=o.concat(du(i,r,e,t))}return n&&(o=o.concat(qr(n,e,l,a))),o}}function cu(e,t,a,l){const n=t.get(Cs());null==a&&null!=n&&(a=Gr(n,Cs()));let o=[];return t.children.inorderTraversal((t,n)=>{const s=a?a.getImmediateChild(t):null,i=_r(l,t),r=e.operationForChild(t);r&&(o=o.concat(cu(r,n,s,i)))}),n&&(o=o.concat(qr(n,e,l,a))),o}function pu(e,t){const a=t.query,l=mu(e,a);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||vi.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return l?function(e,t,a){const l=hu(e,a);if(l){const a=fu(l),n=a.path,o=a.queryId,s=Fs(n,t);return gu(e,n,new Ri(Bi(o),s))}return[]}(e,a._path,l):function(e,t){return uu(e,new Ri({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,a._path);{const l=function(e,t){let a="Unknown Error";"too_big"===e?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?a="Client doesn't have permission to access the desired data.":"unavailable"===e&&(a="The service is unavailable");const l=new Error(e+" at "+t._path.toString()+": "+a);return l.code=e.toUpperCase(),l}(t,a);return nu(e,a,null,l)}}}}function mu(e,t){const a=vu(t);return e.queryToTagMap.get(a)}function vu(e){return e._path.toString()+"$"+e._queryIdentifier}function hu(e,t){return e.tagToQueryMap.get(t)}function fu(e){const t=e.indexOf("$");return rl(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ss(e.substr(0,t))}}function gu(e,t,a){const l=e.syncPointTree_.get(t);return rl(l,"Missing sync point for query tag that we're tracking"),qr(l,a,dr(e.pendingWriteTree_,t),null)}function yu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(rl(zr,"Reference.ts has not been loaded"),zr)(e._repo,e._path):e}class bu{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new bu(t)}node(){return this.node_}}class xu{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Os(this.path_,e);return new xu(this.syncTree_,t)}node(){return iu(this.syncTree_,this.path_)}}const wu=function(e,t,a){return e&&"object"==typeof e?(rl(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?_u(e[".sv"],t,a):"object"==typeof e[".sv"]?ku(e[".sv"],t):void rl(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},_u=function(e,t,a){if("timestamp"===e)return a.timestamp;rl(!1,"Unexpected server value: "+e)},ku=function(e,t,a){e.hasOwnProperty("increment")||rl(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const l=e.increment;"number"!=typeof l&&rl(!1,"Unexpected increment value: "+l);const n=t.node();if(rl(null!=n,"Expected ChildrenNode.EMPTY_NODE for nulls"),!n.isLeafNode())return l;const o=n.getValue();return"number"!=typeof o?l:o+l},Su=function(e,t,a){return Cu(e,new bu(t),a)};function Cu(e,t,a){const l=e.getPriority().val(),n=wu(l,t.getImmediateChild(".priority"),a);let o;if(e.isLeafNode()){const l=e,o=wu(l.getValue(),t,a);return o!==l.getValue()||n!==l.getPriority().val()?new oi(o,fi(n)):e}{const l=e;return o=l,n!==l.getPriority().val()&&(o=o.updatePriority(new oi(n))),l.forEachChild(si,(e,l)=>{const n=Cu(l,t.getImmediateChild(e),a);n!==l&&(o=o.updateImmediateChild(e,n))}),o}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Iu{constructor(e="",t=null,a={children:{},childCount:0}){this.name=e,this.parent=t,this.node=a}}function Eu(e,t){let a=t instanceof Ss?t:new Ss(t),l=e,n=Is(a);for(;null!==n;){const e=Fl(l.node.children,n)||{children:{},childCount:0};l=new Iu(n,l,e),a=Ts(a),n=Is(a)}return l}function Tu(e){return e.node.value}function Nu(e,t){e.node.value=t,Fu(e)}function Mu(e){return e.node.childCount>0}function Au(e,t){Go(e.node.children,(a,l)=>{t(new Iu(a,e,l))})}function Ou(e,t,a,l){a&&t(e),Au(e,e=>{Ou(e,t,!0)})}function Pu(e){return new Ss(null===e.parent?e.name:Pu(e.parent)+"/"+e.name)}function Fu(e){null!==e.parent&&function(e,t,a){const l=function(e){return void 0===Tu(e)&&!Mu(e)}(a),n=Pl(e.node.children,t);l&&n?(delete e.node.children[t],e.node.childCount--,Fu(e)):l||n||(e.node.children[t]=a.node,e.node.childCount++,Fu(e))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e.parent,e.name,e)}const Lu=/[\[\].#$\/\u0000-\u001F\u007F]/,Du=/[\[\].#$\u0000-\u001F\u007F]/,Vu=10485760,Bu=function(e){return"string"==typeof e&&0!==e.length&&!Lu.test(e)},$u=function(e){return"string"==typeof e&&0!==e.length&&!Du.test(e)},Ru=function(e,t,a){const l=a instanceof Ss?new Vs(a,e):a;if(void 0===t)throw new Error(e+"contains undefined "+$s(l));if("function"==typeof t)throw new Error(e+"contains a function "+$s(l)+" with contents = "+t.toString());if(Ro(t))throw new Error(e+"contains "+t.toString()+" "+$s(l));if("string"==typeof t&&t.length>Vu/3&&zl(t)>Vu)throw new Error(e+"contains a string greater than "+Vu+" utf8 bytes "+$s(l)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,n=!1;if(Go(t,(t,o)=>{if(".value"===t)a=!0;else if(".priority"!==t&&".sv"!==t&&(n=!0,!Bu(t)))throw new Error(e+" contains an invalid key ("+t+") "+$s(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,i;i=t,(s=l).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(i),s.byteLength_+=zl(i),Bs(s),Ru(e,o,l),function(e){const t=e.parts_.pop();e.byteLength_-=zl(t),e.parts_.length>0&&(e.byteLength_-=1)}(l)}),a&&n)throw new Error(e+' contains ".value" child '+$s(l)+" in addition to actual children.")}},zu=function(e,t,a,l){if(!$u(a))throw new Error(Rl(e,t)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uu=function(e,t){const a=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==a.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$u(e)}(a))throw new Error(Rl(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class qu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hu(e,t,a){!function(e,t){let a=null;for(let l=0;l<t.length;l++){const n=t[l],o=n.getPath();null===a||Ls(o,a.path)||(e.eventLists_.push(a),a=null),null===a&&(a={events:[],path:o}),a.events.push(n)}a&&e.eventLists_.push(a)}(e,a),function(e,t){e.recursionDepth_++;let a=!0;for(let l=0;l<e.eventLists_.length;l++){const n=e.eventLists_[l];n&&(t(n.path)?(ju(e.eventLists_[l]),e.eventLists_[l]=null):a=!1)}a&&(e.eventLists_=[]),e.recursionDepth_--}(e,e=>Ds(e,t)||Ds(t,e))}function ju(e){for(let t=0;t<e.events.length;t++){const a=e.events[t];if(null!==a){e.events[t]=null;const l=a.getEventRunner();Po&&Lo("event: "+a.toString()),Qo(l)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Wu{constructor(e,t,a,l){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=a,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ai(),this.transactionQueueTree_=new Iu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Yu(e,t,a){if(e.stats_=ps(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ni(e.repoInfo_,(t,a,l,n)=>{Xu(e,t,a,l,n)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ju(e,!0),0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Al(a)}catch(SJ){throw new Error("Invalid authOverride provided: "+SJ)}}e.persistentConnection_=new Us(e.repoInfo_,t,(t,a,l,n)=>{Xu(e,t,a,l,n)},t=>{Ju(e,t)},t=>{!function(e,t){Go(t,(t,a)=>{Qu(e,t,a)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,a),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const a=e.toString();return cs[a]||(cs[a]=t()),cs[a]}(e.repoInfo_,()=>new Li(e.stats_,e.server_)),e.infoData_=new Mi,e.infoSyncTree_=new eu({startListening:(t,a,l,n)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=lu(e.infoSyncTree_,t._path,s),setTimeout(()=>{n("ok")},0)),o},stopListening:()=>{}}),Qu(e,"connected",!1),e.serverSyncTree_=new eu({startListening:(t,a,l,n)=>(e.server_.listen(t,l,a,(a,l)=>{const o=n(a,l);Hu(e.eventQueue_,t._path,o)}),[]),stopListening:(t,a)=>{e.server_.unlisten(t,a)}})}function Gu(e){const t=e.infoData_.getNode(new Ss(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ku(e){return(t=(t={timestamp:Gu(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Xu(e,t,a,l,n){e.dataUpdateCount++;const o=new Ss(t);a=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,a):a;let s=[];if(n)if(l){const t=Dl(a,e=>fi(e));s=function(e,t,a,l){const n=hu(e,l);if(n){const l=fu(n),o=l.path,s=l.queryId,i=Fs(o,t),r=Qi.fromObject(a);return gu(e,o,new Ui(Bi(s),i,r))}return[]}(e.serverSyncTree_,o,t,n)}else{const t=fi(a);s=ou(e.serverSyncTree_,o,t,n)}else if(l){const t=Dl(a,e=>fi(e));s=function(e,t,a){const l=Qi.fromObject(a);return uu(e,new Ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,l))}(e.serverSyncTree_,o,t)}else{const t=fi(a);s=lu(e.serverSyncTree_,o,t)}let i=o;s.length>0&&(i=ld(e,o)),Hu(e.eventQueue_,i,s)}function Ju(e,t){Qu(e,"connected",t),!1===t&&function(e){ed(e,"onDisconnectEvents");const t=Ku(e),a=Ai();Pi(e.onDisconnect_,Cs(),(l,n)=>{const o=function(e,t,a,l){return Cu(t,new xu(a,e),l)}(l,n,e.serverSyncTree_,t);Oi(a,l,o)});let l=[];Pi(a,Cs(),(t,a)=>{l=l.concat(lu(e.serverSyncTree_,t,a));const n=function(e,t){const a=Pu(nd(e,t)),l=Eu(e.transactionQueueTree_,t);return function(e,t){let a=e.parent;for(;null!==a;){if(t(a))return!0;a=a.parent}}(l,t=>{rd(e,t)}),rd(e,l),Ou(l,t=>{rd(e,t)}),a}(e,t);ld(e,n)}),e.onDisconnect_=Ai(),Hu(e.eventQueue_,Cs(),l)}(e)}function Qu(e,t,a){const l=new Ss("/.info/"+t),n=fi(a);e.infoData_.updateSnapshot(l,n);const o=lu(e.infoSyncTree_,l,n);Hu(e.eventQueue_,l,o)}function Zu(e){return e.nextWriteId_++}function ed(e,...t){let a="";e.persistentConnection_&&(a=e.persistentConnection_.id+":"),Lo(a,...t)}function td(e,t,a){return iu(e.serverSyncTree_,t,a)||vi.EMPTY_NODE}function ad(e,t=e.transactionQueueTree_){if(t||id(e,t),Tu(t)){const a=od(e,t);rl(a.length>0,"Sending zero length transaction queue"),a.every(e=>0===e.status)&&function(e,t,a){const l=a.map(e=>e.currentWriteId),n=td(e,t,l);let o=n;const s=n.hash();for(let u=0;u<a.length;u++){const e=a[u];rl(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const l=Fs(t,e.path);o=o.updateChild(l,e.currentOutputSnapshotRaw)}const i=o.val(!0),r=t;e.server_.put(r.toString(),i,l=>{ed(e,"transaction put response",{path:r.toString(),status:l});let n=[];if("ok"===l){const l=[];for(let t=0;t<a.length;t++)a[t].status=2,n=n.concat(au(e.serverSyncTree_,a[t].currentWriteId)),a[t].onComplete&&l.push(()=>a[t].onComplete(null,!0,a[t].currentOutputSnapshotResolved)),a[t].unwatcher();id(e,Eu(e.transactionQueueTree_,t)),ad(e,e.transactionQueueTree_),Hu(e.eventQueue_,t,n);for(let e=0;e<l.length;e++)Qo(l[e])}else{if("datastale"===l)for(let e=0;e<a.length;e++)3===a[e].status?a[e].status=4:a[e].status=0;else{$o("transaction at "+r.toString()+" failed: "+l);for(let e=0;e<a.length;e++)a[e].status=4,a[e].abortReason=l}ld(e,t)}},s)}(e,Pu(t),a)}else Mu(t)&&Au(t,t=>{ad(e,t)})}function ld(e,t){const a=nd(e,t),l=Pu(a);return function(e,t,a){if(0===t.length)return;const l=[];let n=[];const o=t.filter(e=>0===e.status),s=o.map(e=>e.currentWriteId);for(let i=0;i<t.length;i++){const o=t[i],r=Fs(a,o.path);let u,d=!1;if(rl(null!==r,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,n=n.concat(au(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=25)d=!0,u="maxretry",n=n.concat(au(e.serverSyncTree_,o.currentWriteId,!0));else{const a=td(e,o.path,s);o.currentInputSnapshot=a;const l=t[i].update(a.val());if(void 0!==l){Ru("transaction failed: Data returned ",l,o.path);let t=fi(l);"object"==typeof l&&null!=l&&Pl(l,".priority")||(t=t.updatePriority(a.getPriority()));const i=o.currentWriteId,r=Ku(e),u=Su(t,a,r);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=u,o.currentWriteId=Zu(e),s.splice(s.indexOf(i),1),n=n.concat(tu(e.serverSyncTree_,o.path,u,o.currentWriteId,o.applyLocally)),n=n.concat(au(e.serverSyncTree_,i,!0))}else d=!0,u="nodata",n=n.concat(au(e.serverSyncTree_,o.currentWriteId,!0))}Hu(e.eventQueue_,a,n),n=[],d&&(t[i].status=2,function(e){setTimeout(e,Math.floor(0))}(t[i].unwatcher),t[i].onComplete&&("nodata"===u?l.push(()=>t[i].onComplete(null,!1,t[i].currentInputSnapshot)):l.push(()=>t[i].onComplete(new Error(u),!1,null))))}id(e,e.transactionQueueTree_);for(let i=0;i<l.length;i++)Qo(l[i]);ad(e,e.transactionQueueTree_)}(e,od(e,a),l),l}function nd(e,t){let a,l=e.transactionQueueTree_;for(a=Is(t);null!==a&&void 0===Tu(l);)l=Eu(l,a),a=Is(t=Ts(t));return l}function od(e,t){const a=[];return sd(e,t,a),a.sort((e,t)=>e.order-t.order),a}function sd(e,t,a){const l=Tu(t);if(l)for(let n=0;n<l.length;n++)a.push(l[n]);Au(t,t=>{sd(e,t,a)})}function id(e,t){const a=Tu(t);if(a){let e=0;for(let t=0;t<a.length;t++)2!==a[t].status&&(a[e]=a[t],e++);a.length=e,Nu(t,a.length>0?a:void 0)}Au(t,t=>{id(e,t)})}function rd(e,t){const a=Tu(t);if(a){const l=[];let n=[],o=-1;for(let t=0;t<a.length;t++)3===a[t].status||(1===a[t].status?(rl(o===t-1,"All SENT items should be at beginning of queue."),o=t,a[t].status=3,a[t].abortReason="set"):(rl(0===a[t].status,"Unexpected transaction status in abort"),a[t].unwatcher(),n=n.concat(au(e.serverSyncTree_,a[t].currentWriteId,!0)),a[t].onComplete&&l.push(a[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Nu(t,void 0):a.length=o+1,Hu(e.eventQueue_,Pu(t),n);for(let e=0;e<l.length;e++)Qo(l[e])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ud=function(e,t){const a=dd(e),l=a.namespace;"firebase.com"===a.domain&&Bo(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),l&&"undefined"!==l||"localhost"===a.domain||Bo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$o("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const n="ws"===a.scheme||"wss"===a.scheme;return{repoInfo:new is(a.host,a.secure,l,n,t,"",l!==a.subdomain),path:new Ss(a.pathString)}},dd=function(e){let t="",a="",l="",n="",o="",s=!0,i="https",r=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(i=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");-1===d&&(d=e.length);let c=e.indexOf("?");-1===c&&(c=e.length),t=e.substring(0,Math.min(d,c)),d<c&&(n=function(e){let t="";const a=e.split("/");for(let l=0;l<a.length;l++)if(a[l].length>0){let e=a[l];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(SJ){}t+="/"+e}return t}(e.substring(d,c)));const p=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const a of e.split("&")){if(0===a.length)continue;const l=a.split("=");2===l.length?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):$o(`Invalid query segment '${a}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,c)));u=t.indexOf(":"),u>=0?(s="https"===i||"wss"===i,r=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if("localhost"===m.toLowerCase())a="localhost";else if(m.split(".").length<=2)a=m;else{const e=t.indexOf(".");l=t.substring(0,e).toLowerCase(),a=t.substring(e+1),o=l}"ns"in p&&(o=p.ns)}return{host:t,port:r,domain:a,subdomain:l,secure:s,scheme:i,pathString:n,namespace:o}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
class cd{constructor(e,t,a,l){this.eventType=e,this.eventRegistration=t,this.snapshot=a,this.prevName=l}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Al(this.snapshot.exportVal())}}class pd{constructor(e,t,a){this.eventRegistration=e,this.error=t,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class md{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return rl(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vd{constructor(e,t,a,l){this._repo=e,this._path=t,this._queryParams=a,this._orderByCalled=l}get key(){return Ps(this._path)?null:Ns(this._path)}get ref(){return new hd(this._repo,this._path)}get _queryIdentifier(){const e=Ti(this._queryParams),t=Wo(e);return"{}"===t?"default":t}get _queryObject(){return Ti(this._queryParams)}isEqual(e){if(!((e=ql(e))instanceof vd))return!1;const t=this._repo===e._repo,a=Ls(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return t&&a&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let a=e.pieceNum_;a<e.pieces_.length;a++)""!==e.pieces_[a]&&(t+="/"+encodeURIComponent(String(e.pieces_[a])));return t||"/"}(this._path)}}class hd extends vd{constructor(e,t){super(e,t,new Ii,!1)}get parent(){const e=As(this._path);return null===e?null:new hd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class fd{constructor(e,t,a){this._node=e,this.ref=t,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ss(e),a=gd(this.ref,e);return new fd(this._node.getChild(t),a,si)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,a)=>e(new fd(a,gd(this.ref,t),si)))}hasChild(e){const t=new Ss(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gd(e,t){var a,l,n;return null===Is((e=ql(e))._path)?(a="child",l="path",(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zu(a,l,n)):zu("child","path",t),new hd(e._repo,Os(e._path,t))}class yd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const a=t._queryParams.getIndex();return new cd("value",this,new fd(e.snapshotNode,new hd(t._repo,t._path),a))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new pd(this,e,t):null}matches(e){return e instanceof yd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){rl(!Rr,"__referenceConstructor has already been defined"),Rr=e}(hd),function(e){rl(!zr,"__referenceConstructor has already been defined"),zr=e}(hd);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const bd={};let xd=!1;function wd(e,t,a,l,n){let o=l||e.options.databaseURL;void 0===o&&(e.options.projectId||Bo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lo("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,i=ud(o,n),r=i.repoInfo;"undefined"!=typeof process&&xo&&(s=xo.FIREBASE_DATABASE_EMULATOR_HOST),s?(o=`http://${s}?ns=${r.namespace}`,i=ud(o,n),r=i.repoInfo):i.repoInfo.secure;const u=new ts(e.name,e.options,t);Uu("Invalid Firebase Database URL",i),Ps(i.path)||Bo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,a,l){let n=bd[t.name];n||(n={},bd[t.name]=n);let o=n[e.toURLString()];return o&&Bo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Wu(e,xd,a,l),n[e.toURLString()]=o,o}(r,e,u,new es(e.name,a));return new _d(d,e)}class _d{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Yu(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hd(this._repo,Cs())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const a=bd[t];a&&a[e.key]===e||Bo(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete a[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Bo("Cannot call "+e+" on a deleted database.")}}Us.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Us.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){ko="10.14.1",ao(new Hl("database",(e,{instanceIdentifier:t})=>wd(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),ro(wo,_o,e),ro(wo,_o,"esm2017")}();const kd="@firebase/installations",Sd="0.6.9",Cd=1e4,Id=`w:${Sd}`,Ed="FIS_v2",Td=36e5,Nd=new Tl("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Md(e){return e instanceof El&&e.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ad({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Od(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Pd(e,t){const a=(await t.json()).error;return Nd.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function Fd({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Ld(e,{refreshToken:t}){const a=Fd(e);return a.append("Authorization",function(e){return`${Ed} ${e}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)),a}async function Dd(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Vd(e){return new Promise(t=>{setTimeout(t,e)})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const Bd=/^[cdef][\w-]{21}$/;function $d(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(a=e,btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_"));var a;return t.substr(0,22)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e);return Bd.test(t)?t:""}catch(e){return""}}function Rd(e){return`${e.appName}!${e.appId}`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const zd=new Map;function Ud(e,t){const a=Rd(e);qd(a,t),function(e,t){const a=(!Hd&&"BroadcastChannel"in self&&(Hd=new BroadcastChannel("[Firebase] FID Change"),Hd.onmessage=e=>{qd(e.data.key,e.data.fid)}),Hd);a&&a.postMessage({key:e,fid:t}),0===zd.size&&Hd&&(Hd.close(),Hd=null)}(a,t)}function qd(e,t){const a=zd.get(e);if(a)for(const l of a)l(t)}let Hd=null;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const jd="firebase-installations-store";let Wd=null;function Yd(){return Wd||(Wd=vn("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(jd)}})),Wd}async function Gd(e,t){const a=Rd(e),l=(await Yd()).transaction(jd,"readwrite"),n=l.objectStore(jd),o=await n.get(a);return await n.put(t,a),await l.done,o&&o.fid===t.fid||Ud(e,t.fid),t}async function Kd(e){const t=Rd(e),a=(await Yd()).transaction(jd,"readwrite");await a.objectStore(jd).delete(t),await a.done}async function Xd(e,t){const a=Rd(e),l=(await Yd()).transaction(jd,"readwrite"),n=l.objectStore(jd),o=await n.get(a),s=t(o);return void 0===s?await n.delete(a):await n.put(s,a),await l.done,!s||o&&o.fid===s.fid||Ud(e,s.fid),s}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function Jd(e){let t;const a=await Xd(e.appConfig,a=>{const l=function(e){const t=e||{fid:$d(),registrationStatus:0};return ec(t)}(a),n=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Nd.create("app-offline"))};const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},l=async function(e,t){try{const a=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:a}){const l=Ad(e),n=Fd(e),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}const s={fid:a,authVersion:Ed,appId:e.appId,sdkVersion:Id},i={method:"POST",headers:n,body:JSON.stringify(s)},r=await Dd(()=>fetch(l,i));if(r.ok){const e=await r.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:Od(e.authToken)}}throw await Pd("Create Installation",r)}(e,t);return Gd(e.appConfig,a)}catch(SJ){throw Md(SJ)&&409===SJ.customData.serverCode?await Kd(e.appConfig):await Gd(e.appConfig,{fid:t.fid,registrationStatus:0}),SJ}}(e,a);return{installationEntry:a,registrationPromise:l}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Qd(e)}:{installationEntry:t}}(e,l);return t=n.registrationPromise,n.installationEntry});return""===a.fid?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}async function Qd(e){let t=await Zd(e.appConfig);for(;1===t.registrationStatus;)await Vd(100),t=await Zd(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:a}=await Jd(e);return a||t}return t}function Zd(e){return Xd(e,e=>{if(!e)throw Nd.create("installation-not-found");return ec(e)})}function ec(e){return 1===(t=e).registrationStatus&&t.registrationTime+Cd<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}async function tc({appConfig:e,heartbeatServiceProvider:t},a){const l=function(e,{fid:t}){return`${Ad(e)}/${t}/authTokens:generate`}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,a),n=Ld(e,a),o=t.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&n.append("x-firebase-client",e)}const s={installation:{sdkVersion:Id,appId:e.appId}},i={method:"POST",headers:n,body:JSON.stringify(s)},r=await Dd(()=>fetch(l,i));if(r.ok)return Od(await r.json());throw await Pd("Generate Auth Token",r)}async function ac(e,t=!1){let a;const l=await Xd(e.appConfig,l=>{if(!nc(l))throw Nd.create("not-registered");const n=l.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Td}(e)}(n))return l;if(1===n.requestStatus)return a=async function(e,t){let a=await lc(e.appConfig);for(;1===a.authToken.requestStatus;)await Vd(100),a=await lc(e.appConfig);const l=a.authToken;return 0===l.requestStatus?ac(e,t):l}(e,t),l;{if(!navigator.onLine)throw Nd.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(l);return a=async function(e,t){try{const a=await tc(e,t),l=Object.assign(Object.assign({},t),{authToken:a});return await Gd(e.appConfig,l),a}catch(SJ){if(!Md(SJ)||401!==SJ.customData.serverCode&&404!==SJ.customData.serverCode){const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Gd(e.appConfig,a)}else await Kd(e.appConfig);throw SJ}}(e,t),t}});return a?await a:l.authToken}function lc(e){return Xd(e,e=>{if(!nc(e))throw Nd.create("not-registered");const t=e.authToken;return 1===(a=t).requestStatus&&a.requestTime+Cd<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var a;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */})}function nc(e){return void 0!==e&&2===e.registrationStatus}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
async function oc(e,t=!1){const a=e;return await async function(e){const{registrationPromise:t}=await Jd(e);t&&await t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(a),(await ac(a,t)).token}function sc(e){return Nd.create("missing-app-config-values",{valueName:e})}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ic="installations",rc=e=>{const t=lo(e.getProvider("app").getImmediate(),ic).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:a,registrationPromise:l}=await Jd(t);return l?l.catch(console.error):ac(t).catch(console.error),a.fid}(t),getToken:e=>oc(t,e)}};ao(new Hl(ic,e=>{const t=e.getProvider("app").getImmediate(),a=function(e){if(!e||!e.options)throw sc("App Configuration");if(!e.name)throw sc("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!e.options[a])throw sc(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:a,heartbeatServiceProvider:lo(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),ao(new Hl("installations-internal",rc,"PRIVATE")),ro(kd,Sd),ro(kd,Sd,"esm2017");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
const uc="analytics",dc="https://www.googletagmanager.com/gtag/js",cc=new en("@firebase/analytics"),pc=new Tl("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function mc(e){if(!e.startsWith(dc)){const t=pc.create("invalid-gtag-resource",{gtagURL:e});return cc.warn(t.message),""}return e}function vc(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function hc(e,t){const a=function(e,t){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(e,t)),a}("firebase-js-sdk-policy",{createScriptURL:mc}),l=document.createElement("script"),n=`${dc}?l=${e}&id=${t}`;l.src=a?null==a?void 0:a.createScriptURL(n):n,l.async=!0,document.head.appendChild(l)}function fc(e,t,a,l){return async function(n,...o){try{if("event"===n){const[l,n]=o;await async function(e,t,a,l,n){try{let o=[];if(n&&n.send_to){let e=n.send_to;Array.isArray(e)||(e=[e]);const l=await vc(a);for(const a of e){const e=l.find(e=>e.measurementId===a),n=e&&t[e.appId];if(!n){o=[];break}o.push(n)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",l,n||{})}catch(SJ){cc.error(SJ)}}(e,t,a,l,n)}else if("config"===n){const[n,s]=o;await async function(e,t,a,l,n,o){const s=l[n];try{if(s)await t[s];else{const e=(await vc(a)).find(e=>e.measurementId===n);e&&await t[e.appId]}}catch(SJ){cc.error(SJ)}e("config",n,o)}(e,t,a,l,n,s)}else if("consent"===n){const[t,a]=o;e("consent",t,a)}else if("get"===n){const[t,a,l]=o;e("get",t,a,l)}else if("set"===n){const[t]=o;e("set",t)}else e(n,...o)}catch(SJ){cc.error(SJ)}}}const gc=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function yc(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bc(e,t=gc,a){const{appId:l,apiKey:n,measurementId:o}=e.options;if(!l)throw pc.create("no-app-id");if(!n){if(o)return{measurementId:o,appId:l};throw pc.create("no-api-key")}const s=t.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},i=new wc;return setTimeout(async()=>{i.abort()},6e4),xc({appId:l,apiKey:n,measurementId:o},s,i,t)}async function xc(e,{throttleEndTimeMillis:t,backoffCount:a},l,n=gc){var o;const{appId:s,measurementId:i}=e;try{await function(e,t){return new Promise((a,l)=>{const n=Math.max(t-Date.now(),0),o=setTimeout(a,n);e.addEventListener(()=>{clearTimeout(o),l(pc.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(l,t)}catch(SJ){if(i)return cc.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${null==SJ?void 0:SJ.message}]`),{appId:s,measurementId:i};throw SJ}try{const t=await async function(e){var t;const{appId:a,apiKey:l}=e,n={method:"GET",headers:yc(l)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",a),s=await fetch(o,n);if(200!==s.status&&304!==s.status){let e="";try{const a=await s.json();(null===(t=a.error)||void 0===t?void 0:t.message)&&(e=a.error.message)}catch(i){}throw pc.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return n.deleteThrottleMetadata(s),t}catch(SJ){const r=SJ;if(!function(e){if(!(e instanceof El&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(n.deleteThrottleMetadata(s),i)return cc.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${i} provided in the "measurementId" field in the local Firebase config. [${null==r?void 0:r.message}]`),{appId:s,measurementId:i};throw SJ}const u=503===Number(null===(o=null==r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?Ul(a,n.intervalMillis,30):Ul(a,n.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:a+1};return n.setThrottleMetadata(s,d),cc.debug(`Calling attemptFetch again in ${u} millis`),xc(e,d,l,n)}}class wc{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _c(e,t,a,l,n,o,s){var i;const r=bc(e);r.then(t=>{a[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&cc.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>cc.error(e)),t.push(r);const u=
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
async function(){if(!Cl())return cc.warn(pc.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Il()}catch(SJ){return cc.warn(pc.create("indexeddb-unavailable",{errorInfo:null==SJ?void 0:SJ.toString()}).message),!1}return!0}().then(e=>e?l.getId():void 0),[d,c]=await Promise.all([r,u]);(function(e){const t=window.document.getElementsByTagName("script");for(const a of Object.values(t))if(a.src&&a.src.includes(dc)&&a.src.includes(e))return a;return null}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)(o)||hc(o,d.measurementId),n("js",new Date);const p=null!==(i=null==s?void 0:s.config)&&void 0!==i?i:{};return p.origin="firebase",p.update=!0,null!=c&&(p.firebase_id=c),n("config",d.measurementId,p),d.measurementId}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class kc{constructor(e){this.app=e}_delete(){return delete Sc[this.app.options.appId],Promise.resolve()}}let Sc={},Cc=[];const Ic={};let Ec,Tc,Nc="dataLayer",Mc=!1;function Ac(){const e=[];if(function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),a=pc.create("invalid-analytics-context",{errorInfo:t});cc.warn(a.message)}}function Oc(e,t,a){Ac();const l=e.options.appId;if(!l)throw pc.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pc.create("no-api-key");cc.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sc[l])throw pc.create("already-exists",{id:l});if(!Mc){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Nc);const{wrappedGtag:e,gtagCore:t}=function(e,t,a,l,n){let o=function(...e){window[l].push(arguments)};return window[n]&&"function"==typeof window[n]&&(o=window[n]),window[n]=fc(o,e,t,a),{gtagCore:o,wrappedGtag:window[n]}}(Sc,Cc,Ic,Nc,"gtag");Tc=e,Ec=t,Mc=!0}return Sc[l]=_c(e,Cc,Ic,t,Ec,Nc,a),new kc(e)}function Pc(e,t,a,l){e=ql(e),async function(e,t,a,l,n){if(n&&n.global)e("event",a,l);else{const n=await t;e("event",a,Object.assign(Object.assign({},l),{send_to:n}))}}(Tc,Sc[e.app.options.appId],t,a,l).catch(e=>cc.error(e))}const Fc="@firebase/analytics",Lc="0.10.8";ao(new Hl(uc,(e,{options:t})=>Oc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),ao(new Hl("analytics-internal",function(e){try{const t=e.getProvider(uc).getImmediate();return{logEvent:(e,a,l)=>Pc(t,e,a,l)}}catch(SJ){throw pc.create("interop-component-reg-failed",{reason:SJ})}},"PRIVATE")),ro(Fc,Lc),ro(Fc,Lc,"esm2017");const Dc=so({apiKey:"AIzaSyAy9ykcjhb2SIofJbDU0YVTpA6B0dRFoqA",authDomain:"app-mynt.firebaseapp.com",databaseURL:"https://app-mynt-default-rtdb.firebaseio.com",projectId:"app-mynt",storageBucket:"app-mynt.firebasestorage.app",messagingSenderId:"652976261222",appId:"1:652976261222:web:f4346b6d294a0c1e0fc5a7",measurementId:"G-YDNBR3CNPQ"}),Vc=function(e=io(),t){const a=lo(e,"database").getImmediate({identifier:t});if(!a._instanceStarted){const e=wl("database");e&&function(e,t,a,l={}){(e=ql(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Bo("Cannot call useEmulator() after instance has already been initialized.");const n=e._repoInternal;let o;if(n.repoInfo_.nodeAdmin)l.mockUserToken&&Bo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new as(as.OWNER);else if(l.mockUserToken){const t="string"==typeof l.mockUserToken?l.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a=t||"demo-project",l=e.iat||0,n=e.sub||e.user_id;if(!n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vl(JSON.stringify({alg:"none",type:"JWT"})),vl(JSON.stringify(o)),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(l.mockUserToken,e.app.options.projectId);o=new as(t)}!function(e,t,a,l){e.repoInfo_=new is(`${t}:${a}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),l&&(e.authTokenProvider_=l)}(n,t,a,o)}(a,...e)}return a}(Dc);let Bc=null;if("undefined"!=typeof window)try{Bc=function(e=io()){const t=lo(e=ql(e),uc);return t.isInitialized()?t.getImmediate():function(e,t={}){const a=lo(e,uc);if(a.isInitialized()){const e=a.getImmediate();if(Vl(t,a.getOptions()))return e;throw pc.create("already-initialized")}return a.initialize({options:t})}(e)}(Dc)}catch(Wie){console.warn("Firebase Analytics initialization failed (non-critical):",Wie),Bc=null}const $c={db:Vc,ref:function(e,t){return(e=ql(e))._checkNotDeleted("ref"),void 0!==t?gd(e._root,t):e._root},get:function(e){e=ql(e);const t=new md(()=>{}),a=new yd(t);return function(e,t,a){const l=ru(e.serverSyncTree_,t);return null!=l?Promise.resolve(l):e.server_.get(t).then(l=>{const n=fi(l).withIndex(t._queryParams.getIndex());let o;if(su(e.serverSyncTree_,t,a,!0),t._queryParams.loadsAllData())o=lu(e.serverSyncTree_,t._path,n);else{const a=mu(e.serverSyncTree_,t);o=ou(e.serverSyncTree_,t._path,n,a)}return Hu(e.eventQueue_,t._path,o),nu(e.serverSyncTree_,t,a,null,!0),n},a=>(ed(e,"get for query "+Al(t)+" failed: "+a),Promise.reject(new Error(a))))}(e._repo,e,a).then(t=>new fd(t,new hd(e._repo,e._path),e._queryParams.getIndex()))},child:gd},Rc=t("auth",()=>{const e=a(null),t=a(null),l=a(null),n=a(null),o=a(null),s=a(null),i=a({}),r=a(!0),u=(a,n,o)=>{e.value=a,t.value=n,l.value=o};return{uid:e,token:t,mtoken:l,user:n,sessionConfig:o,userdata:s,clientdata:i,loading:r,isAuthenticated:()=>!!e.value&&!!t.value,useris:()=>!!e.value,setAuth:u,setUser:e=>{n.value=e},setSessionConfig:e=>{o.value=e},setUserdata:e=>{s.value=e},setClientdata:e=>{i.value=e},setLoading:e=>{r.value=e},clearAuth:()=>{e.value=null,t.value=null,l.value=null,n.value=null,o.value=null,s.value=null,i.value={},r.value=!0,localStorage.removeItem("client_data")},loadFromSession:()=>{e.value=sessionStorage.getItem("userid"),t.value=sessionStorage.getItem("usession"),l.value=sessionStorage.getItem("msession");const a=localStorage.getItem("profile_data");if(a)try{n.value=JSON.parse(a),console.log(n.value,"user.value")}catch(SJ){console.error("Error parsing profile data:",SJ),n.value=null}const o=localStorage.getItem("client_data");if(o&&e.value)try{const t=JSON.parse(o);t.uid===e.value&&t.data&&(i.value=t.data,console.log("✅ Clientdata loaded from localStorage:",i.value))}catch(SJ){console.error("Error parsing client_data from localStorage:",SJ)}},loadFromUrl:()=>{const e=new URL(window.location.href),t=e.searchParams.get("uid"),a=e.searchParams.get("token"),l=e.searchParams.get("sess");"string"==typeof t&&"string"==typeof a&&(localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",a),sessionStorage.setItem("userid",t),sessionStorage.setItem("msession",l),sessionStorage.setItem("imei",e.searchParams.get("imei")),u(t,a,l))},loadFromSharedSession:async()=>{const e=new URL(window.location.href),t=e.searchParams.get("sUserId"),a=e.searchParams.get("sToken");return"string"==typeof t&&"string"==typeof a?{suser:t,stoken:a,pathname:e.pathname}:null},setupAuthFromUrl:()=>{const e=new URL(window.location.href),t=e.searchParams.get("uid"),a=e.searchParams.get("token"),l=e.searchParams.get("sess");return"string"==typeof t&&"string"==typeof a?(localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",a),sessionStorage.setItem("userid",t),sessionStorage.setItem("msession",l),sessionStorage.setItem("imei",e.searchParams.get("imei")),u(t,a,l),{actid:t,tokenParam:a}):null}}}),zc=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},Uc=xe({border:[Boolean,Number,String]},"border");function qc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return{borderClasses:l(()=>{const a=e.border;return!0===a||""===a?`${t}--border`:"string"==typeof a||0===a?String(a).split(" ").map(e=>`border-${e}`):[]})}}const Hc=[null,"default","comfortable","compact"],jc=xe({density:{type:String,default:"default",validator:e=>Hc.includes(e)}},"density");function Wc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return{densityClasses:n(()=>`${t}--density-${e.density}`)}}const Yc=xe({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Gc(e){return{elevationClasses:n(()=>{const t=o(e)?e.value:e.elevation;return null==t?[]:[`elevation-${t}`]})}}const Kc=xe({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Xc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return{roundedClasses:l(()=>{const a=o(e)?e.value:e.rounded,l=[];if(!o(e)&&e.tile||!1===a)l.push("rounded-0");else if(!0===a||""===a)l.push(`${t}--rounded`);else if("string"==typeof a||0===a)for(const e of String(a).split(" "))l.push(`rounded-${e}`);return l})}}const Jc=xe({tag:{type:[String,Object,Function],default:"div"}},"tag");function Qc(e){return _e(()=>{const{class:t,style:a}=function(e){const t=s(e),a=[],l={};if(t.background)if(ke(t.background)){if(l.backgroundColor=t.background,!t.text&&Se(t.background)){const e=Ce(t.background);if(null==e.a||1===e.a){const t=Ie(e);l.color=t,l.caretColor=t}}}else a.push(`bg-${t.background}`);return t.text&&(ke(t.text)?(l.color=t.text,l.caretColor=t.text):a.push(`text-${t.text}`)),{class:a,style:l}}(e);return{colorClasses:t,colorStyles:a}})}function Zc(e){const{colorClasses:t,colorStyles:a}=Qc(()=>({text:s(e)}));return{textColorClasses:t,textColorStyles:a}}function ep(e){const{colorClasses:t,colorStyles:a}=Qc(()=>({background:s(e)}));return{backgroundColorClasses:t,backgroundColorStyles:a}}const tp=["elevated","flat","tonal","outlined","text","plain"];function ap(e,t){return i(u,null,[e&&i("span",{key:"overlay",class:r(`${t}__overlay`)},null),i("span",{key:"underlay",class:r(`${t}__underlay`)},null)])}const lp=xe({color:String,variant:{type:String,default:"elevated",validator:e=>tp.includes(e)}},"variant");function np(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();const a=n(()=>{const{variant:a}=s(e);return`${t}--variant-${a}`}),{colorClasses:l,colorStyles:o}=Qc(()=>{const{variant:t,color:a}=s(e);return{[["elevated","flat"].includes(t)?"background":"text"]:a}});return{colorClasses:l,colorStyles:o,variantClasses:a}}const op=xe({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...Uc(),...Oe(),...jc(),...Yc(),...Kc(),...Jc(),...Ae(),...lp()},"VBtnGroup"),sp=Ee()({name:"VBtnGroup",props:op(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{densityClasses:o}=Wc(e),{borderClasses:s}=qc(e),{elevationClasses:i}=Gc(e),{roundedClasses:u}=Xc(e);Ne({VBtn:{height:n(()=>"horizontal"===e.direction?"auto":null),baseColor:n(()=>e.baseColor),color:n(()=>e.color),density:n(()=>e.density),flat:!0,variant:n(()=>e.variant)}}),Me(()=>d(e.tag,{class:r(["v-btn-group",`v-btn-group--${e.direction}`,{"v-btn-group--divided":e.divided},l.value,s.value,o.value,i.value,u.value,e.class]),style:c(e.style)},a))}}),ip=xe({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),rp=xe({value:null,disabled:Boolean,selectedClass:String},"group-item");function up(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=Pe("useGroupItem");if(!o)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=p();m(Symbol.for(`${t.description}:id`),s);const i=v(t,null);if(!i){if(!a)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const r=n(()=>e.value),u=l(()=>!(!i.disabled.value&&!e.disabled));function d(){null==i||i.register({id:s,value:r,disabled:u},o)}function c(){null==i||i.unregister(s)}d(),h(()=>c());const g=l(()=>i.isSelected(s)),y=l(()=>i.items.value[0].id===s),b=l(()=>i.items.value[i.items.value.length-1].id===s),x=l(()=>g.value&&[i.selectedClass.value,e.selectedClass]);return f(g,e=>{o.emit("group:selected",{value:e})},{flush:"sync"}),{id:s,isSelected:g,isFirst:y,isLast:b,toggle:()=>i.select(s,!g.value),select:e=>i.select(s,e),selectedClass:x,value:r,disabled:u,group:i,register:d,unregister:c}}function dp(e,t){let a=!1;const l=g([]),o=Fe(e,"modelValue",[],e=>void 0===e?[]:cp(l,null===e?[null]:De(e)),t=>{const a=function(e,t){const a=[];return t.forEach(t=>{const l=e.findIndex(e=>e.id===t);if(~l){const t=e[l];a.push(void 0!==t.value?t.value:l)}}),a}(l,t);return e.multiple?a:a[0]}),s=Pe("useGroup");function i(){const t=l.find(e=>!e.disabled);t&&"force"===e.mandatory&&!o.value.length&&(o.value=[t.id])}function r(t){if(e.multiple,o.value.length){const e=o.value[0],a=l.findIndex(t=>t.id===e);let n=(a+t)%l.length,s=l[n];for(;s.disabled&&n!==a;)n=(n+t)%l.length,s=l[n];if(s.disabled)return;o.value=[l[n].id]}else{const e=l.find(e=>!e.disabled);e&&(o.value=[e.id])}}y(()=>{i()}),h(()=>{a=!0}),b(()=>{for(let e=0;e<l.length;e++)l[e].useIndexAsValue&&(l[e].value=e)});const u={register:function(e,a){const n=e,o=Symbol.for(`${t.description}:id`),i=Ve(o,null==s?void 0:s.vnode).indexOf(a);void 0===x(n.value)&&(n.value=i,n.useIndexAsValue=!0),i>-1?l.splice(i,0,n):l.push(n)},unregister:function(e){if(a)return;i();const t=l.findIndex(t=>t.id===e);l.splice(t,1)},selected:o,select:function(t,a){const n=l.find(e=>e.id===t);if(!a||!(null==n?void 0:n.disabled))if(e.multiple){const l=o.value.slice(),n=l.findIndex(e=>e===t),s=~n;if(a=a??!s,s&&e.mandatory&&l.length<=1)return;if(!s&&null!=e.max&&l.length+1>e.max)return;n<0&&a?l.push(t):n>=0&&!a&&l.splice(n,1),o.value=l}else{const l=o.value.includes(t);if(e.mandatory&&l)return;if(!l&&!a)return;o.value=a??!l?[t]:[]}},disabled:n(()=>e.disabled),prev:()=>r(l.length-1),next:()=>r(1),isSelected:e=>o.value.includes(e),selectedClass:n(()=>e.selectedClass),items:n(()=>l),getItemIndex:e=>function(e,t){const a=cp(e,[t]);return a.length?e.findIndex(e=>e.id===a[0]):-1}(l,e)};return m(t,u),u}function cp(e,t){const a=[];return t.forEach(t=>{const l=e.find(e=>Le(t,e.value)),n=e[t];void 0!==(null==l?void 0:l.value)?a.push(l.id):(null==n?void 0:n.useIndexAsValue)&&a.push(n.id)}),a}const pp=Symbol.for("vuetify:v-btn-toggle"),mp=xe({...op(),...ip()},"VBtnToggle"),vp=Ee()({name:"VBtnToggle",props:mp(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:l,next:n,prev:o,select:s,selected:i}=dp(e,pp);return Me(()=>{const t=sp.filterProps(e);return d(sp,w({class:["v-btn-toggle",e.class]},t,{style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:l,next:n,prev:o,select:s,selected:i})]}})}),{next:n,prev:o,select:s}}}),hp=xe({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),fp=Ee(!1)({name:"VDefaultsProvider",props:hp(),setup(e,t){let{slots:a}=t;const{defaults:l,disabled:n,reset:o,root:s,scoped:i}=_(e);return Ne(l,{reset:o,root:s,scoped:i,disabled:n}),()=>{var e;return null==(e=a.default)?void 0:e.call(a)}}}),gp=["x-small","small","default","large","x-large"],yp=xe({size:{type:[String,Number],default:"default"}},"size");function bp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return _e(()=>{const a=e.size;let l,n;return Be(gp,a)?l=`${t}--size-${a}`:a&&(n={width:$e(a),height:$e(a)}),{sizeClasses:l,sizeStyles:n}})}const xp=xe({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ue,opacity:[String,Number],...Oe(),...yp(),...Jc({tag:"i"}),...Ae()},"VIcon"),wp=Ee()({name:"VIcon",props:xp(),setup(e,t){let{attrs:a,slots:l}=t;const n=k(),{themeClasses:o}=Re(),{iconData:s}=ze(()=>n.value||e.icon),{sizeClasses:i}=bp(e),{textColorClasses:u,textColorStyles:p}=Zc(()=>e.color);return Me(()=>{var t,m;const v=null==(t=l.default)?void 0:t.call(l);v&&(n.value=null==(m=qe(v).filter(e=>e.type===S&&e.children&&"string"==typeof e.children)[0])?void 0:m.children);const h=!(!a.onClick&&!a.onClickOnce);return d(s.value.component,{tag:e.tag,icon:s.value.icon,class:r(["v-icon","notranslate",o.value,i.value,u.value,{"v-icon--clickable":h,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:c([{"--v-icon-opacity":e.opacity},i.value?void 0:{fontSize:$e(e.size),height:$e(e.size),width:$e(e.size)},p.value,e.style]),role:h?"button":void 0,"aria-hidden":!h,tabindex:h?e.disabled?-1:0:void 0},{default:()=>[v]})}),{}}});function _p(e,t){const l=a(),n=k(!1);if(He){const e=new IntersectionObserver(e=>{n.value=!!e.find(e=>e.isIntersecting)},t);C(()=>{e.disconnect()}),f(l,(t,a)=>{a&&(e.unobserve(a),n.value=!1),t&&e.observe(t)},{flush:"post"})}return{intersectionRef:l,isIntersecting:n}}const kp=xe({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Oe(),...yp(),...Jc({tag:"div"}),...Ae()},"VProgressCircular"),Sp=Ee()({name:"VProgressCircular",props:kp(),setup(e,t){let{slots:l}=t;const o=2*Math.PI*20,s=a(),{themeClasses:u}=Te(e),{sizeClasses:p,sizeStyles:m}=bp(e),{textColorClasses:v,textColorStyles:h}=Zc(()=>e.color),{textColorClasses:f,textColorStyles:g}=Zc(()=>e.bgColor),{intersectionRef:y,isIntersecting:b}=_p(),{resizeRef:x,contentRect:w}=je(),_=n(()=>We(parseFloat(e.modelValue),0,100)),k=n(()=>Number(e.width)),S=n(()=>m.value?Number(e.size):w.value?w.value.width:Math.max(k.value,32)),C=n(()=>20/(1-k.value/S.value)*2),E=n(()=>k.value/S.value*C.value),T=n(()=>$e((100-_.value)/100*o));return I(()=>{y.value=s.value,x.value=s.value}),Me(()=>d(e.tag,{ref:s,class:r(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":b.value,"v-progress-circular--disable-shrink":e.indeterminate&&("disable-shrink"===e.indeterminate||Ye())},u.value,p.value,v.value,e.class]),style:c([m.value,h.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:_.value},{default:()=>[i("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${C.value} ${C.value}`},[i("circle",{class:r(["v-progress-circular__underlay",f.value]),style:c(g.value),fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":E.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),i("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:20,"stroke-width":E.value,"stroke-dasharray":o,"stroke-dashoffset":T.value},null)]),l.default&&i("div",{class:"v-progress-circular__content"},[l.default({value:_.value})])]})),{}}}),Cp=xe({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Ip(e){return{dimensionStyles:l(()=>{const t={},a=$e(e.height),l=$e(e.maxHeight),n=$e(e.maxWidth),o=$e(e.minHeight),s=$e(e.minWidth),i=$e(e.width);return null!=a&&(t.height=a),null!=l&&(t.maxHeight=l),null!=n&&(t.maxWidth=n),null!=o&&(t.minHeight=o),null!=s&&(t.minWidth=s),null!=i&&(t.width=i),t})}}const Ep={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Tp=xe({location:String},"location");function Np(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;const{isRtl:n}=Ge();return{locationStyles:l(()=>{if(!e.location)return{};const{side:l,align:o}=Ke(e.location.split(" ").length>1?e.location:`${e.location} center`,n.value);function s(e){return a?a(e):0}const i={};return"center"!==l&&(t?i[Ep[l]]=`calc(100% - ${s(l)}px)`:i[l]=0),"center"!==o?t?i[Ep[o]]=`calc(100% - ${s(o)}px)`:i[o]=0:("center"===l?i.top=i.left="50%":i[{top:"left",bottom:"left",left:"top",right:"top"}[l]]="50%",i.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[l]),i})}}const Mp=xe({chunkCount:{type:[Number,String],default:null},chunkWidth:{type:[Number,String],default:null},chunkGap:{type:[Number,String],default:4}},"chunks"),Ap=xe({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Mp(),...Oe(),...Tp({location:"top"}),...Kc(),...Jc(),...Ae()},"VProgressLinear"),Op=Ee()({name:"VProgressLinear",props:Ap(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const u=a(),p=Fe(e,"modelValue"),{isRtl:m,rtlClasses:v}=Ge(),{themeClasses:h}=Te(e),{locationStyles:f}=Np(e),{textColorClasses:g,textColorStyles:y}=Zc(()=>e.color),{backgroundColorClasses:b,backgroundColorStyles:x}=ep(()=>e.bgColor||e.color),{backgroundColorClasses:w,backgroundColorStyles:_}=ep(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:S,backgroundColorStyles:C}=ep(()=>e.color),{roundedClasses:T}=Xc(e),{intersectionRef:N,isIntersecting:M}=_p(),A=l(()=>parseFloat(e.max)),O=l(()=>parseFloat(e.height)),P=l(()=>We(parseFloat(e.bufferValue)/A.value*100,0,100)),F=l(()=>We(parseFloat(p.value)/A.value*100,0,100)),L=l(()=>m.value!==e.reverse),D=l(()=>e.indeterminate?"fade-transition":"slide-x-transition"),V=k(0),{hasChunks:B,chunksMaskStyles:$,snapValueToChunk:R}=function(e,t){const a=n(()=>!!e.chunkCount||!!e.chunkWidth),o=l(()=>{const a=s(t);if(!a)return 0;if(!e.chunkCount)return Number(e.chunkWidth);const l=Number(e.chunkCount);return(a-Number(e.chunkGap)*(l-1))/l}),i=n(()=>Number(e.chunkGap)),r=l(()=>{if(!a.value)return{};const e=$e(i.value),t=$e(o.value);return{maskRepeat:"repeat-x",maskImage:`linear-gradient(90deg, #000, #000 ${t}, transparent ${t}, transparent)`,maskSize:`calc(${t} + ${e}) 100%`}});return{hasChunks:a,chunksMaskStyles:r,snapValueToChunk:function(e){const a=s(t);if(!a)return e;const l=100*i.value/a,n=100*(o.value+i.value)/a,r=Math.floor((e+l)/n);return We(0,r*n-l/2,100)}}}(e,V);Xe(B,()=>{const{resizeRef:e}=je(e=>V.value=e[0].contentRect.width);I(()=>e.value=u.value)});const z=l(()=>B.value?R(P.value):P.value),U=l(()=>B.value?R(F.value):F.value);function q(e){if(!N.value)return;const{left:t,right:a,width:l}=N.value.getBoundingClientRect(),n=L.value?l-e.clientX+(a-l):e.clientX-t;p.value=Math.round(n/l*A.value)}return I(()=>{N.value=u.value}),Me(()=>d(e.tag,{ref:u,class:r(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&M.value,"v-progress-linear--reverse":L.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped,"v-progress-linear--clickable":e.clickable},T.value,h.value,v.value,e.class]),style:c([{bottom:"bottom"===e.location?0:void 0,top:"top"===e.location?0:void 0,height:e.active?$e(O.value):0,"--v-progress-linear-height":$e(O.value),...e.absolute?f.value:{}},$.value,e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(p.value),A.value),onClick:e.clickable&&q},{default:()=>[e.stream&&i("div",{key:"stream",class:r(["v-progress-linear__stream",g.value]),style:{...y.value,[L.value?"left":"right"]:$e(-O.value),borderTop:`${$e(O.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${$e(O.value/4)})`,width:$e(100-P.value,"%"),"--v-progress-linear-stream-to":$e(O.value*(L.value?1:-1))}},null),i("div",{class:r(["v-progress-linear__background",b.value]),style:c([x.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),i("div",{class:r(["v-progress-linear__buffer",w.value]),style:c([_.value,{opacity:parseFloat(e.bufferOpacity),width:$e(z.value,"%")}])},null),d(E,{name:D.value},{default:()=>[e.indeterminate?i("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(e=>i("div",{key:e,class:r(["v-progress-linear__indeterminate",e,S.value]),style:c(C.value)},null))]):i("div",{class:r(["v-progress-linear__determinate",S.value]),style:c([C.value,{width:$e(U.value,"%")}])},null)]}),o.default&&i("div",{class:"v-progress-linear__content"},[o.default({value:F.value,buffer:P.value})])]})),{}}}),Pp=xe({loading:[Boolean,String]},"loader");function Fp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return{loaderClasses:n(()=>({[`${t}--loading`]:e.loading}))}}function Lp(e,t){var a;let{slots:l}=t;return i("div",{class:r(`${e.name}__loader`)},[(null==(a=l.default)?void 0:a.call(l,{color:e.color,isActive:e.active}))||d(Op,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const Dp=["static","relative","fixed","absolute","sticky"],Vp=xe({position:{type:String,validator:e=>Dp.includes(e)}},"position");function Bp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();return{positionClasses:n(()=>e.position?`${t}--${e.position}`:void 0)}}function $p(){var e,t;return null==(t=null==(e=Pe("useRouter"))?void 0:e.proxy)?void 0:t.$router}function Rp(e,t){var a,o;const s=T("RouterLink"),i=n(()=>!(!e.href&&!e.to)),r=l(()=>(null==i?void 0:i.value)||Je(t,"click")||Je(e,"click"));if("string"==typeof s||!("useLink"in s)){const t=n(()=>e.href);return{isLink:i,isRouterLink:n(()=>!1),isClickable:r,href:t,linkProps:g({href:t})}}const u=s.useLink({to:n(()=>e.to||""),replace:n(()=>e.replace)}),d=l(()=>e.to?u:void 0),c=function(){const e=Pe("useRoute");return l(()=>{var t;return null==(t=null==e?void 0:e.proxy)?void 0:t.$route})}(),p=l(()=>{var t,a,l;return!!d.value&&(e.exact?c.value?(null==(l=d.value.isExactActive)?void 0:l.value)&&Le(d.value.route.value.query,c.value.query):(null==(a=d.value.isExactActive)?void 0:a.value)??!1:(null==(t=d.value.isActive)?void 0:t.value)??!1)}),m=l(()=>{var t;return e.to?null==(t=d.value)?void 0:t.route.value.href:e.href}),v=n(()=>!!e.to);return{isLink:i,isRouterLink:v,isClickable:r,isActive:p,route:null==(a=d.value)?void 0:a.route,navigate:null==(o=d.value)?void 0:o.navigate,href:m,linkProps:g({href:m,"aria-current":n(()=>p.value?"page":void 0),"aria-disabled":n(()=>e.disabled&&i.value?"true":void 0),tabindex:n(()=>e.disabled&&i.value?"-1":void 0)})}}const zp=xe({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Up=!1;const qp=Symbol("rippleStop");function Hp(e,t){e.style.transform=t,e.style.webkitTransform=t}function jp(e){return"TouchEvent"===e.constructor.name}function Wp(e){return"KeyboardEvent"===e.constructor.name}const Yp={show(e,t){var a;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null==(a=null==t?void 0:t._ripple)?void 0:a.enabled))return;const n=document.createElement("span"),o=document.createElement("span");n.appendChild(o),n.className="v-ripple__container",l.class&&(n.className+=` ${l.class}`);const{radius:s,scale:i,x:r,y:u,centerX:d,centerY:c}=function(e,t){var a;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=0,o=0;if(!Wp(e)){const a=t.getBoundingClientRect(),l=jp(e)?e.touches[e.touches.length-1]:e;n=l.clientX-a.left,o=l.clientY-a.top}let s=0,i=.3;(null==(a=t._ripple)?void 0:a.circle)?(i=.15,s=t.clientWidth/2,s=l.center?s:s+Math.sqrt((n-s)**2+(o-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const r=(t.clientWidth-2*s)/2+"px",u=(t.clientHeight-2*s)/2+"px";return{radius:s,scale:i,x:l.center?r:n-s+"px",y:l.center?u:o-s+"px",centerX:r,centerY:u}}(e,t,l),p=2*s+"px";o.className="v-ripple__animation",o.style.width=p,o.style.height=p,t.appendChild(n);const m=window.getComputedStyle(t);m&&"static"===m.position&&(t.style.position="relative",t.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),Hp(o,`translate(${r}, ${u}) scale3d(${i},${i},${i})`),o.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),Hp(o,`translate(${d}, ${c}) scale3d(1,1,1)`)})})},hide(e){var t;if(!(null==(t=null==e?void 0:e._ripple)?void 0:t.enabled))return;const a=e.getElementsByClassName("v-ripple__animation");if(0===a.length)return;const l=Array.from(a).findLast(e=>!e.dataset.isHiding);if(!l)return;l.dataset.isHiding="true";const n=performance.now()-Number(l.dataset.activated),o=Math.max(250-n,0);setTimeout(()=>{l.classList.remove("v-ripple__animation--in"),l.classList.add("v-ripple__animation--out"),setTimeout(()=>{var t;1===e.getElementsByClassName("v-ripple__animation").length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),(null==(t=l.parentNode)?void 0:t.parentNode)===e&&e.removeChild(l.parentNode)},300)},o)}};function Gp(e){return void 0===e||!!e}function Kp(e){const t={},a=e.currentTarget;if((null==a?void 0:a._ripple)&&!a._ripple.touched&&!e[qp]){if(e[qp]=!0,jp(e))a._ripple.touched=!0,a._ripple.isTouch=!0;else if(a._ripple.isTouch)return;if(t.center=a._ripple.centered||Wp(e),a._ripple.class&&(t.class=a._ripple.class),jp(e)){if(a._ripple.showTimerCommit)return;a._ripple.showTimerCommit=()=>{Yp.show(e,a,t)},a._ripple.showTimer=window.setTimeout(()=>{var e;(null==(e=null==a?void 0:a._ripple)?void 0:e.showTimerCommit)&&(a._ripple.showTimerCommit(),a._ripple.showTimerCommit=null)},80)}else Yp.show(e,a,t)}}function Xp(e){e[qp]=!0}function Jp(e){const t=e.currentTarget;if(null==t?void 0:t._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=window.setTimeout(()=>{Jp(e)}));window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Yp.hide(t)}}function Qp(e){const t=e.currentTarget;(null==t?void 0:t._ripple)&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Zp=!1;function em(e,t){!Zp&&t.includes(e.key)&&(Zp=!0,Kp(e))}function tm(e){Zp=!1,Jp(e)}function am(e){Zp&&(Zp=!1,Jp(e))}function lm(e,t,a){const{value:l,modifiers:n}=t,o=Gp(l);o||Yp.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=o,e._ripple.centered=n.center,e._ripple.circle=n.circle;const s=Ze(l)?l:{};s.class&&(e._ripple.class=s.class);const i=s.keys??["Enter","Space"];if(e._ripple.keyDownHandler=e=>em(e,i),o&&!a){if(n.stop)return e.addEventListener("touchstart",Xp,{passive:!0}),void e.addEventListener("mousedown",Xp);e.addEventListener("touchstart",Kp,{passive:!0}),e.addEventListener("touchend",Jp,{passive:!0}),e.addEventListener("touchmove",Qp,{passive:!0}),e.addEventListener("touchcancel",Jp),e.addEventListener("mousedown",Kp),e.addEventListener("mouseup",Jp),e.addEventListener("mouseleave",Jp),e.addEventListener("keydown",e=>em(e,i)),e.addEventListener("keyup",tm),e.addEventListener("blur",am),e.addEventListener("dragstart",Jp,{passive:!0})}else!o&&a&&nm(e)}function nm(e){var t;e.removeEventListener("mousedown",Kp),e.removeEventListener("touchstart",Kp),e.removeEventListener("touchend",Jp),e.removeEventListener("touchmove",Qp),e.removeEventListener("touchcancel",Jp),e.removeEventListener("mouseup",Jp),e.removeEventListener("mouseleave",Jp),(null==(t=e._ripple)?void 0:t.keyDownHandler)&&e.removeEventListener("keydown",e._ripple.keyDownHandler),e.removeEventListener("keyup",tm),e.removeEventListener("dragstart",Jp),e.removeEventListener("blur",am)}const om={mounted:function(e,t){lm(e,t,!1)},unmounted:function(e){nm(e),delete e._ripple},updated:function(e,t){t.value!==t.oldValue&&lm(e,t,Gp(t.oldValue))}},sm=xe({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:pp},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ue,appendIcon:Ue,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,spaced:String,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Uc(),...Oe(),...jc(),...Cp(),...Yc(),...rp(),...Pp(),...Tp(),...Vp(),...Kc(),...zp(),...yp(),...Jc({tag:"button"}),...Ae(),...lp({variant:"elevated"})},"VBtn"),im=Ee()({name:"VBtn",props:sm(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{themeClasses:s}=Te(e),{borderClasses:r}=qc(e),{densityClasses:u}=Wc(e),{dimensionStyles:c}=Ip(e),{elevationClasses:p}=Gc(e),{loaderClasses:m}=Fp(e),{locationStyles:v}=Np(e),{positionClasses:h}=Bp(e),{roundedClasses:g}=Xc(e),{sizeClasses:y,sizeStyles:b}=bp(e),x=up(e,e.symbol,!1),_=Rp(e,a),k=l(()=>{var t;return void 0!==e.active?e.active:_.isRouterLink.value?null==(t=_.isActive)?void 0:t.value:null==x?void 0:x.isSelected.value}),S=n(()=>k.value?e.activeColor??e.color:e.color),C=l(()=>{var t,a;return{color:(null==x?void 0:x.isSelected.value)&&(!_.isLink.value||(null==(t=_.isActive)?void 0:t.value))||!x||(null==(a=_.isActive)?void 0:a.value)?S.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:I,colorStyles:E,variantClasses:T}=np(C),O=l(()=>(null==x?void 0:x.disabled.value)||e.disabled),P=n(()=>"elevated"===e.variant&&!(e.disabled||e.flat||e.border)),F=l(()=>{if(void 0!==e.value&&"symbol"!=typeof e.value)return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function L(e){var t;O.value||_.isLink.value&&(e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||"_blank"===a.target)||(_.isRouterLink.value?null==(t=_.navigate)||t.call(_,e):null==x||x.toggle())}return function(e,t){f(()=>{var t;return null==(t=e.isActive)?void 0:t.value},a=>{e.isLink.value&&null!=a&&t&&N(()=>{t(a)})},{immediate:!0})}(_,null==x?void 0:x.select),Me(()=>{const t=_.isLink.value?"a":e.tag,a=!(!e.prependIcon&&!o.prepend),l=!(!e.appendIcon&&!o.append),n=!(!e.icon||!0===e.icon);return M(d(t,w(_.linkProps,{type:"a"===t?void 0:"button",class:["v-btn",null==x?void 0:x.selectedClass.value,{"v-btn--active":k.value,"v-btn--block":e.block,"v-btn--disabled":O.value,"v-btn--elevated":P.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},e.spaced?["v-btn--spaced",`v-btn--spaced-${e.spaced}`]:[],s.value,r.value,I.value,u.value,p.value,m.value,h.value,g.value,y.value,T.value,e.class],style:[E.value,c.value,v.value,b.value,e.style],"aria-busy":!!e.loading||void 0,disabled:O.value&&"a"!==t||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:L,value:F.value}),{default:()=>{var t;return[ap(!0,"v-btn"),!e.icon&&a&&i("span",{key:"prepend",class:"v-btn__prepend"},[o.prepend?d(fp,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},o.prepend):d(wp,{key:"prepend-icon",icon:e.prependIcon},null)]),i("span",{class:"v-btn__content","data-no-activator":""},[!o.default&&n?d(wp,{key:"content-icon",icon:e.icon},null):d(fp,{key:"content-defaults",disabled:!n,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var t;return[(null==(t=o.default)?void 0:t.call(o))??A(e.text)]}})]),!e.icon&&l&&i("span",{key:"append",class:"v-btn__append"},[o.append?d(fp,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},o.append):d(wp,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&i("span",{key:"loader",class:"v-btn__loader"},[(null==(t=o.loader)?void 0:t.call(o))??d(Sp,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[om,!O.value&&e.ripple,"",{center:!!e.icon}]])}),{group:x}}});function rm(e,t){return{x:e.x+t.x,y:e.y+t.y}}function um(e,t){if("top"===e.side||"bottom"===e.side){const{side:a,align:l}=e;return rm({x:"left"===l?0:"center"===l?t.width/2:"right"===l?t.width:l,y:"top"===a?0:"bottom"===a?t.height:a},t)}if("left"===e.side||"right"===e.side){const{side:a,align:l}=e;return rm({x:"left"===a?0:"right"===a?t.width:a,y:"top"===l?0:"center"===l?t.height/2:"bottom"===l?t.height:l},t)}return rm({x:t.width/2,y:t.height/2},t)}const dm={static:function(){},connected:function(e,t,a){(Array.isArray(e.target.value)||et(e.target.value))&&Object.assign(a.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:n,preferredOrigin:o}=_e(()=>{const a=Ke(t.location,e.isRtl.value),l="overlap"===t.origin?a:"auto"===t.origin?rt(a):Ke(t.origin,e.isRtl.value);return a.side===l.side&&a.align===it(l).align?{preferredAnchor:ct(a),preferredOrigin:ct(l)}:{preferredAnchor:a,preferredOrigin:l}}),[s,i,r,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(e=>l(()=>{const a=parseFloat(t[e]);return isNaN(a)?1/0:a})),d=l(()=>{if(Array.isArray(t.offset))return t.offset;if("string"==typeof t.offset){const e=t.offset.split(" ").map(parseFloat);return e.length<2&&e.push(0),e}return"number"==typeof t.offset?[t.offset,0]:[0,0]});let c=!1,p=-1;const m=new tt(4),v=new ResizeObserver(()=>{if(!c)return;if(requestAnimationFrame(e=>{e!==p&&m.clear(),requestAnimationFrame(e=>{p=e})}),m.isFull){const e=m.values();if(Le(e.at(-1),e.at(-3))&&!Le(e.at(-1),e.at(-2)))return}const e=g();e&&m.push(e.flipped)});let h=new at({x:0,y:0,width:0,height:0});function g(){if(c=!1,requestAnimationFrame(()=>c=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(h=lt(e.target.value));const l=function(e,t){const a=dt(e);return t?a.x+=parseFloat(e.style.right||0):a.x-=parseFloat(e.style.left||0),a.y-=parseFloat(e.style.top||0),a}(e.contentEl.value,e.isRtl.value),p=nt(e.contentEl.value);p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(l.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),l.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const m=p.reduce((e,t)=>{const a=ot(t);return e?new at({x:Math.max(e.left,a.left),y:Math.max(e.top,a.top),width:Math.min(e.right,a.right)-Math.max(e.left,a.left),height:Math.min(e.bottom,a.bottom)-Math.max(e.top,a.top)}):a},void 0);m.x+=12,m.y+=12,m.width-=24,m.height-=24;let v={anchor:n.value,origin:o.value};function f(e){const t=new at(l),a=um(e.anchor,h),n=um(e.origin,t);let{x:o,y:s}=(c=n,{x:(i=a).x-c.x,y:i.y-c.y});var i,c;switch(e.anchor.side){case"top":s-=d.value[0];break;case"bottom":s+=d.value[0];break;case"left":o-=d.value[0];break;case"right":o+=d.value[0]}switch(e.anchor.align){case"top":s-=d.value[1];break;case"bottom":s+=d.value[1];break;case"left":o-=d.value[1];break;case"right":o+=d.value[1]}return t.x+=o,t.y+=s,t.width=Math.min(t.width,r.value),t.height=Math.min(t.height,u.value),{overflows:ut(t,m),x:o,y:s}}let g=0,y=0;const b={x:0,y:0},x={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:e,y:a,overflows:n}=f(v);g+=e,y+=a,l.x+=e,l.y+=a;{const e=st(v.anchor),t=n.x.before||n.x.after,a=n.y.before||n.y.after;let l=!1;if(["x","y"].forEach(o=>{if("x"===o&&t&&!x.x||"y"===o&&a&&!x.y){const t={anchor:{...v.anchor},origin:{...v.origin}},a="x"===o?"y"===e?it:rt:"y"===e?rt:it;t.anchor=a(t.anchor),t.origin=a(t.origin);const{overflows:s}=f(t);(s[o].before<=n[o].before&&s[o].after<=n[o].after||s[o].before+s[o].after<(n[o].before+n[o].after)/2)&&(v=t,l=x[o]=!0)}}),l)continue}n.x.before&&(t.stickToTarget||(g+=n.x.before),l.x+=n.x.before),n.x.after&&(t.stickToTarget||(g-=n.x.after),l.x-=n.x.after),n.y.before&&(t.stickToTarget||(y+=n.y.before),l.y+=n.y.before),n.y.after&&(t.stickToTarget||(y-=n.y.after),l.y-=n.y.after);{const e=ut(l,m);b.x=m.width-e.x.before-e.x.after,b.y=m.height-e.y.before-e.y.after,t.stickToTarget||(g+=e.x.before),l.x+=e.x.before,t.stickToTarget||(y+=e.y.before),l.y+=e.y.before}break}const _=st(v.anchor);return Object.assign(a.value,{"--v-overlay-anchor-origin":`${v.anchor.side} ${v.anchor.align}`,transformOrigin:`${v.origin.side} ${v.origin.align}`,top:$e(pm(y)),left:e.isRtl.value?void 0:$e(pm(g)),right:e.isRtl.value?$e(pm(-g)):void 0,minWidth:$e("y"===_?Math.min(s.value,h.width):s.value),maxWidth:$e(mm(We(b.x,s.value===1/0?0:s.value,r.value))),maxHeight:$e(mm(We(b.y,i.value===1/0?0:i.value,u.value)))}),{available:b,contentBox:l,flipped:x}}return f(e.target,(e,t)=>{t&&!Array.isArray(t)&&v.unobserve(t),Array.isArray(e)?Le(e,t)||g():e&&v.observe(e)},{immediate:!0}),f(e.contentEl,(e,t)=>{t&&v.unobserve(t),e&&v.observe(e)},{immediate:!0}),C(()=>{v.disconnect()}),f(()=>[n.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>g()),N(()=>{const e=g();if(!e)return;const{available:t,contentBox:a}=e;a.height>t.y&&requestAnimationFrame(()=>{g(),requestAnimationFrame(()=>{g()})})}),{updateLocation:g}}},cm=xe({locationStrategy:{type:[String,Function],default:"static",validator:e=>"function"==typeof e||e in dm},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean},"VOverlay-location-strategies");function pm(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function mm(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let vm=!0;const hm=[];let fm=-1;function gm(){cancelAnimationFrame(fm),fm=requestAnimationFrame(()=>{const e=hm.shift();e&&e(),hm.length?gm():vm=!0})}const ym={none:null,close:function(e){wm(xm(e.target.value,e.contentEl.value),function(t){e.isActive.value=!1})},block:function(e,t){var a;const l=null==(a=e.root.value)?void 0:a.offsetParent,n=xm(e.target.value,e.contentEl.value),o=[...new Set([...nt(n,t.contained?l:void 0),...nt(e.contentEl.value,t.contained?l:void 0)])].filter(e=>!e.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,i=(r=l||document.documentElement,pt(r)&&r);var r;i&&e.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((e,t)=>{e.style.setProperty("--v-body-scroll-x",$e(-e.scrollLeft)),e.style.setProperty("--v-body-scroll-y",$e(-e.scrollTop)),e!==document.documentElement&&e.style.setProperty("--v-scrollbar-offset",$e(s)),e.classList.add("v-overlay-scroll-blocked")}),C(()=>{o.forEach((e,t)=>{const a=parseFloat(e.style.getPropertyValue("--v-body-scroll-x")),l=parseFloat(e.style.getPropertyValue("--v-body-scroll-y")),n=e.style.scrollBehavior;e.style.scrollBehavior="auto",e.style.removeProperty("--v-body-scroll-x"),e.style.removeProperty("--v-body-scroll-y"),e.style.removeProperty("--v-scrollbar-offset"),e.classList.remove("v-overlay-scroll-blocked"),e.scrollLeft=-a,e.scrollTop=-l,e.style.scrollBehavior=n}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})},reposition:function(e,t,a){let l=!1,n=-1,o=-1;function s(t){var a;a=()=>{var a,n;const o=performance.now();null==(n=(a=e.updateLocation).value)||n.call(a,t);const s=performance.now()-o;l=s/(1e3/60)>2},!vm||hm.length?(hm.push(a),gm()):(vm=!1,a(),gm())}o=("undefined"==typeof requestIdleCallback?e=>e():requestIdleCallback)(()=>{a.run(()=>{wm(xm(e.target.value,e.contentEl.value),e=>{l?(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{s(e)})})):s(e)})})}),C(()=>{"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(o),cancelAnimationFrame(n)})}},bm=xe({scrollStrategy:{type:[String,Function],default:"block",validator:e=>"function"==typeof e||e in ym}},"VOverlay-scroll-strategies");function xm(e,t){return Array.isArray(e)?document.elementsFromPoint(...e).find(e=>!(null==t?void 0:t.contains(e))):e??t}function wm(e,t){const a=[document,...nt(e)];a.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),C(()=>{a.forEach(e=>{e.removeEventListener("scroll",t)})})}const _m=Symbol.for("vuetify:v-menu"),km=xe({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Sm(e,t){let a=()=>{};function l(l){null==a||a();const n=Number(l?e.openDelay:e.closeDelay);return new Promise(e=>{a=mt(n,()=>{null==t||t(l),e(l)})})}return{clearDelay:a,runOpenDelay:function(){return l(!0)},runCloseDelay:function(){return l(!1)}}}const Cm=xe({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...km()},"VOverlay-activator");function Im(e,t){let{isActive:n,isTop:o,contentEl:s}=t;const i=Pe("useActivator"),r=a();let u=!1,d=!1,c=!0;const p=l(()=>e.openOnFocus||null==e.openOnFocus&&e.openOnHover),m=l(()=>e.openOnClick||null==e.openOnClick&&!e.openOnHover&&!p.value),{runOpenDelay:h,runCloseDelay:g}=Sm(e,t=>{t!==(e.openOnHover&&u||p.value&&d)||e.openOnHover&&n.value&&!o.value||(n.value!==t&&(c=!0),n.value=t)}),y=a(),b=e=>{e.stopPropagation(),r.value=e.currentTarget||e.target,n.value||(y.value=[e.clientX,e.clientY]),n.value=!n.value},x=e=>{var t;(null==(t=e.sourceCapabilities)?void 0:t.firesTouchEvents)||(u=!0,r.value=e.currentTarget||e.target,h())},_=e=>{u=!1,g()},k=e=>{!1!==ht(e.target,":focus-visible")&&(d=!0,e.stopPropagation(),r.value=e.currentTarget||e.target,h())},S=e=>{d=!1,e.stopPropagation(),g()},E=l(()=>{const t={};return m.value&&(t.onClick=b),e.openOnHover&&(t.onMouseenter=x,t.onMouseleave=_),p.value&&(t.onFocus=k,t.onBlur=S),t}),T=l(()=>{const t={};if(e.openOnHover&&(t.onMouseenter=()=>{u=!0,h()},t.onMouseleave=()=>{u=!1,g()}),p.value&&(t.onFocusin=()=>{d=!0,h()},t.onFocusout=()=>{d=!1,g()}),e.closeOnContentClick){const e=v(_m,null);t.onClick=()=>{n.value=!1,null==e||e.closeParents()}}return t}),M=l(()=>{const t={};return e.openOnHover&&(t.onMouseenter=()=>{c&&(u=!0,c=!1,h())},t.onMouseleave=()=>{u=!1,g()}),t});f(o,t=>{var a;!t||(!e.openOnHover||u||p.value&&d)&&(!p.value||d||e.openOnHover&&u)||(null==(a=s.value)?void 0:a.contains(document.activeElement))||(n.value=!1)}),f(n,e=>{e||setTimeout(()=>{y.value=void 0})},{flush:"post"});const A=vt();I(()=>{A.value&&N(()=>{r.value=A.el})});const P=vt(),F=l(()=>"cursor"===e.target&&y.value?y.value:P.value?P.el:Em(e.target,i)||r.value),L=l(()=>Array.isArray(F.value)?void 0:F.value);let D;return f(()=>!!e.activator,t=>{t&&Qe?(D=O(),D.run(()=>{!function(e,t,a){let{activatorEl:l,activatorEvents:n}=a;function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&ft(t,w(n.value,a))}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activatorProps;t&&gt(t,w(n.value,a))}function i(){const a=Em(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.activator,t);return l.value=(null==a?void 0:a.nodeType)===Node.ELEMENT_NODE?a:void 0,l.value}f(()=>e.activator,(e,t)=>{if(t&&e!==t){const e=i(t);e&&s(e)}e&&N(()=>o())},{immediate:!0}),f(()=>e.activatorProps,()=>{o()}),C(()=>{s()})}(e,i,{activatorEl:r,activatorEvents:E})})):D&&D.stop()},{flush:"post",immediate:!0}),C(()=>{null==D||D.stop()}),{activatorEl:r,activatorRef:A,target:F,targetEl:L,targetRef:P,activatorEvents:E,contentEvents:T,scrimEvents:M}}function Em(e,t){var a,l;if(!e)return;let n;if("parent"===e){let e=null==(l=null==(a=null==t?void 0:t.proxy)?void 0:a.$el)?void 0:l.parentNode;for(;null==e?void 0:e.hasAttribute("data-no-activator");)e=e.parentNode;n=e}else n="string"==typeof e?document.querySelector(e):"$el"in e?e.$el:e;return n}function Tm(){if(!Qe)return k(!1);const{ssr:e}=yt();if(e){const e=k(!1);return y(()=>{e.value=!0}),e}return k(!0)}const Nm=xe({eager:Boolean},"lazy");function Mm(e,t){const a=k(!1),l=n(()=>a.value||e.eager||t.value);return f(t,()=>a.value=!0),{isBooted:a,hasContent:l,onAfterLeave:function(){e.eager||(a.value=!1)}}}function Am(){const e=Pe("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const Om=Symbol.for("vuetify:stack"),Pm=g([]),Fm=xe({transition:{type:null,default:"fade-transition",validator:e=>!0!==e}},"transition"),Lm=(e,t)=>{let{slots:a}=t;const{transition:l,disabled:n,group:o,...s}=e,{component:i=(o?L:E),...r}=Ze(l)?l:{};let u;return u=Ze(l)?w(r,bt({disabled:n,group:o}),s):w({name:n||!l?"":l},s),D(i,u,a)};function Dm(){return!0}function Vm(e,t,a){if(!e||!1===Bm(e,a))return!1;const l=xt(t);if("undefined"!=typeof ShadowRoot&&l instanceof ShadowRoot&&l.host===e.target)return!1;const n=("object"==typeof a.value&&a.value.include||(()=>[]))();return n.push(t),!n.some(t=>null==t?void 0:t.contains(e.target))}function Bm(e,t){return("object"==typeof t.value&&t.value.closeConditional||Dm)(e)}function $m(e,t){const a=xt(e);t(document),"undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&t(a)}const Rm={mounted(e,t){const a=a=>function(e,t,a){const l="function"==typeof a.value?a.value:a.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Vm(e,t,a)&&setTimeout(()=>{Bm(e,a)&&l&&l(e)},0)}(a,e,t),l=a=>{e._clickOutside.lastMousedownWasOutside=Vm(a,e,t)};$m(e,e=>{e.addEventListener("click",a,!0),e.addEventListener("mousedown",l,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:a,onMousedown:l}},beforeUnmount(e,t){e._clickOutside&&($m(e,a=>{var l;if(!a||!(null==(l=e._clickOutside)?void 0:l[t.instance.$.uid]))return;const{onClick:n,onMousedown:o}=e._clickOutside[t.instance.$.uid];a.removeEventListener("click",n,!0),a.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[t.instance.$.uid])}};function zm(e){const{modelValue:t,color:a,...l}=e;return d(E,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&i("div",w({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},l),null)]})}const Um=xe({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Cm(),...Oe(),...Cp(),...Nm(),...cm(),...bm(),...Ae(),...Fm()},"VOverlay"),qm=Ee()({name:"VOverlay",directives:{vClickOutside:Rm},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Um()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:o,attrs:r,emit:c}=t;const p=Pe("VOverlay"),y=a(),b=a(),x=a(),_=Fe(e,"modelValue"),S=l({get:()=>_.value,set:t=>{t&&e.disabled||(_.value=t)}}),{themeClasses:E}=Te(e),{rtlClasses:T,isRtl:A}=Ge(),{hasContent:L,onAfterLeave:D}=Mm(e,S),$=ep(()=>"string"==typeof e.scrim?e.scrim:null),{globalTop:R,localTop:z,stackStyles:U}=function(e,t,a){const l=Pe("useStack"),o=!a,i=v(Om,void 0),r=g({activeChildren:new Set});m(Om,r);const u=k(Number(s(t)));Xe(e,()=>{var e;const a=null==(e=Pm.at(-1))?void 0:e[1];u.value=a?a+10:Number(s(t)),o&&Pm.push([l.uid,u.value]),null==i||i.activeChildren.add(l.uid),C(()=>{if(o){const e=F(Pm).findIndex(e=>e[0]===l.uid);Pm.splice(e,1)}null==i||i.activeChildren.delete(l.uid)})});const d=k(!0);o&&I(()=>{var e;const t=(null==(e=Pm.at(-1))?void 0:e[0])===l.uid;setTimeout(()=>d.value=t)});const c=n(()=>!r.activeChildren.size);return{globalTop:P(d),localTop:c,stackStyles:n(()=>({zIndex:u.value}))}}(S,()=>e.zIndex,e._disableGlobalStack),{activatorEl:q,activatorRef:H,target:j,targetEl:W,targetRef:Y,activatorEvents:G,contentEvents:K,scrimEvents:X}=Im(e,{isActive:S,isTop:z,contentEl:x}),{teleportTarget:J}=function(e){return{teleportTarget:l(()=>{const t=e();if(!0===t||!Qe)return;const a=!1===t?document.body:"string"==typeof t?document.querySelector(t):t;if(null==a)return;let l=[...a.children].find(e=>e.matches(".v-overlay-container"));return l||(l=document.createElement("div"),l.className="v-overlay-container",a.appendChild(l)),l})}}(()=>{var t,a,l;const n=e.attach||e.contained;if(n)return n;const o=(null==(t=null==q?void 0:q.value)?void 0:t.getRootNode())||(null==(l=null==(a=p.proxy)?void 0:a.$el)?void 0:l.getRootNode());return o instanceof ShadowRoot&&o}),{dimensionStyles:Q}=Ip(e),Z=Tm(),{scopeId:ee}=Am();f(()=>e.disabled,e=>{e&&(S.value=!1)});const{contentStyles:te,updateLocation:ae}=function(e,t){const l=a({}),n=a();function o(e){var t;null==(t=n.value)||t.call(n,e)}function s(e){var t;null==(t=n.value)||t.call(n,e)}function i(e){var t;null==(t=n.value)||t.call(n,e)}return Qe&&Xe(()=>!(!t.isActive.value||!e.locationStrategy),a=>{var r,u;f(()=>e.locationStrategy,a),C(()=>{window.removeEventListener("resize",o),null==visualViewport||visualViewport.removeEventListener("resize",s),null==visualViewport||visualViewport.removeEventListener("scroll",i),n.value=void 0}),window.addEventListener("resize",o,{passive:!0}),null==visualViewport||visualViewport.addEventListener("resize",s,{passive:!0}),null==visualViewport||visualViewport.addEventListener("scroll",i,{passive:!0}),"function"==typeof e.locationStrategy?n.value=null==(r=e.locationStrategy(t,e,l))?void 0:r.updateLocation:n.value=null==(u=dm[e.locationStrategy](t,e,l))?void 0:u.updateLocation}),{contentStyles:l,updateLocation:n}}(e,{isRtl:A,contentEl:x,target:j,isActive:S});function le(t){c("click:outside",t),e.persistent?ue():S.value=!1}function ne(t){return S.value&&R.value&&(!e.scrim||t.target===b.value||t instanceof MouseEvent&&t.shadowTarget===b.value)}function oe(t){var a,l,n;"Escape"===t.key&&R.value&&((null==(a=x.value)?void 0:a.contains(document.activeElement))||c("keydown",t),e.persistent?ue():(S.value=!1,(null==(l=x.value)?void 0:l.contains(document.activeElement))&&(null==(n=q.value)||n.focus())))}function se(e){("Escape"!==e.key||R.value)&&c("keydown",e)}!function(e,t){if(!Qe)return;let a;I(async()=>{null==a||a.stop(),t.isActive.value&&e.scrollStrategy&&(a=O(),await new Promise(e=>setTimeout(e)),a.active&&a.run(()=>{var l;"function"==typeof e.scrollStrategy?e.scrollStrategy(t,e,a):null==(l=ym[e.scrollStrategy])||l.call(ym,t,e,a)}))}),C(()=>{null==a||a.stop()})}(e,{root:y,contentEl:x,targetEl:W,target:j,isActive:S,updateLocation:ae}),Qe&&f(S,e=>{e?window.addEventListener("keydown",oe):window.removeEventListener("keydown",oe)},{immediate:!0}),h(()=>{Qe&&window.removeEventListener("keydown",oe)});const ie=$p();Xe(()=>e.closeOnBack,()=>{!function(e,t){let a,l,n=!1;function o(e){var t;(null==(t=e.state)?void 0:t.replaced)||(n=!0,setTimeout(()=>n=!1))}Qe&&(null==e?void 0:e.beforeEach)&&(N(()=>{window.addEventListener("popstate",o),a=e.beforeEach((e,a,l)=>{Up?n?t(l):l():setTimeout(()=>n?t(l):l()),Up=!0}),l=null==e?void 0:e.afterEach(()=>{Up=!1})}),C(()=>{window.removeEventListener("popstate",o),null==a||a(),null==l||l()}))}(ie,t=>{R.value&&S.value?(t(!1),e.persistent?ue():S.value=!1):t()})});const re=a();function ue(){e.noClickAnimation||x.value&&wt(x.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:kt})}function de(){c("afterEnter")}function ce(){D(),c("afterLeave")}return f(()=>S.value&&(e.absolute||e.contained)&&null==J.value,e=>{if(e){const e=_t(y.value);e&&e!==document.scrollingElement&&(re.value=e.scrollTop)}}),Me(()=>{var t;return i(u,null,[null==(t=o.activator)?void 0:t.call(o,{isActive:S.value,targetRef:Y,props:w({ref:H},G.value,e.activatorProps)}),Z.value&&L.value&&d(B,{disabled:!J.value,to:J.value},{default:()=>[i("div",w({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":S.value,"v-overlay--contained":e.contained},E.value,T.value,e.class],style:[U.value,{"--v-overlay-opacity":e.opacity,top:$e(re.value)},e.style],ref:y,onKeydown:se},ee,r),[d(zm,w({color:$,modelValue:S.value&&!!e.scrim,ref:b},X.value),null),d(Lm,{appear:!0,persisted:!0,transition:e.transition,target:j.value,onAfterEnter:de,onAfterLeave:ce},{default:()=>{var t;return[M(i("div",w({ref:x,class:["v-overlay__content",e.contentClass],style:[Q.value,te.value]},K.value,e.contentProps),[null==(t=o.default)?void 0:t.call(o,{isActive:S})]),[[V,S.value],[Rm,{handler:le,closeConditional:ne,include:()=>[q.value]}]])]}})])]})])}),{activatorEl:q,scrimEl:b,target:j,animateClick:ue,contentEl:x,globalTop:R,localTop:z,updateLocation:ae}}}),Hm=Symbol("Forwarded refs");function jm(e,t){let a=e;for(;a;){const e=Reflect.getOwnPropertyDescriptor(a,t);if(e)return e;a=Object.getPrototypeOf(a)}}function Wm(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];return e[Hm]=a,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__"))for(const l of a)if(l.value&&Reflect.has(l.value,t)){const e=Reflect.get(l.value,t);return"function"==typeof e?e.bind(l.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const l of a)if(l.value&&Reflect.has(l.value,t))return!0;return!1},set(e,t,l){if(Reflect.has(e,t))return Reflect.set(e,t,l);if("symbol"==typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const n of a)if(n.value&&Reflect.has(n.value,t))return Reflect.set(n.value,t,l);return!1},getOwnPropertyDescriptor(e,t){var l;const n=Reflect.getOwnPropertyDescriptor(e,t);if(n)return n;if("symbol"!=typeof t&&!t.startsWith("$")&&!t.startsWith("__")){for(const e of a){if(!e.value)continue;const a=jm(e.value,t)??("_"in e.value?jm(null==(l=e.value._)?void 0:l.setupState,t):void 0);if(a)return a}for(const e of a){const a=e.value&&e.value[Hm];if(!a)continue;const l=a.slice();for(;l.length;){const e=l.shift(),a=jm(e.value,t);if(a)return a;const n=e.value&&e.value[Hm];n&&l.push(...n)}}}}})}const Ym=xe({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Tp({location:"bottom"}),...Vp(),...Kc(),...lp(),...Ae(),...Ct(Um({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),Gm=Ee()({name:"VSnackbar",props:Ym(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=Fe(e,"modelValue"),{positionClasses:s}=Bp(e),{scopeId:r}=Am(),{themeClasses:u}=Te(e),{colorClasses:c,colorStyles:p,variantClasses:m}=np(e),{roundedClasses:h}=Xc(e),g=function(e){const t=k(e());let a=-1;function l(){clearInterval(a)}return C(l),{clear:l,time:t,start:function(n){const o=n?getComputedStyle(n):{transitionDuration:.2},s=1e3*parseFloat(o.transitionDuration)||200;if(l(),t.value<=0)return;const i=performance.now();a=window.setInterval(()=>{const a=performance.now()-i+s;t.value=Math.max(e()-a,0),t.value<=0&&l()},s)},reset:function(){l(),N(()=>t.value=e())}}}(()=>Number(e.timeout)),b=a(),x=a(),_=k(!1),S=k(0),E=a(),T=v(It,void 0);Xe(()=>!!T,()=>{const e=Et();I(()=>{E.value=e.mainStyles.value})}),f(o,A),f(()=>e.timeout,A),y(()=>{o.value&&A()});let M=-1;function A(){g.reset(),window.clearTimeout(M);const t=Number(e.timeout);if(!o.value||-1===t)return;const a=St(x.value);g.start(a),M=window.setTimeout(()=>{o.value=!1},t)}function O(){_.value=!0,g.reset(),window.clearTimeout(M)}function P(){_.value=!1,A()}function F(e){S.value=e.touches[0].clientY}function L(e){Math.abs(S.value-e.changedTouches[0].clientY)>50&&(o.value=!1)}function D(){_.value&&P()}const V=l(()=>e.location.split(" ").reduce((e,t)=>(e[`v-snackbar--${t}`]=!0,e),{}));return Me(()=>{const t=qm.filterProps(e),a=!!(n.default||n.text||e.text);return d(qm,w({ref:b,class:["v-snackbar",{"v-snackbar--active":o.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},V.value,s.value,e.class],style:[E.value,e.style]},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,contentProps:w({class:["v-snackbar__wrapper",u.value,c.value,h.value,m.value],style:[p.value],onPointerenter:O,onPointerleave:P},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:F,onTouchend:L,onAfterLeave:D},r),{default:()=>{var t,l;return[ap(!1,"v-snackbar"),e.timer&&!_.value&&i("div",{key:"timer",class:"v-snackbar__timer"},[d(Op,{ref:x,color:"string"==typeof e.timer?e.timer:"info",max:e.timeout,modelValue:g.time.value},null)]),a&&i("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(null==(t=n.text)?void 0:t.call(n))??e.text,null==(l=n.default)?void 0:l.call(n)]),n.actions&&d(fp,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[i("div",{class:"v-snackbar__actions"},[n.actions({isActive:o})])]})]},activator:n.activator})}),Wm({},b)}}),Km={name:"v-snackbars",inheritAttrs:!1,props:{messages:{type:Array,default:()=>[]},timeout:{type:[Number,String],default:5e3},distance:{type:[Number,String],default:55},objects:{type:Array,default:()=>[]}},data:()=>({len:0,snackbars:[],keys:[],heights:{},identifier:Date.now()+(Math.random()+"").slice(2)}),components:{"css-style":{render:function(e){return e("style",this.$slots.default)}}},computed:{allMessages(){return this.objects.length>0?this.objects.map(e=>e.message):this.messages},indexPosition(){let e={},t={topCenter:0,topLeft:0,topRight:0,bottomCenter:0,bottomLeft:0,bottomRight:0};return this.snackbars.forEach(a=>{!a.top||a.left||a.right||(e[a.key]=t.topCenter++),a.top&&a.left&&(e[a.key]=t.topLeft++),a.top&&a.right&&(e[a.key]=t.topRight++),!a.bottom||a.left||a.right||(e[a.key]=t.bottomCenter++),a.bottom&&a.left&&(e[a.key]=t.bottomLeft++),a.bottom&&a.right&&(e[a.key]=t.bottomRight++)}),e},topOrBottom(){let e={};return this.snackbars.forEach(t=>{e[t.key]=t.top?"top":"bottom"}),e}},watch:{messages(){this.eventify(this.messages)},objects:{handler(){this.eventify(this.objects)},deep:!0}},methods:{getProp(e,t){return this.objects.length>t&&void 0!==this.objects[t][e]?this.objects[t][e]:void 0!==this.$attrs[e]?this.$attrs[e]:void 0!==this[e]?this[e]:void 0},setSnackbars(){for(let e=this.snackbars.length;e<this.allMessages.length;e++){let t=e+"-"+Date.now(),a=this.getProp("top",e),l=this.getProp("bottom",e),n=this.getProp("left",e),o=this.getProp("right",e);a=""===a||a,l=""===l||l,n=""===n||n,o=""===o||o,l||a||(l=!0),this.snackbars.push({key:t,message:this.allMessages[e],top:a,bottom:l,left:n,right:o,color:this.getProp("color",e)||"black",contentClass:this.getProp("content-class",e)||this.getProp("contentClass",e)||"",timeout:null,transition:this.getProp("transition",e)||(o?"slide-x-reverse-transition":"slide-x-transition"),show:!1}),this.keys.push(t),this.$nextTick(function(){this.snackbars[e].show=!0,this.$nextTick(function(){let a=this.distance,l=document.querySelector(".v-snackbars-"+this.identifier+"-"+t);if(l){let e=l.querySelector(".v-snack__wrapper");e&&(a=e.clientHeight+7)}this.$set(this.heights,t,a);let n=this.getProp("timeout",e);n>0&&(this.snackbars[e].timeout=setTimeout(()=>this.removeMessage(t,!0),1*n))})})}},removeMessage(e,t){let a=this.snackbars.findIndex(t=>t.key===e);if(a>-1){this.snackbars[a].show=!1;let l=()=>{let a=this.snackbars.findIndex(t=>t.key===e);this.snackbars.splice(a,1),this.keys=this.keys.filter(t=>t!==e),delete this.heights[e],t&&(this.$emit("update:messages",this.allMessages.filter((e,t)=>t!==a)),this.$emit("update:objects",this.objects.filter((e,t)=>t!==a)))};this.snackbars[a].timeout&&clearTimeout(this.snackbars[a].timeout);let n=setTimeout(l,600),o=this.$refs["v-snackbars-"+this.identifier];if(!o||!o[a])return;o[a].$el.addEventListener("transitionend",()=>{clearTimeout(n),l()},{once:!0})}},calcDistance(e){let t=0,a=this.snackbars.find(t=>t.key===e);if(!a)return 0;for(let l=0;l<this.snackbars.length&&this.snackbars[l].key!==e;l++)this.snackbars[l].show&&this.snackbars[l].bottom===a.bottom&&this.snackbars[l].top===a.top&&this.snackbars[l].right===a.right&&this.snackbars[l].left===a.left&&(t+=this.heights[this.snackbars[l].key]||0);return t},eventify(e){let t=this;e.isEventified||function(e){e.isEventified=!0;let a=e.push;e.push=function(l){a.call(e,l),t.setSnackbars()};let l=e.splice;e.splice=function(){let a=[],n=arguments.length;for(;n--;)a[n]=arguments[n];l.apply(e,a);let o=a[0],s=a[1],i=a.length-2;if(0===i)for(s+=o;o<s;)t.snackbars[o]&&t.removeMessage(t.snackbars[o].key),o++;else if(i>0){for(let e=2;e<i+2;e++)if("string"==typeof a[e])t.$set(t.snackbars[o],"message",a[e]);else if("object"==typeof a[e])for(let l in a[e])if("timeout"===l){let n=1*a[e][l];if(t.snackbars[o].timeout&&(clearTimeout(t.snackbars[o].timeout),t.snackbars[o].timeout=null),n>-1){let e=t.snackbars[o].key;t.snackbars[o].timeout=setTimeout(()=>{t.removeMessage(e,!0)},n)}}else t.$set(t.snackbars[o],l,a[e][l]);o++}}}(e)}},created(){this.eventify(this.messages),this.eventify(this.objects)}},Xm=zc(Km,[["render",function(e,t,a,l,n,o){const s=$("css-style");return z(),R("div",null,[(z(!0),R(u,null,U(n.snackbars,(a,l)=>(z(),q(Gm,w({ref_for:!0},e.$attrs,{modelValue:a.show,"onUpdate:modelValue":e=>a.show=e,transition:a.transition,top:a.top,bottom:a.bottom,left:a.left,right:a.right,color:a.color,"content-class":a.contentClass,key:a.key,ref_for:!0,ref:"v-snackbars-"+n.identifier,class:"v-snackbars v-snackbars-"+n.identifier+"-"+a.key,timeout:-1}),{default:H(()=>[j(e.$slots,"default",{message:a.message,id:a.key,index:l},()=>[W(A(a.message),1)])]),action:H(()=>[j(e.$slots,"action",{close:()=>o.removeMessage(a.key,!0),id:a.key,index:l,message:a.message},()=>[d(im,{text:"",onClick:e=>o.removeMessage(a.key,!0)},{default:H(()=>[...t[0]||(t[0]=[W("close",-1)])]),_:1},8,["onClick"])])]),_:2},1040,["modelValue","onUpdate:modelValue","transition","top","bottom","left","right","color","content-class","class"]))),128)),(z(!0),R(u,null,U(n.keys,(e,t)=>(z(),q(s,{key:e+t},{default:H(()=>[W(" .v-snackbars.v-snackbars-"+A(n.identifier)+"-"+A(e)+" .v-snack__wrapper { transition: "+A(o.topOrBottom[e])+" 500ms; "+A(o.topOrBottom[e])+": 0; } .v-snackbars.v-snackbars-"+A(n.identifier)+"-"+A(e)+" > .v-snack__wrapper { "+A(o.topOrBottom[e])+":"+A(o.calcDistance(e))+"px; } ",1)]),_:2},1024))),128))])}]]),Jm=t("navigation",()=>{const e=Y();return{menudata:a({}),navigateToStockDetails:(t,a,l,n,o,s)=>{console.log(t,a,l,n,o,s),"detail"===t&&e.push({name:"single stocks",params:{token:a,tsym:n,exch:l}})},triggerLogin:e=>{window.location.assign(`https://desk.zebuetrade.com/mynt/?${e?"mode=QR&":""}url=${window.location.origin+window.location.pathname}`)}}});var Qm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ev(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var a=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var l=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,l.get?l:{enumerable:!0,get:function(){return e[t]}})}),a}var tv={exports:{}},av={exports:{}};const lv=ev(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var nv;function ov(){return nv||(nv=1,av.exports=(e=e||function(e,t){var a;if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==Qm&&Qm.crypto&&(a=Qm.crypto),!a)try{a=lv}catch(h){}var l=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(h){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(h){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(){function e(){}return function(t){var a;return e.prototype=t,a=new e,e.prototype=null,a}}(),o={},s=o.lib={},i=s.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=s.WordArray=i.extend({init:function(e,a){e=this.words=e||[],this.sigBytes=a!=t?a:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,a=e.words,l=this.sigBytes,n=e.sigBytes;if(this.clamp(),l%4)for(var o=0;o<n;o++){var s=a[o>>>2]>>>24-o%4*8&255;t[l+o>>>2]|=s<<24-(l+o)%4*8}else for(var i=0;i<n;i+=4)t[l+i>>>2]=a[i>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,a=this.sigBytes;t[a>>>2]&=4294967295<<32-a%4*8,t.length=e.ceil(a/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],a=0;a<e;a+=4)t.push(l());return new r.init(t,e)}}),u=o.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,a=e.sigBytes,l=[],n=0;n<a;n++){var o=t[n>>>2]>>>24-n%4*8&255;l.push((o>>>4).toString(16)),l.push((15&o).toString(16))}return l.join("")},parse:function(e){for(var t=e.length,a=[],l=0;l<t;l+=2)a[l>>>3]|=parseInt(e.substr(l,2),16)<<24-l%8*4;return new r.init(a,t/2)}},c=u.Latin1={stringify:function(e){for(var t=e.words,a=e.sigBytes,l=[],n=0;n<a;n++){var o=t[n>>>2]>>>24-n%4*8&255;l.push(String.fromCharCode(o))}return l.join("")},parse:function(e){for(var t=e.length,a=[],l=0;l<t;l++)a[l>>>2]|=(255&e.charCodeAt(l))<<24-l%4*8;return new r.init(a,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(SJ){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},m=s.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var a,l=this._data,n=l.words,o=l.sigBytes,s=this.blockSize,i=o/(4*s),u=(i=t?e.ceil(i):e.max((0|i)-this._minBufferSize,0))*s,d=e.min(4*u,o);if(u){for(var c=0;c<u;c+=s)this._doProcessBlock(n,c);a=n.splice(0,u),l.sigBytes-=d}return new r.init(a,d)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=m.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,a){return new e.init(a).finalize(t)}},_createHmacHelper:function(e){return function(t,a){return new v.HMAC.init(e,a).finalize(t)}}});var v=o.algo={};return o}(Math),e)),av.exports;var e}var sv,iv={exports:{}};function rv(){return sv||(sv=1,iv.exports=(s=ov(),a=(t=s).lib,l=a.Base,n=a.WordArray,(o=t.x64={}).Word=l.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=l.extend({init:function(t,a){t=this.words=t||[],this.sigBytes=a!=e?a:8*t.length},toX32:function(){for(var e=this.words,t=e.length,a=[],l=0;l<t;l++){var o=e[l];a.push(o.high),a.push(o.low)}return n.create(a,this.sigBytes)},clone:function(){for(var e=l.clone.call(this),t=e.words=this.words.slice(0),a=t.length,n=0;n<a;n++)t[n]=t[n].clone();return e}}),s)),iv.exports;var e,t,a,l,n,o,s}var uv,dv={exports:{}};function cv(){return uv||(uv=1,dv.exports=(e=ov(),function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,a=t.init,l=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,l=[],n=0;n<t;n++)l[n>>>2]|=e[n]<<24-n%4*8;a.call(this,l,t)}else a.apply(this,arguments)};l.prototype=t}}(),e.lib.WordArray)),dv.exports;var e}var pv,mv={exports:{}};function vv(){return pv||(pv=1,mv.exports=(e=ov(),function(){var t=e,a=t.lib.WordArray,l=t.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}l.Utf16=l.Utf16BE={stringify:function(e){for(var t=e.words,a=e.sigBytes,l=[],n=0;n<a;n+=2){var o=t[n>>>2]>>>16-n%4*8&65535;l.push(String.fromCharCode(o))}return l.join("")},parse:function(e){for(var t=e.length,l=[],n=0;n<t;n++)l[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return a.create(l,2*t)}},l.Utf16LE={stringify:function(e){for(var t=e.words,a=e.sigBytes,l=[],o=0;o<a;o+=2){var s=n(t[o>>>2]>>>16-o%4*8&65535);l.push(String.fromCharCode(s))}return l.join("")},parse:function(e){for(var t=e.length,l=[],o=0;o<t;o++)l[o>>>1]|=n(e.charCodeAt(o)<<16-o%2*16);return a.create(l,2*t)}}}(),e.enc.Utf16)),mv.exports;var e}var hv,fv={exports:{}};function gv(){return hv||(hv=1,fv.exports=(e=ov(),function(){var t=e,a=t.lib.WordArray;function l(e,t,l){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var i=l[e.charCodeAt(s-1)]<<s%4*2|l[e.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=i<<24-o%4*8,o++}return a.create(n,o)}t.enc.Base64={stringify:function(e){var t=e.words,a=e.sigBytes,l=this._map;e.clamp();for(var n=[],o=0;o<a;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;i<4&&o+.75*i<a;i++)n.push(l.charAt(s>>>6*(3-i)&63));var r=l.charAt(64);if(r)for(;n.length%4;)n.push(r);return n.join("")},parse:function(e){var t=e.length,a=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<a.length;o++)n[a.charCodeAt(o)]=o}var s=a.charAt(64);if(s){var i=e.indexOf(s);-1!==i&&(t=i)}return l(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),fv.exports;var e}var yv,bv={exports:{}};function xv(){return yv||(yv=1,bv.exports=(e=ov(),function(){var t=e,a=t.lib.WordArray;function l(e,t,l){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var i=l[e.charCodeAt(s-1)]<<s%4*2|l[e.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=i<<24-o%4*8,o++}return a.create(n,o)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var a=e.words,l=e.sigBytes,n=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<l;s+=3)for(var i=(a[s>>>2]>>>24-s%4*8&255)<<16|(a[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|a[s+2>>>2]>>>24-(s+2)%4*8&255,r=0;r<4&&s+.75*r<l;r++)o.push(n.charAt(i>>>6*(3-r)&63));var u=n.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var a=e.length,n=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<n.length;s++)o[n.charCodeAt(s)]=s}var i=n.charAt(64);if(i){var r=e.indexOf(i);-1!==r&&(a=r)}return l(e,a,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url)),bv.exports;var e}var wv,_v={exports:{}};function kv(){return wv||(wv=1,_v.exports=(e=ov(),function(t){var a=e,l=a.lib,n=l.WordArray,o=l.Hasher,s=a.algo,i=[];!function(){for(var e=0;e<64;e++)i[e]=4294967296*t.abs(t.sin(e+1))|0}();var r=s.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var l=t+a,n=e[l];e[l]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,s=e[t+0],r=e[t+1],m=e[t+2],v=e[t+3],h=e[t+4],f=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],x=e[t+9],w=e[t+10],_=e[t+11],k=e[t+12],S=e[t+13],C=e[t+14],I=e[t+15],E=o[0],T=o[1],N=o[2],M=o[3];E=u(E,T,N,M,s,7,i[0]),M=u(M,E,T,N,r,12,i[1]),N=u(N,M,E,T,m,17,i[2]),T=u(T,N,M,E,v,22,i[3]),E=u(E,T,N,M,h,7,i[4]),M=u(M,E,T,N,f,12,i[5]),N=u(N,M,E,T,g,17,i[6]),T=u(T,N,M,E,y,22,i[7]),E=u(E,T,N,M,b,7,i[8]),M=u(M,E,T,N,x,12,i[9]),N=u(N,M,E,T,w,17,i[10]),T=u(T,N,M,E,_,22,i[11]),E=u(E,T,N,M,k,7,i[12]),M=u(M,E,T,N,S,12,i[13]),N=u(N,M,E,T,C,17,i[14]),E=d(E,T=u(T,N,M,E,I,22,i[15]),N,M,r,5,i[16]),M=d(M,E,T,N,g,9,i[17]),N=d(N,M,E,T,_,14,i[18]),T=d(T,N,M,E,s,20,i[19]),E=d(E,T,N,M,f,5,i[20]),M=d(M,E,T,N,w,9,i[21]),N=d(N,M,E,T,I,14,i[22]),T=d(T,N,M,E,h,20,i[23]),E=d(E,T,N,M,x,5,i[24]),M=d(M,E,T,N,C,9,i[25]),N=d(N,M,E,T,v,14,i[26]),T=d(T,N,M,E,b,20,i[27]),E=d(E,T,N,M,S,5,i[28]),M=d(M,E,T,N,m,9,i[29]),N=d(N,M,E,T,y,14,i[30]),E=c(E,T=d(T,N,M,E,k,20,i[31]),N,M,f,4,i[32]),M=c(M,E,T,N,b,11,i[33]),N=c(N,M,E,T,_,16,i[34]),T=c(T,N,M,E,C,23,i[35]),E=c(E,T,N,M,r,4,i[36]),M=c(M,E,T,N,h,11,i[37]),N=c(N,M,E,T,y,16,i[38]),T=c(T,N,M,E,w,23,i[39]),E=c(E,T,N,M,S,4,i[40]),M=c(M,E,T,N,s,11,i[41]),N=c(N,M,E,T,v,16,i[42]),T=c(T,N,M,E,g,23,i[43]),E=c(E,T,N,M,x,4,i[44]),M=c(M,E,T,N,k,11,i[45]),N=c(N,M,E,T,I,16,i[46]),E=p(E,T=c(T,N,M,E,m,23,i[47]),N,M,s,6,i[48]),M=p(M,E,T,N,y,10,i[49]),N=p(N,M,E,T,C,15,i[50]),T=p(T,N,M,E,f,21,i[51]),E=p(E,T,N,M,k,6,i[52]),M=p(M,E,T,N,v,10,i[53]),N=p(N,M,E,T,w,15,i[54]),T=p(T,N,M,E,r,21,i[55]),E=p(E,T,N,M,b,6,i[56]),M=p(M,E,T,N,I,10,i[57]),N=p(N,M,E,T,g,15,i[58]),T=p(T,N,M,E,S,21,i[59]),E=p(E,T,N,M,h,6,i[60]),M=p(M,E,T,N,_,10,i[61]),N=p(N,M,E,T,m,15,i[62]),T=p(T,N,M,E,x,21,i[63]),o[0]=o[0]+E|0,o[1]=o[1]+T|0,o[2]=o[2]+N|0,o[3]=o[3]+M|0},_doFinalize:function(){var e=this._data,a=e.words,l=8*this._nDataBytes,n=8*e.sigBytes;a[n>>>5]|=128<<24-n%32;var o=t.floor(l/4294967296),s=l;a[15+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(a.length+1),this._process();for(var i=this._hash,r=i.words,u=0;u<4;u++){var d=r[u];r[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,a,l,n,o,s){var i=e+(t&a|~t&l)+n+s;return(i<<o|i>>>32-o)+t}function d(e,t,a,l,n,o,s){var i=e+(t&l|a&~l)+n+s;return(i<<o|i>>>32-o)+t}function c(e,t,a,l,n,o,s){var i=e+(t^a^l)+n+s;return(i<<o|i>>>32-o)+t}function p(e,t,a,l,n,o,s){var i=e+(a^(t|~l))+n+s;return(i<<o|i>>>32-o)+t}a.MD5=o._createHelper(r),a.HmacMD5=o._createHmacHelper(r)}(Math),e.MD5)),_v.exports;var e}var Sv,Cv={exports:{}};function Iv(){return Sv||(Sv=1,Cv.exports=(i=ov(),t=(e=i).lib,a=t.WordArray,l=t.Hasher,n=e.algo,o=[],s=n.SHA1=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=this._hash.words,l=a[0],n=a[1],s=a[2],i=a[3],r=a[4],u=0;u<80;u++){if(u<16)o[u]=0|e[t+u];else{var d=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=d<<1|d>>>31}var c=(l<<5|l>>>27)+r+o[u];c+=u<20?1518500249+(n&s|~n&i):u<40?1859775393+(n^s^i):u<60?(n&s|n&i|s&i)-1894007588:(n^s^i)-899497514,r=i,i=s,s=n<<30|n>>>2,n=l,l=c}a[0]=a[0]+l|0,a[1]=a[1]+n|0,a[2]=a[2]+s|0,a[3]=a[3]+i|0,a[4]=a[4]+r|0},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,l=8*e.sigBytes;return t[l>>>5]|=128<<24-l%32,t[14+(l+64>>>9<<4)]=Math.floor(a/4294967296),t[15+(l+64>>>9<<4)]=a,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=l._createHelper(s),e.HmacSHA1=l._createHmacHelper(s),i.SHA1)),Cv.exports;var e,t,a,l,n,o,s,i}var Ev,Tv={exports:{}};function Nv(){return Ev||(Ev=1,Tv.exports=(e=ov(),function(t){var a=e,l=a.lib,n=l.WordArray,o=l.Hasher,s=a.algo,i=[],r=[];!function(){function e(e){for(var a=t.sqrt(e),l=2;l<=a;l++)if(!(e%l))return!1;return!0}function a(e){return 4294967296*(e-(0|e))|0}for(var l=2,n=0;n<64;)e(l)&&(n<8&&(i[n]=a(t.pow(l,.5))),r[n]=a(t.pow(l,1/3)),n++),l++}();var u=[],d=s.SHA256=o.extend({_doReset:function(){this._hash=new n.init(i.slice(0))},_doProcessBlock:function(e,t){for(var a=this._hash.words,l=a[0],n=a[1],o=a[2],s=a[3],i=a[4],d=a[5],c=a[6],p=a[7],m=0;m<64;m++){if(m<16)u[m]=0|e[t+m];else{var v=u[m-15],h=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,f=u[m-2],g=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;u[m]=h+u[m-7]+g+u[m-16]}var y=l&n^l&o^n&o,b=(l<<30|l>>>2)^(l<<19|l>>>13)^(l<<10|l>>>22),x=p+((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+(i&d^~i&c)+r[m]+u[m];p=c,c=d,d=i,i=s+x|0,s=o,o=n,n=l,l=x+(b+y)|0}a[0]=a[0]+l|0,a[1]=a[1]+n|0,a[2]=a[2]+o|0,a[3]=a[3]+s|0,a[4]=a[4]+i|0,a[5]=a[5]+d|0,a[6]=a[6]+c|0,a[7]=a[7]+p|0},_doFinalize:function(){var e=this._data,a=e.words,l=8*this._nDataBytes,n=8*e.sigBytes;return a[n>>>5]|=128<<24-n%32,a[14+(n+64>>>9<<4)]=t.floor(l/4294967296),a[15+(n+64>>>9<<4)]=l,e.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});a.SHA256=o._createHelper(d),a.HmacSHA256=o._createHmacHelper(d)}(Math),e.SHA256)),Tv.exports;var e}var Mv,Av,Ov={exports:{}},Pv={exports:{}};function Fv(){return Av||(Av=1,Pv.exports=(e=ov(),rv(),function(){var t=e,a=t.lib.Hasher,l=t.x64,n=l.Word,o=l.WordArray,s=t.algo;function i(){return n.create.apply(n,arguments)}var r=[i(1116352408,3609767458),i(1899447441,602891725),i(3049323471,3964484399),i(3921009573,2173295548),i(961987163,4081628472),i(1508970993,3053834265),i(2453635748,2937671579),i(2870763221,3664609560),i(3624381080,2734883394),i(310598401,1164996542),i(607225278,1323610764),i(1426881987,3590304994),i(1925078388,4068182383),i(2162078206,991336113),i(2614888103,633803317),i(3248222580,3479774868),i(3835390401,2666613458),i(4022224774,944711139),i(264347078,2341262773),i(604807628,2007800933),i(770255983,1495990901),i(1249150122,1856431235),i(1555081692,3175218132),i(1996064986,2198950837),i(2554220882,3999719339),i(2821834349,766784016),i(2952996808,2566594879),i(3210313671,3203337956),i(3336571891,1034457026),i(3584528711,2466948901),i(113926993,3758326383),i(338241895,168717936),i(666307205,1188179964),i(773529912,1546045734),i(1294757372,1522805485),i(1396182291,2643833823),i(1695183700,2343527390),i(1986661051,1014477480),i(2177026350,1206759142),i(2456956037,344077627),i(2730485921,1290863460),i(2820302411,3158454273),i(3259730800,3505952657),i(3345764771,106217008),i(3516065817,3606008344),i(3600352804,1432725776),i(4094571909,1467031594),i(275423344,851169720),i(430227734,3100823752),i(506948616,1363258195),i(659060556,3750685593),i(883997877,3785050280),i(958139571,3318307427),i(1322822218,3812723403),i(1537002063,2003034995),i(1747873779,3602036899),i(1955562222,1575990012),i(2024104815,1125592928),i(2227730452,2716904306),i(2361852424,442776044),i(2428436474,593698344),i(2756734187,3733110249),i(3204031479,2999351573),i(3329325298,3815920427),i(3391569614,3928383900),i(3515267271,566280711),i(3940187606,3454069534),i(4118630271,4000239992),i(116418474,1914138554),i(174292421,2731055270),i(289380356,3203993006),i(460393269,320620315),i(685471733,587496836),i(852142971,1086792851),i(1017036298,365543100),i(1126000580,2618297676),i(1288033470,3409855158),i(1501505948,4234509866),i(1607167915,987167468),i(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=i()}();var d=s.SHA512=a.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var a=this._hash.words,l=a[0],n=a[1],o=a[2],s=a[3],i=a[4],d=a[5],c=a[6],p=a[7],m=l.high,v=l.low,h=n.high,f=n.low,g=o.high,y=o.low,b=s.high,x=s.low,w=i.high,_=i.low,k=d.high,S=d.low,C=c.high,I=c.low,E=p.high,T=p.low,N=m,M=v,A=h,O=f,P=g,F=y,L=b,D=x,V=w,B=_,$=k,R=S,z=C,U=I,q=E,H=T,j=0;j<80;j++){var W,Y,G=u[j];if(j<16)Y=G.high=0|e[t+2*j],W=G.low=0|e[t+2*j+1];else{var K=u[j-15],X=K.high,J=K.low,Q=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Z=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=u[j-2],te=ee.high,ae=ee.low,le=(te>>>19|ae<<13)^(te<<3|ae>>>29)^te>>>6,ne=(ae>>>19|te<<13)^(ae<<3|te>>>29)^(ae>>>6|te<<26),oe=u[j-7],se=oe.high,ie=oe.low,re=u[j-16],ue=re.high,de=re.low;Y=(Y=(Y=Q+se+((W=Z+ie)>>>0<Z>>>0?1:0))+le+((W+=ne)>>>0<ne>>>0?1:0))+ue+((W+=de)>>>0<de>>>0?1:0),G.high=Y,G.low=W}var ce,pe=V&$^~V&z,me=B&R^~B&U,ve=N&A^N&P^A&P,he=M&O^M&F^O&F,fe=(N>>>28|M<<4)^(N<<30|M>>>2)^(N<<25|M>>>7),ge=(M>>>28|N<<4)^(M<<30|N>>>2)^(M<<25|N>>>7),ye=(V>>>14|B<<18)^(V>>>18|B<<14)^(V<<23|B>>>9),be=(B>>>14|V<<18)^(B>>>18|V<<14)^(B<<23|V>>>9),xe=r[j],we=xe.high,_e=xe.low,ke=q+ye+((ce=H+be)>>>0<H>>>0?1:0),Se=ge+he;q=z,H=U,z=$,U=R,$=V,R=B,V=L+(ke=(ke=(ke=ke+pe+((ce+=me)>>>0<me>>>0?1:0))+we+((ce+=_e)>>>0<_e>>>0?1:0))+Y+((ce+=W)>>>0<W>>>0?1:0))+((B=D+ce|0)>>>0<D>>>0?1:0)|0,L=P,D=F,P=A,F=O,A=N,O=M,N=ke+(fe+ve+(Se>>>0<ge>>>0?1:0))+((M=ce+Se|0)>>>0<ce>>>0?1:0)|0}v=l.low=v+M,l.high=m+N+(v>>>0<M>>>0?1:0),f=n.low=f+O,n.high=h+A+(f>>>0<O>>>0?1:0),y=o.low=y+F,o.high=g+P+(y>>>0<F>>>0?1:0),x=s.low=x+D,s.high=b+L+(x>>>0<D>>>0?1:0),_=i.low=_+B,i.high=w+V+(_>>>0<B>>>0?1:0),S=d.low=S+R,d.high=k+$+(S>>>0<R>>>0?1:0),I=c.low=I+U,c.high=C+z+(I>>>0<U>>>0?1:0),T=p.low=T+H,p.high=E+q+(T>>>0<H>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,l=8*e.sigBytes;return t[l>>>5]|=128<<24-l%32,t[30+(l+128>>>10<<5)]=Math.floor(a/4294967296),t[31+(l+128>>>10<<5)]=a,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=a._createHelper(d),t.HmacSHA512=a._createHmacHelper(d)}(),e.SHA512)),Pv.exports;var e}var Lv,Dv,Vv={exports:{}},Bv={exports:{}};function $v(){return Dv||(Dv=1,Bv.exports=(e=ov(),rv(),function(t){var a=e,l=a.lib,n=l.WordArray,o=l.Hasher,s=a.x64.Word,i=a.algo,r=[],u=[],d=[];!function(){for(var e=1,t=0,a=0;a<24;a++){r[e+5*t]=(a+1)*(a+2)/2%64;var l=(2*e+3*t)%5;e=t%5,t=l}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var n=1,o=0;o<24;o++){for(var i=0,c=0,p=0;p<7;p++){if(1&n){var m=(1<<p)-1;m<32?c^=1<<m:i^=1<<m-32}128&n?n=n<<1^113:n<<=1}d[o]=s.create(i,c)}}();var c=[];!function(){for(var e=0;e<25;e++)c[e]=s.create()}();var p=i.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var a=this._state,l=this.blockSize/2,n=0;n<l;n++){var o=e[t+2*n],s=e[t+2*n+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(T=a[n]).high^=s,T.low^=o}for(var i=0;i<24;i++){for(var p=0;p<5;p++){for(var m=0,v=0,h=0;h<5;h++)m^=(T=a[p+5*h]).high,v^=T.low;var f=c[p];f.high=m,f.low=v}for(p=0;p<5;p++){var g=c[(p+4)%5],y=c[(p+1)%5],b=y.high,x=y.low;for(m=g.high^(b<<1|x>>>31),v=g.low^(x<<1|b>>>31),h=0;h<5;h++)(T=a[p+5*h]).high^=m,T.low^=v}for(var w=1;w<25;w++){var _=(T=a[w]).high,k=T.low,S=r[w];S<32?(m=_<<S|k>>>32-S,v=k<<S|_>>>32-S):(m=k<<S-32|_>>>64-S,v=_<<S-32|k>>>64-S);var C=c[u[w]];C.high=m,C.low=v}var I=c[0],E=a[0];for(I.high=E.high,I.low=E.low,p=0;p<5;p++)for(h=0;h<5;h++){var T=a[w=p+5*h],N=c[w],M=c[(p+1)%5+5*h],A=c[(p+2)%5+5*h];T.high=N.high^~M.high&A.high,T.low=N.low^~M.low&A.low}T=a[0];var O=d[i];T.high^=O.high,T.low^=O.low}},_doFinalize:function(){var e=this._data,a=e.words;this._nDataBytes;var l=8*e.sigBytes,o=32*this.blockSize;a[l>>>5]|=1<<24-l%32,a[(t.ceil((l+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*a.length,this._process();for(var s=this._state,i=this.cfg.outputLength/8,r=i/8,u=[],d=0;d<r;d++){var c=s[d],p=c.high,m=c.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),m=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),u.push(m),u.push(p)}return new n.init(u,i)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),a=0;a<25;a++)t[a]=t[a].clone();return e}});a.SHA3=o._createHelper(p),a.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3)),Bv.exports;var e}var Rv,zv,Uv={exports:{}},qv={exports:{}};function Hv(){return zv||(zv=1,qv.exports=(e=ov(),a=(t=e).lib.Base,l=t.enc.Utf8,void(t.algo.HMAC=a.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=l.parse(t));var a=e.blockSize,n=4*a;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),i=o.words,r=s.words,u=0;u<a;u++)i[u]^=1549556828,r[u]^=909522486;o.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,a=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(a))}})))),qv.exports;var e,t,a,l}var jv,Wv,Yv={exports:{}},Gv={exports:{}};function Kv(){return Wv||(Wv=1,Gv.exports=(i=ov(),Iv(),Hv(),t=(e=i).lib,a=t.Base,l=t.WordArray,n=e.algo,o=n.MD5,s=n.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a,n=this.cfg,o=n.hasher.create(),s=l.create(),i=s.words,r=n.keySize,u=n.iterations;i.length<r;){a&&o.update(a),a=o.update(e).finalize(t),o.reset();for(var d=1;d<u;d++)a=o.finalize(a),o.reset();s.concat(a)}return s.sigBytes=4*r,s}}),e.EvpKDF=function(e,t,a){return s.create(a).compute(e,t)},i.EvpKDF)),Gv.exports;var e,t,a,l,n,o,s,i}var Xv,Jv={exports:{}};function Qv(){return Xv||(Xv=1,Jv.exports=(e=ov(),Kv(),void(e.lib.Cipher||function(t){var a=e,l=a.lib,n=l.Base,o=l.WordArray,s=l.BufferedBlockAlgorithm,i=a.enc;i.Utf8;var r=i.Base64,u=a.algo.EvpKDF,d=l.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,a){this.cfg=this.cfg.extend(a),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:g}return function(t){return{encrypt:function(a,l,n){return e(l).encrypt(t,a,l,n)},decrypt:function(a,l,n){return e(l).decrypt(t,a,l,n)}}}}()});l.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=a.mode={},p=l.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=c.CBC=function(){var e=p.extend();function a(e,a,l){var n,o=this._iv;o?(n=o,this._iv=t):n=this._prevBlock;for(var s=0;s<l;s++)e[a+s]^=n[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var l=this._cipher,n=l.blockSize;a.call(this,e,t,n),l.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),e.Decryptor=e.extend({processBlock:function(e,t){var l=this._cipher,n=l.blockSize,o=e.slice(t,t+n);l.decryptBlock(e,t),a.call(this,e,t,n),this._prevBlock=o}}),e}(),v=(a.pad={}).Pkcs7={pad:function(e,t){for(var a=4*t,l=a-e.sigBytes%a,n=l<<24|l<<16|l<<8|l,s=[],i=0;i<l;i+=4)s.push(n);var r=o.create(s,l);e.concat(r)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};l.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:v}),reset:function(){var e;d.reset.call(this);var t=this.cfg,a=t.iv,l=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=l.createEncryptor:(e=l.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,a&&a.words):(this._mode=e.call(l,this,a&&a.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var h=l.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),f=(a.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,a=e.salt;return(a?o.create([1398893684,1701076831]).concat(a).concat(t):t).toString(r)},parse:function(e){var t,a=r.parse(e),l=a.words;return 1398893684==l[0]&&1701076831==l[1]&&(t=o.create(l.slice(2,4)),l.splice(0,4),a.sigBytes-=16),h.create({ciphertext:a,salt:t})}},g=l.SerializableCipher=n.extend({cfg:n.extend({format:f}),encrypt:function(e,t,a,l){l=this.cfg.extend(l);var n=e.createEncryptor(a,l),o=n.finalize(t),s=n.cfg;return h.create({ciphertext:o,key:a,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:l.format})},decrypt:function(e,t,a,l){return l=this.cfg.extend(l),t=this._parse(t,l.format),e.createDecryptor(a,l).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(a.kdf={}).OpenSSL={execute:function(e,t,a,l,n){if(l||(l=o.random(8)),n)s=u.create({keySize:t+a,hasher:n}).compute(e,l);else var s=u.create({keySize:t+a}).compute(e,l);var i=o.create(s.words.slice(t),4*a);return s.sigBytes=4*t,h.create({key:s,iv:i,salt:l})}},b=l.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,a,l){var n=(l=this.cfg.extend(l)).kdf.execute(a,e.keySize,e.ivSize,l.salt,l.hasher);l.iv=n.iv;var o=g.encrypt.call(this,e,t,n.key,l);return o.mixIn(n),o},decrypt:function(e,t,a,l){l=this.cfg.extend(l),t=this._parse(t,l.format);var n=l.kdf.execute(a,e.keySize,e.ivSize,t.salt,l.hasher);return l.iv=n.iv,g.decrypt.call(this,e,t,n.key,l)}})}()))),Jv.exports;var e}var Zv,eh,th,ah={exports:{}},lh={exports:{}},nh={exports:{}};function oh(){return th||(th=1,nh.exports=(e=ov(),Qv(),
/** @preserve
           * Counter block mode compatible with  Dr Brian Gladman fileenc.c
           * derived from CryptoJS.mode.CTR
           * Jan Hruby jhruby.web@gmail.com
           */
e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function a(e){if(255&~(e>>24))e+=1<<24;else{var t=e>>16&255,a=e>>8&255,l=255&e;255===t?(t=0,255===a?(a=0,255===l?l=0:++l):++a):++t,e=0,e+=t<<16,e+=a<<8,e+=l}return e}function l(e){return 0===(e[0]=a(e[0]))&&(e[1]=a(e[1])),e}var n=t.Encryptor=t.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),l(s);var i=s.slice(0);a.encryptBlock(i,0);for(var r=0;r<n;r++)e[t+r]^=i[r]}});return t.Decryptor=n,t}(),e.mode.CTRGladman)),nh.exports;var e}var sh,ih,rh,uh,dh,ch,ph,mh,vh,hh,fh={exports:{}},gh={exports:{}},yh={exports:{}},bh={exports:{}},xh={exports:{}},wh={exports:{}},_h={exports:{}},kh={exports:{}},Sh={exports:{}},Ch={exports:{}};function Ih(){return hh||(hh=1,Ch.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib,l=a.WordArray,n=a.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],r=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=o.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],a=0;a<56;a++){var l=s[a]-1;t[a]=e[l>>>5]>>>31-l%32&1}for(var n=this._subKeys=[],o=0;o<16;o++){var u=n[o]=[],d=r[o];for(a=0;a<24;a++)u[a/6|0]|=t[(i[a]-1+d)%28]<<31-a%6,u[4+(a/6|0)]|=t[28+(i[a+24]-1+d)%28]<<31-a%6;for(u[0]=u[0]<<1|u[0]>>>31,a=1;a<7;a++)u[a]=u[a]>>>4*(a-1)+3;u[7]=u[7]<<5|u[7]>>>27}var c=this._invSubKeys=[];for(a=0;a<16;a++)c[a]=n[15-a]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,a){this._lBlock=e[t],this._rBlock=e[t+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var l=0;l<16;l++){for(var n=a[l],o=this._lBlock,s=this._rBlock,i=0,r=0;r<8;r++)i|=u[r][((s^n[r])&d[r])>>>0];this._lBlock=s,this._rBlock=o^i}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(e,t){var a=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=a,this._lBlock^=a<<e}function m(e,t){var a=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=a,this._rBlock^=a<<e}t.DES=n._createHelper(c);var v=o.TripleDES=n.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),a=e.length<4?e.slice(0,2):e.slice(2,4),n=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=c.createEncryptor(l.create(t)),this._des2=c.createEncryptor(l.create(a)),this._des3=c.createEncryptor(l.create(n))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=n._createHelper(v)}(),e.TripleDES)),Ch.exports;var e}var Eh,Th,Nh,Mh,Ah,Oh,Ph,Fh,Lh,Dh,Vh={exports:{}},Bh={exports:{}},$h={exports:{}},Rh={exports:{}};function zh(){return Mh||(Mh=1,Rh.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib.BlockCipher,l=t.algo;const n=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var i={pbox:[],sbox:[]};function r(e,t){let a=t>>24&255,l=t>>16&255,n=t>>8&255,o=255&t,s=e.sbox[0][a]+e.sbox[1][l];return s^=e.sbox[2][n],s+=e.sbox[3][o],s}function u(e,t,a){let l,o=t,s=a;for(let i=0;i<n;++i)o^=e.pbox[i],s=r(e,o)^s,l=o,o=s,s=l;return l=o,o=s,s=l,s^=e.pbox[n],o^=e.pbox[n+1],{left:o,right:s}}function d(e,t,a){let l,o=t,s=a;for(let i=n+1;i>1;--i)o^=e.pbox[i],s=r(e,o)^s,l=o,o=s,s=l;return l=o,o=s,s=l,s^=e.pbox[1],o^=e.pbox[0],{left:o,right:s}}function c(e,t,a){for(let n=0;n<4;n++){e.sbox[n]=[];for(let t=0;t<256;t++)e.sbox[n][t]=s[n][t]}let l=0;for(let s=0;s<n+2;s++)e.pbox[s]=o[s]^t[l],l++,l>=a&&(l=0);let i=0,r=0,d=0;for(let o=0;o<n+2;o+=2)d=u(e,i,r),i=d.left,r=d.right,e.pbox[o]=i,e.pbox[o+1]=r;for(let n=0;n<4;n++)for(let t=0;t<256;t+=2)d=u(e,i,r),i=d.left,r=d.right,e.sbox[n][t]=i,e.sbox[n][t+1]=r;return!0}var p=l.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4;c(i,t,a)}},encryptBlock:function(e,t){var a=u(i,e[t],e[t+1]);e[t]=a.left,e[t+1]=a.right},decryptBlock:function(e,t){var a=d(i,e[t],e[t+1]);e[t]=a.left,e[t+1]=a.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=a._createHelper(p)}(),e.Blowfish)),Rh.exports;var e}const Uh=Zm(tv.exports=function(e){return e}(ov(),rv(),cv(),vv(),gv(),xv(),kv(),Iv(),Nv(),Mv||(Mv=1,Ov.exports=(Dh=ov(),Nv(),Oh=(Ah=Dh).lib.WordArray,Ph=Ah.algo,Fh=Ph.SHA256,Lh=Ph.SHA224=Fh.extend({_doReset:function(){this._hash=new Oh.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=Fh._doFinalize.call(this);return e.sigBytes-=4,e}}),Ah.SHA224=Fh._createHelper(Lh),Ah.HmacSHA224=Fh._createHmacHelper(Lh),Dh.SHA224)),Fv(),function(){return Lv||(Lv=1,Vv.exports=(i=ov(),rv(),Fv(),t=(e=i).x64,a=t.Word,l=t.WordArray,n=e.algo,o=n.SHA512,s=n.SHA384=o.extend({_doReset:function(){this._hash=new l.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=o._createHelper(s),e.HmacSHA384=o._createHmacHelper(s),i.SHA384)),Vv.exports;var e,t,a,l,n,o,s,i}(),$v(),function(){return Rv||(Rv=1,Uv.exports=(e=ov(),
/** @preserve
          			(c) 2012 by Cédric Mesnil. All rights reserved.
          
          			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
          
          			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
          			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
          
          			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
          			*/
function(){var t=e,a=t.lib,l=a.WordArray,n=a.Hasher,o=t.algo,s=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),i=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),r=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=l.create([0,1518500249,1859775393,2400959708,2840853838]),c=l.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=n.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var a=0;a<16;a++){var l=t+a,n=e[l];e[l]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o,p,b,x,w,_,k,S,C,I,E,T=this._hash.words,N=d.words,M=c.words,A=s.words,O=i.words,P=r.words,F=u.words;for(_=o=T[0],k=p=T[1],S=b=T[2],C=x=T[3],I=w=T[4],a=0;a<80;a+=1)E=o+e[t+A[a]]|0,E+=a<16?m(p,b,x)+N[0]:a<32?v(p,b,x)+N[1]:a<48?h(p,b,x)+N[2]:a<64?f(p,b,x)+N[3]:g(p,b,x)+N[4],E=(E=y(E|=0,P[a]))+w|0,o=w,w=x,x=y(b,10),b=p,p=E,E=_+e[t+O[a]]|0,E+=a<16?g(k,S,C)+M[0]:a<32?f(k,S,C)+M[1]:a<48?h(k,S,C)+M[2]:a<64?v(k,S,C)+M[3]:m(k,S,C)+M[4],E=(E=y(E|=0,F[a]))+I|0,_=I,I=C,C=y(S,10),S=k,k=E;E=T[1]+b+C|0,T[1]=T[2]+x+I|0,T[2]=T[3]+w+_|0,T[3]=T[4]+o+k|0,T[4]=T[0]+p+S|0,T[0]=E},_doFinalize:function(){var e=this._data,t=e.words,a=8*this._nDataBytes,l=8*e.sigBytes;t[l>>>5]|=128<<24-l%32,t[14+(l+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(t.length+1),this._process();for(var n=this._hash,o=n.words,s=0;s<5;s++){var i=o[s];o[s]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}return n},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function m(e,t,a){return e^t^a}function v(e,t,a){return e&t|~e&a}function h(e,t,a){return(e|~t)^a}function f(e,t,a){return e&a|t&~a}function g(e,t,a){return e^(t|~a)}function y(e,t){return e<<t|e>>>32-t}t.RIPEMD160=n._createHelper(p),t.HmacRIPEMD160=n._createHmacHelper(p)}(),e.RIPEMD160)),Uv.exports;var e}(),Hv(),function(){return jv||(jv=1,Yv.exports=(r=ov(),Nv(),Hv(),t=(e=r).lib,a=t.Base,l=t.WordArray,n=e.algo,o=n.SHA256,s=n.HMAC,i=n.PBKDF2=a.extend({cfg:a.extend({keySize:4,hasher:o,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var a=this.cfg,n=s.create(a.hasher,e),o=l.create(),i=l.create([1]),r=o.words,u=i.words,d=a.keySize,c=a.iterations;r.length<d;){var p=n.update(t).finalize(i);n.reset();for(var m=p.words,v=m.length,h=p,f=1;f<c;f++){h=n.finalize(h),n.reset();for(var g=h.words,y=0;y<v;y++)m[y]^=g[y]}o.concat(p),u[0]++}return o.sigBytes=4*d,o}}),e.PBKDF2=function(e,t,a){return i.create(a).compute(e,t)},r.PBKDF2)),Yv.exports;var e,t,a,l,n,o,s,i,r}(),Kv(),Qv(),function(){return Zv||(Zv=1,ah.exports=(e=ov(),Qv(),e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function a(e,t,a,l){var n,o=this._iv;o?(n=o.slice(0),this._iv=void 0):n=this._prevBlock,l.encryptBlock(n,0);for(var s=0;s<a;s++)e[t+s]^=n[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var l=this._cipher,n=l.blockSize;a.call(this,e,t,n,l),this._prevBlock=e.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(e,t){var l=this._cipher,n=l.blockSize,o=e.slice(t,t+n);a.call(this,e,t,n,l),this._prevBlock=o}}),t}(),e.mode.CFB)),ah.exports;var e}(),function(){return eh||(eh=1,lh.exports=(a=ov(),Qv(),a.mode.CTR=(e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var a=this._cipher,l=a.blockSize,n=this._iv,o=this._counter;n&&(o=this._counter=n.slice(0),this._iv=void 0);var s=o.slice(0);a.encryptBlock(s,0),o[l-1]=o[l-1]+1|0;for(var i=0;i<l;i++)e[t+i]^=s[i]}}),e.Decryptor=t,e),a.mode.CTR)),lh.exports;var e,t,a}(),oh(),function(){return sh||(sh=1,fh.exports=(a=ov(),Qv(),a.mode.OFB=(e=a.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var a=this._cipher,l=a.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),a.encryptBlock(o,0);for(var s=0;s<l;s++)e[t+s]^=o[s]}}),e.Decryptor=t,e),a.mode.OFB)),fh.exports;var e,t,a}(),function(){return ih||(ih=1,gh.exports=(t=ov(),Qv(),t.mode.ECB=((e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),t.mode.ECB)),gh.exports;var e,t}(),function(){return rh||(rh=1,yh.exports=(e=ov(),Qv(),e.pad.AnsiX923={pad:function(e,t){var a=e.sigBytes,l=4*t,n=l-a%l,o=a+n-1;e.clamp(),e.words[o>>>2]|=n<<24-o%4*8,e.sigBytes+=n},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923)),yh.exports;var e}(),function(){return uh||(uh=1,bh.exports=(e=ov(),Qv(),e.pad.Iso10126={pad:function(t,a){var l=4*a,n=l-t.sigBytes%l;t.concat(e.lib.WordArray.random(n-1)).concat(e.lib.WordArray.create([n<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126)),bh.exports;var e}(),function(){return dh||(dh=1,xh.exports=(e=ov(),Qv(),e.pad.Iso97971={pad:function(t,a){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,a)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971)),xh.exports;var e}(),function(){return ch||(ch=1,wh.exports=(e=ov(),Qv(),e.pad.ZeroPadding={pad:function(e,t){var a=4*t;e.clamp(),e.sigBytes+=a-(e.sigBytes%a||a)},unpad:function(e){var t=e.words,a=e.sigBytes-1;for(a=e.sigBytes-1;a>=0;a--)if(t[a>>>2]>>>24-a%4*8&255){e.sigBytes=a+1;break}}},e.pad.ZeroPadding)),wh.exports;var e}(),function(){return ph||(ph=1,_h.exports=(e=ov(),Qv(),e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding)),_h.exports;var e}(),function(){return mh||(mh=1,kh.exports=(l=ov(),Qv(),t=(e=l).lib.CipherParams,a=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var l=a.parse(e);return t.create({ciphertext:l})}},l.format.Hex)),kh.exports;var e,t,a,l}(),function(){return vh||(vh=1,Sh.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib.BlockCipher,l=t.algo,n=[],o=[],s=[],i=[],r=[],u=[],d=[],c=[],p=[],m=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var a=0,l=0;for(t=0;t<256;t++){var v=l^l<<1^l<<2^l<<3^l<<4;v=v>>>8^255&v^99,n[a]=v,o[v]=a;var h=e[a],f=e[h],g=e[f],y=257*e[v]^16843008*v;s[a]=y<<24|y>>>8,i[a]=y<<16|y>>>16,r[a]=y<<8|y>>>24,u[a]=y,y=16843009*g^65537*f^257*h^16843008*a,d[v]=y<<24|y>>>8,c[v]=y<<16|y>>>16,p[v]=y<<8|y>>>24,m[v]=y,a?(a=h^e[e[e[g^h]]],l^=e[e[l]]):a=l=1}}();var v=[0,1,2,4,8,16,32,64,128,27,54],h=l.AES=a.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,a=e.sigBytes/4,l=4*((this._nRounds=a+6)+1),o=this._keySchedule=[],s=0;s<l;s++)s<a?o[s]=t[s]:(u=o[s-1],s%a?a>6&&s%a==4&&(u=n[u>>>24]<<24|n[u>>>16&255]<<16|n[u>>>8&255]<<8|n[255&u]):(u=n[(u=u<<8|u>>>24)>>>24]<<24|n[u>>>16&255]<<16|n[u>>>8&255]<<8|n[255&u],u^=v[s/a|0]<<24),o[s]=o[s-a]^u);for(var i=this._invKeySchedule=[],r=0;r<l;r++){if(s=l-r,r%4)var u=o[s];else u=o[s-4];i[r]=r<4||s<=4?u:d[n[u>>>24]]^c[n[u>>>16&255]]^p[n[u>>>8&255]]^m[n[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,i,r,u,n)},decryptBlock:function(e,t){var a=e[t+1];e[t+1]=e[t+3],e[t+3]=a,this._doCryptBlock(e,t,this._invKeySchedule,d,c,p,m,o),a=e[t+1],e[t+1]=e[t+3],e[t+3]=a},_doCryptBlock:function(e,t,a,l,n,o,s,i){for(var r=this._nRounds,u=e[t]^a[0],d=e[t+1]^a[1],c=e[t+2]^a[2],p=e[t+3]^a[3],m=4,v=1;v<r;v++){var h=l[u>>>24]^n[d>>>16&255]^o[c>>>8&255]^s[255&p]^a[m++],f=l[d>>>24]^n[c>>>16&255]^o[p>>>8&255]^s[255&u]^a[m++],g=l[c>>>24]^n[p>>>16&255]^o[u>>>8&255]^s[255&d]^a[m++],y=l[p>>>24]^n[u>>>16&255]^o[d>>>8&255]^s[255&c]^a[m++];u=h,d=f,c=g,p=y}h=(i[u>>>24]<<24|i[d>>>16&255]<<16|i[c>>>8&255]<<8|i[255&p])^a[m++],f=(i[d>>>24]<<24|i[c>>>16&255]<<16|i[p>>>8&255]<<8|i[255&u])^a[m++],g=(i[c>>>24]<<24|i[p>>>16&255]<<16|i[u>>>8&255]<<8|i[255&d])^a[m++],y=(i[p>>>24]<<24|i[u>>>16&255]<<16|i[d>>>8&255]<<8|i[255&c])^a[m++],e[t]=h,e[t+1]=f,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=a._createHelper(h)}(),e.AES)),Sh.exports;var e}(),Ih(),function(){return Eh||(Eh=1,Vh.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib.StreamCipher,l=t.algo,n=l.RC4=a.extend({_doReset:function(){for(var e=this._key,t=e.words,a=e.sigBytes,l=this._S=[],n=0;n<256;n++)l[n]=n;n=0;for(var o=0;n<256;n++){var s=n%a,i=t[s>>>2]>>>24-s%4*8&255;o=(o+l[n]+i)%256;var r=l[n];l[n]=l[o],l[o]=r}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,a=this._j,l=0,n=0;n<4;n++){a=(a+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[a],e[a]=o,l|=e[(e[t]+e[a])%256]<<24-8*n}return this._i=t,this._j=a,l}t.RC4=a._createHelper(n);var s=l.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=a._createHelper(s)}(),e.RC4)),Vh.exports;var e}(),function(){return Th||(Th=1,Bh.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib.StreamCipher,l=t.algo,n=[],o=[],s=[],i=l.Rabbit=a.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,a=0;a<4;a++)e[a]=16711935&(e[a]<<8|e[a]>>>24)|4278255360&(e[a]<<24|e[a]>>>8);var l=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,a=0;a<4;a++)r.call(this);for(a=0;a<8;a++)n[a]^=l[a+4&7];if(t){var o=t.words,s=o[0],i=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),c=u>>>16|4294901760&d,p=d<<16|65535&u;for(n[0]^=u,n[1]^=c,n[2]^=d,n[3]^=p,n[4]^=u,n[5]^=c,n[6]^=d,n[7]^=p,a=0;a<4;a++)r.call(this)}},_doProcessBlock:function(e,t){var a=this._X;r.call(this),n[0]=a[0]^a[5]>>>16^a[3]<<16,n[1]=a[2]^a[7]>>>16^a[5]<<16,n[2]=a[4]^a[1]>>>16^a[7]<<16,n[3]=a[6]^a[3]>>>16^a[1]<<16;for(var l=0;l<4;l++)n[l]=16711935&(n[l]<<8|n[l]>>>24)|4278255360&(n[l]<<24|n[l]>>>8),e[t+l]^=n[l]},blockSize:4,ivSize:2});function r(){for(var e=this._X,t=this._C,a=0;a<8;a++)o[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,a=0;a<8;a++){var l=e[a]+t[a],n=65535&l,i=l>>>16,r=((n*n>>>17)+n*i>>>15)+i*i,u=((4294901760&l)*l|0)+((65535&l)*l|0);s[a]=r^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=a._createHelper(i)}(),e.Rabbit)),Bh.exports;var e}(),function(){return Nh||(Nh=1,$h.exports=(e=ov(),gv(),kv(),Kv(),Qv(),function(){var t=e,a=t.lib.StreamCipher,l=t.algo,n=[],o=[],s=[],i=l.RabbitLegacy=a.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,a=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],l=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)r.call(this);for(n=0;n<8;n++)l[n]^=a[n+4&7];if(t){var o=t.words,s=o[0],i=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),c=u>>>16|4294901760&d,p=d<<16|65535&u;for(l[0]^=u,l[1]^=c,l[2]^=d,l[3]^=p,l[4]^=u,l[5]^=c,l[6]^=d,l[7]^=p,n=0;n<4;n++)r.call(this)}},_doProcessBlock:function(e,t){var a=this._X;r.call(this),n[0]=a[0]^a[5]>>>16^a[3]<<16,n[1]=a[2]^a[7]>>>16^a[5]<<16,n[2]=a[4]^a[1]>>>16^a[7]<<16,n[3]=a[6]^a[3]>>>16^a[1]<<16;for(var l=0;l<4;l++)n[l]=16711935&(n[l]<<8|n[l]>>>24)|4278255360&(n[l]<<24|n[l]>>>8),e[t+l]^=n[l]},blockSize:4,ivSize:2});function r(){for(var e=this._X,t=this._C,a=0;a<8;a++)o[a]=t[a];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,a=0;a<8;a++){var l=e[a]+t[a],n=65535&l,i=l>>>16,r=((n*n>>>17)+n*i>>>15)+i*i,u=((4294901760&l)*l|0)+((65535&l)*l|0);s[a]=r^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=a._createHelper(i)}(),e.RabbitLegacy)),$h.exports;var e}(),zh())),qh="/assets/main-card-1-B1nwsT6A.svg",Hh="/assets/main-card-2-DQMcYwiv.svg",jh="/assets/main-card-3-DHwS78rz.svg",Wh="/assets/MYNT%20App%20Logo_v2-1NMHhwFJ.svg",Yh="/assets/ca_icon-DlDuWvzQ.svg",Gh="/assets/error-YVSrpRIn.svg",Kh="/assets/main-card-1-B9dwJIu7.svg",Xh="/assets/main-card-1d-DRwzZA9s.svg",Jh="/assets/main-card-2-CQyqDvEG.svg",Qh="/assets/main-card-2d-roso_jxf.svg",Zh="/assets/main-card-3-BjmHalr0.svg",ef="/assets/main-card-3d-BycVmA7v.svg",tf="/assets/main-card-4-CiR5HPV-.svg",af="/assets/main-card-4d-BbrF_0b9.svg",lf="/assets/logo-BXn8zDyP.svg",nf="/assets/logod-BXyqPJzk.svg",of="/assets/balancehybrid-dmaQYaoi.svg",sf="/assets/globe-Be1xeLPn.svg",rf="/assets/goldcoin-RAVvfg_c.svg",uf="/assets/growthnew--U2lHuYL.svg",df="/assets/loan-D8QWZMDj.svg",cf="/assets/1-BSno4PdI.svg",pf="/assets/2-Bp667vb0.svg",mf="/assets/3-Cs8KYh5P.svg",vf="/assets/4-BF415kMv.svg",hf="/assets/5-DShPjYhD.svg",ff="/assets/6-Dc8mYLK5.svg",gf="/assets/side-one-Cgu10MDr.svg",yf="/assets/side-two-BBnlaco1.svg",bf="/assets/transactions-BniMTI3o.svg",xf="/assets/news_icon-B0BK3y0H.svg",wf="/assets/no%20data%20folder-Ce1aihgf.svg",_f="/assets/notification-42vwEl5x.svg",kf="/assets/notificationd-BE1TTR8O.svg",Sf="/assets/10-BLwyk_so.svg",Cf="/assets/11-Dh87afW3.svg",If="/assets/12-C1yfQbM_.svg",Ef="/assets/13-BI4XZD6z.svg",Tf="/assets/3-BQ_1FKpx.svg",Nf="/assets/31-CFeew3M9.svg",Mf="/assets/4-CH-qcobv.svg",Af="/assets/5-DpII10QX.svg",Of="/assets/6-Dgq-mcw9.svg",Pf="/assets/7-DV-Ar1au.svg",Ff="/assets/9-CBiULt66.svg",Lf="/assets/cancel-icon-1zPx2o-K.svg",Df="/assets/phone-icon-Ds8JEayw.svg",Vf="/assets/phone-icond-J0Ugzc09.svg",Bf="/assets/sm_icon-C-crenDb.svg",$f="/assets/holdings-BpvBa49F.svg",Rf="/assets/ind-BDyIJs9j.svg",zf="/assets/ma-B-JxyF4Y.svg",Uf="/assets/main-card-1-C9JykYea.svg",qf="/assets/main-card-2-BrRkbyhz.svg",Hf="/assets/main-card-3-DWNaePZc.svg",jf="/assets/margin-B_qN12zo.svg",Wf="/assets/neg-icon-BBWInJAQ.svg",Yf="/assets/orders-ChN91J-M.svg",Gf="/assets/pos-icon-Vyz3sh2l.svg",Kf="/assets/position-D4NLfcL2.svg",Xf="/assets/sect-el21SfcM.svg",Jf="/assets/srcm-CsDn79Gl.svg",Qf="/assets/tg-B422_Jc0.svg",Zf="/assets/them-CN1gGbJZ.svg",eg="/assets/tl-Bi1KHb8w.svg",tg="/assets/vb-CN3AfTgs.svg",ag="/assets/success-Du5J40dI.svg",lg="/assets/suitcase-D8oWe1y-.svg",ng="/assets/topip-Yxox6Bnd.svg",og="/assets/9-D49qbXEW.svg",sg="/assets/9d-Cv8ZbvU7.svg",ig="/assets/9opt-B-SAXj2E.svg",rg="/assets/warning-v4A1oAV1.svg",ug=Object.assign({"/src/assets/404.svg":"/assets/404-DW3oFk6P.svg","/src/assets/404d.svg":"/assets/404d-Dq0RDdio.svg","/src/assets/Bonds/main-card-1.svg":qh,"/src/assets/Bonds/main-card-2.svg":Hh,"/src/assets/Bonds/main-card-3.svg":jh,"/src/assets/Fno/main-card-1.svg":"/assets/main-card-1-BPRJuz2j.svg","/src/assets/Fno/main-card-2.svg":"/assets/main-card-2-Bhj9HhvB.svg","/src/assets/Fno/main-card-3.svg":"/assets/main-card-3-l88cKGZU.svg","/src/assets/MYNT App Logo_v2.svg":Wh,"/src/assets/Mynt_logo.svg":"/assets/Mynt_logo-CcF84Thu.svg","/src/assets/UI greyscale.svg":"/assets/UI%20greyscale-rf7gacbq.svg","/src/assets/bank.svg":"/assets/bank-4Q9yQh1s.svg","/src/assets/ca_icon.svg":Yh,"/src/assets/colls/bcolls_balwel.svg":"/assets/bcolls_balwel-Cn1cYji0.svg","/src/assets/colls/bcolls_gems.svg":"/assets/bcolls_gems-OGWF3VCZ.svg","/src/assets/colls/bcolls_highrisk.svg":"/assets/bcolls_highrisk-Dg4V27jQ.svg","/src/assets/colls/bcolls_infinity.svg":"/assets/bcolls_infinity-BO0xs34r.svg","/src/assets/colls/bcolls_star.svg":"/assets/bcolls_star-CsAXu79u.svg","/src/assets/error.svg":Gh,"/src/assets/fund.svg":"/assets/fund-CqKfmUdx.svg","/src/assets/fundd.svg":"/assets/fundd-Dejc6ZRK.svg","/src/assets/holdings.svg":"/assets/holdings-KVvZEEp1.svg","/src/assets/indices&stock.svg":"/assets/indices_stock-BTPZNsqs.svg","/src/assets/ipos/main-card-1.svg":Kh,"/src/assets/ipos/main-card-1d.svg":Xh,"/src/assets/ipos/main-card-2.svg":Jh,"/src/assets/ipos/main-card-2d.svg":Qh,"/src/assets/ipos/main-card-3.svg":Zh,"/src/assets/ipos/main-card-3d.svg":ef,"/src/assets/ipos/main-card-4.svg":tf,"/src/assets/ipos/main-card-4d.svg":af,"/src/assets/logo copy.svg":"/assets/logo%20copy-CjBPgseA.svg","/src/assets/logo.svg":lf,"/src/assets/logod copy.svg":"/assets/logod%20copy-e9wV2Qlj.svg","/src/assets/logod.svg":nf,"/src/assets/mf/balancehybrid.svg":of,"/src/assets/mf/bmf_equitydebt.svg":"/assets/bmf_equitydebt-CabZNFFi.svg","/src/assets/mf/bmf_fd.svg":"/assets/bmf_fd-DTSxS6zi.svg","/src/assets/mf/bmf_lowcost.svg":"/assets/bmf_lowcost-BAIyOIg3.svg","/src/assets/mf/bmf_smart.svg":"/assets/bmf_smart-PQ5aaoiI.svg","/src/assets/mf/bmf_taxes.svg":"/assets/bmf_taxes-Cgb7unYH.svg","/src/assets/mf/globe.svg":sf,"/src/assets/mf/goldcoin.svg":rf,"/src/assets/mf/growthnew.svg":uf,"/src/assets/mf/loan.svg":df,"/src/assets/mf/riskmeter.svg":"/assets/riskmeter-DG3uKA8v.svg","/src/assets/mf/riskmeter/1.svg":cf,"/src/assets/mf/riskmeter/2.svg":pf,"/src/assets/mf/riskmeter/3.svg":mf,"/src/assets/mf/riskmeter/4.svg":vf,"/src/assets/mf/riskmeter/5.svg":hf,"/src/assets/mf/riskmeter/6.svg":ff,"/src/assets/mf/side-one.svg":gf,"/src/assets/mf/side-tre.svg":"/assets/side-tre-CjE1bR5j.svg","/src/assets/mf/side-two.svg":yf,"/src/assets/mf/transactions.svg":bf,"/src/assets/news_icon.svg":xf,"/src/assets/no data folder.svg":wf,"/src/assets/no_screen.svg":"/assets/no_screen-CppViKF2.svg","/src/assets/notification.svg":_f,"/src/assets/notificationd.svg":kf,"/src/assets/orderbag.svg":"/assets/orderbag-DuuLvW12.svg","/src/assets/orderbook/10.svg":Sf,"/src/assets/orderbook/11.svg":Cf,"/src/assets/orderbook/12.svg":If,"/src/assets/orderbook/13.svg":Ef,"/src/assets/orderbook/3.svg":Tf,"/src/assets/orderbook/31.svg":Nf,"/src/assets/orderbook/4.svg":Mf,"/src/assets/orderbook/5.svg":Af,"/src/assets/orderbook/6.svg":Of,"/src/assets/orderbook/7.svg":Pf,"/src/assets/orderbook/8.svg":"/assets/8-A59NhKwf.svg","/src/assets/orderbook/9.svg":Ff,"/src/assets/orderbook/cancel-icon.svg":Lf,"/src/assets/orders.svg":"/assets/orders-B1XSfmwu.svg","/src/assets/ordersd.svg":"/assets/ordersd-D-SmZbjj.svg","/src/assets/out-pip.svg":"/assets/out-pip-rVScXUQs.svg","/src/assets/phone-icon.svg":Df,"/src/assets/phone-icond.svg":Vf,"/src/assets/plus-square.svg":"/assets/plus-square-f5VPtTLR.svg","/src/assets/products-sec/Commodities.png":"/assets/Commodities-D0YmweGW.png","/src/assets/products-sec/Currency.png":"/assets/Currency-4pZA8OOj.png","/src/assets/products-sec/Futures-Options.png":"/assets/Futures-Options-STxslnqn.png","/src/assets/products-sec/Stocks-ETFs.png":"/assets/Stocks-ETFs-CMUzmuPy.png","/src/assets/products-sec/bonds.png":"/assets/bonds-lVurvUbs.png","/src/assets/products-sec/ipos.png":"/assets/ipos-Dp1M2C47.png","/src/assets/products-sec/mutual-funds.png":"/assets/mutual-funds-DKu6vXj0.png","/src/assets/products-sec/sgb.png":"/assets/sgb-B3_xnGUS.png","/src/assets/products-sec/usStocks.png":"/assets/usStocks-DDbAS_rZ.png","/src/assets/receipt-list.svg":"/assets/receipt-list-CE_D3VFR.svg","/src/assets/search-icon.svg":"/assets/search-icon-DtHBnaUL.svg","/src/assets/searcha-icon.svg":"/assets/searcha-icon-uXtEzI2f.svg","/src/assets/searcha-icond.svg":"/assets/searcha-icond-Fvqg3bt4.svg","/src/assets/sm_icon.svg":Bf,"/src/assets/stat.svg":"/assets/stat-BxZuw5LK.svg","/src/assets/stocks/holdings.svg":$f,"/src/assets/stocks/ind.svg":Rf,"/src/assets/stocks/ma.svg":zf,"/src/assets/stocks/main-card-1.svg":Uf,"/src/assets/stocks/main-card-1d.svg":"/assets/main-card-1d-DOWgKgwG.svg","/src/assets/stocks/main-card-2.svg":qf,"/src/assets/stocks/main-card-2d.svg":"/assets/main-card-2d-CRXLL9EH.svg","/src/assets/stocks/main-card-3.svg":Hf,"/src/assets/stocks/main-card-3d.svg":"/assets/main-card-3d-CTJM7gGC.svg","/src/assets/stocks/margin.svg":jf,"/src/assets/stocks/neg-icon.svg":Wf,"/src/assets/stocks/orders.svg":Yf,"/src/assets/stocks/pos-icon.svg":Gf,"/src/assets/stocks/position.svg":Kf,"/src/assets/stocks/sect.svg":Xf,"/src/assets/stocks/srcm.svg":Jf,"/src/assets/stocks/tg.svg":Qf,"/src/assets/stocks/them.svg":Zf,"/src/assets/stocks/tl.svg":eg,"/src/assets/stocks/vb.svg":tg,"/src/assets/success.svg":ag,"/src/assets/suitcase.svg":lg,"/src/assets/to-pip.svg":"/assets/to-pip-BSq9mzt3.svg","/src/assets/topip.svg":ng,"/src/assets/tv_chart_icon/dio-chart.svg":"/assets/dio-chart-crRTmUAX.svg","/src/assets/tv_chart_icon/quadro-chart.svg":"/assets/quadro-chart-DFbhMIpH.svg","/src/assets/tv_chart_icon/single-chart.svg":"/assets/single-chart-DYtCDZH7.svg","/src/assets/usermenu/1.svg":"/assets/1-C2QACSFy.svg","/src/assets/usermenu/1d.svg":"/assets/1d-Ckcm3Dri.svg","/src/assets/usermenu/2.svg":"/assets/2-CP3qbIPA.svg","/src/assets/usermenu/2d.svg":"/assets/2d-0NCyf97G.svg","/src/assets/usermenu/3.svg":"/assets/3-H0sF9wob.svg","/src/assets/usermenu/3d.svg":"/assets/3d-Dqh69Z1L.svg","/src/assets/usermenu/4.svg":"/assets/4-DQ2kVnnd.svg","/src/assets/usermenu/4d.svg":"/assets/4d-CjjWadnd.svg","/src/assets/usermenu/5.svg":"/assets/5-CdNRR6lJ.svg","/src/assets/usermenu/5d.svg":"/assets/5d-V2U4mekA.svg","/src/assets/usermenu/6.svg":"/assets/6-BMLW5YAD.svg","/src/assets/usermenu/6d.svg":"/assets/6d-Cw93_ap_.svg","/src/assets/usermenu/7.svg":"/assets/7-932yvOC9.svg","/src/assets/usermenu/7d.svg":"/assets/7d-CWn0K8Fm.svg","/src/assets/usermenu/8.svg":"/assets/8-0tqA6lTX.svg","/src/assets/usermenu/8d.svg":"/assets/8d-CuaTm9LZ.svg","/src/assets/usermenu/9.svg":og,"/src/assets/usermenu/9d.svg":sg,"/src/assets/usermenu/9opt.svg":ig,"/src/assets/usermenu/coa.svg":"/assets/coa-D0KX8I8i.svg","/src/assets/usermenu/coad.svg":"/assets/coad-BTaBfYV3.svg","/src/assets/usermenu/pledge.svg":"/assets/pledge-ho6rhPwP.svg","/src/assets/usermenu/pledged.svg":"/assets/pledged-DbjXAgR1.svg","/src/assets/usermenu/referal.svg":"/assets/referal-B1U6e7WY.svg","/src/assets/usermenu/referald.svg":"/assets/referald-Dufa_VSN.svg","/src/assets/usermenu/reports.svg":"/assets/reports-xitpItHF.svg","/src/assets/usermenu/reportsd.svg":"/assets/reportsd-DL7KuUs7.svg","/src/assets/warning.svg":rg,"/src/assets/watchlist.svg":"/assets/watchlist-BthmgCs7.svg","/src/assets/xmark.svg":"/assets/xmark-BxSEN83L.svg"}),dg=e=>{try{const t=`/src/assets${e.startsWith("/")?e:`/${e}`}`;return ug[t]?ug[t]:`/assets/${e}`}catch(SJ){return console.warn("Asset path error:",SJ,e),`/assets/${e}`}},cg=xe({text:String,...Oe(),...Jc()},"VToolbarTitle"),pg=Ee()({name:"VToolbarTitle",props:cg(),setup(e,t){let{slots:a}=t;return Me(()=>{const t=!!(a.default||a.text||e.text);return d(e.tag,{class:r(["v-toolbar-title",e.class]),style:c(e.style)},{default:()=>{var l;return[t&&i("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,null==(l=a.default)?void 0:l.call(a)])]}})}),{}}}),mg=xe({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function vg(e,t,a){return Ee()({name:e,props:mg({mode:a,origin:t}),setup(t,a){let{slots:l}=a;const n={onBeforeEnter(e){t.origin&&(e.style.transformOrigin=t.origin)},onLeave(e){if(t.leaveAbsolute){const{offsetTop:t,offsetLeft:a,offsetWidth:l,offsetHeight:n}=e;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=`${t}px`,e.style.left=`${a}px`,e.style.width=`${l}px`,e.style.height=`${n}px`}t.hideOnLeave&&e.style.setProperty("display","none","important")},onAfterLeave(e){if(t.leaveAbsolute&&(null==e?void 0:e._transitionInitialStyles)){const{position:t,top:a,left:l,width:n,height:o}=e._transitionInitialStyles;delete e._transitionInitialStyles,e.style.position=t||"",e.style.top=a||"",e.style.left=l||"",e.style.width=n||"",e.style.height=o||""}}};return()=>{const a=t.group?L:E;return D(a,{name:t.disabled?"":e,css:!t.disabled,...t.group?void 0:{mode:t.mode},...t.disabled?{}:n},l.default)}}})}function hg(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return Ee()({name:e,props:{mode:{type:String,default:a},disabled:{type:Boolean,default:Ye()},group:Boolean},setup(a,l){let{slots:n}=l;const o=a.group?L:E;return()=>D(o,{name:a.disabled?"":e,css:!a.disabled,...a.disabled?{}:t},n.default)}})}function fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"width":"height",a=G(`offset-${t}`);return{onBeforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[t]:e.style[t]}},onEnter(l){const n=l._initialStyle;if(!n)return;l.style.setProperty("transition","none","important"),l.style.overflow="hidden";const o=`${l[a]}px`;l.style[t]="0",l.offsetHeight,l.style.transition=n.transition,e&&l._parent&&l._parent.classList.add(e),requestAnimationFrame(()=>{l.style[t]=o})},onAfterEnter:n,onEnterCancelled:n,onLeave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[t]:e.style[t]},e.style.overflow="hidden",e.style[t]=`${e[a]}px`,e.offsetHeight,requestAnimationFrame(()=>e.style[t]="0")},onAfterLeave:l,onLeaveCancelled:l};function l(t){e&&t._parent&&t._parent.classList.remove(e),n(t)}function n(e){if(!e._initialStyle)return;const a=e._initialStyle[t];e.style.overflow=e._initialStyle.overflow,null!=a&&(e.style[t]=a),delete e._initialStyle}}const gg=xe({target:[Object,Array]},"v-dialog-transition"),yg=new WeakMap,bg=Ee()({name:"VDialogTransition",props:gg(),setup(e,t){let{slots:a}=t;const l={onBeforeEnter(e){e.style.pointerEvents="none",e.style.visibility="hidden"},async onEnter(t,a){var l;await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),t.style.visibility="";const n=wg(e.target,t),{x:o,y:s,sx:i,sy:r,speed:u}=n;if(yg.set(t,n),Ye())wt(t,[{opacity:0},{}],{duration:125*u,easing:Nt}).finished.then(()=>a());else{const e=wt(t,[{transform:`translate(${o}px, ${s}px) scale(${i}, ${r})`,opacity:0},{}],{duration:225*u,easing:Nt});null==(l=xg(t))||l.forEach(e=>{wt(e,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*u,easing:kt})}),e.finished.then(()=>a())}},onAfterEnter(e){e.style.removeProperty("pointer-events")},onBeforeLeave(e){e.style.pointerEvents="none"},async onLeave(t,a){var l;let n;await new Promise(e=>requestAnimationFrame(e)),n=!yg.has(t)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?wg(e.target,t):yg.get(t);const{x:o,y:s,sx:i,sy:r,speed:u}=n;Ye()?wt(t,[{},{opacity:0}],{duration:85*u,easing:Tt}).finished.then(()=>a()):(wt(t,[{},{transform:`translate(${o}px, ${s}px) scale(${i}, ${r})`,opacity:0}],{duration:125*u,easing:Tt}).finished.then(()=>a()),null==(l=xg(t))||l.forEach(e=>{wt(e,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*u,easing:kt})}))},onAfterLeave(e){e.style.removeProperty("pointer-events")}};return()=>e.target?d(E,w({name:"dialog-transition"},l,{css:!1}),a):d(E,{name:"dialog-transition"},a)}});function xg(e){var t;const a=null==(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))?void 0:t.children;return a&&[...a]}function wg(e,t){const a=lt(e),l=dt(t),[n,o]=getComputedStyle(t).transformOrigin.split(" ").map(e=>parseFloat(e)),[s,i]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let r=a.left+a.width/2;"left"===s||"left"===i?r-=a.width/2:"right"!==s&&"right"!==i||(r+=a.width/2);let u=a.top+a.height/2;"top"===s||"top"===i?u-=a.height/2:"bottom"!==s&&"bottom"!==i||(u+=a.height/2);const d=a.width/l.width,c=a.height/l.height,p=Math.max(1,d,c),m=d/p||0,v=c/p||0,h=l.width*l.height/(window.innerWidth*window.innerHeight),f=h>.12?Math.min(1.5,10*(h-.12)+1):1;return{x:r-(n+l.left),y:u-(o+l.top),sx:m,sy:v,speed:f}}const _g=vg("fab-transition","center center","out-in"),kg=vg("dialog-bottom-transition"),Sg=vg("dialog-top-transition"),Cg=vg("fade-transition"),Ig=vg("scale-transition"),Eg=vg("scroll-x-transition"),Tg=vg("scroll-x-reverse-transition"),Ng=vg("scroll-y-transition"),Mg=vg("scroll-y-reverse-transition"),Ag=vg("slide-x-transition"),Og=vg("slide-x-reverse-transition"),Pg=vg("slide-y-transition"),Fg=vg("slide-y-reverse-transition"),Lg=hg("expand-transition",fg()),Dg=hg("expand-x-transition",fg("",!0)),Vg=xe({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Oe(),...Cp()},"VResponsive"),Bg=Ee()({name:"VResponsive",props:Vg(),setup(e,t){let{slots:a}=t;const{aspectStyles:n}=function(e){return{aspectStyles:l(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}(e),{dimensionStyles:o}=Ip(e);return Me(()=>{var t;return i("div",{class:r(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:c([o.value,e.style])},[i("div",{class:"v-responsive__sizer",style:c(n.value)},null),null==(t=a.additional)?void 0:t.call(a),a.default&&i("div",{class:r(["v-responsive__content",e.contentClass])},[a.default()])])}),{}}});function $g(e,t){var a;const l=null==(a=e._observe)?void 0:a[t.instance.$.uid];l&&(l.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const Rg={mounted:function(e,t){if(!He)return;const a=t.modifiers||{},l=t.value,{handler:n,options:o}="object"==typeof l?l:{handler:l,options:{}},s=new IntersectionObserver(function(){var l;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;const i=null==(l=e._observe)?void 0:l[t.instance.$.uid];if(!i)return;const r=o.some(e=>e.isIntersecting);!n||a.quiet&&!i.init||a.once&&!r&&!i.init||n(r,o,s),r&&a.once?$g(e,t):i.init=!0},o);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:s},s.observe(e)},unmounted:$g},zg=xe({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Vg(),...Oe(),...Kc(),...Fm()},"VImg"),Ug=Ee()({name:"VImg",directives:{vIntersect:Rg},props:zg(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:o,slots:s}=t;const{backgroundColorClasses:c,backgroundColorStyles:p}=ep(()=>e.color),{roundedClasses:m}=Xc(e),v=Pe("VImg"),g=k(""),y=a(),b=k(e.eager?"loading":"idle"),x=k(),_=k(),S=l(()=>e.src&&"object"==typeof e.src?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),C=l(()=>S.value.aspect||x.value/_.value||0);function I(t){if((!e.eager||!t)&&(!He||t||e.eager)){if(b.value="loading",S.value.lazySrc){const e=new Image;e.src=S.value.lazySrc,P(e,null)}S.value.src&&N(()=>{var e;o("loadstart",(null==(e=y.value)?void 0:e.currentSrc)||S.value.src),setTimeout(()=>{var e;if(!v.isUnmounted)if(null==(e=y.value)?void 0:e.complete){if(y.value.naturalWidth||T(),"error"===b.value)return;C.value||P(y.value,null),"loading"===b.value&&E()}else C.value||P(y.value),A()})})}}function E(){var e;v.isUnmounted||(A(),P(y.value),b.value="loaded",o("load",(null==(e=y.value)?void 0:e.currentSrc)||S.value.src))}function T(){var e;v.isUnmounted||(b.value="error",o("error",(null==(e=y.value)?void 0:e.currentSrc)||S.value.src))}function A(){const e=y.value;e&&(g.value=e.currentSrc||e.src)}f(()=>e.src,()=>{I("idle"!==b.value)}),f(C,(e,t)=>{!e&&t&&y.value&&P(y.value)}),K(()=>I());let O=-1;function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const a=()=>{if(clearTimeout(O),v.isUnmounted)return;const{naturalHeight:l,naturalWidth:n}=e;l||n?(x.value=n,_.value=l):e.complete||"loading"!==b.value||null==t?(e.currentSrc.endsWith(".svg")||e.currentSrc.startsWith("data:image/svg+xml"))&&(x.value=1,_.value=1):O=window.setTimeout(a,t)};a()}h(()=>{clearTimeout(O)});const F=n(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),L=()=>{var t;if(!S.value.src||"idle"===b.value)return null;const a=i("img",{class:r(["v-img__img",F.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:S.value.src,srcset:S.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:y,onLoad:E,onError:T},null),l=null==(t=s.sources)?void 0:t.call(s);return d(Lm,{transition:e.transition,appear:!0},{default:()=>[M(l?i("picture",{class:"v-img__picture"},[l,a]):a,[[V,"loaded"===b.value]])]})},D=()=>d(Lm,{transition:e.transition},{default:()=>[S.value.lazySrc&&"loaded"!==b.value&&i("img",{class:r(["v-img__img","v-img__img--preload",F.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:S.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),B=()=>s.placeholder?d(Lm,{transition:e.transition,appear:!0},{default:()=>[("loading"===b.value||"error"===b.value&&!s.error)&&i("div",{class:"v-img__placeholder"},[s.placeholder()])]}):null,$=()=>s.error?d(Lm,{transition:e.transition,appear:!0},{default:()=>["error"===b.value&&i("div",{class:"v-img__error"},[s.error()])]}):null,R=()=>e.gradient?i("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,z=k(!1);{const e=f(C,t=>{t&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{z.value=!0})}),e())})}return Me(()=>{const t=Bg.filterProps(e);return M(d(Bg,w({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!z.value},c.value,m.value,e.class],style:[{width:$e("auto"===e.width?x.value:e.width)},p.value,e.style]},t,{aspectRatio:C.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>i(u,null,[d(L,null,null),d(D,null,null),d(R,null,null),d(B,null,null),d($,null,null)]),default:s.default}),[[Rg,{handler:I,options:e.options},null,{once:!0}]])}),{currentSrc:g,image:y,state:b,naturalWidth:x,naturalHeight:_}}}),qg=[null,"prominent","default","comfortable","compact"],Hg=xe({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>qg.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Uc(),...Oe(),...Yc(),...Kc(),...Jc({tag:"header"}),...Ae()},"VToolbar"),jg=Ee()({name:"VToolbar",props:Hg(),setup(e,t){var a;let{slots:n}=t;const{backgroundColorClasses:o,backgroundColorStyles:s}=ep(()=>e.color),{borderClasses:u}=qc(e),{elevationClasses:p}=Gc(e),{roundedClasses:m}=Xc(e),{themeClasses:v}=Te(e),{rtlClasses:h}=Ge(),f=k(null===e.extended?!!(null==(a=n.extension)?void 0:a.call(n)):e.extended),g=l(()=>parseInt(Number(e.height)+("prominent"===e.density?Number(e.height):0)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0),10)),y=l(()=>f.value?parseInt(Number(e.extensionHeight)+("prominent"===e.density?Number(e.extensionHeight):0)-("comfortable"===e.density?4:0)-("compact"===e.density?8:0),10):0);return Ne({VBtn:{variant:"text"}}),Me(()=>{var t;const a=!(!e.title&&!n.title),l=!(!n.image&&!e.image),b=null==(t=n.extension)?void 0:t.call(n);return f.value=null===e.extended?!!b:e.extended,d(e.tag,{class:r(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},o.value,u.value,p.value,m.value,v.value,h.value,e.class]),style:c([s.value,e.style])},{default:()=>[l&&i("div",{key:"image",class:"v-toolbar__image"},[n.image?d(fp,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):d(Ug,{key:"image-img",cover:!0,src:e.image},null)]),d(fp,{defaults:{VTabs:{height:$e(g.value)}}},{default:()=>{var t,l,o;return[i("div",{class:"v-toolbar__content",style:{height:$e(g.value)}},[n.prepend&&i("div",{class:"v-toolbar__prepend"},[null==(t=n.prepend)?void 0:t.call(n)]),a&&d(pg,{key:"title",text:e.title},{text:n.title}),null==(l=n.default)?void 0:l.call(n),n.append&&i("div",{class:"v-toolbar__append"},[null==(o=n.append)?void 0:o.call(n)])])]}}),d(fp,{defaults:{VTabs:{height:$e(y.value)}}},{default:()=>[d(Lg,null,{default:()=>[f.value&&i("div",{class:"v-toolbar__extension",style:{height:$e(y.value)}},[b])]})]})]})}),{contentHeight:g,extensionHeight:y}}}),Wg=xe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Yg(){const e=k(!1);return y(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:n(()=>e.value?void 0:{transition:"none !important"}),isBooted:P(e)}}const Gg=xe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Hg(),...At(),...Wg(),height:{type:[Number,String],default:64}},"VAppBar"),Kg=Ee()({name:"VAppBar",props:Gg(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const s=a(),i=Fe(e,"modelValue"),r=l(()=>{var t;const a=new Set((null==(t=e.scrollBehavior)?void 0:t.split(" "))??[]);return{hide:a.has("hide"),fullyHide:a.has("fully-hide"),inverted:a.has("inverted"),collapse:a.has("collapse"),elevate:a.has("elevate"),fadeImage:a.has("fade-image")}}),u=l(()=>{const e=r.value;return e.hide||e.fullyHide||e.inverted||e.collapse||e.elevate||e.fadeImage||!i.value}),{currentScroll:c,scrollThreshold:p,isScrollingUp:m,scrollRatio:v}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{canScroll:n}=t;let o=0,s=0;const i=a(null),r=k(0),u=k(0),d=k(0),c=k(!1),p=k(!1),m=l(()=>Number(e.scrollThreshold)),v=l(()=>We((m.value-r.value)/m.value||0)),g=()=>{const e=i.value;if(!e||n&&!n.value)return;o=r.value,r.value="window"in e?e.pageYOffset:e.scrollTop;const t=e instanceof Window?document.documentElement.scrollHeight:e.scrollHeight;s===t?(p.value=r.value<o,d.value=Math.abs(r.value-m.value)):s=t};return f(p,()=>{u.value=u.value||r.value}),f(c,()=>{u.value=0}),y(()=>{f(()=>e.scrollTarget,e=>{var t;const a=e?document.querySelector(e):window;a&&a!==i.value&&(null==(t=i.value)||t.removeEventListener("scroll",g),i.value=a,i.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),h(()=>{var e;null==(e=i.value)||e.removeEventListener("scroll",g)}),n&&f(n,g,{immediate:!0}),{scrollThreshold:m,currentScroll:r,currentThreshold:d,isScrollActive:c,scrollRatio:v,isScrollingUp:p,savedScroll:u}}(e,{canScroll:u}),g=n(()=>r.value.hide||r.value.fullyHide),b=l(()=>e.collapse||r.value.collapse&&(r.value.inverted?v.value>0:0===v.value)),x=l(()=>e.flat||r.value.fullyHide&&!i.value||r.value.elevate&&(r.value.inverted?c.value>0:0===c.value)),_=l(()=>r.value.fadeImage?r.value.inverted?1-v.value:v.value:void 0),S=l(()=>{var e,t;if(r.value.hide&&r.value.inverted)return 0;const a=(null==(e=s.value)?void 0:e.contentHeight)??0,l=(null==(t=s.value)?void 0:t.extensionHeight)??0;return g.value?c.value<p.value||r.value.fullyHide?a+l:a:a+l});Xe(()=>!!e.scrollBehavior,()=>{I(()=>{g.value?r.value.inverted?i.value=c.value>p.value:i.value=m.value||c.value<p.value:i.value=!0})});const{ssrBootStyles:C}=Yg(),{layoutItemStyles:E}=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:n(()=>e.location),layoutSize:S,elementSize:k(void 0),active:i,absolute:n(()=>e.absolute)});return Me(()=>{const t=jg.filterProps(e);return d(jg,w({ref:s,class:["v-app-bar",{"v-app-bar--bottom":"bottom"===e.location},e.class],style:[{...E.value,"--v-toolbar-image-opacity":_.value,height:void 0,...C.value},e.style]},t,{collapse:b.value,flat:x.value}),o)}),{}}}),Xg=xe({...Ct(sm({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),Jg=Ee()({name:"VAppBarNavIcon",props:Xg(),setup(e,t){let{slots:a}=t;return Me(()=>d(im,w(e,{class:["v-app-bar-nav-icon"]}),a)),{}}}),Qg=Ee()({name:"VAppBarTitle",props:cg(),setup(e,t){let{slots:a}=t;return Me(()=>d(pg,w(e,{class:"v-app-bar-title"}),a)),{}}}),Zg=xe({...Oe(),...Jc()},"VCardActions"),ey=Ee()({name:"VCardActions",props:Zg(),setup(e,t){let{slots:a}=t;return Ne({VBtn:{slim:!0,variant:"text"}}),Me(()=>d(e.tag,{class:r(["v-card-actions",e.class]),style:c(e.style)},a)),{}}}),ty=xe({opacity:[Number,String],...Oe(),...Jc()},"VCardSubtitle"),ay=Ee()({name:"VCardSubtitle",props:ty(),setup(e,t){let{slots:a}=t;return Me(()=>d(e.tag,{class:r(["v-card-subtitle",e.class]),style:c([{"--v-card-subtitle-opacity":e.opacity},e.style])},a)),{}}}),ly=Ot("v-card-title"),ny=xe({start:Boolean,end:Boolean,icon:Ue,image:String,text:String,...Uc(),...Oe(),...jc(),...Kc(),...yp(),...Jc(),...Ae(),...lp({variant:"flat"})},"VAvatar"),oy=Ee()({name:"VAvatar",props:ny(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{borderClasses:n}=qc(e),{colorClasses:o,colorStyles:s,variantClasses:i}=np(e),{densityClasses:u}=Wc(e),{roundedClasses:p}=Xc(e),{sizeClasses:m,sizeStyles:v}=bp(e);return Me(()=>d(e.tag,{class:r(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},l.value,n.value,o.value,u.value,p.value,m.value,i.value,e.class]),style:c([s.value,v.value,e.style])},{default:()=>[a.default?d(fp,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[a.default()]}):e.image?d(Ug,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?d(wp,{key:"icon",icon:e.icon},null):e.text,ap(!1,"v-avatar")]})),{}}}),sy=xe({appendAvatar:String,appendIcon:Ue,prependAvatar:String,prependIcon:Ue,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Oe(),...jc(),...Jc()},"VCardItem"),iy=Ee()({name:"VCardItem",props:sy(),setup(e,t){let{slots:a}=t;return Me(()=>{const t=!(!e.prependAvatar&&!e.prependIcon),l=!(!t&&!a.prepend),n=!(!e.appendAvatar&&!e.appendIcon),o=!(!n&&!a.append),s=!(null==e.title&&!a.title),p=!(null==e.subtitle&&!a.subtitle);return d(e.tag,{class:r(["v-card-item",e.class]),style:c(e.style)},{default:()=>{var r;return[l&&i("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?d(fp,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):i(u,null,[e.prependAvatar&&d(oy,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&d(wp,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),i("div",{class:"v-card-item__content"},[s&&d(ly,{key:"title"},{default:()=>{var t;return[(null==(t=a.title)?void 0:t.call(a))??A(e.title)]}}),p&&d(ay,{key:"subtitle"},{default:()=>{var t;return[(null==(t=a.subtitle)?void 0:t.call(a))??A(e.subtitle)]}}),null==(r=a.default)?void 0:r.call(a)]),o&&i("div",{key:"append",class:"v-card-item__append"},[a.append?d(fp,{key:"append-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):i(u,null,[e.appendIcon&&d(wp,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&d(oy,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]}})}),{}}}),ry=xe({opacity:[Number,String],...Oe(),...Jc()},"VCardText"),uy=Ee()({name:"VCardText",props:ry(),setup(e,t){let{slots:a}=t;return Me(()=>d(e.tag,{class:r(["v-card-text",e.class]),style:c([{"--v-card-text-opacity":e.opacity},e.style])},a)),{}}}),dy=xe({appendAvatar:String,appendIcon:Ue,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ue,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Uc(),...Oe(),...jc(),...Cp(),...Yc(),...Pp(),...Tp(),...Vp(),...Kc(),...zp(),...Jc(),...Ae(),...lp({variant:"elevated"})},"VCard"),cy=Ee()({name:"VCard",directives:{vRipple:om},props:dy(),setup(e,t){let{attrs:a,slots:l}=t;const{themeClasses:n}=Te(e),{borderClasses:o}=qc(e),{colorClasses:s,colorStyles:r,variantClasses:u}=np(e),{densityClasses:c}=Wc(e),{dimensionStyles:p}=Ip(e),{elevationClasses:m}=Gc(e),{loaderClasses:v}=Fp(e),{locationStyles:h}=Np(e),{positionClasses:f}=Bp(e),{roundedClasses:g}=Xc(e),y=Rp(e,a);return Me(()=>{const t=!1!==e.link&&y.isLink.value,a=!e.disabled&&!1!==e.link&&(e.link||y.isClickable.value),b=t?"a":e.tag,x=!(!l.title&&null==e.title),_=!(!l.subtitle&&null==e.subtitle),k=x||_,S=!!(l.append||e.appendAvatar||e.appendIcon),C=!!(l.prepend||e.prependAvatar||e.prependIcon),I=!(!l.image&&!e.image),E=k||C||S,T=!(!l.text&&null==e.text);return M(d(b,w(y.linkProps,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":a},n.value,o.value,s.value,c.value,m.value,v.value,f.value,g.value,u.value,e.class],style:[r.value,p.value,h.value,e.style],onClick:a&&y.navigate,tabindex:e.disabled?-1:void 0}),{default:()=>{var t;return[I&&i("div",{key:"image",class:"v-card__image"},[l.image?d(fp,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},l.image):d(Ug,{key:"image-img",cover:!0,src:e.image},null)]),d(Lp,{name:"v-card",active:!!e.loading,color:"boolean"==typeof e.loading?void 0:e.loading},{default:l.loader}),E&&d(iy,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:l.item,prepend:l.prepend,title:l.title,subtitle:l.subtitle,append:l.append}),T&&d(uy,{key:"text"},{default:()=>{var t;return[(null==(t=l.text)?void 0:t.call(l))??e.text]}}),null==(t=l.default)?void 0:t.call(l),l.actions&&d(ey,null,{default:l.actions}),ap(a,"v-card")]}}),[[om,a&&e.ripple]])}),{}}}),py=xe({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Oe(),...Ae()},"VDivider"),my=Ee()({name:"VDivider",props:py(),setup(e,t){let{attrs:a,slots:n}=t;const{themeClasses:o}=Te(e),{textColorClasses:s,textColorStyles:u}=Zc(()=>e.color),d=l(()=>{const t={};return e.length&&(t[e.vertical?"height":"width"]=$e(e.length)),e.thickness&&(t[e.vertical?"borderRightWidth":"borderTopWidth"]=$e(e.thickness)),t});return Me(()=>{const t=i("hr",{class:r([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},o.value,s.value,e.class]),style:c([d.value,u.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":a.role&&"separator"!==a.role?void 0:e.vertical?"vertical":"horizontal",role:`${a.role||"separator"}`},null);return n.default?i("div",{class:r(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[t,i("div",{class:"v-divider__content"},[n.default()]),t]):t}),{}}}),vy=xe({fluid:{type:Boolean,default:!1},...Oe(),...Cp(),...Jc()},"VContainer"),hy=Ee()({name:"VContainer",props:vy(),setup(e,t){let{slots:a}=t;const{rtlClasses:l}=Ge(),{dimensionStyles:n}=Ip(e);return Me(()=>d(e.tag,{class:r(["v-container",{"v-container--fluid":e.fluid},l.value,e.class]),style:c([n.value,e.style])},a)),{}}}),fy=Pt.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),gy=Pt.reduce((e,t)=>(e["offset"+X(t)]={type:[String,Number],default:null},e),{}),yy=Pt.reduce((e,t)=>(e["order"+X(t)]={type:[String,Number],default:null},e),{}),by={col:Object.keys(fy),offset:Object.keys(gy),order:Object.keys(yy)};function xy(e,t,a){let l=e;if(null!=a&&!1!==a)return t&&(l+=`-${t.replace(e,"")}`),"col"===e&&(l="v-"+l),"col"!==e||""!==a&&!0!==a?(l+=`-${a}`,l.toLowerCase()):l.toLowerCase()}const wy=["auto","start","end","center","baseline","stretch"],_y=xe({cols:{type:[Boolean,String,Number],default:!1},...fy,offset:{type:[String,Number],default:null},...gy,order:{type:[String,Number],default:null},...yy,alignSelf:{type:String,default:null,validator:e=>wy.includes(e)},...Oe(),...Jc()},"VCol"),ky=Ee()({name:"VCol",props:_y(),setup(e,t){let{slots:a}=t;const n=l(()=>{const t=[];let a;for(a in by)by[a].forEach(l=>{const n=e[l],o=xy(a,l,n);o&&t.push(o)});const l=t.some(e=>e.startsWith("v-col-"));return t.push({"v-col":!l||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t});return()=>{var t;return D(e.tag,{class:[n.value,e.class],style:e.style},null==(t=a.default)?void 0:t.call(a))}}}),Sy=["start","end","center"],Cy=["space-between","space-around","space-evenly"];function Iy(e,t){return Pt.reduce((a,l)=>(a[e+X(l)]=t(),a),{})}const Ey=[...Sy,"baseline","stretch"],Ty=e=>Ey.includes(e),Ny=Iy("align",()=>({type:String,default:null,validator:Ty})),My=[...Sy,...Cy],Ay=e=>My.includes(e),Oy=Iy("justify",()=>({type:String,default:null,validator:Ay})),Py=[...Sy,...Cy,"stretch"],Fy=e=>Py.includes(e),Ly=Iy("alignContent",()=>({type:String,default:null,validator:Fy})),Dy={align:Object.keys(Ny),justify:Object.keys(Oy),alignContent:Object.keys(Ly)},Vy={align:"align",justify:"justify",alignContent:"align-content"};function By(e,t,a){let l=Vy[e];if(null!=a)return t&&(l+=`-${t.replace(e,"")}`),l+=`-${a}`,l.toLowerCase()}const $y=xe({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ty},...Ny,justify:{type:String,default:null,validator:Ay},...Oy,alignContent:{type:String,default:null,validator:Fy},...Ly,...Oe(),...Jc()},"VRow"),Ry=Ee()({name:"VRow",props:$y(),setup(e,t){let{slots:a}=t;const n=l(()=>{const t=[];let a;for(a in Dy)Dy[a].forEach(l=>{const n=e[l],o=By(a,l,n);o&&t.push(o)});return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t});return()=>{var t;return D(e.tag,{class:["v-row",n.value,e.class],style:e.style},null==(t=a.default)?void 0:t.call(a))}}}),zy=Ot("v-spacer","div","VSpacer"),Uy=Symbol.for("vuetify:list");function qy(){let{filterable:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filterable:!1};const t=v(Uy,{filterable:!1,hasPrepend:k(!1),updateHasPrepend:()=>null}),a={filterable:t.filterable||e,hasPrepend:k(!1),updateHasPrepend:e=>{e&&(a.hasPrepend.value=e)}};return m(Uy,a),t}function Hy(){return v(Uy,null)}const jy=e=>{const t={activate:t=>{let{id:a,value:l,activated:n}=t;return a=F(a),e&&!l&&1===n.size&&n.has(a)||(l?n.add(a):n.delete(a)),n},in:(e,a,l)=>{let n=new Set;if(null!=e)for(const o of De(e))n=t.activate({id:o,value:!0,activated:new Set(n),children:a,parents:l});return n},out:e=>Array.from(e)};return t},Wy=e=>{const t=jy(e);return{activate:e=>{let{activated:a,id:l,...n}=e;l=F(l);const o=a.has(l)?new Set([l]):new Set;return t.activate({...n,id:l,activated:o})},in:(e,a,l)=>{let n=new Set;if(null!=e){const o=De(e);o.length&&(n=t.in(o.slice(0,1),a,l))}return n},out:(e,a,l)=>t.out(e,a,l)}},Yy={open:e=>{let{id:t,value:a,opened:l,parents:n}=e;if(a){const e=new Set;e.add(t);let a=n.get(t);for(;null!=a;)e.add(a),a=n.get(a);return e}return l.delete(t),l},select:()=>null},Gy={open:e=>{let{id:t,value:a,opened:l,parents:n}=e;if(a){let e=n.get(t);for(l.add(t);null!=e&&e!==t;)l.add(e),e=n.get(e);return l}return l.delete(t),l},select:()=>null},Ky={open:Gy.open,select:e=>{let{id:t,value:a,opened:l,parents:n}=e;if(!a)return l;const o=[];let s=n.get(t);for(;null!=s;)o.push(s),s=n.get(s);return new Set(o)}},Xy=e=>{const t={select:t=>{let{id:a,value:l,selected:n}=t;if(a=F(a),e&&!l){const e=Array.from(n.entries()).reduce((e,t)=>{let[a,l]=t;return"on"===l&&e.push(a),e},[]);if(1===e.length&&e[0]===a)return n}return n.set(a,l?"on":"off"),n},in:(e,a,l,n)=>{const o=new Map;for(const s of e||[])t.select({id:s,value:!0,selected:o,children:a,parents:l,disabled:n});return o},out:e=>{const t=[];for(const[a,l]of e.entries())"on"===l&&t.push(a);return t}};return t},Jy=e=>{const t=Xy(e);return{select:e=>{let{selected:a,id:l,...n}=e;l=F(l);const o=a.has(l)?new Map([[l,a.get(l)]]):new Map;return t.select({...n,id:l,selected:o})},in:(e,a,l,n)=>(null==e?void 0:e.length)?t.in(e.slice(0,1),a,l,n):new Map,out:(e,a,l)=>t.out(e,a,l)}},Qy=e=>{const t={select:t=>{let{id:a,value:l,selected:n,children:o,parents:s,disabled:i}=t;a=F(a);const r=new Map(n),u=[a];for(;u.length;){const e=u.shift();i.has(e)||n.set(F(e),l?"on":"off"),o.has(e)&&u.push(...o.get(e))}let d=F(s.get(a));for(;d;){let e=!0,t=!0;for(const a of o.get(d)){const l=F(a);if(!i.has(l)&&("on"!==n.get(l)&&(e=!1),n.has(l)&&"off"!==n.get(l)&&(t=!1),!e&&!t))break}n.set(d,e?"on":t?"off":"indeterminate"),d=F(s.get(d))}return e&&!l&&0===Array.from(n.entries()).reduce((e,t)=>{let[a,l]=t;return"on"===l&&e.push(a),e},[]).length?r:n},in:(e,a,l,n)=>{let o=new Map;for(const s of e||[])o=t.select({id:s,value:!0,selected:o,children:a,parents:l,disabled:n});return o},out:(e,t)=>{const a=[];for(const[l,n]of e.entries())"on"!==n||t.has(l)||a.push(l);return a}};return t},Zy=Symbol.for("vuetify:nested"),eb={id:k(),root:{register:()=>null,unregister:()=>null,children:a(new Map),parents:a(new Map),disabled:a(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:a(!1),selectable:a(!1),opened:a(new Set),activated:a(new Set),selected:a(new Map),selectedValues:a([]),getPath:()=>[]}},tb=xe({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ab=e=>{let t=!1;const a=k(new Map),o=k(new Map),s=k(new Set),i=Fe(e,"opened",e.opened,e=>new Set(Array.isArray(e)?e.map(e=>F(e)):e),e=>[...e.values()]),r=l(()=>{if("object"==typeof e.activeStrategy)return e.activeStrategy;if("function"==typeof e.activeStrategy)return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return(e=>{const t=jy(e);return{activate:e=>{let{id:a,activated:l,children:n,...o}=e;return a=F(a),n.has(a)?l:t.activate({id:a,activated:l,children:n,...o})},in:t.in,out:t.out}})(e.mandatory);case"single-leaf":return(e=>{const t=Wy(e);return{activate:e=>{let{id:a,activated:l,children:n,...o}=e;return a=F(a),n.has(a)?l:t.activate({id:a,activated:l,children:n,...o})},in:t.in,out:t.out}})(e.mandatory);case"independent":return jy(e.mandatory);default:return Wy(e.mandatory)}}),u=l(()=>{if("object"==typeof e.selectStrategy)return e.selectStrategy;if("function"==typeof e.selectStrategy)return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return(e=>{const t=Jy(e);return{select:e=>{let{id:a,selected:l,children:n,...o}=e;return a=F(a),n.has(a)?l:t.select({id:a,selected:l,children:n,...o})},in:t.in,out:t.out}})(e.mandatory);case"leaf":return(e=>{const t=Xy(e);return{select:e=>{let{id:a,selected:l,children:n,...o}=e;return a=F(a),n.has(a)?l:t.select({id:a,selected:l,children:n,...o})},in:t.in,out:t.out}})(e.mandatory);case"independent":return Xy(e.mandatory);case"single-independent":return Jy(e.mandatory);case"trunk":return(e=>{const t=Qy(e);return{select:t.select,in:t.in,out:(e,t,a)=>{const l=[];for(const[n,o]of e.entries())if("on"===o){if(a.has(n)){const t=a.get(n);if("on"===e.get(t))continue}l.push(n)}return l}}})(e.mandatory);default:return Qy(e.mandatory)}}),d=l(()=>{if("object"==typeof e.openStrategy)return e.openStrategy;switch(e.openStrategy){case"list":return Ky;case"single":return Yy;default:return Gy}}),c=Fe(e,"activated",e.activated,e=>r.value.in(e,a.value,o.value),e=>r.value.out(e,a.value,o.value)),p=Fe(e,"selected",e.selected,e=>u.value.in(e,a.value,o.value,s.value),e=>u.value.out(e,a.value,o.value));function v(e){const t=[];let a=F(e);for(;void 0!==a;)t.unshift(a),a=o.value.get(a);return t}h(()=>{t=!0});const f=Pe("nested"),g=new Set,y={id:k(),root:{opened:i,activatable:n(()=>e.activatable),selectable:n(()=>e.selectable),activated:c,selected:p,selectedValues:l(()=>{const e=[];for(const[t,a]of p.value.entries())"on"===a&&e.push(t);return e}),register:(e,t,l,n)=>{if(g.has(e))return v(e).map(String).join(" -> "),void v(t).concat(e).map(String).join(" -> ");g.add(e),t&&e!==t&&o.value.set(e,t),l&&s.value.add(e),n&&a.value.set(e,[]),null!=t&&a.value.set(t,[...a.value.get(t)||[],e])},unregister:e=>{if(t)return;g.delete(e),a.value.delete(e),s.value.delete(e);const l=o.value.get(e);if(l){const t=a.value.get(l)??[];a.value.set(l,t.filter(t=>t!==e))}o.value.delete(e)},open:(e,t,l)=>{f.emit("click:open",{id:e,value:t,path:v(e),event:l});const n=d.value.open({id:e,value:t,opened:new Set(i.value),children:a.value,parents:o.value,event:l});n&&(i.value=n)},openOnSelect:(e,t,l)=>{const n=d.value.select({id:e,value:t,selected:new Map(p.value),opened:new Set(i.value),children:a.value,parents:o.value,event:l});n&&(i.value=n)},select:(e,t,l)=>{f.emit("click:select",{id:e,value:t,path:v(e),event:l});const n=u.value.select({id:e,value:t,selected:new Map(p.value),children:a.value,parents:o.value,disabled:s.value,event:l});n&&(p.value=n),y.root.openOnSelect(e,t,l)},activate:(t,l,n)=>{if(!e.activatable)return y.root.select(t,!0,n);f.emit("click:activate",{id:t,value:l,path:v(t),event:n});const s=r.value.activate({id:t,value:l,activated:new Set(c.value),children:a.value,parents:o.value,event:n});if(s.size!==c.value.size)c.value=s;else{for(const e of s)if(!c.value.has(e))return void(c.value=s);for(const e of c.value)if(!s.has(e))return void(c.value=s)}},children:a,parents:o,disabled:s,getPath:v}};return m(Zy,y),y.root},lb=(e,t,a)=>{const n=v(Zy,eb),o=Symbol("nested item"),i=l(()=>{const t=F(s(e));return void 0!==t?t:o}),r={...n,id:i,open:(e,t)=>n.root.open(i.value,e,t),openOnSelect:(e,t)=>n.root.openOnSelect(i.value,e,t),isOpen:l(()=>n.root.opened.value.has(i.value)),parent:l(()=>n.root.parents.value.get(i.value)),activate:(e,t)=>n.root.activate(i.value,e,t),isActivated:l(()=>n.root.activated.value.has(i.value)),select:(e,t)=>n.root.select(i.value,e,t),isSelected:l(()=>"on"===n.root.selected.value.get(i.value)),isIndeterminate:l(()=>"indeterminate"===n.root.selected.value.get(i.value)),isLeaf:l(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return K(()=>{n.isGroupActivator||N(()=>{n.root.register(i.value,n.id.value,s(t),a)})}),h(()=>{n.isGroupActivator||n.root.unregister(i.value)}),f(i,(e,l)=>{n.isGroupActivator||(n.root.unregister(l),N(()=>{n.root.register(e,n.id.value,s(t),a)}))}),a&&m(Zy,r),r},nb=Ft({name:"VListGroupActivator",setup(e,t){let{slots:a}=t;return(()=>{const e=v(Zy,eb);m(Zy,{...e,isGroupActivator:!0})})(),()=>{var e;return null==(e=a.default)?void 0:e.call(a)}}}),ob=xe({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ue,default:"$collapse"},disabled:Boolean,expandIcon:{type:Ue,default:"$expand"},rawId:[String,Number],prependIcon:Ue,appendIcon:Ue,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Oe(),...Jc()},"VListGroup"),sb=Ee()({name:"VListGroup",props:ob(),setup(e,t){let{slots:a}=t;const{isOpen:n,open:o,id:s}=lb(()=>e.value,()=>e.disabled,!0),u=l(()=>`v-list-group--id-${String(e.rawId??s.value)}`),p=Hy(),{isBooted:m}=Yg();function v(e){var t;["INPUT","TEXTAREA"].includes(null==(t=e.target)?void 0:t.tagName)||o(!n.value,e)}const h=l(()=>({onClick:v,class:"v-list-group__header",id:u.value})),f=l(()=>n.value?e.collapseIcon:e.expandIcon),g=l(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Me(()=>d(e.tag,{class:r(["v-list-group",{"v-list-group--prepend":null==p?void 0:p.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":n.value},e.class]),style:c(e.style)},{default:()=>[a.activator&&d(fp,{defaults:g.value},{default:()=>[d(nb,null,{default:()=>[a.activator({props:h.value,isOpen:n.value})]})]}),d(Lm,{transition:{component:Lg},disabled:!m.value},{default:()=>{var e;return[M(i("div",{class:"v-list-group__items",role:"group","aria-labelledby":u.value},[null==(e=a.default)?void 0:e.call(a)]),[[V,n.value]])]}})]})),{isOpen:n}}}),ib=xe({opacity:[Number,String],...Oe(),...Jc()},"VListItemSubtitle"),rb=Ee()({name:"VListItemSubtitle",props:ib(),setup(e,t){let{slots:a}=t;return Me(()=>d(e.tag,{class:r(["v-list-item-subtitle",e.class]),style:c([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},a)),{}}}),ub=Ot("v-list-item-title"),db=xe({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ue,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ue,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Lt(),onClickOnce:Lt(),...Uc(),...Oe(),...jc(),...Cp(),...Yc(),...Kc(),...zp(),...Jc(),...Ae(),...lp({variant:"text"})},"VListItem"),cb=Ee()({name:"VListItem",directives:{vRipple:om},props:db(),emits:{click:e=>!0},setup(e,t){let{attrs:a,slots:o,emit:s}=t;const r=Rp(e,a),c=l(()=>void 0===e.value?r.href.value:e.value),{activate:p,isActivated:m,select:v,isOpen:h,isSelected:g,isIndeterminate:y,isGroupActivator:b,root:x,parent:_,openOnSelect:k,id:S}=lb(c,()=>e.disabled,!1),C=Hy(),I=l(()=>{var t;return!1!==e.active&&(e.active||(null==(t=r.isActive)?void 0:t.value)||(x.activatable.value?m.value:g.value))}),E=n(()=>!1!==e.link&&r.isLink.value),T=l(()=>!!C&&(x.selectable.value||x.activatable.value||null!=e.value)),O=l(()=>!e.disabled&&!1!==e.link&&(e.link||r.isClickable.value||T.value)),P=l(()=>C?E.value?"link":T.value?"option":"listitem":void 0),F=l(()=>{if(T.value)return x.activatable.value?m.value:x.selectable.value?g.value:I.value}),L=n(()=>e.rounded||e.nav),D=n(()=>e.color??e.activeColor),V=n(()=>({color:I.value?D.value??e.baseColor:e.baseColor,variant:e.variant}));function B(){null!=_.value&&x.open(_.value,!0),k(!0)}f(()=>{var e;return null==(e=r.isActive)?void 0:e.value},e=>{e&&B()}),K(()=>{var e;(null==(e=r.isActive)?void 0:e.value)&&N(()=>B())});const{themeClasses:$}=Te(e),{borderClasses:R}=qc(e),{colorClasses:z,colorStyles:U,variantClasses:q}=np(V),{densityClasses:H}=Wc(e),{dimensionStyles:j}=Ip(e),{elevationClasses:W}=Gc(e),{roundedClasses:Y}=Xc(L),G=n(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),X=n(()=>void 0!==e.ripple&&e.ripple&&(null==C?void 0:C.filterable)?{keys:["Enter"]}:e.ripple),J=l(()=>({isActive:I.value,select:v,isOpen:h.value,isSelected:g.value,isIndeterminate:y.value}));function Q(t){var a,l;s("click",t),["INPUT","TEXTAREA"].includes(null==(a=t.target)?void 0:a.tagName)||O.value&&(null==(l=r.navigate)||l.call(r,t),b||(x.activatable.value?p(!m.value,t):x.selectable.value?v(!g.value,t):null==e.value||E.value||v(!g.value,t)))}function Z(e){const t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||("Enter"===e.key||" "===e.key&&!(null==C?void 0:C.filterable))&&(e.preventDefault(),e.stopPropagation(),e.target.dispatchEvent(new MouseEvent("click",e)))}return Me(()=>{const t=E.value?"a":e.tag,a=o.title||null!=e.title,l=o.subtitle||null!=e.subtitle,n=!(!e.appendAvatar&&!e.appendIcon),s=!(!n&&!o.append),c=!(!e.prependAvatar&&!e.prependIcon),p=!(!c&&!o.prepend);return null==C||C.updateHasPrepend(p),e.activeColor&&Dt("active-color",["color","base-color"]),M(d(t,w(r.linkProps,{class:["v-list-item",{"v-list-item--active":I.value,"v-list-item--disabled":e.disabled,"v-list-item--link":O.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!p&&(null==C?void 0:C.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&I.value},$.value,R.value,z.value,H.value,W.value,G.value,Y.value,q.value,e.class],style:[U.value,j.value,e.style],tabindex:O.value?C?-2:0:void 0,"aria-selected":F.value,role:P.value,onClick:Q,onKeydown:O.value&&!E.value&&Z}),{default:()=>{var t;return[ap(O.value||I.value,"v-list-item"),p&&i("div",{key:"prepend",class:"v-list-item__prepend"},[o.prepend?d(fp,{key:"prepend-defaults",disabled:!c,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var e;return[null==(e=o.prepend)?void 0:e.call(o,J.value)]}}):i(u,null,[e.prependAvatar&&d(oy,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&d(wp,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),i("div",{class:"v-list-item__spacer"},null)]),i("div",{class:"v-list-item__content","data-no-activator":""},[a&&d(ub,{key:"title"},{default:()=>{var t;return[(null==(t=o.title)?void 0:t.call(o,{title:e.title}))??A(e.title)]}}),l&&d(rb,{key:"subtitle"},{default:()=>{var t;return[(null==(t=o.subtitle)?void 0:t.call(o,{subtitle:e.subtitle}))??A(e.subtitle)]}}),null==(t=o.default)?void 0:t.call(o,J.value)]),s&&i("div",{key:"append",class:"v-list-item__append"},[o.append?d(fp,{key:"append-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var e;return[null==(e=o.append)?void 0:e.call(o,J.value)]}}):i(u,null,[e.appendIcon&&d(wp,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&d(oy,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),i("div",{class:"v-list-item__spacer"},null)])]}}),[[om,O.value&&X.value]])}),{activate:p,isActivated:m,isGroupActivator:b,isSelected:g,list:C,select:v,root:x,id:S,link:r}}}),pb=xe({color:String,inset:Boolean,sticky:Boolean,title:String,...Oe(),...Jc()},"VListSubheader"),mb=Ee()({name:"VListSubheader",props:pb(),setup(e,t){let{slots:a}=t;const{textColorClasses:l,textColorStyles:n}=Zc(()=>e.color);return Me(()=>{const t=!(!a.default&&!e.title);return d(e.tag,{class:r(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},l.value,e.class]),style:c([{textColorStyles:n},e.style])},{default:()=>{var l;return[t&&i("div",{class:"v-list-subheader__text"},[(null==(l=a.default)?void 0:l.call(a))??e.title])]}})}),{}}}),vb=xe({items:Array,returnObject:Boolean},"VListChildren"),hb=Ee()({name:"VListChildren",props:vb(),setup(e,t){let{slots:a}=t;return qy(),()=>{var t,l;return(null==(t=a.default)?void 0:t.call(a))??(null==(l=e.items)?void 0:l.map(t=>{var l,n;let{children:o,props:s,type:i,raw:r}=t;if("divider"===i)return(null==(l=a.divider)?void 0:l.call(a,{props:s}))??d(my,s,null);if("subheader"===i)return(null==(n=a.subheader)?void 0:n.call(a,{props:s}))??d(mb,s,null);const u={subtitle:a.subtitle?e=>{var t;return null==(t=a.subtitle)?void 0:t.call(a,{...e,item:r})}:void 0,prepend:a.prepend?e=>{var t;return null==(t=a.prepend)?void 0:t.call(a,{...e,item:r})}:void 0,append:a.append?e=>{var t;return null==(t=a.append)?void 0:t.call(a,{...e,item:r})}:void 0,title:a.title?e=>{var t;return null==(t=a.title)?void 0:t.call(a,{...e,item:r})}:void 0},c=sb.filterProps(s);return o?d(sb,w(c,{value:e.returnObject?r:null==s?void 0:s.value,rawId:null==s?void 0:s.value}),{activator:t=>{let{props:l}=t;const n=w(s,l,{value:e.returnObject?r:s.value});return a.header?a.header({props:n}):d(cb,n,u)},default:()=>d(hb,{items:o,returnObject:e.returnObject},a)}):a.item?a.item({props:s}):d(cb,w(s,{value:e.returnObject?r:s.value}),u)}))}}}),fb=xe({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),gb=new Set(["item","divider","subheader"]);function yb(e,t){const a=Bt(t,e.itemTitle,t),l=Bt(t,e.itemValue,a),n=Bt(t,e.itemChildren),o=!0===e.itemProps?"object"!=typeof t||null==t||Array.isArray(t)?void 0:"children"in t?Ct(t,["children"]):t:Bt(t,e.itemProps);let s=Bt(t,e.itemType,"item");gb.has(s)||(s="item");const i={title:a,value:l,...o};return{type:s,title:String(i.title??""),value:i.value,props:i,children:"item"===s&&Array.isArray(n)?bb(e,n):void 0,raw:t}}function bb(e,t){const a=Vt(e,yb.neededProps),l=[];for(const n of t)l.push(yb(a,n));return l}function xb(e){const t=l(()=>bb(e,e.items)),a=l(()=>t.value.some(e=>null===e.value)),n=k(new Map),o=k([]);return I(()=>{const e=t.value,a=new Map,l=[];for(let t=0;t<e.length;t++){const n=e[t];if($t(n.value)||null===n.value){let e=a.get(n.value);e||(e=[],a.set(n.value,e)),e.push(n)}else l.push(n)}n.value=a,o.value=l}),{items:t,transformIn:function(l){const s=n.value,i=t.value,r=o.value,u=a.value,d=e.returnObject,c=!!e.valueComparator,p=e.valueComparator||Le,m=Vt(e,yb.neededProps),v=[];e:for(const e of l){if(!u&&null===e)continue;if(d&&"string"==typeof e){v.push(yb(m,e));continue}const t=s.get(e);if(!c&&t)v.push(...t);else{for(const t of c?i:r)if(p(e,t.value)){v.push(t);continue e}v.push(yb(m,e))}}return v},transformOut:function(t){return e.returnObject?t.map(e=>{let{raw:t}=e;return t}):t.map(e=>{let{value:t}=e;return t})}}}yb.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];const wb=new Set(["item","divider","subheader"]);function _b(e,t){const a=$t(t)?t:Bt(t,e.itemTitle),l=$t(t)?t:Bt(t,e.itemValue,void 0),n=Bt(t,e.itemChildren),o=!0===e.itemProps?Ct(t,["children"]):Bt(t,e.itemProps);let s=Bt(t,e.itemType,"item");wb.has(s)||(s="item");const i={title:a,value:l,...o};return{type:s,title:i.title,value:i.value,props:i,children:"item"===s&&n?kb(e,n):void 0,raw:t}}function kb(e,t){const a=[];for(const l of t)a.push(_b(e,l));return a}function Sb(e){return{items:l(()=>kb(e,e.items))}}const Cb=xe({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:Ue,collapseIcon:Ue,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Lt(),"onClick:select":Lt(),"onUpdate:opened":Lt(),...tb({selectStrategy:"single-leaf",openStrategy:"list"}),...Uc(),...Oe(),...jc(),...Cp(),...Yc(),...fb(),...Kc(),...Jc(),...Ae(),...lp({variant:"text"})},"VList"),Ib=Ee()({name:"VList",props:Cb(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:l}=t;const{items:o}=Sb(e),{themeClasses:s}=Te(e),{backgroundColorClasses:i,backgroundColorStyles:u}=ep(()=>e.bgColor),{borderClasses:p}=qc(e),{densityClasses:m}=Wc(e),{dimensionStyles:v}=Ip(e),{elevationClasses:h}=Gc(e),{roundedClasses:f}=Xc(e),{children:g,open:y,parents:b,select:x,getPath:w}=ab(e),_=n(()=>e.lines?`v-list--${e.lines}-line`:void 0),S=n(()=>e.activeColor),C=n(()=>e.baseColor),I=n(()=>e.color),E=n(()=>e.selectable||e.activatable);qy({filterable:e.filterable}),Ne({VListGroup:{activeColor:S,baseColor:C,color:I,expandIcon:n(()=>e.expandIcon),collapseIcon:n(()=>e.collapseIcon)},VListItem:{activeClass:n(()=>e.activeClass),activeColor:S,baseColor:C,color:I,density:n(()=>e.density),disabled:n(()=>e.disabled),lines:n(()=>e.lines),nav:n(()=>e.nav),slim:n(()=>e.slim),variant:n(()=>e.variant)}});const T=k(!1),N=a();function M(e){T.value=!0}function A(e){T.value=!1}function O(e){var t;T.value||e.relatedTarget&&(null==(t=N.value)?void 0:t.contains(e.relatedTarget))||L()}function P(e){const t=e.target;if(N.value&&("INPUT"!==t.tagName||!["Home","End"].includes(e.key))&&"TEXTAREA"!==t.tagName){if("ArrowDown"===e.key)L("next");else if("ArrowUp"===e.key)L("prev");else if("Home"===e.key)L("first");else{if("End"!==e.key)return;L("last")}e.preventDefault()}}function F(e){T.value=!0}function L(e){if(N.value)return Rt(N.value,e)}return Me(()=>d(e.tag,{ref:N,class:r(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,i.value,p.value,m.value,h.value,_.value,f.value,e.class]),style:c([u.value,v.value,e.style]),tabindex:e.disabled?-1:0,role:E.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:M,onFocusout:A,onFocus:O,onKeydown:P,onMousedown:F},{default:()=>[d(hb,{items:o.value,returnObject:e.returnObject},l)]})),{open:y,select:x,focus:L,children:g,parents:b,getPath:w}}}),Eb=Ot("v-list-img"),Tb=xe({start:Boolean,end:Boolean,...Oe(),...Jc()},"VListItemAction"),Nb=Ee()({name:"VListItemAction",props:Tb(),setup(e,t){let{slots:a}=t;return Me(()=>d(e.tag,{class:r(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:c(e.style)},a)),{}}}),Mb=xe({start:Boolean,end:Boolean,...Oe(),...Jc()},"VListItemMedia"),Ab=Ee()({name:"VListItemMedia",props:Mb(),setup(e,t){let{slots:a}=t;return Me(()=>d(e.tag,{class:r(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:c(e.style)},a)),{}}}),Ob=xe({id:String,submenu:Boolean,disableInitialFocus:Boolean,...Ct(Um({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:bg}}),["absolute"])},"VMenu"),Pb=Ee()({name:"VMenu",props:Ob(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const s=Fe(e,"modelValue"),{scopeId:i}=Am(),{isRtl:r}=Ge(),u=p(),c=n(()=>e.id||`v-menu-${u}`),g=a(),y=v(_m,null),b=k(new Set);m(_m,{register(){b.value.add(u)},unregister(){b.value.delete(u)},closeParents(t){setTimeout(()=>{var a;b.value.size||e.persistent||null!=t&&(!(null==(a=g.value)?void 0:a.contentEl)||qt(t,g.value.contentEl))||(s.value=!1,null==y||y.closeParents())},40)}}),h(()=>{null==y||y.unregister(),document.removeEventListener("focusin",C)}),J(()=>s.value=!1);let x=!1,_=-1;async function S(){x=!0,_=window.setTimeout(()=>{x=!1},100)}async function C(t){var a,l,n,o;const i=t.relatedTarget,r=t.target;await N(),s.value&&i!==r&&(null==(a=g.value)?void 0:a.contentEl)&&(null==(l=g.value)?void 0:l.localTop)&&![document,g.value.contentEl].includes(r)&&!g.value.contentEl.contains(r)&&(x?e.openOnHover||(null==(n=g.value.activatorEl)?void 0:n.contains(r))||(s.value=!1):(null==(o=zt(g.value.contentEl)[0])||o.focus(),document.removeEventListener("pointerdown",S)))}function I(e){null==y||y.closeParents(e)}function E(t){var a,l,n,o,i;if(!e.disabled)if("Tab"===t.key||"Enter"===t.key&&!e.closeOnContentClick){if("Enter"===t.key&&(t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLInputElement&&t.target.closest("form")))return;"Enter"===t.key&&t.preventDefault(),Ut(zt(null==(a=g.value)?void 0:a.contentEl,!1),t.shiftKey?"prev":"next",e=>e.tabIndex>=0)||(s.value=!1,null==(n=null==(l=g.value)?void 0:l.activatorEl)||n.focus())}else e.submenu&&t.key===(r.value?"ArrowRight":"ArrowLeft")&&(s.value=!1,null==(i=null==(o=g.value)?void 0:o.activatorEl)||i.focus())}function T(t){var a;if(e.disabled)return;const l=null==(a=g.value)?void 0:a.contentEl;l&&s.value?"ArrowDown"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),Rt(l,"next")):"ArrowUp"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),Rt(l,"prev")):e.submenu&&(t.key===(r.value?"ArrowRight":"ArrowLeft")?s.value=!1:t.key===(r.value?"ArrowLeft":"ArrowRight")&&(t.preventDefault(),Rt(l,"first"))):(e.submenu?t.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(t.key))&&(s.value=!0,t.preventDefault(),setTimeout(()=>setTimeout(()=>T(t))))}f(s,t=>{t?(null==y||y.register(),Qe&&!e.disableInitialFocus&&(document.addEventListener("pointerdown",S),document.addEventListener("focusin",C,{once:!0}))):(null==y||y.unregister(),Qe&&(clearTimeout(_),document.removeEventListener("pointerdown",S),document.removeEventListener("focusin",C)))},{immediate:!0});const M=l(()=>w({"aria-haspopup":"menu","aria-expanded":String(s.value),"aria-controls":c.value,onKeydown:T},e.activatorProps));return Me(()=>{const t=qm.filterProps(e);return d(qm,w({ref:g,id:c.value,class:["v-menu",e.class],style:e.style},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,absolute:!0,activatorProps:M.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":I,onKeydown:E},i),{activator:o.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return d(fp,{root:"VMenu"},{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o,...t)]}})}})}),Wm({id:c,"ΨopenChildren":b},g)}}),Fb=xe({id:String,interactive:Boolean,text:String,...Ct(Um({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Lb=Ee()({name:"VTooltip",props:Fb(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const s=Fe(e,"modelValue"),{scopeId:i}=Am(),r=p(),u=n(()=>e.id||`v-tooltip-${r}`),c=a(),m=l(()=>e.location.split(" ").length>1?e.location:e.location+" center"),v=l(()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),h=n(()=>null!=e.transition?e.transition:s.value?"scale-transition":"fade-transition"),f=l(()=>w({"aria-describedby":u.value},e.activatorProps));return Me(()=>{const t=qm.filterProps(e);return d(qm,w({ref:c,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:u.value},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,transition:h.value,absolute:!0,location:m.value,origin:v.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},i),{activator:o.activator,default:function(){for(var t,a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return(null==(t=o.default)?void 0:t.call(o,...l))??e.text}})}),Wm({},c)}}),Db=["src"],Vb={"active-class":"font-weight-bold",class:"menu-text-sty"},Bb=["src"],$b={class:"font-weight-medium fs-14"},Rb={class:"title font-weight-bold"},zb=["src"],Ub=["src"],qb=["src"],Hb=["src"],jb=["src"],Wb=["src"],Yb=["src"],Gb=["src"],Kb={width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Xb=["fill"],Jb={class:"mx-auto"},Qb={class:"white--text font-weight-bold fs-14"},Zb=["innerHTML"],ex=zc({__name:"AppBar",setup(e){const t=Y(),n=Q(),o=Rc(),s=Qa(),c=Jm(),p=Pte();let m=null;const v=a(!1),h=a(!1),g=e=>{var t,a,l;console.log("🔵 User ID/Client ID clicked:",{uid:o.uid,clientId:null==(t=o.clientdata)?void 0:t.CLIENT_ID,clientName:null==(a=o.clientdata)?void 0:a.CLIENT_NAME,displayedValue:(null==(l=o.clientdata)?void 0:l.CLIENT_ID)||o.uid||"-",timestamp:(new Date).toISOString()}),v.value=!0,h.value=!0,setTimeout(()=>{v.value=!1},3e3)},b=l(()=>{var e;const t=o.useris(),a=!(!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&!o.uid);return t&&a}),_=l(()=>"/positions"===n.path),k=l(()=>"/holdings"===n.path),S=l(()=>n.path.startsWith("/orders")),C=l(()=>"/funds"===n.path),I=l(()=>"/notification"===n.path),E=l(()=>"/stocks"===n.path||n.path.startsWith("/stocks/")),T=l(()=>"/mutualfund"===n.path||n.path.startsWith("/mutualfund/")),N=l(()=>"/ipo"===n.path||n.path.startsWith("/ipo/")),O=l(()=>"/bonds"===n.path||n.path.startsWith("/bonds/")),P=l(()=>"/collection"===n.path||n.path.startsWith("/collection/")),F=e=>"/stocks"===e?E.value:"/mutualfund"===e?T.value:"/ipo"===e?N.value:"/bonds"===e?O.value:"/collection"===e&&P.value,L=a([{txt:"Stocks",path:"/stocks",idx:0},{txt:"Mutual Fund",path:"/mutualfund",idx:1},{txt:"IPOs",path:"/ipo",idx:2},{txt:"Bonds",path:"/bonds",idx:3},{txt:"OptionZ",path:"/optionz",idx:5}]),D=async e=>{var t,a,l;console.log("📥 AppBar: Getting user data..."),console.log("📥 Parameters being sent:",{data:e,uid:o.uid,token:o.token?"***":"undefined"});const n=localStorage.getItem("profile_data");console.log("📦 Cached profile_data:",n?"Exists":"None");let s=n||await nae([e,o.uid,o.token]);if(s=(null==(t=null==s?void 0:s.includes)?void 0:t.call(s,"str"))?JSON.parse(s):s,console.log("🔍 Config after parse:",s),console.log("🔍 config.emsg:",null==s?void 0:s.emsg),console.log("🔍 config.str:",(null==s?void 0:s.str)?"Exists":"Missing"),(null==s?void 0:s.str)&&"invalid token"!==s.emsg){const e=JSON.parse((e=>{const t=e,a=Uh.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),l=Uh.enc.Utf8.parse("3790514682037125"),n=t;return Uh.AES.decrypt(n,a,{iv:l,mode:Uh.mode.CBC}).toString(Uh.enc.Utf8)})(s.str));console.log("✅ User data decrypted:",e),console.log("📋 client_data:",null==e?void 0:e.client_data),(null==e?void 0:e.client_data)?(console.log("✅ Setting clientdata with:",e.client_data),o.setClientdata(e.client_data),o.setUserdata(e),s.uid=o.uid,localStorage.setItem("profile_data",JSON.stringify(s)),localStorage.setItem("client_data",JSON.stringify({uid:o.uid,data:e.client_data})),console.log("✅ User data set in authStore"),console.log("✅ clientdata.CLIENT_NAME:",null==(a=o.clientdata)?void 0:a.CLIENT_NAME),console.log("✅ clientdata.CLIENT_ID:",null==(l=o.clientdata)?void 0:l.CLIENT_ID)):(o.setUserdata(null),o.setClientdata({}),localStorage.removeItem("client_data"),console.log("⚠️ No client_data in response"))}else console.log("⚠️ No valid profile data");console.log("✅ Setting loading to false"),o.setLoading(!1)},B=()=>{c.triggerLogin()},j=async()=>{var e,t;console.log("🔍 AppBar: Checking user session...");let a=sessionStorage.getItem("c3RhdHVz");if(console.log("🔍 Session status:",a),"dmFsaWR1c2Vy"==a)if(console.log("✅ Valid session found, loading user data..."),o.token=sessionStorage.getItem("usession"),o.mtoken=sessionStorage.getItem("msession"),o.uid=sessionStorage.getItem("userid"),!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&o.uid){let e=(e=>{const t=e;var a=Uh.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),l=Uh.enc.Utf8.parse("3790514682037125");return Uh.AES.encrypt(t,a,{iv:l,mode:Uh.mode.CBC}).toString()})(JSON.stringify({client_id:o.uid})),t=JSON.stringify({string:e});await D(t)}else console.log("✅ Clientdata already loaded:",null==(t=o.clientdata)?void 0:t.CLIENT_NAME),o.setLoading(!1);else console.log("❌ No valid session, setting loading to false"),o.setLoading(!1)},G=e=>{s.setConnectionStatus(e)};return y(()=>{o.loadFromSession(),j(),s.checkConnectionSpeed(),navigator.connection&&navigator.connection.addEventListener("change",s.checkConnectionSpeed),window.addEventListener("online",()=>{G(!0)}),window.addEventListener("offline",()=>{G(!1)}),m=setInterval(()=>{var e;"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&o.uid&&!(null==(e=o.clientdata)?void 0:e.CLIENT_ID)&&(console.log("🔔 Session status is valid, checking user session..."),j(),m&&(clearInterval(m),m=null))},500),setTimeout(()=>{m&&(clearInterval(m),m=null)},1e4)}),Z(()=>{navigator.connection&&navigator.connection.removeEventListener("change",s.checkConnectionSpeed),window.removeEventListener("online",()=>{G(!0)}),window.removeEventListener("offline",()=>{G(!1)}),m&&(clearInterval(m),m=null)}),f(()=>o.uid,()=>{o.uid&&setTimeout(()=>{j()},200)}),(e,a)=>{const l=$("v-list-item-content"),n=$("v-list-item-avatar"),c=$("v-list-item-icon");return z(),R("div",null,[d(Kg,{color:"cardbg",width:"100%",permanent:"",class:"cust-appbar"},{default:H(()=>[i("img",{onClick:a[0]||(a[0]=e=>{t.push("/stocks")}),src:e.$vuetify.theme.dark?x(nf):x(lf),width:"80px",alt:"zebulogo",class:"mr-4"},null,8,Db),(z(!0),R(u,null,U(L.value,(e,t)=>(z(),q(im,{to:"/optionz"!=e.path?e.path:"",onClick:t=>(async e=>{if("/optionz"===e.path){if(!o.useris())return void B();const e=await uae();if("Ok"===(null==e?void 0:e.stat)){const t=Uh.enc.Utf8.parse(`sLoginId=${o.uid}&sAccountId=${o.uid}&token=${e.hstk}&sBrokerId=ZEBU`),a=Uh.enc.Base64.stringify(t);window.open(`https://sso.mynt.in/sso?vc=instaoptions&key=${a}`,"_blank")}else s.showSnackbar(2,(null==e?void 0:e.emsg)||e)}})(e),key:t,text:"",variant:"plain",exact:"",class:r(["menu-btn","text-capitalize","d-none","d-sm-flex",{"menu-btn-active":F(e.path)}]),active:F(e.path)},{default:H(()=>[i("span",Vb,A(e.txt),1)]),_:2},1032,["to","onClick","class","active"]))),128)),d(zy),x(o).useris()?(z(),q(Pb,{key:0,"close-on-click":"","offset-y":"","max-width":"240px",class:"table-menu"},{activator:H(({on:e,attrs:t})=>[d(im,w(t,te(e),{text:"",small:"",class:"mx-1 elevation-0 text-none font-weight-medium subtitle-1 d-none d-md-none d-sm-flex px-2"}),{default:H(()=>[a[7]||(a[7]=W(" More ",-1)),d(wp,{class:"ml-1"},{default:H(()=>[...a[6]||(a[6]=[W("mdi-chevron-down",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,null,{default:H(()=>[d(cb,{to:"/positions"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[8]||(a[8]=[W("Positions",-1)])]),_:1})]),_:1})]),_:1}),d(cb,{to:"/holdings"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[9]||(a[9]=[W("Holdings",-1)])]),_:1})]),_:1})]),_:1}),d(my,{class:"mx-3"}),d(cb,{to:"/orders"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[10]||(a[10]=[W("Orders",-1)])]),_:1})]),_:1})]),_:1}),d(cb,{to:"/funds"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[11]||(a[11]=[W("Fund",-1)])]),_:1})]),_:1})]),_:1}),d(cb,{to:"/notification"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[12]||(a[12]=[W("Notification",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):ee("",!0),x(o).useris()?(z(),q(im,{key:1,to:"/positions",text:"",variant:"plain",exact:"",class:r(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":_.value}]),active:_.value},{default:H(()=>[...a[13]||(a[13]=[i("span",{class:"menu-text-sty"},"Positions",-1)])]),_:1},8,["class","active"])):ee("",!0),x(o).useris()?(z(),q(im,{key:2,to:"/holdings",text:"",variant:"plain",exact:"",class:r(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":k.value}]),active:k.value},{default:H(()=>[...a[14]||(a[14]=[i("span",{class:"menu-text-sty"},"Holdings",-1)])]),_:1},8,["class","active"])):ee("",!0),x(o).useris()?(z(),q(im,{key:3,to:"/orders",text:"",variant:"plain",exact:"",class:r(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":S.value}]),active:S.value},{default:H(()=>[...a[15]||(a[15]=[i("span",{class:"menu-text-sty"},"Orders",-1)])]),_:1},8,["class","active"])):ee("",!0),x(o).useris()?(z(),q(im,{key:4,to:"/funds",text:"",variant:"plain",exact:"",class:r(["menu-btn","text-capitalize","d-none","d-md-flex",{"menu-btn-active":C.value}]),active:C.value},{default:H(()=>[...a[16]||(a[16]=[i("span",{class:"menu-text-sty"},"Fund",-1)])]),_:1},8,["class","active"])):ee("",!0),d(Lb,{bottom:"",color:"black"},{activator:H(({on:t,attrs:a})=>[i("div",w(a,te(t,!0)),[x(o).useris()?(z(),q(im,{key:0,to:"/notification",icon:"",small:"",exact:"",class:r(["ml-1","mr-2","d-none","d-md-flex",{"notification-active":I.value}]),active:I.value},{default:H(()=>[i("img",{src:e.$vuetify.theme.dark?x(kf):x(_f)},null,8,Bb)]),_:1},8,["class","active"])):ee("",!0)],16)]),default:H(()=>[a[17]||(a[17]=i("span",null,"Notification",-1))]),_:1}),x(s).showalert&&x(s).showalertmsg.callback?(z(),q(Lb,{key:5,color:"black",bottom:""},{activator:H(({on:e,attrs:t})=>[d(im,w({onClick:a[1]||(a[1]=e=>{window.location.reload()})},t,te(e),{fab:"",color:"warning",small:"",class:"mx-1 elevation-0"}),{default:H(()=>[d(wp,null,{default:H(()=>[...a[18]||(a[18]=[W("mdi-spin mdi-sync-alert",-1)])]),_:1})]),_:1},16)]),default:H(()=>[a[19]||(a[19]=i("span",{class:"warning--text font-weight-bold"},"Session is inactive, Click to refresh",-1))]),_:1})):b.value?(z(),q(Pb,{key:6,"close-on-click":"","offset-y":"",class:"table-menu",modelValue:h.value,"onUpdate:modelValue":a[3]||(a[3]=e=>h.value=e)},{activator:H(({on:e,attrs:t})=>[d(Lb,{bottom:"",color:"black",value:v.value},{activator:H(({on:a,attrs:l})=>[i("div",w(l,te(a,!0)),[d(im,w(t,te(e),{onClick:g,color:"secbg",style:{"background-color":"#F1F3F8 !important",color:"black !important"},small:"",class:"mx-1 elevation-0"}),{default:H(()=>{var e;return[i("span",$b,A((null==(e=x(o).clientdata)?void 0:e.CLIENT_ID)||x(o).uid||"-"),1)]}),_:1},16)],16)]),default:H(()=>{var e,t;return[i("span",null,A((null==(e=x(o).clientdata)?void 0:e.CLIENT_NAME)||(null==(t=x(o).clientdata)?void 0:t.CLIENT_ID)||x(o).uid||"User"),1)]}),_:2},1032,["value"])]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,null,{default:H(()=>[d(cb,{class:"mb-2"},{default:H(()=>[d(n,{color:"secbg"},{default:H(()=>{var e;return[i("span",Rb,A((null==(e=x(o).clientdata)?void 0:e.CLIENT_NAME)?x(o).clientdata.CLIENT_NAME.slice(0,1):"-"),1)]}),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"fs-14 font-weight-bold mb-1"},{default:H(()=>{var e;return[W(A((null==(e=x(o).clientdata)?void 0:e.CLIENT_NAME)?x(o).clientdata.CLIENT_NAME:"-"),1)]}),_:1}),d(rb,{class:"fs-12 subtext--text"},{default:H(()=>{var e;return[W(" User ID "+A((null==(e=x(o).clientdata)?void 0:e.CLIENT_ID)?x(o).clientdata.CLIENT_ID:""),1)]}),_:1})]),_:1})]),_:1}),d(my),d(cb,{href:`https://profile.zebuetrade.com/profile?uid=${x(o).uid}&token=${x(o).token}`,target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"24px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"1d":"1"}.svg`)},null,8,zb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[20]||(a[20]=[W("My Account",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[21]||(a[21]=[W("Profile, Bank, Segment, MTF, Closure, Downloads",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),d(my,{class:"mx-3"}),d(cb,{href:`https://profile.zebuetrade.com/ledger?uid=${x(o).uid}&token=${x(o).token}`,target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"reportsd":"reports"}.svg`)},null,8,Ub)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[22]||(a[22]=[W("Reports",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[23]||(a[23]=[W("Ledger, Holdings, PnL, Tax, Downloads",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),d(my,{class:"mx-3"}),d(cb,{href:`https://profile.zebuetrade.com/corporateaction?uid=${x(o).uid}&token=${x(o).token}`,target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"coad":"coa"}.svg`)},null,8,qb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[24]||(a[24]=[W("Corporation Action",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[25]||(a[25]=[W("Buyback, Delisting, Takeover, OFS",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),d(cb,{href:`https://profile.zebuetrade.com/pledge?uid=${x(o).uid}&token=${x(o).token}`,target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"24px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"pledged":"pledge"}.svg`)},null,8,Hb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[26]||(a[26]=[W("Pledge & Unpledge",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[27]||(a[27]=[W("Stocks held by various accounts",-1)])]),_:1})]),_:1})]),_:1},8,["href"]),d(my,{class:"mx-3"}),d(cb,{href:"https://zebuetrade.com/referral",target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"referald":"referal"}.svg`)},null,8,jb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[28]||(a[28]=[W("Refer",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[29]||(a[29]=[W("Refer your family & friends",-1)])]),_:1})]),_:1})]),_:1}),d(cb,{href:"https://zebuetrade.com/contactus",target:"_blank"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"6d":"6"}.svg`)},null,8,Wb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[30]||(a[30]=[W("Help & Support",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[31]||(a[31]=[W("Sales, Support & Desk",-1)])]),_:1})]),_:1})]),_:1}),d(cb,{to:"/settings"},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"7d":"7"}.svg`)},null,8,Yb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-0"},{default:H(()=>[...a[32]||(a[32]=[W("Setting",-1)])]),_:1}),d(rb,{class:"fs-10 subtext--text"},{default:H(()=>[...a[33]||(a[33]=[W("API key, Change password, Themes, Log",-1)])]),_:1})]),_:1})]),_:1}),d(my,{class:"mx-3"}),d(cb,{onClick:a[2]||(a[2]=e=>(async()=>{await aae([o.uid,o.token]),await Hae(p.source||"WEB"),sessionStorage.removeItem("c3RhdHVz"),s.resetStorage(),o.clearAuth(),window.location.reload()})())},{default:H(()=>[d(c,{class:"mr-3 text-center"},{default:H(()=>[i("img",{width:"22px",class:"pl-1",src:x(dg)(`usermenu/${e.$vuetify.theme.dark?"8d":"8"}.svg`)},null,8,Gb)]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium fs-14"},{default:H(()=>[...a[34]||(a[34]=[W("Logout",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):(z(),q(Lb,{key:7,bottom:"",color:"black"},{activator:H(({on:t,attrs:l})=>[d(im,w({onClick:a[4]||(a[4]=e=>B()),disabled:x(o).useris()},l,te(t),{fab:"",color:"secbg",small:"",class:"mx-1 elevation-0"}),{default:H(()=>[(z(),R("svg",Kb,[i("path",{d:"M19 7.5C19 9.70914 17.2091 11.5 15 11.5V13.5C18.3137 13.5 21 10.8137 21 7.5H19ZM15 11.5C12.7909 11.5 11 9.70914 11 7.5H9C9 10.8137 11.6863 13.5 15 13.5V11.5ZM11 7.5C11 5.29086 12.7909 3.5 15 3.5V1.5C11.6863 1.5 9 4.18629 9 7.5H11ZM15 3.5C17.2091 3.5 19 5.29086 19 7.5H21C21 4.18629 18.3137 1.5 15 1.5V3.5ZM11.25 17.25H18.75V15.25H11.25V17.25ZM18.75 25.25H11.25V27.25H18.75V25.25ZM11.25 25.25C9.04086 25.25 7.25 23.4591 7.25 21.25H5.25C5.25 24.5637 7.93629 27.25 11.25 27.25V25.25ZM22.75 21.25C22.75 23.4591 20.9591 25.25 18.75 25.25V27.25C22.0637 27.25 24.75 24.5637 24.75 21.25H22.75ZM18.75 17.25C20.9591 17.25 22.75 19.0409 22.75 21.25H24.75C24.75 17.9363 22.0637 15.25 18.75 15.25V17.25ZM11.25 15.25C7.93629 15.25 5.25 17.9363 5.25 21.25H7.25C7.25 19.0409 9.04086 17.25 11.25 17.25V15.25Z",fill:e.$vuetify.theme.dark?"#2E65F6":"#0037B7"},null,8,Xb)]))]),_:1},16,["disabled"])]),default:H(()=>[a[35]||(a[35]=i("span",null,"Login with ZEBU",-1))]),_:1}))]),_:1}),d(Pg,null,{default:H(()=>[M(d(Kg,{color:x(s).lowConnection?"yellow darken-2":x(s).onlinestat?"success":"error",width:"100%",height:"32px",class:"cust-appbar-alert",dense:"",flat:""},{default:H(()=>[i("div",Jb,[i("span",Qb,[d(wp,{color:"white",size:"20"},{default:H(()=>[W(A(!x(s).lowConnection&&x(s).onlinestat?"mdi-check-circle-outline":"mdi-alert-outline"),1)]),_:1}),W(" "+A(x(s).lowConnection?"Connection is slow. App performance may vary.":x(s).onlinestat?"You are back online. All good now!":"No internet.Check connection and try again."),1)])])]),_:1},8,["color"]),[[V,x(s).onLinebanner]])]),_:1}),d(Pg,null,{default:H(()=>[M(d(Kg,{color:"primary lighten-4",width:"100%",height:"70px",class:"cust-appbar-alerts",dense:"",flat:""},{default:H(()=>[d(cb,{class:"px-0","three-line":""},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"font-weight-bold mainbg--text fs-14 mb-0 lh-0"},{default:H(()=>[i("span",null,A(x(s).showalertmsg?x(s).showalertmsg.title:""),1)]),_:1}),d(rb,{class:"font-weight-medium mainbg--text fs-13 lh-0"},{default:H(()=>[x(s).showalertmsg&&x(s).showalertmsg.body?(z(),R("span",{key:0,innerHTML:x(s).showalertmsg.body},null,8,Zb)):ee("",!0)]),_:1})]),_:1})]),_:1}),d(zy),d(im,{icon:"",onClick:a[5]||(a[5]=e=>x(s).hideAlert())},{default:H(()=>[d(wp,{color:"mainbg",size:"18"},{default:H(()=>[...a[36]||(a[36]=[W("mdi-close",-1)])]),_:1})]),_:1})]),_:1},512),[[V,x(s).showalert&&x(s).showalertmsg.callback]])]),_:1})])}}},[["__scopeId","data-v-e4985580"]]);var tx={exports:{}};const ax=ev(ae);
/**!
     * Sortable 1.14.0
     * @author	RubaXa   <trash@rubaxa.org>
     * @author	owenm    <owen23355@gmail.com>
     * @license MIT
     */function lx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function nx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lx(Object(a),!0).forEach(function(t){sx(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lx(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ox(e){return(ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sx(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ix(){return ix=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ix.apply(this,arguments)}function rx(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},o=Object.keys(e);for(l=0;l<o.length;l++)a=o[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)a=o[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ux(e){return function(e){if(Array.isArray(e))return dx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dx(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?dx(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dx(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function cx(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var px=cx(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mx=cx(/Edge/i),vx=cx(/firefox/i),hx=cx(/safari/i)&&!cx(/chrome/i)&&!cx(/android/i),fx=cx(/iP(ad|od|hone)/i),gx=cx(/chrome/i)&&cx(/android/i),yx={capture:!1,passive:!1};function bx(e,t,a){e.addEventListener(t,a,!px&&yx)}function xx(e,t,a){e.removeEventListener(t,a,!px&&yx)}function wx(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(a){return!1}return!1}}function _x(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function kx(e,t,a,l){if(e){a=a||document;do{if(null!=t&&(">"===t[0]?e.parentNode===a&&wx(e,t):wx(e,t))||l&&e===a)return e;if(e===a)break}while(e=_x(e))}return null}var Sx,Cx=/\s+/g;function Ix(e,t,a){if(e&&t)if(e.classList)e.classList[a?"add":"remove"](t);else{var l=(" "+e.className+" ").replace(Cx," ").replace(" "+t+" "," ");e.className=(l+(a?" "+t:"")).replace(Cx," ")}}function Ex(e,t,a){var l=e&&e.style;if(l){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in l||-1!==t.indexOf("webkit")||(t="-webkit-"+t),l[t]=a+("string"==typeof a?"":"px")}}function Tx(e,t){var a="";if("string"==typeof e)a=e;else do{var l=Ex(e,"transform");l&&"none"!==l&&(a=l+" "+a)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(a)}function Nx(e,t,a){if(e){var l=e.getElementsByTagName(t),n=0,o=l.length;if(a)for(;n<o;n++)a(l[n],n);return l}return[]}function Mx(){var e=document.scrollingElement;return e||document.documentElement}function Ax(e,t,a,l,n){if(e.getBoundingClientRect||e===window){var o,s,i,r,u,d,c;if(e!==window&&e.parentNode&&e!==Mx()?(s=(o=e.getBoundingClientRect()).top,i=o.left,r=o.bottom,u=o.right,d=o.height,c=o.width):(s=0,i=0,r=window.innerHeight,u=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||a)&&e!==window&&(n=n||e.parentNode,!px))do{if(n&&n.getBoundingClientRect&&("none"!==Ex(n,"transform")||a&&"static"!==Ex(n,"position"))){var p=n.getBoundingClientRect();s-=p.top+parseInt(Ex(n,"border-top-width")),i-=p.left+parseInt(Ex(n,"border-left-width")),r=s+o.height,u=i+o.width;break}}while(n=n.parentNode);if(l&&e!==window){var m=Tx(n||e),v=m&&m.a,h=m&&m.d;m&&(r=(s/=h)+(d/=h),u=(i/=v)+(c/=v))}return{top:s,left:i,bottom:r,right:u,width:c,height:d}}}function Ox(e,t,a){for(var l=Vx(e,!0),n=Ax(e)[t];l;){if(!(n>=Ax(l)[a]))return l;if(l===Mx())break;l=Vx(l,!1)}return!1}function Px(e,t,a,l){for(var n=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==qw.ghost&&(l||s[o]!==qw.dragged)&&kx(s[o],a.draggable,e,!1)){if(n===t)return s[o];n++}o++}return null}function Fx(e,t){for(var a=e.lastElementChild;a&&(a===qw.ghost||"none"===Ex(a,"display")||t&&!wx(a,t));)a=a.previousElementSibling;return a||null}function Lx(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===qw.clone||t&&!wx(e,t)||a++;return a}function Dx(e){var t=0,a=0,l=Mx();if(e)do{var n=Tx(e),o=n.a,s=n.d;t+=e.scrollLeft*o,a+=e.scrollTop*s}while(e!==l&&(e=e.parentNode));return[t,a]}function Vx(e,t){if(!e||!e.getBoundingClientRect)return Mx();var a=e,l=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var n=Ex(a);if(a.clientWidth<a.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!a.getBoundingClientRect||a===document.body)return Mx();if(l||t)return a;l=!0}}}while(a=a.parentNode);return Mx()}function Bx(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $x(e,t){return function(){if(!Sx){var a=arguments;1===a.length?e.call(this,a[0]):e.apply(this,a),Sx=setTimeout(function(){Sx=void 0},t)}}}function Rx(e,t,a){e.scrollLeft+=t,e.scrollTop+=a}function zx(e){var t=window.Polymer,a=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):a?a(e).clone(!0)[0]:e.cloneNode(!0)}function Ux(e,t){Ex(e,"position","absolute"),Ex(e,"top",t.top),Ex(e,"left",t.left),Ex(e,"width",t.width),Ex(e,"height",t.height)}function qx(e){Ex(e,"position",""),Ex(e,"top",""),Ex(e,"left",""),Ex(e,"width",""),Ex(e,"height","")}var Hx="Sortable"+(new Date).getTime();function jx(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){if("none"!==Ex(e,"display")&&e!==qw.ghost){t.push({target:e,rect:Ax(e)});var a=nx({},t[t.length-1].rect);if(e.thisAnimationDuration){var l=Tx(e,!0);l&&(a.top-=l.f,a.left-=l.e)}e.fromRect=a}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var a in e)if(e.hasOwnProperty(a))for(var l in t)if(t.hasOwnProperty(l)&&t[l]===e[a][l])return Number(a);return-1}(t,{target:e}),1)},animateAll:function(a){var l=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof a&&a());var n=!1,o=0;t.forEach(function(e){var t=0,a=e.target,s=a.fromRect,i=Ax(a),r=a.prevFromRect,u=a.prevToRect,d=e.rect,c=Tx(a,!0);c&&(i.top-=c.f,i.left-=c.e),a.toRect=i,a.thisAnimationDuration&&Bx(r,i)&&!Bx(s,i)&&(d.top-i.top)/(d.left-i.left)===(s.top-i.top)/(s.left-i.left)&&(t=function(e,t,a,l){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*l.animation}(d,r,u,l.options)),Bx(i,s)||(a.prevFromRect=s,a.prevToRect=i,t||(t=l.options.animation),l.animate(a,d,i,t)),t&&(n=!0,o=Math.max(o,t),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},t),a.thisAnimationDuration=t)}),clearTimeout(e),n?e=setTimeout(function(){"function"==typeof a&&a()},o):"function"==typeof a&&a(),t=[]},animate:function(e,t,a,l){if(l){Ex(e,"transition",""),Ex(e,"transform","");var n=Tx(this.el),o=n&&n.a,s=n&&n.d,i=(t.left-a.left)/(o||1),r=(t.top-a.top)/(s||1);e.animatingX=!!i,e.animatingY=!!r,Ex(e,"transform","translate3d("+i+"px,"+r+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Ex(e,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),Ex(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){Ex(e,"transition",""),Ex(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},l)}}}}var Wx=[],Yx={initializeByDefault:!0},Gx={mount:function(e){for(var t in Yx)Yx.hasOwnProperty(t)&&!(t in e)&&(e[t]=Yx[t]);Wx.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Wx.push(e)},pluginEvent:function(e,t,a){var l=this;this.eventCanceled=!1,a.cancel=function(){l.eventCanceled=!0};var n=e+"Global";Wx.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][n]&&t[l.pluginName][n](nx({sortable:t},a)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](nx({sortable:t},a)))})},initializePlugins:function(e,t,a,l){for(var n in Wx.forEach(function(l){var n=l.pluginName;if(e.options[n]||l.initializeByDefault){var o=new l(e,t,e.options);o.sortable=e,o.options=e.options,e[n]=o,ix(a,o.defaults)}}),e.options)if(e.options.hasOwnProperty(n)){var o=this.modifyOption(e,n,e.options[n]);void 0!==o&&(e.options[n]=o)}},getEventProperties:function(e,t){var a={};return Wx.forEach(function(l){"function"==typeof l.eventProperties&&ix(a,l.eventProperties.call(t[l.pluginName],e))}),a},modifyOption:function(e,t,a){var l;return Wx.forEach(function(n){e[n.pluginName]&&n.optionListeners&&"function"==typeof n.optionListeners[t]&&(l=n.optionListeners[t].call(e[n.pluginName],a))}),l}};function Kx(e){var t=e.sortable,a=e.rootEl,l=e.name,n=e.targetEl,o=e.cloneEl,s=e.toEl,i=e.fromEl,r=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,p=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||a&&a[Hx]){var h,f=t.options,g="on"+l.charAt(0).toUpperCase()+l.substr(1);!window.CustomEvent||px||mx?(h=document.createEvent("Event")).initEvent(l,!0,!0):h=new CustomEvent(l,{bubbles:!0,cancelable:!0}),h.to=s||a,h.from=i||a,h.item=n||a,h.clone=o,h.oldIndex=r,h.newIndex=u,h.oldDraggableIndex=d,h.newDraggableIndex=c,h.originalEvent=p,h.pullMode=m?m.lastPutMode:void 0;var y=nx(nx({},v),Gx.getEventProperties(l,t));for(var b in y)h[b]=y[b];a&&a.dispatchEvent(h),f[g]&&f[g].call(t,h)}}var Xx=["evt"],Jx=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.evt,n=rx(a,Xx);Gx.pluginEvent.bind(qw)(e,t,nx({dragEl:Zx,parentEl:ew,ghostEl:tw,rootEl:aw,nextEl:lw,lastDownEl:nw,cloneEl:ow,cloneHidden:sw,dragStarted:bw,putSortable:pw,activeSortable:qw.active,originalEvent:l,oldIndex:iw,oldDraggableIndex:uw,newIndex:rw,newDraggableIndex:dw,hideGhostForTarget:$w,unhideGhostForTarget:Rw,cloneNowHidden:function(){sw=!0},cloneNowShown:function(){sw=!1},dispatchSortableEvent:function(e){Qx({sortable:t,name:e,originalEvent:l})}},n))};function Qx(e){Kx(nx({putSortable:pw,cloneEl:ow,targetEl:Zx,rootEl:aw,oldIndex:iw,oldDraggableIndex:uw,newIndex:rw,newDraggableIndex:dw},e))}var Zx,ew,tw,aw,lw,nw,ow,sw,iw,rw,uw,dw,cw,pw,mw,vw,hw,fw,gw,yw,bw,xw,ww,_w,kw,Sw=!1,Cw=!1,Iw=[],Ew=!1,Tw=!1,Nw=[],Mw=!1,Aw=[],Ow="undefined"!=typeof document,Pw=fx,Fw=mx||px?"cssFloat":"float",Lw=Ow&&!gx&&!fx&&"draggable"in document.createElement("div"),Dw=function(){if(Ow){if(px)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Vw=function(e,t){var a=Ex(e),l=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),n=Px(e,0,t),o=Px(e,1,t),s=n&&Ex(n),i=o&&Ex(o),r=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ax(n).width,u=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Ax(o).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&s.float&&"none"!==s.float){var d="left"===s.float?"left":"right";return!o||"both"!==i.clear&&i.clear!==d?"horizontal":"vertical"}return n&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||r>=l&&"none"===a[Fw]||o&&"none"===a[Fw]&&r+u>l)?"vertical":"horizontal"},Bw=function(e){function t(e,a){return function(l,n,o,s){var i=l.options.group.name&&n.options.group.name&&l.options.group.name===n.options.group.name;if(null==e&&(a||i))return!0;if(null==e||!1===e)return!1;if(a&&"clone"===e)return e;if("function"==typeof e)return t(e(l,n,o,s),a)(l,n,o,s);var r=(a?l:n).options.group.name;return!0===e||"string"==typeof e&&e===r||e.join&&e.indexOf(r)>-1}}var a={},l=e.group;l&&"object"==ox(l)||(l={name:l}),a.name=l.name,a.checkPull=t(l.pull,!0),a.checkPut=t(l.put),a.revertClone=l.revertClone,e.group=a},$w=function(){!Dw&&tw&&Ex(tw,"display","none")},Rw=function(){!Dw&&tw&&Ex(tw,"display","")};Ow&&document.addEventListener("click",function(e){if(Cw)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Cw=!1,!1},!0);var zw=function(e){if(Zx){e=e.touches?e.touches[0]:e;var t=(n=e.clientX,o=e.clientY,Iw.some(function(e){var t=e[Hx].options.emptyInsertThreshold;if(t&&!Fx(e)){var a=Ax(e),l=n>=a.left-t&&n<=a.right+t,i=o>=a.top-t&&o<=a.bottom+t;return l&&i?s=e:void 0}}),s);if(t){var a={};for(var l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[Hx]._onDragOver(a)}}var n,o,s},Uw=function(e){Zx&&Zx.parentNode[Hx]._isOutsideThisEl(e.target)};function qw(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ix({},t),e[Hx]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vw(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==qw.supportPointer&&"PointerEvent"in window&&!hx,emptyInsertThreshold:5};for(var l in Gx.initializePlugins(this,e,a),a)!(l in t)&&(t[l]=a[l]);for(var n in Bw(t),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&Lw,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?bx(e,"pointerdown",this._onTapStart):(bx(e,"mousedown",this._onTapStart),bx(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(bx(e,"dragover",this),bx(e,"dragenter",this)),Iw.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ix(this,jx())}function Hw(e,t,a,l,n,o,s,i){var r,u,d=e[Hx],c=d.options.onMove;return!window.CustomEvent||px||mx?(r=document.createEvent("Event")).initEvent("move",!0,!0):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=t,r.from=e,r.dragged=a,r.draggedRect=l,r.related=n||t,r.relatedRect=o||Ax(t),r.willInsertAfter=i,r.originalEvent=s,e.dispatchEvent(r),c&&(u=c.call(d,r,s)),u}function jw(e){e.draggable=!1}function Ww(){Mw=!1}function Yw(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,l=0;a--;)l+=t.charCodeAt(a);return l.toString(36)}function Gw(e){return setTimeout(e,0)}function Kw(e){return clearTimeout(e)}qw.prototype={constructor:qw,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(xw=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Zx):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,l=this.options,n=l.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,i=(s||e).target,r=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,u=l.filter;if(function(e){Aw.length=0;for(var t=e.getElementsByTagName("input"),a=t.length;a--;){var l=t[a];l.checked&&Aw.push(l)}}(a),!Zx&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||l.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!hx||!i||"SELECT"!==i.tagName.toUpperCase())&&!((i=kx(i,l.draggable,a,!1))&&i.animated||nw===i)){if(iw=Lx(i),uw=Lx(i,l.draggable),"function"==typeof u){if(u.call(this,e,i,this))return Qx({sortable:t,rootEl:r,name:"filter",targetEl:i,toEl:a,fromEl:a}),Jx("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some(function(l){if(l=kx(r,l.trim(),a,!1))return Qx({sortable:t,rootEl:l,name:"filter",targetEl:i,fromEl:a,toEl:a}),Jx("filter",t,{evt:e}),!0})))return void(n&&e.cancelable&&e.preventDefault());l.handle&&!kx(r,l.handle,a,!1)||this._prepareDragStart(e,s,i)}}},_prepareDragStart:function(e,t,a){var l,n=this,o=n.el,s=n.options,i=o.ownerDocument;if(a&&!Zx&&a.parentNode===o){var r=Ax(a);if(aw=o,ew=(Zx=a).parentNode,lw=Zx.nextSibling,nw=a,cw=s.group,qw.dragged=Zx,mw={target:Zx,clientX:(t||e).clientX,clientY:(t||e).clientY},gw=mw.clientX-r.left,yw=mw.clientY-r.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Zx.style["will-change"]="all",l=function(){Jx("delayEnded",n,{evt:e}),qw.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!vx&&n.nativeDraggable&&(Zx.draggable=!0),n._triggerDragStart(e,t),Qx({sortable:n,name:"choose",originalEvent:e}),Ix(Zx,s.chosenClass,!0))},s.ignore.split(",").forEach(function(e){Nx(Zx,e.trim(),jw)}),bx(i,"dragover",zw),bx(i,"mousemove",zw),bx(i,"touchmove",zw),bx(i,"mouseup",n._onDrop),bx(i,"touchend",n._onDrop),bx(i,"touchcancel",n._onDrop),vx&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Zx.draggable=!0),Jx("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(mx||px))l();else{if(qw.eventCanceled)return void this._onDrop();bx(i,"mouseup",n._disableDelayedDrag),bx(i,"touchend",n._disableDelayedDrag),bx(i,"touchcancel",n._disableDelayedDrag),bx(i,"mousemove",n._delayedDragTouchMoveHandler),bx(i,"touchmove",n._delayedDragTouchMoveHandler),s.supportPointer&&bx(i,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Zx&&jw(Zx),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;xx(e,"mouseup",this._disableDelayedDrag),xx(e,"touchend",this._disableDelayedDrag),xx(e,"touchcancel",this._disableDelayedDrag),xx(e,"mousemove",this._delayedDragTouchMoveHandler),xx(e,"touchmove",this._delayedDragTouchMoveHandler),xx(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?bx(document,"pointermove",this._onTouchMove):bx(document,t?"touchmove":"mousemove",this._onTouchMove):(bx(Zx,"dragend",this),bx(aw,"dragstart",this._onDragStart));try{document.selection?Gw(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(e,t){if(Sw=!1,aw&&Zx){Jx("dragStarted",this,{evt:t}),this.nativeDraggable&&bx(document,"dragover",Uw);var a=this.options;!e&&Ix(Zx,a.dragClass,!1),Ix(Zx,a.ghostClass,!0),qw.active=this,e&&this._appendGhost(),Qx({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(vw){this._lastX=vw.clientX,this._lastY=vw.clientY,$w();for(var e=document.elementFromPoint(vw.clientX,vw.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(vw.clientX,vw.clientY))!==t;)t=e;if(Zx.parentNode[Hx]._isOutsideThisEl(e),t)do{if(t[Hx]&&t[Hx]._onDragOver({clientX:vw.clientX,clientY:vw.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Rw()}},_onTouchMove:function(e){if(mw){var t=this.options,a=t.fallbackTolerance,l=t.fallbackOffset,n=e.touches?e.touches[0]:e,o=tw&&Tx(tw,!0),s=tw&&o&&o.a,i=tw&&o&&o.d,r=Pw&&kw&&Dx(kw),u=(n.clientX-mw.clientX+l.x)/(s||1)+(r?r[0]-Nw[0]:0)/(s||1),d=(n.clientY-mw.clientY+l.y)/(i||1)+(r?r[1]-Nw[1]:0)/(i||1);if(!qw.active&&!Sw){if(a&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(tw){o?(o.e+=u-(hw||0),o.f+=d-(fw||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var c="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Ex(tw,"webkitTransform",c),Ex(tw,"mozTransform",c),Ex(tw,"msTransform",c),Ex(tw,"transform",c),hw=u,fw=d,vw=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!tw){var e=this.options.fallbackOnBody?document.body:aw,t=Ax(Zx,!0,Pw,!0,e),a=this.options;if(Pw){for(kw=e;"static"===Ex(kw,"position")&&"none"===Ex(kw,"transform")&&kw!==document;)kw=kw.parentNode;kw!==document.body&&kw!==document.documentElement?(kw===document&&(kw=Mx()),t.top+=kw.scrollTop,t.left+=kw.scrollLeft):kw=Mx(),Nw=Dx(kw)}Ix(tw=Zx.cloneNode(!0),a.ghostClass,!1),Ix(tw,a.fallbackClass,!0),Ix(tw,a.dragClass,!0),Ex(tw,"transition",""),Ex(tw,"transform",""),Ex(tw,"box-sizing","border-box"),Ex(tw,"margin",0),Ex(tw,"top",t.top),Ex(tw,"left",t.left),Ex(tw,"width",t.width),Ex(tw,"height",t.height),Ex(tw,"opacity","0.8"),Ex(tw,"position",Pw?"absolute":"fixed"),Ex(tw,"zIndex","100000"),Ex(tw,"pointerEvents","none"),qw.ghost=tw,e.appendChild(tw),Ex(tw,"transform-origin",gw/parseInt(tw.style.width)*100+"% "+yw/parseInt(tw.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,l=e.dataTransfer,n=a.options;Jx("dragStart",this,{evt:e}),qw.eventCanceled?this._onDrop():(Jx("setupClone",this),qw.eventCanceled||((ow=zx(Zx)).draggable=!1,ow.style["will-change"]="",this._hideClone(),Ix(ow,this.options.chosenClass,!1),qw.clone=ow),a.cloneId=Gw(function(){Jx("clone",a),qw.eventCanceled||(a.options.removeCloneOnHide||aw.insertBefore(ow,Zx),a._hideClone(),Qx({sortable:a,name:"clone"}))}),!t&&Ix(Zx,n.dragClass,!0),t?(Cw=!0,a._loopId=setInterval(a._emulateDragOver,50)):(xx(document,"mouseup",a._onDrop),xx(document,"touchend",a._onDrop),xx(document,"touchcancel",a._onDrop),l&&(l.effectAllowed="move",n.setData&&n.setData.call(a,l,Zx)),bx(document,"drop",a),Ex(Zx,"transform","translateZ(0)")),Sw=!0,a._dragStartId=Gw(a._dragStarted.bind(a,t,e)),bx(document,"selectstart",a),bw=!0,hx&&Ex(document.body,"user-select","none"))},_onDragOver:function(e){var t,a,l,n,o=this.el,s=e.target,i=this.options,r=i.group,u=qw.active,d=cw===r,c=i.sort,p=pw||u,m=this,v=!1;if(!Mw){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=kx(s,i.draggable,o,!0),N("dragOver"),qw.eventCanceled)return v;if(Zx.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||m._ignoreWhileAnimating===s)return A(!1);if(Cw=!1,u&&!i.disabled&&(d?c||(l=ew!==aw):pw===this||(this.lastPutMode=cw.checkPull(this,u,Zx,e))&&r.checkPut(this,u,Zx,e))){if(n="vertical"===this._getDirection(e,s),t=Ax(Zx),N("dragOverValid"),qw.eventCanceled)return v;if(l)return ew=aw,M(),this._hideClone(),N("revert"),qw.eventCanceled||(lw?aw.insertBefore(Zx,lw):aw.appendChild(Zx)),A(!0);var h=Fx(o,i.draggable);if(!h||function(e,t,a){var l=Ax(Fx(a.el,a.options.draggable)),n=10;return t?e.clientX>l.right+n||e.clientX<=l.right&&e.clientY>l.bottom&&e.clientX>=l.left:e.clientX>l.right&&e.clientY>l.top||e.clientX<=l.right&&e.clientY>l.bottom+n}(e,n,this)&&!h.animated){if(h===Zx)return A(!1);if(h&&o===e.target&&(s=h),s&&(a=Ax(s)),!1!==Hw(aw,o,Zx,t,s,a,e,!!s))return M(),o.appendChild(Zx),ew=o,O(),A(!0)}else if(h&&function(e,t,a){var l=Ax(Px(a.el,0,a.options,!0)),n=10;return t?e.clientX<l.left-n||e.clientY<l.top&&e.clientX<l.right:e.clientY<l.top-n||e.clientY<l.bottom&&e.clientX<l.left}(e,n,this)){var f=Px(o,0,i,!0);if(f===Zx)return A(!1);if(a=Ax(s=f),!1!==Hw(aw,o,Zx,t,s,a,e,!1))return M(),o.insertBefore(Zx,f),ew=o,O(),A(!0)}else if(s.parentNode===o){a=Ax(s);var g,y,b,x=Zx.parentNode!==o,w=!function(e,t,a){var l=a?e.left:e.top,n=a?e.right:e.bottom,o=a?e.width:e.height,s=a?t.left:t.top,i=a?t.right:t.bottom,r=a?t.width:t.height;return l===s||n===i||l+o/2===s+r/2}(Zx.animated&&Zx.toRect||t,s.animated&&s.toRect||a,n),_=n?"top":"left",k=Ox(s,"top","top")||Ox(Zx,"top","top"),S=k?k.scrollTop:void 0;if(xw!==s&&(y=a[_],Ew=!1,Tw=!w&&i.invertSwap||x),g=function(e,t,a,l,n,o,s,i){var r=l?e.clientY:e.clientX,u=l?a.height:a.width,d=l?a.top:a.left,c=l?a.bottom:a.right,p=!1;if(!s)if(i&&_w<u*n){if(!Ew&&(1===ww?r>d+u*o/2:r<c-u*o/2)&&(Ew=!0),Ew)p=!0;else if(1===ww?r<d+_w:r>c-_w)return-ww}else if(r>d+u*(1-n)/2&&r<c-u*(1-n)/2)return function(e){return Lx(Zx)<Lx(e)?1:-1}(t);return(p=p||s)&&(r<d+u*o/2||r>c-u*o/2)?r>d+u/2?1:-1:0}(e,s,a,n,w?1:i.swapThreshold,null==i.invertedSwapThreshold?i.swapThreshold:i.invertedSwapThreshold,Tw,xw===s),0!==g){var C=Lx(Zx);do{C-=g,b=ew.children[C]}while(b&&("none"===Ex(b,"display")||b===tw))}if(0===g||b===s)return A(!1);xw=s,ww=g;var I=s.nextElementSibling,E=!1,T=Hw(aw,o,Zx,t,s,a,e,E=1===g);if(!1!==T)return 1!==T&&-1!==T||(E=1===T),Mw=!0,setTimeout(Ww,30),M(),E&&!I?o.appendChild(Zx):s.parentNode.insertBefore(Zx,E?I:s),k&&Rx(k,0,S-k.scrollTop),ew=Zx.parentNode,void 0===y||Tw||(_w=Math.abs(y-Ax(s)[_])),O(),A(!0)}if(o.contains(Zx))return A(!1)}return!1}function N(i,r){Jx(i,m,nx({evt:e,isOwner:d,axis:n?"vertical":"horizontal",revert:l,dragRect:t,targetRect:a,canSort:c,fromSortable:p,target:s,completed:A,onMove:function(a,l){return Hw(aw,o,Zx,t,a,Ax(a),e,l)},changed:O},r))}function M(){N("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function A(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(m),m!==p&&(Ix(Zx,pw?pw.options.ghostClass:u.options.ghostClass,!1),Ix(Zx,i.ghostClass,!0)),pw!==m&&m!==qw.active?pw=m:m===qw.active&&pw&&(pw=null),p===m&&(m._ignoreWhileAnimating=s),m.animateAll(function(){N("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(s===Zx&&!Zx.animated||s===o&&!s.animated)&&(xw=null),i.dragoverBubble||e.rootEl||s===document||(Zx.parentNode[Hx]._isOutsideThisEl(e.target),!t&&zw(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function O(){rw=Lx(Zx),dw=Lx(Zx,i.draggable),Qx({sortable:m,name:"change",toEl:o,newIndex:rw,newDraggableIndex:dw,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){xx(document,"mousemove",this._onTouchMove),xx(document,"touchmove",this._onTouchMove),xx(document,"pointermove",this._onTouchMove),xx(document,"dragover",zw),xx(document,"mousemove",zw),xx(document,"touchmove",zw)},_offUpEvents:function(){var e=this.el.ownerDocument;xx(e,"mouseup",this._onDrop),xx(e,"touchend",this._onDrop),xx(e,"pointerup",this._onDrop),xx(e,"touchcancel",this._onDrop),xx(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;rw=Lx(Zx),dw=Lx(Zx,a.draggable),Jx("drop",this,{evt:e}),ew=Zx&&Zx.parentNode,rw=Lx(Zx),dw=Lx(Zx,a.draggable),qw.eventCanceled||(Sw=!1,Tw=!1,Ew=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kw(this.cloneId),Kw(this._dragStartId),this.nativeDraggable&&(xx(document,"drop",this),xx(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),hx&&Ex(document.body,"user-select",""),Ex(Zx,"transform",""),e&&(bw&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),tw&&tw.parentNode&&tw.parentNode.removeChild(tw),(aw===ew||pw&&"clone"!==pw.lastPutMode)&&ow&&ow.parentNode&&ow.parentNode.removeChild(ow),Zx&&(this.nativeDraggable&&xx(Zx,"dragend",this),jw(Zx),Zx.style["will-change"]="",bw&&!Sw&&Ix(Zx,pw?pw.options.ghostClass:this.options.ghostClass,!1),Ix(Zx,this.options.chosenClass,!1),Qx({sortable:this,name:"unchoose",toEl:ew,newIndex:null,newDraggableIndex:null,originalEvent:e}),aw!==ew?(rw>=0&&(Qx({rootEl:ew,name:"add",toEl:ew,fromEl:aw,originalEvent:e}),Qx({sortable:this,name:"remove",toEl:ew,originalEvent:e}),Qx({rootEl:ew,name:"sort",toEl:ew,fromEl:aw,originalEvent:e}),Qx({sortable:this,name:"sort",toEl:ew,originalEvent:e})),pw&&pw.save()):rw!==iw&&rw>=0&&(Qx({sortable:this,name:"update",toEl:ew,originalEvent:e}),Qx({sortable:this,name:"sort",toEl:ew,originalEvent:e})),qw.active&&(null!=rw&&-1!==rw||(rw=iw,dw=uw),Qx({sortable:this,name:"end",toEl:ew,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Jx("nulling",this),aw=Zx=ew=tw=lw=ow=nw=sw=mw=vw=bw=rw=dw=iw=uw=xw=ww=pw=cw=qw.dragged=qw.ghost=qw.clone=qw.active=null,Aw.forEach(function(e){e.checked=!0}),Aw.length=hw=fw=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Zx&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],a=this.el.children,l=0,n=a.length,o=this.options;l<n;l++)kx(e=a[l],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Yw(e));return t},sort:function(e,t){var a={},l=this.el;this.toArray().forEach(function(e,t){var n=l.children[t];kx(n,this.options.draggable,l,!1)&&(a[e]=n)},this),t&&this.captureAnimationState(),e.forEach(function(e){a[e]&&(l.removeChild(a[e]),l.appendChild(a[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return kx(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];var l=Gx.modifyOption(this,e,t);a[e]=void 0!==l?l:t,"group"===e&&Bw(a)},destroy:function(){Jx("destroy",this);var e=this.el;e[Hx]=null,xx(e,"mousedown",this._onTapStart),xx(e,"touchstart",this._onTapStart),xx(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(xx(e,"dragover",this),xx(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Iw.splice(Iw.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!sw){if(Jx("hideClone",this),qw.eventCanceled)return;Ex(ow,"display","none"),this.options.removeCloneOnHide&&ow.parentNode&&ow.parentNode.removeChild(ow),sw=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(sw){if(Jx("showClone",this),qw.eventCanceled)return;Zx.parentNode!=aw||this.options.group.revertClone?lw?aw.insertBefore(ow,lw):aw.appendChild(ow):aw.insertBefore(ow,Zx),this.options.group.revertClone&&this.animate(Zx,ow),Ex(ow,"display",""),sw=!1}}else this._hideClone()}},Ow&&bx(document,"touchmove",function(e){(qw.active||Sw)&&e.cancelable&&e.preventDefault()}),qw.utils={on:bx,off:xx,css:Ex,find:Nx,is:function(e,t){return!!kx(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},throttle:$x,closest:kx,toggleClass:Ix,clone:zx,index:Lx,nextTick:Gw,cancelNextTick:Kw,detectDirection:Vw,getChild:Px},qw.get=function(e){return e[Hx]},qw.mount=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(qw.utils=nx(nx({},qw.utils),e.utils)),Gx.mount(e)})},qw.create=function(e,t){return new qw(e,t)},qw.version="1.14.0";var Xw,Jw,Qw,Zw,e_,t_,a_=[],l_=!1;function n_(){a_.forEach(function(e){clearInterval(e.pid)}),a_=[]}function o_(){clearInterval(t_)}var s_,i_=$x(function(e,t,a,l){if(t.scroll){var n,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,r=t.scrollSpeed,u=Mx(),d=!1;Jw!==a&&(Jw=a,n_(),Xw=t.scroll,n=t.scrollFn,!0===Xw&&(Xw=Vx(a,!0)));var c=0,p=Xw;do{var m=p,v=Ax(m),h=v.top,f=v.bottom,g=v.left,y=v.right,b=v.width,x=v.height,w=void 0,_=void 0,k=m.scrollWidth,S=m.scrollHeight,C=Ex(m),I=m.scrollLeft,E=m.scrollTop;m===u?(w=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),_=x<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(w=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX),_=x<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var T=w&&(Math.abs(y-o)<=i&&I+b<k)-(Math.abs(g-o)<=i&&!!I),N=_&&(Math.abs(f-s)<=i&&E+x<S)-(Math.abs(h-s)<=i&&!!E);if(!a_[c])for(var M=0;M<=c;M++)a_[M]||(a_[M]={});a_[c].vx==T&&a_[c].vy==N&&a_[c].el===m||(a_[c].el=m,a_[c].vx=T,a_[c].vy=N,clearInterval(a_[c].pid),0==T&&0==N||(d=!0,a_[c].pid=setInterval(function(){l&&0===this.layer&&qw.active._onTouchMove(e_);var t=a_[this.layer].vy?a_[this.layer].vy*r:0,a=a_[this.layer].vx?a_[this.layer].vx*r:0;"function"==typeof n&&"continue"!==n.call(qw.dragged.parentNode[Hx],a,t,e,e_,a_[this.layer].el)||Rx(a_[this.layer].el,a,t)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&p!==u&&(p=Vx(p,!1)));l_=d}},30),r_=function(e){var t=e.originalEvent,a=e.putSortable,l=e.dragEl,n=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(t){var r=a||n;s();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);i(),r&&!r.el.contains(d)&&(o("spill"),this.onSpill({dragEl:l,putSortable:a}))}};function u_(){}function d_(){}u_.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var l=Px(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(t,l):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:r_},ix(u_,{pluginName:"revertOnSpill"}),d_.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:r_},ix(d_,{pluginName:"removeOnSpill"});var c_,p_,m_,v_,h_,f_=[],g_=[],y_=!1,b_=!1,x_=!1;function w_(e,t){g_.forEach(function(a,l){var n=t.children[a.sortableIndex+(e?Number(l):0)];n?t.insertBefore(a,n):t.appendChild(a)})}function __(){f_.forEach(function(e){e!==m_&&e.parentNode&&e.parentNode.removeChild(e)})}qw.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?bx(document,"dragover",this._handleAutoScroll):this.options.supportPointer?bx(document,"pointermove",this._handleFallbackAutoScroll):t.touches?bx(document,"touchmove",this._handleFallbackAutoScroll):bx(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?xx(document,"dragover",this._handleAutoScroll):(xx(document,"pointermove",this._handleFallbackAutoScroll),xx(document,"touchmove",this._handleFallbackAutoScroll),xx(document,"mousemove",this._handleFallbackAutoScroll)),o_(),n_(),clearTimeout(Sx),Sx=void 0},nulling:function(){e_=Jw=Xw=l_=t_=Qw=Zw=null,a_.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var a=this,l=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(l,n);if(e_=e,t||this.options.forceAutoScrollFallback||mx||px||hx){i_(e,this.options,o,t);var s=Vx(o,!0);!l_||t_&&l===Qw&&n===Zw||(t_&&o_(),t_=setInterval(function(){var o=Vx(document.elementFromPoint(l,n),!0);o!==s&&(s=o,n_()),i_(e,a.options,o,t)},10),Qw=l,Zw=n)}else{if(!this.options.bubbleScroll||Vx(o,!0)===Mx())return void n_();i_(e,this.options,Vx(o,!1),!1)}}},ix(e,{pluginName:"scroll",initializeByDefault:!0})}),qw.mount(d_,u_);const k_=ev(Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?bx(document,"pointerup",this._deselectMultiDrag):(bx(document,"mouseup",this._deselectMultiDrag),bx(document,"touchend",this._deselectMultiDrag)),bx(document,"keydown",this._checkKeyDown),bx(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,a){var l="";f_.length&&p_===e?f_.forEach(function(e,t){l+=(t?", ":"")+e.textContent}):l=a.textContent,t.setData("Text",l)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;m_=t},delayEnded:function(){this.isMultiDrag=~f_.indexOf(m_)},setupClone:function(e){var t=e.sortable,a=e.cancel;if(this.isMultiDrag){for(var l=0;l<f_.length;l++)g_.push(zx(f_[l])),g_[l].sortableIndex=f_[l].sortableIndex,g_[l].draggable=!1,g_[l].style["will-change"]="",Ix(g_[l],this.options.selectedClass,!1),f_[l]===m_&&Ix(g_[l],this.options.chosenClass,!1);t._hideClone(),a()}},clone:function(e){var t=e.sortable,a=e.rootEl,l=e.dispatchSortableEvent,n=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||f_.length&&p_===t&&(w_(!0,a),l("clone"),n()))},showClone:function(e){var t=e.cloneNowShown,a=e.rootEl,l=e.cancel;this.isMultiDrag&&(w_(!1,a),g_.forEach(function(e){Ex(e,"display","")}),t(),h_=!1,l())},hideClone:function(e){var t=this;e.sortable;var a=e.cloneNowHidden,l=e.cancel;this.isMultiDrag&&(g_.forEach(function(e){Ex(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),a(),h_=!0,l())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&p_&&p_.multiDrag._deselectMultiDrag(),f_.forEach(function(e){e.sortableIndex=Lx(e)}),f_=f_.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),x_=!0},dragStarted:function(e){var t=this,a=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){f_.forEach(function(e){e!==m_&&Ex(e,"position","absolute")});var l=Ax(m_,!1,!0,!0);f_.forEach(function(e){e!==m_&&Ux(e,l)}),b_=!0,y_=!0}a.animateAll(function(){b_=!1,y_=!1,t.options.animation&&f_.forEach(function(e){qx(e)}),t.options.sort&&__()})}},dragOver:function(e){var t=e.target,a=e.completed,l=e.cancel;b_&&~f_.indexOf(t)&&(a(!1),l())},revert:function(e){var t=e.fromSortable,a=e.rootEl,l=e.sortable,n=e.dragRect;f_.length>1&&(f_.forEach(function(e){l.addAnimationState({target:e,rect:b_?Ax(e):n}),qx(e),e.fromRect=n,t.removeAnimationState(e)}),b_=!1,function(e,t){f_.forEach(function(a,l){var n=t.children[a.sortableIndex+(e?Number(l):0)];n?t.insertBefore(a,n):t.appendChild(a)})}(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(e){var t=e.sortable,a=e.isOwner,l=e.insertion,n=e.activeSortable,o=e.parentEl,s=e.putSortable,i=this.options;if(l){if(a&&n._hideClone(),y_=!1,i.animation&&f_.length>1&&(b_||!a&&!n.options.sort&&!s)){var r=Ax(m_,!1,!0,!0);f_.forEach(function(e){e!==m_&&(Ux(e,r),o.appendChild(e))}),b_=!0}if(!a)if(b_||__(),f_.length>1){var u=h_;n._showClone(t),n.options.animation&&!h_&&u&&g_.forEach(function(e){n.addAnimationState({target:e,rect:v_}),e.fromRect=v_,e.thisAnimationDuration=null})}else n._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,a=e.isOwner,l=e.activeSortable;if(f_.forEach(function(e){e.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){v_=ix({},t);var n=Tx(m_,!0);v_.top-=n.f,v_.left-=n.e}},dragOverAnimationComplete:function(){b_&&(b_=!1,__())},drop:function(e){var t=e.originalEvent,a=e.rootEl,l=e.parentEl,n=e.sortable,o=e.dispatchSortableEvent,s=e.oldIndex,i=e.putSortable,r=i||this.sortable;if(t){var u=this.options,d=l.children;if(!x_)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ix(m_,u.selectedClass,!~f_.indexOf(m_)),~f_.indexOf(m_))f_.splice(f_.indexOf(m_),1),c_=null,Kx({sortable:n,rootEl:a,name:"deselect",targetEl:m_});else{if(f_.push(m_),Kx({sortable:n,rootEl:a,name:"select",targetEl:m_}),t.shiftKey&&c_&&n.el.contains(c_)){var c,p,m=Lx(c_),v=Lx(m_);if(~m&&~v&&m!==v)for(v>m?(p=m,c=v):(p=v,c=m+1);p<c;p++)~f_.indexOf(d[p])||(Ix(d[p],u.selectedClass,!0),f_.push(d[p]),Kx({sortable:n,rootEl:a,name:"select",targetEl:d[p]}))}else c_=m_;p_=r}if(x_&&this.isMultiDrag){if(b_=!1,(l[Hx].options.sort||l!==a)&&f_.length>1){var h=Ax(m_),f=Lx(m_,":not(."+this.options.selectedClass+")");if(!y_&&u.animation&&(m_.thisAnimationDuration=null),r.captureAnimationState(),!y_&&(u.animation&&(m_.fromRect=h,f_.forEach(function(e){if(e.thisAnimationDuration=null,e!==m_){var t=b_?Ax(e):h;e.fromRect=t,r.addAnimationState({target:e,rect:t})}})),__(),f_.forEach(function(e){d[f]?l.insertBefore(e,d[f]):l.appendChild(e),f++}),s===Lx(m_))){var g=!1;f_.forEach(function(e){e.sortableIndex===Lx(e)||(g=!0)}),g&&o("update")}f_.forEach(function(e){qx(e)}),r.animateAll()}p_=r}(a===l||i&&"clone"!==i.lastPutMode)&&g_.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=x_=!1,g_.length=0},destroyGlobal:function(){this._deselectMultiDrag(),xx(document,"pointerup",this._deselectMultiDrag),xx(document,"mouseup",this._deselectMultiDrag),xx(document,"touchend",this._deselectMultiDrag),xx(document,"keydown",this._checkKeyDown),xx(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==x_&&x_||p_!==this.sortable||e&&kx(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;f_.length;){var t=f_[0];Ix(t,this.options.selectedClass,!1),f_.shift(),Kx({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ix(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[Hx];t&&t.options.multiDrag&&!~f_.indexOf(e)&&(p_&&p_!==t&&(p_.multiDrag._deselectMultiDrag(),p_=t),Ix(e,t.options.selectedClass,!0),f_.push(e))},deselect:function(e){var t=e.parentNode[Hx],a=f_.indexOf(e);t&&t.options.multiDrag&&~a&&(Ix(e,t.options.selectedClass,!1),f_.splice(a,1))}},eventProperties:function(){var e=this,t=[],a=[];return f_.forEach(function(l){var n;t.push({multiDragElement:l,index:l.sortableIndex}),n=b_&&l!==m_?-1:b_?Lx(l,":not(."+e.options.selectedClass+")"):Lx(l),a.push({multiDragElement:l,index:n})}),{items:ux(f_),clones:[].concat(g_),oldIndicies:t,newIndicies:a}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})},Sortable:qw,Swap:function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;s_=t},dragOverValid:function(e){var t=e.completed,a=e.target,l=e.onMove,n=e.activeSortable,o=e.changed,s=e.cancel;if(n.options.swap){var i=this.sortable.el,r=this.options;if(a&&a!==i){var u=s_;!1!==l(a)?(Ix(a,r.swapClass,!0),s_=a):s_=null,u&&u!==s_&&Ix(u,r.swapClass,!1)}o(),t(!0),s()}},drop:function(e){var t,a,l,n,o,s,i=e.activeSortable,r=e.putSortable,u=e.dragEl,d=r||this.sortable,c=this.options;s_&&Ix(s_,c.swapClass,!1),s_&&(c.swap||r&&r.options.swap)&&u!==s_&&(d.captureAnimationState(),d!==i&&i.captureAnimationState(),a=s_,o=(t=u).parentNode,s=a.parentNode,o&&s&&!o.isEqualNode(a)&&!s.isEqualNode(t)&&(l=Lx(t),n=Lx(a),o.isEqualNode(s)&&l<n&&n++,o.insertBefore(a,o.children[l]),s.insertBefore(t,s.children[n])),d.animateAll(),d!==i&&i.animateAll())},nulling:function(){s_=null}},ix(e,{pluginName:"swap",eventProperties:function(){return{swapItem:s_}}})},default:qw},Symbol.toStringTag,{value:"Module"})));!function(e){var t;"undefined"!=typeof self&&self,t=function(e,t){return function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="fb15")}({"00ee":function(e,t,a){var l={};l[a("b622")("toStringTag")]="z",e.exports="[object z]"===String(l)},"0366":function(e,t,a){var l=a("1c0b");e.exports=function(e,t,a){if(l(e),void 0===t)return e;switch(a){case 0:return function(){return e.call(t)};case 1:return function(a){return e.call(t,a)};case 2:return function(a,l){return e.call(t,a,l)};case 3:return function(a,l,n){return e.call(t,a,l,n)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,a){var l=a("fc6a"),n=a("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return n(e)}catch(Wie){return s.slice()}}(e):n(l(e))}},"06cf":function(e,t,a){var l=a("83ab"),n=a("d1e7"),o=a("5c6c"),s=a("fc6a"),i=a("c04e"),r=a("5135"),u=a("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=l?d:function(e,t){if(e=s(e),t=i(t,!0),u)try{return d(e,t)}catch(Wie){}if(r(e,t))return o(!n.f.call(e,t),e[t])}},"0cfb":function(e,t,a){var l=a("83ab"),n=a("d039"),o=a("cc12");e.exports=!l&&!n(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},"13d5":function(e,t,a){var l=a("23e7"),n=a("d58f").left,o=a("a640"),s=a("ae40"),i=o("reduce"),r=s("reduce",{1:0});l({target:"Array",proto:!0,forced:!i||!r},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,a){var l=a("c6b6"),n=a("9263");e.exports=function(e,t){var a=e.exec;if("function"==typeof a){var o=a.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==l(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"159b":function(e,t,a){var l=a("da84"),n=a("fdbc"),o=a("17c2"),s=a("9112");for(var i in n){var r=l[i],u=r&&r.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(Wie){u.forEach=o}}},"17c2":function(e,t,a){var l=a("b727").forEach,n=a("a640"),o=a("ae40"),s=n("forEach"),i=o("forEach");e.exports=s&&i?[].forEach:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,a){var l=a("d066");e.exports=l("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,a){var l=a("b622")("iterator"),n=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){n=!0}};s[l]=function(){return this},Array.from(s,function(){throw 2})}catch(Wie){}e.exports=function(e,t){if(!t&&!n)return!1;var a=!1;try{var o={};o[l]=function(){return{next:function(){return{done:a=!0}}}},e(o)}catch(Wie){}return a}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,a){var l=a("d039"),n=a("b622"),o=a("2d00"),s=n("species");e.exports=function(e){return o>=51||!l(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,a){var l=a("a691"),n=Math.max,o=Math.min;e.exports=function(e,t){var a=l(e);return a<0?n(a+t,0):o(a,t)}},"23e7":function(e,t,a){var l=a("da84"),n=a("06cf").f,o=a("9112"),s=a("6eeb"),i=a("ce4e"),r=a("e893"),u=a("94ca");e.exports=function(e,t){var a,d,c,p,m,v=e.target,h=e.global,f=e.stat;if(a=h?l:f?l[v]||i(v,{}):(l[v]||{}).prototype)for(d in t){if(p=t[d],c=e.noTargetGet?(m=n(a,d))&&m.value:a[d],!u(h?d:v+(f?".":"#")+d,e.forced)&&void 0!==c){if(typeof p==typeof c)continue;r(p,c)}(e.sham||c&&c.sham)&&o(p,"sham",!0),s(a,d,p,e)}}},"241c":function(e,t,a){var l=a("ca84"),n=a("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return l(e,n)}},"25f0":function(e,t,a){var l=a("6eeb"),n=a("825a"),o=a("d039"),s=a("ad6d"),i="toString",r=RegExp.prototype,u=r[i],d=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),c=u.name!=i;(d||c)&&l(RegExp.prototype,i,function(){var e=n(this),t=String(e.source),a=e.flags;return"/"+t+"/"+String(void 0===a&&e instanceof RegExp&&!("flags"in r)?s.call(e):a)},{unsafe:!0})},"2ca0":function(e,t,a){var l,n=a("23e7"),o=a("06cf").f,s=a("50c4"),i=a("5a34"),r=a("1d80"),u=a("ab13"),d=a("c430"),c="".startsWith,p=Math.min,m=u("startsWith");n({target:"String",proto:!0,forced:!(!d&&!m&&(l=o(String.prototype,"startsWith"),l&&!l.writable)||m)},{startsWith:function(e){var t=String(r(this));i(e);var a=s(p(arguments.length>1?arguments[1]:void 0,t.length)),l=String(e);return c?c.call(t,l,a):t.slice(a,a+l.length)===l}})},"2d00":function(e,t,a){var l,n,o=a("da84"),s=a("342f"),i=o.process,r=i&&i.versions,u=r&&r.v8;u?n=(l=u.split("."))[0]+l[1]:s&&(!(l=s.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=s.match(/Chrome\/(\d+)/))&&(n=l[1]),e.exports=n&&+n},"342f":function(e,t,a){var l=a("d066");e.exports=l("navigator","userAgent")||""},"35a1":function(e,t,a){var l=a("f5df"),n=a("3f8c"),o=a("b622")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||n[l(e)]}},"37e8":function(e,t,a){var l=a("83ab"),n=a("9bf2"),o=a("825a"),s=a("df75");e.exports=l?Object.defineProperties:function(e,t){o(e);for(var a,l=s(t),i=l.length,r=0;i>r;)n.f(e,a=l[r++],t[a]);return e}},"3bbe":function(e,t,a){var l=a("861d");e.exports=function(e){if(!l(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,a){var l=a("6547").charAt,n=a("69f3"),o=a("7dd0"),s="String Iterator",i=n.set,r=n.getterFor(s);o(String,"String",function(e){i(this,{type:s,string:String(e),index:0})},function(){var e,t=r(this),a=t.string,n=t.index;return n>=a.length?{value:void 0,done:!0}:(e=l(a,n),t.index+=e.length,{value:e,done:!1})})},"3f8c":function(e,t){e.exports={}},4160:function(e,t,a){var l=a("23e7"),n=a("17c2");l({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"428f":function(e,t,a){var l=a("da84");e.exports=l},"44ad":function(e,t,a){var l=a("d039"),n=a("c6b6"),o="".split;e.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==n(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,a){var l=a("b622"),n=a("7c73"),o=a("9bf2"),s=l("unscopables"),i=Array.prototype;null==i[s]&&o.f(i,s,{configurable:!0,value:n(null)}),e.exports=function(e){i[s][e]=!0}},"44e7":function(e,t,a){var l=a("861d"),n=a("c6b6"),o=a("b622")("match");e.exports=function(e){var t;return l(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==n(e))}},4930:function(e,t,a){var l=a("d039");e.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(e,t,a){var l=a("fc6a"),n=a("50c4"),o=a("23cb"),s=function(e){return function(t,a,s){var i,r=l(t),u=n(r.length),d=o(s,u);if(e&&a!=a){for(;u>d;)if((i=r[d++])!=i)return!0}else for(;u>d;d++)if((e||d in r)&&r[d]===a)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,a){var l=a("23e7"),n=a("b727").filter,o=a("1dde"),s=a("ae40"),i=o("filter"),r=s("filter");l({target:"Array",proto:!0,forced:!i||!r},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,a){var l=a("0366"),n=a("7b0b"),o=a("9bdd"),s=a("e95a"),i=a("50c4"),r=a("8418"),u=a("35a1");e.exports=function(e){var t,a,d,c,p,m,v=n(e),h="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,y=void 0!==g,b=u(v),x=0;if(y&&(g=l(g,f>2?arguments[2]:void 0,2)),null==b||h==Array&&s(b))for(a=new h(t=i(v.length));t>x;x++)m=y?g(v[x],x):v[x],r(a,x,m);else for(p=(c=b.call(v)).next,a=new h;!(d=p.call(c)).done;x++)m=y?o(c,g,[d.value,x],!0):d.value,r(a,x,m);return a.length=x,a}},"4fad":function(e,t,a){var l=a("23e7"),n=a("6f53").entries;l({target:"Object",stat:!0},{entries:function(e){return n(e)}})},"50c4":function(e,t,a){var l=a("a691"),n=Math.min;e.exports=function(e){return e>0?n(l(e),9007199254740991):0}},5135:function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},5319:function(e,t,a){var l=a("d784"),n=a("825a"),o=a("7b0b"),s=a("50c4"),i=a("a691"),r=a("1d80"),u=a("8aa5"),d=a("14c3"),c=Math.max,p=Math.min,m=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};l("replace",2,function(e,t,a,l){var g=l.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=l.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(a,l){var n=r(this),o=null==a?void 0:a[e];return void 0!==o?o.call(a,n,l):t.call(String(n),a,l)},function(e,l){if(!g&&y||"string"==typeof l&&-1===l.indexOf(b)){var o=a(t,e,this,l);if(o.done)return o.value}var r=n(e),m=String(this),v="function"==typeof l;v||(l=String(l));var h=r.global;if(h){var w=r.unicode;r.lastIndex=0}for(var _=[];;){var k=d(r,m);if(null===k)break;if(_.push(k),!h)break;""===String(k[0])&&(r.lastIndex=u(m,s(r.lastIndex),w))}for(var S="",C=0,I=0;I<_.length;I++){k=_[I];for(var E=String(k[0]),T=c(p(i(k.index),m.length),0),N=[],M=1;M<k.length;M++)N.push(f(k[M]));var A=k.groups;if(v){var O=[E].concat(N,T,m);void 0!==A&&O.push(A);var P=String(l.apply(void 0,O))}else P=x(E,m,T,N,A,l);T>=C&&(S+=m.slice(C,T)+P,C=T+E.length)}return S+m.slice(C)}];function x(e,a,l,n,s,i){var r=l+e.length,u=n.length,d=h;return void 0!==s&&(s=o(s),d=v),t.call(i,d,function(t,o){var i;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,l);case"'":return a.slice(r);case"<":i=s[o.slice(1,-1)];break;default:var d=+o;if(0===d)return t;if(d>u){var c=m(d/10);return 0===c?t:c<=u?void 0===n[c-1]?o.charAt(1):n[c-1]+o.charAt(1):t}i=n[d-1]}return void 0===i?"":i})}})},5692:function(e,t,a){var l=a("c430"),n=a("c6cd");(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,a){var l=a("d066"),n=a("241c"),o=a("7418"),s=a("825a");e.exports=l("Reflect","ownKeys")||function(e){var t=n.f(s(e)),a=o.f;return a?t.concat(a(e)):t}},"5a34":function(e,t,a){var l=a("44e7");e.exports=function(e){if(l(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,a){var l=a("23e7"),n=a("a2bf"),o=a("7b0b"),s=a("50c4"),i=a("1c0b"),r=a("65f0");l({target:"Array",proto:!0},{flatMap:function(e){var t,a=o(this),l=s(a.length);return i(e),(t=r(a,0)).length=n(t,a,a,l,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,a){var l=a("a691"),n=a("1d80"),o=function(e){return function(t,a){var o,s,i=String(n(t)),r=l(a),u=i.length;return r<0||r>=u?e?"":void 0:(o=i.charCodeAt(r))<55296||o>56319||r+1===u||(s=i.charCodeAt(r+1))<56320||s>57343?e?i.charAt(r):o:e?i.slice(r,r+2):s-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,a){var l=a("861d"),n=a("e8b5"),o=a("b622")("species");e.exports=function(e,t){var a;return n(e)&&("function"!=typeof(a=e.constructor)||a!==Array&&!n(a.prototype)?l(a)&&null===(a=a[o])&&(a=void 0):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"69f3":function(e,t,a){var l,n,o,s=a("7f9a"),i=a("da84"),r=a("861d"),u=a("9112"),d=a("5135"),c=a("f772"),p=a("d012"),m=i.WeakMap;if(s){var v=new m,h=v.get,f=v.has,g=v.set;l=function(e,t){return g.call(v,e,t),t},n=function(e){return h.call(v,e)||{}},o=function(e){return f.call(v,e)}}else{var y=c("state");p[y]=!0,l=function(e,t){return u(e,y,t),t},n=function(e){return d(e,y)?e[y]:{}},o=function(e){return d(e,y)}}e.exports={set:l,get:n,has:o,enforce:function(e){return o(e)?n(e):l(e,{})},getterFor:function(e){return function(t){var a;if(!r(t)||(a=n(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return a}}}},"6eeb":function(e,t,a){var l=a("da84"),n=a("9112"),o=a("5135"),s=a("ce4e"),i=a("8925"),r=a("69f3"),u=r.get,d=r.enforce,c=String(String).split("String");(e.exports=function(e,t,a,i){var r=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,p=!!i&&!!i.noTargetGet;"function"==typeof a&&("string"!=typeof t||o(a,"name")||n(a,"name",t),d(a).source=c.join("string"==typeof t?t:"")),e!==l?(r?!p&&e[t]&&(u=!0):delete e[t],u?e[t]=a:n(e,t,a)):u?e[t]=a:s(t,a)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||i(this)})},"6f53":function(e,t,a){var l=a("83ab"),n=a("df75"),o=a("fc6a"),s=a("d1e7").f,i=function(e){return function(t){for(var a,i=o(t),r=n(i),u=r.length,d=0,c=[];u>d;)a=r[d++],l&&!s.call(i,a)||c.push(e?[a,i[a]]:i[a]);return c}};e.exports={entries:i(!0),values:i(!1)}},"73d9":function(e,t,a){a("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,a){var l=a("428f"),n=a("5135"),o=a("e538"),s=a("9bf2").f;e.exports=function(e){var t=l.Symbol||(l.Symbol={});n(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,a){var l=a("1d80");e.exports=function(e){return Object(l(e))}},"7c73":function(e,t,a){var l,n=a("825a"),o=a("37e8"),s=a("7839"),i=a("d012"),r=a("1be4"),u=a("cc12"),d=a("f772"),c="prototype",p="script",m=d("IE_PROTO"),v=function(){},h=function(e){return"<"+p+">"+e+"</"+p+">"},f=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch(Wie){}var e,t,a;f=l?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(l):(t=u("iframe"),a="java"+p+":",t.style.display="none",r.appendChild(t),t.src=String(a),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f[c][s[n]];return f()};i[m]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(v[c]=n(e),a=new v,v[c]=null,a[m]=e):a=f(),void 0===t?a:o(a,t)}},"7dd0":function(e,t,a){var l=a("23e7"),n=a("9ed3"),o=a("e163"),s=a("d2bb"),i=a("d44e"),r=a("9112"),u=a("6eeb"),d=a("b622"),c=a("c430"),p=a("3f8c"),m=a("ae93"),v=m.IteratorPrototype,h=m.BUGGY_SAFARI_ITERATORS,f=d("iterator"),g="keys",y="values",b="entries",x=function(){return this};e.exports=function(e,t,a,d,m,w,_){n(a,t,d);var k,S,C,I=function(e){if(e===m&&A)return A;if(!h&&e in N)return N[e];switch(e){case g:case y:case b:return function(){return new a(this,e)}}return function(){return new a(this)}},E=t+" Iterator",T=!1,N=e.prototype,M=N[f]||N["@@iterator"]||m&&N[m],A=!h&&M||I(m),O="Array"==t&&N.entries||M;if(O&&(k=o(O.call(new e)),v!==Object.prototype&&k.next&&(c||o(k)===v||(s?s(k,v):"function"!=typeof k[f]&&r(k,f,x)),i(k,E,!0,!0),c&&(p[E]=x))),m==y&&M&&M.name!==y&&(T=!0,A=function(){return M.call(this)}),c&&!_||N[f]===A||r(N,f,A),p[t]=A,m)if(S={values:I(y),keys:w?A:I(g),entries:I(b)},_)for(C in S)(h||T||!(C in N))&&u(N,C,S[C]);else l({target:t,proto:!0,forced:h||T},S);return S}},"7f9a":function(e,t,a){var l=a("da84"),n=a("8925"),o=l.WeakMap;e.exports="function"==typeof o&&/native code/.test(n(o))},"825a":function(e,t,a){var l=a("861d");e.exports=function(e){if(!l(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,a){var l=a("d039");e.exports=!l(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},8418:function(e,t,a){var l=a("c04e"),n=a("9bf2"),o=a("5c6c");e.exports=function(e,t,a){var s=l(t);s in e?n.f(e,s,o(0,a)):e[s]=a}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,a){var l,n,o;"undefined"!=typeof self&&self,n=[],void 0===(o="function"==typeof(l=function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var a,l,n,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(p.stack)||o.exec(p.stack),i=s&&s[1]||!1,r=s&&s[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");i===u&&(a=document.documentElement.outerHTML,l=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=a.replace(l,"$1").trim());for(var c=0;c<d.length;c++){if("interactive"===d[c].readyState)return d[c];if(d[c].src===i)return d[c];if(i===u&&d[c].innerHTML&&d[c].innerHTML.trim()===n)return d[c]}return null}}return e})?l.apply(t,n):l)||(e.exports=o)},8925:function(e,t,a){var l=a("c6cd"),n=Function.toString;"function"!=typeof l.inspectSource&&(l.inspectSource=function(e){return n.call(e)}),e.exports=l.inspectSource},"8aa5":function(e,t,a){var l=a("6547").charAt;e.exports=function(e,t,a){return t+(a?l(e,t).length:1)}},"8bbf":function(t,a){t.exports=e},"90e3":function(e,t){var a=0,l=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++a+l).toString(36)}},9112:function(e,t,a){var l=a("83ab"),n=a("9bf2"),o=a("5c6c");e.exports=l?function(e,t,a){return n.f(e,t,o(1,a))}:function(e,t,a){return e[t]=a,e}},9263:function(e,t,a){var l,n,o=a("ad6d"),s=a("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,u=i,d=(l=/a/,n=/b*/g,i.call(l,"a"),i.call(n,"a"),0!==l.lastIndex||0!==n.lastIndex),c=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(d||p||c)&&(u=function(e){var t,a,l,n,s=this,u=c&&s.sticky,m=o.call(s),v=s.source,h=0,f=e;return u&&(-1===(m=m.replace("y","")).indexOf("g")&&(m+="g"),f=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(v="(?: "+v+")",f=" "+f,h++),a=new RegExp("^(?:"+v+")",m)),p&&(a=new RegExp("^"+v+"$(?!\\s)",m)),d&&(t=s.lastIndex),l=i.call(u?a:s,f),u?l?(l.input=l.input.slice(h),l[0]=l[0].slice(h),l.index=s.lastIndex,s.lastIndex+=l[0].length):s.lastIndex=0:d&&l&&(s.lastIndex=s.global?l.index+l[0].length:t),p&&l&&l.length>1&&r.call(l[0],a,function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(l[n]=void 0)}),l}),e.exports=u},"94ca":function(e,t,a){var l=a("d039"),n=/#|\.prototype\./,o=function(e,t){var a=i[s(e)];return a==u||a!=r&&("function"==typeof t?l(t):!!t)},s=o.normalize=function(e){return String(e).replace(n,".").toLowerCase()},i=o.data={},r=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"99af":function(e,t,a){var l=a("23e7"),n=a("d039"),o=a("e8b5"),s=a("861d"),i=a("7b0b"),r=a("50c4"),u=a("8418"),d=a("65f0"),c=a("1dde"),p=a("b622"),m=a("2d00"),v=p("isConcatSpreadable"),h=9007199254740991,f="Maximum allowed index exceeded",g=m>=51||!n(function(){var e=[];return e[v]=!1,e.concat()[0]!==e}),y=c("concat"),b=function(e){if(!s(e))return!1;var t=e[v];return void 0!==t?!!t:o(e)};l({target:"Array",proto:!0,forced:!g||!y},{concat:function(e){var t,a,l,n,o,s=i(this),c=d(s,0),p=0;for(t=-1,l=arguments.length;t<l;t++)if(b(o=-1===t?s:arguments[t])){if(p+(n=r(o.length))>h)throw TypeError(f);for(a=0;a<n;a++,p++)a in o&&u(c,p,o[a])}else{if(p>=h)throw TypeError(f);u(c,p++,o)}return c.length=p,c}})},"9bdd":function(e,t,a){var l=a("825a");e.exports=function(e,t,a,n){try{return n?t(l(a)[0],a[1]):t(a)}catch(Wie){var o=e.return;throw void 0!==o&&l(o.call(e)),Wie}}},"9bf2":function(e,t,a){var l=a("83ab"),n=a("0cfb"),o=a("825a"),s=a("c04e"),i=Object.defineProperty;t.f=l?i:function(e,t,a){if(o(e),t=s(t,!0),o(a),n)try{return i(e,t,a)}catch(Wie){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},"9ed3":function(e,t,a){var l=a("ae93").IteratorPrototype,n=a("7c73"),o=a("5c6c"),s=a("d44e"),i=a("3f8c"),r=function(){return this};e.exports=function(e,t,a){var u=t+" Iterator";return e.prototype=n(l,{next:o(1,a)}),s(e,u,!1,!0),i[u]=r,e}},"9f7f":function(e,t,a){var l=a("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=l(function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=l(function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},a2bf:function(e,t,a){var l=a("e8b5"),n=a("50c4"),o=a("0366"),s=function(e,t,a,i,r,u,d,c){for(var p,m=r,v=0,h=!!d&&o(d,c,3);v<i;){if(v in a){if(p=h?h(a[v],v,t):a[v],u>0&&l(p))m=s(e,t,p,n(p.length),m,u-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[m]=p}m++}v++}return m};e.exports=s},a352:function(e,a){e.exports=t},a434:function(e,t,a){var l=a("23e7"),n=a("23cb"),o=a("a691"),s=a("50c4"),i=a("7b0b"),r=a("65f0"),u=a("8418"),d=a("1dde"),c=a("ae40"),p=d("splice"),m=c("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,h=Math.min;l({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var a,l,d,c,p,m,f=i(this),g=s(f.length),y=n(e,g),b=arguments.length;if(0===b?a=l=0:1===b?(a=0,l=g-y):(a=b-2,l=h(v(o(t),0),g-y)),g+a-l>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=r(f,l),c=0;c<l;c++)(p=y+c)in f&&u(d,c,f[p]);if(d.length=l,a<l){for(c=y;c<g-l;c++)m=c+a,(p=c+l)in f?f[m]=f[p]:delete f[m];for(c=g;c>g-l+a;c--)delete f[c-1]}else if(a>l)for(c=g-l;c>y;c--)m=c+a-1,(p=c+l-1)in f?f[m]=f[p]:delete f[m];for(c=0;c<a;c++)f[c+y]=arguments[c+2];return f.length=g-l+a,d}})},a4d3:function(e,t,a){var l=a("23e7"),n=a("da84"),o=a("d066"),s=a("c430"),i=a("83ab"),r=a("4930"),u=a("fdbf"),d=a("d039"),c=a("5135"),p=a("e8b5"),m=a("861d"),v=a("825a"),h=a("7b0b"),f=a("fc6a"),g=a("c04e"),y=a("5c6c"),b=a("7c73"),x=a("df75"),w=a("241c"),_=a("057f"),k=a("7418"),S=a("06cf"),C=a("9bf2"),I=a("d1e7"),E=a("9112"),T=a("6eeb"),N=a("5692"),M=a("f772"),A=a("d012"),O=a("90e3"),P=a("b622"),F=a("e538"),L=a("746f"),D=a("d44e"),V=a("69f3"),B=a("b727").forEach,$=M("hidden"),R="Symbol",z="prototype",U=P("toPrimitive"),q=V.set,H=V.getterFor(R),j=Object[z],W=n.Symbol,Y=o("JSON","stringify"),G=S.f,K=C.f,X=_.f,J=I.f,Q=N("symbols"),Z=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),ae=N("wks"),le=n.QObject,ne=!le||!le[z]||!le[z].findChild,oe=i&&d(function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(e,t,a){var l=G(j,t);l&&delete j[t],K(e,t,a),l&&e!==j&&K(j,t,l)}:K,se=function(e,t){var a=Q[e]=b(W[z]);return q(a,{type:R,tag:e,description:t}),i||(a.description=t),a},ie=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},re=function(e,t,a){e===j&&re(Z,t,a),v(e);var l=g(t,!0);return v(a),c(Q,l)?(a.enumerable?(c(e,$)&&e[$][l]&&(e[$][l]=!1),a=b(a,{enumerable:y(0,!1)})):(c(e,$)||K(e,$,y(1,{})),e[$][l]=!0),oe(e,l,a)):K(e,l,a)},ue=function(e,t){v(e);var a=f(t),l=x(a).concat(me(a));return B(l,function(t){i&&!de.call(a,t)||re(e,t,a[t])}),e},de=function(e){var t=g(e,!0),a=J.call(this,t);return!(this===j&&c(Q,t)&&!c(Z,t))&&(!(a||!c(this,t)||!c(Q,t)||c(this,$)&&this[$][t])||a)},ce=function(e,t){var a=f(e),l=g(t,!0);if(a!==j||!c(Q,l)||c(Z,l)){var n=G(a,l);return!n||!c(Q,l)||c(a,$)&&a[$][l]||(n.enumerable=!0),n}},pe=function(e){var t=X(f(e)),a=[];return B(t,function(e){c(Q,e)||c(A,e)||a.push(e)}),a},me=function(e){var t=e===j,a=X(t?Z:f(e)),l=[];return B(a,function(e){!c(Q,e)||t&&!c(j,e)||l.push(Q[e])}),l};r||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=O(e),a=function(e){this===j&&a.call(Z,e),c(this,$)&&c(this[$],t)&&(this[$][t]=!1),oe(this,t,y(1,e))};return i&&ne&&oe(j,t,{configurable:!0,set:a}),se(t,e)},T(W[z],"toString",function(){return H(this).tag}),T(W,"withoutSetter",function(e){return se(O(e),e)}),I.f=de,C.f=re,S.f=ce,w.f=_.f=pe,k.f=me,F.f=function(e){return se(P(e),e)},i&&(K(W[z],"description",{configurable:!0,get:function(){return H(this).description}}),s||T(j,"propertyIsEnumerable",de,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!r,sham:!r},{Symbol:W}),B(x(ae),function(e){L(e)}),l({target:R,stat:!0,forced:!r},{for:function(e){var t=String(e);if(c(ee,t))return ee[t];var a=W(t);return ee[t]=a,te[a]=t,a},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(c(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),l({target:"Object",stat:!0,forced:!r,sham:!i},{create:function(e,t){return void 0===t?b(e):ue(b(e),t)},defineProperty:re,defineProperties:ue,getOwnPropertyDescriptor:ce}),l({target:"Object",stat:!0,forced:!r},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),l({target:"Object",stat:!0,forced:d(function(){k.f(1)})},{getOwnPropertySymbols:function(e){return k.f(h(e))}}),Y&&l({target:"JSON",stat:!0,forced:!r||d(function(){var e=W();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))})},{stringify:function(e,t,a){for(var l,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(l=t,(m(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof l&&(t=l.call(this,e,t)),!ie(t))return t}),n[1]=t,Y.apply(null,n)}}),W[z][U]||E(W[z],U,W[z].valueOf),D(W,R),A[$]=!0},a630:function(e,t,a){var l=a("23e7"),n=a("4df4");l({target:"Array",stat:!0,forced:!a("1c7e")(function(e){Array.from(e)})},{from:n})},a640:function(e,t,a){var l=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&l(function(){a.call(null,t||function(){throw 1},1)})}},a691:function(e,t){var a=Math.ceil,l=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?l:a)(e)}},ab13:function(e,t,a){var l=a("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(SJ){try{return t[l]=!1,"/./"[e](t)}catch(a){}}return!1}},ac1f:function(e,t,a){var l=a("23e7"),n=a("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,a){var l=a("825a");e.exports=function(){var e=l(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,a){var l=a("83ab"),n=a("d039"),o=a("5135"),s=Object.defineProperty,i={},r=function(e){throw e};e.exports=function(e,t){if(o(i,e))return i[e];t||(t={});var a=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,d=o(t,0)?t[0]:r,c=o(t,1)?t[1]:void 0;return i[e]=!!a&&!n(function(){if(u&&!l)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:r}):e[1]=1,a.call(e,d,c)})}},ae93:function(e,t,a){var l,n,o,s=a("e163"),i=a("9112"),r=a("5135"),u=a("b622"),d=a("c430"),c=u("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(n=s(s(o)))!==Object.prototype&&(l=n):p=!0),null==l&&(l={}),d||r(l,c)||i(l,c,function(){return this}),e.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,a){var l=a("00ee"),n=a("f5df");e.exports=l?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(e,t,a){var l=a("83ab"),n=a("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,r="name";l&&!(r in o)&&n(o,r,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(Wie){return""}}})},b622:function(e,t,a){var l=a("da84"),n=a("5692"),o=a("5135"),s=a("90e3"),i=a("4930"),r=a("fdbf"),u=n("wks"),d=l.Symbol,c=r?d:d&&d.withoutSetter||s;e.exports=function(e){return o(u,e)||(i&&o(d,e)?u[e]=d[e]:u[e]=c("Symbol."+e)),u[e]}},b64b:function(e,t,a){var l=a("23e7"),n=a("7b0b"),o=a("df75");l({target:"Object",stat:!0,forced:a("d039")(function(){o(1)})},{keys:function(e){return o(n(e))}})},b727:function(e,t,a){var l=a("0366"),n=a("44ad"),o=a("7b0b"),s=a("50c4"),i=a("65f0"),r=[].push,u=function(e){var t=1==e,a=2==e,u=3==e,d=4==e,c=6==e,p=5==e||c;return function(m,v,h,f){for(var g,y,b=o(m),x=n(b),w=l(v,h,3),_=s(x.length),k=0,S=f||i,C=t?S(m,_):a?S(m,0):void 0;_>k;k++)if((p||k in x)&&(y=w(g=x[k],k,b),e))if(t)C[k]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:r.call(C,g)}else if(d)return!1;return c?-1:u||d?d:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c04e:function(e,t,a){var l=a("861d");e.exports=function(e,t){if(!l(e))return e;var a,n;if(t&&"function"==typeof(a=e.toString)&&!l(n=a.call(e)))return n;if("function"==typeof(a=e.valueOf)&&!l(n=a.call(e)))return n;if(!t&&"function"==typeof(a=e.toString)&&!l(n=a.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var a={}.toString;e.exports=function(e){return a.call(e).slice(8,-1)}},c6cd:function(e,t,a){var l=a("da84"),n=a("ce4e"),o="__core-js_shared__",s=l[o]||n(o,{});e.exports=s},c740:function(e,t,a){var l=a("23e7"),n=a("b727").findIndex,o=a("44d2"),s=a("ae40"),i="findIndex",r=!0,u=s(i);i in[]&&Array(1)[i](function(){r=!1}),l({target:"Array",proto:!0,forced:r||!u},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},c8ba:function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(SJ){"object"==typeof window&&(a=window)}e.exports=a},c975:function(e,t,a){var l=a("23e7"),n=a("4d64").indexOf,o=a("a640"),s=a("ae40"),i=[].indexOf,r=!!i&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:r||!u||!d},{indexOf:function(e){return r?i.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,a){var l=a("5135"),n=a("fc6a"),o=a("4d64").indexOf,s=a("d012");e.exports=function(e,t){var a,i=n(e),r=0,u=[];for(a in i)!l(s,a)&&l(i,a)&&u.push(a);for(;t.length>r;)l(i,a=t[r++])&&(~o(u,a)||u.push(a));return u}},caad:function(e,t,a){var l=a("23e7"),n=a("4d64").includes,o=a("44d2");l({target:"Array",proto:!0,forced:!a("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(e,t,a){var l=a("da84"),n=a("861d"),o=l.document,s=n(o)&&n(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,a){var l=a("da84"),n=a("9112");e.exports=function(e,t){try{n(l,e,t)}catch(Wie){l[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(Wie){return!0}}},d066:function(e,t,a){var l=a("428f"),n=a("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(l[e])||o(n[e]):l[e]&&l[e][t]||n[e]&&n[e][t]}},d1e7:function(e,t,a){var l={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!l.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:l},d28b:function(e,t,a){a("746f")("iterator")},d2bb:function(e,t,a){var l=a("825a"),n=a("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]),t=a instanceof Array}catch(Wie){}return function(a,o){return l(a),n(o),t?e.call(a,o):a.__proto__=o,a}}():void 0)},d3b7:function(e,t,a){var l=a("00ee"),n=a("6eeb"),o=a("b041");l||n(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,a){var l=a("9bf2").f,n=a("5135"),o=a("b622")("toStringTag");e.exports=function(e,t,a){e&&!n(e=a?e:e.prototype,o)&&l(e,o,{configurable:!0,value:t})}},d58f:function(e,t,a){var l=a("1c0b"),n=a("7b0b"),o=a("44ad"),s=a("50c4"),i=function(e){return function(t,a,i,r){l(a);var u=n(t),d=o(u),c=s(u.length),p=e?c-1:0,m=e?-1:1;if(i<2)for(;;){if(p in d){r=d[p],p+=m;break}if(p+=m,e?p<0:c<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:c>p;p+=m)p in d&&(r=a(r,d[p],p,u));return r}};e.exports={left:i(!1),right:i(!0)}},d784:function(e,t,a){a("ac1f");var l=a("6eeb"),n=a("d039"),o=a("b622"),s=a("9263"),i=a("9112"),r=o("species"),u=!n(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d="$0"==="a".replace(/./,"$0"),c=o("replace"),p=!!/./[c]&&""===/./[c]("a","$0"),m=!n(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]});e.exports=function(e,t,a,c){var v=o(e),h=!n(function(){var t={};return t[v]=function(){return 7},7!=""[e](t)}),f=h&&!n(function(){var t=!1,a=/a/;return"split"===e&&((a={}).constructor={},a.constructor[r]=function(){return a},a.flags="",a[v]=/./[v]),a.exec=function(){return t=!0,null},a[v](""),!t});if(!h||!f||"replace"===e&&(!u||!d||p)||"split"===e&&!m){var g=/./[v],y=a(v,""[e],function(e,t,a,l,n){return t.exec===s?h&&!n?{done:!0,value:g.call(t,a,l)}:{done:!0,value:e.call(a,t,l)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=y[0],x=y[1];l(String.prototype,e,b),l(RegExp.prototype,v,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}c&&i(RegExp.prototype[v],"sham",!0)}},d81d:function(e,t,a){var l=a("23e7"),n=a("b727").map,o=a("1dde"),s=a("ae40"),i=o("map"),r=s("map");l({target:"Array",proto:!0,forced:!i||!r},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,a){(function(t){var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof t&&t)||Function("return this")()}).call(this,a("c8ba"))},dbb4:function(e,t,a){var l=a("23e7"),n=a("83ab"),o=a("56ef"),s=a("fc6a"),i=a("06cf"),r=a("8418");l({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){for(var t,a,l=s(e),n=i.f,u=o(l),d={},c=0;u.length>c;)void 0!==(a=n(l,t=u[c++]))&&r(d,t,a);return d}})},dbf1:function(e,t,a){(function(e){a.d(t,"a",function(){return l});var l="undefined"!=typeof window?window.console:e.console}).call(this,a("c8ba"))},ddb0:function(e,t,a){var l=a("da84"),n=a("fdbc"),o=a("e260"),s=a("9112"),i=a("b622"),r=i("iterator"),u=i("toStringTag"),d=o.values;for(var c in n){var p=l[c],m=p&&p.prototype;if(m){if(m[r]!==d)try{s(m,r,d)}catch(Wie){m[r]=d}if(m[u]||s(m,u,c),n[c])for(var v in o)if(m[v]!==o[v])try{s(m,v,o[v])}catch(Wie){m[v]=o[v]}}}},df75:function(e,t,a){var l=a("ca84"),n=a("7839");e.exports=Object.keys||function(e){return l(e,n)}},e01a:function(e,t,a){var l=a("23e7"),n=a("83ab"),o=a("da84"),s=a("5135"),i=a("861d"),r=a("9bf2").f,u=a("e893"),d=o.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var c={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(c[t]=!0),t};u(p,d);var m=p.prototype=d.prototype;m.constructor=p;var v=m.toString,h="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;r(m,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=v.call(e);if(s(c,e))return"";var a=h?t.slice(7,-1):t.replace(f,"$1");return""===a?void 0:a}}),l({global:!0,forced:!0},{Symbol:p})}},e163:function(e,t,a){var l=a("5135"),n=a("7b0b"),o=a("f772"),s=a("e177"),i=o("IE_PROTO"),r=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=n(e),l(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},e177:function(e,t,a){var l=a("d039");e.exports=!l(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},e260:function(e,t,a){var l=a("fc6a"),n=a("44d2"),o=a("3f8c"),s=a("69f3"),i=a("7dd0"),r="Array Iterator",u=s.set,d=s.getterFor(r);e.exports=i(Array,"Array",function(e,t){u(this,{type:r,target:l(e),index:0,kind:t})},function(){var e=d(this),t=e.target,a=e.kind,l=e.index++;return!t||l>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==a?{value:l,done:!1}:"values"==a?{value:t[l],done:!1}:{value:[l,t[l]],done:!1}},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},e439:function(e,t,a){var l=a("23e7"),n=a("d039"),o=a("fc6a"),s=a("06cf").f,i=a("83ab"),r=n(function(){s(1)});l({target:"Object",stat:!0,forced:!i||r,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},e538:function(e,t,a){var l=a("b622");t.f=l},e893:function(e,t,a){var l=a("5135"),n=a("56ef"),o=a("06cf"),s=a("9bf2");e.exports=function(e,t){for(var a=n(t),i=s.f,r=o.f,u=0;u<a.length;u++){var d=a[u];l(e,d)||i(e,d,r(t,d))}}},e8b5:function(e,t,a){var l=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==l(e)}},e95a:function(e,t,a){var l=a("b622"),n=a("3f8c"),o=l("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[o]===e)}},f5df:function(e,t,a){var l=a("00ee"),n=a("c6b6"),o=a("b622")("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=l?n:function(e){var t,a,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(Wie){}}(t=Object(e),o))?a:s?n(t):"Object"==(l=n(t))&&"function"==typeof t.callee?"Arguments":l}},f772:function(e,t,a){var l=a("5692"),n=a("90e3"),o=l("keys");e.exports=function(e){return o[e]||(o[e]=n(e))}},fb15:function(e,t,a){if(a.r(t),"undefined"!=typeof window){var l=window.document.currentScript,n=a("8875");l=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var o=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(a.p=o[1])}function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){s(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],l=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(l=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);l=!0);}catch(r){n=!0,o=r}finally{try{l||null==i.return||i.return()}finally{if(n)throw o}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0"),a("a630"),a("fb6a"),a("b0c0"),a("25f0");var m=a("a352"),v=a.n(m);function h(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function f(e,t,a){var l=0===a?e.children[0]:e.children[a-1].nextSibling;e.insertBefore(t,l)}var g=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");var y,b,x=/-(\w)/g,w=(y=function(e){return e.replace(x,function(e,t){return t.toUpperCase()})},b=Object.create(null),function(e){return b[e]||(b[e]=y(e))});a("5db7"),a("73d9");var _=["Start","Add","Remove","Update","End"],k=["Choose","Unchoose","Sort","Filter","Clone"],S=["Move"],C=[S,_,k].flatMap(function(e){return e}).map(function(e){return"on".concat(e)}),I={manage:S,manageAndEmit:_,emit:k};a("caad"),a("2ca0");var E=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function T(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function N(e){return e.reduce(function(e,t){var a=c(t,2),l=a[0],n=a[1];return e[l]=n,e},{})}function M(e){return Object.entries(e).filter(function(e){var t=c(e,2),a=t[0];return t[1],!T(a)}).map(function(e){var t=c(e,2),a=t[0],l=t[1];return[w(a),l]}).filter(function(e){var t,a=c(e,2),l=a[0];return a[1],t=l,!(-1!==C.indexOf(t))})}function A(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}(e.prototype,t),e}a("c740");var O=function(e){return e.el},P=function(e){return e.__draggable_context},F=function(){function e(t){var a=t.nodes,l=a.header,n=a.default,o=a.footer,s=t.root,i=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=n,this.children=[].concat(p(l),p(n),p(o)),this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=i}return A(e,[{key:"render",value:function(e,t){var a=this.tag,l=this.children;return e(a,t,this._isRootComponent?{default:function(){return l}}:l)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach(function(e,a){var l,n;l=O(e),n={element:t[a],index:a},l.__draggable_context=n})}},{key:"getUnderlyingVm",value:function(e){return P(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var a=this.defaultNodes,l=a.length,n=t.children,o=n.item(e);if(null===o)return l;var s=P(o);if(s)return s.index;if(0===l)return 0;var i=O(a[0]);return e<p(n).findIndex(function(e){return e===i})?0:l}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),e}(),L=a("8bbf");function D(e){var t=["transition-group","TransitionGroup"].includes(e),a=!function(e){return E.includes(e)}(e)&&!t;return{transition:t,externalComponent:a,tag:a?Object(L.resolveComponent)(e):t?L.TransitionGroup:e}}function V(e){var t=e.$slots,a=e.tag,l=e.realList,n=function(e){var t=e.$slots,a=e.realList,l=e.getKey,n=a||[],o=c(["header","footer"].map(function(e){return(a=t[e])?a():[];var a}),2),s=o[0],i=o[1],u=t.item;if(!u)throw new Error("draggable element must have an item slot");var d=n.flatMap(function(e,t){return u({element:e,index:t}).map(function(t){return t.key=l(e),t.props=r(r({},t.props||{}),{},{"data-draggable":!0}),t})});if(d.length!==n.length)throw new Error("Item slot must have only one child");return{header:s,footer:i,default:d}}({$slots:t,realList:l,getKey:e.getKey}),o=D(a);return new F({nodes:n,root:o,realList:l})}function B(e,t){var a=this;Object(L.nextTick)(function(){return a.$emit(e.toLowerCase(),t)})}function $(e){var t=this;return function(a,l){if(null!==t.realList)return t["onDrag".concat(e)](a,l)}}function R(e){var t=this,a=$.call(this,e);return function(l,n){a.call(t,l,n),B.call(t,e,l)}}var z=null,U={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},q=["update:modelValue","change"].concat(p([].concat(p(I.manageAndEmit),p(I.emit)).map(function(e){return e.toLowerCase()}))),H=Object(L.defineComponent)({name:"draggable",inheritAttrs:!1,props:U,emits:q,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,a=this.tag,l=this.componentData,n=V({$slots:e,tag:a,realList:this.realList,getKey:this.getKey});this.componentStructure=n;var o=function(e){var t=e.$attrs,a=e.componentData,l=void 0===a?{}:a;return r(r({},N(Object.entries(t).filter(function(e){var t=c(e,2),a=t[0];return t[1],T(a)}))),l)}({$attrs:t,componentData:l});return n.render(L.h,o)}catch(s){return this.error=!0,Object(L.h)("pre",{style:{color:"red"}},s.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&g.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,a=this.$el;this.componentStructure.updated();var l=function(e){var t=e.$attrs,a=e.callBackBuilder,l=N(M(t));Object.entries(a).forEach(function(e){var t=c(e,2),a=t[0],n=t[1];I[a].forEach(function(e){l["on".concat(e)]=n(e)})});var n="[data-draggable]".concat(l.draggable||"");return r(r({},l),{},{draggable:n})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return R.call(e,t)},emit:function(t){return B.bind(e,t)},manage:function(t){return $.call(e,t)}}}),n=1===a.nodeType?a:a.parentElement;this._sortable=new v.a(n,l),this.targetDomElement=n,n.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&M(e).forEach(function(e){var a=c(e,2),l=a[0],n=a[1];t.option(l,n)})},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(L.nextTick)(function(){return t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=p(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments;this.alterList(function(t){return t.splice.apply(t,p(e))})},updatePosition:function(e,t){this.alterList(function(a){return a.splice(t,0,a.splice(e,1)[0])})},getRelatedContextFromMoveEvent:function(e){var t=e.to,a=e.related,l=this.getUnderlyingPotencialDraggableComponent(t);if(!l)return{component:l};var n=l.realList,o={list:n,component:l};return t!==a&&n?r(r({},l.getUnderlyingVm(a)||{}),o):o},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),z=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){h(e.item);var a=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(a,0,t);var l={element:t,newIndex:a};this.emitChanges({added:l})}},onDragRemove:function(e){if(f(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,a=t.index,l=t.element;this.spliceList(a,1);var n={element:l,oldIndex:a};this.emitChanges({removed:n})}else h(e.clone)},onDragUpdate:function(e){h(e.item),f(e.from,e.item,e.oldIndex);var t=this.context.index,a=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,a);var l={element:this.context.element,oldIndex:t,newIndex:a};this.emitChanges({moved:l})},computeFutureIndex:function(e,t){if(!e.element)return 0;var a=p(t.to.children).filter(function(e){return"none"!==e.style.display}),l=a.indexOf(t.related),n=e.component.getVmIndexFromDomIndex(l);return-1===a.indexOf(z)&&t.willInsertAfter?n+1:n},onDragMove:function(e,t){var a=this.move,l=this.realList;if(!a||!l)return!0;var n=this.getRelatedContextFromMoveEvent(e),o=this.computeFutureIndex(n,e),s=r(r({},this.context),{},{futureIndex:o});return a(r(r({},e),{},{relatedContext:n,draggedContext:s}),t)},onDragEnd:function(){z=null}}}),j=H;t.default=j},fb6a:function(e,t,a){var l=a("23e7"),n=a("861d"),o=a("e8b5"),s=a("23cb"),i=a("50c4"),r=a("fc6a"),u=a("8418"),d=a("b622"),c=a("1dde"),p=a("ae40"),m=c("slice"),v=p("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),f=[].slice,g=Math.max;l({target:"Array",proto:!0,forced:!m||!v},{slice:function(e,t){var a,l,d,c=r(this),p=i(c.length),m=s(e,p),v=s(void 0===t?p:t,p);if(o(c)&&("function"!=typeof(a=c.constructor)||a!==Array&&!o(a.prototype)?n(a)&&null===(a=a[h])&&(a=void 0):a=void 0,a===Array||void 0===a))return f.call(c,m,v);for(l=new(void 0===a?Array:a)(g(v-m,0)),d=0;m<v;m++,d++)m in c&&u(l,d,c[m]);return l.length=d,l}})},fc6a:function(e,t,a){var l=a("44ad"),n=a("1d80");e.exports=function(e){return l(n(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,a){var l=a("4930");e.exports=l&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},e.exports=t(ax,k_)}(tx);const S_=Zm(tx.exports);var C_={exports:{}};!function(e){window,e.exports=function(e){var t={};function a(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=0)}([function(e,t,a){a.r(t);var l=function(e,t,a){for(var l=0,n=t.length;l<n;l++)e.addEventListener(t[l],a)},n=function(e,t,a){for(var l=0,n=t.length;l<n;l++)e.removeEventListener(t[l],a)},o=function(e,t,a){var l;e.componentInstance?e.componentInstance.$emit(t,a):("function"==typeof window.CustomEvent?l=new window.CustomEvent(t,{detail:a}):(l=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.elm.dispatchEvent(l))};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=["mousedown","touchstart"],r=["mousemove","touchmove"],u=["mouseup","touchend"],d=function(e,t,a){var d=e,c=!0;"boolean"==typeof t.value?c=t.value:"object"===s(t.value)?("string"==typeof t.value.target?(d=e.querySelector(t.value.target))||console.error("There is no element with the current target value."):void 0!==t.value.target&&console.error("The parameter \"target\" should be be either 'undefined' or 'string'."),"boolean"==typeof t.value.active?c=t.value.active:void 0!==t.value.active&&console.error("The parameter \"active\" value should be either 'undefined', 'true' or 'false'.")):void 0!==t.value&&console.error("The passed value should be either 'undefined', 'true' or 'false' or 'object'.");var p=function(){var e,n,s,c=!1,p=!1;d.md=function(a){a.preventDefault();var l=a instanceof window.MouseEvent,o=l?a.pageX:a.touches[0].pageX,i=l?a.pageY:a.touches[0].pageY,r=document.elementFromPoint(o-window.pageXOffset,i-window.pageYOffset),u="nochilddrag"===t.arg,c=t.modifiers.noleft,m=t.modifiers.noright,v=t.modifiers.nomiddle,h=t.modifiers.noback,f=t.modifiers.noforward,g="firstchilddrag"===t.arg,y=r===d,b=r===d.firstChild,x=u?void 0!==r.dataset.dragscroll:void 0===r.dataset.noDragscroll;(y||x&&(!g||b))&&(1===a.which&&c||2===a.which&&v||3===a.which&&m||4===a.which&&h||5===a.which&&f||(s=1,e=l?a.clientX:a.touches[0].clientX,n=l?a.clientY:a.touches[0].clientY,"touchstart"===a.type&&(p=!0)))},d.mu=function(e){s=0,c&&o(a,"dragscrollend"),c=!1,"touchend"===e.type&&!0===p?(e.target.click(),p=!1):e.target.focus()},d.mm=function(l){var i,r,u=l instanceof window.MouseEvent,p={};if(s){c||o(a,"dragscrollstart"),c=!0;var m=d.scrollLeft+d.clientWidth>=d.scrollWidth||0===d.scrollLeft,v=d.scrollTop+d.clientHeight>=d.scrollHeight||0===d.scrollTop;i=-e+(e=u?l.clientX:l.touches[0].clientX),r=-n+(n=u?l.clientY:l.touches[0].clientY),t.modifiers.pass?(d.scrollLeft-=t.modifiers.y?-0:i,d.scrollTop-=t.modifiers.x?-0:r,d===document.body&&(d.scrollLeft-=t.modifiers.y?-0:i,d.scrollTop-=t.modifiers.x?-0:r),(m||t.modifiers.y)&&window.scrollBy(-i,0),(v||t.modifiers.x)&&window.scrollBy(0,-r)):(t.modifiers.x&&(r=-0),t.modifiers.y&&(i=-0),d.scrollLeft-=i,d.scrollTop-=r,d===document.body&&(d.scrollLeft-=i,d.scrollTop-=r)),p.deltaX=-i,p.deltaY=-r,o(a,"dragscrollmove",p)}},l(d,i,d.md),l(window,u,d.mu),l(window,r,d.mm)};c?"complete"===document.readyState?p():window.addEventListener("load",p):(n(d,i,d.md),n(window,u,d.mu),n(window,r,d.mm))},c={bind:function(e,t,a){d(e,t,a)},update:function(e,t,a,l){JSON.stringify(t.value)!==JSON.stringify(t.oldValue)&&d(e,t,a)},unbind:function(e,t,a){var l=e;n(l,i,l.md),n(window,u,l.mu),n(window,r,l.mm)}};a.d(t,"dragscroll",function(){return c});var p={install:function(e,t){var a=Number(e.version.split(".")[0]),l=Number(e.version.split(".")[1]);if(a<2&&l<1)throw new Error("v-dragscroll supports vue version 2.1 and above. You are using Vue@".concat(e.version,". Please upgrade to the latest version of Vue."));e.directive("dragscroll",c)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=p,window.Vue.use(p)),t.default=p}])}(C_);var I_=C_.exports;const E_=xe({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ue,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Oe(),...Tp({location:"top end"}),...Kc(),...Jc(),...Ae(),...Fm({transition:"scale-rotate-transition"}),...Cp()},"VBadge"),T_=Ee()({name:"VBadge",inheritAttrs:!1,props:E_(),setup(e,t){const{backgroundColorClasses:a,backgroundColorStyles:l}=ep(()=>e.color),{roundedClasses:n}=Xc(e),{t:o}=Ht(),{textColorClasses:s,textColorStyles:r}=Zc(()=>e.textColor),{themeClasses:u}=Re(),{locationStyles:c}=Np(e,!0,t=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(t)?Number(e.offsetY??0):["left","right"].includes(t)?Number(e.offsetX??0):0)),{dimensionStyles:p}=Ip(e);return Me(()=>{const m=Number(e.content),v=!e.max||isNaN(m)?e.content:m<=Number(e.max)?m:`${e.max}+`,[h,f]=jt(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return d(e.tag,w({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},f,{style:e.style}),{default:()=>{var f,g;return[i("div",{class:"v-badge__wrapper"},[null==(g=(f=t.slots).default)?void 0:g.call(f),d(Lm,{transition:e.transition},{default:()=>{var f,g;return[M(i("span",w({class:["v-badge__badge",u.value,a.value,n.value,s.value],style:[l.value,r.value,p.value,e.inline?{}:c.value],"aria-atomic":"true","aria-label":o(e.label,m),"aria-live":"polite",role:"status"},h),[e.dot?void 0:t.slots.badge?null==(g=(f=t.slots).badge)?void 0:g.call(f):e.icon?d(wp,{icon:e.icon},null):v]),[[V,e.modelValue]])]}})])]}})}),{}}});function N_(e,t){return(null==t?void 0:t[e?"scrollWidth":"scrollHeight"])||0}function M_(e,t,a){if(!a)return 0;const{scrollLeft:l,offsetWidth:n,scrollWidth:o}=a;return e?t?o-n+l:l:a.scrollTop}function A_(e,t){return(null==t?void 0:t[e?"offsetWidth":"offsetHeight"])||0}function O_(e,t){return(null==t?void 0:t[e?"offsetLeft":"offsetTop"])||0}const P_=Symbol.for("vuetify:v-slide-group"),F_=xe({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:P_},nextIcon:{type:Ue,default:"$next"},prevIcon:{type:Ue,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...Oe(),...Wt({mobile:null}),...Jc(),...ip({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),L_=Ee()({name:"VSlideGroup",props:F_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{isRtl:n}=Ge(),{displayClasses:o,mobile:s}=yt(e),u=dp(e,e.symbol),p=k(!1),m=k(0),v=k(0),h=k(0),g=l(()=>"horizontal"===e.direction),{resizeRef:y,contentRect:b}=je(),{resizeRef:x,contentRect:w}=je(),_=Yt(),S=l(()=>({container:y.el,duration:200,easing:"easeOutQuart"})),C=l(()=>u.selected.value.length?u.items.value.findIndex(e=>e.id===u.selected.value[0]):-1),I=l(()=>u.selected.value.length?u.items.value.findIndex(e=>e.id===u.selected.value[u.selected.value.length-1]):-1);if(Qe){let t=-1;f(()=>[u.selected.value,b.value,w.value,g.value],()=>{cancelAnimationFrame(t),t=requestAnimationFrame(()=>{if(b.value&&w.value){const e=g.value?"width":"height";v.value=b.value[e],h.value=w.value[e],p.value=v.value+1<h.value}e.scrollToActive&&C.value>=0&&x.el&&T(x.el.children[I.value],e.centerActive)})})}const E=k(!1);function T(e,t){let a=0;a=t?function(e){let{selectedElement:t,containerElement:a,isHorizontal:l}=e;const n=A_(l,a);return O_(l,t)-n/2+A_(l,t)/2}({containerElement:y.el,isHorizontal:g.value,selectedElement:e}):function(e){let{selectedElement:t,containerElement:a,isRtl:l,isHorizontal:n}=e;const o=A_(n,a),s=M_(n,l,a),i=A_(n,t),r=O_(n,t),u=.4*i;return s>r?r-u:s+o<r+i?r-o+i+u:s}({containerElement:y.el,isHorizontal:g.value,isRtl:n.value,selectedElement:e}),N(a)}function N(e){if(!Qe||!y.el)return;const t=A_(g.value,y.el),a=M_(g.value,n.value,y.el);if(!(N_(g.value,y.el)<=t||Math.abs(e-a)<16)){if(g.value&&n.value&&y.el){const{scrollWidth:t,offsetWidth:a}=y.el;e=t-a-e}g.value?_.horizontal(e,S.value):_(e,S.value)}}function M(e){const{scrollTop:t,scrollLeft:a}=e.target;m.value=g.value?a:t}function A(e){if(E.value=!0,p.value&&x.el)for(const t of e.composedPath())for(const e of x.el.children)if(e===t)return void T(e)}function O(e){E.value=!1}let P=!1;function F(e){var t;P||E.value||e.relatedTarget&&(null==(t=x.el)?void 0:t.contains(e.relatedTarget))||B(),P=!1}function L(){P=!0}function D(e){function t(t){e.preventDefault(),B(t)}x.el&&(g.value?"ArrowRight"===e.key?t(n.value?"prev":"next"):"ArrowLeft"===e.key&&t(n.value?"next":"prev"):"ArrowDown"===e.key?t("next"):"ArrowUp"===e.key&&t("prev"),"Home"===e.key?t("first"):"End"===e.key&&t("last"))}function V(e,t){if(!e)return;let a=e;do{a=null==a?void 0:a["next"===t?"nextElementSibling":"previousElementSibling"]}while(null==a?void 0:a.hasAttribute("disabled"));return a}function B(e){if(!x.el)return;let t;if(e)if("next"===e){if(t=V(x.el.querySelector(":focus"),e),!t)return B("first")}else if("prev"===e){if(t=V(x.el.querySelector(":focus"),e),!t)return B("last")}else"first"===e?(t=x.el.firstElementChild,(null==t?void 0:t.hasAttribute("disabled"))&&(t=V(t,"next"))):"last"===e&&(t=x.el.lastElementChild,(null==t?void 0:t.hasAttribute("disabled"))&&(t=V(t,"prev")));else t=zt(x.el)[0];t&&t.focus({preventScroll:!0})}function $(e){const t=g.value&&n.value?-1:1,a=("prev"===e?-t:t)*v.value;let l=m.value+a;if(g.value&&n.value&&y.el){const{scrollWidth:e,offsetWidth:t}=y.el;l+=e-t}N(l)}const R=l(()=>({next:u.next,prev:u.prev,select:u.select,isSelected:u.isSelected})),z=l(()=>p.value||Math.abs(m.value)>0),U=l(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return z.value;case"mobile":return s.value||z.value;default:return!s.value&&z.value}}),q=l(()=>Math.abs(m.value)>1),H=l(()=>{if(!y.value||!z.value)return!1;const e=N_(g.value,y.el),t=function(e,t){return(null==t?void 0:t[e?"clientWidth":"clientHeight"])||0}(g.value,y.el);return e-t-Math.abs(m.value)>1});return Me(()=>d(e.tag,{class:r(["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":U.value,"v-slide-group--is-overflowing":p.value},o.value,e.class]),style:c(e.style),tabindex:E.value||u.selected.value.length?-1:0,onFocus:F},{default:()=>{var t,l,o;return[U.value&&i("div",{key:"prev",class:r(["v-slide-group__prev",{"v-slide-group__prev--disabled":!q.value}]),onMousedown:L,onClick:()=>q.value&&$("prev")},[(null==(t=a.prev)?void 0:t.call(a,R.value))??d(Cg,null,{default:()=>[d(wp,{icon:n.value?e.nextIcon:e.prevIcon},null)]})]),i("div",{key:"container",ref:y,class:r(["v-slide-group__container",e.contentClass]),onScroll:M},[i("div",{ref:x,class:"v-slide-group__content",onFocusin:A,onFocusout:O,onKeydown:D},[null==(l=a.default)?void 0:l.call(a,R.value)])]),U.value&&i("div",{key:"next",class:r(["v-slide-group__next",{"v-slide-group__next--disabled":!H.value}]),onMousedown:L,onClick:()=>H.value&&$("next")},[(null==(o=a.next)?void 0:o.call(a,R.value))??d(Cg,null,{default:()=>[d(wp,{icon:n.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:u.selected,scrollTo:$,scrollOffset:m,focus:B,hasPrev:q,hasNext:H}}}),D_=Symbol.for("vuetify:v-chip-group"),V_=xe({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Le},...F_({scrollToActive:!1}),...Oe(),...ip({selectedClass:"v-chip--selected"}),...Jc(),...Ae(),...lp({variant:"tonal"})},"VChipGroup"),B_=Ee()({name:"VChipGroup",props:V_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{isSelected:o,select:s,next:i,prev:r,selected:u}=dp(e,D_);return Ne({VChip:{baseColor:n(()=>e.baseColor),color:n(()=>e.color),disabled:n(()=>e.disabled),filter:n(()=>e.filter),variant:n(()=>e.variant)}}),Me(()=>{const t=L_.filterProps(e);return d(L_,w(t,{class:["v-chip-group",{"v-chip-group--column":e.column},l.value,e.class],style:e.style}),{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:o,select:s,next:i,prev:r,selected:u.value})]}})}),{}}}),$_=xe({activeClass:String,appendAvatar:String,appendIcon:Ue,baseColor:String,closable:Boolean,closeIcon:{type:Ue,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ue,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ue,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Lt(),onClickOnce:Lt(),...Uc(),...Oe(),...jc(),...Yc(),...rp(),...Kc(),...zp(),...yp(),...Jc({tag:"span"}),...Ae(),...lp({variant:"tonal"})},"VChip"),R_=Ee()({name:"VChip",directives:{vRipple:om},props:$_(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:a,emit:o,slots:s}=t;const{t:r}=Ht(),{borderClasses:c}=qc(e),{densityClasses:p}=Wc(e),{elevationClasses:m}=Gc(e),{roundedClasses:v}=Xc(e),{sizeClasses:h}=bp(e),{themeClasses:g}=Te(e),y=Fe(e,"modelValue"),b=up(e,D_,!1),x=up(e,P_,!1),_=Rp(e,a),k=n(()=>!1!==e.link&&_.isLink.value),S=l(()=>!e.disabled&&!1!==e.link&&(!!b||e.link||_.isClickable.value)),C=n(()=>({"aria-label":r(e.closeLabel),disabled:e.disabled,onClick(e){e.preventDefault(),e.stopPropagation(),y.value=!1,o("click:close",e)}}));f(y,e=>{e?(null==b||b.register(),null==x||x.register()):(null==b||b.unregister(),null==x||x.unregister())});const{colorClasses:I,colorStyles:E,variantClasses:T}=np(()=>({color:!b||b.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function N(e){var t;o("click",e),S.value&&(null==(t=_.navigate)||t.call(_,e),null==b||b.toggle())}function O(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),N(e))}return()=>{var t;const a=_.isLink.value?"a":e.tag,l=!(!e.appendIcon&&!e.appendAvatar),n=!(!l&&!s.append),o=!(!s.close&&!e.closable),r=!(!s.filter&&!e.filter)&&b,f=!(!e.prependIcon&&!e.prependAvatar),x=!(!f&&!s.prepend);return y.value&&M(d(a,w(_.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":S.value,"v-chip--filter":r,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&(null==(t=_.isActive)?void 0:t.value)},g.value,c.value,I.value,p.value,m.value,v.value,h.value,T.value,null==b?void 0:b.selectedClass.value,e.class],style:[E.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:S.value?0:void 0,onClick:N,onKeydown:S.value&&!k.value&&O}),{default:()=>{var t;return[ap(S.value,"v-chip"),r&&d(Dg,{key:"filter"},{default:()=>[M(i("div",{class:"v-chip__filter"},[s.filter?d(fp,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):d(wp,{key:"filter-icon",icon:e.filterIcon},null)]),[[V,b.isSelected.value]])]}),x&&i("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?d(fp,{key:"prepend-defaults",disabled:!f,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):i(u,null,[e.prependIcon&&d(wp,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&d(oy,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),i("div",{class:"v-chip__content","data-no-activator":""},[(null==(t=s.default)?void 0:t.call(s,{isSelected:null==b?void 0:b.isSelected.value,selectedClass:null==b?void 0:b.selectedClass.value,select:null==b?void 0:b.select,toggle:null==b?void 0:b.toggle,value:null==b?void 0:b.value.value,disabled:e.disabled}))??A(e.text)]),n&&i("div",{key:"append",class:"v-chip__append"},[s.append?d(fp,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):i(u,null,[e.appendIcon&&d(wp,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&d(oy,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),o&&i("button",w({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},C.value),[s.close?d(fp,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):d(wp,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[om,S.value&&e.ripple,null]])}}}),z_=xe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Um({origin:"center center",scrollStrategy:"block",transition:{component:bg},zIndex:2400})},"VDialog"),U_=Ee()({name:"VDialog",props:z_(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:l,slots:n}=t;const o=Fe(e,"modelValue"),{scopeId:s}=Am(),i=a();async function r(e){var t,a,l;const n=e.relatedTarget,s=e.target;await N(),o.value&&n!==s&&(null==(t=i.value)?void 0:t.contentEl)&&(null==(a=i.value)?void 0:a.globalTop)&&![document,i.value.contentEl].includes(s)&&!i.value.contentEl.contains(s)&&(null==(l=zt(i.value.contentEl)[0])||l.focus())}function u(e){var t;if("Tab"!==e.key||!(null==(t=i.value)?void 0:t.contentEl))return;const a=zt(i.value.contentEl);if(!a.length)return;const l=a[0],n=a[a.length-1],o=document.activeElement;e.shiftKey&&o===l?(e.preventDefault(),n.focus()):e.shiftKey||o!==n||(e.preventDefault(),l.focus())}function c(){var t;l("afterEnter"),(e.scrim||e.retainFocus)&&(null==(t=i.value)?void 0:t.contentEl)&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function p(){l("afterLeave")}return h(()=>{document.removeEventListener("focusin",r),document.removeEventListener("keydown",u)}),Qe&&f(()=>o.value&&e.retainFocus,e=>{e?(document.addEventListener("focusin",r,{once:!0}),document.addEventListener("keydown",u)):(document.removeEventListener("focusin",r),document.removeEventListener("keydown",u))},{immediate:!0}),f(o,async e=>{var t;e||(await N(),null==(t=i.value.activatorEl)||t.focus({preventScroll:!0}))}),Me(()=>{const t=qm.filterProps(e),a=w({"aria-haspopup":"dialog"},e.activatorProps),l=w({tabindex:-1},e.contentProps);return d(qm,w({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,"aria-modal":"true",activatorProps:a,contentProps:l,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:c,onAfterLeave:p},s),{activator:n.activator,default:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return d(fp,{root:"VDialog"},{default:()=>{var e;return[null==(e=n.default)?void 0:e.call(n,...t)]}})}})}),Wm({},i)}}),q_=Symbol.for("vuetify:v-expansion-panel"),H_=xe({...Oe(),...Nm()},"VExpansionPanelText"),j_=Ee()({name:"VExpansionPanelText",props:H_(),setup(e,t){let{slots:a}=t;const l=v(q_);if(!l)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:n,onAfterLeave:o}=Mm(e,l.isSelected);return Me(()=>d(Lg,{onAfterLeave:o},{default:()=>{var t;return[M(i("div",{class:r(["v-expansion-panel-text",e.class]),style:c(e.style)},[a.default&&n.value&&i("div",{class:"v-expansion-panel-text__wrapper"},[null==(t=a.default)?void 0:t.call(a)])]),[[V,l.isSelected.value]])]}})),{}}}),W_=xe({color:String,expandIcon:{type:Ue,default:"$expand"},collapseIcon:{type:Ue,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Oe(),...Cp()},"VExpansionPanelTitle"),Y_=Ee()({name:"VExpansionPanelTitle",directives:{vRipple:om},props:W_(),setup(e,t){let{slots:a}=t;const o=v(q_);if(!o)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:u}=ep(()=>e.color),{dimensionStyles:p}=Ip(e),m=l(()=>({collapseIcon:e.collapseIcon,disabled:o.disabled.value,expanded:o.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),h=n(()=>o.isSelected.value?e.collapseIcon:e.expandIcon);return Me(()=>{var t;return M(i("button",{class:r(["v-expansion-panel-title",{"v-expansion-panel-title--active":o.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},s.value,e.class]),style:c([u.value,p.value,e.style]),type:"button",tabindex:o.disabled.value?-1:void 0,disabled:o.disabled.value,"aria-expanded":o.isSelected.value,onClick:e.readonly?void 0:o.toggle},[i("span",{class:"v-expansion-panel-title__overlay"},null),null==(t=a.default)?void 0:t.call(a,m.value),!e.hideActions&&d(fp,{defaults:{VIcon:{icon:h.value}}},{default:()=>{var e;return[i("span",{class:"v-expansion-panel-title__icon"},[(null==(e=a.actions)?void 0:e.call(a,m.value))??d(wp,null,null)])]}})]),[[om,e.ripple]])}),{}}}),G_=xe({title:String,text:String,bgColor:String,...Yc(),...rp(),...Kc(),...Jc(),...W_(),...H_()},"VExpansionPanel"),K_=Ee()({name:"VExpansionPanel",props:G_(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const o=up(e,q_),{backgroundColorClasses:s,backgroundColorStyles:u}=ep(()=>e.bgColor),{elevationClasses:p}=Gc(e),{roundedClasses:v}=Xc(e),h=n(()=>(null==o?void 0:o.disabled.value)||e.disabled),f=l(()=>o.group.items.value.reduce((e,t,a)=>(o.group.selected.value.includes(t.id)&&e.push(a),e),[])),g=l(()=>{const e=o.group.items.value.findIndex(e=>e.id===o.id);return!o.isSelected.value&&f.value.some(t=>t-e===1)}),y=l(()=>{const e=o.group.items.value.findIndex(e=>e.id===o.id);return!o.isSelected.value&&f.value.some(t=>t-e===-1)});return m(q_,o),Me(()=>{const t=!(!a.text&&!e.text),l=!(!a.title&&!e.title),n=Y_.filterProps(e),m=j_.filterProps(e);return d(e.tag,{class:r(["v-expansion-panel",{"v-expansion-panel--active":o.isSelected.value,"v-expansion-panel--before-active":g.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":h.value},v.value,s.value,e.class]),style:c([u.value,e.style])},{default:()=>[i("div",{class:r(["v-expansion-panel__shadow",...p.value])},null),d(fp,{defaults:{VExpansionPanelTitle:{...n},VExpansionPanelText:{...m}}},{default:()=>{var n;return[l&&d(Y_,{key:"title"},{default:()=>[a.title?a.title():e.title]}),t&&d(j_,{key:"text"},{default:()=>[a.text?a.text():e.text]}),null==(n=a.default)?void 0:n.call(a)]}})]})}),{groupItem:o}}}),X_=["default","accordion","inset","popout"],J_=xe({flat:Boolean,...ip(),...Vt(G_(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Ae(),...Oe(),...Jc(),variant:{type:String,default:"default",validator:e=>X_.includes(e)}},"VExpansionPanels"),Q_=Ee()({name:"VExpansionPanels",props:J_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{next:l,prev:o}=dp(e,q_),{themeClasses:s}=Te(e),i=n(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ne({VExpansionPanel:{bgColor:n(()=>e.bgColor),collapseIcon:n(()=>e.collapseIcon),color:n(()=>e.color),eager:n(()=>e.eager),elevation:n(()=>e.elevation),expandIcon:n(()=>e.expandIcon),focusable:n(()=>e.focusable),hideActions:n(()=>e.hideActions),readonly:n(()=>e.readonly),ripple:n(()=>e.ripple),rounded:n(()=>e.rounded),static:n(()=>e.static)}}),Me(()=>d(e.tag,{class:r(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,i.value,e.class]),style:c(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{prev:o,next:l})]}})),{next:l,prev:o}}});function Z_(e){const{t:t}=Ht();return{InputIcon:function(a){let{name:l,color:n,...o}=a;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],i=e[`onClick:${l}`],r=i&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return d(wp,w({icon:e[`${l}Icon`],"aria-label":r,onClick:i,onKeydown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),Gt(i,new PointerEvent("click",e)))},color:n},o),null)}}}const ek=xe({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Oe(),...Fm({transition:{component:Pg,leaveAbsolute:!0,group:!0}})},"VMessages"),tk=Ee()({name:"VMessages",props:ek(),setup(e,t){let{slots:a}=t;const n=l(()=>De(e.messages)),{textColorClasses:o,textColorStyles:s}=Zc(()=>e.color);return Me(()=>d(Lm,{transition:e.transition,tag:"div",class:r(["v-messages",o.value,e.class]),style:c([s.value,e.style])},{default:()=>[e.active&&n.value.map((e,t)=>i("div",{class:"v-messages__message",key:`${t}-${n.value}`},[a.message?a.message({message:e}):e]))]})),{}}}),ak=xe({focused:Boolean,"onUpdate:focused":Lt()},"focus");function lk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we();const a=Fe(e,"focused");return{focusClasses:n(()=>({[`${t}--focused`]:a.value})),isFocused:a,focus:function(){a.value=!0},blur:function(){a.value=!1}}}const nk=Symbol.for("vuetify:form"),ok=xe({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function sk(e){const t=v(nk,null);return{...t,isReadonly:l(()=>!!((null==e?void 0:e.readonly)??(null==t?void 0:t.isReadonly.value))),isDisabled:l(()=>!!((null==e?void 0:e.disabled)??(null==t?void 0:t.isDisabled.value)))}}const ik=Symbol.for("vuetify:rules"),rk=xe({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ak()},"validation");function uk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p();const s=Fe(e,"modelValue"),i=l(()=>void 0===e.validationValue?s.value:e.validationValue),r=sk(e),u=function(e){const t=v(ik,null);if(!e){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return(null==t?void 0:t.resolve(e))??n(e)}(()=>e.rules),d=a([]),c=k(!0),m=l(()=>!(!De(""===s.value?null:s.value).length&&!De(""===i.value?null:i.value).length)),g=l(()=>{var t;return(null==(t=e.errorMessages)?void 0:t.length)?De(e.errorMessages).concat(d.value).slice(0,Math.max(0,Number(e.maxErrors))):d.value}),b=l(()=>{var t;let a=(e.validateOn??(null==(t=r.validateOn)?void 0:t.value))||"input";"lazy"===a&&(a="input lazy"),"eager"===a&&(a="input eager");const l=new Set((null==a?void 0:a.split(" "))??[]);return{input:l.has("input"),blur:l.has("blur")||l.has("input")||l.has("invalid-input"),invalidInput:l.has("invalid-input"),lazy:l.has("lazy"),eager:l.has("eager")}}),w=l(()=>{var t;return!e.error&&!(null==(t=e.errorMessages)?void 0:t.length)&&(!e.rules.length||(c.value?!d.value.length&&!b.value.lazy||null:!d.value.length))}),_=k(!1),S=l(()=>({[`${t}--error`]:!1===w.value,[`${t}--dirty`]:m.value,[`${t}--disabled`]:r.isDisabled.value,[`${t}--readonly`]:r.isReadonly.value})),C=Pe("validation"),I=l(()=>e.name??x(o));async function E(){s.value=null,await N(),await T()}async function T(){c.value=!0,b.value.lazy?d.value=[]:await M(!b.value.eager)}async function M(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const a=[];_.value=!0;for(const l of u.value){if(a.length>=Number(e.maxErrors??1))break;const t="function"==typeof l?l:()=>l,n=await t(i.value);!0!==n&&(!1===n||"string"==typeof n?a.push(n||""):console.warn(`${n} is not a valid value. Rule functions must return boolean true or a string.`))}return d.value=a,_.value=!1,c.value=t,d.value}return K(()=>{var e;null==(e=r.register)||e.call(r,{id:I.value,vm:C,validate:M,reset:E,resetValidation:T})}),h(()=>{var e;null==(e=r.unregister)||e.call(r,I.value)}),y(async()=>{var e;b.value.lazy||await M(!b.value.eager),null==(e=r.update)||e.call(r,I.value,w.value,g.value)}),Xe(()=>b.value.input||b.value.invalidInput&&!1===w.value,()=>{f(i,()=>{if(null!=i.value)M();else if(e.focused){const t=f(()=>e.focused,e=>{e||M(),t()})}})}),Xe(()=>b.value.blur,()=>{f(()=>e.focused,e=>{e||M()})}),f([w,g],()=>{var e;null==(e=r.update)||e.call(r,I.value,w.value,g.value)}),{errorMessages:g,isDirty:m,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:c,isValid:w,isValidating:_,reset:E,resetValidation:T,validate:M,validationClasses:S}}const dk=xe({id:String,appendIcon:Ue,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Ue,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Lt(),"onClick:append":Lt(),...Oe(),...jc(),...Vt(Cp(),["maxWidth","minWidth","width"]),...Ae(),...rk()},"VInput"),ck=Ee()({name:"VInput",props:{...dk()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o,emit:s}=t;const{densityClasses:u}=Wc(e),{dimensionStyles:m}=Ip(e),{themeClasses:v}=Te(e),{rtlClasses:h}=Ge(),{InputIcon:f}=Z_(e),g=p(),y=l(()=>e.id||`input-${g}`),{errorMessages:b,isDirty:x,isDisabled:w,isReadonly:_,isPristine:k,isValid:S,isValidating:C,reset:I,resetValidation:E,validate:T,validationClasses:N}=uk(e,"v-input",y),M=l(()=>{var t;return(null==(t=e.errorMessages)?void 0:t.length)||!k.value&&b.value.length?b.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages}),A=n(()=>M.value.length>0),O=n(()=>!e.hideDetails||"auto"===e.hideDetails&&(A.value||!!o.details)),P=l(()=>O.value?`${y.value}-messages`:void 0),F=l(()=>({id:y,messagesId:P,isDirty:x,isDisabled:w,isReadonly:_,isPristine:k,isValid:S,isValidating:C,hasDetails:O,reset:I,resetValidation:E,validate:T})),L=n(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),D=n(()=>{if(e.iconColor)return!0===e.iconColor?L.value:e.iconColor});return Me(()=>{var t,a,l,n;const s=!(!o.prepend&&!e.prependIcon),p=!(!o.append&&!e.appendIcon);return i("div",{class:r(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,v.value,h.value,N.value,e.class]),style:c([m.value,e.style])},[s&&i("div",{key:"prepend",class:"v-input__prepend"},[null==(t=o.prepend)?void 0:t.call(o,F.value),e.prependIcon&&d(f,{key:"prepend-icon",name:"prepend",color:D.value},null)]),o.default&&i("div",{class:"v-input__control"},[null==(a=o.default)?void 0:a.call(o,F.value)]),p&&i("div",{key:"append",class:"v-input__append"},[e.appendIcon&&d(f,{key:"append-icon",name:"append",color:D.value},null),null==(l=o.append)?void 0:l.call(o,F.value)]),O.value&&i("div",{id:P.value,class:"v-input__details",role:"alert","aria-live":"polite"},[d(tk,{active:A.value,messages:M.value},{message:o.message}),null==(n=o.details)?void 0:n.call(o,F.value)])])}),{reset:I,resetValidation:E,validate:T,isValid:S,errorMessages:b}}}),pk=xe({text:String,onClick:Lt(),...Oe(),...Ae()},"VLabel"),mk=Ee()({name:"VLabel",props:pk(),setup(e,t){let{slots:a}=t;return Me(()=>{var t;return i("label",{class:r(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:c(e.style),onClick:e.onClick},[e.text,null==(t=a.default)?void 0:t.call(a)])}),{}}}),vk=Symbol.for("vuetify:selection-control-group"),hk=xe({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ue,trueIcon:Ue,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Le},...Oe(),...jc(),...Ae()},"SelectionControlGroup"),fk=xe({...hk({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),gk=Ee()({name:"VSelectionControlGroup",props:fk(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const l=Fe(e,"modelValue"),o=p(),s=n(()=>e.id||`v-selection-control-group-${o}`),u=n(()=>e.name||s.value),d=new Set;return m(vk,{modelValue:l,forceUpdate:()=>{d.forEach(e=>e())},onForceUpdate:e=>{d.add(e),C(()=>{d.delete(e)})}}),Ne({[e.defaultsTarget]:{color:n(()=>e.color),disabled:n(()=>e.disabled),density:n(()=>e.density),error:n(()=>e.error),inline:n(()=>e.inline),modelValue:l,multiple:n(()=>!!e.multiple||null==e.multiple&&Array.isArray(l.value)),name:u,falseIcon:n(()=>e.falseIcon),trueIcon:n(()=>e.trueIcon),readonly:n(()=>e.readonly),ripple:n(()=>e.ripple),type:n(()=>e.type),valueComparator:n(()=>e.valueComparator)}}),Me(()=>{var t;return i("div",{class:r(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:c(e.style),role:"radio"===e.type?"radiogroup":void 0},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),yk=xe({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Oe(),...hk()},"VSelectionControl"),bk=Ee()({name:"VSelectionControl",directives:{vRipple:om},inheritAttrs:!1,props:yk(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:o,slots:s}=t;const{group:m,densityClasses:h,icon:f,model:g,textColorClasses:y,textColorStyles:b,backgroundColorClasses:x,backgroundColorStyles:_,trueValue:S}=function(e){const t=v(vk,void 0),{densityClasses:a}=Wc(e),n=Fe(e,"modelValue"),o=l(()=>void 0!==e.trueValue?e.trueValue:void 0===e.value||e.value),s=l(()=>void 0!==e.falseValue&&e.falseValue),i=l(()=>!!e.multiple||null==e.multiple&&Array.isArray(n.value)),r=l({get(){const a=t?t.modelValue.value:n.value;return i.value?De(a).some(t=>e.valueComparator(t,o.value)):e.valueComparator(a,o.value)},set(a){if(e.readonly)return;const l=a?o.value:s.value;let r=l;i.value&&(r=a?[...De(n.value),l]:De(n.value).filter(t=>!e.valueComparator(t,o.value))),t?t.modelValue.value=r:n.value=r}}),{textColorClasses:u,textColorStyles:d}=Zc(()=>{if(!e.error&&!e.disabled)return r.value?e.color:e.baseColor}),{backgroundColorClasses:c,backgroundColorStyles:p}=ep(()=>!r.value||e.error||e.disabled?e.baseColor:e.color),m=l(()=>r.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:a,trueValue:o,falseValue:s,model:r,textColorClasses:u,textColorStyles:d,backgroundColorClasses:c,backgroundColorStyles:p,icon:m}}(e),C=p(),I=k(!1),E=k(!1),T=a(),A=n(()=>e.id||`input-${C}`),O=n(()=>!e.disabled&&!e.readonly);function P(e){O.value&&(I.value=!0,!1!==ht(e.target,":focus-visible")&&(E.value=!0))}function F(){I.value=!1,E.value=!1}function L(e){e.stopPropagation()}function D(t){O.value?(e.readonly&&m&&N(()=>m.forceUpdate()),g.value=t.target.checked):T.value&&(T.value.checked=g.value)}return null==m||m.onForceUpdate(()=>{T.value&&(T.value.checked=g.value)}),Me(()=>{var t,a;const l=s.label?s.label({label:e.label,props:{for:A.value}}):e.label,[n,p]=Kt(o),m=i("input",w({ref:T,checked:g.value,disabled:!!e.disabled,id:A.value,onBlur:F,onFocus:P,onInput:D,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:S.value,name:e.name,"aria-checked":"checkbox"===e.type?g.value:void 0},p),null);return i("div",w({class:["v-selection-control",{"v-selection-control--dirty":g.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":I.value,"v-selection-control--focus-visible":E.value,"v-selection-control--inline":e.inline},h.value,e.class]},n,{style:e.style}),[i("div",{class:r(["v-selection-control__wrapper",y.value]),style:c(b.value)},[null==(t=s.default)?void 0:t.call(s,{backgroundColorClasses:x,backgroundColorStyles:_}),M(i("div",{class:r(["v-selection-control__input"])},[(null==(a=s.input)?void 0:a.call(s,{model:g,textColorClasses:y,textColorStyles:b,backgroundColorClasses:x,backgroundColorStyles:_,inputNode:m,icon:f.value,props:{onFocus:P,onBlur:F,id:A.value}}))??i(u,null,[f.value&&d(wp,{key:"icon",icon:f.value},null),m])]),[[om,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),l&&d(mk,{for:A.value,onClick:L},{default:()=>[l]})])}),{isFocused:I,input:T}}}),xk=xe({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...dk(),...yk()},"VSwitch"),wk=Ee()({name:"VSwitch",inheritAttrs:!1,props:xk(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:l,slots:o}=t;const s=Fe(e,"indeterminate"),m=Fe(e,"modelValue"),{loaderClasses:v}=Fp(e),{isFocused:h,focus:f,blur:g}=lk(e),y=a(),b=a(),x=Xt&&window.matchMedia("(forced-colors: active)").matches,_=n(()=>"string"==typeof e.loading&&""!==e.loading?e.loading:e.color),k=p(),S=n(()=>e.id||`switch-${k}`);function C(){s.value&&(s.value=!1)}function I(e){var t,a;e.stopPropagation(),e.preventDefault(),null==(a=null==(t=y.value)?void 0:t.input)||a.click()}return Me(()=>{const[t,a]=Kt(l),n=ck.filterProps(e),p=bk.filterProps(e);return d(ck,w({ref:b,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":s.value},v.value,e.class]},t,n,{modelValue:m.value,"onUpdate:modelValue":e=>m.value=e,id:S.value,focused:h.value,style:e.style}),{...o,default:t=>{let{id:l,messagesId:n,isDisabled:v,isReadonly:h,isValid:b}=t;const k={model:m,isValid:b};return d(bk,w({ref:y},p,{modelValue:m.value,"onUpdate:modelValue":[e=>m.value=e,C],id:l.value,"aria-describedby":n.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:v.value,readonly:h.value,onFocus:f,onBlur:g},a),{...o,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:a}=e;return i("div",{class:r(["v-switch__track",x?void 0:t.value]),style:c(a.value),onClick:I},[o["track-true"]&&i("div",{key:"prepend",class:"v-switch__track-true"},[o["track-true"](k)]),o["track-false"]&&i("div",{key:"append",class:"v-switch__track-false"},[o["track-false"](k)])])},input:t=>{let{inputNode:a,icon:l,backgroundColorClasses:n,backgroundColorStyles:s}=t;return i(u,null,[a,i("div",{class:r(["v-switch__thumb",{"v-switch__thumb--filled":l||e.loading},e.inset||x?void 0:n.value]),style:c(e.inset?void 0:s.value)},[o.thumb?d(fp,{defaults:{VIcon:{icon:l,size:"x-small"}}},{default:()=>[o.thumb({...k,icon:l})]}):d(Ig,null,{default:()=>[e.loading?d(Lp,{name:"v-switch",active:!0,color:!1===b.value?void 0:_.value},{default:e=>o.loader?o.loader(e):d(Sp,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):l&&d(wp,{key:String(l),icon:l,size:"x-small"},null)]})])])}})}})}),Wm({},b)}}),_k=xe({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Oe(),...Fm({transition:{component:Pg}})},"VCounter"),kk=Ee()({name:"VCounter",functional:!0,props:_k(),setup(e,t){let{slots:a}=t;const l=n(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Me(()=>d(Lm,{transition:e.transition},{default:()=>[M(i("div",{class:r(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:c(e.style)},[a.default?a.default({counter:l.value,max:e.max,value:e.value}):l.value]),[[V,e.active]])]})),{}}}),Sk=xe({floating:Boolean,...Oe()},"VFieldLabel"),Ck=Ee()({name:"VFieldLabel",props:Sk(),setup(e,t){let{slots:a}=t;return Me(()=>d(mk,{class:r(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:c(e.style)},a)),{}}}),Ik=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ek=xe({appendInnerIcon:Ue,bgColor:String,clearable:Boolean,clearIcon:{type:Ue,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Ue,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Ik.includes(e)},"onClick:clear":Lt(),"onClick:appendInner":Lt(),"onClick:prependInner":Lt(),...Oe(),...Pp(),...Kc(),...Ae()},"VField"),Tk=Ee()({name:"VField",inheritAttrs:!1,props:{id:String,...ak(),...Ek()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:o,emit:s,slots:m}=t;const{themeClasses:v}=Te(e),{loaderClasses:h}=Fp(e),{focusClasses:g,isFocused:y,focus:b,blur:x}=lk(e),{InputIcon:_}=Z_(e),{roundedClasses:k}=Xc(e),{rtlClasses:S}=Ge(),C=n(()=>e.dirty||e.active),I=n(()=>!(!e.label&&!m.label)),E=n(()=>!e.singleLine&&I.value),T=p(),N=l(()=>e.id||`input-${T}`),A=n(()=>e.details?`${N.value}-messages`:void 0),O=a(),P=a(),F=a(),L=l(()=>["plain","underlined"].includes(e.variant)),D=l(()=>e.error||e.disabled?void 0:C.value&&y.value?e.color:e.baseColor),B=l(()=>{if(e.iconColor&&(!e.glow||y.value))return!0===e.iconColor?D.value:e.iconColor}),{backgroundColorClasses:$,backgroundColorStyles:R}=ep(()=>e.bgColor),{textColorClasses:z,textColorStyles:U}=Zc(D);f(C,e=>{if(E.value&&!Ye()){const t=O.value.$el,a=P.value.$el;requestAnimationFrame(()=>{const l=dt(t),n=a.getBoundingClientRect(),o=n.x-l.x,s=n.y-l.y-(l.height/2-n.height/2),i=n.width/.75,r=Math.abs(i-l.width)>1?{maxWidth:$e(i)}:void 0,u=getComputedStyle(t),d=getComputedStyle(a),c=1e3*parseFloat(u.transitionDuration)||150,p=parseFloat(d.getPropertyValue("--v-field-label-scale")),m=d.getPropertyValue("color");t.style.visibility="visible",a.style.visibility="hidden",wt(t,{transform:`translate(${o}px, ${s}px) scale(${p})`,color:m,...r},{duration:c,easing:kt,direction:e?"normal":"reverse"}).finished.then(()=>{t.style.removeProperty("visibility"),a.style.removeProperty("visibility")})})}},{flush:"post"});const q=l(()=>({isActive:C,isFocused:y,controlRef:F,blur:x,focus:b}));function H(e){e.target!==document.activeElement&&e.preventDefault()}return Me(()=>{var t,a,l;const n="outlined"===e.variant,s=!(!m["prepend-inner"]&&!e.prependInnerIcon),p=!(!e.clearable&&!m.clear||e.disabled),f=!!(m["append-inner"]||e.appendInnerIcon||p),y=()=>m.label?m.label({...q.value,label:e.label,props:{for:N.value}}):e.label;return i("div",w({class:["v-field",{"v-field--active":C.value,"v-field--appended":f,"v-field--center-affix":e.centerAffix??!L.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":s,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!y(),[`v-field--variant-${e.variant}`]:!0},v.value,$.value,g.value,h.value,k.value,S.value,e.class],style:[R.value,e.style],onClick:H},o),[i("div",{class:"v-field__overlay"},null),d(Lp,{name:"v-field",active:!!e.loading,color:e.error?"error":"string"==typeof e.loading?e.loading:e.color},{default:m.loader}),s&&i("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&d(_,{key:"prepend-icon",name:"prependInner",color:B.value},null),null==(t=m["prepend-inner"])?void 0:t.call(m,q.value)]),i("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&E.value&&d(Ck,{key:"floating-label",ref:P,class:r([z.value]),floating:!0,for:N.value,"aria-hidden":!C.value,style:c(U.value)},{default:()=>[y()]}),I.value&&d(Ck,{key:"label",ref:O,for:N.value},{default:()=>[y()]}),(null==(a=m.default)?void 0:a.call(m,{...q.value,props:{id:N.value,class:"v-field__input","aria-describedby":A.value},focus:b,blur:x}))??i("div",{id:N.value,class:"v-field__input","aria-describedby":A.value},null)]),p&&d(Dg,{key:"clear"},{default:()=>[M(i("div",{class:"v-field__clearable",onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},[d(fp,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[m.clear?m.clear({...q.value,props:{onFocus:b,onBlur:x,onClick:e["onClick:clear"],tabindex:-1}}):d(_,{name:"clear",onFocus:b,onBlur:x,tabindex:-1},null)]})]),[[V,e.dirty]])]}),f&&i("div",{key:"append",class:"v-field__append-inner"},[null==(l=m["append-inner"])?void 0:l.call(m,q.value),e.appendInnerIcon&&d(_,{key:"append-icon",name:"appendInner",color:B.value},null)]),i("div",{class:r(["v-field__outline",z.value]),style:c(U.value)},[n&&i(u,null,[i("div",{class:"v-field__outline__start"},null),E.value&&i("div",{class:"v-field__outline__notch"},[d(Ck,{ref:P,floating:!0,for:N.value,"aria-hidden":!C.value},{default:()=>[y()]})]),i("div",{class:"v-field__outline__end"},null)]),L.value&&E.value&&d(Ck,{ref:P,floating:!0,for:N.value,"aria-hidden":!C.value},{default:()=>[y()]})])])}),{controlRef:F,fieldIconColor:B}}}),Nk=xe({autocomplete:String},"autocomplete");function Mk(e){const t=p(),a=k(0),l=n(()=>"suppress"===e.autocomplete),o=n(()=>l.value?`${e.name}-${t}-${a.value}`:e.name),s=n(()=>l.value?"off":e.autocomplete);return{isSuppressing:l,fieldAutocomplete:s,fieldName:o,update:()=>a.value=(new Date).getTime()}}function Ak(e){return{onIntersect:function(t,a){var l,n;e.autofocus&&t&&(null==(n=null==(l=a[0].target)?void 0:l.focus)||n.call(l))}}}const Ok=["color","file","time","date","datetime-local","week","month"],Pk=xe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Nk(),...dk(),...Ek()},"VTextField"),Fk=Ee()({name:"VTextField",directives:{vIntersect:Rg},inheritAttrs:!1,props:Pk(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:s}=t;const c=Fe(e,"modelValue"),{isFocused:p,focus:m,blur:v}=lk(e),{onIntersect:h}=Ak(e),f=l(()=>"function"==typeof e.counterValue?e.counterValue(c.value):"number"==typeof e.counterValue?e.counterValue:(c.value??"").toString().length),g=l(()=>n.maxlength?n.maxlength:!e.counter||"number"!=typeof e.counter&&"string"!=typeof e.counter?void 0:e.counter),y=l(()=>["plain","underlined"].includes(e.variant)),b=a(),x=a(),_=a(),k=Mk(e),S=l(()=>Ok.includes(e.type)||e.persistentPlaceholder||p.value||e.active);function C(){k.isSuppressing.value&&k.update(),p.value||m(),N(()=>{var e;_.value!==document.activeElement&&(null==(e=_.value)||e.focus())})}function I(e){o("mousedown:control",e),e.target!==_.value&&(C(),e.preventDefault())}function E(e){o("click:control",e)}function T(t){var a;const l=t.target;if(c.value=l.value,(null==(a=e.modelModifiers)?void 0:a.trim)&&["text","search","password","tel","url"].includes(e.type)){const e=[l.selectionStart,l.selectionEnd];N(()=>{l.selectionStart=e[0],l.selectionEnd=e[1]})}}return Me(()=>{const t=!!(s.counter||!1!==e.counter&&null!=e.counter),a=!(!t&&!s.details),[l,o]=Kt(n),{modelValue:A,...O}=ck.filterProps(e),P=Tk.filterProps(e);return d(ck,w({ref:b,modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":y.value},e.class],style:e.style},l,O,{centerAffix:!y.value,focused:p.value}),{...s,default:t=>{let{id:a,isDisabled:l,isDirty:n,isReadonly:f,isValid:g,hasDetails:y,reset:b}=t;return d(Tk,w({ref:x,onMousedown:I,onClick:E,"onClick:clear":t=>function(t,a){t.stopPropagation(),C(),N(()=>{a(),Gt(e["onClick:clear"],t)})}(t,b),role:e.role},Ct(P,["onClick:clear"]),{id:a.value,active:S.value||n.value,dirty:n.value||e.dirty,disabled:l.value,focused:p.value,details:y.value,error:!1===g.value}),{...s,default:t=>{let{props:{class:a,...n},controlRef:d}=t;const p=M(i("input",w({ref:e=>_.value=d.value=e,value:c.value,onInput:T,autofocus:e.autofocus,readonly:f.value,disabled:l.value,name:k.fieldName.value,autocomplete:k.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:m,onBlur:v},n,o),null),[[Rg,{handler:h},null,{once:!0}]]);return i(u,null,[e.prefix&&i("span",{class:"v-text-field__prefix"},[i("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?i("div",{class:r(a),"data-no-activator":""},[s.default(),p]):ne(p,{class:a}),e.suffix&&i("span",{class:"v-text-field__suffix"},[i("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:a?a=>{var l;return i(u,null,[null==(l=s.details)?void 0:l.call(s,a),t&&i(u,null,[i("span",null,null),d(kk,{active:e.persistentCounter||p.value,value:f.value,max:g.value,disabled:e.disabled},s.counter)])])}:void 0})}),Wm({},b,x,_)}}),Lk=xe({...Oe(),...lp({variant:"text"})},"VToolbarItems"),Dk=Ee()({name:"VToolbarItems",props:Lk(),setup(e,t){let{slots:a}=t;return Ne({VBtn:{color:n(()=>e.color),height:"inherit",variant:n(()=>e.variant)}}),Me(()=>{var t;return i("div",{class:r(["v-toolbar-items",e.class]),style:c(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),Vk={class:"modern-watchlist"},Bk={key:0,class:"search-header"},$k={class:"search-container"},Rk={key:0,class:"d-inline-flex",style:{"white-space":"nowrap"}},zk={key:1,class:"d-inline-flex",style:{"white-space":"nowrap"}},Uk=["onClick"],qk={key:0,class:"text-center py-8 px-4"},Hk=["onClick"],jk={style:{display:"flex","align-items":"center"}},Wk={class:"watchlist-indicator"},Yk={class:"pl-3"},Gk={class:"mr-2 d-flex align-center",style:{gap:"8px"}},Kk={key:2,class:"text-center py-8 px-4"},Xk={key:3,class:"options-basket-section"},Jk={class:"font-weight-bold mb-0 lh-16"},Qk={class:"pl-1 fw-6 fs-13 maintext--text mb-0 pt-1"},Zk={key:0,style:{height:"calc(100vh - 124px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},eS={class:"maintext--text mb-0 fs-13"},tS={class:"table-hov-text"},aS={class:"subtext--text"},lS={class:"subtext--text fs-10"},nS={class:"float-right maintext--text fs-13"},oS=["src"],sS={key:2},iS={class:"ml-1 primary--text"},rS={class:"ml-1 primary--text"},uS={key:4,class:"pos-abs",style:{bottom:"0",right:"0"}},dS=["src"],cS={key:5,class:"mutual-fund-section"},pS={class:"search-header"},mS={class:"search-container"},vS={class:"ml-2 font-weight-bold fs-12"},hS={key:1},fS={key:0},gS={class:"subtext--text fs-14 mt-2 mb-1"},yS={key:4,style:{height:"calc(100vh - 172px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},bS={key:0},xS={class:"table-row pos-rlt"},wS=["onClick"],_S={class:"mb-0 float-right fs-12 subtext--text font-weight-regular"},kS={class:"font-weight-medium maintext--text"},SS={class:"font-weight-medium fs-9"},CS={class:"font-weight-medium fs-9"},IS={class:"mb-0 fs-10 subtext--text float-right font-weight-regular mt-1"},ES={class:"font-weight-medium maintext--text"},TS=["src"],NS={class:"txt-999 fs-14 mb-1"},MS={key:5,style:{height:"calc(100vh - 188px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},AS={key:0},OS=["onClick"],PS={class:"maintext--text mb-0 table-hov-text fs-14"},FS={class:"font-weight-medium"},LS={class:"font-weight-medium"},DS={class:"pos-abs",style:{top:"8px",right:"8px","z-index":"10"}},VS=["src"],BS={key:6,class:"predefined-watchlist-cards mb-3"},$S={style:{display:"flex","justify-content":"space-between","align-content":"center !important",padding:"0px !important"}},RS={class:"text-right"},zS={class:"maintext--text font-weight-medium fs-12 pdmw-card-text"},US=["id"],qS=["id"],HS=["id"],jS=["id"],WS={class:"pos-abs pdmwlist z-i1 mt-n6 ml-0"},YS={key:7,class:"exchange-filter-section"},GS={class:"d-inline-flex",style:{"white-space":"nowrap"}},KS={key:0},XS={class:"subtext--text fs-14 mt-2 mb-1"},JS={key:8,class:"stock-list"},QS={key:0,class:"loading-state"},ZS={key:1,class:"no-data-state"},eC={class:"d-flex align-center justify-center",style:{gap:"12px","margin-top":"16px"}},tC={key:2,class:"no-data-state"},aC={key:3,style:{height:"calc(100vh - 218px)"},class:"overflow-y-auto overflow-x-hidden no-scroll",s:""},lC=["onClick"],nC={class:"maintext--text mb-1 px-1",style:{"font-size":"13px !important"}},oC={class:"table-hov-text"},sC={class:"subtext--text"},iC={key:0,style:{"border-radius":"4px",padding:"0px 4px","background-color":"#F1F3F8 !important"},class:"ml-1"},rC={class:"font-weight-medium fs-10 lh-16"},uC={class:"float-right maintext--text fs-14"},dC=["id"],cC={class:"mb-0 px-1 lh-16"},pC={style:{"border-radius":"4px",padding:"0px 6px","background-color":"#F1F3F8 !important"},class:"mr-1 table-hov-prd"},mC={class:"font-weight-medium lh-16",style:{"font-size":"11px !important"}},vC=["innerHTML"],hC={class:"subtext--text fs-11"},fC=["id"],gC=["id"],yC=["id"],bC=["onClick"],xC=["onClick"],wC=["src"],_C=["onClick"],kC=["onClick"],SC={key:0,class:"add-symbol-section pa-3 d-flex align-center justify-space-between"},CC={key:9,style:{height:"calc(100vh - 188px)"},class:"overflow-y-auto overflow-x-hidden no-scroll"},IC={key:0},EC={class:"maintext--text mb-1 table-hov-text fs-13 font-weight-medium"},TC={key:0,class:"subtext--text"},NC={class:"d-flex align-center"},MC={class:"font-weight-medium fs-10",style:{color:"black"}},AC={key:0,class:"subtext--text fs-10 ml-1"},OC=["onClick"],PC=["onClick"],FC=["src"],LC=["onClick"],DC=["onClick"],VC={class:"font-weight-bold mb-2 maintext--text"},BC={class:"body-2 mb-5 grey--text"},$C={class:"d-flex justify-space-between align-center my-0"},RC={class:"py-2"},zC={class:"d-flex justify-space-between align-center my-0"},UC={class:"py-2"},qC={class:"fs-14 mb-0"},HC={directives:{dragscroll:I_.dragscroll}},jC=Object.assign(HC,{__name:"WatchList",setup(e){const t=Y(),n=Q(),o=Qa(),s=Rc(),p=Pte(),m=a(!1),v=a(!1),h=a(!1),g=a(!1),b=a(!0),_=a(!0),k=a(!1);a(null),a(!1);const S=a(null),C=a(null),I=a(!1);let E=0,T=0;const O=a(null),P=a(!1);let F=0,L=0;const D=a((()=>{const e=s.uid||sessionStorage.getItem("userid");if(e){const t=localStorage.getItem(`${e}_watchlists`);if(t)try{const e=JSON.parse(t);if(Array.isArray(e)&&e.length>0)return e}catch(Wie){console.error("Error parsing local watchlists on init:",Wie)}}return[]})()),V=a(null),B=a([]),j=a({}),G=a({}),K=a({}),X=a([]);a([]);const J=a(null),te=a(0),ae=a(["All","Equity","F&O","Currency","Commodities","Indices"]),le=a(null),ne=a([{key:"a",text:"Script - A to Z"},{key:"z",text:"Script - Z to A"},{key:"ltp-h",text:"Price - High to Low"},{key:"ltp-l",text:"Price - Low to High"},{key:"ch-h",text:"Per.chg - High to Low"},{key:"ch-l",text:"Per.chg - Low to High"}]),ce=a([]),pe=a([]),me=a(null);a(null);const ve=a("");a(0),a(["All","Equity","Debt","Hybrid","Other"]),a([]);const he=a(null),fe=a([{key:"a",text:"Script - A to Z"},{key:"z",text:"Script - Z to A"},{key:"nav-h",text:"NAV - High to Low"},{key:"nav-l",text:"NAV - Low to High"},{key:"y-h",text:"3yr rtn - High to Low"},{key:"y-l",text:"3yr rtn - Low to High"}]),ge=a(!1),ye=a([]),be=a(!1),xe=a(0),we=a(0),_e=a(!1),ke=a(!1),Se=a({}),Ce=a(null),Ie=a([{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}]),Ee=a({NSE:[],BSE:[],MCX:[]}),Te=a(!1),Ne=a({}),Me=a([0]),Ae=a({}),Oe=a([{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Delete",icon:13,type:"delete"},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:"detail"}]),Pe=a([]);a([]);const Fe=(e,t)=>{const a={...G.value[e]||{}},l=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},n=l(t.ltp??t.lp??t.l),o=l(t.c??t.prev_close_price??t.close),s=l(t.ch),i=l(t.chp);return void 0!==n&&(a.ltp=n),void 0!==o&&(a.prevClose=o),void 0!==s&&(a.ch=s),void 0!==i&&(a.chp=i),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),G.value[e]=a,a},Le=a([{key:"MY:HOLDINGS",text:"My stocks"},{key:"NIFTY50:NSE",text:"Nifty50"},{key:"NIFTYBANK:NSE",text:"Bank Nifty"},{key:"SENSEX:BSE",text:"Sensex"}]),De=a({}),Ve=a(""),Be=a(""),$e=a([]),Re=a(null),ze=a(!1),Ue=a(!1),qe=a(""),He=a(""),je=a({show:!1,x:0,y:0,item:null,index:null}),We=l(()=>s.uid),Ye=l(()=>s.mtoken),Ge=l(()=>["MY:HOLDINGS","NIFTY50:NSE","NIFTYBANK:NSE","SENSEX:BSE"].includes(V.value)),Ke=l(()=>({is:Ge.value,...De.value})),Xe=async()=>{const e=We.value||sessionStorage.getItem("userid"),t=Ye.value||sessionStorage.getItem("msession"),a="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&e&&t;return!!a&&(!(!tl.myntapi||!tl.stat)||(!(!We.value||!p.loadMyntUrl(We.value))||(el&&nl.myntapi?(tl.myntapi=nl.myntapi,tl.wss=nl.wss,tl.source=nl.source,tl.stat=1,!0):(a&&console.warn("⚠️ API URL not available yet, session may still be initializing"),!1))))},Je=e=>{if(!e)return"neutral";const t=parseFloat(e);return t>0?"positive":t<0?"negative":"neutral"};let Qe=null;const Ze=e=>{const t=e.target,a=t.selectionStart??Be.value.length;Be.value=Be.value.toUpperCase(),N(()=>{t.setSelectionRange(a,a)}),Qe&&clearTimeout(Qe),Qe=setTimeout(async()=>{await et()},500)},et=async()=>{var e;if(!Be.value||Be.value.length<2)return $e.value=[],void(v.value=!1);if(await Xe()){v.value=!0,g.value=!0;try{Ae.value&&0!==Object.keys(Ae.value).length||await Ht();const t=Be.value.replace("&","%26"),a=(null==(e=Ae.value)?void 0:e.exarr)||[],l=["","EQ","FO","CUR","COM","IDX"][te.value]||"",n=ke.value?"1":"0",o=`jData={"uid":"${We.value}","stext":"${t}","fil":${JSON.stringify(a)},"cat":"${l}","opt":"${n}"}&jKey=${Ye.value}`,s=await dae(o);s&&"Ok"===s.stat&&s.values&&s.values.length>0?(X.value=s.values,Array.isArray(B.value)&&X.value.forEach(e=>{var t;if(B.value.some(t=>t.token===e.token)&&(e.watchlist=!0),["NFO","BFO"].includes(e.exch)){const a=e.tsym.includes("SENSEX")?e.dname.split(" "):e.tsym.split(/(\d+)/);e.tsyms=a[0],e.exp=e.instname.includes("FUT")?"FUT":e.instname.includes("OPT")?`${a[5]||a[3]||""} ${a[4]}${e.tsym.includes("SENSEX")||(null==(t=a[4])?void 0:t.includes("E"))?"":"E"}`:"",e.ser=e.instname.includes("OPT")?`${a[1]} ${a[2]} ${a[5]?a[3]:""}`:`${a[1]} ${a[2].slice(0,3)} ${a[3]&&"FUT"!==a[3]?a[3]:""}`}}),_t(),J.value=null):($e.value=[],X.value=[],J.value="noooo")}catch(Wie){console.error("Search error:",Wie),o.showSnackbar(0,"Search failed"),$e.value=[]}finally{g.value=!1}}},tt=async(e,t)=>{if(ke.value)la(t,e.token,e.exch,e.tsym);else if(await Xe()){if(e.watchlist)return await st(e,-1),void(e.watchlist=!1);if(Array.isArray(B.value)&&B.value.length>=50)o.showSnackbar(0,"Maximum 50 symbols you can add in single watchlists.");else{if(Array.isArray(B.value)&&B.value.findIndex(t=>t.token===e.token)>=0)return e.watchlist=!0,void o.showSnackbar(0,`${e.tsym||e.tsyms}, script is already exists.`);try{const t=await pae(`jData={"uid":"${We.value}","wlname":"${V.value}","scrips":"${e.exch}|${e.token}"}&jKey=${Ye.value}`,"AddMultiScripsToMW");"Ok"===t.stat?(o.showSnackbar(1,`${e.tsym||e.tsyms} added to watchlist`),e.watchlist=!0,Re.value=e,await gt(),await ft()):o.showSnackbar(0,t.emsg||"Failed to add to watchlist")}catch(Wie){console.error("Add to watchlist error:",Wie),o.showSnackbar(0,"Failed to add to watchlist")}}}},at=async e=>{V.value=e,Le.value.find(t=>t.key===e)?await lt():await gt()},lt=async()=>{try{if(b.value=!0,!De.value||"Ok"!==De.value.stat)try{De.value=await iae()}catch(e){return console.log("PreDefinedMW load error in setPDwatchlist:",e),void(b.value=!1)}const t=pt(V.value);if(t&&Array.isArray(t)&&t.length>0&&(B.value=t,t.forEach(e=>{if(e.token&&G.value[e.token]){const t=G.value[e.token];e.ltp=void 0!==t.ltp?t.ltp.toFixed(2):e.ltp||null,e.ch=void 0!==t.ch?t.ch.toFixed(2):e.ch||null,e.chp=void 0!==t.chp?t.chp.toFixed(2):e.chp||null}}),vt()),B.value&&Array.isArray(B.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}if("MY:HOLDINGS"===V.value){let e=Xle();if(!e||!Array.isArray(e)||0===e.length)try{if(await Xe()){const t=await mae();t&&t.response&&Array.isArray(t.response)&&t.response.length>0&&(e=t.response)}}catch(Wie){console.error("Error loading holdings data:",Wie)}e&&e.length>0?(B.value=[],e.forEach(e=>{if(e.exch_tsym&&e.exch_tsym[0]){const t=e.exch_tsym[0];if(t.tsyms||t.tsym||!t.token||(t.tsym=t.token),t.ltp||0===t.ltp||(t.ltp=null),t.ch||0===t.ch||(t.ch=null),t.chp||0===t.chp||(t.chp=null),t.token&&G.value[t.token]){const e=G.value[t.token];void 0!==e.ltp&&(t.ltp=e.ltp.toFixed(2)),void 0!==e.ch&&(t.ch=e.ch.toFixed(2)),void 0!==e.chp&&(t.chp=e.chp.toFixed(2))}!t.id&&t.token&&(t.id=`holding_${t.token}_${Date.now()}`),B.value.push(t)}}),vt(),B.value.length>0&&ct("MY:HOLDINGS",B.value)):B.value="no data"}else if(["NIFTY50:NSE","NIFTYBANK:NSE","SENSEX:BSE"].includes(V.value))if(De.value&&De.value[V.value]){const e=De.value[V.value];Array.isArray(e)&&(B.value=[],e.forEach(e=>{if(e.token){if(e.tsyms||e.tsym||(e.tsym=e.token||"Unknown"),void 0===e.ltp||null===e.ltp?e.ltp=null:0===e.ltp&&(e.ltp=0),void 0===e.ch||null===e.ch?e.ch=null:0===e.ch&&(e.ch=0),void 0===e.chp||null===e.chp?e.chp=null:0===e.chp&&(e.chp=0),e.token&&G.value[e.token]){const t=G.value[e.token];void 0!==t.ltp&&(e.ltp=t.ltp.toFixed(2)),void 0!==t.ch&&(e.ch=t.ch.toFixed(2)),void 0!==t.chp&&(e.chp=t.chp.toFixed(2))}B.value.push(e)}}),vt())}else t&&Array.isArray(t)&&0!==t.length||(B.value="no data");if(vt(),B.value&&Array.isArray(B.value)&&B.value.length>0&&ct(V.value,B.value),B.value&&Array.isArray(B.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e),setTimeout(()=>{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)},1200)}}catch(Wie){console.error("Set predefined watchlist error:",Wie);const t=pt(V.value);t&&Array.isArray(t)&&0!==t.length||(B.value="no data")}finally{b.value=!1}},nt=async()=>{if(qe.value)if(D.value.includes(qe.value))o.showSnackbar(0,"Watchlist name already exists");else if(await Xe())try{mt(qe.value),D.value.unshift(qe.value),V.value=qe.value,B.value=[],rt(),o.showSnackbar(1,`${qe.value} watchlist created`),ze.value=!1,qe.value=""}catch(Wie){console.error("Create watchlist error:",Wie),o.showSnackbar(0,"Failed to create watchlist")}else o.showSnackbar(0,"Session not ready. Please login again.")},ot=async()=>{if(!(await Xe()))return o.showSnackbar(0,"Session not ready. Please login again."),Ue.value=!1,void(He.value="");try{const e=He.value;if(D.value.length<=1)return o.showSnackbar(0,"Cannot delete the last watchlist. At least one watchlist must remain."),Ue.value=!1,void(He.value="");if(Array.isArray(B.value)&&B.value.length>0){let t="";for(let e=0;e<B.value.length;e++)t+=`${e>0?"#":""}${B.value[e].exch}|${B.value[e].token}`;try{const a=await pae(`jData={"uid":"${We.value}","wlname":"${e}","scrips":"${t}"}&jKey=${Ye.value}`,"DeleteMultiMWScrips");a&&"Ok"!==a.stat&&console.warn("Failed to delete all scripts from watchlist:",a.emsg)}catch(SJ){console.warn("Error deleting scripts from watchlist:",SJ)}}mt(e);const t=D.value.indexOf(e);t>-1&&(D.value.splice(t,1),rt()),V.value===e&&(D.value.length>0?(V.value=D.value[0],await gt()):await ft()),await ft(),o.showSnackbar(0,`${e} watchlist deleted`)}catch(Wie){console.error("Delete watchlist error:",Wie),o.showSnackbar(0,"Failed to delete watchlist")}finally{Ue.value=!1,He.value=""}},st=async(e,t)=>{if(await Xe())try{const a=await pae(`jData={"uid":"${We.value}","wlname":"${V.value}","scrips":"${e.exch}|${e.token}"}&jKey=${Ye.value}`,"DeleteMultiMWScrips");if("Ok"===a.stat){if(t>=0)B.value.splice(t,1);else{const t=B.value.findIndex(t=>t.token===e.token);t>=0&&B.value.splice(t,1)}Array.isArray(B.value)&&0===B.value.length?(B.value="no data",mt(V.value)):Array.isArray(B.value)&&B.value.length>0&&ct(V.value,B.value);const a=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[{token:e.token,exch:e.exch}],is:"wl",page:"watchlist"}});window.dispatchEvent(a),o.showSnackbar(0,`${e.tsym||e.tsyms} removed from watchlist`)}else o.showSnackbar(0,a.emsg||"Failed to remove from watchlist")}catch(Wie){console.error("Remove from watchlist error:",Wie),o.showSnackbar(0,"Failed to remove from watchlist")}finally{je.value.show=!1}},it=async(e,t)=>{if(await Xe())try{let a,l="";if(Pe.value&&Pe.value.delete&&B.value&&"object"==typeof B.value&&Array.isArray(B.value)){for(let e=0;e<B.value.length;e++)l+=`${e>0?"#":""}${B.value[e].exch}|${B.value[e].token}`;a=`jData={"uid":"${We.value}","wlname":"${Pe.value.wl}","scrips":"${l}"}&jKey=${Ye.value}`}else a=`jData={"uid":"${We.value}","wlname":"${V.value}","scrips":"${e&&e.exch?e.exch+"|"+e.token:""}"}&jKey=${Ye.value}`;const n=await pae(a,"DeleteMultiMWScrips");if("Ok"===n.stat){if(Pe.value&&Pe.value.delete){if(D.value.length<=1)return o.showSnackbar(0,"Cannot delete the last watchlist. At least one watchlist must remain."),void(Pe.value={});const e=D.value.indexOf(Pe.value.wl);e>-1&&(D.value.splice(e,1),rt(),V.value===Pe.value.wl&&(D.value.length>0?(V.value=D.value[0],await gt()):await ft())),o.showSnackbar(0,`${Pe.value.wl}, Watchlist deleted.`),Pe.value={}}else{if(Array.isArray(B.value)){if(-1===t){const t=B.value.findIndex(t=>t.token==e.token);t>=0&&B.value.splice(t,1)}else t>=0&&B.value.splice(t,1);if(0===B.value.length?(B.value="no data",mt(V.value)):ct(V.value,B.value),e&&e.token){const t=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[{token:e.token,exch:e.exch}],is:"wl",page:"watchlist"}});window.dispatchEvent(t)}}o.showSnackbar(0,`${e.tsym||e.tsyms||"Script"}, script removed`)}Pe.value={}}else o.showSnackbar(0,n.emsg||"Delete failed")}catch(Wie){console.error("Delete script error:",Wie),o.showSnackbar(0,"Failed to delete script")}},rt=()=>{We.value&&localStorage.setItem(`${We.value}_watchlists`,JSON.stringify(D.value))},ut=()=>{Ge.value||(Ve.value=B.value.map(e=>`${e.exch}|${e.token}#`).join(""))},dt=async()=>{if(!Ge.value)try{const e=B.value.map(e=>`${e.exch}|${e.token}#`).join(""),t=await pae(`jData={"uid":"${We.value}","wlname":"${V.value}","scrips":"${Ve.value}"}&jKey=${Ye.value}`,"DeleteMultiMWScrips");if(t&&"Ok"===t.stat){const t=await pae(`jData={"uid":"${We.value}","wlname":"${V.value}","scrips":"${e}"}&jKey=${Ye.value}`,"AddMultiScripsToMW");t&&"Ok"===t.stat||(o.showSnackbar(0,"Reorder failed. Please try again."),await gt())}else o.showSnackbar(0,"Reorder failed. Please try again."),await gt()}catch(Wie){console.error("Drag end error:",Wie),o.showSnackbar(0,"Reorder failed. Please try again."),await gt()}},ct=(e,t)=>{if(e&&t)try{if(K.value[e]={data:JSON.parse(JSON.stringify(t)),timestamp:Date.now()},We.value){const a=`${We.value}_watchlist_cache_${e}`;localStorage.setItem(a,JSON.stringify({data:t,timestamp:Date.now()}))}}catch(Wie){console.error("Error saving watchlist to cache:",Wie)}},pt=e=>{if(!e)return null;try{if(K.value[e]&&K.value[e].data)return JSON.parse(JSON.stringify(K.value[e].data));if(We.value){const t=`${We.value}_watchlist_cache_${e}`,a=localStorage.getItem(t);if(a){const t=JSON.parse(a);if(t&&t.data&&Date.now()-t.timestamp<864e5)return K.value[e]=t,JSON.parse(JSON.stringify(t.data))}}}catch(Wie){console.error("Error loading watchlist from cache:",Wie)}return null},mt=e=>{if(e)try{if(K.value[e]&&delete K.value[e],We.value){const t=`${We.value}_watchlist_cache_${e}`;localStorage.removeItem(t)}}catch(Wie){console.error("Error clearing watchlist cache:",Wie)}},vt=()=>{B.value&&Array.isArray(B.value)&&B.value.forEach((e,t)=>{e.id||e.token||(e.id=`item_${t}_${Date.now()}`)})},ht=()=>{if(We.value){const e=localStorage.getItem(`${We.value}_watchlists`);if(e)try{const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return D.value=t,V.value=t[0],!0}catch(Wie){console.error("Error loading watchlists from localStorage:",Wie)}}return!1},ft=async()=>{try{const e=sessionStorage.getItem("c3RhdHVz");if("dmFsaWR1c2Vy"!==e||!We.value||!Ye.value){if(ht()){const e=pt(V.value);e&&Array.isArray(e)&&e.length>0?B.value=e:B.value="no data",b.value=!1}else D.value=[],B.value="no data",b.value=!1;return}console.log("[MWList] Calling MWList API...",{uid:We.value,mtoken:Ye.value?"present":"missing"});let t=[];if(We.value){const e=localStorage.getItem(`${We.value}_watchlists`);if(e)try{const a=JSON.parse(e);Array.isArray(a)&&a.length>0&&(t=[...a])}catch(Wie){console.error("Error parsing local watchlists:",Wie)}}const a=await pae(`jData={"uid":"${We.value}","actid":"${We.value}"}&jKey=${Ye.value}`,"MWList");if(console.log("[MWList] API Response:",a),a&&(a.values&&a.values.length>0||"Ok"===a.stat)){const e=a.values?a.values.sort((e,t)=>e.localeCompare(t)):[];if(e.length>0){const a=[...e];t.forEach(e=>{a.includes(e)||a.push(e)}),D.value=a,V.value&&a.includes(V.value)||(V.value=a[0]),rt(),console.log("[MWList] Watchlist loaded:",{watchlist:a,selected:V.value})}else if(console.log("[MWList] No values in response, using localStorage data..."),t.length>0){D.value=t,V.value&&t.includes(V.value)||(V.value=t[0]);const e=pt(V.value);e&&Array.isArray(e)&&e.length>0?B.value=e:B.value="no data"}else{const e="Millionaire";D.value=[e],V.value=e,rt()}}else if(console.log("[MWList] API failed or empty, using localStorage data..."),t.length>0){D.value=t,V.value&&t.includes(V.value)||(V.value=t[0]);const e=pt(V.value);e&&Array.isArray(e)&&e.length>0?B.value=e:B.value="no data"}else{const e="Millionaire";D.value=[e],V.value=e,rt()}if(0===D.value.length){const e="Millionaire";D.value=[e],V.value=e,rt(),console.log("[MWList] Created default watchlist:",e)}else V.value&&D.value.includes(V.value)||(V.value=D.value[0],console.log("[MWList] Set first watchlist as selected:",V.value));D.value=[...D.value],await gt()}catch(Wie){if(console.error("[MWList] Get watchlist error:",Wie),ht()){const e=pt(V.value);e&&Array.isArray(e)&&e.length>0?B.value=e:B.value="no data"}else{const e="Millionaire";D.value=[e],V.value=e,rt(),await gt()}}finally{b.value=!1,D.value.length>0&&(D.value=[...D.value])}},gt=async()=>{if(!(await Xe())){const e=pt(V.value);return e&&Array.isArray(e)&&e.length>0?(B.value=e,void(b.value=!1)):(B.value="no data",void(b.value=!1))}b.value=!0;try{const e=pt(V.value);if(e&&Array.isArray(e)&&e.length>0&&(B.value=e,e.forEach(e=>{if(e.token&&G.value[e.token]){const t=G.value[e.token];e.ltp=void 0!==t.ltp?t.ltp.toFixed(2):e.ltp||null,e.ch=void 0!==t.ch?t.ch.toFixed(2):e.ch||null,e.chp=void 0!==t.chp?t.chp.toFixed(2):e.chp||null}}),vt()),B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}console.log("[API] Calling MarketWatch...",{wlname:V.value});let t=await pae(`jData={"uid":"${We.value}","wlname":"${V.value}"}&jKey=${Ye.value}`,"MarketWatch");if(console.log("[API] MarketWatch Response:",t),t&&t.values&&t.values.length>0&&"Ok"==t.stat){let e=t.values;B.value=[];for(let t=0;t<e.length;t++)if(e[t].token){if(e[t].id=t+1,"NFO"!=e[t].exch&&"BFO"!=e[t].exch||(e[t].ser=e[t].tsym&&e[t].tsym.includes("SENSEX")?e[t].dname?e[t].dname.split(" "):[]:e[t].tsym?e[t].tsym.split(/(\d+)/):[],e[t].tsyms=e[t].ser&&e[t].ser[0]?e[t].ser[0]:e[t].tsym||e[t].token,e[t].exp=e[t].instname&&e[t].instname.includes("FUT")?"FUT":e[t].instname&&e[t].instname.includes("OPT")?`${e[t].ser[5]?e[t].ser[5]:e[t].ser[3]?e[t].ser[3]:""} ${e[t].ser[4]?e[t].ser[4]:""}${e[t].ser[4]&&e[t].ser[4].includes("E")?"":"E"}`:"",e[t].ser=e[t].instname&&e[t].instname.includes("OPT")?`${e[t].ser[1]} ${e[t].ser[2]} ${e[t].ser[5]?e[t].ser[3]:""}`:`${e[t].ser[1]} ${e[t].ser[2]?e[t].ser[2].slice(0,3):""} ${e[t].ser[3]&&"FUT"!=e[t].ser[3]?e[t].ser[3]:""}`),e[t].tsyms||e[t].tsym||(e[t].tsym=e[t].token||`Item ${t+1}`),void 0===e[t].ltp||null===e[t].ltp?e[t].ltp=null:0===e[t].ltp&&(e[t].ltp=0),void 0===e[t].ch||null===e[t].ch?e[t].ch=null:0===e[t].ch&&(e[t].ch=0),void 0===e[t].chp||null===e[t].chp?e[t].chp=null:0===e[t].chp&&(e[t].chp=0),e[t].token&&G.value[e[t].token]){const a=G.value[e[t].token];void 0!==a.ltp&&(e[t].ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(e[t].ch=a.ch.toFixed(2)),void 0!==a.chp&&(e[t].chp=a.chp.toFixed(2))}B.value.push(e[t])}if(0===B.value.length)return B.value="no data",mt(V.value),void(b.value=!1);if(vt(),ct(V.value,B.value),B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}setTimeout(()=>{if(B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}else b.value=!1,e&&Array.isArray(e)&&0!==e.length||(B.value="no data",mt(V.value))}catch(Wie){console.error("Get watchlist data error:",Wie);const t=pt(V.value);t&&Array.isArray(t)&&0!==t.length||(B.value="no data",mt(V.value))}finally{b.value=!1}},yt=e=>{const t=e.detail;let a=null,l=null;if(Array.isArray(t)&&t.length>=2){const[e,n]=t;if(e&&(e.token||e.tk||e.t)){const t=e.token||e.tk||e.t;Ie.value&&Ie.value.some(e=>e.token==t)&&(a=e,l=t)}}else if(t&&"object"==typeof t&&"data"===t.flow&&"pd"===t.is)a=t.data||t,l=a.token||a.tk||a.t;else if(t&&(t.token||t.tk||t.t)){const e=t.token||t.tk||t.t;Ie.value&&Ie.value.some(t=>t.token==e)&&(a=t,l=e)}if(l&&a&&Ie.value&&Array.isArray(Ie.value)){const e=Ie.value.findIndex(e=>e.token==l);if(e>=0&&Ie.value[e].token==l){const t=a.l||a.lp||a.ltp;let n=a.ch,o=a.chp||a.chpct;const s=Ie.value[e].prevClose||parseFloat(Ie.value[e].ltp)-parseFloat(Ie.value[e].ch||0);null!=t&&(Ie.value[e].ltp=Number(t).toFixed(2),void 0===n&&s>0&&(n=Number(t)-s)),null!=n&&(Ie.value[e].ch=Number(n)>0||Number(n)<0?Number(n).toFixed(2):(0).toFixed(2),void 0===o&&s>0&&(o=n/s*100)),null!=o&&(Ie.value[e].chp=Number(o).toFixed(2)),null!=t&&(Ie.value[e].prevClose=s||Number(t)),Ie.value=[...Ie.value],N(()=>{const t=document.getElementById(`p${l}ltp`);if(t){t.innerHTML=Ie.value[e].ltp||"0.00";const a=document.getElementById(`p${l}ch`),n=document.getElementById(`p${l}chp`),o=document.getElementById(`p${l}chpclr`);if(a&&(a.innerHTML=Ie.value[e].ch||"0.00"),n&&(n.innerHTML=`(${Ie.value[e].chp||"0.00"})`),o){const t=parseFloat(Ie.value[e].ch)||0,a="d-inline-flex font-weight-medium fs-12 px-2",l=t>0?"maingreen--text":t<0?"mainred--text":"subtext--text";o.className=`${a} ${l}`}}})}}if(Array.isArray(t)&&t.length>=2){const[e,a]=t;e&&B.value&&Array.isArray(B.value)&&("dk"===e.t||"df"===e.t?bt(e):(e.tk||e.token)&&xt(e))}else if(t&&(t.token||t.tk||t.t)){const e=t,a=e.token||e.tk||e.t;B.value&&Array.isArray(B.value)&&B.value.findIndex(e=>e.token==a)>=0&&("dk"===e.t||"df"===e.t?bt(e):void 0===e.lp&&void 0===e.ch&&void 0===e.chp||xt(e))}},bt=e=>{const t=e.tk||e.token,a=e.e||e.exchange;if(!t)return;let l=B.value.findIndex(e=>e.token===t&&e.exch===a);if(l<0&&(l=B.value.findIndex(e=>e.token===t)),l>=0){const a=Fe(t,e);isFinite(a.ltp)&&(j.value[t]={ltp:a.ltp,ch:a.ch??0,chp:a.chp??0});const n={...B.value[l]};void 0!==a.ltp&&(n.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(n.ch=a.ch.toFixed(2)),void 0!==a.chp&&(n.chp=a.chp.toFixed(2)),B.value[l]={...B.value[l],...n},wt(t,{ltp:n.ltp??B.value[l].ltp??"0.00",ch:n.ch??B.value[l].ch??"0.00",chp:n.chp??B.value[l].chp??"0.00"}),B.value&&Array.isArray(B.value)&&B.value.length>0&&ct(V.value,B.value)}},xt=e=>{const t=e.token||e.tk,a=B.value.findIndex(e=>e.token===t);if(a>=0){const l=Fe(t,e);isFinite(l.ltp)&&(j.value[t]={ltp:l.ltp,ch:l.ch??0,chp:l.chp??0});const n={...B.value[a]};void 0!==l.ltp&&(n.ltp=l.ltp.toFixed(2)),void 0!==l.ch&&(n.ch=l.ch.toFixed(2)),void 0!==l.chp&&(n.chp=l.chp.toFixed(2)),B.value[a]={...B.value[a],...n},wt(t,{ltp:n.ltp??B.value[a].ltp??"0.00",ch:n.ch??B.value[a].ch??"0.00",chp:n.chp??B.value[a].chp??"0.00"}),B.value&&Array.isArray(B.value)&&B.value.length>0&&ct(V.value,B.value)}},wt=(e,t)=>{const a=document.getElementById(`${e}ltp`),l=document.getElementById(`${e}ch`),n=document.getElementById(`${e}chp`);a&&(a.textContent=t.ltp||"0.00"),l&&(l.textContent=(e=>{if(!e)return"0.00";const t=parseFloat(e);return t>0?`+${t.toFixed(2)}`:t.toFixed(2)})(t.ch),l.className=`change-value ${Je(t.ch)}`),n&&(n.textContent=`(${(e=>{if(!e)return"0.00%";const t=parseFloat(e);return`${t>0?`+${t.toFixed(2)}`:t.toFixed(2)}%`})(t.chp)})`,n.className=`change-percent ${Je(t.chp)}`)},_t=()=>{if($e.value=[],!X.value||0===X.value.length)return $e.value=[],J.value="noooo",void(b.value=!1);0==te.value?$e.value=X.value:1==te.value?$e.value=X.value.filter(e=>"NSE"==e.exch||"BSE"==e.exch):2==te.value?$e.value=X.value.filter(e=>"NFO"==e.exch||"BFO"==e.exch):3==te.value?$e.value=X.value.filter(e=>"CDS"==e.exch):4==te.value?$e.value=X.value.filter(e=>"MCX"==e.exch):5==te.value?$e.value=X.value:($e.value=[],J.value="noooo"),0===$e.value.length?J.value="noooo":J.value=null,b.value=!1},kt=async e=>{pe.value=[],g.value=!0;try{const t=await fetch("https://v3.mynt.in/mfapi/dashboard/mfsearch",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e})});if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.json();if(g.value=!1,a.data){const e=a.data,t=new Set(ce.value.map(e=>e.ISIN));pe.value=e.map(e=>({...e,watchlist:t.has(e.ISIN)}))}}catch(Wie){console.error("Mutual fund search error:",Wie),g.value=!1,o.showSnackbar(0,"Failed to search mutual funds")}},St=()=>{setTimeout(()=>{if(S.value)S.value.focus();else{const e=document.querySelector(".mutual-fund-section .search-input");e&&e.focus()}},10)},Ct=e=>{e&&e.target?(ve.value=e.target.value.toUpperCase(),kt(ve.value)):kt(ve.value)},It=()=>{if(!ce.value||!Array.isArray(ce.value))return;const e=he.value;"a"===e?ce.value.sort((e,t)=>(e.name||"").localeCompare(t.name||"")):"z"===e?ce.value.sort((e,t)=>(t.name||"").localeCompare(e.name||"")):"nav-h"===e?ce.value.sort((e,t)=>(Number(t.AUM)||0)-(Number(e.AUM)||0)):"nav-l"===e?ce.value.sort((e,t)=>(Number(e.AUM)||0)-(Number(t.AUM)||0)):"y-h"===e?ce.value.sort((e,t)=>(Number(t["3Year"])||0)-(Number(e["3Year"])||0)):"y-l"===e&&ce.value.sort((e,t)=>(Number(e["3Year"])||0)-(Number(t["3Year"])||0))},Et=async(e,t,a)=>{const l="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&We.value;if(!l&&!e)return void(_.value=!1);if(l&&!(await Xe()))return void(_.value=!1);if(!l)return void(_.value=!1);let n;_.value=!0,n="add"==e?{client_code:We.value,type:"add",isin:t.ISIN}:"delete"==e?{client_code:We.value,isin:t.ISIN,type:"delete"}:{client_code:We.value};try{console.log("[API] Calling watchlist_for_mobile (getMFwatchlist)...",{mode:e,hasItem:!!t,del:a});let l=await cle(JSON.stringify(n));console.log("[API] watchlist_for_mobile Response:",l);var s=[];if(l.scripts&&l.scripts.length>0&&"Ok"==l.stat&&!l.msg)s=l.scripts;else if("script added"==l.msg&&"Ok"==l.stat)s=l.scripts;else if("script deleted"==l.msg&&"Ok"==l.stat){if(a>=0)ce.value.splice(a,1);else if(t&&t.ISIN){const e=ce.value.findIndex(e=>e.ISIN===t.ISIN);e>=0&&ce.value.splice(e,1)}if(t&&t.ISIN){const e=new Set(ce.value.map(e=>e.ISIN));pe.value=pe.value.map(t=>({...t,watchlist:e.has(t.ISIN)}))}}else"No data"!=l.scripts&&e&&o.showSnackbar(0,l.msg?l.msg:l);if(s&&s.length>0){for(let t=0;t<s.length;t++){let e=s[t].Scheme_Name.split("-").slice(0);for(let a=0;a<e.length;a++)s[t].splito=e[a].includes("GROWTH")?"GROWTH":e[a].includes("IDCW PAYOUT")?"IDCW PAYOUT":e[a].includes("IDCW REINVESTMENT")?"IDCW REINVESTMENT":e[a].includes("IDCW")?"IDCW":"NORMAL";s[t].splitt=s[t].Scheme_Type.toUpperCase()}ce.value=s;const e=new Set(ce.value.map(e=>e.ISIN));pe.value=pe.value.map(t=>({...t,watchlist:e.has(t.ISIN)})),It()}}catch(Wie){console.error("Mutual fund watchlist error:",Wie),o.showSnackbar(0,"Failed to update mutual fund watchlist")}finally{_.value=!1}},Tt=(e,t)=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mforder",item:t,value:e}}))},Nt=async()=>{if(!ye.value||0===ye.value.length)return xe.value=0,void(we.value=0);let e={basketlists:[]};for(let t=0;t<ye.value.length;t++){const a=ye.value[t];a.basketlists||(a.basketlists=[]),0===a.basketlists.length&&t>0&&a.basketlists.push({uid:We.value,actid:We.value,discqty:"0",exch:a.exch,pCode:"I",prctyp:a.ordvai,prd:"I",prc:"MKT"==a.ordvai?"":a.ordprc,qty:String(a.ls*a.ordlot),ret:"DAY",symbol_id:a.token,tsym:a.tsym,trantype:"BUY"==a.buySell?"B":"S",trgprc:"0"}),a.basketlists&&a.basketlists.length>0&&e.basketlists.push(...a.basketlists)}if(e.basketlists.length>0)try{let t=await kae(e);xe.value=null==t.marginused?0:t.marginused,we.value=null==t.marginusedtrade?0:t.marginusedtrade}catch(Wie){console.error("Margin calculation error:",Wie),xe.value=0,we.value=0}else xe.value=0,we.value=0},Mt=(e,t,a)=>{"delete"==t?(ye.value.splice(e,1),Nt()):ye.value[e]&&(ye.value[e][t]=a,Nt())},At=async e=>{await Xe()&&(_e.value=!0,e<=ye.value.length-1?await Ot(ye.value[e],e):(o.showSnackbar(1,"Basket order placed successfully"),window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"orders"})),_e.value=!1))},Ot=async(e,t)=>{if(!(await Xe()))return;let a={uid:We.value,actid:We.value,exch:e.exch,tsym:e.tsym,ret:"DAY",qty:String(Number(e.ls)*Number(e.ordlot)),prc:"MKT"==e.ordvai?"0":e.ordprc,prd:be.value?"I":"M",trantype:"BUY"==e.buySell?"B":"S",prctyp:e.ordvai,trailprc:"",channel:"",userAgent:"",appInstaId:"",trgprc:"0",mktProt:""};try{let e=await Cae(a);if("Ok"!=e.stat)return o.showSnackbar(0,e.emsg?e.emsg:e),void(_e.value=!1);setTimeout(()=>{At(t+1)},100)}catch(Wie){console.error("Place order error:",Wie),o.showSnackbar(0,"Failed to place order"),_e.value=!1}},Pt=a(!1),Ft=a(!1),Lt=a(!1),Dt=async()=>{if(await Xe())try{console.log("[API] Calling PositionBook...");const e=await hae(!0);console.log("[API] PositionBook Response:",e)}catch(Wie){console.error("[API] PositionBook Error:",Wie)}},Vt=async()=>{if(await Xe())try{console.log("[API] Calling Holdings...");const e=await mae();console.log("[API] Holdings Response:",e)}catch(Wie){console.error("[API] Holdings Error:",Wie)}},Bt=async()=>{if(await Xe())try{console.log("[API] Calling OrderBook...");const e=await Nae();console.log("[API] OrderBook Response:",e)}catch(Wie){console.error("[API] OrderBook Error:",Wie)}},$t=async()=>{if(await Xe())try{console.log("[API] Calling Limits...");const e=await Dae(!0);console.log("[API] Limits Response:",e)}catch(Wie){console.error("[API] Limits Error:",Wie)}},Rt=async()=>{if(Pt.value)console.log("[API] Trading data APIs already called, skipping...");else{Pt.value=!0,console.log("[API] Calling trading data APIs after login...");try{await Promise.all([Dt(),Vt(),Bt(),$t()])}catch(Wie){console.error("[API] Error calling trading data APIs:",Wie),Pt.value=!1}}},zt=async(e,t)=>{if(e&&null!=t){if(console.log("[API] Opening index dialog for:",{item:e,callback:t,pdmwdataLength:Ie.value.length}),Ne.value={...e},Ie.value&&void 0!==Ie.value[t]){const e=0===t?1:0;Ie.value[e]&&Ie.value[e].token?Ne.value.n=Ie.value[e].token:Ne.value.n=null,Ne.value.token=Ie.value[t].token}Te.value=!0,Me.value=[0],console.log("[API] Index dialog opened, singleindex:",Ne.value,"indexdialog:",Te.value)}if(await Xe())try{console.log("[API] Calling getadindices (getIndexList)...");let e=await Xae();console.log("[API] getadindices Response:",e),e&&"Ok"==e.stat?(Ee.value={NSE:[],BSE:[],MCX:[]},e.NSE&&(Ee.value.NSE=e.NSE),e.BSE&&(Ee.value.BSE=e.BSE),e.MCX&&(Ee.value.MCX=e.MCX),e.NSE&&0!==e.NSE.length||!e.values||(e.values.NSE&&(Ee.value.NSE=e.values.NSE),e.values.BSE&&(Ee.value.BSE=e.values.BSE),e.values.MCX&&(Ee.value.MCX=e.values.MCX)),console.log("[API] Allindex populated:",{NSE:Ee.value.NSE.length,BSE:Ee.value.BSE.length,MCX:Ee.value.MCX.length})):console.warn("[API] getIndexList response not OK:",e)}catch(Wie){console.error("[API] Get index list error:",Wie)}},Ut=async()=>{if(await Xe())if(Ft.value)console.log("[API] getadindicesAdvdec already called, skipping...");else{Ft.value=!0;try{console.log("[API] Calling getadindicesAdvdec (getADindices)...");const e=await Zae();console.log("[API] getadindicesAdvdec Response:",e)}catch(Wie){console.error("[API] getadindicesAdvdec Error:",Wie)}}},qt=async()=>{if(Lt.value)console.log("[API] GetLtp (fetchInitialIndicesData) already called, skipping...");else if(Ie.value&&0!==Ie.value.length)if(await Xe()){Lt.value=!0;try{const t=Ie.value.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym||e.tsym}));console.log("fetchInitialIndicesData: Fetching data for",t.length,"indices");const a=await $le(t),l=null==a?void 0:a.data;if(l){console.log("fetchInitialIndicesData: Received data for",Object.keys(l).length,"tokens");let t=!1;for(let e=0;e<Ie.value.length;e++){const a=Ie.value[e],n=l[a.token];if(n){const l=Number(n.lp||n.ltp||0).toFixed(2),o=Number(n.close||n.prev_close_price||0),s=o>0?Number(l-o).toFixed(2):Number(n.ch||0).toFixed(2),i=o>0?Number(s/o*100).toFixed(2):Number(n.chp||0).toFixed(2);Ie.value[e].ltp=l,Ie.value[e].ch=s,Ie.value[e].chp=i,t=!0,await N();const r=document.getElementById(`p${a.token}ltp`);if(r){r.innerHTML=l;const e=document.getElementById(`p${a.token}ch`),t=document.getElementById(`p${a.token}chp`),n=document.getElementById(`p${a.token}chpclr`);if(e&&(e.innerHTML=s),t&&(t.innerHTML=` (${i}%)`),n){const e=parseFloat(s)||0;n.className=e>0?"d-inline-flex font-weight-medium fs-12 px-2 maingreen--text":e<0?"d-inline-flex font-weight-medium fs-12 px-2 mainred--text":"d-inline-flex font-weight-medium fs-12 px-2 subtext--text"}}}else console.log("fetchInitialIndicesData: No data for token",a.token)}if(t&&We.value)try{localStorage.setItem(`${We.value}_pdmwdata`,JSON.stringify(Ie.value))}catch(e){console.error("Error saving pdmwdata cache:",e)}}}catch(Wie){console.error("fetchInitialIndicesData error:",Wie)}}else console.log("fetchInitialIndicesData: Session not ready");else console.log("fetchInitialIndicesData: pdmwdata is empty")},Ht=async()=>{if(await Xe())try{console.log("[API] Calling ClientDetails...");let e=await qae();console.log("[API] ClientDetails Response:",e),e&&"Ok"==e.stat&&(Ae.value=e)}catch(Wie){console.error("[API] ClientDetails Error:",Wie)}},jt=e=>{C.value&&0===e.button&&(I.value=!0,E=e.pageX-C.value.offsetLeft,T=C.value.scrollLeft,C.value.style.cursor="grabbing",document.addEventListener("mousemove",Yt),document.addEventListener("mouseup",Gt),e.preventDefault(),e.stopPropagation())},Wt=e=>{if(!I.value||!C.value)return;e.preventDefault(),e.stopPropagation();const t=2*(e.pageX-C.value.offsetLeft-E);C.value.scrollLeft=T-t},Yt=e=>{if(!I.value||!C.value)return;e.preventDefault();const t=2*(e.pageX-C.value.offsetLeft-E);C.value.scrollLeft=T-t},Gt=()=>{I.value=!1,C.value&&(C.value.style.cursor="grab"),document.removeEventListener("mousemove",Yt),document.removeEventListener("mouseup",Gt)},Kt=()=>{Gt()},Xt=e=>{O.value&&0===e.button&&(P.value=!0,F=e.pageX-O.value.offsetLeft,L=O.value.scrollLeft,O.value.style.cursor="grabbing",document.addEventListener("mousemove",Qt),document.addEventListener("mouseup",Zt),e.preventDefault(),e.stopPropagation())},Jt=e=>{if(!P.value||!O.value)return;e.preventDefault(),e.stopPropagation();const t=2*(e.pageX-O.value.offsetLeft-F);O.value.scrollLeft=L-t},Qt=e=>{if(!P.value||!O.value)return;e.preventDefault();const t=2*(e.pageX-O.value.offsetLeft-F);O.value.scrollLeft=L-t},Zt=()=>{P.value=!1,O.value&&(O.value.style.cursor="grab"),document.removeEventListener("mousemove",Qt),document.removeEventListener("mouseup",Zt)},ea=()=>{Zt()},ta=async()=>{if(v.value=!1,!h.value)if(Array.isArray(D.value)||(D.value=[]),0===D.value.length){const e=s.uid||sessionStorage.getItem("userid");if(e){const t=localStorage.getItem(`${e}_watchlists`);if(t)try{const e=JSON.parse(t);Array.isArray(e)&&e.length>0&&(D.value=e,V.value&&e.includes(V.value)||(V.value=e[0]),D.value=[...D.value],console.log("[Toggle] Loaded watchlists from localStorage:",e))}catch(Wie){console.error("Error loading watchlists from localStorage on toggle:",Wie)}}if(0===D.value.length&&We.value&&Ye.value)try{b.value=!0,await ft(),D.value&&D.value.length>0&&(D.value=[...D.value]),b.value=!1}catch(Wie){console.error("Error loading watchlists from API on toggle:",Wie),b.value=!1}}else D.value=[...D.value];h.value=!h.value},aa=()=>{$e.value=[],J.value="noooo",g.value=!1,Ce.value=null,ve.value="",ke.value=!1,Se.value={},h.value&&(h.value=!1),v.value&&(v.value=!1),Be.value="",ve.value="",ke.value=!1,Se.value={}},la=(e,a,l,n)=>{if(console.log("setSSDtab called:",{type:e,token:a,exch:l,tsym:n}),"alert"===e){const e=new CustomEvent("menudialog",{detail:{type:"alert",token:a,exch:l,tsym:n}});window.dispatchEvent(e)}else if("cGTT"===e){const e=new CustomEvent("menudialog",{detail:{type:"order-GTT",token:a,exch:l,tsym:n,trantype:"b"}});window.dispatchEvent(e)}else{const o=[e,a,l,n];if(localStorage.setItem("ssdParams",JSON.stringify(o)),localStorage.setItem("ssdtsym",`${l}:${n}`),localStorage.setItem("ssdtoken",a),console.log("Navigating to stocks details with params:",o),"/stocks/details"!==t.currentRoute.value.path)t.push({name:"stocks details",params:{val:o},query:{type:e,token:a,exch:l,tsym:n}});else{const t=new CustomEvent("ssd-event",{detail:{type:e,token:a,exch:l,tsym:n}});window.dispatchEvent(t)}}},na=(e,t,a,l,n)=>{const o=new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:l,trantype:n}});window.dispatchEvent(o)},oa=e=>{var t,a;const l=Xle();if(!l||!Array.isArray(l)||0===l.length)return"";const n=l.find(t=>t.token==e||t.exch_tsym&&t.exch_tsym[0]&&t.exch_tsym[0].token==e),o=(null==n?void 0:n.netqty)||(null==(a=null==(t=null==n?void 0:n.exch_tsym)?void 0:t[0])?void 0:a.netqty)||null;return sa(o)},sa=e=>e>0?`\n            <span style="border-radius: 4px; padding: 0px 6px; background-color: #F1F3F8 !important"\n                class="mr-1 table-hov-prd d-inline-flex align-center">\n                <img width="13px" src="/src/assets/suitcase.svg" />\n                <span class="font-weight-medium fs-12 pl-1 pt-1 primary--text"> ${e}</span>\n            </span>`:"",ia=e=>{const{data:t,value:a}=e.detail||{};1==a&&t?(m.value=!0,me.value=t,We.value&&Et()):m.value="Mutual Fund"===a},ra=e=>{const{type:t,data:a}=e.detail||{};if(a)if(-1==ye.value.findIndex(e=>e.tsym==a.tsym)){const e=a.tsym.includes("SENSEX")&&a.tsym.includes(" ")?a.dname.split(" "):a.tsym.split(/(\d+)/);a.ser=e,a.tsyms=e[0],a.checkbox=!0,a.exp=`${e[5]?e[5]:e[3]?e[3]:""} ${e[4]?e[4]:""}${e[4]&&e[4].includes("E")?"":"E"}`,a.ser=`${e[1]} ${e[2]} ${e[5]?e[3]:""}`,a.buySell=a.buySell||"BUY",a.ordvai=a.ordvai||"MKT",a.ordlot=a.ordlot||1,a.ordprc=a.ordprc||"",ye.value.push(a),Nt()}else o.showSnackbar(0,"This script is already exists.");ge.value=!0},ua=e=>{const t=e.detail||{};ke.value=!0,Se.value=t,$e.value=[],J.value=null,v.value=!0,setTimeout(()=>{const e=document.querySelector(".search-input");e&&e.focus()},100),Ce.value&&Ce.value.length>2&&et()},da=e=>{const t=e.detail;let a,l;Array.isArray(t)?(a=t[0],l=t[1]):t&&"object"==typeof t?(a=t.data||t,l=t.type):(a=t,l=null),"searchss"===l?!0!==v.value&&(v.value=!0,h.value=!1,$e.value=[],J.value=null,setTimeout(()=>{const e=document.querySelector(".search-input");e&&e.focus()},100)):"mf"===l?a&&Et("add",a,"mf"):a&&(Re.value=a,v.value=!0,(a.tsym||a.tsyms)&&(Be.value=a.tsym||a.tsyms,setTimeout(()=>{et()},100)))};return y(async()=>{window.location.pathname.includes("mutualfund")?m.value=!0:m.value=!1;const e=s.uid||sessionStorage.getItem("userid");if(e){const t=localStorage.getItem(`${e}_watchlists`);if(t)try{const e=JSON.parse(t);Array.isArray(e)&&e.length>0&&(D.value=e,V.value&&e.includes(V.value)||(V.value=e[0]),console.log("[Mount] Loaded watchlists from localStorage immediately:",e))}catch(Wie){console.error("Error loading watchlists from localStorage on mount:",Wie)}}k.value||(window.addEventListener("web-scoketConn",yt),k.value=!0),window.addEventListener("setappbar-event",ia),window.addEventListener("addscript-wl",da),window.addEventListener("bskwatch-event",ra),window.addEventListener("option-search",ua),await Ht();try{De.value=await iae()}catch(l){console.log("PreDefinedMW load error in onMounted:",l)}const t=sessionStorage.getItem("c3RhdHVz");"dmFsaWR1c2Vy"===t&&We.value&&Ye.value?(await ft(),D.value.length>0&&(D.value=[...D.value]),!(D.value.length>0)||V.value&&D.value.includes(V.value)||(V.value=D.value[0],await gt()),await Et(),await Rt(),V.value&&Le.value.find(e=>e.key===V.value)?await lt():V.value&&D.value&&D.value.length>0&&(!B.value||Array.isArray(B.value)&&0===B.value.length)&&await gt()):(V.value="NIFTY50:NSE",await lt()),b.value=!1;const a=[{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}];try{const e=localStorage.getItem(`${We.value}_pdmwdata`);if(e){const t=JSON.parse(e);Array.isArray(t)&&2===t.length?Ie.value=t:Ie.value=a}else Ie.value=a}catch(l){console.log("pdmwdata load error:",l),Ie.value=a}if(Ie.value&&Ie.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:Ie.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}await zt(),"dmFsaWR1c2Vy"===t&&We.value&&Ye.value&&!Ft.value&&await Ut(),await qt(),setTimeout(()=>{if(Ie.value&&Ie.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:Ie.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}if(B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}),Z(()=>{if(B.value&&Array.isArray(B.value)){const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}window.removeEventListener("web-scoketConn",yt),window.removeEventListener("setappbar-event",ia),window.removeEventListener("addscript-wl",da),window.removeEventListener("bskwatch-event",ra),window.removeEventListener("option-search",ua),I.value=!1,document.removeEventListener("mousemove",Yt),document.removeEventListener("mouseup",Gt),P.value=!1,document.removeEventListener("mousemove",Qt),document.removeEventListener("mouseup",Zt)}),f([We,Ye],async([e,t])=>{if("dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&e&&t){if(b.value=!0,_.value=!0,k.value||(window.addEventListener("web-scoketConn",yt),k.value=!0),await Ht(),!De.value||"Ok"!==De.value.stat)try{De.value=await iae(),console.log("Phase 2: PreDefinedMWRef loaded after login")}catch(a){console.log("PreDefinedMW load error in watch:",a)}if(await N(),console.log("Phase 2: Forcing re-render of watchlist items after login"),e){const t=localStorage.getItem(`${e}_watchlists`);if(t)try{const e=JSON.parse(t);Array.isArray(e)&&e.length>0&&(D.value=e,V.value&&e.includes(V.value)||(V.value=e[0]),console.log("[Watch] Loaded watchlists from localStorage immediately after login:",e))}catch(Wie){console.error("Error loading watchlists from localStorage after login:",Wie)}}if(await ft(),D.value.length>0&&(D.value=[...D.value]),await Et(),await Rt(),B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}const t=[{key:"NIFTY50:NSE",exch:"NSE",token:"26000",tsym:"Nifty 50"},{key:"NIFTYBANK:NSE",exch:"NSE",token:"26009",tsym:"Nifty Bank"}];try{const a=localStorage.getItem(`${e}_pdmwdata`);if(a){const e=JSON.parse(a);Array.isArray(e)&&2===e.length?Ie.value=e:Ie.value=t}else Ie.value=t}catch(a){console.log("pdmwdata load error in watch:",a),Ie.value=t}if(Ie.value&&Ie.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:Ie.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)}if(Ft.value||await Ut(),Lt.value||await qt(),V.value&&Le.value.find(e=>e.key===V.value)?await lt():V.value&&D.value&&0!==D.value.length||Le.value&&Le.value.length>0&&(V.value=Le.value[0].key,await lt()),B.value&&Array.isArray(B.value)&&B.value.length>0){console.log("Phase 1: Re-subscribing watchlistdata to WebSocket after login");const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e),setTimeout(()=>{if(B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},500),setTimeout(()=>{if(B.value&&Array.isArray(B.value)&&B.value.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:B.value,is:"wl",page:"watchlist"}});window.dispatchEvent(e)}},1200)}b.value=!1,_.value=!1}}),f(()=>n.path,e=>{e.includes("mutualfund")?(m.value=!0,We.value&&Et()):m.value=!1},{immediate:!0}),(e,a)=>{const l=$("di"),n=$("v-list-item-icon"),o=oe("dragscroll");return z(),R("div",Vk,[m.value?ee("",!0):(z(),R("div",Bk,[i("div",$k,[d(wp,{class:"search-icon"},{default:H(()=>[...a[42]||(a[42]=[W("mdi-magnify",-1)])]),_:1}),M(i("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>Be.value=e),onInput:Ze,placeholder:"Search script",class:r(["search-input rounded-pill",{searching:g.value}])},null,34),[[se,Be.value]]),g.value?(z(),q(Sp,{key:0,size:"16",width:"2",indeterminate:"",class:"search-loader"})):ee("",!0),v.value&&!g.value?(z(),q(wp,{key:1,onClick:a[1]||(a[1]=e=>aa()),disabled:b.value,color:"primary",class:"search-clear-icon cursor-pointer"},{default:H(()=>[...a[43]||(a[43]=[W("mdi-close",-1)])]),_:1},8,["disabled"])):ee("",!0)])])),m.value||ge.value||Be.value||v.value?ee("",!0):(z(),q(jg,{key:1,flat:"",density:"compact",class:"tool-sty crd-trn"},{default:H(()=>[M((z(),R("div",{ref_key:"watchlistTabsContainer",ref:C,onMousedown:jt,onMouseup:Kt,onMouseleave:Kt,onMousemove:Wt,style:{width:"calc(100% - 60px)",cursor:"grab","user-select":"none"},class:r(["overflow-x-auto d-inline-flex no-scroll rounded-xl watchlist-tabs-scrollable",{dragging:I.value}])},[h.value?ee("",!0):(z(),R("div",Rk,[(z(!0),R(u,null,U(D.value,(e,t)=>(z(),R("div",{key:`user-wl-${t}-${e}`,class:"pr-2"},[d(R_,{onClick:ie(t=>{V.value=e,at(e)},["stop"]),class:r(["font-weight-medium px-3 py-2 watchlisttab",V.value===e?"watchlisttab-active":""]),size:"medium"},{default:H(()=>[W(A(e),1)]),_:2},1032,["onClick","class"])]))),128))])),Le.value&&Le.value.length>0&&!Be.value?(z(),R("div",zk,[(z(!0),R(u,null,U(Le.value,(e,t)=>(z(),R("div",{key:`pre-wl-${t}-${e.key}`,class:"pr-2"},[d(R_,{onClick:ie(t=>{V.value=e.key,at(e.key)},["stop"]),class:r(["font-weight-medium px-3 watchlisttab",V.value===e.key?"watchlisttab-active":""]),size:"medium"},{default:H(()=>[W(A(e.text||e.key),1)]),_:2},1032,["onClick","class"])]))),128))])):ee("",!0)],34)),[[o,void 0,void 0,{x:!0}]]),d(zy),d(Pb,{location:"bottom",offset:"4"},{activator:H(({props:e})=>[d(im,w(e,{disabled:b.value||!B.value||!Array.isArray(B.value)||0===B.value.length,class:"text-none font-weight-bold ml-2",variant:"text",style:{"border-radius":"8px","text-transform":"none","font-weight":"600"}}),{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...a[44]||(a[44]=[W("mdi-sort-variant",-1)])]),_:1})]),_:1},16,["disabled"])]),default:H(()=>[d(cy,{density:"compact","min-width":"100",class:"py-2"},{default:H(()=>[(z(!0),R(u,null,U(ne.value,(e,t)=>(z(),R("div",{key:t,onClick:t=>{le.value=e.key,(()=>{if(!B.value||!Array.isArray(B.value)||0===B.value.length)return;const e=le.value;"a"===e?B.value.sort((e,t)=>{const a=(e.tsyms||e.tsym||"").toString(),l=(t.tsyms||t.tsym||"").toString();return a.localeCompare(l)}):"z"===e?B.value.sort((e,t)=>{const a=(e.tsyms||e.tsym||"").toString();return(t.tsyms||t.tsym||"").toString().localeCompare(a)}):"ltp-h"===e?B.value.sort((e,t)=>{const a=parseFloat(e.ltp)||0;return(parseFloat(t.ltp)||0)-a}):"ltp-l"===e?B.value.sort((e,t)=>(parseFloat(e.ltp)||0)-(parseFloat(t.ltp)||0)):"ch-h"===e?B.value.sort((e,t)=>{const a=parseFloat(e.chp)||0;return(parseFloat(t.chp)||0)-a}):"ch-l"===e&&B.value.sort((e,t)=>(parseFloat(e.chp)||0)-(parseFloat(t.chp)||0)),B.value=[...B.value]})()},class:r([le.value===e.key?"primary--text bg-primary-lighten-5":"","px-4 py-2 cursor-pointer"])},[i("p",{class:r(le.value===e.key?"font-weight-bold":""),style:{"font-size":"12px !important","font-weight":"600 !important","padding-block":"2px !important"}},A(e.text),3),le.value===e.key?(z(),q(wp,{key:0,color:"primary",size:"small"},{default:H(()=>[...a[45]||(a[45]=[W("mdi-check",-1)])]),_:1})):ee("",!0)],10,Uk))),128))]),_:1})]),_:1}),d(Lb,{location:"left",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[h.value?(z(),q(wp,{key:0,onClick:a[2]||(a[2]=e=>ze.value=!0),disabled:D.value&&D.value.length>=10||b.value,color:"maintext"},{default:H(()=>[...a[46]||(a[46]=[W("mdi-plus",-1)])]),_:1},8,["disabled"])):ee("",!0)],16)]),default:H(()=>[i("span",null,A(D.value&&D.value.length>=10?"Maximum 10 watchlists You can create.":"Create new watchlist"),1)]),_:1}),d(wp,{onClick:ta,disabled:b.value,color:"maintext",class:"ml-2"},{default:H(()=>[W(A(h.value?"mdi-chevron-left":"mdi-dots-vertical"),1)]),_:1},8,["disabled"])]),_:1})),h.value?(z(),q(cy,{key:2,class:"elevation-0 rounded-xl mb-3",color:"cardbg"},{default:H(()=>[!b.value||D.value&&0!==D.value.length?D.value&&D.value.length>0?(z(),q(Ib,{key:1},{default:H(()=>[(z(!0),R(u,null,U(D.value,(e,t)=>(z(),R("div",{key:t,onClick:t=>{at(e),h.value=!1},class:r(["cursor-pointer watchlist-manage-item",{active:e===V.value}]),style:{display:"flex","align-items":"center","justify-content":"space-between"}},[i("div",jk,[i("div",Wk,[i("div",{class:r(["indicator-square",e===V.value?"active":""])},null,2)]),i("div",Yk,[i("p",{class:r(["watchlist-name",e===V.value?"font-weight-bold":""])},A(e),3)])]),i("div",Gk,[d(Lb,{location:"left",color:"black"},{activator:H(({props:t})=>[d(im,w({ref_for:!0},t,{onClick:ie(t=>(async e=>{await at(e),h.value=!1,v.value=!0,await N(),setTimeout(()=>{const e=document.querySelector(".search-input");e&&e.focus()},100)})(e),["stop"]),icon:"",size:"small",variant:"text",class:"add-script-btn",disabled:b.value}),{default:H(()=>[d(wp,{size:"24",color:"primary"},{default:H(()=>[...a[48]||(a[48]=[W("mdi-plus-circle",-1)])]),_:1})]),_:1},16,["onClick","disabled"])]),default:H(()=>[a[49]||(a[49]=i("span",null,"Add script",-1))]),_:2},1024),d(Lb,{location:"left",color:"black"},{activator:H(({props:t})=>[d(im,w({ref_for:!0},t,{onClick:ie(t=>(e=>{He.value=e,Ue.value=!0})(e),["stop"]),icon:"",size:"small",variant:"text",class:"delete-btn",disabled:b.value}),{default:H(()=>[d(wp,{size:"30",color:"maintext"},{default:H(()=>[...a[50]||(a[50]=[W("mdi-delete-outline",-1)])]),_:1})]),_:1},16,["onClick","disabled"])]),default:H(()=>[a[51]||(a[51]=i("span",null,"Delete watchlist",-1))]),_:2},1024)])],10,Hk))),128))]),_:1})):b.value?ee("",!0):(z(),R("div",Kk,[d(wp,{size:"48",color:"grey lighten-1"},{default:H(()=>[...a[52]||(a[52]=[W("mdi-format-list-bulleted",-1)])]),_:1}),a[55]||(a[55]=i("p",{class:"subtext--text fs-14 mt-2 mb-4"},"No watchlists available",-1)),d(im,{onClick:a[3]||(a[3]=e=>ze.value=!0),color:"primary",class:"text-none",size:"small",variant:"elevated"},{default:H(()=>[d(wp,{left:"",size:"16"},{default:H(()=>[...a[53]||(a[53]=[W("mdi-plus",-1)])]),_:1}),a[54]||(a[54]=W(" Create Watchlist ",-1))]),_:1})])):(z(),R("div",qk,[d(Sp,{indeterminate:"",color:"primary",size:"24"}),a[47]||(a[47]=i("p",{class:"subtext--text fs-14 mt-2"},"Loading watchlists...",-1))]))]),_:1})):ee("",!0),ge.value?(z(),R("div",Xk,[d(jg,{flat:"",density:"compact",class:"tool-sty crd-trn pl-1"},{default:H(()=>[i("p",Jk,"Basket Options("+A(ye.value.length)+")",1),d(zy),d(cy,{color:"secbg",class:"px-2 py-0 elevation-0 rounded-xl"},{default:H(()=>[d(wk,{"hide-details":"",modelValue:be.value,"onUpdate:modelValue":a[4]||(a[4]=e=>be.value=e),density:"compact",class:"mt-n01"},{label:H(()=>[i("p",Qk,A(be.value?" MIS":" NRML"),1)]),_:1},8,["modelValue"])]),_:1}),d(im,{class:"mr-0",size:"small",icon:"",onClick:a[5]||(a[5]=e=>ge.value=!1)},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:e})=>[d(wp,re(ue(e)),{default:H(()=>[...a[56]||(a[56]=[W("mdi-minus",-1)])]),_:1},16)]),default:H(()=>[a[57]||(a[57]=i("span",null,"Minimize",-1))]),_:1})]),_:1}),d(im,{class:"mr-0",size:"small",icon:"",onClick:a[6]||(a[6]=e=>(ge.value=!1,ye.value=[]))},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:e})=>[d(wp,re(ue(e)),{default:H(()=>[...a[58]||(a[58]=[W("mdi-close",-1)])]),_:1},16)]),default:H(()=>[a[59]||(a[59]=i("span",null,"Close",-1))]),_:1})]),_:1})]),_:1}),d(my),ye.value&&ye.value.length>0?(z(),R("div",Zk,[(z(!0),R(u,null,U(ye.value,(e,t)=>(z(),R("div",{key:t,class:"pt-2 px-1"},[i("p",eS,[d(wp,{onClick:t=>(e.checkbox=!e.checkbox,Nt()),color:"primary",size:"14"},{default:H(()=>[W(A(e.checkbox?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"),1)]),_:2},1032,["onClick"]),i("span",tS,A(e.tsyms?e.tsyms:e.tsym?e.tsym:""),1),i("span",aS,A(e.exp?e.exp:""),1),i("span",lS,A(e.ser?e.ser:""),1),i("span",nS,[d(wp,{onClick:e=>Mt(t,"delete"),color:"maintext",class:"font-weight-bold",size:"16"},{default:H(()=>[...a[60]||(a[60]=[W(" mdi-close ",-1)])]),_:1},8,["onClick"])])]),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"3",class:"px-1 pt-2"},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:l})=>[d(vp,w({ref_for:!0},l,{modelValue:e.buySell,"onUpdate:modelValue":[t=>e.buySell=t,a=>{Mt(t,"buySell",e.buySell),Nt()}],mandatory:"",density:"compact",class:"elevation-0 rounded-lg"}),{default:H(()=>[d(im,{value:"BUY",size:"x-small",disabled:!e.checkbox,color:"BUY"==e.buySell?"maingreen":"secbg",class:r("BUY"==e.buySell?"white--text":"maintext--text")},{default:H(()=>[...a[61]||(a[61]=[W(" BUY ",-1)])]),_:1},8,["disabled","color","class"]),d(im,{value:"SELL",size:"x-small",disabled:!e.checkbox,color:"SELL"==e.buySell?"mainred":"secbg",class:r("SELL"==e.buySell?"white--text":"maintext--text")},{default:H(()=>[...a[62]||(a[62]=[W(" SELL ",-1)])]),_:1},8,["disabled","color","class"])]),_:2},1040,["modelValue","onUpdate:modelValue"])]),default:H(()=>[a[63]||(a[63]=i("span",null,"Buy/Sell",-1))]),_:2},1024)]),_:2},1024),d(ky,{cols:"3",class:"px-1 pt-2"},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:l})=>[d(vp,w({ref_for:!0},l,{modelValue:e.ordvai,"onUpdate:modelValue":[t=>e.ordvai=t,a=>{Mt(t,"ordvai",e.ordvai),Nt()}],mandatory:"",density:"compact",class:"elevation-0 rounded-lg"}),{default:H(()=>[d(im,{value:"MKT",size:"x-small",disabled:!e.checkbox,color:"MKT"==e.ordvai?"primary":"secbg",class:r("MKT"==e.ordvai?"white--text":"maintext--text")},{default:H(()=>[...a[64]||(a[64]=[W(" MKT ",-1)])]),_:1},8,["disabled","color","class"]),d(im,{value:"LMT",size:"x-small",disabled:!e.checkbox,color:"LMT"==e.ordvai?"primary":"secbg",class:r("LMT"==e.ordvai?"white--text":"maintext--text")},{default:H(()=>[...a[65]||(a[65]=[W(" LMT ",-1)])]),_:1},8,["disabled","color","class"])]),_:2},1040,["modelValue","onUpdate:modelValue"])]),default:H(()=>[a[66]||(a[66]=i("span",null,"Market/Limit",-1))]),_:2},1024)]),_:2},1024),d(ky,{cols:"3",class:"px-1 pt-2"},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:t})=>[d(Fk,w({ref_for:!0},t,{disabled:!e.checkbox,onKeyup:a[7]||(a[7]=e=>Nt()),prefix:"📦",class:"fs-12 bskfield",height:"20px",modelValue:e.ordlot,"onUpdate:modelValue":t=>e.ordlot=t,type:"number",min:"1","hide-spin-buttons":"","hide-details":"",density:"compact",variant:"outlined"}),null,16,["disabled","modelValue","onUpdate:modelValue"])]),default:H(()=>[i("span",null,"QTY: "+A(e.ordlot)+" * MLot "+A(e.ls),1)]),_:2},1024)]),_:2},1024),d(ky,{cols:"3",class:"px-1 pt-2"},{default:H(()=>[d(Lb,{location:"top",color:"black"},{activator:H(({props:t})=>[d(Fk,w({ref_for:!0},t,{onKeyup:a[8]||(a[8]=e=>Nt()),prefix:"₹",disabled:"MKT"==e.ordvai||!e.checkbox,class:"fs-12 bskfield",height:"20px",modelValue:e.ordprc,"onUpdate:modelValue":t=>e.ordprc=t,type:"number",min:"0.1","hide-spin-buttons":"","hide-details":"",density:"compact",variant:"outlined"}),null,16,["disabled","modelValue","onUpdate:modelValue"])]),default:H(()=>[a[67]||(a[67]=i("span",null,"Price",-1))]),_:2},1024)]),_:2},1024)]),_:2},1024),d(my,{class:"mt-1"})]))),128))])):(z(),q(cy,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:H(()=>[i("img",{class:"align-self-stretch mx-auto",width:"70px",src:x(dg)(`searcha-icon${e.$vuetify.theme.dark?"d":""}.svg`)},null,8,oS),a[68]||(a[68]=i("p",{class:"subtext--text fs-14 mb-1"},"Hmmm, Looks like no Strikes — why not add some? Choose from the option chain.",-1))]),_:1})),ye.value&&ye.value.length>0?(z(),R("div",sS,[d(my),d(jg,{class:"tool-sty elevation-0 crd-trn pt-1 pl-1",density:"compact"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-12 subtext--text mb-2"},{default:H(()=>[a[70]||(a[70]=W(" Margin: ",-1)),i("span",iS,[i("b",null,"₹"+A(Number(xe.value)?xe.value.toFixed(2):"0.00"),1)]),d(wp,{class:"ml-1 cursor-p",onClick:a[9]||(a[9]=e=>Nt()),color:"maintext",size:"12"},{default:H(()=>[...a[69]||(a[69]=[W(" mdi-reload ",-1)])]),_:1})]),_:1}),d(ub,{class:"font-weight-medium fs-12 subtext--text mb-0"},{default:H(()=>[a[71]||(a[71]=W(" Post margin: ",-1)),i("span",rS,[i("b",null,"₹"+A(Number(we.value)?we.value.toFixed(2):"0.00"),1)])]),_:1})]),_:1}),d(zy),d(im,{onClick:a[10]||(a[10]=e=>At(0)),color:"primary",loading:_e.value,class:"text-none rounded-pill elevation-0 white--text px-6",height:"40px"},{default:H(()=>[...a[72]||(a[72]=[W(" Place order ",-1)])]),_:1},8,["loading"])]),_:1})])):ee("",!0)])):ee("",!0),!ge.value&&ye.value&&ye.value.length>0?(z(),R("div",uS,[d(im,{onClick:a[11]||(a[11]=e=>ge.value=!0),color:"primary",icon:"true",variant:"elevated"},{default:H(()=>[d(T_,{content:ye.value.length,color:"warning"},{default:H(()=>[i("img",{width:"24px",src:x(dg)("usermenu/9d.svg")},null,8,dS)]),_:1},8,["content"])]),_:1})])):ee("",!0),m.value&&!ge.value?(z(),R("div",cS,[i("div",pS,[i("div",mS,[d(wp,{class:"search-icon"},{default:H(()=>[...a[73]||(a[73]=[W("mdi-magnify",-1)])]),_:1}),M(i("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>ve.value=e),onInput:Ct,placeholder:"Search funds",class:r(["search-input rounded-pill",{searching:g.value}]),ref_key:"mwref",ref:S,onClick:a[13]||(a[13]=e=>(v.value=!0,h.value=!1,pe.value=[],J.value=null,St()))},null,34),[[se,ve.value]]),g.value?(z(),q(Sp,{key:0,size:"16",width:"2",indeterminate:"",class:"search-loader"})):ee("",!0),v.value&&!g.value?(z(),q(wp,{key:1,onClick:a[14]||(a[14]=e=>aa()),disabled:b.value,color:"primary",class:"search-clear-icon cursor-pointer"},{default:H(()=>[...a[74]||(a[74]=[W("mdi-close",-1)])]),_:1},8,["disabled"])):ee("",!0)])]),v.value?ee("",!0):(z(),q(jg,{key:0,flat:"",density:"compact",class:"tool-sty crd-trn"},{default:H(()=>[d(im,{variant:"text",readonly:"",class:"elevation-0 rounded-lg text-none fs-14 d-inline-flex px-2 text-capitalize","max-width":"220px"},{default:H(()=>[a[75]||(a[75]=W(" My watchlist ",-1)),i("span",vS,"("+A(ce.value?ce.value.length:"0")+")",1)]),_:1}),d(zy),d(Lb,{location:"top",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[d(Pb,{location:"bottom"},{activator:H(({props:e})=>[i("div",re(ue(e)),[h.value||v.value?ee("",!0):(z(),q(wp,{key:0,disabled:_.value,color:"maintext",class:"mr-1"},{default:H(()=>[...a[76]||(a[76]=[W("mdi-flip-h mdi-sort-variant",-1)])]),_:1},8,["disabled"]))],16)]),default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(fe.value,(e,t)=>(z(),q(cb,{key:t,onClick:e=>{he.value=t,It()}},{default:H(()=>[d(ub,null,{default:H(()=>[W(A(e.text),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})],16)]),default:H(()=>[a[77]||(a[77]=i("span",null,"Sort by",-1))]),_:1}),h.value||v.value?ee("",!0):(z(),q(wp,{key:0,disabled:_.value,onClick:a[15]||(a[15]=e=>(v.value=!0,h.value=!1,pe.value=[],J.value=null,St())),color:"maintext"},{default:H(()=>[...a[78]||(a[78]=[W("mdi-magnify",-1)])]),_:1},8,["disabled"]))]),_:1})),v.value?(z(),R("div",hS,[d(my),pe.value&&pe.value.length>0?(z(),R("div",fS,[i("p",gS,A(pe.value.length)+" search result by you",1),d(my)])):ee("",!0)])):ee("",!0),_.value?(z(),q(Op,{key:2,indeterminate:"",rounded:""})):ee("",!0),h.value||v.value?ee("",!0):(z(),q(my,{key:3})),v.value?v.value?(z(),R("div",MS,[pe.value&&pe.value.length>0?(z(),R("div",AS,[(z(!0),R(u,null,U(pe.value,(e,a)=>(z(),R("div",{key:a,class:"table-row pos-rlt"},[i("div",{onClick:a=>We.value?Et("add",e):x(t).push("/login"),class:"px-0 crd-trn"},[i("p",PS,A(e.name),1),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{color:"secbg",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:H(()=>[i("span",FS,A(e.Type?e.Type:""),1)]),_:2},1024),d(R_,{color:"secbg",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:H(()=>[i("span",LS,A(e.SubType?e.SubType:""),1)]),_:2},1024)]),_:2},1024),i("div",DS,[We.value?(z(),q(wp,{key:0,color:e.watchlist?"primary":"maintext",size:"24",onClick:ie(a=>We.value?(async e=>{if(await Xe()){if(e.watchlist){let t=-1;if(Array.isArray(ce.value)){const a=ce.value.findIndex(t=>t.ISIN===e.ISIN);a>=0&&(t=a)}return void(await Et("delete",e,t))}await Et("add",e)}})(e):x(t).push("/login"),["stop"]),class:"cursor-pointer"},{default:H(()=>[W(A(e.watchlist?"mdi-bookmark":"mdi-bookmark-outline"),1)]),_:2},1032,["color","onClick"])):ee("",!0)])],8,OS),d(my)]))),128))])):J.value?(z(),q(cy,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:H(()=>[i("img",{class:"align-self-stretch mx-auto",width:"70px",src:x(dg)(`searcha-icon${e.$vuetify.theme.dark?"d":""}.svg`)},null,8,VS),a[87]||(a[87]=i("p",{class:"txt-999 fs-14 mb-1"},"No results found",-1))]),_:1})):ee("",!0)])):ee("",!0):(z(),R("div",yS,[ce.value&&ce.value.length>0?(z(),R("div",bS,[(z(!0),R(u,null,U(ce.value,(e,n)=>(z(),q(cy,{key:n,class:"elevation-0 rounded-0 table-row overflow-hidden crd-trn"},{default:H(()=>[i("div",xS,[d(l,{class:"pa-0 py-1"},{default:H(()=>[d(ub,{class:"fs-13 font-weight-medium mb-1 maintext--text table-hov-text"},{default:H(()=>[i("span",{class:"txt-dec-cust cursor-pointer",onClick:a=>(e=>{"/mutualfund/single"==window.location.pathname?window.dispatchEvent(new CustomEvent("ssdmf-event",{detail:e})):t.push({name:"mutual fund single",params:e})})(e)},A(e.name?e.name:""),9,wS),i("p",_S,[a[79]||(a[79]=W(" 3yr: ",-1)),i("span",kS,A(e["3Year"]?Number(e["3Year"]).toFixed(2):"0.00"),1)])]),_:2},1024),d(rb,null,{default:H(()=>[d(R_,{color:"secbg",class:"table-hide",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:H(()=>[i("span",SS,A(e.splito?e.splito:""),1)]),_:2},1024),d(R_,{color:"secbg",class:"table-hide mx-2",size:"x-small",variant:"flat",style:{"border-radius":"4px",padding:"10px 8px !important"}},{default:H(()=>[i("span",CS,A(e.splitt?e.splitt.replace("SCHEME",""):""),1)]),_:2},1024),i("span",IS,[a[80]||(a[80]=W(" AUM: ",-1)),i("span",ES,A(e.AUM?Number(e.AUM).toFixed(2):"0.00"),1)])]),_:2},1024)]),_:2},1024),d(my)]),(z(),R("div",{onClick:a[16]||(a[16]=ie(()=>{},["stop"])),class:"pos-abs table-hov",key:`hover-mf-${We.value}-${Ke.value.is}`,style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)"}},[d(im,{onClick:t=>Tt(e,"buy"),size:"x-small",class:"elevation-0 text-none maingreen--text font-weight-bold mr-1",color:"secgreen"},{default:H(()=>[...a[81]||(a[81]=[W(" Buy ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:t=>Tt(e,"sip"),size:"x-small",class:"elevation-0 text-none primary--text font-weight-bold",color:"#F1F3F8"},{default:H(()=>[...a[82]||(a[82]=[W(" SIP ",-1)])]),_:1},8,["onClick"]),Ke.value.is?ee("",!0):(z(),q(im,{key:0,onClick:t=>(e=>{let t=ce.value.indexOf(e);Et("delete",e,t)})(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"secbg",class:"px-0 font-weight-bold white--text elevation-0 ml-1",size:"x-small"},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[83]||(a[83]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"]))]))]),_:2},1024))),128))])):(z(),q(cy,{key:1,class:"text-center py-16 px-8 elevation-0 crd-trn",width:"100%"},{default:H(()=>[i("img",{class:"align-self-stretch mx-auto",width:"70px",src:x(dg)(`searcha-icon${e.$vuetify.theme.dark?"d":""}.svg`)},null,8,TS),i("p",NS,[a[84]||(a[84]=W(" Hmmm, Looks like no symbols in your watchlist ",-1)),i("span",null,A(Ke.value.is?".":" — why not add some?"),1)]),Ke.value.is?ee("",!0):(z(),q(im,{key:0,color:"primary",class:"text-none",size:"small",onClick:a[17]||(a[17]=e=>We.value?(v.value=!0,h.value=!1,pe.value=[],J.value=null,St()):x(t).push("/login")),variant:"text"},{default:H(()=>[a[86]||(a[86]=W(" Add script ",-1)),d(wp,{class:"ml-1",size:"14"},{default:H(()=>[...a[85]||(a[85]=[W("mdi-plus-circle",-1)])]),_:1})]),_:1}))]),_:1}))]))])):ee("",!0),m.value||ge.value||v.value||h.value?ee("",!0):(z(),R("div",BS,[d(cy,{id:"pdcard",color:"cardbg",class:"elevation-0"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[(z(!0),R(u,null,U(Ie.value,(e,t)=>(z(),q(ky,{key:t,cols:"6",class:"pa-1 pdmwlists"},{default:H(()=>[d(cy,{class:r(["elevation-0 crd-trn pos-rlt cursor-p",V.value==e.key?"pdmw-card-selected":""]),style:c([{"background-color":"white !important"},(V.value,e.key,"border: none !important;background-color: #F1F3F8 !important;border-radius: 5px !important;")]),onClick:a=>We.value?la(t,e.token,e.exch,e.tsym):null},{default:H(()=>[i("div",$S,[d(ub,{class:"maintext--text font-weight-medium fs-12 pa-1 pdmw-card-text"},{default:H(()=>[W(A(e.tsym?e.tsym:""),1)]),_:2},1024),i("span",RS,[i("span",zS,[a[88]||(a[88]=W(" ₹",-1)),i("span",{id:`p${e.token}ltp`,class:"pdmw-card-text"},A(e.ltp?e.ltp:"0.00"),9,US)])])]),i("div",{style:c({display:"flex",justifyContent:"flex-end",width:"100% !important",color:e.ch&&parseFloat(e.ch)>0?"#43A833":e.ch&&parseFloat(e.ch)<0?"#F23645":"#676767"}),class:r(["d-inline-flex font-weight-medium fs-12 px-2",e.ch&&parseFloat(e.ch)>0?"maingreen--text":e.ch&&parseFloat(e.ch)<0?"mainred--text":"subtext--text"]),id:`p${e.token}chpclr`},[i("span",{id:`p${e.token}ch`},A(e.ch?e.ch:"0.00"),9,HS),i("span",{id:`p${e.token}chp`},"("+A(e.chp?e.chp:"0.00")+")",9,jS)],14,qS),i("div",WS,[d(im,{onClick:[a[18]||(a[18]=ie(()=>{},["stop"])),a=>zt(e,t)],class:"elevation-1",variant:"flat",size:"x-small",color:"cardbg",style:{width:"22px",height:"22px","min-width":"22px",padding:"0"}},{default:H(()=>[d(wp,{color:"maintext",size:"14"},{default:H(()=>[...a[89]||(a[89]=[W("mdi-pencil",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1032,["class","style","onClick"])]),_:2},1024))),128))]),_:1})]),_:1})])),m.value||!v.value||h.value?m.value||ge.value||v.value||h.value?ee("",!0):(z(),R("div",JS,[b.value?(z(),R("div",QS,[d(Sp,{indeterminate:"",color:"primary",size:"24"})])):("no data"===B.value||Array.isArray(B.value)&&0===B.value.length)&&"MY:HOLDINGS"!==V.value?(z(),R("div",ZS,[d(wp,{size:"48",color:"grey lighten-1"},{default:H(()=>[...a[90]||(a[90]=[W("mdi-chart-line-variant",-1)])]),_:1}),a[94]||(a[94]=i("p",{class:"no-data-text"},"No stocks in this watchlist",-1)),i("div",eC,[d(im,{onClick:a[19]||(a[19]=e=>v.value=!0),color:"primary",class:"text-none",size:"small",variant:"solo"},{default:H(()=>[d(wp,{left:"",size:"16"},{default:H(()=>[...a[91]||(a[91]=[W("mdi-plus",-1)])]),_:1}),a[92]||(a[92]=W(" Add Stocks ",-1))]),_:1}),d(im,{onClick:a[20]||(a[20]=e=>at("NIFTY50:NSE")),color:"primary",size:"small",variant:"text",class:"text-none explore-stocks-btn"},{default:H(()=>[...a[93]||(a[93]=[W(" Explore stocks ",-1)])]),_:1})])])):"MY:HOLDINGS"===V.value&&("no data"===B.value||!B.value||Array.isArray(B.value)&&0===B.value.length)?(z(),R("div",tC,[d(wp,{size:"48",color:"grey lighten-1"},{default:H(()=>[...a[95]||(a[95]=[W("mdi-chart-line-variant",-1)])]),_:1}),a[96]||(a[96]=i("p",{class:"no-data-text"},"No holdings available",-1)),a[97]||(a[97]=i("p",{class:"subtext--text fs-12 mt-2"},"Your holdings will appear here once you have stocks in your portfolio",-1))])):B.value&&Array.isArray(B.value)&&B.value.length>0?(z(),R("div",aC,[d(x(S_),{modelValue:B.value,"onUpdate:modelValue":a[24]||(a[24]=e=>B.value=e),onStart:ut,onEnd:dt,"item-key":e=>e.id||e.token||Math.random(),disabled:Ge.value},{item:H(({element:e,index:l})=>[(z(),R("div",{key:e.id||e.token||l,class:"table-row pos-rlt pt-2 cursor-p",style:{"border-bottom":"1px solid #EBEEF0"},onClick:t=>We.value?la("detail",e.token,e.exch,e.tsym||e.tsyms):null},[i("p",nC,[i("span",oC,A(e.tsyms?e.tsyms:e.tsym?e.tsym:""),1),i("span",sC,A(e.exp?e.exp:""),1),e.weekly?(z(),R("span",iC,[i("span",rC,A(e.weekly?e.weekly:""),1)])):ee("",!0),i("span",uC,[a[98]||(a[98]=W(" ₹",-1)),i("span",{id:`${e.token}ltp`},A(e.ltp?e.ltp:"0.00"),9,dC)])]),i("p",cC,[i("span",pC,[i("span",mC,A(e.exch?e.exch:""),1)]),i("span",{innerHTML:oa(e.token)},null,8,vC),i("span",hC,A(e.ser?e.ser:""),1),i("span",{class:r(["float-right fw-6 fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`${e.token}chpclr`},[i("span",{id:`${e.token}ch`},A(e.ch?e.ch:"0.00"),9,gC),i("span",{id:`${e.token}chp`}," ("+A(e.chp?e.chp:"0.00")+"%)",9,yC)],10,fC)]),We.value?(z(),R("div",{onClick:a[22]||(a[22]=ie(()=>{},["stop"])),class:"pos-abs table-hov watchlist-hover-options",key:`hover-${We.value}-${Ke.value.is}`,style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},["UNDIND"!=e.instname&&"COM"!=e.instname?(z(),R("div",{key:0,onClick:ie(t=>na("order",e.token,e.exch,e.tsym,"b"),["stop"]),style:{"min-width":"24px","background-color":"#43A833!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," B ",8,bC)):ee("",!0),"UNDIND"!=e.instname&&"COM"!=e.instname?(z(),R("div",{key:1,onClick:ie(t=>na("order",e.token,e.exch,e.tsym,"s"),["stop"]),style:{"min-width":"24px","background-color":"red!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," S ",8,xC)):ee("",!0),d(im,{onClick:ie(t=>la("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[99]||(a[99]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),Ke.value.is?ee("",!0):(z(),q(im,{key:2,onClick:ie(t=>it(e,l),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[100]||(a[100]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])),d(Pb,{"close-on-click":"",location:"bottom",offset:[0,8],class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{onClick:a[21]||(a[21]=ie(()=>{},["stop"])),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[101]||(a[101]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(Oe.value,(t,a)=>(z(),R("div",{key:a},[("depth"==t.type||"Funda"==t.type?"UNDIND"==e.instname||"COM"==e.instname:"delete"==t.type&&Ke.value.is)?ee("",!0):(z(),q(cb,{key:0,onClick:a=>"delete"!=t.type?la(t.type,e.token,e.exch,e.tsym||e.tsyms):it(e,l),class:"pl-3 pr-6"},{prepend:H(()=>["number"==typeof t.icon&&t.icon>2?(z(),R("img",{key:0,width:"20px",class:"pl-1",src:x(dg)(`orderbook/${t.icon}.svg`)},null,8,wC)):"number"==typeof t.icon&&t.icon<=2?(z(),q(wp,{key:1,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024)):(z(),q(wp,{key:2,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024))]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),t.hr?(z(),q(my,{key:1,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):(z(),R("div",{key:1,onClick:a[23]||(a[23]=ie(()=>{},["stop"])),class:"pos-abs table-hov watchlist-hover-options",style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},[i("div",{onClick:ie(a=>We.value?"UNDIND"!=e.instname&&"COM"!=e.instname?na("order",e.token,e.exch,e.tsym,"b"):null:x(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#43A833","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center"}," B ",8,_C),i("div",{onClick:ie(a=>We.value?"UNDIND"!=e.instname&&"COM"!=e.instname?na("order",e.token,e.exch,e.tsym,"s"):null:x(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#F23645","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center"}," S ",8,kC)])),d(my)],8,lC))]),_:1},8,["modelValue","item-key","disabled"]),Ge.value?ee("",!0):(z(),R("div",SC,[d(im,{onClick:a[25]||(a[25]=e=>v.value=!0),color:"primary",size:"small",variant:"text",class:"text-none add-symbol-btn pa-0 ma-0"},{default:H(()=>[d(wp,{left:"",size:"15",color:"primary"},{default:H(()=>[...a[102]||(a[102]=[W("mdi-plus-circle",-1)])]),_:1}),a[103]||(a[103]=W(" Add symbol ",-1))]),_:1}),d(im,{onClick:a[26]||(a[26]=e=>at("NIFTY50:NSE")),color:"primary",size:"small",variant:"text",class:"text-none explore-stocks-btn pa-0 ma-0"},{default:H(()=>[...a[104]||(a[104]=[W(" Explore stocks ",-1)])]),_:1})]))])):ee("",!0)])):(z(),R("div",YS,[d(jg,{flat:"",dense:"",class:"tool-sty crd-trn"},{default:H(()=>[M((z(),R("div",{ref_key:"exchangeFilterContainer",ref:O,onMousedown:Xt,onMouseup:ea,onMouseleave:ea,onMousemove:Jt,style:{width:"100%",cursor:"grab","user-select":"none"},class:r(["overflow-x-auto d-inline-flex no-scroll rounded-xl watchlist-tabs-scrollable",{dragging:P.value}])},[i("div",GS,[(z(!0),R(u,null,U(ae.value,(e,t)=>(z(),R("div",{key:t,class:"pr-2"},[d(R_,{onClick:ie(e=>(async e=>{te.value=e,Be.value&&Be.value.length>=2?await et():_t()})(t),["stop"]),class:r(["font-weight-medium px-3 watchlisttab",te.value===t?"watchlisttab-active":""]),size:"medium"},{default:H(()=>[W(A(e),1)]),_:2},1032,["onClick","class"])]))),128))])],34)),[[o,void 0,void 0,{x:!0}]])]),_:1}),d(my),$e.value&&$e.value.length>0?(z(),R("div",KS,[i("p",XS,A($e.value.length)+" search result by you",1),d(my)])):ee("",!0)])),m.value||!v.value||h.value?ee("",!0):(z(),R("div",CC,[$e.value&&$e.value.length>0?(z(),R("div",IC,[(z(!0),R(u,null,U($e.value,(e,l)=>(z(),R("div",{key:l,class:"search-result-item table-row pos-rlt"},[d(Ry,{"no-gutters":"",class:"align-center py-2 px-3 cursor-pointer",onClick:t=>ke.value?la(l,e.token,e.exch,e.tsym):tt(e,l)},{default:H(()=>[d(ky,{cols:"10",class:"d-flex flex-column"},{default:H(()=>[i("p",EC,[W(A(e.tsyms?e.tsyms:e.tsym)+" ",1),e.exp?(z(),R("span",TC,A(e.exp),1)):ee("",!0)]),i("div",NC,[d(R_,{color:"NSE"===e.exch?"#E6EBFFCC":"BSE"===e.exch?"#D4F0F0CC":"NFO"===e.exch?"#EAD6FFCC":"BFO"===e.exch?"#FFD6D6CC":"CDS"===e.exch?"#D4FBFFCC":"NCOM"===e.exch?"#FFF9C4CC":"BCOM"===e.exch?"#FFE6CCCC":"BCD"===e.exch?"#F2E1C3CC":"MCX"===e.exch?"#FFF0B3CC":"#EBDDEFCC",size:"x-small",variant:"flat",class:"mr-1 table-hov-prd",style:{"border-radius":"4px",padding:"2px 6px 0 6px",height:"18px"}},{default:H(()=>[i("span",MC,A(e.exch?e.exch:""),1)]),_:2},1032,["color"]),e.ser?(z(),R("span",AC,A(e.ser),1)):ee("",!0)])]),_:2},1024),d(ky,{cols:"2",class:"d-flex justify-end align-center"},{default:H(()=>[ke.value?ee("",!0):(z(),q(wp,{key:0,color:e.watchlist?"primary":"maintext",size:"24",onClick:ie(t=>tt(e,l),["stop"]),class:"cursor-pointer"},{default:H(()=>[W(A(e.watchlist?"mdi-bookmark":"mdi-bookmark-outline"),1)]),_:2},1032,["color","onClick"]))]),_:2},1024)]),_:2},1032,["onClick"]),We.value?(z(),R("div",{onClick:a[28]||(a[28]=ie(()=>{},["stop"])),class:"pos-abs table-hov search-result-hover-options",key:`hover-search-${We.value}-${Ke.value.is}`,style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},["UNDIND"!=e.instname&&"COM"!=e.instname?(z(),R("div",{key:0,onClick:ie(t=>na("order",e.token,e.exch,e.tsym,"b"),["stop"]),style:{"min-width":"24px","background-color":"#43A833!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," B ",8,OC)):ee("",!0),"UNDIND"!=e.instname&&"COM"!=e.instname?(z(),R("div",{key:1,onClick:ie(t=>na("order",e.token,e.exch,e.tsym,"s"),["stop"]),style:{"min-width":"24px","background-color":"red!important",color:"white !important","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center mr-1"}," S ",8,PC)):ee("",!0),d(im,{onClick:ie(t=>la("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[105]||(a[105]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Pb,{"close-on-click":"",location:"bottom",offset:[0,8],class:"table-menu"},{activator:H(({props:e})=>[d(im,w({ref_for:!0},e,{onClick:a[27]||(a[27]=ie(()=>{},["stop"])),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[106]||(a[106]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(Oe.value,(t,a)=>(z(),R("div",{key:a},[("depth"==t.type||"Funda"==t.type?"UNDIND"!=e.instname&&"COM"!=e.instname:"delete"!=t.type)?(z(),q(cb,{key:0,onClick:a=>"delete"!=t.type?la(t.type,e.token,e.exch,e.tsym||e.tsyms):null,class:"pl-3 pr-6"},{prepend:H(()=>["number"==typeof t.icon&&t.icon>2?(z(),R("img",{key:0,width:"20px",class:"pl-1",src:x(dg)(`orderbook/${t.icon}.svg`)},null,8,FC)):"number"==typeof t.icon&&t.icon<=2?(z(),q(wp,{key:1,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024)):(z(),q(wp,{key:2,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024))]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14 pl-2"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"])):ee("",!0),t.hr?(z(),q(my,{key:1,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):(z(),R("div",{key:1,onClick:a[29]||(a[29]=ie(()=>{},["stop"])),class:"pos-abs table-hov search-result-hover-options",style:{bottom:"8px",left:"50%",transform:"translate(-50%, 0)","z-index":"100"}},[i("div",{onClick:ie(a=>We.value?"UNDIND"!=e.instname&&"COM"!=e.instname?na("order",e.token,e.exch,e.tsym,"b"):null:x(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#43A833","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center"}," B ",8,LC),i("div",{onClick:ie(a=>We.value?"UNDIND"!=e.instname&&"COM"!=e.instname?na("order",e.token,e.exch,e.tsym,"s"):null:x(t).push("/login"),["stop"]),style:{"min-width":"24px","background-color":"#F23645","border-radius":"4px",cursor:"pointer"},class:"px-1 pt-1 font-weight-bold white--text elevation-0 fs-10 text-center"}," S ",8,DC)])),d(my)]))),128))])):(z(),q(cy,{key:1,class:"crd-trn text-center py-16 px-8 elevation-0",width:"100%"},{default:H(()=>[i("p",VC,A(null==J.value?"Type more than 2 letter":"No Contract Found"),1),i("span",BC,A(null==J.value?"Eg. for Nifty Type: Nif":"Search for another name."),1)]),_:1}))])),d(U_,{modelValue:ze.value,"onUpdate:modelValue":a[33]||(a[33]=e=>ze.value=e),"max-width":"430"},{default:H(()=>[d(cy,{style:{"border-radius":"18px !important"},density:"com5act",class:"px-5"},{default:H(()=>[i("div",$C,[a[107]||(a[107]=i("span",{class:"font-weight-bold fs-20"},"Create New List",-1)),d(im,{icon:"mdi-close",variant:"text",size:"large",color:"black",onClick:a[30]||(a[30]=e=>ze.value=!1)})]),i("div",RC,[a[108]||(a[108]=i("p",{class:"mb-2 fs-14"},"Enter the watchlist name",-1)),d(Fk,{modelValue:qe.value,"onUpdate:modelValue":a[31]||(a[31]=e=>qe.value=e),rounded:"xl",placeholder:"my first millions",variant:"flat",density:"compact","hide-details":"",class:"create-watchlist-input rounded-pill",onKeyup:a[32]||(a[32]=de(e=>qe.value&&nt(),["enter"]))},null,8,["modelValue"])]),d(ey,null,{default:H(()=>[d(zy),d(im,{onClick:nt,rounded:"xl",disabled:!qe.value,class:"create-watchlist-save-btn mb-2"},{default:H(()=>[...a[109]||(a[109]=[W(" Save ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:Ue.value,"onUpdate:modelValue":a[35]||(a[35]=e=>Ue.value=e),"max-width":"380"},{default:H(()=>[d(cy,{style:{"border-radius":"18px !important"},density:"compact",class:"px-5 pt-4"},{default:H(()=>[i("div",zC,[a[110]||(a[110]=i("span",{class:"font-weight-bold fs-20"},"Confirmation",-1)),d(im,{icon:"mdi-close",variant:"text",height:"30px",width:"30px",size:"large",color:"black",onClick:a[34]||(a[34]=e=>Ue.value=!1)})]),i("div",UC,[i("p",qC,[a[111]||(a[111]=W(" Do you really want to delete ",-1)),i("strong",null,A(He.value),1),a[112]||(a[112]=W(" watchlist ? ",-1))])]),d(ey,null,{default:H(()=>[d(zy),d(im,{onClick:ot,rounded:"xl",class:"delete-watchlist-yes-btn mb-2"},{default:H(()=>[...a[113]||(a[113]=[W(" Yes ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:Te.value,"onUpdate:modelValue":a[38]||(a[38]=e=>Te.value=e),scrim:!1,width:"420"},{default:H(()=>[d(cy,{class:"pt-2 overflow-hidden elevation-6 rounded-xl",color:"cardbg"},{default:H(()=>[d(ub,{class:"font-weight-bold title maintext--text my-2 px-4"},{default:H(()=>[a[115]||(a[115]=W(" Select a Index ",-1)),d(wp,{onClick:a[36]||(a[36]=e=>Te.value=!1),class:"float-right",color:"maintext"},{default:H(()=>[...a[114]||(a[114]=[W("mdi-close",-1)])]),_:1})]),_:1}),d(my),d(Q_,{modelValue:Me.value,"onUpdate:modelValue":a[37]||(a[37]=e=>Me.value=e),flat:"",class:"expan",multiple:""},{default:H(()=>[(z(!0),R(u,null,U(Ee.value,(e,t,a)=>(z(),q(K_,{key:`index-panel-${t}-${a}`,flat:""},{default:H(()=>[d(Y_,{class:"fs-14 font-weight-medium secbg primary--text",style:{color:"#2b38b7 !important","background-color":"#F1F3F8 !important"}},{default:H(()=>[W(A(t)+" ("+A(e.length)+") ",1)]),_:2},1024),d(j_,{class:"fs-13"},{default:H(()=>[d(cy,{class:"elevation-0 rounded-0 overflow-y-auto",height:"378px",color:"transparent"},{default:H(()=>[(z(!0),R(u,null,U(e,(e,a)=>(z(),R(u,{key:`index-item-${t}-${a}`},[Ne.value.n&&Ne.value.n==e.token?ee("",!0):(z(),q(cb,{key:0,class:"px-6 cursor-pointer",onClick:a=>Ne.value.token!=e.token?(async(e,t)=>{if(await Xe())try{const a=Ie.value.findIndex(e=>e.token===Ne.value.token);if(a>=0){const l=Ie.value[a].token,n={key:`${e.idxname||e.tsym||"Unknown"}:${t}`,exch:t,token:e.token,tsym:e.idxname||e.tsym||"",ltp:null,ch:null,chp:null,prevClose:null};Ie.value[a]=n,Ie.value=[...Ie.value],Ne.value=e,Te.value=!1,We.value&&localStorage.setItem(`${We.value}_pdmwdata`,JSON.stringify(Ie.value));const o=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[{token:l}],is:"pd",page:"watchlist"}});if(window.dispatchEvent(o),Ie.value&&Ie.value.length>0){await N();const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:Ie.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e),setTimeout(()=>{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:Ie.value,is:"pd",page:"watchlist"}});window.dispatchEvent(e)},100)}Lt.value=!1,await qt(),await N()}}catch(Wie){console.error("Change index error:",Wie)}})(e,t):null},{append:H(()=>[d(wp,{style:c(Ne.value.token==e.token&&"color: #2b38b7 !important;"),size:"26"},{default:H(()=>[W(A(Ne.value.token==e.token?"mdi-checkbox-marked-circle-outline":"mdi-plus-circle-outline"),1)]),_:2},1032,["style"])]),default:H(()=>[d(ub,{style:c(Ne.value.token==e.token?"color: #2b38b7 !important;":"color: black !important;"),class:"mb-1 table-hov-text font-weight-medium"},{default:H(()=>[W(A(e.idxname?e.idxname:""),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"]))],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),d(Pb,{modelValue:je.value.show,"onUpdate:modelValue":a[41]||(a[41]=e=>je.value.show=e),"position-x":je.value.x,"position-y":je.value.y,location:"bottom",offset:[0,8]},{default:H(()=>[d(Ib,{dense:""},{default:H(()=>[d(cb,{onClick:a[39]||(a[39]=e=>st(je.value.item,je.value.index))},{default:H(()=>[d(n,null,{default:H(()=>[d(wp,{color:"error"},{default:H(()=>[...a[116]||(a[116]=[W("mdi-delete",-1)])]),_:1})]),_:1}),d(ub,null,{default:H(()=>[...a[117]||(a[117]=[W("Remove from Watchlist",-1)])]),_:1})]),_:1}),d(cb,{onClick:a[40]||(a[40]=e=>(e=>{if(We.value&&e)if(localStorage.setItem("ssdtsym",`${e.exch}:${e.token}`),localStorage.setItem("ssdtoken",e.token),localStorage.setItem("stockDetailsData",JSON.stringify({token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms,ltp:e.ltp})),"/stocks/details"===window.location.pathname){const t=new CustomEvent("ssd-event",{detail:{type:"chart",token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms}});window.dispatchEvent(t)}else t.push({name:"stocks details",query:{token:e.token,exch:e.exch,tsym:e.tsym||e.tsyms}})})(je.value.item))},{default:H(()=>[d(n,null,{default:H(()=>[d(wp,null,{default:H(()=>[...a[118]||(a[118]=[W("mdi-chart-line",-1)])]),_:1})]),_:1}),d(ub,null,{default:H(()=>[...a[119]||(a[119]=[W("View Details",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","position-x","position-y"])])}}}),WC=zc(jC,[["__scopeId","data-v-b4702eb7"]]),YC=xe({indeterminate:Boolean,indeterminateIcon:{type:Ue,default:"$checkboxIndeterminate"},...yk({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),GC=Ee()({name:"VCheckboxBtn",props:YC(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:a}=t;const l=Fe(e,"indeterminate"),o=Fe(e,"modelValue");function s(e){l.value&&(l.value=!1)}const i=n(()=>l.value?e.indeterminateIcon:e.falseIcon),r=n(()=>l.value?e.indeterminateIcon:e.trueIcon);return Me(()=>{const t=Ct(bk.filterProps(e),["modelValue"]);return d(bk,w(t,{modelValue:o.value,"onUpdate:modelValue":[e=>o.value=e,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:i.value,trueIcon:r.value,"aria-checked":l.value?"mixed":void 0}),a)}),{}}}),KC=xe({...dk(),...Ct(YC(),["inline"])},"VCheckbox"),XC=Ee()({name:"VCheckbox",inheritAttrs:!1,props:KC(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:l,slots:n}=t;const o=Fe(e,"modelValue"),{isFocused:s,focus:i,blur:r}=lk(e),u=a(),c=p();return Me(()=>{const[t,a]=Kt(l),p=ck.filterProps(e),m=GC.filterProps(e);return d(ck,w({ref:u,class:["v-checkbox",e.class]},t,p,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,id:e.id||`checkbox-${c}`,focused:s.value,style:e.style}),{...n,default:e=>{let{id:t,messagesId:l,isDisabled:s,isReadonly:u,isValid:c}=e;return d(GC,w(m,{id:t.value,"aria-describedby":l.value,disabled:s.value,readonly:u.value},a,{error:!1===c.value,modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,onFocus:i,onBlur:r}),n)}})}),Wm({},u)}}),JC=xe({renderless:Boolean,...Oe()},"VVirtualScrollItem"),QC=Ee()({name:"VVirtualScrollItem",inheritAttrs:!1,props:JC(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:a,emit:l,slots:n}=t;const{resizeRef:o,contentRect:s}=je(void 0,"border");f(()=>{var e;return null==(e=s.value)?void 0:e.height},e=>{null!=e&&l("update:height",e)}),Me(()=>{var t,l;return e.renderless?i(u,null,[null==(t=n.default)?void 0:t.call(n,{itemRef:o})]):i("div",w({ref:o,class:["v-virtual-scroll__item",e.class],style:e.style},a),[null==(l=n.default)?void 0:l.call(n)])})}}),ZC=xe({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function eI(e,t){const n=yt(),o=k(0);I(()=>{o.value=parseFloat(e.itemHeight||0)});const s=k(0),i=k(Math.ceil((parseInt(e.height)||n.height.value)/(o.value||16))||1),r=k(0),u=k(0),d=a(),c=a();let p=0;const{resizeRef:m,contentRect:v}=je();I(()=>{m.value=d.value});const h=l(()=>{var t;return d.value===document.documentElement?n.height.value:(null==(t=v.value)?void 0:t.height)||parseInt(e.height)||0}),g=l(()=>!!(d.value&&c.value&&h.value&&o.value));let y=Array.from({length:t.value.length}),b=Array.from({length:t.value.length});const x=k(0);let w=-1;function _(e){return y[e]||o.value}const S=Jt(()=>{const e=performance.now();b[0]=0;const a=t.value.length;for(let t=1;t<=a;t++)b[t]=(b[t-1]||0)+_(t-1);x.value=Math.max(x.value,performance.now()-e)},x),E=f(g,e=>{e&&(E(),p=c.value.offsetTop,S.immediate(),V(),~w&&N(()=>{Qe&&window.requestAnimationFrame(()=>{$(w),w=-1})}))});function T(e){e=We(e,0,t.value.length);const a=Math.floor(e),l=e%1,n=a+1,o=b[a]||0;return o+((b[n]||o)-o)*l}function M(e){return function(e,t){let a=e.length-1,l=0,n=0,o=null,s=-1;if(e[a]<t)return a;for(;l<=a;)if(n=l+a>>1,o=e[n],o>t)a=n-1;else{if(!(o<t))return o===t?n:l;s=n,l=n+1}return s}(b,e)}C(()=>{S.clear()});let A=0,O=0,P=0;f(h,(e,t)=>{t&&(V(),e<t&&requestAnimationFrame(()=>{O=0,V()}))});let F=-1;function L(){d.value&&c.value&&(O=0,P=0,window.clearTimeout(F),V())}let D=-1;function V(){cancelAnimationFrame(D),D=requestAnimationFrame(B)}function B(){if(!d.value||!h.value||!o.value)return;const e=A-p,a=Math.sign(O),l=Math.max(0,e-100),n=We(M(l),0,t.value.length),c=e+h.value+100,m=We(M(c)+1,n+1,t.value.length);if((-1!==a||n<s.value)&&(1!==a||m>i.value)){const e=T(s.value)-T(n),a=T(m)-T(i.value);Math.max(e,a)>100?(s.value=n,i.value=m):(n<=0&&(s.value=n),m>=t.value.length&&(i.value=m))}r.value=T(s.value),u.value=T(t.value.length)-T(i.value)}function $(e){const t=T(e);!d.value||e&&!t?w=e:d.value.scrollTop=t}const R=l(()=>t.value.slice(s.value,i.value).map((t,a)=>{const l=a+s.value;return{raw:t,index:l,key:Bt(t,e.itemKey,l)}}));return f(t,()=>{y=Array.from({length:t.value.length}),b=Array.from({length:t.value.length}),S.immediate(),V()},{deep:1}),{calculateVisibleItems:V,containerRef:d,markerRef:c,computedItems:R,paddingTop:r,paddingBottom:u,scrollToIndex:$,handleScroll:function(){if(!d.value||!c.value)return;const e=d.value.scrollTop,t=performance.now();t-P>500?(O=Math.sign(e-A),p=c.value.offsetTop):O=e-A,A=e,P=t,window.clearTimeout(F),F=window.setTimeout(L,500),V()},handleScrollend:L,handleItemResize:function(e,t){const a=y[e],l=o.value;o.value=l?Math.min(o.value,t):t,a===t&&l===o.value||(y[e]=t,S())}}}const tI=xe({items:{type:Array,default:()=>[]},renderless:Boolean,...ZC(),...Oe(),...Cp()},"VVirtualScroll"),aI=Ee()({name:"VVirtualScroll",props:tI(),setup(e,t){let{slots:a}=t;const l=Pe("VVirtualScroll"),{dimensionStyles:o}=Ip(e),{calculateVisibleItems:s,containerRef:p,markerRef:m,handleScroll:v,handleScrollend:h,handleItemResize:f,scrollToIndex:g,paddingTop:b,paddingBottom:x,computedItems:w}=eI(e,n(()=>e.items));return Xe(()=>e.renderless,()=>{function e(){var e,t;const a=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"addEventListener":"removeEventListener";p.value===document.documentElement?(document[a]("scroll",v,{passive:!0}),document[a]("scrollend",h)):(null==(e=p.value)||e[a]("scroll",v,{passive:!0}),null==(t=p.value)||t[a]("scrollend",h))}y(()=>{p.value=_t(l.vnode.el,!0),e(!0)}),C(e)}),Me(()=>{const t=w.value.map(t=>d(QC,{key:t.key,renderless:e.renderless,"onUpdate:height":e=>f(t.index,e)},{default:e=>{var l;return null==(l=a.default)?void 0:l.call(a,{item:t.raw,index:t.index,...e})}}));return e.renderless?i(u,null,[i("div",{ref:m,class:"v-virtual-scroll__spacer",style:{paddingTop:$e(b.value)}},null),t,i("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:$e(x.value)}},null)]):i("div",{ref:p,class:r(["v-virtual-scroll",e.class]),onScrollPassive:v,onScrollend:h,style:c([o.value,e.style])},[i("div",{ref:m,class:"v-virtual-scroll__container",style:{paddingTop:$e(b.value),paddingBottom:$e(x.value)}},[t])])}),{calculateVisibleItems:s,scrollToIndex:g}}});function lI(e,t){const a=k(!1);let l;return{onScrollPassive:function(e){cancelAnimationFrame(l),a.value=!0,l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{a.value=!1})})},onKeydown:async function(l){var n,o;if("Tab"===l.key&&(null==(n=t.value)||n.focus()),!["PageDown","PageUp","Home","End"].includes(l.key))return;const s=null==(o=e.value)?void 0:o.$el;if(!s)return;"Home"!==l.key&&"End"!==l.key||s.scrollTo({top:"Home"===l.key?0:s.scrollHeight,behavior:"smooth"}),await async function(){await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>requestAnimationFrame(e)),await new Promise(e=>{if(a.value){const t=f(a,()=>{t(),e()})}else e()})}();const i=s.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if("PageDown"===l.key||"Home"===l.key){const e=s.getBoundingClientRect().top;for(const t of i)if(t.getBoundingClientRect().top>=e){t.focus();break}}else{const e=s.getBoundingClientRect().bottom;for(const t of[...i].reverse())if(t.getBoundingClientRect().bottom<=e){t.focus();break}}}}}const nI=xe({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function oI(e,t){const{t:a}=Ht(),o=p(),i=l(()=>`menu-${o}`),r=n(()=>s(t)),u=n(()=>i.value),d=n(()=>a(s(t)?e.closeText:e.openText));return{menuId:i,ariaExpanded:r,ariaControls:u,ariaLabel:d}}const sI=xe({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...nI(),...fb({itemChildren:!1})},"Select"),iI=xe({...sI(),...Ct(Pk({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Fm({transition:{component:bg}})},"VSelect"),rI=Ee()({name:"VSelect",props:iI(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:o}=Ht(),s=a(),r=a(),c=a(),{items:p,transformIn:m,transformOut:v}=xb(e),h=Fe(e,"modelValue",[],e=>m(null===e?[null]:De(e)),t=>{const a=v(t);return e.multiple?a:a[0]??null}),g=l(()=>"function"==typeof e.counterValue?e.counterValue(h.value):"number"==typeof e.counterValue?e.counterValue:h.value.length),y=sk(e),b=l(()=>h.value.map(e=>e.value)),x=k(!1);let _,S="",C=-1;const I=l(()=>e.hideSelected?p.value.filter(t=>!h.value.some(a=>(e.valueComparator||Le)(a,t))):p.value),E=l(()=>e.hideNoData&&!I.value.length||y.isReadonly.value||y.isDisabled.value),T=Fe(e,"menu"),M=l({get:()=>T.value,set:e=>{var t;T.value&&!e&&(null==(t=r.value)?void 0:t.ΨopenChildren.size)||e&&E.value||(T.value=e)}}),{menuId:A,ariaExpanded:O,ariaControls:P,ariaLabel:F}=oI(e,M),L=l(()=>{var t;return{...e.menuProps,activatorProps:{...(null==(t=e.menuProps)?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),D=a(),V=lI(D,s);function B(t){e.openOnClear&&(M.value=!0)}function $(){E.value||(M.value=!M.value)}function R(e){ea(e)&&z(e)}function z(t){var a,l,n;if(!t.key||y.isReadonly.value)return;if(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(M.value=!0),["Escape","Tab"].includes(t.key)&&(M.value=!1),"Home"===t.key?null==(a=D.value)||a.focus("first"):"End"===t.key&&(null==(l=D.value)||l.focus("last")),!ea(t))return;const o=performance.now();o-_>1e3&&(S="",C=-1),S+=t.key.toLowerCase(),_=o;const s=I.value;function i(){for(let e=C+1;e<s.length;e++){const t=s[e];if(t.title.toLowerCase().startsWith(S))return[t,e]}}const r=function(){let e=i();return e||(S.at(-1)===S.at(-2)&&(S=S.slice(0,-1),e=i(),e)?e:(C=-1,e=i(),e||(S=t.key.toLowerCase(),i())))}();if(!r)return;const[u,d]=r;C=d,null==(n=D.value)||n.focus(d),e.multiple||(h.value=[u])}function U(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t.props.disabled)if(e.multiple){const l=h.value.findIndex(a=>(e.valueComparator||Le)(a.value,t.value)),n=null==a?!~l:a;if(~l){const e=n?[...h.value,t]:[...h.value];e.splice(l,1),h.value=e}else n&&(h.value=[...h.value,t])}else{const e=!1!==a;h.value=e?[t]:[],N(()=>{M.value=!1})}}function q(e){var t;(null==(t=D.value)?void 0:t.$el.contains(e.relatedTarget))||(M.value=!1)}function H(){var t;e.eager&&(null==(t=c.value)||t.calculateVisibleItems())}function j(){var e;x.value&&(null==(e=s.value)||e.focus())}function Y(e){x.value=!0}function G(e){if(null==e)h.value=[];else if(ht(s.value,":autofill")||ht(s.value,":-webkit-autofill")){const t=p.value.find(t=>t.title===e);t&&U(t)}else s.value&&(s.value.value="")}return f(M,()=>{if(!e.hideSelected&&M.value&&h.value.length){const t=I.value.findIndex(t=>h.value.some(a=>(e.valueComparator||Le)(a.value,t.value)));Qe&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var e;t>=0&&(null==(e=c.value)||e.scrollToIndex(t))})}}),f(p,(t,a)=>{M.value||x.value&&e.hideNoData&&!a.length&&t.length&&(M.value=!0)}),Me(()=>{const t=!(!e.chips&&!n.chip),a=!!(!e.hideNoData||I.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),l=h.value.length>0,p=Fk.filterProps(e),m=l||!x.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(Fk,w({ref:s},p,{modelValue:h.value.map(e=>e.props.value).join(", "),"onUpdate:modelValue":G,focused:x.value,"onUpdate:focused":e=>x.value=e,validationValue:h.externalValue,counterValue:g.value,dirty:l,class:["v-select",{"v-select--active-menu":M.value,"v-select--chips":!!e.chips,["v-select--"+(e.multiple?"multiple":"single")]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:m,"onClick:clear":B,"onMousedown:control":$,onBlur:q,onKeydown:z,"aria-expanded":O.value,"aria-controls":P.value,"aria-label":F.value,title:F.value}),{...n,default:()=>i(u,null,[d(Pb,w({id:A.value,ref:r,modelValue:M.value,"onUpdate:modelValue":e=>M.value=e,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:H,onAfterLeave:j},L.value),{default:()=>[a&&d(Ib,w({ref:D,selected:b.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:R,onFocusin:Y,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},V,e.listProps),{default:()=>{var t,a,l;return[null==(t=n["prepend-item"])?void 0:t.call(n),!I.value.length&&!e.hideNoData&&((null==(a=n["no-data"])?void 0:a.call(n))??d(cb,{key:"no-data",title:o(e.noDataText)},null)),d(aI,{ref:c,renderless:!0,items:I.value,itemKey:"value"},{default:t=>{var a,l,o;let{item:s,index:r,itemRef:c}=t;const p=Qt(s.props),m=w(s.props,{ref:c,key:s.value,onClick:()=>U(s,null)});return"divider"===s.type?(null==(a=n.divider)?void 0:a.call(n,{props:s.raw,index:r}))??d(my,w(s.props,{key:`divider-${r}`}),null):"subheader"===s.type?(null==(l=n.subheader)?void 0:l.call(n,{props:s.raw,index:r}))??d(mb,w(s.props,{key:`subheader-${r}`}),null):(null==(o=n.item)?void 0:o.call(n,{item:s,index:r,props:m}))??d(cb,w(m,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return i(u,null,[e.multiple&&!e.hideSelected?d(GC,{key:s.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,p.prependAvatar&&d(oy,{image:p.prependAvatar},null),p.prependIcon&&d(wp,{icon:p.prependIcon},null)])}})}}),null==(l=n["append-item"])?void 0:l.call(n)]}})]}),h.value.map((a,l)=>{function o(e){e.stopPropagation(),e.preventDefault(),U(a,!1)}const s={"onClick:close":o,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),o(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},r=t?!!n.chip:!!n.selection,u=r?Zt(t?n.chip({item:a,index:l,props:s}):n.selection({item:a,index:l})):void 0;if(!r||u)return i("div",{key:a.value,class:"v-select__selection"},[t?n.chip?d(fp,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:a.title}}},{default:()=>[u]}):d(R_,w({key:"chip",closable:e.closableChips,size:"small",text:a.title,disabled:a.props.disabled},s),null):u??i("span",{class:"v-select__selection-text"},[a.title,e.multiple&&l<h.value.length-1&&i("span",{class:"v-select__selection-comma"},[W(",")])])])})]),"append-inner":function(){for(var t,a,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i(u,null,[null==(t=n["append-inner"])?void 0:t.call(n,...o),e.menuIcon?d(wp,{class:"v-select__menu-icon",color:null==(a=s.value)?void 0:a.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Wm({isFocused:x,menu:M,select:U},s)}}),uI={class:"d-flex align-center justify-space-between pa-4"},dI={class:"flex-grow-1"},cI={class:"alert-instrument-name mb-2"},pI={class:"alert-instrument-exchange"},mI={class:"alert-price-info"},vI={class:"alert-price"},hI={id:"laypopltp"},fI={id:"laypopch"},gI={id:"laypopchp"},yI={class:"alert-dialog-content pa-6"},bI={class:"alert-section-title mb-4"},xI={class:"d-flex justify-end mt-4"},wI={__name:"AlertSrceen",setup(e){const t=Qa(),l=Rc(),n=a(["LTP","Perc. change","ATP","OI","TOI","52HIGH","VOLUME"]),o=a("LTP"),s=a(">"),u=a(""),c=a(0),p=a(!1),m=a({}),v=a(!1),f=a(!1),g=a(!1),b=e=>{"VOLUME"==e?s.value=">":"52HIGH"==e&&(c.value=0)},x=(e,t,a)=>{const l=new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"alerts"}});window.dispatchEvent(l)},w=async e=>{const{type:t,token:a,exch:l,tsym:n,item:o}=e.detail||{};"alert"!==t&&"m-alert"!==t||await _(t,a,l,o)},_=async(e,a,l,n)=>{t.showLoader(),m.value=[];try{let i=await gae(`${l}|${a}`);m.value.push(i),m.value.settype=null,"m-alert"==e?(s.value=n.ai_t?n.ai_t.includes("_A")?">":n.ai_t.includes("_B")?"<":">":">",o.value=n.ai_t?n.ai_t.includes("LTP_")?"LTP":n.ai_t.includes("CH_PER_")?"Perc. change":n.ai_t.includes("ATP_")?"ATP":n.ai_t.includes("OI_")?"OI":n.ai_t.includes("TOI_")?"TOI":n.ai_t.includes("_52HIGH")?"52HIGH":n.ai_t.includes("_52LOW")?"52LOW":n.ai_t.includes("VOLUME_")?"VOLUME":"LTP":"LTP",c.value=n.d||0,m.value.malert=!0,m.value.alertd=n):(m.value.malert=!1,s.value=">",o.value="LTP",c.value=n&&n.price?n.price:0),p.value=!0,t.hideLoader(),x("sub",[i],"menu"),m.value[0].ls=Number(i.ls),m.value[0].ti=Number(i.ti),m.value[0].lp=Number(i.lp),m.value[0].wk52_l=m.value[0].wk52_l&&Number(m.value[0].wk52_l)>0?Number(m.value[0].wk52_l).toFixed(2).toLocaleString():0,m.value[0].wk52_h=m.value[0].wk52_h&&Number(m.value[0].wk52_h)>0?Number(m.value[0].wk52_h).toFixed(2).toLocaleString():0,m.value.ltp=Number(i.lp||0).toFixed(2),m.value.ch=Number(i.ch||0).toFixed(2),m.value.chp=Number(i.chp||0).toFixed(2)}catch(Wie){console.error("Error setting menu dialog:",Wie),t.hideLoader(),t.showSnackbar(2,"Failed to load alert data")}},k=e=>{if(p.value=!1,m.value[0]&&g.value)try{x("unsub",[m.value[0]],"menu")}catch(Wie){console.debug("WebSocket unsubscribe error:",Wie)}g.value&&(m.value={})},S=e=>{if(!g.value||!p.value||!m.value[0])return;const t=e.detail;C(t)},C=e=>{let t=null,a=null;if(Array.isArray(e)&&e.length>=1?(a=e[0],t=a.token||a.tk||a.t):e&&"object"==typeof e&&(a=e,t=e.token||e.tk||e.t),m.value[0]&&t&&m.value[0].token==t){const e=a.lp||a.ltp||a.l,t=a.ch;let l=t,n=a.chp||a.chpct;const o=m.value[0].c||(e&&t?Number(e)-Number(t):0);null!=e&&(m.value.ltp=Number(e).toFixed(2),void 0===l&&o>0&&(l=Number(e)-o)),null!=l&&(m.value.ch=Number(l)>0||Number(l)<0?Number(l).toFixed(2):(0).toFixed(2),void 0===n&&o>0&&(n=l/o*100)),null!=n&&(m.value.chp=Number(n).toFixed(2)),g.value&&p.value&&N(()=>{if(p.value&&g.value)try{const e=document.getElementById("laypopltp");if(e){e.innerHTML=m.value.ltp||"0.00";const t=document.getElementById("laypopch"),a=document.getElementById("laypopchp"),l=document.getElementById("laypopchpclr");if(t&&(t.innerHTML=m.value.ch||"0.00"),a&&(a.innerHTML=m.value.chp||"0.00"),l){const e=parseFloat(m.value.ch)||0,t="fs-12",a=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text";l.className=`${t} ${a}`}}}catch(Wie){console.debug("DOM update skipped:",Wie)}})}};return y(()=>{g.value=!0,f.value||(window.addEventListener("menudialog",w),window.addEventListener("web-scoketConn",S),f.value=!0)}),h(()=>{if(g.value=!1,p.value&&(p.value=!1),f.value&&(window.removeEventListener("menudialog",w),window.removeEventListener("web-scoketConn",S),f.value=!1),m.value[0])try{x("unsub",[m.value[0]],"menu")}catch(Wie){console.debug("WebSocket unsubscribe error:",Wie)}m.value={}}),(e,a)=>(z(),R("div",null,[m.value[0]?(z(),q(U_,{key:0,modelValue:p.value,"onUpdate:modelValue":a[6]||(a[6]=e=>p.value=e),scrim:!1,width:"480px",persistent:""},{default:H(()=>[d(cy,{class:"alert-dialog-card overflow-hidden",color:"cardbg"},{default:H(()=>[d(cy,{class:"elevation-0 alert-dialog-header",color:"secbg"},{default:H(()=>[i("div",uI,[i("div",dI,[i("div",cI,[W(A(m.value[0]?m.value[0].tsym:"")+" ",1),i("span",pI,A(m.value[0]?m.value[0].exch:""),1)]),i("div",mI,[i("span",vI,[a[7]||(a[7]=W("₹",-1)),i("span",hI,A(m.value.ltp?m.value.ltp:"0.00"),1)]),i("span",{class:r(["alert-price-change",m.value.ch>0?"maingreen--text":m.value.ch<0?"mainred--text":"subtext--text"]),id:"laypopchpclr"},[i("span",fI,A(m.value&&m.value.ch?`${m.value.ch}`:"0.00"),1),a[8]||(a[8]=W(" (",-1)),i("span",gI,A(m.value&&m.value.chp?`${m.value.chp}`:"0.00"),1),a[9]||(a[9]=W("%) ",-1))],2)])]),d(im,{disabled:v.value,onClick:a[0]||(a[0]=e=>k()),elevation:"0",size:"small",icon:"",class:"alert-close-btn"},{default:H(()=>[d(wp,{color:"maintext",size:"20"},{default:H(()=>[...a[10]||(a[10]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),v.value?(z(),q(Op,{key:0,indeterminate:"",color:"primary"})):ee("",!0)]),_:1}),i("div",yI,[i("p",bI,A(m.value.malert?"Modify":"Set")+" alert Price",1),d(Ry,{"no-gutters":"",class:"mb-3"},{default:H(()=>[d(ky,{cols:"4",class:"pr-2"},{default:H(()=>[a[11]||(a[11]=i("p",{class:"alert-field-label mb-2"},"Alert me",-1)),d(rI,{density:"compact","onUpdate:modelValue":[b,a[1]||(a[1]=e=>o.value=e)],modelValue:o.value,items:n.value,"bg-color":"secbg",variant:"flat",class:"alert-select-field","hide-details":""},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"4",class:"px-1"},{default:H(()=>[a[12]||(a[12]=i("p",{class:"alert-field-label mb-2"},"Condition",-1)),d(rI,{density:"compact",disabled:"VOLUME"==o.value,modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),items:[">","<"],"bg-color":"secbg",variant:"flat",class:"alert-select-field","hide-details":""},null,8,["disabled","modelValue"])]),_:1}),d(ky,{cols:"4",class:"pl-2"},{default:H(()=>[a[13]||(a[13]=i("p",{class:"alert-field-label mb-2"},"Enter Value",-1)),"52HIGH"!=o.value?(z(),q(Fk,{key:0,density:"compact","bg-color":"secbg",modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),modelModifiers:{number:!0},variant:"flat",class:"alert-input-field",type:"number","hide-spin-buttons":"",min:"0","hide-details":""},null,8,["modelValue"])):(z(),q(Fk,{key:1,disabled:"","bg-color":"secbg",value:"NA",variant:"flat",class:"alert-input-field",type:"text","hide-details":""}))]),_:1})]),_:1}),d(my,{class:"my-4"}),d(Ry,{"no-gutters":"",class:"mb-4"},{default:H(()=>[d(ky,{cols:"4",class:"pr-2"},{default:H(()=>[a[14]||(a[14]=i("p",{class:"alert-field-label mb-2"},"Validity",-1)),d(Fk,{density:"compact","bg-color":"secbg",variant:"flat",class:"alert-input-field",value:"Good Till Trigger",readonly:"","hide-spin-buttons":"",min:"0","hide-details":""})]),_:1}),d(ky,{cols:"8",class:"pl-2"},{default:H(()=>[a[15]||(a[15]=i("p",{class:"alert-field-label mb-2"},"Remarks",-1)),d(Fk,{"bg-color":"secbg",modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),variant:"flat",class:"alert-input-field",density:"compact",type:"text","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),i("div",xI,[d(im,{onClick:a[5]||(a[5]=e=>(async()=>{var e;v.value=!0;const a=(null==(e={LTP:{">":"LTP_A","<":"LTP_B"},"Perc. change":{">":"CH_PER_A","<":"CH_PER_B"},ATP:{">":"ATP_A","<":"ATP_B"},OI:{">":"OI_A","<":"OI_B"},TOI:{">":"TOI_A","<":"TOI_B"},"52HIGH":{">":"LTP_A_52HIGH","<":"LTP_B_52LOW"},VOLUME:{">":"VOLUME_A","<":""}}[o.value])?void 0:e[s.value])||"",n={uid:l.uid||sessionStorage.getItem("userid"),exch:m.value[0].exch,tsym:m.value[0].tsym,ai_t:a,validity:"GTT",d:c.value.toString(),remarks:u.value};m.value.malert&&(n.al_id=m.value.alertd.al_id);try{const e=await Tae(n,m.value.malert);if("OI created"===e.stat||"OI replaced"===e.stat){const e=m.value.malert?"modified":"set";t.showSnackbar(1,`Alert has been ${e} for ${m.value[0].tsym}`),window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"orders"}))}else t.showSnackbar(2,e.emsg||e||"Failed to set alert")}catch(Wie){console.error("Error setting alert:",Wie),t.showSnackbar(2,"Failed to set alert")}finally{k(),v.value=!1,o.value="LTP",s.value=">",c.value=0,u.value=""}})()),disabled:"52HIGH"!=o.value&&0==c.value,loading:v.value,color:"maintext",class:"alert-submit-btn text-none elevation-0 white--text",height:"40px"},{default:H(()=>[W(A(m.value.malert?"Modify":"Set")+" alert ",1)]),_:1},8,["disabled","loading"])])])]),_:1})]),_:1},8,["modelValue"])):ee("",!0)]))}},_I=zc(wI,[["__scopeId","data-v-c22d2fe8"]]),kI=new class{constructor(){this.listeners=new Map}$on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}$off(e,t){if(this.listeners.has(e))if(t){const a=this.listeners.get(e),l=a.indexOf(t);l>-1&&a.splice(l,1)}else this.listeners.delete(e)}$emit(e,...t){if("snack-event"===e){const[e,a]=t;return void Qa().showSnackbar(e,a)}if("login-event"===e)return void this.$emit("user-event");this.listeners.has(e)&&this.listeners.get(e).forEach(a=>{try{a(...t)}catch(Wie){console.error(`Error in event listener for ${e}:`,Wie)}});const a=new CustomEvent(e,{detail:t});window.dispatchEvent(a)}},SI=xe({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Ue,default:"$next"},prevIcon:{type:Ue,default:"$prev"},modeIcon:{type:Ue,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),CI=Ee()({name:"VDatePickerControls",props:SI(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:a}=t;const{t:n}=Ht(),o=l(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=l(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=l(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),c=l(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function p(){a("click:prev")}function m(){a("click:next")}function v(){a("click:year")}function h(){a("click:month")}return Me(()=>i("div",{class:r(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":$e(e.controlHeight)}},[d(im,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:o.value,text:e.text,variant:"text",rounded:!0,onClick:h},null),d(im,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text","aria-label":n("$vuetify.datePicker.ariaLabel.selectYear"),onClick:v},null),d(zy,null,null),i("div",{class:"v-date-picker-controls__month"},[d(im,{"data-testid":"prev-month",disabled:u.value,density:"comfortable",icon:e.prevIcon,variant:"text","aria-label":n("$vuetify.datePicker.ariaLabel.previousMonth"),onClick:p},null),d(im,{"data-testid":"next-month",disabled:c.value,icon:e.nextIcon,density:"comfortable",variant:"text","aria-label":n("$vuetify.datePicker.ariaLabel.nextMonth"),onClick:m},null)])])),{}}}),II=xe({appendIcon:Ue,color:String,header:String,transition:String,onClick:Lt()},"VDatePickerHeader"),EI=Ee()({name:"VDatePickerHeader",props:II(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:a,slots:l}=t;const{backgroundColorClasses:n,backgroundColorStyles:o}=ep(()=>e.color);function s(){a("click")}function u(){a("click:append")}return Me(()=>{const t=!(!l.default&&!e.header),a=!(!l.append&&!e.appendIcon);return i("div",{class:r(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},n.value]),style:c(o.value),onClick:s},[l.prepend&&i("div",{key:"prepend",class:"v-date-picker-header__prepend"},[l.prepend()]),t&&d(Lm,{key:"content",name:e.transition},{default:()=>{var t;return[i("div",{key:e.header,class:"v-date-picker-header__content"},[(null==(t=l.default)?void 0:t.call(l))??e.header])]}}),a&&i("div",{class:"v-date-picker-header__append"},[l.append?d(fp,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var e;return[null==(e=l.append)?void 0:e.call(l)]}}):d(im,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:u},null)])])}),{}}}),TI=xe({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},firstDayOfYear:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar"),NI=xe({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...Ct(TI(),["displayValue"])},"VDatePickerMonth"),MI=Ee()({name:"VDatePickerMonth",props:NI(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:o,slots:s}=t;const u=a(),{t:c}=Ht(),{daysInMonth:p,model:m,weekNumbers:v,weekdayLabels:h}=function(e){const t=ta(),a=Fe(e,"modelValue",[],e=>De(e).map(e=>t.date(e))),n=l(()=>e.displayValue?t.date(e.displayValue):a.value.length>0?t.date(a.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),o=Fe(e,"year",void 0,e=>{const a=null!=e?Number(e):t.getYear(n.value);return t.startOfYear(t.setYear(t.date(),a))},e=>t.getYear(e)),s=Fe(e,"month",void 0,e=>{const a=null!=e?Number(e):t.getMonth(n.value),l=t.setYear(t.startOfMonth(t.date()),t.getYear(o.value));return t.setMonth(l,a)},e=>t.getMonth(e)),i=l(()=>{const a=t.toJsDate(t.startOfWeek(t.date(),e.firstDayOfWeek)).getDay();return t.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((t,l)=>e.weekdays.includes((l+a)%7))}),r=l(()=>{const a=t.getWeekArray(s.value,e.firstDayOfWeek),l=a.flat();if("static"===e.weeksInMonth&&l.length<42){const e=l[l.length-1];let n=[];for(let o=1;o<=42-l.length;o++)n.push(t.addDays(e,o)),o%7==0&&(a.push(n),n=[])}return a});function u(l,n){return l.filter(a=>e.weekdays.includes(t.toJsDate(a).getDay())).map((l,o)=>{const i=t.toISO(l),r=!t.isSameMonth(l,s.value),u=t.isSameDay(l,t.startOfMonth(s.value)),d=t.isSameDay(l,t.endOfMonth(s.value)),c=t.isSameDay(l,s.value),p=e.weekdays.length;return{date:l,formatted:t.format(l,"keyboardDate"),isAdjacent:r,isDisabled:m(l),isEnd:d,isHidden:r&&!e.showAdjacentMonths,isSame:c,isSelected:a.value.some(e=>t.isSameDay(l,e)),isStart:u,isToday:t.isSameDay(l,n),isWeekEnd:o%p===p-1,isWeekStart:o%p===0,isoDate:i,localized:t.format(l,"dayOfMonth"),month:t.getMonth(l),year:t.getYear(l)}})}const d=l(()=>{const a=t.startOfWeek(n.value,e.firstDayOfWeek),l=[];for(let e=0;e<=6;e++)l.push(t.addDays(a,e));return u(l,t.date())}),c=l(()=>u(r.value.flat(),t.date())),p=l(()=>r.value.map(a=>a.length?t.getWeek(a[0],e.firstDayOfWeek,e.firstDayOfYear):null));function m(a){if(e.disabled)return!0;const l=t.date(a);return!((!e.min||!t.isBefore(t.endOfDay(l),t.date(e.min)))&&(!e.max||!t.isAfter(l,t.date(e.max)))&&(Array.isArray(e.allowedDates)&&e.allowedDates.length>0?e.allowedDates.some(e=>t.isSameDay(t.date(e),l)):"function"!=typeof e.allowedDates||e.allowedDates(l)))}return{displayValue:n,daysInMonth:c,daysInWeek:d,genDays:u,model:a,weeksInMonth:r,weekdayLabels:i,weekNumbers:p}}(e),g=ta(),y=k(),b=k(),x=k(!1),w=n(()=>x.value?e.reverseTransition:e.transition);"range"===e.multiple&&m.value.length>0&&(y.value=m.value[0],m.value.length>1&&(b.value=m.value[m.value.length-1]));const _=l(()=>{const t=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return m.value.length>=t});function S(e){const t=g.format(e.date,"fullDateWithWeekday"),a=e.isToday?"currentDate":"selectDate";return c(`$vuetify.datePicker.ariaLabel.${a}`,t)}function C(t){"range"===e.multiple?function(e){const t=g.startOfDay(e);if(0===m.value.length?y.value=void 0:1===m.value.length&&(y.value=m.value[0],b.value=void 0),y.value)if(b.value)y.value=e,b.value=void 0,m.value=[y.value];else{if(g.isSameDay(t,y.value))return y.value=void 0,void(m.value=[]);g.isBefore(t,y.value)?(b.value=g.endOfDay(y.value),y.value=t):b.value=g.endOfDay(t),m.value=aa(g,y.value,b.value)}else y.value=t,m.value=[y.value]}(t):e.multiple?function(e){const t=m.value.findIndex(t=>g.isSameDay(t,e));if(-1===t)m.value=[...m.value,e];else{const e=[...m.value];e.splice(t,1),m.value=e}}(t):m.value=[t]}f(p,(e,t)=>{t&&(x.value=g.isBefore(e[0].date,t[0].date))}),Me(()=>i("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&i("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&i("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[W(" ")]),v.value.map(e=>i("div",{class:r(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[e]))]),d(Lm,{name:w.value},{default:()=>{var t;return[i("div",{ref:u,key:null==(t=p.value[0].date)?void 0:t.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&h.value.map(e=>i("div",{class:r(["v-date-picker-month__day","v-date-picker-month__weekday"])},[e])),p.value.map((t,a)=>{var l;const n={props:{class:"v-date-picker-month__day-btn",color:t.isSelected||t.isToday?e.color:void 0,disabled:t.isDisabled,icon:!0,ripple:!1,text:t.localized,variant:t.isSelected?"flat":t.isToday?"outlined":"text","aria-label":S(t),"aria-current":t.isToday?"date":void 0,onClick:()=>C(t.date)},item:t,i:a};return _.value&&!t.isSelected&&(t.isDisabled=!0),i("div",{class:r(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":t.isAdjacent,"v-date-picker-month__day--hide-adjacent":t.isHidden,"v-date-picker-month__day--selected":t.isSelected,"v-date-picker-month__day--week-end":t.isWeekEnd,"v-date-picker-month__day--week-start":t.isWeekStart}]),"data-v-date":t.isDisabled?void 0:t.isoDate},[(e.showAdjacentMonths||!t.isAdjacent)&&((null==(l=s.day)?void 0:l.call(s,n))??d(im,n.props,null))])})])]}})]))}}),AI=xe({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),OI=Ee()({name:"VDatePickerMonths",props:AI(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const o=ta(),s=Fe(e,"modelValue"),r=l(()=>{let t=o.startOfYear(o.date());return e.year&&(t=o.setYear(t,e.year)),la(12).map(a=>{const l=o.format(t,"monthShort"),n=o.format(t,"month"),s=(i=a,!!(!(Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(i):"function"!=typeof e.allowedMonths||e.allowedMonths(i))||e.min&&o.isAfter(o.startOfMonth(o.date(e.min)),t)||e.max&&o.isAfter(t,o.startOfMonth(o.date(e.max)))));var i;return t=o.getNextMonth(t),{isDisabled:s,text:l,label:n,value:a}})});return I(()=>{s.value=s.value??o.getMonth(o.date())}),Me(()=>i("div",{class:"v-date-picker-months",style:{height:$e(e.height)}},[i("div",{class:"v-date-picker-months__content"},[r.value.map((t,l)=>{var o;const i={active:s.value===l,ariaLabel:t.label,color:s.value===l?e.color:void 0,disabled:t.isDisabled,rounded:!0,text:t.text,variant:s.value===t.value?"flat":"text",onClick:()=>{return e=l,void(s.value!==e?s.value=e:a("update:modelValue",s.value));var e}};return(null==(o=n.month)?void 0:o.call(n,{month:t,i:l,props:i}))??d(im,w({key:"month"},i),null)})])])),{}}}),PI=xe({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),FI=Ee()({name:"VDatePickerYears",props:PI(),directives:{vIntersect:Rg},emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const o=ta(),s=Fe(e,"modelValue"),r=l(()=>{const t=o.getYear(o.date());let a=t-100,l=t+52;e.min&&(a=o.getYear(o.date(e.min))),e.max&&(l=o.getYear(o.date(e.max)));let n=o.startOfYear(o.date());return n=o.setYear(n,a),la(l-a+1,a).map(e=>{const t=o.format(n,"year");return n=o.setYear(n,o.getYear(n)+1),{text:t,value:e,isDisabled:!p(e)}})});I(()=>{s.value=s.value??o.getYear(o.date())});const u=vt();function c(){var e,t;null==(e=u.el)||e.focus(),null==(t=u.el)||t.scrollIntoView({block:"center"})}function p(t){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(t):"function"!=typeof e.allowedYears||e.allowedYears(t)}return Me(()=>M(i("div",{class:"v-date-picker-years",style:{height:$e(e.height)}},[i("div",{class:"v-date-picker-years__content"},[r.value.map((t,l)=>{var o;const i={ref:s.value===t.value?u:void 0,active:s.value===t.value,color:s.value===t.value?e.color:void 0,rounded:!0,text:t.text,disabled:t.isDisabled,variant:s.value===t.value?"flat":"text",onClick:()=>{s.value!==t.value?s.value=t.value:a("update:modelValue",s.value)}};return(null==(o=n.year)?void 0:o.call(n,{year:t,i:l,props:i}))??d(im,w({key:"month"},i),null)})])]),[[Rg,{handler:c},null,{once:!0}]])),{}}}),LI=Ot("v-picker-title"),DI=xe({color:String,...Uc(),...Oe(),...Cp(),...Yc(),...Tp(),...Vp(),...Kc(),...Jc(),...Ae()},"VSheet"),VI=Ee()({name:"VSheet",props:DI(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{backgroundColorClasses:n,backgroundColorStyles:o}=ep(()=>e.color),{borderClasses:s}=qc(e),{dimensionStyles:i}=Ip(e),{elevationClasses:u}=Gc(e),{locationStyles:p}=Np(e),{positionClasses:m}=Bp(e),{roundedClasses:v}=Xc(e);return Me(()=>d(e.tag,{class:r(["v-sheet",l.value,n.value,s.value,u.value,m.value,v.value,e.class]),style:c([o.value,i.value,p.value,e.style])},a)),{}}}),BI=xe({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...DI()},"VPicker"),$I=Ee()({name:"VPicker",props:BI(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:l,backgroundColorStyles:n}=ep(()=>e.color);return Me(()=>{const t=VI.filterProps(e),o=!(e.hideTitle||!e.title&&!a.title);return d(VI,w(t,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!a.actions},e.class],style:e.style}),{default:()=>{var t;return[!e.hideHeader&&i("div",{key:"header",class:r([l.value]),style:c([n.value])},[o&&d(LI,{key:"picker-title"},{default:()=>{var t;return[(null==(t=a.title)?void 0:t.call(a))??e.title]}}),a.header&&i("div",{class:"v-picker__header"},[a.header()])]),i("div",{class:"v-picker__body"},[null==(t=a.default)?void 0:t.call(a)]),a.actions&&d(fp,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[i("div",{class:"v-picker__actions"},[a.actions()])]})]}})}),{}}}),RI=xe({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...SI(),...NI({weeksInMonth:"static"}),...Ct(AI(),["modelValue"]),...Ct(PI(),["modelValue"]),...BI({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),zI=Ee()({name:"VDatePicker",props:RI(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const s=ta(),{t:r}=Ht(),{rtlClasses:c}=Ge(),p=Fe(e,"modelValue",void 0,e=>De(e).map(e=>s.date(e)),t=>e.multiple?t:t[0]),m=Fe(e,"viewMode"),v=l(()=>{const t=s.date(e.min);return e.min&&s.isValid(t)?t:null}),h=l(()=>{const t=s.date(e.max);return e.max&&s.isValid(t)?t:null}),g=l(()=>{var e;const t=s.date();let a=t;return(null==(e=p.value)?void 0:e[0])?a=s.date(p.value[0]):v.value&&s.isBefore(t,v.value)?a=v.value:h.value&&s.isAfter(t,h.value)&&(a=h.value),a&&s.isValid(a)?a:t}),y=n(()=>e.headerColor??e.color),b=Fe(e,"month"),x=l({get:()=>Number(b.value??s.getMonth(s.startOfMonth(g.value))),set:e=>b.value=e}),_=Fe(e,"year"),S=l({get:()=>Number(_.value??s.getYear(s.startOfYear(s.setMonth(g.value,x.value)))),set:e=>_.value=e}),C=k(!1),I=l(()=>e.multiple&&p.value.length>1?r("$vuetify.datePicker.itemsSelected",p.value.length):p.value[0]&&s.isValid(p.value[0])?s.format(s.date(p.value[0]),"normalDateWithWeekday"):r(e.header)),E=l(()=>{let e=s.date();return e=s.setDate(e,1),e=s.setMonth(e,x.value),e=s.setYear(e,S.value),s.format(e,"monthAndYear")}),T=n(()=>`date-picker-header${C.value?"-reverse":""}-transition`),N=l(()=>{if(e.disabled)return!0;const t=[];if("month"!==m.value)t.push("prev","next");else{let e=s.date();if(e=s.startOfMonth(e),e=s.setMonth(e,x.value),e=s.setYear(e,S.value),v.value){const a=s.addDays(s.startOfMonth(e),-1);s.isAfter(v.value,a)&&t.push("prev")}if(h.value){const a=s.addDays(s.endOfMonth(e),1);s.isAfter(a,h.value)&&t.push("next")}}return t}),M=l(()=>e.allowedYears||P),A=l(()=>e.allowedMonths||F);function O(t,a){const l=e.allowedDates;if("function"!=typeof l)return!0;const n=1+s.getDiff(new Date(`${s.toISO(a)}T00:00:00Z`),new Date(`${s.toISO(t)}T00:00:00Z`),"days");for(let e=0;e<n;e++)if(l(s.addDays(t,e)))return!0;return!1}function P(t){if("function"==typeof e.allowedDates){const e=s.parseISO(`${t}-01-01`);return O(e,s.endOfYear(e))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const a of e.allowedDates)if(s.getYear(s.date(a))===t)return!0;return!1}return!0}function F(t){if("function"==typeof e.allowedDates){const e=String(t+1).padStart(2,"0"),a=s.parseISO(`${S.value}-${e}-01`);return O(a,s.endOfMonth(a))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const a of e.allowedDates)if(s.getYear(s.date(a))===S.value&&s.getMonth(s.date(a))===t)return!0;return!1}return!0}function L(){x.value<11?x.value++:(S.value++,x.value=0,z()),R()}function D(){x.value>0?x.value--:(S.value--,x.value=11,z()),R()}function V(){m.value="month"}function B(){m.value="months"===m.value?"month":"months"}function $(){m.value="year"===m.value?"month":"year"}function R(){"months"===m.value&&B()}function z(){"year"===m.value&&$()}return f(p,(e,t)=>{const a=De(t),l=De(e);if(!l.length)return;const n=s.date(a[a.length-1]),o=s.date(l[l.length-1]),i=s.getMonth(o),r=s.getYear(o);i!==x.value&&(x.value=i,R()),r!==S.value&&(S.value=r,z()),C.value=s.isBefore(n,o)}),Me(()=>{const t=$I.filterProps(e),a=CI.filterProps(e),l=EI.filterProps(e),n=MI.filterProps(e),s=Ct(OI.filterProps(e),["modelValue"]),f=Ct(FI.filterProps(e),["modelValue"]),g={color:y.value,header:I.value,transition:T.value};return d($I,w(t,{color:y.value,class:["v-date-picker",`v-date-picker--${m.value}`,{"v-date-picker--show-week":e.showWeek},c.value,e.class],style:e.style}),{title:()=>{var t;return(null==(t=o.title)?void 0:t.call(o))??i("div",{class:"v-date-picker__title"},[r(e.title)])},header:()=>o.header?d(fp,{defaults:{VDatePickerHeader:{...g}}},{default:()=>{var e;return[null==(e=o.header)?void 0:e.call(o,g)]}}):d(EI,w({key:"header"},l,g,{onClick:"month"!==m.value?V:void 0}),{prepend:o.prepend,append:o.append}),default:()=>i(u,null,[d(CI,w(a,{disabled:N.value,text:E.value,"onClick:next":L,"onClick:prev":D,"onClick:month":B,"onClick:year":$}),null),d(Cg,{hideOnLeave:!0},{default:()=>["months"===m.value?d(OI,w({key:"date-picker-months"},s,{modelValue:x.value,"onUpdate:modelValue":[e=>x.value=e,R],min:v.value,max:h.value,year:S.value,allowedMonths:A.value}),{month:o.month}):"year"===m.value?d(FI,w({key:"date-picker-years"},f,{modelValue:S.value,"onUpdate:modelValue":[e=>S.value=e,z],min:v.value,max:h.value,allowedYears:M.value}),{year:o.year}):d(MI,w({key:"date-picker-month"},n,{modelValue:p.value,"onUpdate:modelValue":e=>p.value=e,month:x.value,"onUpdate:month":[e=>x.value=e,R],year:S.value,"onUpdate:year":[e=>S.value=e,z],min:v.value,max:h.value}),{day:o.day})]})]),actions:o.actions})}),{}}}),UI=xe({...Oe(),...ok()},"VForm"),qI=Ee()({name:"VForm",props:UI(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:l,emit:o}=t;const s=function(e){const t=Fe(e,"modelValue"),l=n(()=>e.disabled),o=n(()=>e.readonly),s=k(!1),i=a([]),r=a([]);return f(i,()=>{let e=0,a=0;const l=[];for(const t of i.value)!1===t.isValid?(a++,l.push({id:t.id,errorMessages:t.errorMessages})):!0===t.isValid&&e++;r.value=l,t.value=!(a>0)&&(e===i.value.length||null)},{deep:!0,flush:"post"}),m(nk,{register:e=>{let{id:t,vm:a,validate:l,reset:n,resetValidation:o}=e;i.value.some(e=>e.id===t),i.value.push({id:t,validate:l,reset:n,resetValidation:o,vm:le(a),isValid:null,errorMessages:[]})},unregister:e=>{i.value=i.value.filter(t=>t.id!==e)},update:(e,t,a)=>{const l=i.value.find(t=>t.id===e);l&&(l.isValid=t,l.errorMessages=a)},isDisabled:l,isReadonly:o,isValidating:s,isValid:t,items:i,validateOn:n(()=>e.validateOn)}),{errors:r,isDisabled:l,isReadonly:o,isValidating:s,isValid:t,items:i,validate:async function(){const t=[];let a=!0;r.value=[],s.value=!0;for(const l of i.value){const n=await l.validate();if(n.length>0&&(a=!1,t.push({id:l.id,errorMessages:n})),!a&&e.fastFail)break}return r.value=t,s.value=!1,{valid:a,errors:r.value}},reset:function(){i.value.forEach(e=>e.reset())},resetValidation:function(){i.value.forEach(e=>e.resetValidation())}}}(e),u=a();function d(e){e.preventDefault(),s.reset()}function p(e){const t=e,a=s.validate();t.then=a.then.bind(a),t.catch=a.catch.bind(a),t.finally=a.finally.bind(a),o("submit",t),t.defaultPrevented||a.then(e=>{var t;let{valid:a}=e;a&&(null==(t=u.value)||t.submit())}),t.preventDefault()}return Me(()=>{var t;return i("form",{ref:u,class:r(["v-form",e.class]),style:c(e.style),novalidate:!0,onReset:d,onSubmit:p},[null==(t=l.default)?void 0:t.call(l,s)])}),Wm(s,u)}}),HI={name:"MutualFundOrderWindow",data:()=>({uid:null,token:null,mtoken:null,orderloader:!1,mf_mandates:[],mf_frequencys:[],mf_dates:!1,mf_frequency:null,mf_mandate:"",mf_date:"",mf_invest_amt:1e3,mf_initial_amt:1e3,mf_instal_amt:1e3,mf_tenure:!1,mf_sipinit:!1,mf_noof_instal:0,mf_redqty:0,mfpayinmode:null,mfpayinmodes:[{key:"UPI",val:"UPI"},{key:"NET BANKING",val:"Net banking"}],mfpainids:null,mf_accact:null,mfupivalid:!0,orderpoploader:!1,creatManmfamt:1e3,creatManmffrommodel:"",creatManmffrommenu:!1,creatManmftomodel:"",creatManmftomenu:!1,creatManmRemarks:"",mforderdialog:!1,iposbids:[],menudata:{},upiidfield:!1,orderiniteddai:!1,ordersignale:"",orderpoploadernew:!1,checkoredrid:"",invesrtamoutcheck:"",paymentcheck:!1,intervalId:null,paymentconfirm:!1,paystausres:[]}),async mounted(){kI.$on("menudialog",(e,t,a)=>{"mforder"==e&&this.setMenudialog(t,a)}),kI.$on("user-event",()=>{this.mtoken=sessionStorage.getItem("msession"),this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid"),console.log("User event - UID updated:",this.uid)}),this.mtoken=sessionStorage.getItem("msession"),this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid"),console.log("Mounted - Initial UID:",this.uid)},beforeUnmount(){kI.$off("menudialog"),kI.$off("user-event"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},computed:{mf_dateformatted(){return this.formatDate(this.mf_date)},creatManmffrom(){return this.formatDate(this.creatManmffrommodel)},creatManmfto(){return this.formatDate(this.creatManmftomodel)},changefieldType:e=>Number(e),upiIDerrors(){const e=[];return this.upiidfield&&e.push("You have entered the invalid UPI ID"),e},minStartDate(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+2);return this.formatDateForPicker(t)},minEndDate(){if(this.creatManmffrommodel){const e=this.parseDateString(this.creatManmffrommodel);if(e&&!isNaN(e.getTime())){const t=new Date(e.getFullYear(),e.getMonth()+2,e.getDate());return this.formatDateForPicker(t)}}const e=new Date;return this.formatDateForPicker(e)}},methods:{incrEment(e){this.mf_invest_amt=Number(this.mf_invest_amt)+Number(e)},snackAlert(e,t){kI.$emit("snack-event",e,t)},formatDate(e){if(!e)return null;const[t,a,l]=e.split("-");return`${l}/${a}/${t}`},formatDateForPicker(e){if(!e)return null;const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?null:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},parseDateString(e){if(!e)return null;if("string"!=typeof e)return e instanceof Date?e:null;const t=e.split("T")[0].split("-");if(3!==t.length)return null;const a=parseInt(t[0],10),l=parseInt(t[1],10)-1,n=parseInt(t[2],10);return new Date(a,l,n)},async setMenudialog(e,t){if(kI.$emit("sub-loader",1),console.log("itemdataitemdata",t),console.log("modemodemodemode",e),this.mtoken=sessionStorage.getItem("msession"),this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid"),console.log("UID from sessionStorage:",this.uid),console.log("Token from sessionStorage:",this.token),!this.uid)return console.error("UID is null! Please check sessionStorage for 'userid'"),kI.$emit("snack-event",2,"User session expired. Please login again."),void kI.$emit("sub-loader",0);if(this.orderpoploader=!1,this.menudata={},this.upiidfield=!1,this.mf_tenure="sip"==e,this.menudata.types=e,this.menudata.item=t,console.log("   this.menudata[",this.menudata.item),"redem"==e)this.menudata.item.Minimum_Redemption_Qty=Number(this.menudata.item.Minimum_Redemption_Qty),this.menudata.netqty=t.avg_qty,this.menudata.sname=t.name,this.mf_redqty=t.avg_qty,this.mf_invest_amt=(this.mf_redqty*t.invested_value).toFixed(2),this.mforderdialog=!0;else{if("Y"==t.SIP_FLAG){let e=await sle([t.ISIN,t.Scheme_Code]);if("Ok"==e.stat){this.menudata.sipvalue={},this.menudata.mf_frequencys=[];for(let t=0;t<e.data.length;t++){if(!e.data[t].SIP_FREQUENCY||"string"!=typeof e.data[t].SIP_FREQUENCY)continue;let a=e.data[t].SIP_FREQUENCY.slice(0,1)+e.data[t].SIP_FREQUENCY.slice(1,e.data[t].SIP_FREQUENCY.length).toLocaleLowerCase();this.menudata.mf_frequencys.push(a),this.menudata.sipvalue[a]=e.data[t],this.menudata.sipvalue[a].mf_dates=e.data[t].SIP_DATES?e.data[t].SIP_DATES.split(","):["0"],this.menudata.sipvalue[a].mf_date=this.menudata.sipvalue[a].mf_dates[0],this.menudata.sipvalue[a].freqis="Daily"==a?"Days":"Monthly"==a?"Months":"Quarterly"==a?"Qtrs":a,this.menudata.sipvalue[a].SIP_INSTALLMENT_GAP=this.menudata.sipvalue[a].SIP_INSTALLMENT_GAP?Number(this.menudata.sipvalue[a].SIP_INSTALLMENT_GAP):"",this.menudata.sipvalue[a].SIP_MINIMUM_GAP=this.menudata.sipvalue[a].SIP_MINIMUM_GAP?Number(this.menudata.sipvalue[a].SIP_MINIMUM_GAP):"",this.menudata.sipvalue[a].SIP_MAXIMUM_GAP=this.menudata.sipvalue[a].SIP_MAXIMUM_GAP?Number(this.menudata.sipvalue[a].SIP_MAXIMUM_GAP):"",this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_AMOUNT=this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_AMOUNT?Number(this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_AMOUNT):"",this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_AMOUNT=this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_AMOUNT?Number(this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_AMOUNT):"",this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_NUMBERS=this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_NUMBERS?Number(this.menudata.sipvalue[a].SIP_MINIMUM_INSTALLMENT_NUMBERS):"",this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_NUMBERS=this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_NUMBERS?Number(this.menudata.sipvalue[a].SIP_MAXIMUM_INSTALLMENT_NUMBERS):"",this.menudata.sipvalue[a].SIP_MULTIPLIER_AMOUNT=this.menudata.sipvalue[a].SIP_MULTIPLIER_AMOUNT?Number(this.menudata.sipvalue[a].SIP_MULTIPLIER_AMOUNT):""}this.getMFmandata(),this.mf_frequency=this.menudata.mf_frequencys[0],this.mf_instal_amt=this.menudata.sipvalue[this.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT,this.mf_noof_instal=this.menudata.sipvalue[this.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS,this.setDefaultmandate()}else this.menudata.sipvalue=!1}else this.menudata.sipvalue=!1;this.mf_accact=null,this.mfpayinmode=null,this.mf_sipinit=!1,t.Minimum_Purchase_Amount=Number(t.Minimum_Purchase_Amount),t.Purchase_Amount_Multiplier=Number(t.Purchase_Amount_Multiplier),this.mf_invest_amt=t.Minimum_Purchase_Amount,this.mf_initial_amt=t.Minimum_Purchase_Amount,this.mforderdialog=!0}kI.$emit("sub-loader",0)},setDefaultmandate(){const e=new Date;e.setDate(e.getDate()+1),this.creatManmffrommodel=this.formatDateForPicker(e);const t=new Date(e);t.setFullYear(t.getFullYear()+30),this.creatManmftomodel=this.formatDateForPicker(t)},handleStartDateChange(e){if(e){const t="string"==typeof e?e.split("T")[0]:this.formatDateForPicker(e);t&&this.creatManmffrommodel!==t&&(this.creatManmffrommodel=t)}this.$nextTick(()=>{if(this.creatManmffrommodel){const e=this.parseDateString(this.creatManmffrommodel);if(e&&!isNaN(e.getTime())){const t=new Date(e.getFullYear(),e.getMonth()+2,e.getDate()),a=this.creatManmftomodel?this.parseDateString(this.creatManmftomodel):null;if(!a||isNaN(a.getTime())||a<t){const t=new Date(e.getFullYear()+30,e.getMonth(),e.getDate());this.creatManmftomodel=this.formatDateForPicker(t)}}}setTimeout(()=>{this.creatManmffrommenu=!1},300)})},handleEndDateChange(e){if(e){const t="string"==typeof e?e.split("T")[0]:this.formatDateForPicker(e);t&&this.creatManmftomodel!==t&&(this.creatManmftomodel=t)}this.$nextTick(()=>{setTimeout(()=>{this.creatManmftomenu=!1},300)})},async setMForder(){if(this.uid||(this.uid=sessionStorage.getItem("userid"),this.token=sessionStorage.getItem("usession"),this.mtoken=sessionStorage.getItem("msession")),!this.uid)return console.error("UID is null! Cannot place order."),kI.$emit("snack-event",2,"User session expired. Please login again."),void(this.orderpoploader=!1);let e;console.log("Placing order with UID:",this.uid),this.orderpoploader=!0,e=this.mf_tenure&&"redem"!=this.menudata.types?{ClientCode:this.uid,no_of_installment:this.mf_noof_instal.toString(),scheme_code:this.menudata.item.Scheme_Code,freq_type:this.mf_frequency.toUpperCase(),installment_amt:this.mf_instal_amt.toString(),mandate_id:this.mf_mandate.MandateId,start_date:this.menudata.sipvalue[this.mf_frequency].mf_date.toString(),placed_by:this.uid,source:"WEB"}:"redem"==this.menudata.types?{ClientCode:this.uid,scheme_code:this.menudata.item.Scheme_Code,redqty:this.mf_redqty.toString(),source:"WEB",placed_by:this.uid}:{ClientCode:this.uid,scheme_code:this.menudata.item.Scheme_Code,amount:this.mf_invest_amt.toString(),source:"WEB",placed_by:this.uid};let t="redem"==this.menudata.types?"order/PlaceRedeemOrder":this.mf_tenure?"order/xsip_purchase":"/order/PlaceLumpsumOrder",a=await _le(t,JSON.stringify(e));"Ok"==a.stat?(console.log("iffff elseeee order"),this.mf_tenure=!0,"redem"==this.menudata.types?(this.closeMenudialog("mforder"),this.orderpoploader=!1,this.snackAlert("Ok"==a.stat?1:2,"Ok"==a.stat?"Redemption Order  Initiated":a)):this.mf_tenure?(console.log("ifif 111"),this.mf_sipinit?(console.log("ifif sip"),console.log("############"),this.setMfpayment(this.mf_initial_amt,a.OrderNumber)):(console.log("ifif elseee"),this.orderpoploader=!1,this.snackAlert("Ok"==a.stat?1:0,"Order Confirmed From STARMF"==a.Remarks&&"PAYMENT NOT INITIATED"==a.status?"Order Initiated successful":a.error?a.error:a),"Order Confirmed From STARMF"==a.Remarks&&"PAYMENT NOT INITIATED"==a.status&&"Ok"==a.stat&&this.paymentfun(this.mf_invest_amt,a.OrderId)),this.closeMenudialog("mforder")):(console.log("1234@@@@@@@@@"),this.setMfpayment(this.mf_invest_amt,a.order_number))):(console.log("elseeee order"),this.closeMenudialog("mforder"),this.orderpoploader=!1,this.snackAlert("Ok"==a.stat?1:0,a.response_message?a.response_message:a.error?a.error:a))},async paymentfun(e,t){this.invesrtamoutcheck=e,this.checkoredrid=t,this.orderiniteddai=!0,this.ordersignale="waitpay";let a=await dle();a&&"Ok"==a.stat&&a.data&&(this.ordersignale="",this.menudata.mf_bankaccs=a.data);let l=await Dle(this.uid);"Ok"==l.stat&&l.data[0]&&l.data[0].upi_id&&l.data[0].client_id==this.uid?this.mfpainids=l.data[0].upi_id:this.mfpainids=null},async getMFmandata(){let e=await nle([this.uid,""]);"Ok"==e.stat?(this.mf_mandates=e.data.MandateDetails,this.mf_mandate=e.data.MandateDetails[0]):(this.mf_mandates=[],this.mf_mandate=null),this.orderpoploader=!1},async setCreatMandate(){this.orderpoploader=!0;let e=await ole([this.uid,this.creatManmfamt,this.creatManmffrom,this.creatManmfto,this.creatManmRemarks]);"Ok"==e.stat?(this.snackAlert(1,e.mandate?`The mandate created was successful, ${e.mandate}`:e),this.mf_tenure=!0,this.getMFmandata()):(this.snackAlert(0,e.error?e.error:e),this.orderpoploader=!1)},async setmfUpiValid(){if("UPI"==this.mfpayinmode){if(this.$refs.mfupiform.validate()){this.orderpoploader=!0;let e=await Vle([this.mfpainids,this.uid,this.token]);e&&e.data&&this.mfpainids.toUpperCase()==e.data.client_VPA.toUpperCase()&&"Available"==e.data.verified_VPA_status1?this.setMForder():e.data&&"Available"!=e.data.verified_VPA_status1?(this.upiidfield=!0,this.upiIDerrors,this.orderpoploader=!1):(this.snackAlert(2,e.emsg?e.emsg:e),this.orderpoploader=!1)}}else this.setMForder()},async setmfUpiValidnew(){if(this.orderpoploadernew=!0,"UPI"==this.mfpayinmode){if(this.$refs.mfupiform.validate()){this.orderpoploader=!0;let e=await Vle([this.mfpainids,this.uid,this.token]);e&&e.data&&this.mfpainids.toUpperCase()==e.data.client_VPA.toUpperCase()&&"Available"==e.data.verified_VPA_status1?this.paymentstatuscall():e.data&&"Available"!=e.data.verified_VPA_status1?(this.upiidfield=!0,this.upiIDerrors,this.orderpoploader=!1,this.orderpoploadernew=!1):(this.snackAlert(2,e.emsg?e.emsg:e),this.orderpoploader=!1,this.orderpoploadernew=!1)}}else this.paymentstatuscall()},async paymentstatuscall(){this.orderpoploadernew=!0;let e=JSON.stringify({client_code:this.uid,order_number:this.checkoredrid,total_amount:this.invesrtamoutcheck.toString(),mode_of_payment:this.mfpayinmode?this.mfpayinmode.toUpperCase():"",vpa_id:this.mfpainids}),t=await Sle(e);if(console.log("res",t),"Ok"==t.stat&&"UPI"==t.type){this.orderiniteddai=!1,this.paymentcheck=!0;let e=JSON.stringify({ClientCode:this.uid,OrderId:this.checkoredrid});if(this.intervalId)return;this.intervalId=setInterval(async()=>{await this.paymentatusapicall(e)},3e3)}else if("Ok"==t.stat&&"NET BANKING"==t.type){const e=window.open("","_blank");e.document.write(t.msg),e.document.close(),this.orderiniteddai=!1,this.orderpoploadernew=!1}else this.orderiniteddai=!1,this.orderpoploadernew=!1},async paymentatusapicall(e){try{this.paystausres=[];let t=await Cle(e);console.log("paymentatusapicall:",t),this.paystausres=t,"PAYMENT APPROVED"===t.status||"PAYMENT DECLINED"===t.status||"PAYMENT REJECTED"==t.status?(console.log("✅ Payment OK, stopping calls..."),this.stopPaymentCheck(),this.paymentcheck=!1,this.paymentconfirm=!0,this.orderpoploadernew=!1):"ok"!==t.stat&&(console.log("❌ Error response, stopping calls..."),this.stopPaymentCheck(),this.paymentcheck=!1,this.snackAlert(2,t),this.orderpoploadernew=!1)}catch(t){console.error("API error:",t),this.stopPaymentCheck(),this.paymentcheck=!1,this.snackAlert(2,"Something went wrong"),this.orderpoploadernew=!1}},stopPaymentCheck(e){"manual"==e?(this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,this.snackAlert(2,"Payment Cancel By User")),this.paymentcheck=!1,this.paymentconfirm=!0,this.orderpoploadernew=!1):(this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.paymentcheck=!1,this.paymentconfirm=!0,this.orderpoploadernew=!1)},async setMfpayment(e,t){let a=JSON.stringify({client_code:this.uid,order_number:`${t}`,total_amount:`${e}`,acc_number:this.mf_accact.Bank_AcNo,ifsc:this.mf_accact.IFSC_Code,bank_name:this.mf_accact.Bank_Name,mode_of_payment:this.mfpayinmode,internal_ref_no:"",mandate_id:this.mf_tenure?this.mf_mandate.MandateId:"",vpa_id:"UPI"==this.mfpayinmode?this.mfpainids:"",loop_back_url:window.location.href,allow_loop_back:"Y"}),l=await kle(a);this.orderpoploader=!1,l&&"Ok"==l.stat?(this.mforderdialog=!1,"UPI"==l.type?(this.snackAlert(1,l.msg?l.msg:l),this.closeMenudialog("mforder")):(this.menudata.payment=!0,document.getElementById("payment").innerHTML=l.resp,setTimeout(()=>{window.open(`${ol.mfapi}${l.file}`,"_blank")},600))):(this.mforderdialog=!1,this.snackAlert(2,l&&l.msg?l.msg:l))},closeMenudialog(e){"mforder"==e&&(this.mforderdialog=!1),this.menudata={}}}},jI={key:1,class:"px-4 px-md-6"},WI={class:"font-weight-bold fs-13 subtext--text mb-0"},YI={class:"d-flex align-center mt-1"},GI={class:"fs-10"},KI={class:"fs-10"},XI={key:0},JI={class:"px-4 px-md-6 pt-4 pb-2"},QI={key:0},ZI={class:"d-flex align-center mb-4"},eE={key:1},tE={class:"font-weight-regular fs-14 subtext--text mb-2"},aE={class:"float-right"},lE={class:"fs-10 subtext--text ml-6 mt-1"},nE={key:2},oE={key:0},sE={class:"font-weight-regular fs-14 subtext--text mb-2"},iE={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},rE={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},uE={key:0,class:"float-right"},dE={key:0},cE={key:0},pE={key:1},mE={key:2},vE={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},hE={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},fE={key:2,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},gE={class:"float-right"},yE={class:"text-right mb-2"},bE={class:"fs-10 subtext--text ml-6 mt-1"},xE={class:"font-weight-regular fs-14 subtext--text mb-2 mt-3"},wE={class:"font-weight-bold txt-FF1 float-right"},_E={class:"fs-10 subtext--text ml-6 mt-1"},kE={key:3},SE={class:"fs-10 subtext--text ml-6 mt-1"},CE={key:4},IE={key:5},EE={key:0,class:"font-weight-regular mt-4 fs-12 subtext--text mb-0"},TE={key:0,class:"font-weight-regular fs-10 subtext--text d-none d-md-block"},NE={class:"text-primary font-weight-bold"},ME={class:"font-weight-bold title mt-5"},AE={class:"subtitle-1 txt-666 mb-2"},OE={class:"subtitle-1 txt-666 font-weight-bold mb-2"},PE={class:"caption txt-666 mb-1"},FE={class:"caption txt-666"},LE=zc(HI,[["render",function(e,t,a,l,n,o){const s=$("P"),u=$("v-list-item-content");return z(),R("div",null,[e.menudata&&e.menudata.item?(z(),q(U_,{key:0,modelValue:e.mforderdialog,"onUpdate:modelValue":t[30]||(t[30]=t=>e.mforderdialog=t),persistent:"","onClick:outside":t[31]||(t[31]=t=>e.orderpoploader&&e.menudata.payment?"":o.closeMenudialog("mforder")),width:e.menudata&&e.menudata.payment?"640":"400"},{default:H(()=>[d(cy,{class:"pb-5 overflow-hidden",style:{"border-radius":"15px"},color:"cardbg"},{default:H(()=>[d(im,{disabled:e.orderpoploader,onClick:t[0]||(t[0]=e=>o.closeMenudialog("mforder")),color:"maintext",size:"x-small",variant:"outlined",icon:"",style:{position:"absolute",top:"20px",right:"20px","z-index":"1"}},{default:H(()=>[d(wp,{size:"17"},{default:H(()=>[...t[43]||(t[43]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"]),d(cy,{class:"elevation-0 pt-6 pb-2",color:"secbg"},{default:H(()=>[null==e.mf_tenure?(z(),q(s,{key:0,class:"font-weight-bold fs-16 maintext--text mb-2 px-4 px-md-6"},{default:H(()=>[...t[44]||(t[44]=[W("Create mandate ",-1)])]),_:1})):ee("",!0),null!=e.mf_tenure&&"redem"==e.menudata.types?(z(),R("div",jI,[d(s,{class:"font-weight-bold fs-16 maintext--text mb-1"},{default:H(()=>[...t[45]||(t[45]=[W("Redemption",-1)])]),_:1}),i("p",WI,A(e.menudata.sname?e.menudata.sname:""),1)])):ee("",!0),null!=e.mf_tenure&&"redem"!=e.menudata.types?(z(),q(cb,{key:2,class:"px-4 px-md-6"},{default:H(()=>[d(u,{class:"py-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-1"},{default:H(()=>[W(A(e.menudata.item?e.menudata.item.name:""),1)]),_:1}),i("div",YI,[i("div",null,[e.menudata.item&&e.menudata.item.Type?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",GI,A(e.menudata.item.Type),1)]),_:1})):ee("",!0)]),e.menudata.item&&e.menudata.item.SubType?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"ml-2",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",KI,A(e.menudata.item.SubType),1)]),_:1})):ee("",!0)])]),_:1})]),_:1})):ee("",!0)]),_:1}),e.orderpoploader?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),i("div",{style:c(e.mf_tenure?"height:calc(100vh - 264px) !important;":""),class:r(e.mf_tenure?"overflow-y-auto":"")},[t[74]||(t[74]=i("div",{id:"payment"},null,-1)),e.menudata.payment?ee("",!0):(z(),R("div",XI,[i("div",JI,[null!=e.mf_tenure&&"redem"!=e.menudata.types&&"Y"==e.menudata.item.Purchase_Allowed&&"Y"==e.menudata.item.SIP_FLAG?(z(),R("div",QI,[t[46]||(t[46]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Choose tenure",-1)),i("div",ZI,[i("span",{class:r(["fs-14 font-weight-bold",e.mf_tenure?"subtext--text":"maintext--text"])},"Lumpsum",2),d(wk,{modelValue:e.mf_tenure,"onUpdate:modelValue":t[1]||(t[1]=t=>e.mf_tenure=t),disabled:!(!e.menudata||0!=e.menudata.sipvalue),"hide-details":"",class:"mx-3 tenure-switch",inset:"",color:"black"},null,8,["modelValue","disabled"]),i("span",{class:r(["fs-14 font-weight-bold",e.mf_tenure?"maintext--text":"subtext--text"])},"Monthly SIP",2)])])):ee("",!0),"redem"==e.menudata.types?(z(),R("div",eE,[i("p",tE,[t[48]||(t[48]=W(" Redemption units ",-1)),i("span",aE,[t[47]||(t[47]=W("Total units : ",-1)),i("b",null,A(e.menudata.item.avg_qty),1)])]),d(Fk,{height:"40px","background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",modelValue:e.mf_redqty,"onUpdate:modelValue":t[3]||(t[3]=t=>e.mf_redqty=t),min:e.menudata.item.Minimum_Redemption_Qty,max:e.menudata.item.avg_qty,onInput:t[4]||(t[4]=t=>e.mf_invest_amt=(Number(e.mf_redqty||0)*e.menudata.item.avg_qty).toFixed(2))},{append:H(()=>[e.menudata.item.avg_qty-e.mf_redqty>0?(z(),q(cy,{key:0,onClick:t[2]||(t[2]=t=>e.mf_redqty=e.menudata.item.avg_qty),class:"font-weight-bold subtitle-2 primary--text elevation-0 crd-trn"},{default:H(()=>[W(" + "+A(e.menudata.item?(e.menudata.item.avg_qty-e.mf_redqty).toFixed(3):0),1)]),_:1})):ee("",!0)]),_:1},8,["modelValue","min","max"]),i("p",lE,"Min. redemption uints "+A(e.menudata.item?e.menudata.item.Minimum_Redemption_Qty:0),1)])):e.mf_tenure?(z(),R("div",nE,["redem"!=e.menudata.types?(z(),R("div",oE,[i("p",sE,[t[52]||(t[52]=W(" Mandates ",-1)),d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("span",re(ue(a)),[e.mf_mandate&&"APPROVED"==e.mf_mandate.Status?(z(),R("svg",iE,[...t[49]||(t[49]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),i("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):e.mf_mandate&&e.mf_mandate.Status?(z(),R("svg",rE,[...t[50]||(t[50]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),i("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):ee("",!0)],16)]),default:H(()=>[i("span",null,A(e.mf_mandate&&"APPROVED"==e.mf_mandate.Status?"Valid":"Not valid"),1)]),_:1}),e.mf_mandate&&e.mf_mandate.MandateId?(z(),R("span",uE,[t[51]||(t[51]=W("Amt: ",-1)),i("b",null,A(e.mf_mandate.Amount?Number(e.mf_mandate.Amount).toFixed(2):"0.00"),1)])):ee("",!0)]),e.mf_mandates.length>0?(z(),R("div",dE,[d(rI,{"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",modelValue:e.mf_mandate,"onUpdate:modelValue":t[5]||(t[5]=t=>e.mf_mandate=t),disabled:!e.mf_mandates,items:e.mf_mandates,"return-object":"","background-color":"secbg",flat:"",class:"rounded-pill mb-0","hide-details":"",variant:"solo","item-title":"MandateId","item-value":"MandateId"},{selection:H(({item:e})=>[e&&e.raw&&e.raw.MandateId?(z(),R("span",cE,A(e.raw.MandateId),1)):e&&e.MandateId?(z(),R("span",pE,A(e.MandateId),1)):e&&"object"==typeof e?(z(),R("span",mE,A(e.MandateId||""),1)):ee("",!0)]),item:H(({item:e,props:a,on:l})=>[d(cb,w(te(l),a),{default:H(()=>[d(u,null,{default:H(()=>[d(ub,{class:"font-weight-medium"},{default:H(()=>[W(A(e.MandateId)+" ",1),d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("span",re(ue(a)),["APPROVED"==e.Status?(z(),R("svg",vE,[...t[53]||(t[53]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),i("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"REJECTED"==e.Status||"INITIAL REJECTION"==e.Status||e.Status&&"string"==typeof e.Status&&e.Status.includes("REJECT")?(z(),R("svg",hE,[...t[54]||(t[54]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),i("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(z(),R("svg",fE,[...t[55]||(t[55]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#FFB038"},null,-1),i("path",{d:"M5.3125 8.75C6.00286 8.75 6.5625 8.19036 6.5625 7.5C6.5625 6.80964 6.00286 6.25 5.3125 6.25C4.62214 6.25 4.0625 6.80964 4.0625 7.5C4.0625 8.19036 4.62214 8.75 5.3125 8.75Z",fill:"white"},null,-1),i("path",{d:"M10.3125 8.75C11.0029 8.75 11.5625 8.19036 11.5625 7.5C11.5625 6.80964 11.0029 6.25 10.3125 6.25C9.62214 6.25 9.0625 6.80964 9.0625 7.5C9.0625 8.19036 9.62214 8.75 10.3125 8.75Z",fill:"white"},null,-1),i("path",{d:"M15.3125 8.75C16.0029 8.75 16.5625 8.19036 16.5625 7.5C16.5625 6.80964 16.0029 6.25 15.3125 6.25C14.6221 6.25 14.0625 6.80964 14.0625 7.5C14.0625 8.19036 14.6221 8.75 15.3125 8.75Z",fill:"white"},null,-1)])]))],16)]),default:H(()=>[i("span",null,A(e.Status),1)]),_:2},1024),i("span",gE,A(Number(e.Amount).toFixed(2)),1)]),_:2},1024),d(rb,{class:"caption"},{default:H(()=>[W("reg date : "+A(e.RegnDate),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","disabled","items"]),i("p",yE,[d(im,{onClick:t[6]||(t[6]=t=>(e.mf_tenure=null,o.setDefaultmandate())),color:"primary",size:"small",class:"text-none font-weight-bold",variant:"text"},{default:H(()=>[...t[56]||(t[56]=[W("+ Create mandate",-1)])]),_:1})])])):(z(),q(im,{key:1,onClick:t[7]||(t[7]=t=>e.mf_tenure=null),loading:e.orderpoploader,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text mb-4",block:"",height:"48px"},{default:H(()=>[...t[57]||(t[57]=[W("+ Create mandate ",-1)])]),_:1},8,["loading"]))])):ee("",!0),e.mf_sipinit?(z(),q(Fk,{key:1,"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",height:"40px","background-color":"secbg",flat:"",class:"rounded-pill mb-4",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",onKeyup:t[9]||(t[9]=t=>e.mf_initial_amt?e.mf_initial_amt=Number(e.mf_initial_amt):e.mf_initial_amt>=e.menudata.item.Minimum_Purchase_Amount?e.mf_initial_amt:e.menudata.item.Minimum_Purchase_Amount),min:e.menudata.item.Minimum_Purchase_Amount,step:e.menudata.item.Minimum_Purchase_Amount,modelValue:e.mf_initial_amt,"onUpdate:modelValue":t[10]||(t[10]=t=>e.mf_initial_amt=t)},{append:H(()=>[d(cy,{onClick:t[8]||(t[8]=t=>e.mf_initial_amt+=e.menudata.item.Minimum_Purchase_Amount),class:"font-weight-bold subtitle-2 primary--text elevation-0 crd-trn"},{default:H(()=>[W(" + "+A(e.menudata.item.Minimum_Purchase_Amount),1)]),_:1})]),"prepend-inner":H(()=>[...t[58]||(t[58]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["min","step","modelValue"])):ee("",!0),t[63]||(t[63]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Instalment amount",-1)),e.mf_frequency?(z(),q(Fk,{key:2,"append-icon":"","bg-color":"secbg",rounded:"",dense:"",density:"comfortable",height:"40px","background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",onKeyup:t[11]||(t[11]=t=>e.mf_instal_amt?e.mf_instal_amt=Number(e.mf_instal_amt):e.mf_instal_amt>=e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT?e.mf_instal_amt:e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT),min:e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT,max:e.menudata.sipvalue[e.mf_frequency].SIP_MAXIMUM_INSTALLMENT_AMOUNT,step:e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT,modelValue:e.mf_instal_amt,"onUpdate:modelValue":t[12]||(t[12]=t=>e.mf_instal_amt=t)},{"prepend-inner":H(()=>[...t[59]||(t[59]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["min","max","step","modelValue"])):ee("",!0),i("p",bE,"Min. ₹"+A(e.menudata.sipvalue&&e.mf_frequency?e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT:0)+" (multiple of 1.0)",1),d(Ry,{class:"pb-4 mt-4"},{default:H(()=>[d(ky,{cols:"8"},{default:H(()=>[t[60]||(t[60]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Frequency",-1)),e.mf_frequency?(z(),q(rI,{key:0,"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",modelValue:e.mf_frequency,"onUpdate:modelValue":[t[13]||(t[13]=t=>e.mf_frequency=t),t[14]||(t[14]=t=>(e.mf_instal_amt=e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT,e.mf_noof_instal=e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS))],oninput:"this.mf_frequency = mf_frequency.toUppercase()","hide-details":"",items:e.menudata.mf_frequencys,"background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo"},null,8,["modelValue","items"])):ee("",!0)]),_:1}),d(ky,{cols:"4",class:"pl-0"},{default:H(()=>[t[61]||(t[61]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Date",-1)),e.mf_frequency?(z(),q(rI,{key:0,"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",disabled:e.menudata.sipvalue[e.mf_frequency].mf_dates.length<=1,modelValue:e.menudata.sipvalue[e.mf_frequency].mf_date,"onUpdate:modelValue":t[15]||(t[15]=t=>e.menudata.sipvalue[e.mf_frequency].mf_date=t),"hide-details":"",items:e.menudata.sipvalue[e.mf_frequency].mf_dates,"background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo"},null,8,["disabled","modelValue","items"])):ee("",!0)]),_:1})]),_:1}),i("p",xE,[t[62]||(t[62]=W(" Investment duration ",-1)),i("span",wE,A(e.mf_noof_instal)+" "+A(e.menudata.sipvalue&&e.mf_frequency?e.menudata.sipvalue[e.mf_frequency].freqis:""),1)]),e.mf_frequency?(z(),q(Fk,{key:3,"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",height:"40px","background-color":"secbg",flat:"",class:"rounded-pill mb-2",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",max:e.menudata.sipvalue[e.mf_frequency].SIP_MAXIMUM_INSTALLMENT_NUMBERS,min:e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS,step:e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS,modelValue:e.mf_noof_instal,"onUpdate:modelValue":t[16]||(t[16]=t=>e.mf_noof_instal=t)},null,8,["max","min","step","modelValue"])):ee("",!0),i("p",_E,"Min. duration "+A(e.menudata.sipvalue&&e.mf_frequency?e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS:0)+" "+A(e.menudata.sipvalue&&e.mf_frequency?e.menudata.sipvalue[e.mf_frequency].freqis:""),1)])):0==e.mf_tenure?(z(),R("div",kE,[t[65]||(t[65]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Investment amount",-1)),d(Fk,{rounded:"",small:"",density:"comfortable","bg-color":"secbg",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",onKeyup:t[17]||(t[17]=t=>e.mf_invest_amt?e.mf_invest_amt=Number(e.mf_invest_amt):e.mf_invest_amt>=e.menudata.item.Minimum_Purchase_Amount?e.mf_invest_amt:e.menudata.item.Minimum_Purchase_Amount),min:e.menudata.item.Minimum_Purchase_Amount,step:e.menudata.item.Minimum_Purchase_Amount,modelValue:e.mf_invest_amt,"onUpdate:modelValue":t[18]||(t[18]=t=>e.mf_invest_amt=t)},{"prepend-inner":H(()=>[...t[64]||(t[64]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["min","step","modelValue"]),i("p",SE,"Min. ₹"+A(e.menudata.item?e.menudata.item.Minimum_Purchase_Amount:0)+" (multiple of 1.0)",1)])):null==e.mf_tenure?(z(),R("div",CE,[t[70]||(t[70]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Amount *",-1)),d(Fk,{"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",readonly:e.orderpoploader,height:"40px","background-color":"secbg",flat:"",class:"rounded-pill mb-4",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",onKeyup:t[19]||(t[19]=t=>e.creatManmfamt?e.creatManmfamt=Number(e.creatManmfamt):e.creatManmfamt>=100?e.mf_initial_amt:100),min:100,step:1e3,modelValue:e.creatManmfamt,"onUpdate:modelValue":t[20]||(t[20]=t=>e.creatManmfamt=t)},{"prepend-inner":H(()=>[...t[66]||(t[66]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["readonly","modelValue"]),d(Ry,{class:"pb-4"},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[t[67]||(t[67]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Start date *",-1)),d(Pb,{modelValue:e.creatManmffrommenu,"onUpdate:modelValue":t[23]||(t[23]=t=>e.creatManmffrommenu=t),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","max-width":"290px","min-width":"auto"},{activator:H(({props:e})=>[d(Fk,w({"bg-color":"secbg",rounded:"",dense:"",density:"comfortable","background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo","hide-details":"",modelValue:o.creatManmffrom,"onUpdate:modelValue":t[21]||(t[21]=e=>o.creatManmffrom=e),readonly:""},e),null,16,["modelValue"])]),default:H(()=>[d(zI,{readonly:e.orderpoploader,min:o.minStartDate,modelValue:e.creatManmffrommodel,"onUpdate:modelValue":[t[22]||(t[22]=t=>e.creatManmffrommodel=t),o.handleStartDateChange]},null,8,["readonly","min","modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),_:1}),d(ky,{cols:"6"},{default:H(()=>[t[68]||(t[68]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"End date *",-1)),d(Pb,{modelValue:e.creatManmftomenu,"onUpdate:modelValue":t[26]||(t[26]=t=>e.creatManmftomenu=t),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","max-width":"290px","min-width":"auto"},{activator:H(({props:e})=>[d(Fk,w({"bg-color":"secbg",rounded:"",dense:"",density:"comfortable","background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo","hide-details":"",modelValue:o.creatManmfto,"onUpdate:modelValue":t[24]||(t[24]=e=>o.creatManmfto=e),readonly:""},e),null,16,["modelValue"])]),default:H(()=>[d(zI,{readonly:e.orderpoploader,min:o.minEndDate,modelValue:e.creatManmftomodel,"onUpdate:modelValue":[t[25]||(t[25]=t=>e.creatManmftomodel=t),o.handleEndDateChange]},null,8,["readonly","min","modelValue","onUpdate:modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t[71]||(t[71]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Remarks",-1)),d(Fk,{"bg-color":"secbg",rounded:"",dense:"",density:"comfortable",readonly:e.orderpoploader,height:"40px","background-color":"secbg",flat:"",class:"rounded-pill mb-8",variant:"solo",type:"text","hide-details":"","hide-spin-buttons":"",modelValue:e.creatManmRemarks,"onUpdate:modelValue":t[27]||(t[27]=t=>e.creatManmRemarks=t)},null,8,["readonly","modelValue"]),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12",class:"pb-1"},{default:H(()=>[d(im,{onClick:t[28]||(t[28]=e=>o.setCreatMandate()),disabled:!e.creatManmffrommodel||!e.creatManmftomodel||e.creatManmfamt<100,loading:e.orderpoploader,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text",block:"",height:"40px"},{default:H(()=>[...t[69]||(t[69]=[W("Submit ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])):ee("",!0),null!=e.mf_tenure&&"redem"!=e.menudata.types?(z(),R("div",IE,[null!=e.mf_tenure&&"redem"!=e.menudata.types?(z(),R("p",EE,[d(wp,{size:"16",color:"#666"},{default:H(()=>[...t[72]||(t[72]=[W("mdi-information-outline",-1)])]),_:1}),t[73]||(t[73]=W(" NAV will be allotted on the day funds are realised at the clearing corporation. ",-1))])):ee("",!0)])):ee("",!0)])]))],6),e.menudata.payment||null==e.mf_tenure?ee("",!0):(z(),q(jg,{key:1,class:"tool-sty elevation-0 pt-4 mb-2 px-4 px-md-6 crd-trn",density:"compact"},{default:H(()=>["redem"!=e.menudata.types?(z(),R("span",TE,[t[75]||(t[75]=W(" AUM ",-1)),i("span",NE,A(Number(e.menudata.item.AUM/1e7).toFixed(2)),1),t[76]||(t[76]=W(" Cr. ",-1)),t[77]||(t[77]=i("br",null,null,-1))])):ee("",!0),d(zy),d(im,{onClick:t[29]||(t[29]=e=>o.setmfUpiValid()),style:{"background-color":"black !important",color:"#ffffff !important"},disabled:"redem"==e.menudata.types?e.menudata.item.Minimum_Redemption_Qty>e.mf_redqty||e.mf_redqty>e.menudata.netqty:e.mf_tenure?e.mf_frequency&&Number(e.mf_noof_instal)<e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_NUMBERS||e.mf_frequency&&Number(e.mf_instal_amt)<e.menudata.sipvalue[e.mf_frequency].SIP_MINIMUM_INSTALLMENT_AMOUNT||Number(e.mf_initial_amt)<e.menudata.item.Minimum_Purchase_Amount||e.mf_mandate&&"APPROVED"!=e.mf_mandate.Status:Number(e.mf_invest_amt)<e.menudata.item.Minimum_Purchase_Amount,loading:e.orderpoploader,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text px-6 ml-4",height:"40px"},{default:H(()=>[W(A("redem"==e.menudata.types?"Redeem":e.mf_tenure?"Pay now":"Buy now"),1)]),_:1},8,["disabled","loading"])]),_:1}))]),_:1})]),_:1},8,["modelValue","width"])):ee("",!0),d(U_,{modelValue:e.orderiniteddai,"onUpdate:modelValue":t[39]||(t[39]=t=>e.orderiniteddai=t),persistent:"","max-width":"400"},{default:H(()=>["waitpay"==e.ordersignale?(z(),q(cy,{key:0,class:"pb-5 pa-5 overflow-hidden d-flex flex-column align-center justify-center",color:"cardbg",height:"400"},{default:H(()=>[d(wp,{color:"green",size:"35"},{default:H(()=>[...t[78]||(t[78]=[W("mdi-check-circle",-1)])]),_:1}),t[79]||(t[79]=i("p",{class:"font-weight-bold subtitle-1 mt-2"},"Order Initiated",-1))]),_:1})):(z(),q(cy,{key:1,class:"pb-5 pa-5",color:"cardbg",loading:e.orderpoploadernew},{default:H(()=>[t[82]||(t[82]=i("p",{class:"font-weight-bold subtitle-1 mb-2"},"Pay With",-1)),d(my),t[83]||(t[83]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2 mt-4"},"Bank Account",-1)),d(rI,{modelValue:e.mf_accact,"onUpdate:modelValue":t[32]||(t[32]=t=>e.mf_accact=t),"hide-details":"",items:e.menudata.mf_bankaccs,"return-object":"","item-title":"Bank_Name","item-value":"Bank_AcNo","append-icon":"mdi-chevron-down","background-color":"secbg",flat:"",class:"rounded-pill mb-4",placeholder:"bank",variant:"solo"},{item:H(({item:e,props:t,on:a})=>[d(cb,w(te(a),t),{default:H(()=>[d(u,{class:"py-1"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-14"},{default:H(()=>[W(A(e.Bank_Name),1)]),_:2},1024),d(rb,{class:"caption"},{default:H(()=>[W("XXXX XXXX "+A(e.Bank_AcNo&&"string"==typeof e.Bank_AcNo?e.Bank_AcNo.slice(-4):""),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items"]),t[84]||(t[84]=i("p",{class:"font-weight-regular fs-14 subtext--text mt-4 mb-2"},"Payment method",-1)),d(rI,{modelValue:e.mfpayinmode,"onUpdate:modelValue":t[33]||(t[33]=t=>e.mfpayinmode=t),"hide-details":"",items:e.mfpayinmodes,"item-title":"val","item-value":"key","append-icon":"mdi-chevron-down","background-color":"secbg",flat:"",class:"rounded-pill mb-3",placeholder:"UPI, Net banking",variant:"solo"},null,8,["modelValue","items"]),"UPI"==e.mfpayinmode?(z(),q(qI,{key:0,ref:"mfupiform",modelValue:e.mfupivalid,"onUpdate:modelValue":t[36]||(t[36]=t=>e.mfupivalid=t),onSubmit:t[37]||(t[37]=ie(e=>o.setmfUpiValidnew(),["prevent"])),"lazy-validation":""},{default:H(()=>[t[80]||(t[80]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"UPI ID (Virtual payment address)",-1)),d(Fk,{disabled:e.orderpoploader,required:"",height:"40px",density:"compact","background-color":"secbg",flat:"",class:"rounded-pill",variant:"solo",modelValue:e.mfpainids,"onUpdate:modelValue":t[34]||(t[34]=t=>e.mfpainids=t),onKeyup:t[35]||(t[35]=t=>e.upiidfield=!1),rules:[e=>!!e||"Upi Id is required",e=>/.+@.+/.test(e)||"Upi Id must be valid"],placeholder:"Add UPI ID","error-messages":o.upiIDerrors},null,8,["disabled","modelValue","rules","error-messages"])]),_:1},8,["modelValue"])):ee("",!0),d(jg,{class:"tool-sty elevation-0 pt-4 mb-2 crd-trn",density:"compact"},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(im,{onClick:t[38]||(t[38]=e=>o.setmfUpiValidnew()),disabled:!e.mf_accact||!e.mfpayinmode||"UPI"===e.mfpayinmode&&!e.mfpainids,loading:e.orderpoploadernew,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text",block:"",height:"40px"},{default:H(()=>[...t[81]||(t[81]=[W(" Pay - One Time ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"]))]),_:1},8,["modelValue"]),d(U_,{modelValue:e.paymentcheck,"onUpdate:modelValue":t[40]||(t[40]=t=>e.paymentcheck=t),persistent:"","max-width":"400"},{default:H(()=>[d(cy,{width:"100%",class:"elevation-0 px-5 text-center py-8 mx-auto rounded-lg",variant:"outlined"},{default:H(()=>[d(cy,{width:"40%",class:"elevation-0 mx-auto"},{default:H(()=>[d(Op,{color:"#000","buffer-value":"0",class:"mb-5",reverse:"",stream:"",value:"0"})]),_:1}),t[85]||(t[85]=i("p",{class:"font-weight-bold title"},"Awaiting UPI confirmation",-1)),t[86]||(t[86]=i("p",{class:"caption txt-666 mb-8"},"This will take a few seconds.",-1))]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:e.paymentconfirm,"onUpdate:modelValue":t[42]||(t[42]=t=>e.paymentconfirm=t),persistent:"","max-width":"400"},{default:H(()=>[d(cy,{width:"100%",class:"elevation-0 px-5 text-center py-8 mx-auto rounded-lg",variant:"outlined"},{default:H(()=>[d(cy,{width:"40%",class:"elevation-0 mx-auto"},{default:H(()=>[d(wp,{color:"PAYMENT APPROVED"==e.paystausres.status?"green":"red",class:"mt-3",size:"50"},{default:H(()=>[W(A("PAYMENT APPROVED"==e.paystausres.status?"mdi-check-circle":" mdi-close-circle"),1)]),_:1},8,["color"])]),_:1}),i("p",ME,A(e.paystausres.status&&"string"==typeof e.paystausres.status?e.paystausres.status.charAt(0).toUpperCase()+e.paystausres.status.slice(1).toLowerCase():"---"),1),i("p",AE,A(e.paystausres.name?e.paystausres.statusname:"0.00"),1),i("p",OE,A(e.paystausres.OrderVal?e.paystausres.OrderVal:"0.00"),1),i("p",PE,"TransNo : "+A(e.paystausres.TransNo?e.paystausres.TransNo:"0.00"),1),i("p",FE,"Order ID : "+A(e.paystausres.OrderId?e.paystausres.OrderId:"0.00"),1),d(im,{height:"48px",color:"#444",onClick:t[41]||(t[41]=t=>e.paymentconfirm=!1),variant:"outlined",style:{border:"2px solid #444 !important"},size:"small",class:"text-none rounded-pill elevation-0"},{default:H(()=>[...t[87]||(t[87]=[i("span",{class:"subtitle-1 font-weight-medium px-6"},"Close ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}]]),DE={class:"px-4 px-md-6 pt-4 pb-2"},VE={class:"fs-10"},BE={class:"fs-10"},$E={class:"fs-10 subtext--text ml-6 mt-2"},RE={class:"subtext--text fs-12 mt-3 mb-0"},zE={class:"mb-0 primary--text fs-12 d-flex align-center",style:{gap:"4px","white-space":"nowrap"}},UE={class:"text-primary"},qE={class:"font-weight-regular fs-12 subtext--text"},HE={class:"text-primary font-weight-bold"},jE={__name:"BondOrderWindow",setup(e){Y();const t=a(null),n=a(null),o=a(null),s=a(!1),r=a(null),u=a(!1),c=a({});function p(e,t){kI.$emit("snack-event",e,t)}function m(){r.value?r.value=Number(r.value):r.value<c.value.minbidqty&&(r.value=c.value.minbidqty)}function v(){c.value.lotbitsize&&(r.value=(r.value||0)+c.value.lotbitsize,c.value.maxbidqty&&r.value>c.value.maxbidqty&&(r.value=c.value.maxbidqty))}function f(){c.value.lotbitsize&&(r.value===c.value.lotbitsize?r.value=c.value.lotbitsize:r.value=Math.max((r.value||0)-c.value.lotbitsize,c.value.minbidqty||0))}async function g(e,t){var a;s.value=!0;let l={};0==e?l={requestfor:"REMOVE",symbol:t.symbol,investmentValue:t.investmentValue,price:(null==(a=t.bid_detail)?void 0:a.price)||t.price,orderNumber:t.orderNumber,clientApplicationNumber:t.clientApplicationNumber}:(l={requestfor:"BUY",symbol:c.value.symbol,investmentValue:3==c.value.flow?c.value.minPrice*r.value:100*r.value,price:c.value.cutoffPrice},3==c.value.flow&&(l.bidQuantity=r.value));try{const a=await Mle(3==c.value.flow,JSON.stringify(l));if(s.value=!1,a&&a.status){const l="success"==a.status;p(l?1:0,a.orderStatus_response?`${0==e?t.symbol:c.value.name}, ${a.orderStatus_response}`:a.reason||a),0==e&&kI.$emit("watch-load")}else p(2,a&&a.emsg?a.emsg:a.reason||a||"Unknown error")}catch(Wie){console.error("Error placing bond order:",Wie),s.value=!1,p(2,Wie.message||"Failed to place order")}u.value=!1,c.value={}}function b(e){u.value=!1,c.value={}}function x(e,a,l){"bondorder"==e&&async function(e,a){kI.$emit("sub-loader",1),s.value=!1,c.value={},c.value={...e};try{const e=await Ble([t.value,n.value]);c.value.ledger=e&&e.total>0?Number(e.total).toFixed(2):null}catch(Wie){console.error("Error fetching ledger:",Wie),c.value.ledger=null}c.value.type=a,r.value=e.minbidqty||0,u.value=!0,kI.$emit("sub-loader",0)}(a,l)}function w(e){g(0,e)}return l(()=>c.value.cutoffPrice&&r.value?(c.value.cutoffPrice*r.value).toFixed(2):"0.00"),y(async()=>{kI.$on("menudialog",x),kI.$on("bondmodify-event",w),o.value=sessionStorage.getItem("msession"),n.value=sessionStorage.getItem("usession"),t.value=sessionStorage.getItem("userid")}),h(()=>{kI.$off("menudialog",x),kI.$off("bondmodify-event",w)}),(e,t)=>{const a=$("P"),l=$("v-list-item-content");return z(),R("div",null,[d(U_,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=e=>u.value=e),persistent:"","onClick:outside":t[5]||(t[5]=e=>s.value?"":b()),"max-width":"400"},{default:H(()=>[d(cy,{class:"pb-1 overflow-hidden",color:"cardbg",rounded:"xl"},{default:H(()=>[d(cy,{class:"elevation-0 pt-2 pb-1",color:"secbg"},{default:H(()=>[d(jg,{class:"elevation-0 px-1 px-md-2 crd-trn",density:"compact"},{default:H(()=>[d(a,{class:"font-weight-bold fs-16 maintext--text mb-0 px-4"},{default:H(()=>[W(" Order "+A(0==c.value.type?"G-SEC":1==c.value.type?"T-BILL":2==c.value.type?"SDL":3==c.value.type?"SGB":""),1)]),_:1}),d(zy),d(im,{disabled:s.value,onClick:t[0]||(t[0]=e=>b()),color:"maintext",size:"x-small",variant:"outlined",icon:"",class:"mr-3"},{default:H(()=>[d(wp,{color:"maintext"},{default:H(()=>[...t[6]||(t[6]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),s.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),i("div",DE,[d(cb,{class:"px-0"},{default:H(()=>[d(l,{class:"py-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-0"},{default:H(()=>[W(A(c.value.name?c.value.name:""),1)]),_:1}),d(B_,{column:"",class:"mb-1 pt-0 mt-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",VE,A(c.value.symbol?c.value.symbol:""),1)]),_:1}),c.value.isin?(z(),q(R_,{key:0,size:"x-small",variant:"flat",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",BE,A(c.value.isin?c.value.isin:""),1)]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1}),t[12]||(t[12]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Units",-1)),d(Fk,{"model-value":r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),onKeyup:m,density:"compact",variant:"solo",flat:"",rounded:"pill","bg-color":"secbg",class:"rounded-pill",type:"number","hide-spin-buttons":"",min:c.value.minbidqty,"hide-details":"",step:c.value.lotbitsize,max:c.value.maxbidqty},{"append-inner":H(()=>[d(im,{onClick:v,icon:"",class:"elevation-0",variant:"text",size:"small"},{default:H(()=>[...t[7]||(t[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:f,icon:"",class:"elevation-0",variant:"text",size:"small"},{default:H(()=>[...t[8]||(t[8]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["model-value","min","step","max"]),i("p",$E," Units limit "+A(c.value.minbidqty||0)+" - "+A(c.value.maxbidqty||0),1),i("p",RE,[t[9]||(t[9]=W(" Ledger balance : ",-1)),i("b",null,"₹"+A(c.value.ledger?c.value.ledger:"0.00"),1)]),c.value.ledger<c.value.cutoffPrice*r.value?(z(),q(cy,{key:0,color:"primhover",class:"rounded-lg px-4 py-2 elevation-0 mt-4"},{default:H(()=>[i("div",zE,[d(wp,{size:"16",color:"primary"},{default:H(()=>[...t[10]||(t[10]=[W("mdi-information-outline",-1)])]),_:1}),i("span",UE," Insufficient balance, Add fund ₹"+A((c.value.cutoffPrice*r.value).toFixed(2)),1),d(im,{onClick:t[2]||(t[2]=e=>b()),variant:"text",class:"text-none font-weight-black px-0",size:"small",color:"primary",to:"/funds"},{default:H(()=>[...t[11]||(t[11]=[W(" Click here ",-1)])]),_:1})])]),_:1})):ee("",!0)]),d(jg,{class:"tool-sty elevation-0 pt-4 mb-2 px-4 px-md-6 crd-trn",density:"compact"},{default:H(()=>[i("span",qE,[t[13]||(t[13]=W(" Price : ",-1)),i("span",HE," ₹"+A(c.value.cutoffPrice?c.value.cutoffPrice.toFixed(2):"0.00"),1)]),d(zy),d(im,{disabled:r.value<c.value.minbidqty||c.value.ledger<c.value.cutoffPrice*r.value,onClick:t[3]||(t[3]=e=>g()),loading:s.value,"text-color":"white",class:"blk text-none rounded-pill elevation-0 px-4 ml-4",height:"40px"},{default:H(()=>[W(" Invest ₹"+A(c.value.cutoffPrice&&r.value?Math.round(c.value.cutoffPrice*r.value):"0"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},WE=(e,t,a)=>{if(null==e||null==t)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const l=[];let n=e.indexOf(t);for(;~n;)l.push([n,n+t.length]),n=e.indexOf(t,n+t.length);return l.length?l:-1};function YE(e,t){if(null!=e&&"boolean"!=typeof e&&-1!==e)return"number"==typeof e?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const GE=xe({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function KE(e,t,a,n){const o=k([]),s=k(new Map),i=l(()=>(null==n?void 0:n.transform)?x(t).map(e=>[e,n.transform(e)]):x(t));return I(()=>{const l="function"==typeof a?a():x(a),r="string"!=typeof l&&"number"!=typeof l?"":String(l),u=function(e,t,a){var l;const n=[],o=(null==a?void 0:a.default)??WE,s=!!(null==a?void 0:a.filterKeys)&&De(a.filterKeys),i=Object.keys((null==a?void 0:a.customKeyFilter)??{}).length;if(!(null==e?void 0:e.length))return n;let r=null;e:for(let u=0;u<e.length;u++){const[d,c=d]=De(e[u]),p={},m={};let v=-1;if((t||i>0)&&!(null==a?void 0:a.noFilter)){let e=!1;if("object"==typeof d){if("divider"===d.type||"subheader"===d.type){"divider"===(null==r?void 0:r.type)&&"subheader"===d.type&&n.push(r),r={index:u,matches:{},type:d.type};continue}const h=s||Object.keys(c);e=h.length===i;for(const e of h){const n=Bt(c,e),s=null==(l=null==a?void 0:a.customKeyFilter)?void 0:l[e];if(v=s?s(n,t,d):o(n,t,d),-1!==v&&!1!==v)s?p[e]=YE(v,t):m[e]=YE(v,t);else if("every"===(null==a?void 0:a.filterMode))continue e}}else v=o(d,t,d),-1!==v&&!1!==v&&(m.title=YE(v,t));const h=Object.keys(m).length,f=Object.keys(p).length;if(!h&&!f)continue;if("union"===(null==a?void 0:a.filterMode)&&f!==i&&!h)continue;if("intersection"===(null==a?void 0:a.filterMode)&&(f!==i||!h&&i>0&&!e))continue}r&&(n.push(r),r=null),n.push({index:u,matches:{...m,...p}})}return n}(i.value,r,{customKeyFilter:{...e.customKeyFilter,...x(null==n?void 0:n.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=x(t),c=[],p=new Map;u.forEach(e=>{let{index:t,matches:a}=e;const l=d[t];c.push(l),p.set(l.value,a)}),o.value=c,s.value=p}),{filteredItems:o,filteredMatches:s,getMatches:function(e){return s.value.get(e.value)}}}function XE(e,t,a){return null!=a&&a.length?a.map((l,n)=>{const o=0===n?0:a[n-1][1],s=[i("span",{class:r(`${e}__unmask`)},[t.slice(o,l[0])]),i("span",{class:r(`${e}__mask`)},[t.slice(l[0],l[1])])];return n===a.length-1&&s.push(i("span",{class:r(`${e}__unmask`)},[t.slice(l[1])])),i(u,null,[s])}):t}const JE=xe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...GE({filterKeys:["title"]}),...sI(),...Ct(Pk({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),QE=Ee()({name:"VAutocomplete",props:JE(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:o}=Ht(),s=a(),p=k(!1),m=k(!0),v=k(!1),h=a(),g=a(),y=k(-1),b=k(null),{items:x,transformIn:_,transformOut:S}=xb(e),{textColorClasses:C,textColorStyles:I}=Zc(()=>{var e;return null==(e=s.value)?void 0:e.color}),E=Fe(e,"search",""),T=Fe(e,"modelValue",[],e=>_(null===e?[null]:De(e)),t=>{const a=S(t);return e.multiple?a:a[0]??null}),M=l(()=>"function"==typeof e.counterValue?e.counterValue(T.value):"number"==typeof e.counterValue?e.counterValue:T.value.length),A=sk(e),{filteredItems:O,getMatches:P}=KE(e,x,()=>b.value??(m.value?"":E.value)),F=l(()=>e.hideSelected&&null===b.value?O.value.filter(e=>!T.value.some(t=>t.value===e.value)):O.value),L=l(()=>!(!e.chips&&!n.chip)),D=l(()=>L.value||!!n.selection),V=l(()=>T.value.map(e=>e.props.value)),B=l(()=>{var t;return(!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&E.value===(null==(t=F.value[0])?void 0:t.title))&&F.value.length>0&&!m.value&&!v.value}),$=l(()=>e.hideNoData&&!F.value.length||A.isReadonly.value||A.isDisabled.value),R=Fe(e,"menu"),z=l({get:()=>R.value,set:e=>{var t;R.value&&!e&&(null==(t=h.value)?void 0:t.ΨopenChildren.size)||e&&$.value||(R.value=e)}}),{menuId:U,ariaExpanded:q,ariaControls:H,ariaLabel:j}=oI(e,z),Y=a(),G=lI(Y,s);function K(t){e.openOnClear&&(z.value=!0),E.value=""}function X(){$.value||(z.value=!0)}function J(e){$.value||(p.value&&(e.preventDefault(),e.stopPropagation()),z.value=!z.value)}function Q(e){var t;(ea(e)||"Backspace"===e.key)&&(null==(t=s.value)||t.focus())}function Z(t){var a,l,n,o,i;if(A.isReadonly.value)return;const r=null==(a=s.value)?void 0:a.selectionStart,u=T.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(z.value=!0),["Escape"].includes(t.key)&&(z.value=!1),B.value&&["Enter","Tab"].includes(t.key)&&!T.value.some(e=>{let{value:t}=e;return t===F.value[0].value})&&ie(F.value[0]),"ArrowDown"===t.key&&B.value&&(null==(l=Y.value)||l.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&D.value&&T.value.length>0&&!E.value)return ie(T.value[0],!1);if(~y.value){t.preventDefault();const e=y.value;ie(T.value[y.value],!1),y.value=e>=u-1?u-2:e}else"Backspace"!==t.key||E.value||(y.value=u-1)}else if(e.multiple)if("ArrowLeft"===t.key){if(y.value<0&&r&&r>0)return;const e=y.value>-1?y.value-1:u-1;if(T.value[e])y.value=e;else{const e=(null==(n=E.value)?void 0:n.length)??null;y.value=-1,null==(o=s.value)||o.setSelectionRange(e,e)}}else if("ArrowRight"===t.key){if(y.value<0)return;const e=y.value+1;T.value[e]?y.value=e:(y.value=-1,null==(i=s.value)||i.setSelectionRange(0,0))}else~y.value&&ea(t)&&(y.value=-1)}function ee(e){if(ht(s.value,":autofill")||ht(s.value,":-webkit-autofill")){const t=x.value.find(t=>t.title===e.target.value);t&&ie(t)}}function te(){var t;e.eager&&(null==(t=g.value)||t.calculateVisibleItems())}function ae(){var e;p.value&&(m.value=!0,null==(e=s.value)||e.focus()),b.value=null}function le(e){p.value=!0,setTimeout(()=>{v.value=!0})}function ne(e){v.value=!1}function oe(t){null!=t&&(""!==t||e.multiple||D.value)||(T.value=[])}const se=k(!1);function ie(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&!t.props.disabled)if(e.multiple){const l=T.value.findIndex(a=>(e.valueComparator||Le)(a.value,t.value)),n=null==a?!~l:a;if(~l){const e=n?[...T.value,t]:[...T.value];e.splice(l,1),T.value=e}else n&&(T.value=[...T.value,t]);e.clearOnSelect&&(E.value="")}else{const e=!1!==a;T.value=e?[t]:[],b.value=m.value?"":E.value??"",E.value=e&&!D.value?t.title:"",N(()=>{z.value=!1,m.value=!0})}}return f(p,(t,a)=>{var l;t!==a&&(t?(se.value=!0,E.value=e.multiple||D.value?"":String((null==(l=T.value.at(-1))?void 0:l.props.title)??""),m.value=!0,N(()=>se.value=!1)):(e.multiple||null!=E.value||(T.value=[]),z.value=!1,!m.value&&E.value&&(b.value=E.value),E.value="",y.value=-1))}),f(E,e=>{p.value&&!se.value&&(e&&(z.value=!0),m.value=!e)}),f(z,t=>{if(!e.hideSelected&&t&&T.value.length&&m.value){const e=F.value.findIndex(e=>T.value.some(t=>e.value===t.value));Qe&&window.requestAnimationFrame(()=>{var t;e>=0&&(null==(t=g.value)||t.scrollToIndex(e))})}t&&(b.value=null)}),f(x,(e,t)=>{z.value||p.value&&!t.length&&e.length&&(z.value=!0)}),Me(()=>{const t=!!(!e.hideNoData||F.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),a=T.value.length>0,l=Fk.filterProps(e);return d(Fk,w({ref:s},l,{modelValue:E.value,"onUpdate:modelValue":[e=>E.value=e,oe],focused:p.value,"onUpdate:focused":e=>p.value=e,validationValue:T.externalValue,counterValue:M.value,dirty:a,onChange:ee,class:["v-autocomplete","v-autocomplete--"+(e.multiple?"multiple":"single"),{"v-autocomplete--active-menu":z.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!D.value,"v-autocomplete--selecting-index":y.value>-1},e.class],style:e.style,readonly:A.isReadonly.value,placeholder:a?void 0:e.placeholder,"onClick:clear":K,"onMousedown:control":X,onKeydown:Z,"aria-expanded":q.value,"aria-controls":H.value}),{...n,default:()=>i(u,null,[d(Pb,w({id:U.value,ref:h,modelValue:z.value,"onUpdate:modelValue":e=>z.value=e,activator:"parent",contentClass:"v-autocomplete__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:te,onAfterLeave:ae},e.menuProps),{default:()=>[t&&d(Ib,w({ref:Y,filterable:!0,selected:V.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:Q,onFocusin:le,onFocusout:ne,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},G,e.listProps),{default:()=>{var t,a,l;return[null==(t=n["prepend-item"])?void 0:t.call(n),!F.value.length&&!e.hideNoData&&((null==(a=n["no-data"])?void 0:a.call(n))??d(cb,{key:"no-data",title:o(e.noDataText)},null)),d(aI,{ref:g,renderless:!0,items:F.value,itemKey:"value"},{default:t=>{var a,l,o;let{item:s,index:r,itemRef:c}=t;const p=w(s.props,{ref:c,key:s.value,active:!(!B.value||0!==r)||void 0,onClick:()=>ie(s,null)});return"divider"===s.type?(null==(a=n.divider)?void 0:a.call(n,{props:s.raw,index:r}))??d(my,w(s.props,{key:`divider-${r}`}),null):"subheader"===s.type?(null==(l=n.subheader)?void 0:l.call(n,{props:s.raw,index:r}))??d(mb,w(s.props,{key:`subheader-${r}`}),null):(null==(o=n.item)?void 0:o.call(n,{item:s,index:r,props:p}))??d(cb,w(p,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return i(u,null,[e.multiple&&!e.hideSelected?d(GC,{key:s.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,s.props.prependAvatar&&d(oy,{image:s.props.prependAvatar},null),s.props.prependIcon&&d(wp,{icon:s.props.prependIcon},null)])},title:()=>{var e;return m.value?s.title:XE("v-autocomplete",s.title,null==(e=P(s))?void 0:e.title)}})}}),null==(l=n["append-item"])?void 0:l.call(n)]}})]}),T.value.map((t,a)=>{function l(e){e.stopPropagation(),e.preventDefault(),ie(t,!1)}const o={"onClick:close":l,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),l(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},s=L.value?!!n.chip:!!n.selection,u=s?Zt(L.value?n.chip({item:t,index:a,props:o}):n.selection({item:t,index:a})):void 0;if(!s||u)return i("div",{key:t.value,class:r(["v-autocomplete__selection",a===y.value&&["v-autocomplete__selection--selected",C.value]]),style:c(a===y.value?I.value:{})},[L.value?n.chip?d(fp,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:t.title}}},{default:()=>[u]}):d(R_,w({key:"chip",closable:e.closableChips,size:"small",text:t.title,disabled:t.props.disabled},o),null):u??i("span",{class:"v-autocomplete__selection-text"},[t.title,e.multiple&&a<T.value.length-1&&i("span",{class:"v-autocomplete__selection-comma"},[W(",")])])])})]),"append-inner":function(){for(var t,a,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i(u,null,[null==(t=n["append-inner"])?void 0:t.call(n,...o),e.menuIcon?d(wp,{class:"v-autocomplete__menu-icon",color:null==(a=s.value)?void 0:a.fieldIconColor,icon:e.menuIcon,onMousedown:J,onClick:na,"aria-label":j.value,title:j.value,tabindex:"-1"},null):void 0])}})}),Wm({isFocused:p,isPristine:m,menu:z,search:E,filteredItems:O,select:ie},s)}}),ZE={key:1,class:"pt-1"},eT={class:"font-weight-bold mb-0 fs-13 table-hov-text mb-0"},tT={class:"fs-10"},aT={class:"fs-10"},lT={class:"font-weight-medium fs-12 maintext--text mb-0"},nT={class:"font-weight-medium fs-12 maintext--text mb-0"},oT={class:"font-weight-medium fs-12 maintext--text mb-0"},sT={class:"grey--text fs-12 mb-0"},iT={key:0},rT={key:0},uT={class:"maintext--text fs-12 fs-12 font-weight-medium mb-2"},dT={class:"mb-0 warning--text fs-12"},cT={class:"text-none font-weight-bold",color:"warning"},pT={class:"mb-0 warning--text fs-12"},mT={class:"text-none font-weight-bold",color:"warning"},vT={class:"mb-0 warning--text fs-12"},hT={class:"text-none font-weight-bold",color:"warning"},fT={class:"font-weight-regular fs-12 subtext--text"},gT={class:"font-weight-bold",style:{color:"#0037B7"}},yT={__name:"IpoOrderWindow",setup(e){const t=Qa(),n=a(null),o=a(null),s=a(null),c=a(!1),p=a(!1),m=a([]),v=a({}),f=a(!0),g=a(!1),b=a(null);a(null);const x=a(!1),w=a(null),_=l(()=>{const e=[];return x.value&&e.push("You have entered the invalid UPI ID"),e}),k=(e,a)=>{t.showSnackbar(e,a)},S=e=>{const{type:t,item:a,value:l}=e.detail||{};"iposorder"===t&&C(a,l)},C=async(e,a)=>{if(t.showLoader(),c.value=!1,v.value={},v.value={...e},v.value.flow=a,"can"==v.value.flow)setTimeout(()=>{E()},100);else{m.value=[];let t=await Dle(n.value);if("Ok"==t.stat&&t.data[0]&&t.data[0].upi_id&&t.data[0].client_id==n.value?b.value=t.data[0].upi_id:b.value="","mod"==a?(v.value.name=e.company_name,v.value.maxPrice=e.maxprice,v.value.minPrice=e.minprice,v.value.cutOffPrice=e.cutoffprice,v.value.issueSize=e.issuesize?e.issuesize:"-",v.value.minBidQuantity=e.minbidquantity?e.minbidquantity:e.bid_detail[0].quantity,v.value.lotSize=e.minbidquanlotsizetity?e.lotsize:e.bid_detail[0].quantity,m.value=[{name:"Bid-01",bitis:!!e.bid_detail[0],qty:e.minbidquantity,price:e.bid_detail[0].price,cutoff:e.bid_detail[0].atCutOff},{name:"Bid-02",bitis:!!e.bid_detail[1],qty:e.minbidquantity,price:e.bid_detail[1]?e.bid_detail[1].price:e.maxprice,cutoff:!e.bid_detail[1]||e.bid_detail[1].atCutOff},{name:"Bid-03",bitis:!!e.bid_detail[2],qty:e.minbidquantity,price:e.bid_detail[2]?e.bid_detail[2].price:e.maxprice,cutoff:!e.bid_detail[2]||e.bid_detail[2].atCutOff}]):m.value=[{name:"Bid-01",bitis:!0,qty:e.minBidQuantity,price:"INVIT"==e.issueType?e.minPrice:e.maxPrice,cutoff:"INVIT"!=e.issueType},{name:"Bid-02",bitis:!1,qty:e.minBidQuantity,price:"INVIT"==e.issueType?e.minPrice:e.maxPrice,cutoff:"INVIT"!=e.issueType},{name:"Bid-03",bitis:!1,qty:e.minBidQuantity,price:"INVIT"==e.issueType?e.minPrice:e.maxPrice,cutoff:"INVIT"!=e.issueType}],e.subCategorySettings&&(v.value.categorys=[]),e.subCategorySettings){const t=new Set;for(var l=0;l<e.subCategorySettings.length;l++)if(e.subCategorySettings[l].allowUpi){const a=e.subCategorySettings[l].subCatCode;"IND"!=a||t.has("IND")?"EMP"!=a||t.has("EMP")?"SHA"!=a||t.has("SHA")?"POL"!=a||t.has("POL")||(v.value.categorys.push({key:"POL",val:"Policyholder",data:e.subCategorySettings[l]}),t.add("POL")):(v.value.categorys.push({key:"SHA",val:"Shareholder",data:e.subCategorySettings[l]}),t.add("SHA")):(v.value.categorys.push({key:"EMP",val:"Employee",data:e.subCategorySettings[l]}),t.add("EMP")):(v.value.categorys.push({key:"IND",val:"Individual",data:e.subCategorySettings[l]}),t.add("IND"))}const a=[],n=new Set;for(let e=0;e<v.value.categorys.length;e++)n.has(v.value.categorys[e].key)||(a.push(v.value.categorys[e]),n.add(v.value.categorys[e].key));v.value.categorys=a,v.value.categorys.length>0&&(v.value.category=v.value.categorys[0])}else v.value.categorys=[{key:"MODI",val:"modify",data:{allowCutOff:!0,allowUpi:!0,caCode:"modify",discountPrice:null,discountType:"",maxQuantity:null,maxUpiLimit:5e5,maxValue:5e5,minValue:0,subCatCode:"MODI"}}],v.value.category=v.value.categorys[0];v.value.maxamt=v.value.category&&v.value.category.data&&v.value.category.data.maxUpiLimit?Number(v.value.category.data.maxUpiLimit).toLocaleString():1==v.value.flow?2e5:5e5,T(),g.value=!1,p.value=!0}t.hideLoader()},I=async()=>{if(w.value&&w.value.validate()){c.value=!0;let e=await Vle([b.value,n.value,o.value]);e&&e.data&&b.value.toLowerCase()==e.data.client_VPA&&"Available"==e.data.verified_VPA_status1?E():e.data&&"Available"!=e.data.verified_VPA_status1?(x.value=!0,c.value=!1):(k(2,e.emsg?e.emsg:e),c.value=!1)}if(!g.value){var e=document.getElementById("check");e&&e.scrollIntoView()}},E=async()=>{let e=[];if("can"!=v.value.flow)for(let t=0;t<m.value.length;t++)m.value[t].bitis&&("NSE"==v.value.type?e.push({activityType:"mod"==v.value.flow?"modify":"can"==v.value.flow?"cancel":"new",quantity:m.value[t].qty,atCutOff:m.value[t].cutoff,price:m.value[t].price.toString(),amount:m.value[t].total.toString(),bidReferenceNumber:v.value.resp_bid&&v.value.resp_bid[t]?v.value.resp_bid[t].bidReferenceNumber.toString():""}):e.push({actioncode:"mod"==v.value.flow?"m":"can"==v.value.flow?"d":"n",quantity:m.value[t].qty.toString(),cuttoffflag:m.value[t].cutoff,rate:m.value[t].price.toString(),bidid:v.value.resp_bid&&v.value.resp_bid[t]?v.value.resp_bid[t].bidReferenceNumber.toString():"",orderno:`1234${5+t}`}));let a={symbol:v.value.symbol,UPI:b.value,type:v.value.type,category:v.value.category.key,company_name:v.value.name,BID:e};"can"!=v.value.flow&&"mod"!=v.value.flow||(a.applicationNo=v.value.applicationNumber),"can"==v.value.flow&&(a.BID=["NSE"==v.value.type?{activityType:"cancel"}:{actioncode:"d"}],delete a.UPI,delete a.company_name);let l=await Lle(JSON.stringify(a));l&&"order initiated success"==l.msg?k(1,l.msg?l.msg:l):k(2,l.msg?l.msg:l),window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"ipo"})),v.value={},m.value=[],c.value=!1,t.hideLoader()},T=e=>{var t=null,a=null,l=null;m.value[0].bitis&&("cate"==e&&(m.value[0].qty=v.value.lotSize),m.value[0].total=m.value[0].qty*m.value[0].price,t=0,a=!(m.value[0].price>=v.value.minPrice&&m.value[0].price<=v.value.maxPrice),l=m.value[0].qty<v.value.minBidQuantity),m.value[1].bitis&&("cate"==e&&(m.value[1].qty=v.value.lotSize),m.value[1].total=m.value[1].qty*m.value[1].price,t=1,a=a||!(m.value[1].price>=v.value.minPrice&&m.value[1].price<=v.value.maxPrice),l=l||m.value[1].qty<v.value.minBidQuantity),m.value[2].bitis&&("cate"==e&&(m.value[2].qty=v.value.lotSize),m.value[2].total=m.value[2].qty*m.value[2].price,t=2,a=a||!(m.value[2].price>=v.value.minPrice&&m.value[2].price<=v.value.maxPrice),l=l||m.value[2].qty<v.value.minBidQuantity),v.value.ipostotal=m.value[t].total,v.value.iposmax=m.value[t].total>=(v.value.category&&v.value.category.data&&v.value.category.data.maxUpiLimit&&Number(v.value.category.data.maxUpiLimit)>0?v.value.category.data.maxUpiLimit:1==v.value.flow?2e5:5e5),v.value.iposrange=a,v.value.iposminqty=l},N=()=>{},M=e=>{"iposorder"===e&&(p.value=!1),v.value={}};return y(()=>{window.addEventListener("menudialog",S),s.value=sessionStorage.getItem("msession"),o.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid")}),h(()=>{window.removeEventListener("menudialog",S)}),(e,t)=>(z(),R("div",null,[v.value.flow>=0||"mod"==v.value.flow?(z(),q(U_,{key:0,modelValue:p.value,"onUpdate:modelValue":t[10]||(t[10]=e=>p.value=e),persistent:"","onClick:outside":t[11]||(t[11]=e=>c.value?"":M("iposorder")),width:"540"},{default:H(()=>[d(cy,{class:"pb-4 pt-2 overflow-hidden",color:"cardbg",style:{"border-radius":"15px"}},{default:H(()=>[d(jg,{class:"elevation-0 px-1 px-md-2 crd-trn",density:"compact"},{default:H(()=>[t[13]||(t[13]=i("p",{class:"font-weight-bold maintext--text mb-0 pl-4"},"IPO Application",-1)),d(zy),d(im,{disabled:c.value,onClick:t[0]||(t[0]=e=>M("iposorder")),color:"maintext",size:"x-small",variant:"outlined",icon:"",class:"mr-3"},{default:H(()=>[d(wp,{size:"17"},{default:H(()=>[...t[12]||(t[12]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),c.value?(z(),q(Op,{key:0,indeterminate:""})):(z(),R("div",ZE)),d(cy,{class:"elevation-0 rounded-t-lg rounded-b-0 pt-3 mx-1 mx-md-6 px-3",color:"secbg"},{default:H(()=>[i("p",eT,[W(A(v.value.name?v.value.name:"")+" ",1),d(R_,{size:"x-small",variant:"flat",class:"ml-2",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",tT,A(v.value.symbol),1)]),_:1}),v.value.flow>=0?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"ml-2",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",aT,A(0==v.value.flow?"IPO":"SME"),1)]),_:1})):ee("",!0)]),d(Ry,{class:"px-0 py-3"},{default:H(()=>[d(ky,{cols:"4"},{default:H(()=>[i("div",null,[i("div",lT,A(v.value.minBidQuantity?v.value.minBidQuantity:""),1),t[14]||(t[14]=i("div",{class:"fs-12 subtext--text"},"Min. quantity",-1))])]),_:1}),d(ky,{cols:"4"},{default:H(()=>[i("div",null,[i("div",nT,"₹ "+A(v.value.minPrice?v.value.minPrice:"0.00")+" - ₹ "+A(v.value.maxPrice?v.value.maxPrice:"0.00"),1),t[15]||(t[15]=i("div",{class:"fs-12 subtext--text"},"Price range",-1))])]),_:1}),d(ky,{cols:"4"},{default:H(()=>[i("div",null,[i("div",oT,A(v.value.issueSize?(v.value.issueSize/1e7).toFixed(2):"")+" Cr",1),t[16]||(t[16]=i("div",{class:"fs-12 subtext--text"},"IPO Size",-1))])]),_:1})]),_:1})]),_:1}),d(cy,{class:"elevation-0 rounded-b-lg rounded-t-0 py-2 mx-1 mx-md-6 px-4",color:"#FCEFD4"},{default:H(()=>[i("p",sT,[t[17]||(t[17]=W(" IPO window is open till ",-1)),i("b",null,A(v.value.biddingEndDate?v.value.biddingEndDate.slice(0,11):"")+" "+A(v.value.dailyStartTime?v.value.dailyEndTime.slice(0,5):"")+".",1)])]),_:1}),m.value.length>0?(z(),R("div",{key:2,id:"bodytab",class:"px-4 px-md-6 pt-4 pb-2 overflow-y-auto",style:{height:"calc(100vh - 500px) !important"},onScrollPassive:N},[v.value.category&&"modify"!=v.value.category.val?(z(),R("div",iT,[t[18]||(t[18]=i("p",{class:"font-weight-medium fs-14 maintext--text mb-2"},"Category",-1)),d(QE,{"onUpdate:modelValue":[t[1]||(t[1]=e=>T("cate")),t[2]||(t[2]=e=>v.value.category=e)],"return-object":"","item-title":"val",modelValue:v.value.category,items:v.value.categorys,"append-inner-icon":"","bg-color":"secbg",flat:"",class:"small-input mb-4",rounded:"pill",density:"compact","hide-details":"",variant:"solo"},null,8,["modelValue","items"])])):ee("",!0),(z(!0),R(u,null,U(m.value,(e,a)=>(z(),R("div",{key:a},[e.bitis?(z(),R("div",rT,[i("p",uT,[W(A(m.value[a].name)+" ",1),v.value.flow>=0&&(m.value[2].bitis&&m.value[1].bitis&&2==a||!m.value[2].bitis&&m.value[1].bitis&&1==a)?(z(),q(im,{key:0,onClick:e=>m.value[a].bitis=!1,color:"mainred",class:"text-none font-weight-bold",variant:"text",size:"small"},{default:H(()=>[...t[19]||(t[19]=[W("Delete",-1)])]),_:1},8,["onClick"])):ee("",!0)]),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"9"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pr-3"},{default:H(()=>[t[22]||(t[22]=i("p",{class:"font-weight-medium fs-14 maintext--text mb-2"},"No.of Qty",-1)),d(Fk,{disabled:c.value,density:"compact","bg-color":"secbg",flat:"",rounded:"pill",onKeyup:e=>(m.value[a].qty?m.value[a].qty=Number(m.value[a].qty):m.value[a].qty>=v.value.minBidQuantity?m.value[a].qty:v.value.minBidQuantity,(e=>{m.value[e].qty>v.value.minBidQuantity&&setTimeout(()=>{m.value[e].qty=Math.round(m.value[e].qty/v.value.minBidQuantity)*v.value.minBidQuantity},2e3),T()})(a)),variant:"solo",type:"number","hide-spin-buttons":"",min:v.value.minBidQuantity,"hide-details":"",step:v.value.lotSize,max:v.value.maxbidqty,modelValue:m.value[a].qty,"onUpdate:modelValue":e=>m.value[a].qty=e},{"append-inner":H(()=>[d(im,{disabled:c.value,onClick:e=>{m.value[a].qty=Number(m.value[a].qty)+Number(v.value.lotSize),T()},icon:"",class:"elevation-0",style:{width:"28px",height:"28px","min-width":"28px"}},{default:H(()=>[...t[20]||(t[20]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1},8,["disabled","onClick"])]),"prepend-inner":H(()=>[d(im,{disabled:m.value[a].qty<=v.value.lotSize||c.value,onClick:e=>(m.value[a].qty==v.value.lotSize?m.value[a].qty:m.value[a].qty=m.value[a].qty-v.value.lotSize,T()),icon:"",class:"elevation-0",style:{width:"28px",height:"28px","min-width":"28px"}},{default:H(()=>[...t[21]||(t[21]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1},8,["disabled","onClick"])]),_:2},1032,["disabled","onKeyup","min","step","max","modelValue","onUpdate:modelValue"])]),_:2},1024),d(ky,{cols:"6",class:"pl-3"},{default:H(()=>[t[24]||(t[24]=i("p",{class:"font-weight-medium fs-14 maintext--text mb-2"},"Bid Price",-1)),d(Fk,{density:"compact",height:"40px","bg-color":"secbg",flat:"",rounded:"pill",variant:"solo",type:"number","hide-details":"","hide-spin-buttons":"",disabled:m.value[a].cutoff||c.value,onKeyup:e=>(m.value[a].price?m.value[a].price=Number(m.value[a].price):m.value[a].price>=v.value.minPrice?m.value[a].price:v.value.minPrice,T()),min:v.value.minPrice,max:v.value.maxPrice,modelValue:m.value[a].price,"onUpdate:modelValue":e=>m.value[a].price=e},{"prepend-inner":H(()=>[...t[23]||(t[23]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["disabled","onKeyup","min","max","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),d(ky,{cols:"3",class:"mt-auto pt-5"},{default:H(()=>[d(XC,{disabled:c.value,color:"maintext",modelValue:m.value[a].cutoff,"onUpdate:modelValue":e=>m.value[a].cutoff=e,onClick:e=>(m.value[a].cutoff?m.value[a].price=v.value.cutOffPrice:m.value[a].price=v.value.minPrice,T()),class:"mb-2","hide-details":""},{label:H(()=>[...t[25]||(t[25]=[i("p",{class:"font-weight-regular fs-12 subtext--text mb-0"},[W("Cut-off "),i("span",{class:"d-none d-sm-flex"},"price")],-1)])]),_:1},8,["disabled","modelValue","onUpdate:modelValue","onClick"])]),_:2},1024)]),_:2},1024),(0==a?m.value[1].bitis:1==a&&m.value[2].bitis)?(z(),q(my,{key:0,class:"mb-3 mt-4"})):ee("",!0)])):ee("",!0)]))),128)),v.value.flow>=0&&!m.value[2].bitis?(z(),q(im,{key:1,disabled:c.value,onClick:t[3]||(t[3]=e=>(m.value[1].bitis?m.value[2].bitis=!0:m.value[1].bitis=!0,T())),variant:"text",color:"primary",class:"text-none mt-0"},{default:H(()=>[...t[26]||(t[26]=[W("+ Add another bid ",-1)])]),_:1},8,["disabled"])):ee("",!0),v.value.iposmax?(z(),q(cy,{key:2,color:"orange lighten-5",class:"rounded-lg px-4 py-2 elevation-0 mt-3"},{default:H(()=>[i("p",dT,[d(wp,{size:"16",color:"warning"},{default:H(()=>[...t[27]||(t[27]=[W("mdi-information-outline",-1)])]),_:1}),t[28]||(t[28]=W(" Maximum investment upto",-1)),i("span",cT," ₹ "+A(v.value.maxamt),1),t[29]||(t[29]=W(" only ",-1))])]),_:1})):ee("",!0),v.value.iposrange?(z(),q(cy,{key:3,color:"orange lighten-5",class:"rounded-lg px-4 py-2 elevation-0 mt-3"},{default:H(()=>[i("p",pT,[d(wp,{size:"16",color:"warning"},{default:H(()=>[...t[30]||(t[30]=[W("mdi-information-outline",-1)])]),_:1}),t[31]||(t[31]=W(" Your bit price ranges between ",-1)),i("span",mT,"₹ "+A(v.value.minPrice?v.value.minPrice:"0.00")+" - ₹ "+A(v.value.maxPrice?v.value.maxPrice:"0.00"),1)])]),_:1})):ee("",!0),v.value.iposminqty?(z(),q(cy,{key:4,color:"orange lighten-5",class:"rounded-lg px-4 py-2 elevation-0 mt-3"},{default:H(()=>[i("p",vT,[d(wp,{size:"16",color:"warning"},{default:H(()=>[...t[32]||(t[32]=[W("mdi-information-outline",-1)])]),_:1}),t[33]||(t[33]=W(" Your minimum bit quantity ",-1)),i("span",hT,A(v.value.minBidQuantity?v.value.minBidQuantity:"0"),1)])]),_:1})):ee("",!0),d(qI,{class:r(v.value.flow>=0?"":"pt-3"),ref_key:"iposupiformRef",ref:w,modelValue:f.value,"onUpdate:modelValue":t[7]||(t[7]=e=>f.value=e),onSubmit:t[8]||(t[8]=ie(e=>I(),["prevent"])),"lazy-validation":""},{default:H(()=>[i("p",{class:r(["font-weight-medium fs-14 maintext--text mb-2",m.value[2].bitis?"mt-6":"mt-2"])},"UPI ID (Virtual payment address)",2),d(Fk,{disabled:c.value,required:"",height:"40px",density:"compact","bg-color":"secbg",flat:"",rounded:"pill",variant:"solo",modelValue:b.value,"onUpdate:modelValue":t[4]||(t[4]=e=>b.value=e),onKeyup:t[5]||(t[5]=e=>x.value=!1),rules:[e=>!!e||"Upi Id is required",e=>/.+@.+/.test(e)||"Upi Id must be valid"],placeholder:"Add UPI ID","error-messages":_.value},null,8,["disabled","modelValue","rules","error-messages"]),d(XC,{id:"check",disabled:v.value.iposmax||v.value.iposrange||v.value.iposminqty||c.value,required:"",rules:[e=>!!e||"You must agree to invest!"],color:"maintext",modelValue:g.value,"onUpdate:modelValue":t[6]||(t[6]=e=>g.value=e),class:"mt-0","hide-details":""},{label:H(()=>[...t[34]||(t[34]=[i("p",{class:"font-weight-regular fs-12 subtext--text mb-0"},"I hereby undertake that I have read the Red Herring Prospectus and I am eligible bidder as per the applicable provisions of SEBI (Issue of Capital & Disclosure Agreement, 2009) regulations",-1)])]),_:1},8,["disabled","rules","modelValue"])]),_:1},8,["class","modelValue"])],32)):ee("",!0),d(jg,{class:"tool-sty elevation-0 pt-3 mb-2 px-4 px-md-6 crd-trn",density:"compact"},{default:H(()=>[i("span",fT,[t[35]||(t[35]=W(" Total investment : ",-1)),i("span",gT," ₹"+A(v.value.ipostotal?v.value.ipostotal.toFixed(2):""),1)]),d(zy),d(im,{onClick:t[9]||(t[9]=e=>I()),disabled:!f.value||v.value.iposmax||v.value.iposrange||v.value.iposminqty||x.value,type:"submit",loading:c.value,"text-color":"white",class:"blk text-none rounded-pill elevation-0 px-6 ml-4",height:"40px"},{default:H(()=>[...t[36]||(t[36]=[W("Continue ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):ee("",!0)]))}};var bT,xT;async function wT(e,t){try{let n=new Headers;n.append("Content-Type","application/json");var a={method:"POST",redirect:"follow",headers:n,body:t};const o=await fetch(e,a);if(401===o.status){console.error("❌ 401 Unauthorized error detected in makeApiRequest");const e=Rc(),t=Pte(),a=Qa();let n=null;try{const e=await o.text();e&&(n=JSON.parse(e))}catch(l){console.warn("Could not parse 401 error response:",l)}const s=(null==n?void 0:n.emsg)||(null==n?void 0:n.message)||"Session expired",i="string"==typeof s?s.toLowerCase():"";if(i.includes("session expired")&&i.includes("invalid session key")&&e.uid){console.error("❌ Session expired detected with valid uid, logging out:",s);const l={emsg:s||"Session expired : Invalid Session Key"};return t.handleSessionError(l,e,a),n||{stat:"NotOk",emsg:s}}return n&&n.emsg?a.showSnackbar(2,n.emsg):s&&a.showSnackbar(2,s),n||{stat:"NotOk",emsg:s}}return o.json()}catch(Wie){if(401===Wie.status){console.error("❌ 401 Unauthorized error detected in makeApiRequest catch block");const t=Rc(),a=Pte(),l=Qa();let n="Session expired : Invalid Session Key";Wie.message&&"string"==typeof Wie.message?n=Wie.message:Wie.emsg&&(n=Wie.emsg);const o="string"==typeof n?n.toLowerCase():"";if(o.includes("session expired")&&o.includes("invalid session key")&&t.uid){const e={emsg:n};a.handleSessionError(e,t,l)}else l.showSnackbar(2,n)}throw new Error(`zebull symbols request error: ${Wie.status}`)}}el?(bT=nl.clientid,xT=nl.token):(bT=sessionStorage.getItem("userid"),xT=sessionStorage.getItem("msession"));var _T=null,kT=null;function ST(){el?(_T=nl.clientid,kT=nl.token):(_T=sessionStorage.getItem("userid"),kT=sessionStorage.getItem("msession"))}const CT=new Map;window._symbolInfoMap={};const IT=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","65","70","75","80","85","90","95","100","105","110","115","120","125","130","135","140","145","150","155","160","165","170","175","180","185","190","195","200","205","210","215","220","225","230","235","240","245","250","255","260","265","270","275","280","285","290","295","300","305","310","315","320","325","330","335","340","345","350","355","360","365","370","375","380","385","390","395","400","405","410","415","420","425","430","435","440","445","450","455","460","465","470","475","480","485","490","495","500","505","510","515","520","525","530","535","540","545","550","555","560","565","570","575","580","585","590","595","600","605","610","615","620","625","630","635","640","645","650","655","660","665","670","675","680","685","690","695","700","705","710","715","720","725","730","735","740","745","750","755","760","765","770","775","780","785","790","795","800","805","810","815","820","825","830","835","840","845","850","855","860","865","870","875","880","885","890","895","900","905","910","915","920","925","930","935","940","945","950","955","960","965","970","975","980","985","990","995","1000","1005","1010","1015","1020","1025","1030","1035","1040","1045","1050","1055","1060","1065","1070","1075","1080","1085","1090","1095","1100","1105","1110","1115","1120","1125","1130","1135","1140","1145","1150","1155","1160","1165","1170","1175","1180","1185","1190","1195","1200","1D","2D","3D","4D","5D","6D","1W","2W","3W","4W","1M","2M","3M","4M","5M","6M","7M","8M","9M","10M","11M","12M"],ET={supported_resolutions:["1","3","5","10","15","30","45","60","75","120","180","240","1D","1W","1M"],exchanges:[{value:"ALL",name:"All exchange"},{value:"NSE",name:"NSE"},{value:"BSE",name:"BSE"},{value:"MCX",name:"MCX"}],symbols_types:[{name:"All",value:""},{name:"Equity",value:"STOCK"},{name:"F&O",value:"F&O"},{name:"Currency",value:"CURR"},{name:"Commodity",value:"COMM"},{name:"Indices",value:"UNDIND"}],supports_search:!0,supports_group_request:!1,supports_marks:!1,supports_timescale_marks:!0,supports_time:!0},TT={async onReady(e){setTimeout(()=>e(ET))},async searchSymbols(e,t,a,l){const n=await async function(e,t,a){ST();var l="",n=[];switch(e.includes(":")&&(e=e.split(":")[1]),t){case"NSE":switch(a){case"STOCK":l="NSE",n=["NSE"];break;case"F&O":l="NFO",n=["NFO"];break;case"CURR":l="CDS",n=["CDS"];break;case"COMM":l="NCOM",n=["NCOM"];break;case"UNDIND":l="UNDIND",n=["NSE"];break;default:l="",n=["NSE","NFO","CDS","NCOM"]}break;case"BSE":switch(a){case"STOCK":l="BSE",n=["BSE"];break;case"F&O":l="BFO",n=["BFO"];break;case"CURR":l="BCD",n=["BCD"];break;case"COMM":l="BCOM",n=["BCOM"];break;case"UNDIND":l="UNDIND",n=["BSE"];break;default:l="",n=["BSE","BFO","BCD","BCOM"]}break;case"MCX":switch(a){case"STOCK":case"F&O":case"CURR":n=[];break;case"COMM":n=["MCX"];break;case"UNDIND":l="UNDIND",n=["MCX"];break;default:l="",n=["MCX"]}l="MCX";break;case"ALL":switch(a){case"STOCK":n=["NSE","BSE"];break;case"F&O":n=["NFO","BFO"];break;case"CURR":n=["CDS","BCD"];break;case"COMM":n=["NCOM","BCOM","MCX"];break;case"UNDIND":l="UNDIND",n=[];break;default:n=["NSE","NFO","CDS","NCOM","BSE","BFO","BCD","BCOM","MCX"]}l="";break;default:l=""}if("UNDIND"!=a){e.includes("&")&&(e=e.replace("&","%26")),e.includes(" ")&&(e=e.replace(" ","_"));var o=`jData={"uid":"${_T}","stext":"${e}"}&jKey=${kT}`;if(l&&"UNDIND"!=a&&(o=`jData={"uid":"${_T}","stext":"${e}","exch":"${l}"}&jKey=${kT}`),!tl.myntapi)return console.warn("⚠️ mynturl.myntapi not ready for SearchScrip, returning empty results"),[];const t=await wT(tl.myntapi+"SearchScrip",o);return"Not_Ok"==t.stat?[]:t.values.map(e=>{let t="",a="OPTIDX"==e.instname?"Option":"FUTIDX"==e.instname?"Future":"OPTSTK"==e.instname?"Option":"FUTSTK"==e.instname?"Future":"COM"==e.instname?"Commodity":"FUTCUR"==e.instname?"Future":"OPTCUR"==e.instname?"Option":"UNDIND"==e.instname?"Index":"FUTCOM"==e.instname?"Future":"OPTFUT"==e.instname?"Option":"Stock";if("OPTIDX"==e.instname||"OPTSTK"==e.instname||"OPTCUR"==e.instname||"OPTFUT"==e.instname){let a=e.tsym.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(a){let l=e.tsym.split(a[0]);t=`${l[0]}  ${a[0].replace(/(..)(...)(..)/,"$1-$2-$3")}  ${l[1].substring(0,1)}E  ${l[1].substring(1)}  ${e.hasOwnProperty("weekly")?`(week ${e.weekly.substring(1)})`:""}`}}if("FUTIDX"==e.instname||"FUTSTK"==e.instname||"FUTCUR"==e.instname||"FUTCOM"==e.instname){let a=e.tsym.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(a){let l=e.tsym.split(a[0]);t=`${l[0]}  ${a[0].replace(/(..)(...)(..)/,"$1-$2-$3")}  ${l[1].substring(0,1),"FUT"}  ${l[1].substring(1)}`}}return{exchanges:e.exch,symbols_types:a,symbol:e.exch+":"+e.tsym.toUpperCase(),full_name:e.cname,description:t||e.cname,exchange:e.exch,ticker:e.exch+":"+e.tsym.toUpperCase(),type:a}}).filter(e=>n.length>0?n.includes(e.exchanges)&"Commodity"!=e.symbols_types:e)}return[]}(e,t,a);l(n)},async getQuotes(e,t,a){var l={};e.forEach(n=>{this.resolveSymbol(n,function(a){l[n]=a,Object.keys(l).length==e.length&&lP(Object.values(l),void 0,t,Date.now().toString(),0,void 0,"single-quotes")},a)})},async subscribeQuotes(e,t,a,l){var n={};e.forEach(t=>{this.resolveSymbol(t,function(o){n[t]=o,Object.keys(n).length==e.length&&lP(Object.values(n),void 0,a,l,0,void 0,"quotes")},e=>{})})},async unsubscribeQuotes(e){nP(e)},subscribeQuotesChain(e,t,a){var l=e.map(e=>Promise.resolve({name:`${e.exch}:${(e.tsym||"").toUpperCase()}`,exchange:e.exch,token:e.token}));Promise.all(l).then(e=>{lP(e,void 0,t,a,0,void 0,"quotes")})},unsubscribeQuotesChain(e){aP(e)},subscribeQuotesScreener(e,t,a){var l=e.map(e=>Promise.resolve({name:`${e.exch}:${(e.tsym||"").toUpperCase()}`,exchange:e.exch,token:e.token}));Promise.all(l).then(e=>{lP(e,void 0,t,a,0,void 0,"quotes")})},unsubscribeQuotesScreener(e){aP(e)},async resolveSymbol(e,t,a){let l=!1;if(null!=_symbolInfoMap[e])return setTimeout(()=>t(_symbolInfoMap[e])),Promise.resolve(_symbolInfoMap[e]);var n;if(e.includes("$OISYMBOL")&&(e=e.replace("$OISYMBOL",""),l=!0),null==(n=await Hle(`${e.toUpperCase()}`))||n&&0==n.length)return void a("Cannot resolve symbol");l&&(e+="$OISYMBOL");const o={token:n[0],ticker:e,name:e,base_name:"IDX"==n[4]?n[1]:e.split(":")[1],pro_name:e,full_name:e,description:e,tick_size:String(n[2]),type:e.includes("FUT")?"futures":"IDX"==n[4]?"index":e.includes("NSE")?"stock":"undefined",session:"MCX"==e.split(":")[0]?"0900-2330":"CDS"==e.split(":")[0]?"0900-1700":"0915-1530",timezone:"Asia/Kolkata",exchange:e.split(":")[0],minmov:"CDS"==e.split(":")[0]?1e4*n[2]:100*n[2],pricescale:"CDS"==e.split(":")[0]?1e4:100,has_intraday:!0,has_daily:!0,visible_plots_set:"IDX"==n[4]?"ohlc":"ohlcv",has_weekly_and_monthly:!1,lot_size:String(n[3]),isTradable:"IDX"!=n[4],qty:{step:String("MCX"==e.split(":")[0]?1:n[3]),default:String("MCX"==e.split(":")[0]?1:n[3])},supported_resolutions:IT,volume_precision:1,data_status:"streaming",intraday_multipliers:["1"],daily_multipliers:["1"],weekly_multipliers:["1"],monthly_multipliers:["1"],supports_timescale_marks:!0,session_holidays:(s=e.split(":")[0],"NSE"==s?"20240122,20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"BSE"==s?"20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"MCX"==s?"20240126,20240329,20240815,20241002,20241225":"NFO"==s?"20240122,20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"CDS"==s?"20240122,20240126,20240219,20240308,20240325,20240329,20240401,20240409,20240411,20240417,20240501,20240523,20240617,20240717,20240815,20240916,20241002,20241115,20241225":"NCOM"==s?"20240122,20240126,20240329,20240815,20241002,20241225":"BCD"==s?"20240126,20240219,20240308,20240325,20240329,20240401,20240409,20240411,20240417,20240501,20240523,20240617,20240717,20240815,20240916,20241002,20241115,20241225":"BFO"==s?"20240126,20240308,20240325,20240329,20240411,20240417,20240501,20240617,20240717,20240815,20241002,20241115,20241225":"")};var s;
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
return _symbolInfoMap[e]=o,setTimeout(()=>t(o)),Promise.resolve(_symbolInfoMap[e])},subscribeDepth(e,t){this.resolveSymbol(e,e=>{lP([e],void 0,t,"DOM"+Date.now().toString(),0,void 0,"depth")},e=>{})},unsubscribeDepth(e){nP(e)},async getBars(e,t,a,l,n){ST();let o,s=!1;var i;if(e.name.includes("$OISYMBOL")&&(s=!0),"1D"==t||"1W"==t||"1M"==t){let t;t="index"==e.type?e.exchange+":"+e.base_name:e.name,t=t.includes("$OISYMBOL")?t.replace("$OISYMBOL",""):t,t=t.includes(" ")?t.replace(" ","%20"):t,t=t.includes("&")?t.replace("&","%26"):t,o=JSON.stringify({sym:t,from:a.from,to:a.to});try{if(!((i=await wT("https://go.mynt.in/chartApi/getdata",o))&&i.length>0))return void l([],{noData:!0});i=i.map(e=>{let t=JSON.parse(e);return t.into="0.00"==t.into?t.intc:t.into,t.intl="0.00"==t.intl?t.intc:t.intl,t.inth="0.00"==t.inth?t.intc:t.inth,t})}catch(Wie){return console.error("Fetch failed:",Wie),void l([],{noData:!0})}}else{let n;n=e.base_name.includes("$OISYMBOL")?e.base_name.replace("$OISYMBOL",""):e.base_name,n=n.includes("&")?n.replace("&","%26"):n,o=`jData={"uid":"${_T}","exch":"${e.exchange}","token":"${n}","st":"${a.from-32e4}","et":"${a.to}","intrv":"${t}"}&jKey=${kT}`;const s=el?nl.myntapi:tl.myntapi;if(!s)return console.warn("⚠️ API URL not ready for TPSeries, returning no data"),void l([],{noData:!0});i=await wT(`${s}TPSeries`,o)}try{if("Not_Ok"==i.stat||i==[])return void l([],{noData:!0});let t=i.map(e=>({time:parseFloat(e.ssboe),open:parseFloat(e.into),high:parseFloat(e.inth),low:parseFloat(e.intl),close:parseFloat(e.intc),volume:parseFloat(e.intv),oi:parseFloat(e.oi)}));t=t.sort((e,t)=>parseFloat(e.time)-parseFloat(t.time));var r=[];s?t.forEach(e=>{r=[...r,{time:1e3*e.time,low:e.low,high:e.high,open:e.open,volume:e.volume,close:e.oi,oi:e.oi}]}):t.forEach(e=>{r=[...r,{time:1e3*e.time,low:e.low,high:e.high,open:e.open,volume:e.volume,close:e.close,oi:e.oi}]}),a.firstDataRequest&&CT.set(e.name,{...r[r.length-1]}),l(r,{noData:!1})}catch(Wie){n(Wie)}},subscribeBars(e,t,a,l,n){const o=l+"_"+Math.random().toString(36).substring(2,10);lP([e],t,a,o,0,CT.get(e.name),"bar"),this._subscriberMapping||(this._subscriberMapping=new Map),this._subscriberMapping.set(l,o)},unsubscribeBars(e){nP((this._subscriberMapping?this._subscriberMapping.get(e):e)||e),this._subscriberMapping&&this._subscriberMapping.delete(e)},subscribeTtQuotes(e,t,a,l){null==t&&(t=e);let n=[...new Set(t.concat(e))];var o={};n.forEach(e=>{this.resolveSymbol(null!=e.symbol?e.symbol:e,t=>{o[e]=t,Object.keys(o).length==n.length&&lP(Object.values(o),void 0,a,l,0,void 0,"tt-quotes")},e=>{})})}};var NT,MT;function AT(){return NT.apply(null,arguments)}function OT(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function PT(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function FT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function LT(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(FT(e,t))return!1;return!0}function DT(e){return void 0===e}function VT(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function BT(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function $T(e,t){var a,l=[],n=e.length;for(a=0;a<n;++a)l.push(t(e[a],a));return l}function RT(e,t){for(var a in t)FT(t,a)&&(e[a]=t[a]);return FT(t,"toString")&&(e.toString=t.toString),FT(t,"valueOf")&&(e.valueOf=t.valueOf),e}function zT(e,t,a,l){return ZM(e,t,a,l,!0).utc()}function UT(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function qT(e){var t=null,a=!1,l=e._d&&!isNaN(e._d.getTime());return l&&(t=UT(e),a=MT.call(t.parsedDateParts,function(e){return null!=e}),l=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(l=l&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?l:(e._isValid=l,e._isValid)}function HT(e){var t=zT(NaN);return null!=e?RT(UT(t),e):UT(t).userInvalidated=!0,t}MT=Array.prototype.some?Array.prototype.some:function(e){var t,a=Object(this),l=a.length>>>0;for(t=0;t<l;t++)if(t in a&&e.call(this,a[t],t,a))return!0;return!1};var jT=AT.momentProperties=[],WT=!1;function YT(e,t){var a,l,n,o=jT.length;if(DT(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),DT(t._i)||(e._i=t._i),DT(t._f)||(e._f=t._f),DT(t._l)||(e._l=t._l),DT(t._strict)||(e._strict=t._strict),DT(t._tzm)||(e._tzm=t._tzm),DT(t._isUTC)||(e._isUTC=t._isUTC),DT(t._offset)||(e._offset=t._offset),DT(t._pf)||(e._pf=UT(t)),DT(t._locale)||(e._locale=t._locale),o>0)for(a=0;a<o;a++)DT(n=t[l=jT[a]])||(e[l]=n);return e}function GT(e){YT(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===WT&&(WT=!0,AT.updateOffset(this),WT=!1)}function KT(e){return e instanceof GT||null!=e&&null!=e._isAMomentObject}function XT(e){!1===AT.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function JT(e,t){var a=!0;return RT(function(){if(null!=AT.deprecationHandler&&AT.deprecationHandler(null,e),a){var l,n,o,s=[],i=arguments.length;for(n=0;n<i;n++){if(l="","object"==typeof arguments[n]){for(o in l+="\n["+n+"] ",arguments[0])FT(arguments[0],o)&&(l+=o+": "+arguments[0][o]+", ");l=l.slice(0,-2)}else l=arguments[n];s.push(l)}XT(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),a=!1}return t.apply(this,arguments)},t)}var QT,ZT={};function eN(e,t){null!=AT.deprecationHandler&&AT.deprecationHandler(e,t),ZT[e]||(XT(t),ZT[e]=!0)}function tN(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function aN(e,t){var a,l=RT({},e);for(a in t)FT(t,a)&&(PT(e[a])&&PT(t[a])?(l[a]={},RT(l[a],e[a]),RT(l[a],t[a])):null!=t[a]?l[a]=t[a]:delete l[a]);for(a in e)FT(e,a)&&!FT(t,a)&&PT(e[a])&&(l[a]=RT({},l[a]));return l}function lN(e){null!=e&&this.set(e)}function nN(e,t,a){var l=""+Math.abs(e),n=t-l.length;return(e>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+l}AT.suppressDeprecationWarnings=!1,AT.deprecationHandler=null,QT=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)FT(e,t)&&a.push(t);return a};var oN=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sN=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,iN={},rN={};function uN(e,t,a,l){var n=l;"string"==typeof l&&(n=function(){return this[l]()}),e&&(rN[e]=n),t&&(rN[t[0]]=function(){return nN(n.apply(this,arguments),t[1],t[2])}),a&&(rN[a]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function dN(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function cN(e,t){return e.isValid()?(t=pN(t,e.localeData()),iN[t]=iN[t]||function(e){var t,a,l=e.match(oN);for(t=0,a=l.length;t<a;t++)rN[l[t]]?l[t]=rN[l[t]]:l[t]=dN(l[t]);return function(t){var n,o="";for(n=0;n<a;n++)o+=tN(l[n])?l[n].call(t,e):l[n];return o}}(t),iN[t](e)):e.localeData().invalidDate()}function pN(e,t){var a=5;function l(e){return t.longDateFormat(e)||e}for(sN.lastIndex=0;a>=0&&sN.test(e);)e=e.replace(sN,l),sN.lastIndex=0,a-=1;return e}var mN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function vN(e){return"string"==typeof e?mN[e]||mN[e.toLowerCase()]:void 0}function hN(e){var t,a,l={};for(a in e)FT(e,a)&&(t=vN(a))&&(l[t]=e[a]);return l}var fN,gN={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},yN=/\d/,bN=/\d\d/,xN=/\d{3}/,wN=/\d{4}/,_N=/[+-]?\d{6}/,kN=/\d\d?/,SN=/\d\d\d\d?/,CN=/\d\d\d\d\d\d?/,IN=/\d{1,3}/,EN=/\d{1,4}/,TN=/[+-]?\d{1,6}/,NN=/\d+/,MN=/[+-]?\d+/,AN=/Z|[+-]\d\d:?\d\d/gi,ON=/Z|[+-]\d\d(?::?\d\d)?/gi,PN=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,FN=/^[1-9]\d?/,LN=/^([1-9]\d|\d)/;function DN(e,t,a){fN[e]=tN(t)?t:function(e,l){return e&&a?a:t}}function VN(e,t){return FT(fN,e)?fN[e](t._strict,t._locale):new RegExp(BN(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,l,n){return t||a||l||n})))}function BN(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $N(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function RN(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=$N(t)),a}fN={};var zN={};function UN(e,t){var a,l,n=t;for("string"==typeof e&&(e=[e]),VT(t)&&(n=function(e,a){a[t]=RN(e)}),l=e.length,a=0;a<l;a++)zN[e[a]]=n}function qN(e,t){UN(e,function(e,a,l,n){l._w=l._w||{},t(e,l._w,l,n)})}function HN(e,t,a){null!=t&&FT(zN,e)&&zN[e](t,a._a,a,e)}function jN(e){return e%4==0&&e%100!=0||e%400==0}function WN(e){return jN(e)?366:365}uN("Y",0,0,function(){var e=this.year();return e<=9999?nN(e,4):"+"+e}),uN(0,["YY",2],0,function(){return this.year()%100}),uN(0,["YYYY",4],0,"year"),uN(0,["YYYYY",5],0,"year"),uN(0,["YYYYYY",6,!0],0,"year"),DN("Y",MN),DN("YY",kN,bN),DN("YYYY",EN,wN),DN("YYYYY",TN,_N),DN("YYYYYY",TN,_N),UN(["YYYYY","YYYYYY"],0),UN("YYYY",function(e,t){t[0]=2===e.length?AT.parseTwoDigitYear(e):RN(e)}),UN("YY",function(e,t){t[0]=AT.parseTwoDigitYear(e)}),UN("Y",function(e,t){t[0]=parseInt(e,10)}),AT.parseTwoDigitYear=function(e){return RN(e)+(RN(e)>68?1900:2e3)};var YN,GN=KN("FullYear",!0);function KN(e,t){return function(a){return null!=a?(JN(this,e,a),AT.updateOffset(this,t),this):XN(this,e)}}function XN(e,t){if(!e.isValid())return NaN;var a=e._d,l=e._isUTC;switch(t){case"Milliseconds":return l?a.getUTCMilliseconds():a.getMilliseconds();case"Seconds":return l?a.getUTCSeconds():a.getSeconds();case"Minutes":return l?a.getUTCMinutes():a.getMinutes();case"Hours":return l?a.getUTCHours():a.getHours();case"Date":return l?a.getUTCDate():a.getDate();case"Day":return l?a.getUTCDay():a.getDay();case"Month":return l?a.getUTCMonth():a.getMonth();case"FullYear":return l?a.getUTCFullYear():a.getFullYear();default:return NaN}}function JN(e,t,a){var l,n,o,s,i;if(e.isValid()&&!isNaN(a)){switch(l=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?l.setUTCMilliseconds(a):l.setMilliseconds(a));case"Seconds":return void(n?l.setUTCSeconds(a):l.setSeconds(a));case"Minutes":return void(n?l.setUTCMinutes(a):l.setMinutes(a));case"Hours":return void(n?l.setUTCHours(a):l.setHours(a));case"Date":return void(n?l.setUTCDate(a):l.setDate(a));case"FullYear":break;default:return}o=a,s=e.month(),i=29!==(i=e.date())||1!==s||jN(o)?i:28,n?l.setUTCFullYear(o,s,i):l.setFullYear(o,s,i)}}function QN(e,t){if(isNaN(e)||isNaN(t))return NaN;var a,l=(t%(a=12)+a)%a;return e+=(t-l)/12,1===l?jN(e)?29:28:31-l%7%2}YN=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},uN("M",["MM",2],"Mo",function(){return this.month()+1}),uN("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),uN("MMMM",0,0,function(e){return this.localeData().months(this,e)}),DN("M",kN,FN),DN("MM",kN,bN),DN("MMM",function(e,t){return t.monthsShortRegex(e)}),DN("MMMM",function(e,t){return t.monthsRegex(e)}),UN(["M","MM"],function(e,t){t[1]=RN(e)-1}),UN(["MMM","MMMM"],function(e,t,a,l){var n=a._locale.monthsParse(e,l,a._strict);null!=n?t[1]=n:UT(a).invalidMonth=e});var ZN="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,aM=PN,lM=PN;function nM(e,t,a){var l,n,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],l=0;l<12;++l)o=zT([2e3,l]),this._shortMonthsParse[l]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[l]=this.months(o,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(n=YN.call(this._shortMonthsParse,s))?n:null:-1!==(n=YN.call(this._longMonthsParse,s))?n:null:"MMM"===t?-1!==(n=YN.call(this._shortMonthsParse,s))||-1!==(n=YN.call(this._longMonthsParse,s))?n:null:-1!==(n=YN.call(this._longMonthsParse,s))||-1!==(n=YN.call(this._shortMonthsParse,s))?n:null}function oM(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=RN(t);else if(!VT(t=e.localeData().monthsParse(t)))return e;var a=t,l=e.date();return l=l<29?l:Math.min(l,QN(e.year(),a)),e._isUTC?e._d.setUTCMonth(a,l):e._d.setMonth(a,l),e}function sM(e){return null!=e?(oM(this,e),AT.updateOffset(this,!0),this):XN(this,"Month")}function iM(){function e(e,t){return t.length-e.length}var t,a,l,n,o=[],s=[],i=[];for(t=0;t<12;t++)a=zT([2e3,t]),l=BN(this.monthsShort(a,"")),n=BN(this.months(a,"")),o.push(l),s.push(n),i.push(n),i.push(l);o.sort(e),s.sort(e),i.sort(e),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function rM(e,t,a,l,n,o,s){var i;return e<100&&e>=0?(i=new Date(e+400,t,a,l,n,o,s),isFinite(i.getFullYear())&&i.setFullYear(e)):i=new Date(e,t,a,l,n,o,s),i}function uM(e){var t,a;return e<100&&e>=0?((a=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function dM(e,t,a){var l=7+t-a;return-(7+uM(e,0,l).getUTCDay()-t)%7+l-1}function cM(e,t,a,l,n){var o,s,i=1+7*(t-1)+(7+a-l)%7+dM(e,l,n);return i<=0?s=WN(o=e-1)+i:i>WN(e)?(o=e+1,s=i-WN(e)):(o=e,s=i),{year:o,dayOfYear:s}}function pM(e,t,a){var l,n,o=dM(e.year(),t,a),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?l=s+mM(n=e.year()-1,t,a):s>mM(e.year(),t,a)?(l=s-mM(e.year(),t,a),n=e.year()+1):(n=e.year(),l=s),{week:l,year:n}}function mM(e,t,a){var l=dM(e,t,a),n=dM(e+1,t,a);return(WN(e)-l+n)/7}function vM(e,t){return e.slice(t,7).concat(e.slice(0,t))}uN("w",["ww",2],"wo","week"),uN("W",["WW",2],"Wo","isoWeek"),DN("w",kN,FN),DN("ww",kN,bN),DN("W",kN,FN),DN("WW",kN,bN),qN(["w","ww","W","WW"],function(e,t,a,l){t[l.substr(0,1)]=RN(e)}),uN("d",0,"do","day"),uN("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),uN("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),uN("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),uN("e",0,0,"weekday"),uN("E",0,0,"isoWeekday"),DN("d",kN),DN("e",kN),DN("E",kN),DN("dd",function(e,t){return t.weekdaysMinRegex(e)}),DN("ddd",function(e,t){return t.weekdaysShortRegex(e)}),DN("dddd",function(e,t){return t.weekdaysRegex(e)}),qN(["dd","ddd","dddd"],function(e,t,a,l){var n=a._locale.weekdaysParse(e,l,a._strict);null!=n?t.d=n:UT(a).invalidWeekday=e}),qN(["d","e","E"],function(e,t,a,l){t[l]=RN(e)});var hM="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gM="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yM=PN,bM=PN,xM=PN;function wM(e,t,a){var l,n,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],l=0;l<7;++l)o=zT([2e3,1]).day(l),this._minWeekdaysParse[l]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[l]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[l]=this.weekdays(o,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(n=YN.call(this._weekdaysParse,s))?n:null:"ddd"===t?-1!==(n=YN.call(this._shortWeekdaysParse,s))?n:null:-1!==(n=YN.call(this._minWeekdaysParse,s))?n:null:"dddd"===t?-1!==(n=YN.call(this._weekdaysParse,s))||-1!==(n=YN.call(this._shortWeekdaysParse,s))||-1!==(n=YN.call(this._minWeekdaysParse,s))?n:null:"ddd"===t?-1!==(n=YN.call(this._shortWeekdaysParse,s))||-1!==(n=YN.call(this._weekdaysParse,s))||-1!==(n=YN.call(this._minWeekdaysParse,s))?n:null:-1!==(n=YN.call(this._minWeekdaysParse,s))||-1!==(n=YN.call(this._weekdaysParse,s))||-1!==(n=YN.call(this._shortWeekdaysParse,s))?n:null}function _M(){function e(e,t){return t.length-e.length}var t,a,l,n,o,s=[],i=[],r=[],u=[];for(t=0;t<7;t++)a=zT([2e3,1]).day(t),l=BN(this.weekdaysMin(a,"")),n=BN(this.weekdaysShort(a,"")),o=BN(this.weekdays(a,"")),s.push(l),i.push(n),r.push(o),u.push(l),u.push(n),u.push(o);s.sort(e),i.sort(e),r.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function kM(){return this.hours()%12||12}function SM(e,t){uN(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function CM(e,t){return t._meridiemParse}uN("H",["HH",2],0,"hour"),uN("h",["hh",2],0,kM),uN("k",["kk",2],0,function(){return this.hours()||24}),uN("hmm",0,0,function(){return""+kM.apply(this)+nN(this.minutes(),2)}),uN("hmmss",0,0,function(){return""+kM.apply(this)+nN(this.minutes(),2)+nN(this.seconds(),2)}),uN("Hmm",0,0,function(){return""+this.hours()+nN(this.minutes(),2)}),uN("Hmmss",0,0,function(){return""+this.hours()+nN(this.minutes(),2)+nN(this.seconds(),2)}),SM("a",!0),SM("A",!1),DN("a",CM),DN("A",CM),DN("H",kN,LN),DN("h",kN,FN),DN("k",kN,FN),DN("HH",kN,bN),DN("hh",kN,bN),DN("kk",kN,bN),DN("hmm",SN),DN("hmmss",CN),DN("Hmm",SN),DN("Hmmss",CN),UN(["H","HH"],3),UN(["k","kk"],function(e,t,a){var l=RN(e);t[3]=24===l?0:l}),UN(["a","A"],function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e}),UN(["h","hh"],function(e,t,a){t[3]=RN(e),UT(a).bigHour=!0}),UN("hmm",function(e,t,a){var l=e.length-2;t[3]=RN(e.substr(0,l)),t[4]=RN(e.substr(l)),UT(a).bigHour=!0}),UN("hmmss",function(e,t,a){var l=e.length-4,n=e.length-2;t[3]=RN(e.substr(0,l)),t[4]=RN(e.substr(l,2)),t[5]=RN(e.substr(n)),UT(a).bigHour=!0}),UN("Hmm",function(e,t,a){var l=e.length-2;t[3]=RN(e.substr(0,l)),t[4]=RN(e.substr(l))}),UN("Hmmss",function(e,t,a){var l=e.length-4,n=e.length-2;t[3]=RN(e.substr(0,l)),t[4]=RN(e.substr(l,2)),t[5]=RN(e.substr(n))});var IM,EM=KN("Hours",!0),TM={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ZN,monthsShort:eM,week:{dow:0,doy:6},weekdays:hM,weekdaysMin:gM,weekdaysShort:fM,meridiemParse:/[ap]\.?m?\.?/i},NM={},MM={};function AM(e,t){var a,l=Math.min(e.length,t.length);for(a=0;a<l;a+=1)if(e[a]!==t[a])return a;return l}function OM(e){return e?e.toLowerCase().replace("_","-"):e}function PM(e){var t=null;if(void 0===NM[e]&&void 0!==Ga&&Ga&&Ga.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=IM._abbr,require("./locale/"+e),FM(t)}catch(SJ){NM[e]=null}return NM[e]}function FM(e,t){var a;return e&&((a=DT(t)?DM(e):LM(e,t))?IM=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),IM._abbr}function LM(e,t){if(null!==t){var a,l=TM;if(t.abbr=e,null!=NM[e])eN("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),l=NM[e]._config;else if(null!=t.parentLocale)if(null!=NM[t.parentLocale])l=NM[t.parentLocale]._config;else{if(null==(a=PM(t.parentLocale)))return MM[t.parentLocale]||(MM[t.parentLocale]=[]),MM[t.parentLocale].push({name:e,config:t}),null;l=a._config}return NM[e]=new lN(aN(l,t)),MM[e]&&MM[e].forEach(function(e){LM(e.name,e.config)}),FM(e),NM[e]}return delete NM[e],null}function DM(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return IM;if(!OT(e)){if(t=PM(e))return t;e=[e]}return function(e){for(var t,a,l,n,o=0;o<e.length;){for(t=(n=OM(e[o]).split("-")).length,a=(a=OM(e[o+1]))?a.split("-"):null;t>0;){if(l=PM(n.slice(0,t).join("-")))return l;if(a&&a.length>=t&&AM(n,a)>=t-1)break;t--}o++}return IM}(e)}function VM(e){var t,a=e._a;return a&&-2===UT(e).overflow&&(t=a[1]<0||a[1]>11?1:a[2]<1||a[2]>QN(a[0],a[1])?2:a[3]<0||a[3]>24||24===a[3]&&(0!==a[4]||0!==a[5]||0!==a[6])?3:a[4]<0||a[4]>59?4:a[5]<0||a[5]>59?5:a[6]<0||a[6]>999?6:-1,UT(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),UT(e)._overflowWeeks&&-1===t&&(t=7),UT(e)._overflowWeekday&&-1===t&&(t=8),UT(e).overflow=t),e}var BM=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$M=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,RM=/Z|[+-]\d\d(?::?\d\d)?/,zM=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],UM=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qM=/^\/?Date\((-?\d+)/i,HM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jM={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function WM(e){var t,a,l,n,o,s,i=e._i,r=BM.exec(i)||$M.exec(i),u=zM.length,d=UM.length;if(r){for(UT(e).iso=!0,t=0,a=u;t<a;t++)if(zM[t][1].exec(r[1])){n=zM[t][0],l=!1!==zM[t][2];break}if(null==n)return void(e._isValid=!1);if(r[3]){for(t=0,a=d;t<a;t++)if(UM[t][1].exec(r[3])){o=(r[2]||" ")+UM[t][0];break}if(null==o)return void(e._isValid=!1)}if(!l&&null!=o)return void(e._isValid=!1);if(r[4]){if(!RM.exec(r[4]))return void(e._isValid=!1);s="Z"}e._f=n+(o||"")+(s||""),JM(e)}else e._isValid=!1}function YM(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function GM(e){var t,a,l,n,o,s,i,r,u=HM.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(a=u[4],l=u[3],n=u[2],o=u[5],s=u[6],i=u[7],r=[YM(a),eM.indexOf(l),parseInt(n,10),parseInt(o,10),parseInt(s,10)],i&&r.push(parseInt(i,10)),t=r,!function(e,t,a){return!e||fM.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(UT(a).weekdayMismatch=!0,a._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,a){if(e)return jM[e];if(t)return 0;var l=parseInt(a,10),n=l%100;return(l-n)/100*60+n}(u[8],u[9],u[10]),e._d=uM.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),UT(e).rfc2822=!0}else e._isValid=!1}function KM(e,t,a){return null!=e?e:null!=t?t:a}function XM(e){var t,a,l,n,o,s=[];if(!e._d){for(l=function(e){var t=new Date(AT.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,a,l,n,o,s,i,r,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,a=KM(t.GG,e._a[0],pM(eA(),1,4).year),l=KM(t.W,1),((n=KM(t.E,1))<1||n>7)&&(r=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,u=pM(eA(),o,s),a=KM(t.gg,e._a[0],u.year),l=KM(t.w,u.week),null!=t.d?((n=t.d)<0||n>6)&&(r=!0):null!=t.e?(n=t.e+o,(t.e<0||t.e>6)&&(r=!0)):n=o),l<1||l>mM(a,o,s)?UT(e)._overflowWeeks=!0:null!=r?UT(e)._overflowWeekday=!0:(i=cM(a,l,n,o,s),e._a[0]=i.year,e._dayOfYear=i.dayOfYear)}(e),null!=e._dayOfYear&&(o=KM(e._a[0],l[0]),(e._dayOfYear>WN(o)||0===e._dayOfYear)&&(UT(e)._overflowDayOfYear=!0),a=uM(o,0,e._dayOfYear),e._a[1]=a.getUTCMonth(),e._a[2]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=l[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?uM:rM).apply(null,s),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(UT(e).weekdayMismatch=!0)}}function JM(e){if(e._f!==AT.ISO_8601)if(e._f!==AT.RFC_2822){e._a=[],UT(e).empty=!0;var t,a,l,n,o,s,i,r=""+e._i,u=r.length,d=0;for(i=(l=pN(e._f,e._locale).match(oN)||[]).length,t=0;t<i;t++)n=l[t],(a=(r.match(VN(n,e))||[])[0])&&((o=r.substr(0,r.indexOf(a))).length>0&&UT(e).unusedInput.push(o),r=r.slice(r.indexOf(a)+a.length),d+=a.length),rN[n]?(a?UT(e).empty=!1:UT(e).unusedTokens.push(n),HN(n,a,e)):e._strict&&!a&&UT(e).unusedTokens.push(n);UT(e).charsLeftOver=u-d,r.length>0&&UT(e).unusedInput.push(r),e._a[3]<=12&&!0===UT(e).bigHour&&e._a[3]>0&&(UT(e).bigHour=void 0),UT(e).parsedDateParts=e._a.slice(0),UT(e).meridiem=e._meridiem,e._a[3]=(c=e._locale,p=e._a[3],null==(m=e._meridiem)?p:null!=c.meridiemHour?c.meridiemHour(p,m):null!=c.isPM?((v=c.isPM(m))&&p<12&&(p+=12),v||12!==p||(p=0),p):p),null!==(s=UT(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),XM(e),VM(e)}else GM(e);else WM(e);var c,p,m,v}function QM(e){var t=e._i,a=e._f;return e._locale=e._locale||DM(e._l),null===t||void 0===a&&""===t?HT({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),KT(t)?new GT(VM(t)):(BT(t)?e._d=t:OT(a)?function(e){var t,a,l,n,o,s,i=!1,r=e._f.length;if(0===r)return UT(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<r;n++)o=0,s=!1,t=YT({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],JM(t),qT(t)&&(s=!0),o+=UT(t).charsLeftOver,o+=10*UT(t).unusedTokens.length,UT(t).score=o,i?o<l&&(l=o,a=t):(null==l||o<l||s)&&(l=o,a=t,s&&(i=!0));RT(e,a||t)}(e):a?JM(e):function(e){var t=e._i;DT(t)?e._d=new Date(AT.now()):BT(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=qM.exec(e._i);null===t?(WM(e),!1===e._isValid&&(delete e._isValid,GM(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:AT.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):OT(t)?(e._a=$T(t.slice(0),function(e){return parseInt(e,10)}),XM(e)):PT(t)?function(e){if(!e._d){var t=hN(e._i),a=void 0===t.day?t.date:t.day;e._a=$T([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),XM(e)}}(e):VT(t)?e._d=new Date(t):AT.createFromInputFallback(e)}(e),qT(e)||(e._d=null),e))}function ZM(e,t,a,l,n){var o,s={};return!0!==t&&!1!==t||(l=t,t=void 0),!0!==a&&!1!==a||(l=a,a=void 0),(PT(e)&&LT(e)||OT(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=a,s._i=e,s._f=t,s._strict=l,(o=new GT(VM(QM(s))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function eA(e,t,a,l){return ZM(e,t,a,l,!1)}AT.createFromInputFallback=JT("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),AT.ISO_8601=function(){},AT.RFC_2822=function(){};var tA=JT("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=eA.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:HT()}),aA=JT("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=eA.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:HT()});function lA(e,t){var a,l;if(1===t.length&&OT(t[0])&&(t=t[0]),!t.length)return eA();for(a=t[0],l=1;l<t.length;++l)t[l].isValid()&&!t[l][e](a)||(a=t[l]);return a}var nA=["year","quarter","month","week","day","hour","minute","second","millisecond"];function oA(e){var t=hN(e),a=t.year||0,l=t.quarter||0,n=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,i=t.hour||0,r=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,a,l=!1,n=nA.length;for(t in e)if(FT(e,t)&&(-1===YN.call(nA,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<n;++a)if(e[nA[a]]){if(l)return!1;parseFloat(e[nA[a]])!==RN(e[nA[a]])&&(l=!0)}return!0}(t),this._milliseconds=+d+1e3*u+6e4*r+1e3*i*60*60,this._days=+s+7*o,this._months=+n+3*l+12*a,this._data={},this._locale=DM(),this._bubble()}function sA(e){return e instanceof oA}function iA(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function rA(e,t){uN(e,0,0,function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+nN(~~(e/60),2)+t+nN(~~e%60,2)})}rA("Z",":"),rA("ZZ",""),DN("Z",ON),DN("ZZ",ON),UN(["Z","ZZ"],function(e,t,a){a._useUTC=!0,a._tzm=dA(ON,e)});var uA=/([\+\-]|\d\d)/gi;function dA(e,t){var a,l,n=(t||"").match(e);return null===n?null:0===(l=60*(a=((n[n.length-1]||[])+"").match(uA)||["-",0,0])[1]+RN(a[2]))?0:"+"===a[0]?l:-l}function cA(e,t){var a,l;return t._isUTC?(a=t.clone(),l=(KT(e)||BT(e)?e.valueOf():eA(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+l),AT.updateOffset(a,!1),a):eA(e).local()}function pA(e){return-Math.round(e._d.getTimezoneOffset())}function mA(){return!!this.isValid()&&this._isUTC&&0===this._offset}AT.updateOffset=function(){};var vA=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,hA=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fA(e,t){var a,l,n,o,s,i,r=e,u=null;return sA(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:VT(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(u=vA.exec(e))?(a="-"===u[1]?-1:1,r={y:0,d:RN(u[2])*a,h:RN(u[3])*a,m:RN(u[4])*a,s:RN(u[5])*a,ms:RN(iA(1e3*u[6]))*a}):(u=hA.exec(e))?(a="-"===u[1]?-1:1,r={y:gA(u[2],a),M:gA(u[3],a),w:gA(u[4],a),d:gA(u[5],a),h:gA(u[6],a),m:gA(u[7],a),s:gA(u[8],a)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=eA(r.from),s=eA(r.to),n=o.isValid()&&s.isValid()?(s=cA(s,o),o.isBefore(s)?i=yA(o,s):((i=yA(s,o)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0},(r={}).ms=n.milliseconds,r.M=n.months),l=new oA(r),sA(e)&&FT(e,"_locale")&&(l._locale=e._locale),sA(e)&&FT(e,"_isValid")&&(l._isValid=e._isValid),l}function gA(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function yA(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function bA(e,t){return function(a,l){var n;return null===l||isNaN(+l)||(eN(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=a,a=l,l=n),xA(this,fA(a,l),e),this}}function xA(e,t,a,l){var n=t._milliseconds,o=iA(t._days),s=iA(t._months);e.isValid()&&(l=null==l||l,s&&oM(e,XN(e,"Month")+s*a),o&&JN(e,"Date",XN(e,"Date")+o*a),n&&e._d.setTime(e._d.valueOf()+n*a),l&&AT.updateOffset(e,o||s))}fA.fn=oA.prototype,fA.invalid=function(){return fA(NaN)};var wA=bA(1,"add"),_A=bA(-1,"subtract");function kA(e){return"string"==typeof e||e instanceof String}function SA(e){return KT(e)||BT(e)||kA(e)||VT(e)||function(e){var t=OT(e),a=!1;return t&&(a=0===e.filter(function(t){return!VT(t)&&kA(e)}).length),t&&a}(e)||function(e){var t,a,l=PT(e)&&!LT(e),n=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=o.length;for(t=0;t<s;t+=1)a=o[t],n=n||FT(e,a);return l&&n}(e)||null==e}function CA(e,t){if(e.date()<t.date())return-CA(t,e);var a=12*(t.year()-e.year())+(t.month()-e.month()),l=e.clone().add(a,"months");return-(a+(t-l<0?(t-l)/(l-e.clone().add(a-1,"months")):(t-l)/(e.clone().add(a+1,"months")-l)))||0}function IA(e){var t;return void 0===e?this._locale._abbr:(null!=(t=DM(e))&&(this._locale=t),this)}AT.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",AT.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var EA=JT("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function TA(){return this._locale}var NA=1e3,MA=6e4,AA=36e5,OA=126227808e5;function PA(e,t){return(e%t+t)%t}function FA(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-OA:new Date(e,t,a).valueOf()}function LA(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-OA:Date.UTC(e,t,a)}function DA(e,t){return t.erasAbbrRegex(e)}function VA(){var e,t,a,l,n,o=[],s=[],i=[],r=[],u=this.eras();for(e=0,t=u.length;e<t;++e)a=BN(u[e].name),l=BN(u[e].abbr),n=BN(u[e].narrow),s.push(a),o.push(l),i.push(n),r.push(a),r.push(l),r.push(n);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function BA(e,t){uN(0,[e,e.length],0,t)}function $A(e,t,a,l,n){var o;return null==e?pM(this,l,n).year:(t>(o=mM(e,l,n))&&(t=o),RA.call(this,e,t,a,l,n))}function RA(e,t,a,l,n){var o=cM(e,t,a,l,n),s=uM(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}uN("N",0,0,"eraAbbr"),uN("NN",0,0,"eraAbbr"),uN("NNN",0,0,"eraAbbr"),uN("NNNN",0,0,"eraName"),uN("NNNNN",0,0,"eraNarrow"),uN("y",["y",1],"yo","eraYear"),uN("y",["yy",2],0,"eraYear"),uN("y",["yyy",3],0,"eraYear"),uN("y",["yyyy",4],0,"eraYear"),DN("N",DA),DN("NN",DA),DN("NNN",DA),DN("NNNN",function(e,t){return t.erasNameRegex(e)}),DN("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),UN(["N","NN","NNN","NNNN","NNNNN"],function(e,t,a,l){var n=a._locale.erasParse(e,l,a._strict);n?UT(a).era=n:UT(a).invalidEra=e}),DN("y",NN),DN("yy",NN),DN("yyy",NN),DN("yyyy",NN),DN("yo",function(e,t){return t._eraYearOrdinalRegex||NN}),UN(["y","yy","yyy","yyyy"],0),UN(["yo"],function(e,t,a,l){var n;a._locale._eraYearOrdinalRegex&&(n=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[0]=a._locale.eraYearOrdinalParse(e,n):t[0]=parseInt(e,10)}),uN(0,["gg",2],0,function(){return this.weekYear()%100}),uN(0,["GG",2],0,function(){return this.isoWeekYear()%100}),BA("gggg","weekYear"),BA("ggggg","weekYear"),BA("GGGG","isoWeekYear"),BA("GGGGG","isoWeekYear"),DN("G",MN),DN("g",MN),DN("GG",kN,bN),DN("gg",kN,bN),DN("GGGG",EN,wN),DN("gggg",EN,wN),DN("GGGGG",TN,_N),DN("ggggg",TN,_N),qN(["gggg","ggggg","GGGG","GGGGG"],function(e,t,a,l){t[l.substr(0,2)]=RN(e)}),qN(["gg","GG"],function(e,t,a,l){t[l]=AT.parseTwoDigitYear(e)}),uN("Q",0,"Qo","quarter"),DN("Q",yN),UN("Q",function(e,t){t[1]=3*(RN(e)-1)}),uN("D",["DD",2],"Do","date"),DN("D",kN,FN),DN("DD",kN,bN),DN("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),UN(["D","DD"],2),UN("Do",function(e,t){t[2]=RN(e.match(kN)[0])});var zA=KN("Date",!0);uN("DDD",["DDDD",3],"DDDo","dayOfYear"),DN("DDD",IN),DN("DDDD",xN),UN(["DDD","DDDD"],function(e,t,a){a._dayOfYear=RN(e)}),uN("m",["mm",2],0,"minute"),DN("m",kN,LN),DN("mm",kN,bN),UN(["m","mm"],4);var UA=KN("Minutes",!1);uN("s",["ss",2],0,"second"),DN("s",kN,LN),DN("ss",kN,bN),UN(["s","ss"],5);var qA,HA,jA=KN("Seconds",!1);for(uN("S",0,0,function(){return~~(this.millisecond()/100)}),uN(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),uN(0,["SSS",3],0,"millisecond"),uN(0,["SSSS",4],0,function(){return 10*this.millisecond()}),uN(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),uN(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),uN(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),uN(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),uN(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),DN("S",IN,yN),DN("SS",IN,bN),DN("SSS",IN,xN),qA="SSSS";qA.length<=9;qA+="S")DN(qA,NN);function WA(e,t){t[6]=RN(1e3*("0."+e))}for(qA="S";qA.length<=9;qA+="S")UN(qA,WA);HA=KN("Milliseconds",!1),uN("z",0,0,"zoneAbbr"),uN("zz",0,0,"zoneName");var YA=GT.prototype;function GA(e){return e}YA.add=wA,YA.calendar=function(e,t){1===arguments.length&&(arguments[0]?SA(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,a=PT(e)&&!LT(e),l=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<n.length;t+=1)l=l||FT(e,n[t]);return a&&l}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var a=e||eA(),l=cA(a,this).startOf("day"),n=AT.calendarFormat(this,l)||"sameElse",o=t&&(tN(t[n])?t[n].call(this,a):t[n]);return this.format(o||this.localeData().calendar(n,this,eA(a)))},YA.clone=function(){return new GT(this)},YA.diff=function(e,t,a){var l,n,o;if(!this.isValid())return NaN;if(!(l=cA(e,this)).isValid())return NaN;switch(n=6e4*(l.utcOffset()-this.utcOffset()),t=vN(t)){case"year":o=CA(this,l)/12;break;case"month":o=CA(this,l);break;case"quarter":o=CA(this,l)/3;break;case"second":o=(this-l)/1e3;break;case"minute":o=(this-l)/6e4;break;case"hour":o=(this-l)/36e5;break;case"day":o=(this-l-n)/864e5;break;case"week":o=(this-l-n)/6048e5;break;default:o=this-l}return a?o:$N(o)},YA.endOf=function(e){var t,a;if(void 0===(e=vN(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?LA:FA,e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=AA-PA(t+(this._isUTC?0:this.utcOffset()*MA),AA)-1;break;case"minute":t=this._d.valueOf(),t+=MA-PA(t,MA)-1;break;case"second":t=this._d.valueOf(),t+=NA-PA(t,NA)-1}return this._d.setTime(t),AT.updateOffset(this,!0),this},YA.format=function(e){e||(e=this.isUtc()?AT.defaultFormatUtc:AT.defaultFormat);var t=cN(this,e);return this.localeData().postformat(t)},YA.from=function(e,t){return this.isValid()&&(KT(e)&&e.isValid()||eA(e).isValid())?fA({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},YA.fromNow=function(e){return this.from(eA(),e)},YA.to=function(e,t){return this.isValid()&&(KT(e)&&e.isValid()||eA(e).isValid())?fA({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},YA.toNow=function(e){return this.to(eA(),e)},YA.get=function(e){return tN(this[e=vN(e)])?this[e]():this},YA.invalidAt=function(){return UT(this).overflow},YA.isAfter=function(e,t){var a=KT(e)?e:eA(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=vN(t)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf())},YA.isBefore=function(e,t){var a=KT(e)?e:eA(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=vN(t)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf())},YA.isBetween=function(e,t,a,l){var n=KT(e)?e:eA(e),o=KT(t)?t:eA(t);return!!(this.isValid()&&n.isValid()&&o.isValid())&&("("===(l=l||"()")[0]?this.isAfter(n,a):!this.isBefore(n,a))&&(")"===l[1]?this.isBefore(o,a):!this.isAfter(o,a))},YA.isSame=function(e,t){var a,l=KT(e)?e:eA(e);return!(!this.isValid()||!l.isValid())&&("millisecond"===(t=vN(t)||"millisecond")?this.valueOf()===l.valueOf():(a=l.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf()))},YA.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},YA.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},YA.isValid=function(){return qT(this)},YA.lang=EA,YA.locale=IA,YA.localeData=TA,YA.max=aA,YA.min=tA,YA.parsingFlags=function(){return RT({},UT(this))},YA.set=function(e,t){if("object"==typeof e){var a,l=function(e){var t,a=[];for(t in e)FT(e,t)&&a.push({unit:t,priority:gN[t]});return a.sort(function(e,t){return e.priority-t.priority}),a}(e=hN(e)),n=l.length;for(a=0;a<n;a++)this[l[a].unit](e[l[a].unit])}else if(tN(this[e=vN(e)]))return this[e](t);return this},YA.startOf=function(e){var t,a;if(void 0===(e=vN(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?LA:FA,e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=PA(t+(this._isUTC?0:this.utcOffset()*MA),AA);break;case"minute":t=this._d.valueOf(),t-=PA(t,MA);break;case"second":t=this._d.valueOf(),t-=PA(t,NA)}return this._d.setTime(t),AT.updateOffset(this,!0),this},YA.subtract=_A,YA.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},YA.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},YA.toDate=function(){return new Date(this.valueOf())},YA.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?cN(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):tN(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",cN(a,"Z")):cN(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},YA.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,a,l="moment",n="";return this.isLocal()||(l=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+l+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=n+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+a)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(YA[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),YA.toJSON=function(){return this.isValid()?this.toISOString():null},YA.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},YA.unix=function(){return Math.floor(this.valueOf()/1e3)},YA.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},YA.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},YA.eraName=function(){var e,t,a,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until)return l[e].name;if(l[e].until<=a&&a<=l[e].since)return l[e].name}return""},YA.eraNarrow=function(){var e,t,a,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until)return l[e].narrow;if(l[e].until<=a&&a<=l[e].since)return l[e].narrow}return""},YA.eraAbbr=function(){var e,t,a,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until)return l[e].abbr;if(l[e].until<=a&&a<=l[e].since)return l[e].abbr}return""},YA.eraYear=function(){var e,t,a,l,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(a=n[e].since<=n[e].until?1:-1,l=this.clone().startOf("day").valueOf(),n[e].since<=l&&l<=n[e].until||n[e].until<=l&&l<=n[e].since)return(this.year()-AT(n[e].since).year())*a+n[e].offset;return this.year()},YA.year=GN,YA.isLeapYear=function(){return jN(this.year())},YA.weekYear=function(e){return $A.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},YA.isoWeekYear=function(e){return $A.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},YA.quarter=YA.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},YA.month=sM,YA.daysInMonth=function(){return QN(this.year(),this.month())},YA.week=YA.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},YA.isoWeek=YA.isoWeeks=function(e){var t=pM(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},YA.weeksInYear=function(){var e=this.localeData()._week;return mM(this.year(),e.dow,e.doy)},YA.weeksInWeekYear=function(){var e=this.localeData()._week;return mM(this.weekYear(),e.dow,e.doy)},YA.isoWeeksInYear=function(){return mM(this.year(),1,4)},YA.isoWeeksInISOWeekYear=function(){return mM(this.isoWeekYear(),1,4)},YA.date=zA,YA.day=YA.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=XN(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},YA.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},YA.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},YA.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},YA.hour=YA.hours=EM,YA.minute=YA.minutes=UA,YA.second=YA.seconds=jA,YA.millisecond=YA.milliseconds=HA,YA.utcOffset=function(e,t,a){var l,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=dA(ON,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(l=pA(this)),this._offset=e,this._isUTC=!0,null!=l&&this.add(l,"m"),n!==e&&(!t||this._changeInProgress?xA(this,fA(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,AT.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:pA(this)},YA.utc=function(e){return this.utcOffset(0,e)},YA.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pA(this),"m")),this},YA.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=dA(AN,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},YA.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?eA(e).utcOffset():0,(this.utcOffset()-e)%60==0)},YA.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},YA.isLocal=function(){return!!this.isValid()&&!this._isUTC},YA.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},YA.isUtc=mA,YA.isUTC=mA,YA.zoneAbbr=function(){return this._isUTC?"UTC":""},YA.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},YA.dates=JT("dates accessor is deprecated. Use date instead.",zA),YA.months=JT("months accessor is deprecated. Use month instead",sM),YA.years=JT("years accessor is deprecated. Use year instead",GN),YA.zone=JT("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),YA.isDSTShifted=JT("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!DT(this._isDSTShifted))return this._isDSTShifted;var e,t={};return YT(t,this),(t=QM(t))._a?(e=t._isUTC?zT(t._a):eA(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var a,l=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),o=0;for(a=0;a<l;a++)RN(e[a])!==RN(t[a])&&o++;return o+n}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var KA=lN.prototype;function XA(e,t,a,l){var n=DM(),o=zT().set(l,t);return n[a](o,e)}function JA(e,t,a){if(VT(e)&&(t=e,e=void 0),e=e||"",null!=t)return XA(e,t,a,"month");var l,n=[];for(l=0;l<12;l++)n[l]=XA(e,l,a,"month");return n}function QA(e,t,a,l){"boolean"==typeof e?(VT(t)&&(a=t,t=void 0),t=t||""):(a=t=e,e=!1,VT(t)&&(a=t,t=void 0),t=t||"");var n,o=DM(),s=e?o._week.dow:0,i=[];if(null!=a)return XA(t,(a+s)%7,l,"day");for(n=0;n<7;n++)i[n]=XA(t,(n+s)%7,l,"day");return i}KA.calendar=function(e,t,a){var l=this._calendar[e]||this._calendar.sameElse;return tN(l)?l.call(t,a):l},KA.longDateFormat=function(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(oN).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},KA.invalidDate=function(){return this._invalidDate},KA.ordinal=function(e){return this._ordinal.replace("%d",e)},KA.preparse=GA,KA.postformat=GA,KA.relativeTime=function(e,t,a,l){var n=this._relativeTime[a];return tN(n)?n(e,t,a,l):n.replace(/%d/i,e)},KA.pastFuture=function(e,t){var a=this._relativeTime[e>0?"future":"past"];return tN(a)?a(t):a.replace(/%s/i,t)},KA.set=function(e){var t,a;for(a in e)FT(e,a)&&(tN(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},KA.eras=function(e,t){var a,l,n,o=this._eras||DM("en")._eras;for(a=0,l=o.length;a<l;++a)switch("string"==typeof o[a].since&&(n=AT(o[a].since).startOf("day"),o[a].since=n.valueOf()),typeof o[a].until){case"undefined":o[a].until=1/0;break;case"string":n=AT(o[a].until).startOf("day").valueOf(),o[a].until=n.valueOf()}return o},KA.erasParse=function(e,t,a){var l,n,o,s,i,r=this.eras();for(e=e.toUpperCase(),l=0,n=r.length;l<n;++l)if(o=r[l].name.toUpperCase(),s=r[l].abbr.toUpperCase(),i=r[l].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(s===e)return r[l];break;case"NNNN":if(o===e)return r[l];break;case"NNNNN":if(i===e)return r[l]}else if([o,s,i].indexOf(e)>=0)return r[l]},KA.erasConvertYear=function(e,t){var a=e.since<=e.until?1:-1;return void 0===t?AT(e.since).year():AT(e.since).year()+(t-e.offset)*a},KA.erasAbbrRegex=function(e){return FT(this,"_erasAbbrRegex")||VA.call(this),e?this._erasAbbrRegex:this._erasRegex},KA.erasNameRegex=function(e){return FT(this,"_erasNameRegex")||VA.call(this),e?this._erasNameRegex:this._erasRegex},KA.erasNarrowRegex=function(e){return FT(this,"_erasNarrowRegex")||VA.call(this),e?this._erasNarrowRegex:this._erasRegex},KA.months=function(e,t){return e?OT(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tM).test(t)?"format":"standalone"][e.month()]:OT(this._months)?this._months:this._months.standalone},KA.monthsShort=function(e,t){return e?OT(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tM.test(t)?"format":"standalone"][e.month()]:OT(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},KA.monthsParse=function(e,t,a){var l,n,o;if(this._monthsParseExact)return nM.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;l<12;l++){if(n=zT([2e3,l]),a&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),a||this._monthsParse[l]||(o="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[l]=new RegExp(o.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[l].test(e))return l;if(a&&"MMM"===t&&this._shortMonthsParse[l].test(e))return l;if(!a&&this._monthsParse[l].test(e))return l}},KA.monthsRegex=function(e){return this._monthsParseExact?(FT(this,"_monthsRegex")||iM.call(this),e?this._monthsStrictRegex:this._monthsRegex):(FT(this,"_monthsRegex")||(this._monthsRegex=lM),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},KA.monthsShortRegex=function(e){return this._monthsParseExact?(FT(this,"_monthsRegex")||iM.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(FT(this,"_monthsShortRegex")||(this._monthsShortRegex=aM),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},KA.week=function(e){return pM(e,this._week.dow,this._week.doy).week},KA.firstDayOfYear=function(){return this._week.doy},KA.firstDayOfWeek=function(){return this._week.dow},KA.weekdays=function(e,t){var a=OT(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?vM(a,this._week.dow):e?a[e.day()]:a},KA.weekdaysMin=function(e){return!0===e?vM(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},KA.weekdaysShort=function(e){return!0===e?vM(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},KA.weekdaysParse=function(e,t,a){var l,n,o;if(this._weekdaysParseExact)return wM.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),l=0;l<7;l++){if(n=zT([2e3,1]).day(l),a&&!this._fullWeekdaysParse[l]&&(this._fullWeekdaysParse[l]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[l]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[l]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[l]||(o="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[l]=new RegExp(o.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[l].test(e))return l;if(a&&"ddd"===t&&this._shortWeekdaysParse[l].test(e))return l;if(a&&"dd"===t&&this._minWeekdaysParse[l].test(e))return l;if(!a&&this._weekdaysParse[l].test(e))return l}},KA.weekdaysRegex=function(e){return this._weekdaysParseExact?(FT(this,"_weekdaysRegex")||_M.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(FT(this,"_weekdaysRegex")||(this._weekdaysRegex=yM),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},KA.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(FT(this,"_weekdaysRegex")||_M.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(FT(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bM),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},KA.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(FT(this,"_weekdaysRegex")||_M.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(FT(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xM),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},KA.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},KA.meridiem=function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},FM("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===RN(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),AT.lang=JT("moment.lang is deprecated. Use moment.locale instead.",FM),AT.langData=JT("moment.langData is deprecated. Use moment.localeData instead.",DM);var ZA=Math.abs;function eO(e,t,a,l){var n=fA(t,a);return e._milliseconds+=l*n._milliseconds,e._days+=l*n._days,e._months+=l*n._months,e._bubble()}function tO(e){return e<0?Math.floor(e):Math.ceil(e)}function aO(e){return 4800*e/146097}function lO(e){return 146097*e/4800}function nO(e){return function(){return this.as(e)}}var oO=nO("ms"),sO=nO("s"),iO=nO("m"),rO=nO("h"),uO=nO("d"),dO=nO("w"),cO=nO("M"),pO=nO("Q"),mO=nO("y"),vO=oO;function hO(e){return function(){return this.isValid()?this._data[e]:NaN}}var fO=hO("milliseconds"),gO=hO("seconds"),yO=hO("minutes"),bO=hO("hours"),xO=hO("days"),wO=hO("months"),_O=hO("years"),kO=Math.round,SO={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function CO(e,t,a,l,n){return n.relativeTime(t||1,!!a,e,l)}var IO=Math.abs;function EO(e){return(e>0)-(e<0)||+e}function TO(){if(!this.isValid())return this.localeData().invalidDate();var e,t,a,l,n,o,s,i,r=IO(this._milliseconds)/1e3,u=IO(this._days),d=IO(this._months),c=this.asSeconds();return c?(e=$N(r/60),t=$N(e/60),r%=60,e%=60,a=$N(d/12),d%=12,l=r?r.toFixed(3).replace(/\.?0+$/,""):"",n=c<0?"-":"",o=EO(this._months)!==EO(c)?"-":"",s=EO(this._days)!==EO(c)?"-":"",i=EO(this._milliseconds)!==EO(c)?"-":"",n+"P"+(a?o+a+"Y":"")+(d?o+d+"M":"")+(u?s+u+"D":"")+(t||e||r?"T":"")+(t?i+t+"H":"")+(e?i+e+"M":"")+(r?i+l+"S":"")):"P0D"}var NO=oA.prototype;NO.isValid=function(){return this._isValid},NO.abs=function(){var e=this._data;return this._milliseconds=ZA(this._milliseconds),this._days=ZA(this._days),this._months=ZA(this._months),e.milliseconds=ZA(e.milliseconds),e.seconds=ZA(e.seconds),e.minutes=ZA(e.minutes),e.hours=ZA(e.hours),e.months=ZA(e.months),e.years=ZA(e.years),this},NO.add=function(e,t){return eO(this,e,t,1)},NO.subtract=function(e,t){return eO(this,e,t,-1)},NO.as=function(e){if(!this.isValid())return NaN;var t,a,l=this._milliseconds;if("month"===(e=vN(e))||"quarter"===e||"year"===e)switch(t=this._days+l/864e5,a=this._months+aO(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(lO(this._months)),e){case"week":return t/7+l/6048e5;case"day":return t+l/864e5;case"hour":return 24*t+l/36e5;case"minute":return 1440*t+l/6e4;case"second":return 86400*t+l/1e3;case"millisecond":return Math.floor(864e5*t)+l;default:throw new Error("Unknown unit "+e)}},NO.asMilliseconds=oO,NO.asSeconds=sO,NO.asMinutes=iO,NO.asHours=rO,NO.asDays=uO,NO.asWeeks=dO,NO.asMonths=cO,NO.asQuarters=pO,NO.asYears=mO,NO.valueOf=vO,NO._bubble=function(){var e,t,a,l,n,o=this._milliseconds,s=this._days,i=this._months,r=this._data;return o>=0&&s>=0&&i>=0||o<=0&&s<=0&&i<=0||(o+=864e5*tO(lO(i)+s),s=0,i=0),r.milliseconds=o%1e3,e=$N(o/1e3),r.seconds=e%60,t=$N(e/60),r.minutes=t%60,a=$N(t/60),r.hours=a%24,s+=$N(a/24),i+=n=$N(aO(s)),s-=tO(lO(n)),l=$N(i/12),i%=12,r.days=s,r.months=i,r.years=l,this},NO.clone=function(){return fA(this)},NO.get=function(e){return e=vN(e),this.isValid()?this[e+"s"]():NaN},NO.milliseconds=fO,NO.seconds=gO,NO.minutes=yO,NO.hours=bO,NO.days=xO,NO.weeks=function(){return $N(this.days()/7)},NO.months=wO,NO.years=_O,NO.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var a,l,n=!1,o=SO;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(o=Object.assign({},SO,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),l=function(e,t,a,l){var n=fA(e).abs(),o=kO(n.as("s")),s=kO(n.as("m")),i=kO(n.as("h")),r=kO(n.as("d")),u=kO(n.as("M")),d=kO(n.as("w")),c=kO(n.as("y")),p=o<=a.ss&&["s",o]||o<a.s&&["ss",o]||s<=1&&["m"]||s<a.m&&["mm",s]||i<=1&&["h"]||i<a.h&&["hh",i]||r<=1&&["d"]||r<a.d&&["dd",r];return null!=a.w&&(p=p||d<=1&&["w"]||d<a.w&&["ww",d]),(p=p||u<=1&&["M"]||u<a.M&&["MM",u]||c<=1&&["y"]||["yy",c])[2]=t,p[3]=+e>0,p[4]=l,CO.apply(null,p)}(this,!n,o,a=this.localeData()),n&&(l=a.pastFuture(+this,l)),a.postformat(l)},NO.toISOString=TO,NO.toString=TO,NO.toJSON=TO,NO.locale=IA,NO.localeData=TA,NO.toIsoString=JT("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",TO),NO.lang=EA,uN("X",0,0,"unix"),uN("x",0,0,"valueOf"),DN("x",MN),DN("X",/[+-]?\d+(\.\d{1,3})?/),UN("X",function(e,t,a){a._d=new Date(1e3*parseFloat(e))}),UN("x",function(e,t,a){a._d=new Date(RN(e))}),
//! moment.js
AT.version="2.30.1",function(e){NT=e}(eA),AT.fn=YA,AT.min=function(){return lA("isBefore",[].slice.call(arguments,0))},AT.max=function(){return lA("isAfter",[].slice.call(arguments,0))},AT.now=function(){return Date.now?Date.now():+new Date},AT.utc=zT,AT.unix=function(e){return eA(1e3*e)},AT.months=function(e,t){return JA(e,t,"months")},AT.isDate=BT,AT.locale=FM,AT.invalid=HT,AT.duration=fA,AT.isMoment=KT,AT.weekdays=function(e,t,a){return QA(e,t,a,"weekdays")},AT.parseZone=function(){return eA.apply(null,arguments).parseZone()},AT.localeData=DM,AT.isDuration=sA,AT.monthsShort=function(e,t){return JA(e,t,"monthsShort")},AT.weekdaysMin=function(e,t,a){return QA(e,t,a,"weekdaysMin")},AT.defineLocale=LM,AT.updateLocale=function(e,t){if(null!=t){var a,l,n=TM;null!=NM[e]&&null!=NM[e].parentLocale?NM[e].set(aN(NM[e]._config,t)):(null!=(l=PM(e))&&(n=l._config),t=aN(n,t),null==l&&(t.abbr=e),(a=new lN(t)).parentLocale=NM[e],NM[e]=a),FM(e)}else null!=NM[e]&&(null!=NM[e].parentLocale?(NM[e]=NM[e].parentLocale,e===FM()&&FM(e)):null!=NM[e]&&delete NM[e]);return NM[e]},AT.locales=function(){return QT(NM)},AT.weekdaysShort=function(e,t,a){return QA(e,t,a,"weekdaysShort")},AT.normalizeUnits=vN,AT.relativeTimeRounding=function(e){return void 0===e?kO:"function"==typeof e&&(kO=e,!0)},AT.relativeTimeThreshold=function(e,t){return void 0!==SO[e]&&(void 0===t?SO[e]:(SO[e]=t,"s"===e&&(SO.ss=t-1),!0))},AT.calendarFormat=function(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"},AT.prototype=YA,AT.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};let MO=null,AO=null;function OO(){return MO||(MO=Qa()),MO}function PO(){return AO||(AO=Pte()),AO}var FO=!1;const LO=new Map,DO=new Map,VO=new Map;let BO=sessionStorage.getItem("c3RhdHVz");var $O=new Map,RO=null,zO=0;function UO(){var e;if(el)return`${nl.clientid}_${nl.source}`;try{const t=(null==(e=PO().mynturl)?void 0:e.source)||tl.source;return`${bT}_${t||"WEB"}`}catch(SJ){return`${bT}_WEB`}}var qO=el?nl.clientid:bT,HO=el?nl.token:xT,jO=el,WO={t:"h"};let YO=null;var GO={};function KO(e){var t;const a=null==(t=PO().mynturl)?void 0:t.stat;BO=sessionStorage.getItem("c3RhdHVz"),el?(qO=nl.clientid,HO=nl.token):(qO=sessionStorage.getItem("userid"),HO=sessionStorage.getItem("msession")),"dmFsaWR1c2Vy"==BO&&qO&&1==a?JO(e):(console.log("⚠️ WebSocket conditions not met:",{sessionStatus:BO,userId:!!qO,mynturlStat:a}),window.wsRetryCount||(window.wsRetryCount=0),window.wsRetryCount<50?(window.wsRetryCount++,setTimeout(function(){KO(e)},100)):(console.error("❌ WebSocket connection failed after maximum retries"),window.wsRetryCount=0),sessionStorage.removeItem("wsstat"))}function XO(e){return KO(e)}function JO(e){var t;const a=PO(),l=el?nl.wss:null==(t=a.mynturl)?void 0:t.wss;l?((RO=new WebSocket(l)).onopen=function(){QO(UO(),qO)},RO.onmessage=function(t){var a=JSON.parse(t.data);const l=OO();if(a.t&&"ck"==a.t&&"OK"==a.s)if(FO=!0,window.wsRetryCount=0,console.log("✅ WebSocket connection established successfully"),el){var n=new URL(window.location.href).searchParams;GO={exch:n.get("exch"),token:n.get("token"),tsym:n.get("symbol")},TT.subscribeQuotesChain([GO],void 0,void 0)}else sessionStorage.setItem("wsstat","Ok"),"attempt"==e&&l.addWSOrderAlert("attempt");else a.t&&"ck"==a.t&&"NOT_OK"==a.s&&(el||(sessionStorage.removeItem("wsstat"),l.showSnackbar(2,"Session Expired :  Invalid Session Key")));if(a.t&&function(e){const t=OO();try{if("am"==e.t&&e.dmsg){var a=e.dmsg.includes("href=")?e.dmsg.replace("href=","target=_blank href="):e.dmsg,l={title:"Alert",body:a,callback:!!a.includes("Session is inactive")};t.showAlert(l)}else if("om"==e.t)"PENDING"!=e.status&&t.addWSOrderAlert(e),YO&&clearTimeout(YO),YO=setTimeout(()=>{"PENDING"!=e.status&&window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"orders"})),"COMPLETE"==e.status&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"port-order"}))},1440),YO=null},360);else if("dk"===e.t){var n,o={snapshot:!0,asks:[{price:parseFloat(e.sp1)?parseFloat(e.sp1):0,volume:parseInt(e.sq1)?parseInt(e.sq1):0},{price:parseFloat(e.sp2)?parseFloat(e.sp2):0,volume:parseInt(e.sq2)?parseInt(e.sq2):0},{price:parseFloat(e.sp3)?parseFloat(e.sp3):0,volume:parseInt(e.sq3)?parseInt(e.sq3):0},{price:parseFloat(e.sp4)?parseFloat(e.sp4):0,volume:parseInt(e.sq4)?parseInt(e.sq4):0},{price:parseFloat(e.sp5)?parseFloat(e.sp5):0,volume:parseInt(e.sq5)?parseInt(e.sq5):0}],bids:[{price:parseFloat(e.bp1)?parseFloat(e.bp1):0,volume:parseInt(e.bq1)?parseInt(e.bq1):0},{price:parseFloat(e.bp2)?parseFloat(e.bp2):0,volume:parseInt(e.bq2)?parseInt(e.bq2):0},{price:parseFloat(e.bp3)?parseFloat(e.bp3):0,volume:parseInt(e.bq3)?parseInt(e.bq3):0},{price:parseFloat(e.bp4)?parseFloat(e.bp4):0,volume:parseInt(e.bq4)?parseInt(e.bq4):0},{price:parseFloat(e.bp5)?parseFloat(e.bp5):0,volume:parseInt(e.bq5)?parseInt(e.bq5):0}]};let t={ch:parseFloat(e.lp)?parseFloat(e.lp)-parseFloat(e.c):0,chp:parseFloat(e.pc)?parseFloat(e.pc):0,lp:e.lp?parseFloat(e.lp):0,open_price:e.o?parseFloat(e.o):0,high_price:e.h?parseFloat(e.h):0,low_price:e.l?parseFloat(e.l):0,prev_close_price:e.c?parseFloat(e.c):0,volume:0,firstVolume:e.v?parseInt(e.v):0,socketVolume:e.v?parseInt(e.v):0,token:e.tk,exchange:e.e,market_segment_id:e.e,description:e.ts,short_name:e.ts,ap:parseInt(e.ap)?parseInt(e.ap):0,ltt:e.ltt?e.ltt:0,ltq:parseInt(e.ltq)?parseInt(e.ltq):0,lc:parseInt(e.lc)?parseInt(e.lc):0,uc:parseInt(e.uc)?parseInt(e.uc):0,w52h:parseInt(e["52h"])?parseInt(e["52h"]):0,w52l:parseInt(e["52l"])?parseInt(e["52l"]):0,oi:e.oi?e.oi:0,toi:e.toi?e.toi:0,poi:e.poi?e.poi:0,ask:parseFloat(e.sp1)?parseFloat(e.sp1):parseFloat(e.lp),ask_qty:parseInt(e.sq1)?parseInt(e.sq1):0,bid:parseFloat(e.bp1)?parseFloat(e.bp1):parseFloat(e.lp),bid_qty:parseInt(e.bq1)?parseInt(e.bq1):0,tbq:parseInt(e.tbq)?parseInt(e.tbq):0,tsq:parseInt(e.tsq)?parseInt(e.tsq):0,depth:o};n=1e3*Number(e.ft),$O.get(`${e.e}|${e.tk}#`)||$O.set(`${e.e}|${e.tk}#`,t)}else"df"===e.t&&(n=1e3*Number(e.ft),"lp"in e&&"tk"in e&&($O.get(`${e.e}|${e.tk}#`).lp=e.lp),"ap"in e&&($O.get(`${e.e}|${e.tk}#`).ap=parseFloat(e.ap)),"ltt"in e&&($O.get(`${e.e}|${e.tk}#`).ltt=e.ltt),"ltq"in e&&($O.get(`${e.e}|${e.tk}#`).ltq=parseFloat(e.ltq)),"lc"in e&&($O.get(`${e.e}|${e.tk}#`).lc=parseFloat(e.lc)),"uc"in e&&($O.get(`${e.e}|${e.tk}#`).uc=parseFloat(e.uc)),"52h"in e&&($O.get(`${e.e}|${e.tk}#`).w52h=parseFloat(e["52h"])),"52l"in e&&($O.get(`${e.e}|${e.tk}#`).w52l=parseFloat(e["52l"])),"o"in e&&($O.get(`${e.e}|${e.tk}#`).open_price=parseFloat(e.o)),"h"in e&&($O.get(`${e.e}|${e.tk}#`).high_price=parseFloat(e.h)),"l"in e&&($O.get(`${e.e}|${e.tk}#`).low_price=parseFloat(e.l)),"c"in e&&($O.get(`${e.e}|${e.tk}#`).prev_close_price=parseFloat(e.c)),"v"in e&&($O.get(`${e.e}|${e.tk}#`).volume+=parseInt(e.v)-Number($O.get(`${e.e}|${e.tk}#`).firstVolume),$O.get(`${e.e}|${e.tk}#`).socketVolume=parseInt(e.v),$O.get(`${e.e}|${e.tk}#`).firstVolume=parseInt(e.v)),"pc"in e&&($O.get(`${e.e}|${e.tk}#`).chp=parseFloat(e.pc)),"oi"in e&&($O.get(`${e.e}|${e.tk}#`).oi=parseFloat(e.oi)),"toi"in e&&($O.get(`${e.e}|${e.tk}#`).toi=parseFloat(e.toi)),"poi"in e&&($O.get(`${e.e}|${e.tk}#`).poi=parseFloat(e.poi)),$O.get(`${e.e}|${e.tk}#`).ch=$O.get(`${e.e}|${e.tk}#`).lp-$O.get(`${e.e}|${e.tk}#`).prev_close_price,"sp1"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[0].price=parseFloat(e.sp1),$O.get(`${e.e}|${e.tk}#`).ask=parseFloat(e.sp1)),"sq1"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[0].volume=parseInt(e.sq1),$O.get(`${e.e}|${e.tk}#`).ask_qty=parseInt(e.sq1),$O.get(`${e.e}|${e.tk}#`).tsq=parseInt(e.tsq)),"tsq"in e&&($O.get(`${e.e}|${e.tk}#`).tsq=parseInt(e.tsq)),"sp2"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[1].price=parseFloat(e.sp2)),"sq2"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[1].volume=parseInt(e.sq2)),"sp3"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[2].price=parseFloat(e.sp3)),"sq3"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[2].volume=parseInt(e.sq3)),"sp4"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[3].price=parseFloat(e.sp4)),"sq4"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[3].volume=parseInt(e.sq4)),"sp5"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[4].price=parseFloat(e.sp5)),"sq5"in e&&($O.get(`${e.e}|${e.tk}#`).depth.asks[4].volume=parseInt(e.sq5)),"bp1"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[0].price=parseFloat(e.bp1),$O.get(`${e.e}|${e.tk}#`).bid=parseFloat(e.bp1)),"bq1"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[0].volume=parseInt(e.bq1),$O.get(`${e.e}|${e.tk}#`).bid_qty=parseInt(e.bq1),$O.get(`${e.e}|${e.tk}#`).tbq=parseInt(e.tbq)),"tbq"in e&&($O.get(`${e.e}|${e.tk}#`).tbq=parseInt(e.tbq)),"bp2"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[1].price=parseFloat(e.bp2)),"bq2"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[1].volume=parseInt(e.bq2)),"bp3"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[2].price=parseFloat(e.bp3)),"bq3"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[2].volume=parseInt(e.bq3)),"bp4"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[3].price=parseFloat(e.bp4)),"bq4"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[3].volume=parseInt(e.bq4)),"bp5"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[4].price=parseFloat(e.bp5)),"bq5"in e&&($O.get(`${e.e}|${e.tk}#`).depth.bids[4].volume=parseInt(e.bq5)));let s=`${e.e}|${e.tk}#`,i=LO.get(s);if(void 0===i)return;if(void 0===i.handlers)return;const r=[...i.handlers],u=$O.get(`${e.e}|${e.tk}#`);if(u&&!l){const e=new CustomEvent("websocket-quote-update",{detail:u});window.dispatchEvent(e)}r.forEach(function(t){if("quotes"==t.type){let e={s:"ok",n:t.symbol,v:u};if(!l)try{t.handler.callback([e])}catch(o){console.info(o)}}else if("tt-quotes"==t.type){let a={s:"success",n:t.symbol,v:$O.get(`${e.e}|${e.tk}#`)};try{t.handler.callback(a)}catch(o){console.info(o)}}else if("bar"==t.type){const l=t.lastDailyBar,o=t.resolution;let s,r;"1"==o||1==o?s=rP(null!=l?l.time:null):"1D"==o?(n=Date.now(),s=sP(null!=l?l.time:null)):"1M"==o?(n=AT(n).startOf("month").toDate().getTime()+198e5,s=iP(null!=l?l.time:null)):"15"==o&&(a=null!=l?l.time:null,s=AT(new Date(a)).add(15,"m").toDate().getTime()),n>=s?"1D"==o?r={time:s,open:Number($O.get(`${e.e}|${e.tk}#`).open_price),high:Number($O.get(`${e.e}|${e.tk}#`).high_price),low:Number($O.get(`${e.e}|${e.tk}#`).low_price),close:Number($O.get(`${e.e}|${e.tk}#`).lp),volume:Number($O.get(`${e.e}|${e.tk}#`).volume)}:($O.get(`${e.e}|${e.tk}#`).volume=0,r={time:s,open:Number($O.get(`${e.e}|${e.tk}#`).lp),high:Number($O.get(`${e.e}|${e.tk}#`).lp),low:Number($O.get(`${e.e}|${e.tk}#`).lp),close:Number($O.get(`${e.e}|${e.tk}#`).lp),volume:0}):r="1D"==o?{...l,high:Number($O.get(`${e.e}|${e.tk}#`).high_price),low:Number($O.get(`${e.e}|${e.tk}#`).low_price),close:Number($O.get(`${e.e}|${e.tk}#`).lp),volume:Number($O.get(`${e.e}|${e.tk}#`).volume)}:{...l,high:Math.max(null!=l?l.high:0,$O.get(`${e.e}|${e.tk}#`).lp),low:Math.min(null!=l?l.low:0,$O.get(`${e.e}|${e.tk}#`).lp),close:0!=Number($O.get(`${e.e}|${e.tk}#`).lp)?Number($O.get(`${e.e}|${e.tk}#`).lp):l.close,volume:Number($O.get(`${e.e}|${e.tk}#`).volume)},t.handler.callback(r);const u=i.handlers.findIndex(e=>e.id===t.id);-1!==u&&(i.handlers[u].lastDailyBar=r)}else if("oisymbol"==t.type){const a=t.lastDailyBar,l=t.resolution;let o,s;"1"==l||1==l?o=rP(null!=a?a.time:null):"1D"==l?(n=AT(n).startOf("day").toDate().getTime()+198e5,o=sP(null!=a?a.time:null)):"1M"==l&&(n=AT(n).startOf("month").toDate().getTime()+198e5,o=iP(null!=a?a.time:null)),s=n>=o?"1D"==l?{time:o,open:$O.get(`${e.e}|${e.tk}#`).open_price,high:$O.get(`${e.e}|${e.tk}#`).high_price,low:$O.get(`${e.e}|${e.tk}#`).low_price,close:$O.get(`${e.e}|${e.tk}#`).oi,volume:$O.get(`${e.e}|${e.tk}#`).volume}:{time:o,open:$O.get(`${e.e}|${e.tk}#`).oi,high:$O.get(`${e.e}|${e.tk}#`).oi,low:$O.get(`${e.e}|${e.tk}#`).oi,close:$O.get(`${e.e}|${e.tk}#`).oi}:"1D"==l?{...a,high:$O.get(`${e.e}|${e.tk}#`).high_price,low:$O.get(`${e.e}|${e.tk}#`).low_price,close:$O.get(`${e.e}|${e.tk}#`).oi,volume:$O.get(`${e.e}|${e.tk}#`).volume}:{...a,high:Math.max(null!=a?a.high:0,$O.get(`${e.e}|${e.tk}#`).oi),low:Math.min(null!=a?a.low:0,$O.get(`${e.e}|${e.tk}#`).oi),close:$O.get(`${e.e}|${e.tk}#`).oi},t.handler.callback(s),t.lastDailyBar=s}else if("single-quotes"==t.type){let a={s:"success",n:t.symbol,v:$O.get(`${e.e}|${e.tk}#`)},l=DO.get(t.id);if(l){let n=!0,o=[];l[`${e.e}|${e.tk}#`].quote=a;for(const[,e]of Object.entries(l))0===Object.keys(e.quote).length?n=!1:o.push({s:"ok",n:e.quote.n,v:{ch:e.quote.v.ch,chp:e.quote.v.chp,short_name:e.quote.n,exchange:e.quote.v.exchange,description:e.quote.n,lp:e.quote.v.lp,ask:e.quote.v.ask||0,bid:e.quote.v.bid||0,open_price:e.quote.v.open_price,high_price:e.quote.v.high_price,low_price:e.quote.v.low_price,prev_close_price:e.quote.v.prev_close_price,volume:e.quote.v.volume,socketVolume:e.quote.v.socketVolume,ap:e.quote.v.ap,ltt:e.quote.v.ltt,ltq:e.quote.v.ltq,lc:e.quote.v.lc,uc:e.quote.v.uc,w52h:e.quote.v.w52h,w52l:e.quote.v.w52l}});n&&(t.handler.callback(o),DO.delete(t.handler.id),nP(t.handler.id))}}else"depth"==t.type&&t.handler.callback($O.get(`${e.e}|${e.tk}#`).depth);var a})}catch(SJ){console.error("Error processing packet:",SJ)}}(a),a.t&&"ck"!==a.t){const e=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(e)}},RO.onclose=function(){let e=sessionStorage.getItem(qO+(new Date).toLocaleDateString());var t=e?JSON.parse(e):[];zO<200?(setTimeout(()=>{el?JO("attempt"):KO("attempt"),zO++},2600),t.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:`Websocket reconnect attempt ${zO} time.`})):(RO.close(),sessionStorage.setItem("wsstat","Not_ok"),event,t.unshift({time:(new Date).toLocaleTimeString("en-US"),msg:"Websocket reconnect attempt failed; it reached the three-shold."})),sessionStorage.setItem(qO+(new Date).toLocaleDateString(),JSON.stringify(t))},RO.onerror=function(e){e.type,RO.onclose()}):console.error("WebSocket URL not found")}async function QO(e,t){var a;const l=PO();var n={};if(jO){let e={uid:`${t}`,src:"MOB",source:nl.source},a=await wT(`${ol.sessapi}generateSocketSession`,JSON.stringify(e));if("session"in a)n={susertoken:a.session,t:"c",actid:`${t}_MOB`,uid:`${t}_MOB`,source:nl.source};else{var o={title:"Alert",body:"Unable to generate Socket Session, Click ok to refresh",callback:e=>{location.reload()}};window.tvWidget&&window.tvWidget.showNoticeDialog(o)}}else n={susertoken:HO,t:"c",actid:t,uid:t,source:(null==(a=l.mynturl)?void 0:a.source)||tl.source},setTimeout(()=>{ZO(JSON.stringify({t:"o",actid:t}))},3e3);ZO(JSON.stringify(n))}async function ZO(e){if(RO&&RO.readyState&&1==RO.readyState)try{RO.send(e)}catch(t){console.error("socket send error : ",t)}else RO&&RO.readyState&&0==RO.readyState?setTimeout(()=>{RO.send(e)},900):RO&&RO.readyState&&3==RO.readyState&&(console.warn("Socket closed. Attempting to reconnect..."),JO("attempt"))}async function eP(e){0==FO&&(UO(),await QO(0,qO)),await ZO(JSON.stringify(e))}async function tP(e){if(FO){var t="";if(""!=(t+=`${e}`)&&t){var a=t.substring(0,t.length-1).split("#"),l="";new Set(a).forEach(e=>{l+=e+"#"});let e={k:l.substring(0,l.length-1),t:"d"};await eP(e)}}}async function aP(e){if(FO){var t="";if(""!=(t+=`${e}`)&&t){var a=t.substring(0,t.length-1).split("#"),l="";new Set(a).forEach(e=>{l+=e+"#"});let e={k:l.substring(0,l.length-1),t:"ud"};await eP(e)}}}function lP(e,t,a,l,n,o,s){"depth"==s&&function(e,t,a){var l=`${e.exchange}|${e.token}#`;oP(e,l,t,a,"depth"),tP(l)}(e[0],a,l),"quotes"==s||"tt-quotes"==s?function(e,t,a,l){e.forEach(function(e){let n=`${e.exchange}|${e.token}#`;oP(e,n,t,a,l),tP(n)})}(e,a,l,s):"bar"==s?function(e,t,a,l,n){e.forEach(function(e){let o="bar",s=`${e.exchange}|${e.token}#`;e.name.includes("$OISYMBOL")&&(o="oisymbol"),oP(e,s,t,a,o,n,l),tP(s)})}(e,a,l,o,t):"single-quotes"==s&&function(e,t,a){e.forEach(function(e){let l=`${e.exchange}|${e.token}#`,n=DO.get(a);n?n[`${e.exchange}|${e.token}#`]={quote:{}}:(DO.set(a,new Object),DO.get(a)[`${e.exchange}|${e.token}#`]={quote:{},symbol:e.name}),oP(e,l,t,a,"single-quotes"),tP(l)})}(e,a,l)}function nP(e){let t=VO.get(e);if(!t)return;let a=LO.get(t);a&&(a.handlers=a.handlers.filter(function(t){return t.id!=e}),0===a.handlers.length&&(aP(t),LO.delete(t))),VO.delete(e)}function oP(e,t,a,l,n,o,s){let i=LO.get(t),r={id:l,callback:a};if(i){var u=i.handlers.findIndex(e=>e.id==l);-1==u?i.handlers.push({handler:r,type:n,resolution:o,lastDailyBar:s,symbol:e.name,id:l}):i.handlers[u]={handler:r,type:n,resolution:o,lastDailyBar:s,symbol:e.name,id:l}}else i={handlers:[{handler:r,type:n,resolution:o,lastDailyBar:s,symbol:e.name,id:l}]},LO.set(t,i);VO.set(l,t),VO.has(l)||console.error("guid fail")}function sP(e){return AT(e).add("1","d").startOf("day").toDate().getTime()+198e5}function iP(e){return AT(e).add("1","M").startOf("month").toDate().getTime()}function rP(e){const t=new Date(e),a=AT();return AT.duration(a.diff(t)).asMinutes()>1?a.startOf("minute").toDate().getTime():AT(t).add("1","m").startOf("minute").toDate().getTime()}el?(JO(),window.setInterval(function(){ZO(JSON.stringify(WO))},5e3)):(window.setInterval(function(){"dmFsaWR1c2Vy"==BO&&qO&&ZO(JSON.stringify(WO))},5e3),window.setInterval(function(){"dmFsaWR1c2Vy"==BO&&qO&&ZO(JSON.stringify({t:"o",actid:qO}))},1e4)),window.changeScript=function(e,t){if(!window.tvWidget)return;window.tvWidget.activeChart().setSymbol(`${e[0].exch}:${e[0].tsym}`);const a=new URL(window.location.href);a.searchParams.set("exch",e[0].exch),a.searchParams.set("token",e[0].token),a.searchParams.set("symbol",e[0].tsym),a.searchParams.set("dark",t),window.tvWidget.changeTheme("true"==t?"dark":"light"),window.history.pushState({},"",a),TT.subscribeQuotesChain(e,void 0,void 0),GO&&GO.exch&&GO.token&&TT.unsubscribeQuotesScreener(`${GO.exch}|${GO.token}#`),GO=e[0]};const uP=Object.freeze(Object.defineProperty({__proto__:null,seyCheckwebsocket:XO,subscribeOnStream:lP,unsubscribeFromStream:nP,websocketSubscription:tP,websocketUnsubscriptionChain:aP},Symbol.toStringTag,{value:"Module"})),dP=new class{constructor(){this.listeners=new Map,this.wsstocksdata={raw:null,rawdata:[],wl:[],pd:[],tok:[]}}on(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}off(e,t){if(this.listeners.has(e)){const a=this.listeners.get(e),l=a.indexOf(t);l>-1&&a.splice(l,1)}}emit(e,...t){this.listeners.has(e)&&this.listeners.get(e).forEach(a=>{try{a(...t)}catch(Wie){console.error(`Error in WebSocket event listener for ${e}:`,Wie)}});const a=new CustomEvent(e,{detail:t});window.dispatchEvent(a)}handleWebSocketRequest(e,t,a,l){var n;if("unsub"===e&&t&&Array.isArray(t)&&t.length>0){const n=t.filter(e=>!(e&&e.token&&e.exch&&this.isActiveInOtherPages(l,e.token,e.exch)));return void(n.length>0&&this.setWebsocket(e,n,a))}if(null!==this.wsstocksdata.raw&&this.wsstocksdata.raw!==l&&"watchlist"!==l&&"unsub"!==e){if((null==(n=this.wsstocksdata.rawdata)?void 0:n.length)>0&&"wl"!==a&&"pd"!==a){const e=this.wsstocksdata.rawdata.filter(e=>!(e&&e.token&&e.exch&&this.isActiveInOtherPages(l,e.token,e.exch)));e.length>0&&this.setWebsocket("unsub",e,"is"),this.wsstocksdata.rawdata=[],this.wsstocksdata.raw=l}}else"watchlist"!==l&&(this.wsstocksdata.raw=l);"sub"===e&&t&&Array.isArray(t)&&t.length>0?(t.forEach(e=>{if(e&&e.token&&e.exch){const t={exch:e.exch,token:e.token,tsym:e.tsym};"wl"!==a&&"pd"!==a||(this.wsstocksdata[a].some(t=>t.token===e.token)||this.wsstocksdata[a].push(t),this.wsstocksdata.tok.some(t=>t.token===e.token)||this.wsstocksdata.tok.push(t)),this.wsstocksdata.rawdata.some(t=>t.token===e.token)||this.wsstocksdata.rawdata.push(t)}}),this.setWebsocket(e,t,a)):"sub"===e&&this.emit("web-scoketConn")}isActiveInOtherPages(e,t,a){return!1}triggerWebSocketConnection(e,t){const a=new CustomEvent("web-scoketConn",{detail:[e,t]});window.dispatchEvent(a)}async setWebsocket(e,t,a){if("Ok"==sessionStorage.getItem("wsstat"))try{const{subscribeOnStream:a,unsubscribeFromStream:l}=await Ja(async()=>{const{subscribeOnStream:e,unsubscribeFromStream:t}=await Promise.resolve().then(()=>uP);return{subscribeOnStream:e,unsubscribeFromStream:t}},void 0);if("sub"==e)a(t.flat(1).map(e=>({exchange:e.exch,token:e.token,name:e.tsym||e.name,tsym:e.tsym})),void 0,this.optionChainDataParse.bind(this),void 0,void 0,void 0,"quotes");else if("unsub"==e){let e="";t.map(t=>e+=`${t.exch}|${t.token}#`);const{websocketUnsubscriptionChain:a}=await Ja(async()=>{const{websocketUnsubscriptionChain:e}=await Promise.resolve().then(()=>uP);return{websocketUnsubscriptionChain:e}},void 0);await a(e)}}catch(Wie){console.error("Error in WebSocket subscription:",Wie)}else setTimeout(()=>{this.setWebsocket(e,t,a)},1e3)}optionChainDataParse(e){var t;let a=null;if(a=Array.isArray(e)?(null==(t=e[0])?void 0:t.v)||e[0]||e:(null==e?void 0:e.v)?e.v:e,a&&this.wsstocksdata&&this.wsstocksdata.tok&&this.wsstocksdata.rawdata){const e=this.wsstocksdata.raw;if(a.token||a.tk,e){const t=new CustomEvent("web-scoketConn",{detail:[a,e]});window.dispatchEvent(t),this.emit("web-scoketConn",a,e)}const t=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(t)}else if(a){const e=new CustomEvent("web-scoketConn",{detail:[a,"watchlist"]});window.dispatchEvent(e)}}};window.addEventListener("web-scoketOn",e=>{const{flow:t,data:a,is:l,page:n}=e.detail;dP.handleWebSocketRequest(t,a,l,n)}),"undefined"!=typeof window&&(window.eventBus=window.eventBus||{},window.eventBus.$emit=function(e,...t){if("web-scoketOn"===e){const e=Array.isArray(t[0])||"object"==typeof t[0]?t[0]:{flow:t[0],data:t[1],is:t[2],page:t[3]};window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:e}))}});const cP=xe({inset:Boolean,...z_({transition:"bottom-sheet-transition"})},"VBottomSheet"),pP=Ee()({name:"VBottomSheet",props:cP(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const l=Fe(e,"modelValue");return Me(()=>{const t=U_.filterProps(e);return d(U_,w(t,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),a)}),{}}}),mP=xe({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Uc(),...Oe(),...Yc(),...At(),...Kc(),...Jc({tag:"footer"}),...Ae()},"VFooter"),vP=Ee()({name:"VFooter",props:mP(),setup(e,t){let{slots:o}=t;const s=a(),{themeClasses:i}=Te(e),{backgroundColorClasses:u,backgroundColorStyles:p}=ep(()=>e.color),{borderClasses:m}=qc(e),{elevationClasses:v}=Gc(e),{roundedClasses:h}=Xc(e),f=k(32),{resizeRef:g}=je(e=>{e.length&&(f.value=e[0].target.clientHeight)}),y=l(()=>"auto"===e.height?f.value:parseInt(e.height,10));return Xe(()=>e.app,()=>{const t=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:n(()=>"bottom"),layoutSize:y,elementSize:l(()=>"auto"===e.height?void 0:y.value),active:n(()=>e.app),absolute:n(()=>e.absolute)});I(()=>{s.value=t.layoutItemStyles.value})}),Me(()=>d(e.tag,{ref:g,class:r(["v-footer",i.value,u.value,m.value,v.value,h.value,e.class]),style:c([p.value,e.app?s.value:{height:$e(e.height)},e.style])},o)),{}}}),hP=["src"],fP={class:"px-0 px-md-0 mb-12 mb-md-0"},gP=["innerHTML"],yP={key:0,class:"",style:{position:"sticky !important",top:"80px",left:"0"}},bP={key:1,class:"pos-stk top-80"},xP={class:"my-auto"},wP=["src","alt"],_P={class:"font-weight-bold fs-32 mb-3"},kP=["src"],SP={class:"title maintext--text font-weight-bold mb-2"},CP={class:"fs-16 font-weight-medium mb-3"},IP=["innerHTML"],EP={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},TP=["stroke"],NP={class:"text-center"},MP={style:{position:"relative",display:"inline-flex","justify-content":"center","align-items":"center"}},AP=["src"],OP={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20",viewBox:"0 0 22 20",fill:"none"},PP=["stroke"],FP=["stroke"],LP=["stroke"],DP={class:"slider-wrapper fs-12 font-weight-medium text-none"},VP={class:"slider"},BP={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$P={opacity:"0.8","clip-path":"url(#clip0_8033_1489)"},RP=["stroke"],zP=["stroke"],UP=["stroke"],qP={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},HP={opacity:"0.8","clip-path":"url(#clip0_8033_1494)"},jP=["stroke"],WP=["stroke"],YP=["stroke"],GP=["stroke"],KP={__name:"LayoutSrc",setup(e){const t=Qa(),n=l(()=>t.wsorderalertdata.slice()),o=Jm(),s=Rc(),c=Pte(),p=Q(),m=Re(),v=l(()=>m.current.value.dark?Vf:Df),h=a("Stocks"),g=a(!1),b=a(!1),w=a(0),_=a(null),k=a(!0),S=a(""),C=a([{txt:"Stocks",path:"/stocks",idx:0},{txt:"Mutual Fund",path:"/mutualfund",idx:1},{txt:"IPOs",path:"/ipo",idx:2},{txt:"Bonds",path:"/bonds",idx:3},{txt:"Collection",path:"/collection",idx:4,type:"Beta"}]),I=a(["Stocks","Mutual Fund","IPOs","Bonds","Collection"]),E=a([e=>!!e||"Your Client ID/Mobile is required",e=>(e||"").indexOf(" ")<0||"No spaces are allowed"]),T=(e,a)=>{t.showSnackbar(e,a)},N=(e,t,a,l,n,s)=>{o.navigateToStockDetails(e,t,a,l,n,s)},M=e=>{0==e?t.hideLoader():t.showLoader()},O=async()=>{if(1==k.value){const e=!isNaN(Number(S.value)),t=JSON.stringify({[e?"mobile":"clientid"]:e?S.value:S.value.toUpperCase(),password:"",device:"WEB"});let a=await oae(t);a&&"Ok"==a.stat&&"user valid"==a.msg?window.location=`https://desk.zebuetrade.com/mynt/?cli=${S.value}&url=${window.location.origin+window.location.pathname}`:window.open("https://oa.mynt.in/?ref=zws"+(e?`&mobile=${S.value}`:""))}},P=e=>{o.triggerLogin(e)},F=()=>{const e=p.path;console.log(e,"-------------------"),e.includes("stocks")?(h.value="Stocks",w.value=0):e.includes("mutualfund")?(h.value="Mutual funds",w.value=1):e.includes("ipo")?(h.value="IPOs",w.value=2):e.includes("bonds")?(h.value="Bonds",w.value=3):e.includes("collection")&&(h.value="Collection",w.value=4),e.includes("orders")?_.value=1:e.includes("funds")?_.value=2:_.value=0},L=async e=>{if(t.showLoader(),s.uid){let i=await sae(s.uid);if(console.log("🔍 Session validation result:",i),i&&"Ok"==i.stat&&i.apitoken&&i.token){console.log("✅ Session valid, proceeding..."),!i.clientid&&s.uid&&(i.clientid=s.uid),c.updateMyntUrl(i),sessionStorage.setItem("c3RhdHVz","dmFsaWR1c2Vy"),dP.on("web-scoketOn",(e,t,a,l)=>{console.log("📡 WebSocket Event Bus received:",{flow:e,data:t,is:a,page:l}),dP.handleWebSocketRequest(e,t,a,l)}),window.addEventListener("web-scoketOn",e=>{const{flow:t,data:a,is:l,page:n}=e.detail;console.log("📡 Custom WebSocket event received:",{flow:t,data:a,is:l,page:n}),dP.handleWebSocketRequest(t,a,l,n)}),await XO();var a=localStorage.getItem(`${s.uid}_wllayout`);if(t.setWatchlistLayout(!(!a||"true"!=a)),i.apitoken&&console.log("✅ Session validated with apitoken:",i.apitoken),e){var l=new URL(window.location.href);window.history.replaceState({},"",l.pathname)}let r=window.location;0!=sessionStorage.getItem("risk")&&r.pathname.includes("stocks")&&(g.value=!0);const{seyCheckwebsocket:u}=await Ja(async()=>{const{seyCheckwebsocket:e}=await Promise.resolve().then(()=>Jle);return{seyCheckwebsocket:e}},void 0);await u();var n=await qle();if(!(n&&n.metadata&&n.metadata.mainpreitems)){var o={};(n=JSON.parse(localStorage.getItem(`${s.uid}_ordpref`)))&&n.mainpreitems?(o=n,localStorage.removeItem(`${s.uid}_ordpref`)):o=t.getOrderPref(),await qle({clientid:s.uid,metadata:o,source:"WEB"},!0)}console.log("✅ Hiding loader..."),t.setMainLoader(!1),t.hideLoader(),console.log("✅ Loader hidden, mainloader value:",t.mainloader),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}else if(s.uid&&s.token&&i&&i.emsg)console.error("❌ Session validation failed:",i.emsg),c.handleSessionError(i,s,t),t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout);else{if(console.log("⚠️ No valid session found"),s.token&&s.uid){sessionStorage.removeItem("c3RhdHVz"),t.resetStorage();let e=window.location;"/bonds"!=e.pathname&&"/stocks"!=e.pathname&&"/mutualfund"!=e.pathname&&"/mutualfund/categories"!=e.pathname&&"/ipo"!=e.pathname&&"/ipo/performance"!=e.pathname&&(t.showSnackbar(2,"Error: Request failed with status code 401"),setTimeout(()=>{P()},2e3))}t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}}else t.setMainLoader(!1),t.hideLoader(),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)};return y(async()=>{var e,a,l,n;console.log("🚀 LayoutSrc onMounted starting...");let o=localStorage.getItem("web.theme");n="default"==o?(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light":"dark"==o||"light"==o?o:"light",localStorage.setItem("web.theme",n),window.Vuetify&&window.vuetifyInstance&&(vuetifyInstance.theme.dark="dark"==n),null==(a=document.getElementById("theme-link"))||a.setAttribute("href",`theme-${n}.css`),t.setMainLoader(!0),window.__loaderTimeout=setTimeout(()=>{console.warn("⚠️ Loader timeout - force hiding loader"),t.setMainLoader(!1),t.hideLoader()},3e4),await c.initializeConfig();const i=new URL(window.location.href);var r=i.searchParams.get("sUserId"),u=i.searchParams.get("sToken");if(console.log("🔍 Checking for shared session parameters:",{suser:r,stoken:u}),"string"==typeof r&&"string"==typeof u){console.log("📡 Found shared session, calling redirect API...");let e=await lae([r,u,i.pathname]);if(console.log("📡 Redirect API response:",e),e&&"Ok"==e.stat&&e.apitoken&&e.token){const t=`${i.origin}${i.pathname}?uid=${e.clientid}&sess=${e.apitoken}&token=${e.token}&imei=${e.timei}&src=${e.source}`;return console.log("✅ Redirecting to:",t),void window.location.assign(t)}console.error("❌ Redirect API failed:",e.emsg),t.showSnackbar(2,e.emsg?e.emsg:e)}else console.log("✅ No shared session parameters found");var d=i.searchParams.get("uid"),p=i.searchParams.get("token"),m=i.searchParams.get("sess");if("string"==typeof d&&"string"==typeof p){console.log("📥 Fresh login detected, setting up session..."),localStorage.removeItem("profile_data"),sessionStorage.setItem("usession",p),sessionStorage.setItem("userid",d),m&&sessionStorage.setItem("msession",m);const e=i.searchParams.get("imei");e&&sessionStorage.setItem("imei",e),(async()=>{try{const e=await fetch("https://api.ipify.org?format=json"),t=await e.json();localStorage.setItem("uuidipadd",t.ip)}catch(Wie){console.error(Wie)}})(),s.mtoken=sessionStorage.getItem("msession"),s.token=sessionStorage.getItem("usession"),s.uid=sessionStorage.getItem("userid"),await L(d)}else{s.loadFromSession();const e=s.uid,a=s.token,n=sessionStorage.getItem("c3RhdHVz");if(e&&a&&"dmFsaWR1c2Vy"===n){console.log("✅ Valid session found, loading data without validation...");const a=c.loadMyntUrl(e);if(console.log("📦 mynturl loaded from sessionStorage:",a?"Yes":"No"),!a)return console.log("⚠️ mynturl not in sessionStorage, calling getUserSession to fetch it..."),void(await L(e));await c.initializeConfig();var v=e+(new Date).toLocaleDateString();let n=sessionStorage.getItem(v);if(n)try{n=JSON.parse(n),t.snackalerts=n&&n.length>0?n:[]}catch(SJ){console.error("Error parsing alerts:",SJ),t.snackalerts=[]}var h=localStorage.getItem(`${e}_wllayout`);null!==h&&t.setWatchlistLayout("true"===h),console.log("🔌 Initializing WebSocket Event Bus for existing session..."),dP.on("web-scoketOn",(e,t,a,l)=>{console.log("📡 WebSocket Event Bus received:",{flow:e,data:t,is:a,page:l}),dP.handleWebSocketRequest(e,t,a,l)}),console.log("📥 Loading order preferences..."),await XO();const{seyCheckwebsocket:o}=await Ja(async()=>{const{seyCheckwebsocket:e}=await Promise.resolve().then(()=>Jle);return{seyCheckwebsocket:e}},void 0);await o(),console.log("✅ WebSocket session checked, mynturl stat:",null==(l=ol.mynturl)?void 0:l.stat);var f=await qle();if(!(f&&f.metadata&&f.metadata.mainpreitems)){var g={};(f=JSON.parse(localStorage.getItem(`${e}_ordpref`)))&&f.mainpreitems?(g=f,localStorage.removeItem(`${e}_ordpref`)):g=t.getOrderPref(),await qle({clientid:e,metadata:g,source:"WEB"},!0)}console.log("✅ Order preferences loaded"),t.setMainLoader(!1),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout)}else e&&a?await L(null):(t.setMainLoader(!1),window.__loaderTimeout&&(clearTimeout(window.__loaderTimeout),delete window.__loaderTimeout))}F(),document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&(t.snackbar&&t.hideSnackbar(),t.showalert&&t.hideAlert())}}),f(()=>p.path,e=>{F()},{immediate:!1}),f(()=>t.wsorderalertdata,e=>{t.wsorderalertdata.length>2&&t.wsorderalertdata[0]&&t.wsorderalertdata.shift()},{deep:!0}),Z(()=>{console.log("🧹 LayoutSrc unmounting, stopping session monitoring..."),c.stopSessionMonitoring()}),(e,a)=>{const l=$("router-view");return z(),R("div",null,[i("div",{class:r([x(t).mainloader?"":"d-none","no-scroll no-xhide"])},[i("img",{class:"pos-cent blinkimg",width:"90px",src:x(Wh),alt:"wait"},null,8,hP)],2),i("div",{class:r(x(t).mainloader?"d-none":"")},[d(ex),i("div",null,[d(hy,{class:"vcontainer",color:"mainbg"},{default:H(()=>[i("div",fP,[d(x(Xm),{class:"wsalert-snackbar",elevation:"0",objects:n.value,bottom:"",right:""},{action:H(({close:e})=>[d(wp,{onClick:t=>e(),class:"float-right",color:"#fff"},{default:H(()=>[...a[20]||(a[20]=[W("mdi-close-circle",-1)])]),_:1},8,["onClick"])]),default:H(({message:e})=>[i("span",{class:"font-weight-bold fs-14",innerHTML:e},null,8,gP)]),_:1},8,["objects"]),d(Gm,{class:"d-none d-md-flex snakbar-sty rounded-pill",transition:"slide-x-reverse-transition",top:"",right:"",modelValue:x(t).snackbar,"onUpdate:modelValue":a[1]||(a[1]=e=>x(t).snackbar=e),timeout:"4000",value:!0,color:x(t).snackcolor,absolute:"","text-color":"white",style:{top:"80px !important",right:"16px !important"}},{default:H(()=>[d(wp,{class:"mr-2",color:"#fff"},{default:H(()=>[...a[21]||(a[21]=[W("mdi-alert-outline",-1)])]),_:1}),W(" "+A(x(t).snacktxt)+" ",1),d(wp,{onClick:a[0]||(a[0]=e=>x(t).hideSnackbar()),class:"float-right",color:"#fff"},{default:H(()=>[...a[22]||(a[22]=[W("mdi-close-circle",-1)])]),_:1})]),_:1},8,["modelValue","color"]),d(Gm,{class:"d-md-none snakbar-sty rounded-pill",transition:"slide-x-reverse-transition",top:"",right:"",modelValue:x(t).snackbar,"onUpdate:modelValue":a[3]||(a[3]=e=>x(t).snackbar=e),timeout:"4000",value:!0,color:x(t).snackcolor,absolute:"","text-color":"white",style:{top:"80px !important",right:"16px !important"}},{default:H(()=>[d(wp,{class:"mr-2",color:"#fff"},{default:H(()=>[...a[23]||(a[23]=[W("mdi-alert-outline",-1)])]),_:1}),W(" "+A(x(t).snacktxt)+" ",1),d(wp,{onClick:a[2]||(a[2]=e=>x(t).hideSnackbar()),class:"float-right",color:"#fff"},{default:H(()=>[...a[24]||(a[24]=[W("mdi-close-circle",-1)])]),_:1})]),_:1},8,["modelValue","color"]),d(Ry,{"no-gutters":"",class:r(["pt-14",x(t).wllayout?"flex-row-reverse":""])},{default:H(()=>[d(ky,{cols:"12",md:"9",class:"pt-6 pr-1 pl-2 pb-0 changescreen"},{default:H(()=>[d(l,{onSnack:T,onMenudialog:N,onGologin:P,onLoader:M})]),_:1}),d(ky,{cols:"3",class:r(["pos-rlt pb-0 px-1 d-none d-md-block",x(s).uid?x(t).wllayout?"sec-watchlist-r":"sec-watchlist-l":""]),style:{width:"340px"}},{default:H(()=>[x(s).uid?(z(),R("div",yP,[d(WC)])):(z(),R("div",bP,[d(cy,{outlined:"",class:"overflow-hidden ss-login-card px-10 rounded-xl pos-rlt crd-trn d-flex",width:"100%"},{default:H(()=>[i("div",xP,[i("img",{src:x(dg)(`products-sec/${"Mutual funds"==h.value?"mutual-funds":"IPOs"==h.value?"ipos":"Bonds"==h.value?"bonds":"Stocks-ETFs"}.png`),alt:h.value,class:"",width:"100%"},null,8,wP),i("p",_P,"Ready to invest in "+A(h.value)+"?",1),a[27]||(a[27]=i("p",{class:"subtext--text font-weight-medium fs-2 mb-8"},[W(" Open your demat account "),i("br"),W(" effortlessly with our six-click process. ")],-1)),d(cy,{class:"elevation-0 rounded-0 crd-trn",width:"100%"},{default:H(()=>[d(qI,{ref:"form",modelValue:k.value,"onUpdate:modelValue":a[8]||(a[8]=e=>k.value=e),"lazy-validation":"",onSubmit:a[9]||(a[9]=ie(e=>O(),["prevent"]))},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"10",class:"pr-0"},{default:H(()=>[d(Fk,{modelValue:S.value,"onUpdate:modelValue":a[4]||(a[4]=e=>S.value=e),variant:"plain",onKeypress:a[5]||(a[5]=e=>(e=>{S.value.length>=10&&e.preventDefault()})(e)),onKeyup:a[6]||(a[6]=de(e=>O(),["enter"])),maxlength:10,rules:E.value,oninput:"this.value = this.value.toUpperCase()",required:"","hide-spin-buttons":"",flat:"","hide-details":"",solo:"","background-color":"secbg",style:{"background-color":"#F1F3F8 !important"},class:"sign-up-filed elevation-0 rounded-pill caption mb-3 px-3",placeholder:"Enter Client ID/Mobile to begin"},{"prepend-inner":H(()=>[i("img",{src:v.value,width:"16",height:"16",alt:"phone-icon"},null,8,kP)]),_:1},8,["modelValue","rules"])]),_:1}),d(ky,{cols:"2",class:"d-flex align-center"},{default:H(()=>[d(im,{class:"mb-3 elevation-0",color:"transparent",onClick:a[7]||(a[7]=e=>P(!0)),fab:"",small:""},{default:H(()=>[d(wp,null,{default:H(()=>[...a[25]||(a[25]=[W(" mdi-qrcode-scan ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),d(im,{type:"submit",block:"",height:"48px",color:"#FFF07E",class:"text-none rounded-pill elevation-0"},{default:H(()=>[...a[26]||(a[26]=[i("span",{class:"black--text font-weight-bold"},"Continue",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]))]),_:1},8,["class"])]),_:1},8,["class"]),d(_I),d(LE),d(jE),d(yT),d(U_,{modelValue:x(t).showalert,"onUpdate:modelValue":a[12]||(a[12]=e=>x(t).showalert=e),persistent:"","hide-overlay":"",width:"380"},{default:H(()=>[d(cy,{class:"mx-auto pa-4 pb-6 text-right rounded-xl",width:"100%"},{default:H(()=>[d(im,{onClick:a[10]||(a[10]=e=>x(t).hideAlert()),color:"maintext","x-small":"",fab:"",outlined:""},{default:H(()=>[d(wp,{color:"maintext"},{default:H(()=>[...a[28]||(a[28]=[W("mdi-close",-1)])]),_:1})]),_:1}),d(uy,{class:"text-left px-3"},{default:H(()=>[i("p",SP,A(x(t).showalertmsg?x(t).showalertmsg.title:""),1),i("p",CP,[x(t).showalertmsg&&x(t).showalertmsg.body?(z(),R("span",{key:0,innerHTML:x(t).showalertmsg.body},null,8,IP)):ee("",!0)])]),_:1}),x(t).showalertmsg&&x(t).showalertmsg.callback?(z(),q(im,{key:0,onClick:a[11]||(a[11]=e=>x(t).showalertmsg.callback?void window.location.reload():x(t).hideAlert()),color:"#FFECB3",class:"text-none warning--text elevation-0 rounded-pill mr-2"},{default:H(()=>[...a[29]||(a[29]=[W(" Ok ",-1)])]),_:1})):ee("",!0)]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:g.value,"onUpdate:modelValue":a[14]||(a[14]=e=>g.value=e),persistent:"",width:"620"},{default:H(()=>[d(cy,{class:"elevation-0 py-4 px-2 rounded-xl"},{default:H(()=>[d(ly,{class:"title font-weight-bold mb-2"},{default:H(()=>[(z(),R("svg",EP,[i("path",{d:"M14 2.26953V6.40007C14 6.96012 14 7.24015 14.109 7.45406C14.2049 7.64222 14.3578 7.7952 14.546 7.89108C14.7599 8.00007 15.0399 8.00007 15.6 8.00007H19.7305M16 13H8M16 17H8M10 9H8M14 2H8.8C7.11984 2 6.27976 2 5.63803 2.32698C5.07354 2.6146 4.6146 3.07354 4.32698 3.63803C4 4.27976 4 5.11984 4 6.8V17.2C4 18.8802 4 19.7202 4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673C6.27976 22 7.11984 22 8.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9265 19.673 20.362C20 19.7202 20 18.8802 20 17.2V8L14 2Z",stroke:x(m).current.value.dark?"white":"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,TP)])),a[30]||(a[30]=i("span",{class:"ml-3"}," Risk disclosures on derivatives ",-1))]),_:1}),d(my,{class:"mx-4"}),d(uy,{class:"px-4 px-md-8 py-7 riskpopup"},{default:H(()=>[i("ul",{class:r([x(m).current.value.dark?"white--text":"black--text","subtitle-1 mb-4"])},[...a[31]||(a[31]=[i("li",{style:{"line-height":"24px"},class:"mb-2"},"9 out of 10 individual traders in the equity Futures and Options (F&O) segment incurred net losses.",-1),i("li",{style:{"line-height":"24px"},class:"mb-2"},"On average, the loss-making traders registered a net trading loss close to ₹50,000.",-1),i("li",{style:{"line-height":"24px"},class:"mb-2"},"Over and above the net trading losses incurred, loss makers expended an additional 28% of net trading losses as transaction costs.",-1),i("li",{style:{"line-height":"24px"}},"Those making net trading profits incurred between 15% to 50% of such profits as transaction costs.",-1)])],2),a[32]||(a[32]=i("p",{class:"caption mb-0"},[W(" Source: "),i("a",{target:"_blank",style:{"text-decoration":"none",color:"#0037B7"},href:"https://www.sebi.gov.in/reports-and-statistics/research/jan-2023/study-analysis-of-profit-and-loss-of-individual-traders-dealing-in-equity-fando-segment_67525.html"}," SEBI study"),W(' dated January 25, 2023, on "Analysis of Profit and Loss of Individual Traders dealing in equity Futures and Options (F&O) Segment," wherein Aggregate Level findings are based on annual Profit/Loss incurred by individual traders in equity F&O during FY 2021-22. ')],-1))]),_:1}),d(my,{class:"mx-4"}),d(ey,{class:"mt-3"},{default:H(()=>[d(zy),d(im,{color:"#0037B7",dark:"",class:"elevation-0 text-none font-weight-bold rounded-pill px-4",onClick:a[13]||(a[13]=e=>(sessionStorage.setItem("risk",0),void(g.value=!1)))},{default:H(()=>[...a[33]||(a[33]=[W(" I Understand ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),d(qm,{value:x(t).subloader,class:"rounded-0"},{default:H(()=>[i("div",NP,[d(cy,{width:"70%",class:"elevation-0 mx-auto crd-trn d-flex justify-center align-center",style:{position:"relative",overflow:"visible"}},{default:H(()=>[i("div",MP,[d(Sp,{color:"primary",size:115,width:4,indeterminate:"",style:{position:"absolute","z-index":"0"}}),i("img",{src:x(Wh),alt:"Logo",style:{"z-index":"1",width:"100px",height:"100px"}},null,8,AP)])]),_:1})])]),_:1},8,["value"])]),d(vP,{padless:"",style:{position:"fixed",bottom:"0px",left:"0",width:"100%","z-index":"10"},color:"cardbg",class:"pb-1 d-sm-none"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{onClick:a[15]||(a[15]=e=>b.value=!0),cols:"4",class:"text-center pb-2"},{default:H(()=>[d(my,{color:0==_.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),i("div",null,[d(cy,{class:"elevation-0",color:"transparent",height:"24px"},{default:H(()=>[(z(),R("svg",OP,[i("path",{d:"M16.459 10.9165C18.7372 10.9165 20.584 9.06968 20.584 6.7915C20.584 4.51333 18.7372 2.6665 16.459 2.6665C14.1808 2.6665 12.334 4.51333 12.334 6.7915C12.334 9.06968 14.1808 10.9165 16.459 10.9165Z",stroke:0==_.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,PP),i("path",{d:"M11.4167 12.75H5V19.1667H11.4167V12.75Z",stroke:0==_.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,FP),i("path",{d:"M1.33398 8.16667L5.00065 1.75L8.66732 8.16667H1.33398Z",stroke:0==_.value?"#0037B7":"#506D84","stroke-width":"1.4","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,LP)]))]),_:1}),i("div",DP,[i("div",VP,[(z(!0),R(u,null,U(I.value,(e,t)=>(z(),R("div",{key:t,class:r(`slider-text-${t} ${w.value==t?"primary--text":"maintext--text"}`)},A(e),3))),128))]),d(wp,{size:"20",color:0==_.value?"#0037B7":"#506D84"},{default:H(()=>[...a[34]||(a[34]=[W(" mdi-chevron-down",-1)])]),_:1},8,["color"])])])]),_:1}),d(ky,{onClick:a[16]||(a[16]=t=>x(s).uid?(e.$router.push("/orders"),F()):P()),cols:"4",class:"text-center pb-2"},{default:H(()=>[d(my,{color:1==_.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),i("div",null,[d(cy,{class:"elevation-0",color:"transparent",height:"24px"},{default:H(()=>[(z(),R("svg",BP,[i("g",$P,[i("path",{d:"M1.66797 4.16406H18.3346",stroke:1==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10"},null,8,RP),i("path",{d:"M18.3346 19.1654H1.66797V4.16536L5.0013 0.832031H15.0013L18.3346 4.16536V19.1654Z",stroke:1==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,zP),i("path",{d:"M14.1693 8.33203C14.1693 10.6654 12.3359 12.4987 10.0026 12.4987C7.66927 12.4987 5.83594 10.6654 5.83594 8.33203",stroke:1==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,UP)]),a[35]||(a[35]=i("defs",null,[i("clipPath",{id:"clip0_8033_1489"},[i("rect",{width:"20",height:"20",fill:"white"})])],-1))]))]),_:1}),i("p",{class:r(["fs-12 font-weight-medium text-none mb-0",1==_.value?"primary--text":"maintext--text"])}," Orders",2)])]),_:1}),d(ky,{onClick:a[17]||(a[17]=t=>x(s).uid?(e.$router.push("/funds"),F()):P()),cols:"4",class:"text-center pb-2"},{default:H(()=>[d(my,{color:2==_.value?"#0037B7":"",class:"pt-1 mb-2"},null,8,["color"]),i("div",null,[d(cy,{class:"elevation-0",color:"transparent",height:"24px"},{default:H(()=>[(z(),R("svg",qP,[i("g",HP,[i("path",{d:"M4.9987 2.5H2.4987C1.57786 2.5 0.832031 3.24583 0.832031 4.16667C0.832031 5.0875 1.57786 5.83333 2.4987 5.83333",stroke:2==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,jP),i("path",{d:"M5 5.83203V0.832031H16.6667V5.83203",stroke:2==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,WP),i("path",{d:"M19.1654 5.83073H2.4987C1.57786 5.83073 0.832031 5.0849 0.832031 4.16406V16.6641C0.832031 18.0449 1.9512 19.1641 3.33203 19.1641H19.1654V5.83073Z",stroke:2==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,YP),i("path",{d:"M14.1667 14.1654C15.0871 14.1654 15.8333 13.4192 15.8333 12.4987C15.8333 11.5782 15.0871 10.832 14.1667 10.832C13.2462 10.832 12.5 11.5782 12.5 12.4987C12.5 13.4192 13.2462 14.1654 14.1667 14.1654Z",stroke:2==_.value?"#0037B7":"#506D84","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"square"},null,8,GP)]),a[36]||(a[36]=i("defs",null,[i("clipPath",{id:"clip0_8033_1494"},[i("rect",{width:"20",height:"20",fill:"white"})])],-1))]))]),_:1}),i("p",{class:r(["fs-12 font-weight-medium text-none mb-0",2==_.value?"primary--text":"maintext--text"])}," Funds",2)])]),_:1})]),_:1})]),_:1}),d(pP,{modelValue:b.value,"onUpdate:modelValue":a[19]||(a[19]=e=>b.value=e),class:"d-md-none"},{default:H(()=>[d(VI,{class:"rounded-t-xl px-4",height:"40vh"},{default:H(()=>[i("div",{onClick:a[18]||(a[18]=e=>b.value=!1),class:"text-center"},[...a[37]||(a[37]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"3",viewBox:"0 0 32 3",fill:"none"},[i("rect",{width:"32",height:"3",rx:"1.5",fill:"#DDDDDD","fill-opacity":"0.866667"})],-1)])]),(z(!0),R(u,null,U(C.value,(t,a)=>(z(),q(cb,{key:a,onClick:a=>_.value<=2||t.idx!=w.value?(e.$router.push(t.path),b.value=!1,F()):null},{default:H(()=>[d(ub,{class:r(t.idx==w.value&&0==_.value?"font-weight-medium primary--text":"")},{default:H(()=>[W(A(t.txt),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])],2)])}}},XP={__name:"TVChartContainerMOB",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"TradingView Chart (Mobile)",-1),i("p",null,"TradingView charting component for mobile",-1)])]),_:1})]))},JP={__name:"MultiChart",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"Multi Chart",-1),i("p",null,"Multiple chart display component",-1)])]),_:1})]))};function QP(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZP}=Object.prototype,{getPrototypeOf:eF}=Object,{iterator:tF,toStringTag:aF}=Symbol,lF=(e=>t=>{const a=ZP.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),nF=e=>(e=e.toLowerCase(),t=>lF(t)===e),oF=e=>t=>typeof t===e,{isArray:sF}=Array,iF=oF("undefined");function rF(e){return null!==e&&!iF(e)&&null!==e.constructor&&!iF(e.constructor)&&cF(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uF=nF("ArrayBuffer"),dF=oF("string"),cF=oF("function"),pF=oF("number"),mF=e=>null!==e&&"object"==typeof e,vF=e=>{if("object"!==lF(e))return!1;const t=eF(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||aF in e||tF in e)},hF=nF("Date"),fF=nF("File"),gF=nF("Blob"),yF=nF("FileList"),bF=nF("URLSearchParams"),[xF,wF,_F,kF]=["ReadableStream","Request","Response","Headers"].map(nF);function SF(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let l,n;if("object"!=typeof e&&(e=[e]),sF(e))for(l=0,n=e.length;l<n;l++)t.call(null,e[l],l,e);else{if(rF(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(l=0;l<o;l++)s=n[l],t.call(null,e[s],s,e)}}function CF(e,t){if(rF(e))return null;t=t.toLowerCase();const a=Object.keys(e);let l,n=a.length;for(;n-- >0;)if(l=a[n],t===l.toLowerCase())return l;return null}const IF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,EF=e=>!iF(e)&&e!==IF,TF=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&eF(Uint8Array)),NF=nF("HTMLFormElement"),MF=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),AF=nF("RegExp"),OF=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),l={};SF(a,(a,n)=>{let o;!1!==(o=t(a,n,e))&&(l[n]=o||a)}),Object.defineProperties(e,l)},PF=nF("AsyncFunction"),FF=(LF="function"==typeof setImmediate,DF=cF(IF.postMessage),LF?setImmediate:DF?(VF=`axios@${Math.random()}`,BF=[],IF.addEventListener("message",({source:e,data:t})=>{e===IF&&t===VF&&BF.length&&BF.shift()()},!1),e=>{BF.push(e),IF.postMessage(VF,"*")}):e=>setTimeout(e));var LF,DF,VF,BF;const $F="undefined"!=typeof queueMicrotask?queueMicrotask.bind(IF):"undefined"!=typeof process&&process.nextTick||FF,RF={isArray:sF,isArrayBuffer:uF,isBuffer:rF,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||cF(e.append)&&("formdata"===(t=lF(e))||"object"===t&&cF(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&uF(e.buffer),t},isString:dF,isNumber:pF,isBoolean:e=>!0===e||!1===e,isObject:mF,isPlainObject:vF,isEmptyObject:e=>{if(!mF(e)||rF(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(SJ){return!1}},isReadableStream:xF,isRequest:wF,isResponse:_F,isHeaders:kF,isUndefined:iF,isDate:hF,isFile:fF,isBlob:gF,isRegExp:AF,isFunction:cF,isStream:e=>mF(e)&&cF(e.pipe),isURLSearchParams:bF,isTypedArray:TF,isFileList:yF,forEach:SF,merge:function e(){const{caseless:t,skipUndefined:a}=EF(this)&&this||{},l={},n=(n,o)=>{const s=t&&CF(l,o)||o;vF(l[s])&&vF(n)?l[s]=e(l[s],n):vF(n)?l[s]=e({},n):sF(n)?l[s]=n.slice():a&&iF(n)||(l[s]=n)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&SF(arguments[o],n);return l},extend:(e,t,a,{allOwnKeys:l}={})=>(SF(t,(t,l)=>{a&&cF(t)?e[l]=QP(t,a):e[l]=t},{allOwnKeys:l}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,l)=>{e.prototype=Object.create(t.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,l)=>{let n,o,s;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)s=n[o],l&&!l(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==a&&eF(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:lF,kindOfTest:nF,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const l=e.indexOf(t,a);return-1!==l&&l===a},toArray:e=>{if(!e)return null;if(sF(e))return e;let t=e.length;if(!pF(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[tF]).call(e);let l;for(;(l=a.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const l=[];for(;null!==(a=e.exec(t));)l.push(a);return l},isHTMLForm:NF,hasOwnProperty:MF,hasOwnProp:MF,reduceDescriptors:OF,freezeMethods:e=>{OF(e,(t,a)=>{if(cF(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const l=e[a];cF(l)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},l=e=>{e.forEach(e=>{a[e]=!0})};return sF(e)?l(e):l(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:CF,global:IF,isContextDefined:EF,isSpecCompliantForm:function(e){return!!(e&&cF(e.append)&&"FormData"===e[aF]&&e[tF])},toJSONObject:e=>{const t=new Array(10),a=(e,l)=>{if(mF(e)){if(t.indexOf(e)>=0)return;if(rF(e))return e;if(!("toJSON"in e)){t[l]=e;const n=sF(e)?[]:{};return SF(e,(e,t)=>{const o=a(e,l+1);!iF(o)&&(n[t]=o)}),t[l]=void 0,n}}return e};return a(e,0)},isAsyncFn:PF,isThenable:e=>e&&(mF(e)||cF(e))&&cF(e.then)&&cF(e.catch),setImmediate:FF,asap:$F,isIterable:e=>null!=e&&cF(e[tF])};function zF(e,t,a,l,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),l&&(this.request=l),n&&(this.response=n,this.status=n.status?n.status:null)}RF.inherits(zF,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:RF.toJSONObject(this.config),code:this.code,status:this.status}}});const UF=zF.prototype,qF={};function HF(e){return RF.isPlainObject(e)||RF.isArray(e)}function jF(e){return RF.endsWith(e,"[]")?e.slice(0,-2):e}function WF(e,t,a){return e?e.concat(t).map(function(e,t){return e=jF(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qF[e]={value:e}}),Object.defineProperties(zF,qF),Object.defineProperty(UF,"isAxiosError",{value:!0}),zF.from=(e,t,a,l,n,o)=>{const s=Object.create(UF);RF.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",r=null==t&&e?e.code:t;return zF.call(s,i,r,a,l,n),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const YF=RF.toFlatObject(RF,{},null,function(e){return/^is[A-Z]/.test(e)});function GF(e,t,a){if(!RF.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const l=(a=RF.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!RF.isUndefined(t[e])})).metaTokens,n=a.visitor||u,o=a.dots,s=a.indexes,i=(a.Blob||"undefined"!=typeof Blob&&Blob)&&RF.isSpecCompliantForm(t);if(!RF.isFunction(n))throw new TypeError("visitor must be a function");function r(e){if(null===e)return"";if(RF.isDate(e))return e.toISOString();if(RF.isBoolean(e))return e.toString();if(!i&&RF.isBlob(e))throw new zF("Blob is not supported. Use a Buffer instead.");return RF.isArrayBuffer(e)||RF.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,a,n){let i=e;if(e&&!n&&"object"==typeof e)if(RF.endsWith(a,"{}"))a=l?a:a.slice(0,-2),e=JSON.stringify(e);else if(RF.isArray(e)&&function(e){return RF.isArray(e)&&!e.some(HF)}(e)||(RF.isFileList(e)||RF.endsWith(a,"[]"))&&(i=RF.toArray(e)))return a=jF(a),i.forEach(function(e,l){!RF.isUndefined(e)&&null!==e&&t.append(!0===s?WF([a],l,o):null===s?a:a+"[]",r(e))}),!1;return!!HF(e)||(t.append(WF(n,a,o),r(e)),!1)}const d=[],c=Object.assign(YF,{defaultVisitor:u,convertValue:r,isVisitable:HF});if(!RF.isObject(e))throw new TypeError("data must be an object");return function e(a,l){if(!RF.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+l.join("."));d.push(a),RF.forEach(a,function(a,o){!0===(!(RF.isUndefined(a)||null===a)&&n.call(t,a,RF.isString(o)?o.trim():o,l,c))&&e(a,l?l.concat(o):[o])}),d.pop()}}(e),t}function KF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function XF(e,t){this._pairs=[],e&&GF(e,this,t)}const JF=XF.prototype;function QF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZF(e,t,a){if(!t)return e;const l=a&&a.encode||QF;RF.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(o=n?n(t,a):RF.isURLSearchParams(t)?t.toString():new XF(t,a).toString(l),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}JF.append=function(e,t){this._pairs.push([e,t])},JF.toString=function(e){const t=e?function(t){return e.call(this,t,KF)}:KF;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class eL{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){RF.forEach(this.handlers,function(t){null!==t&&e(t)})}}const tL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aL={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:XF,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},lL="undefined"!=typeof window&&"undefined"!=typeof document,nL="object"==typeof navigator&&navigator||void 0,oL=lL&&(!nL||["ReactNative","NativeScript","NS"].indexOf(nL.product)<0),sL="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,iL=lL&&window.location.href||"http://localhost",rL={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lL,hasStandardBrowserEnv:oL,hasStandardBrowserWebWorkerEnv:sL,navigator:nL,origin:iL},Symbol.toStringTag,{value:"Module"})),...aL};function uL(e){function t(e,a,l,n){let o=e[n++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),i=n>=e.length;return o=!o&&RF.isArray(l)?l.length:o,i?(RF.hasOwnProp(l,o)?l[o]=[l[o],a]:l[o]=a,!s):(l[o]&&RF.isObject(l[o])||(l[o]=[]),t(e,a,l[o],n)&&RF.isArray(l[o])&&(l[o]=function(e){const t={},a=Object.keys(e);let l;const n=a.length;let o;for(l=0;l<n;l++)o=a[l],t[o]=e[o];return t}(l[o])),!s)}if(RF.isFormData(e)&&RF.isFunction(e.entries)){const a={};return RF.forEachEntry(e,(e,l)=>{t(function(e){return RF.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),l,a,0)}),a}return null}const dL={transitional:tL,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",l=a.indexOf("application/json")>-1,n=RF.isObject(e);if(n&&RF.isHTMLForm(e)&&(e=new FormData(e)),RF.isFormData(e))return l?JSON.stringify(uL(e)):e;if(RF.isArrayBuffer(e)||RF.isBuffer(e)||RF.isStream(e)||RF.isFile(e)||RF.isBlob(e)||RF.isReadableStream(e))return e;if(RF.isArrayBufferView(e))return e.buffer;if(RF.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return GF(e,new rL.classes.URLSearchParams,{visitor:function(e,t,a,l){return rL.isNode&&RF.isBuffer(e)?(this.append(t,e.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=RF.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return GF(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||l?(t.setContentType("application/json",!1),function(e,t,a){if(RF.isString(e))try{return(t||JSON.parse)(e),RF.trim(e)}catch(SJ){if("SyntaxError"!==SJ.name)throw SJ}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||dL.transitional,a=t&&t.forcedJSONParsing,l="json"===this.responseType;if(RF.isResponse(e)||RF.isReadableStream(e))return e;if(e&&RF.isString(e)&&(a&&!this.responseType||l)){const a=!(t&&t.silentJSONParsing)&&l;try{return JSON.parse(e,this.parseReviver)}catch(SJ){if(a){if("SyntaxError"===SJ.name)throw zF.from(SJ,zF.ERR_BAD_RESPONSE,this,null,this.response);throw SJ}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rL.classes.FormData,Blob:rL.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};RF.forEach(["delete","get","head","post","put","patch"],e=>{dL.headers[e]={}});const cL=RF.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pL=Symbol("internals");function mL(e){return e&&String(e).trim().toLowerCase()}function vL(e){return!1===e||null==e?e:RF.isArray(e)?e.map(vL):String(e)}function hL(e,t,a,l,n){return RF.isFunction(l)?l.call(this,t,a):(n&&(t=a),RF.isString(t)?RF.isString(l)?-1!==t.indexOf(l):RF.isRegExp(l)?l.test(t):void 0:void 0)}let fL=class{constructor(e){e&&this.set(e)}set(e,t,a){const l=this;function n(e,t,a){const n=mL(t);if(!n)throw new Error("header name must be a non-empty string");const o=RF.findKey(l,n);(!o||void 0===l[o]||!0===a||void 0===a&&!1!==l[o])&&(l[o||t]=vL(e))}const o=(e,t)=>RF.forEach(e,(e,a)=>n(e,a,t));if(RF.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(RF.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let a,l,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),a=e.substring(0,n).trim().toLowerCase(),l=e.substring(n+1).trim(),!a||t[a]&&cL[a]||("set-cookie"===a?t[a]?t[a].push(l):t[a]=[l]:t[a]=t[a]?t[a]+", "+l:l)}),t})(e),t);else if(RF.isObject(e)&&RF.isIterable(e)){let a,l,n={};for(const t of e){if(!RF.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[l=t[0]]=(a=n[l])?RF.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}o(n,t)}else null!=e&&n(t,e,a);return this}get(e,t){if(e=mL(e)){const a=RF.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(e);)t[l[1]]=l[2];return t}(e);if(RF.isFunction(t))return t.call(this,e,a);if(RF.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=mL(e)){const a=RF.findKey(this,e);return!(!a||void 0===this[a]||t&&!hL(0,this[a],a,t))}return!1}delete(e,t){const a=this;let l=!1;function n(e){if(e=mL(e)){const n=RF.findKey(a,e);!n||t&&!hL(0,a[n],n,t)||(delete a[n],l=!0)}}return RF.isArray(e)?e.forEach(n):n(e),l}clear(e){const t=Object.keys(this);let a=t.length,l=!1;for(;a--;){const n=t[a];e&&!hL(0,this[n],n,e,!0)||(delete this[n],l=!0)}return l}normalize(e){const t=this,a={};return RF.forEach(this,(l,n)=>{const o=RF.findKey(a,n);if(o)return t[o]=vL(l),void delete t[n];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(n):String(n).trim();s!==n&&delete t[n],t[s]=vL(l),a[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return RF.forEach(this,(a,l)=>{null!=a&&!1!==a&&(t[l]=e&&RF.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach(e=>a.set(e)),a}static accessor(e){const t=(this[pL]=this[pL]={accessors:{}}).accessors,a=this.prototype;function l(e){const l=mL(e);t[l]||(function(e,t){const a=RF.toCamelCase(" "+t);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+a,{value:function(e,a,n){return this[l].call(this,t,e,a,n)},configurable:!0})})}(a,e),t[l]=!0)}return RF.isArray(e)?e.forEach(l):l(e),this}};function gL(e,t){const a=this||dL,l=t||a,n=fL.from(l.headers);let o=l.data;return RF.forEach(e,function(e){o=e.call(a,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function yL(e){return!(!e||!e.__CANCEL__)}function bL(e,t,a){zF.call(this,null==e?"canceled":e,zF.ERR_CANCELED,t,a),this.name="CanceledError"}function xL(e,t,a){const l=a.config.validateStatus;a.status&&l&&!l(a.status)?t(new zF("Request failed with status code "+a.status,[zF.ERR_BAD_REQUEST,zF.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}fL.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),RF.reduceDescriptors(fL.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}}),RF.freezeMethods(fL),RF.inherits(bL,zF,{__CANCEL__:!0});const wL=(e,t,a=3)=>{let l=0;const n=function(e,t){e=e||10;const a=new Array(e),l=new Array(e);let n,o=0,s=0;return t=void 0!==t?t:1e3,function(i){const r=Date.now(),u=l[s];n||(n=r),a[o]=i,l[o]=r;let d=s,c=0;for(;d!==o;)c+=a[d++],d%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),r-n<t)return;const p=u&&r-u;return p?Math.round(1e3*c/p):void 0}}(50,250);return function(e,t){let a,l,n=0,o=1e3/t;const s=(t,o=Date.now())=>{n=o,a=null,l&&(clearTimeout(l),l=null),e(...t)};return[(...e)=>{const t=Date.now(),i=t-n;i>=o?s(e,t):(a=e,l||(l=setTimeout(()=>{l=null,s(a)},o-i)))},()=>a&&s(a)]}(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,i=o-l,r=n(i);l=o,e({loaded:o,total:s,progress:s?o/s:void 0,bytes:i,rate:r||void 0,estimated:r&&s&&o<=s?(s-o)/r:void 0,event:a,lengthComputable:null!=s,[t?"download":"upload"]:!0})},a)},_L=(e,t)=>{const a=null!=e;return[l=>t[0]({lengthComputable:a,total:e,loaded:l}),t[1]]},kL=e=>(...t)=>RF.asap(()=>e(...t)),SL=rL.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,rL.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(rL.origin),rL.navigator&&/(msie|trident)/i.test(rL.navigator.userAgent)):()=>!0,CL=rL.hasStandardBrowserEnv?{write(e,t,a,l,n,o){const s=[e+"="+encodeURIComponent(t)];RF.isNumber(a)&&s.push("expires="+new Date(a).toGMTString()),RF.isString(l)&&s.push("path="+l),RF.isString(n)&&s.push("domain="+n),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function IL(e,t,a){let l=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(l||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const EL=e=>e instanceof fL?{...e}:e;function TL(e,t){t=t||{};const a={};function l(e,t,a,l){return RF.isPlainObject(e)&&RF.isPlainObject(t)?RF.merge.call({caseless:l},e,t):RF.isPlainObject(t)?RF.merge({},t):RF.isArray(t)?t.slice():t}function n(e,t,a,n){return RF.isUndefined(t)?RF.isUndefined(e)?void 0:l(void 0,e,0,n):l(e,t,0,n)}function o(e,t){if(!RF.isUndefined(t))return l(void 0,t)}function s(e,t){return RF.isUndefined(t)?RF.isUndefined(e)?void 0:l(void 0,e):l(void 0,t)}function i(a,n,o){return o in t?l(a,n):o in e?l(void 0,a):void 0}const r={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t,a)=>n(EL(e),EL(t),0,!0)};return RF.forEach(Object.keys({...e,...t}),function(l){const o=r[l]||n,s=o(e[l],t[l],l);RF.isUndefined(s)&&o!==i||(a[l]=s)}),a}const NL=e=>{const t=TL({},e);let{data:a,withXSRFToken:l,xsrfHeaderName:n,xsrfCookieName:o,headers:s,auth:i}=t;if(t.headers=s=fL.from(s),t.url=ZF(IL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&s.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),RF.isFormData(a))if(rL.hasStandardBrowserEnv||rL.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(RF.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,a])=>{t.includes(e.toLowerCase())&&s.set(e,a)})}if(rL.hasStandardBrowserEnv&&(l&&RF.isFunction(l)&&(l=l(t)),l||!1!==l&&SL(t.url))){const e=n&&o&&CL.read(o);e&&s.set(n,e)}return t},ML="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const l=NL(e);let n=l.data;const o=fL.from(l.headers).normalize();let s,i,r,u,d,{responseType:c,onUploadProgress:p,onDownloadProgress:m}=l;function v(){u&&u(),d&&d(),l.cancelToken&&l.cancelToken.unsubscribe(s),l.signal&&l.signal.removeEventListener("abort",s)}let h=new XMLHttpRequest;function f(){if(!h)return;const l=fL.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());xL(function(e){t(e),v()},function(e){a(e),v()},{data:c&&"text"!==c&&"json"!==c?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:l,config:e,request:h}),h=null}h.open(l.method.toUpperCase(),l.url,!0),h.timeout=l.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(a(new zF("Request aborted",zF.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const l=new zF(t&&t.message?t.message:"Network Error",zF.ERR_NETWORK,e,h);l.event=t||null,a(l),h=null},h.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const n=l.transitional||tL;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),a(new zF(t,n.clarifyTimeoutError?zF.ETIMEDOUT:zF.ECONNABORTED,e,h)),h=null},void 0===n&&o.setContentType(null),"setRequestHeader"in h&&RF.forEach(o.toJSON(),function(e,t){h.setRequestHeader(t,e)}),RF.isUndefined(l.withCredentials)||(h.withCredentials=!!l.withCredentials),c&&"json"!==c&&(h.responseType=l.responseType),m&&([r,d]=wL(m,!0),h.addEventListener("progress",r)),p&&h.upload&&([i,u]=wL(p),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",u)),(l.cancelToken||l.signal)&&(s=t=>{h&&(a(!t||t.type?new bL(null,e,h):t),h.abort(),h=null)},l.cancelToken&&l.cancelToken.subscribe(s),l.signal&&(l.signal.aborted?s():l.signal.addEventListener("abort",s)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);g&&-1===rL.protocols.indexOf(g)?a(new zF("Unsupported protocol "+g+":",zF.ERR_BAD_REQUEST,e)):h.send(n||null)})},AL=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,l=new AbortController;const n=function(e){if(!a){a=!0,s();const t=e instanceof Error?e:this.reason;l.abort(t instanceof zF?t:new bL(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,n(new zF(`timeout ${t} of ms exceeded`,zF.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:i}=l;return i.unsubscribe=()=>RF.asap(s),i}},OL=function*(e,t){let a=e.byteLength;if(a<t)return void(yield e);let l,n=0;for(;n<a;)l=n+t,yield e.slice(n,l),n=l},PL=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}},FL=(e,t,a,l)=>{const n=async function*(e,t){for await(const a of PL(e))yield*OL(a,t)}(e,t);let o,s=0,i=e=>{o||(o=!0,l&&l(e))};return new ReadableStream({async pull(e){try{const{done:t,value:l}=await n.next();if(t)return i(),void e.close();let o=l.byteLength;if(a){let e=s+=o;a(e)}e.enqueue(new Uint8Array(l))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},{isFunction:LL}=RF,DL=(({Request:e,Response:t})=>({Request:e,Response:t}))(RF.global),{ReadableStream:VL,TextEncoder:BL}=RF.global,$L=(e,...t)=>{try{return!!e(...t)}catch(SJ){return!1}},RL=e=>{e=RF.merge.call({skipUndefined:!0},DL,e);const{fetch:t,Request:a,Response:l}=e,n=t?LL(t):"function"==typeof fetch,o=LL(a),s=LL(l);if(!n)return!1;const i=n&&LL(VL),r=n&&("function"==typeof BL?(e=>t=>e.encode(t))(new BL):async e=>new Uint8Array(await new a(e).arrayBuffer())),u=o&&i&&$L(()=>{let e=!1;const t=new a(rL.origin,{body:new VL,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=s&&i&&$L(()=>RF.isReadableStream(new l("").body)),c={stream:d&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!c[e]&&(c[e]=(t,a)=>{let l=t&&t[e];if(l)return l.call(t);throw new zF(`Response type '${e}' is not supported`,zF.ERR_NOT_SUPPORT,a)})});const p=async(e,t)=>{const l=RF.toFiniteNumber(e.getContentLength());return null==l?(async e=>{if(null==e)return 0;if(RF.isBlob(e))return e.size;if(RF.isSpecCompliantForm(e)){const t=new a(rL.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return RF.isArrayBufferView(e)||RF.isArrayBuffer(e)?e.byteLength:(RF.isURLSearchParams(e)&&(e+=""),RF.isString(e)?(await r(e)).byteLength:void 0)})(t):l};return async e=>{let{url:n,method:s,data:i,signal:r,cancelToken:m,timeout:v,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:y,withCredentials:b="same-origin",fetchOptions:x}=NL(e),w=t||fetch;g=g?(g+"").toLowerCase():"text";let _=AL([r,m&&m.toAbortSignal()],v),k=null;const S=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let C;try{if(f&&u&&"get"!==s&&"head"!==s&&0!==(C=await p(y,i))){let e,t=new a(n,{method:"POST",body:i,duplex:"half"});if(RF.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,a]=_L(C,wL(kL(f)));i=FL(t.body,65536,e,a)}}RF.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in a.prototype,r={...x,signal:_,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0};k=o&&new a(n,r);let m=await(o?w(k,x):w(n,r));const v=d&&("stream"===g||"response"===g);if(d&&(h||v&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=m[t]});const t=RF.toFiniteNumber(m.headers.get("content-length")),[a,n]=h&&_L(t,wL(kL(h),!0))||[];m=new l(FL(m.body,65536,a,()=>{n&&n(),S&&S()}),e)}g=g||"text";let I=await c[RF.findKey(c,g)||"text"](m,e);return!v&&S&&S(),await new Promise((t,a)=>{xL(t,a,{data:I,headers:fL.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:k})})}catch(I){if(S&&S(),I&&"TypeError"===I.name&&/Load failed|fetch/i.test(I.message))throw Object.assign(new zF("Network Error",zF.ERR_NETWORK,e,k),{cause:I.cause||I});throw zF.from(I,I&&I.code,e,k)}}},zL=new Map,UL=e=>{let t=e?e.env:{};const{fetch:a,Request:l,Response:n}=t,o=[l,n,a];let s,i,r=o.length,u=zL;for(;r--;)s=o[r],i=u.get(s),void 0===i&&u.set(s,i=r?new Map:RL(t)),u=i;return i};UL();const qL={http:null,xhr:ML,fetch:{get:UL}};RF.forEach(qL,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(SJ){}Object.defineProperty(e,"adapterName",{value:t})}});const HL=e=>`- ${e}`,jL=e=>RF.isFunction(e)||null===e||!1===e,WL=(e,t)=>{e=RF.isArray(e)?e:[e];const{length:a}=e;let l,n;const o={};for(let s=0;s<a;s++){let a;if(l=e[s],n=l,!jL(l)&&(n=qL[(a=String(l)).toLowerCase()],void 0===n))throw new zF(`Unknown adapter '${a}'`);if(n&&(RF.isFunction(n)||(n=n.get(t))))break;o[a||"#"+s]=n}if(!n){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new zF("There is no suitable adapter to dispatch the request "+(a?e.length>1?"since :\n"+e.map(HL).join("\n"):" "+HL(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function YL(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bL(null,e)}function GL(e){return YL(e),e.headers=fL.from(e.headers),e.data=gL.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WL(e.adapter||dL.adapter,e)(e).then(function(t){return YL(e),t.data=gL.call(e,e.transformResponse,t),t.headers=fL.from(t.headers),t},function(t){return yL(t)||(YL(e),t&&t.response&&(t.response.data=gL.call(e,e.transformResponse,t.response),t.response.headers=fL.from(t.response.headers))),Promise.reject(t)})}const KL="1.12.2",XL={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{XL[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const JL={};XL.transitional=function(e,t,a){function l(e,t){return"[Axios v"+KL+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,n,o)=>{if(!1===e)throw new zF(l(n," has been removed"+(t?" in "+t:"")),zF.ERR_DEPRECATED);return t&&!JL[n]&&(JL[n]=!0,console.warn(l(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,n,o)}},XL.spelling=function(e){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};const QL={assertOptions:function(e,t,a){if("object"!=typeof e)throw new zF("options must be an object",zF.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let n=l.length;for(;n-- >0;){const o=l[n],s=t[o];if(s){const t=e[o],a=void 0===t||s(t,o,e);if(!0!==a)throw new zF("option "+o+" must be "+a,zF.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new zF("Unknown option "+o,zF.ERR_BAD_OPTION)}},validators:XL},ZL=QL.validators;let eD=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eL,response:new eL}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(SJ){}}throw a}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=TL(this.defaults,t);const{transitional:a,paramsSerializer:l,headers:n}=t;void 0!==a&&QL.assertOptions(a,{silentJSONParsing:ZL.transitional(ZL.boolean),forcedJSONParsing:ZL.transitional(ZL.boolean),clarifyTimeoutError:ZL.transitional(ZL.boolean)},!1),null!=l&&(RF.isFunction(l)?t.paramsSerializer={serialize:l}:QL.assertOptions(l,{encode:ZL.function,serialize:ZL.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),QL.assertOptions(t,{baseUrl:ZL.spelling("baseURL"),withXsrfToken:ZL.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&RF.merge(n.common,n[t.method]);n&&RF.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=fL.concat(o,n);const s=[];let i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const r=[];let u;this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)});let d,c=0;if(!i){const e=[GL.bind(this),void 0];for(e.unshift(...s),e.push(...r),d=e.length,u=Promise.resolve(t);c<d;)u=u.then(e[c++],e[c++]);return u}d=s.length;let p=t;for(;c<d;){const e=s[c++],t=s[c++];try{p=e(p)}catch(Wie){t.call(this,Wie);break}}try{u=GL.call(this,p)}catch(Wie){return Promise.reject(Wie)}for(c=0,d=r.length;c<d;)u=u.then(r[c++],r[c++]);return u}getUri(e){return ZF(IL((e=TL(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};RF.forEach(["delete","get","head","options"],function(e){eD.prototype[e]=function(t,a){return this.request(TL(a||{},{method:e,url:t,data:(a||{}).data}))}}),RF.forEach(["post","put","patch"],function(e){function t(t){return function(a,l,n){return this.request(TL(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}eD.prototype[e]=t(),eD.prototype[e+"Form"]=t(!0)});const tD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tD).forEach(([e,t])=>{tD[t]=e});const aD=function e(t){const a=new eD(t),l=QP(eD.prototype.request,a);return RF.extend(l,eD.prototype,a,{allOwnKeys:!0}),RF.extend(l,a,null,{allOwnKeys:!0}),l.create=function(a){return e(TL(t,a))},l}(dL);aD.Axios=eD,aD.CanceledError=bL,aD.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const l=new Promise(e=>{a.subscribe(e),t=e}).then(e);return l.cancel=function(){a.unsubscribe(t)},l},e(function(e,l,n){a.reason||(a.reason=new bL(e,l,n),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},aD.isCancel=yL,aD.VERSION=KL,aD.toFormData=GF,aD.AxiosError=zF,aD.Cancel=aD.CanceledError,aD.all=function(e){return Promise.all(e)},aD.spread=function(e){return function(t){return e.apply(null,t)}},aD.isAxiosError=function(e){return RF.isObject(e)&&!0===e.isAxiosError},aD.mergeConfig=TL,aD.AxiosHeaders=fL,aD.formToJSON=e=>uL(RF.isHTMLForm(e)?new FormData(e):e),aD.getAdapter=WL,aD.HttpStatusCode=tD,aD.default=aD;const{Axios:lD,AxiosError:nD,CanceledError:oD,isCancel:sD,CancelToken:iD,VERSION:rD,all:uD,Cancel:dD,isAxiosError:cD,spread:pD,toFormData:mD,AxiosHeaders:vD,HttpStatusCode:hD,formToJSON:fD,getAdapter:gD,mergeConfig:yD}=aD,bD=zc({__name:"LightweightChart",props:{propstsym:{type:Object,required:!0}},setup(e){const t=e,l=Re(),n=a(null),o=a({}),s=a(!0),r=a(0),u=a(null),c=a(null),p=a(null),m=a(null),v=a([]),g=a(null),b=a(!0),x=a(!1),w=a(null),_=a(null),k=a(!1),S=e=>e&&e.token&&e.exch&&e.tsym?`${e.exch}:${e.token}:${e.tsym}`:null,C=async(e,t)=>{if(x.value)return void console.log("API call already in progress, skipping...");w.value&&(w.value.abort(),w.value=null),x.value=!0,s.value=!1,v.value=[],m.value&&m.value.setData(v.value);const a=await T(e);var l;let n;var i="UNDIND"==o.value.instname||"COM"==o.value.instname,d="1D"==e||"1W"==e&&!i;n=d?`jData={"uid":"${u.value}","exch":"${o.value.exch}","token":"${encodeURIComponent(o.value.tsym)}","st":"${a.to}","et":"${a.fr}","intrv":"${"1D"==e?1:5}"}&jKey=${c.value}`:`jData={"sym":"${o.value.exch}:${encodeURIComponent(o.value.tsym)}","from":"${a.to}","to":"${a.fr}"}&jKey=${c.value}`;const h=new AbortController;w.value=h;let f={method:"post",url:`${tl.myntapi}${d?"TPSeries":"EODChartData"}`,headers:{"Content-Type":"text/plain"},data:n,signal:h.signal};try{const a=await aD.request(f);if((l=d?a.data:a.data.map(JSON.parse))&&l.length>0){l=l.sort((e,t)=>parseFloat(e.ssboe)-parseFloat(t.ssboe));const e=[];for(var y=0;y<l.length;y++){var _={time:d?M(l[y].ssboe):I(l[y].time),value:Number(d?l[y].intvwap:l[y].intc)};e.push(_)}v.value=e,m.value&&m.value.setData(v.value),g.value=I(new Date),b.value&&p.value&&p.value.timeScale().fitContent(),s.value=!1}t&&"1D"==e&&l&&l.emsg&&l.emsg.includes("no data")&&(E(1),r.value=1),x.value=!1,w.value=null}catch(Wie){"CanceledError"===Wie.name||"canceled"===Wie.message||h.signal.aborted||console.error("Error loading chart data:",Wie),s.value=!1,x.value=!1,w.value=null}},I=e=>{let t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},E=e=>{m.value&&C(0==e?"1D":1==e?"1W":2==e?"1M":3==e?"1Y":4==e?"YTD":5==e?"MAX":e,!1)},T=e=>{const t=new Date,a=e=>Math.floor(e.getTime()/1e3),l={"1D":a(new Date((new Date).setHours(0,0,0,0))),"1W":a(new Date(t.getTime()-6048e5)),"1M":a(new Date(t.getFullYear(),t.getMonth()-1,t.getDate())),"1Y":a(new Date(t.getFullYear()-1,t.getMonth(),t.getDate())),YTD:a(new Date(t.getFullYear(),0,1)),MAX:a(new Date(1970,0,1))};return{fr:a(t),to:l[e]||null}},M=e=>Number(e)+19800,A=async e=>{if(k.value,!n.value&&(await N(),!n.value))return void console.error("Chart container element not found");let t=10;for(;t>0&&n.value&&(0===n.value.offsetWidth||0===n.value.offsetHeight);)await new Promise(e=>setTimeout(e,100)),t--;!n.value||0!==n.value.offsetWidth&&0!==n.value.offsetHeight||console.warn("Chart container has no dimensions, chart may not render correctly"),u.value=sessionStorage.getItem("userid"),c.value=sessionStorage.getItem("msession"),p.value&&(p.value.remove(),p.value=null,m.value=null);const a=l.current.value.dark,s={rightPriceScale:{visible:!1,borderVisible:!1},leftPriceScale:{visible:!1},timeScale:{visible:!1,timeVisible:!0},handleScroll:{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1},handleScale:{axisPressedMouseMove:!1,mouseWheel:!1,pinch:!1},layout:{background:{type:"solid",color:a?"#121212":"#fff"},textColor:a?"#fff":"#000"},grid:{vertLines:{visible:!1,color:a?"#222222":"#EBEEF0"},horzLines:{visible:!1,color:a?"#222222":"#EBEEF0"}}};p.value=Ua(n.value,s),m.value=p.value.addAreaSeries({topColor:a?"#2E65F62c":"#0037B72c",bottomColor:a?"#2E65F600":"#0037B700",lineColor:a?"#2E65F6":"#0037B7",lineWidth:2,crossHairMarkerVisible:!1}),r.value=0,C("1D",e),k.value=!0;const i=n.value,d=document.createElement("div");d.style="position: absolute; display: none; box-sizing: border-box; z-index: 1000; top: 12px; left: 12px; pointer-events: none; border: 1px solid; border-radius: 6px;",d.style.background=a?"#000":"#fff",d.style.borderColor="#EBEEF0",i.appendChild(d),p.value.subscribeCrosshairMove(e=>{if(void 0===e.point||!e.time||e.point.x<0||e.point.x>i.clientWidth||e.point.y<0||e.point.y>i.clientHeight||!e.seriesData||!m.value||!o.value||!o.value.tsym)return void(d.style.display="none");const t=e.seriesData.get(m.value);if(!t)return void(d.style.display="none");const a=void 0!==t.value?t.value:void 0!==t.close?t.close:null;if(null==a||isNaN(a))return void(d.style.display="none");const l=e.time;d.style.display="block";try{d.innerHTML=`<div class=" rounded-lg px-2 pt-2 pb-1"><div class="font-weight-medium maintext--text fs-14">${o.value.tsym||""}</div> <div class="font-weight-bold maintext--text fs-16 py-1">₹${Math.round(100*a)/100}</div> <div class="font-weight-medium subtext--text fs-12">${(e=>{if(!e)return"";try{if(0==r.value||1==r.value&&o.value&&("UNDIND"==o.value.instname||"COM"==o.value.instname)){const t=new Date(1e3*(e-19800));if(isNaN(t.getTime()))return"";let a=t.getHours();const l=t.getMinutes(),n=a>=12?"PM":"AM";return a=a%12||12,`${a}:${l.toString().padStart(2,"0")} ${n}`}{const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getDate().toString().padStart(2,"0");return`${a} ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]} ${t.getFullYear().toString()}`}}catch(Wie){return console.error("Error formatting date:",Wie),""}})(l)}</div></div>`;const t=e.point.y;let n=e.point.x+16;n>i.clientWidth-80&&(n=e.point.x-16-80);let s=t+16;s>i.clientHeight-80&&(s=t-80-16),d.style.left=n+"px",d.style.top=s+"px"}catch(Wie){console.error("Error updating tooltip:",Wie),d.style.display="none"}})},O=e=>{const t=e.detail;t&&t.token==o.value.token&&p.value&&m.value&&v.value&&v.value.length>0&&(e=>{if(!(e&&e.lp&&o.value&&g.value&&m.value&&v.value))return;let t=v.value.findIndex(e=>e.time==g.value);if(0!=r.value&&o.value.instname&&("UNDIND"==o.value.instname||"COM"==o.value.instname)){const a=Number(e.lp);if(isNaN(a))return;t>=0?(v.value[t].value=a,m.value.update(v.value[t])):(v.value.push({time:g.value,value:a}),m.value.setData(v.value))}})(t)};f(()=>t.propstsym,async(e,t)=>{if(!e||0===Object.keys(e).length)return;const a=S(e),l=t?S(t):null;if(a&&a===l&&a===_.value)return void console.log("Symbol unchanged, skipping API call");a&&(_.value=a),o.value=e,await N(),n.value||await N();let i=5;for(;i>0&&n.value&&(0===n.value.offsetWidth||0===n.value.offsetHeight);)await new Promise(e=>setTimeout(e,100)),i--;p.value&&m.value&&n.value?(s.value=!0,C(0==r.value?"1D":1==r.value?"1W":2==r.value?"1M":3==r.value?"1Y":4==r.value?"YTD":5==r.value?"MAX":"1D",!1)):n.value&&!k.value&&(n.value.offsetWidth>0&&n.value.offsetHeight>0?await A(!0):P())},{deep:!1,immediate:!0}),f(()=>l.current.value.dark,()=>{if(p.value&&m.value){const e=l.current.value.dark;p.value.applyOptions({layout:{background:{type:"solid",color:e?"#121212":"#fff"},textColor:e?"#fff":"#000"},grid:{vertLines:{visible:!1,color:e?"#222222":"#EBEEF0"},horzLines:{visible:!1,color:e?"#222222":"#EBEEF0"}}}),m.value.applyOptions({topColor:e?"#2E65F62c":"#0037B72c",bottomColor:e?"#2E65F600":"#0037B700",lineColor:e?"#2E65F6":"#0037B7"})}});const P=async(e=5,a=200)=>{for(let l=0;l<e;l++){if(await N(),t.propstsym&&Object.keys(t.propstsym).length>0){o.value=t.propstsym;const e=S(t.propstsym);e&&(_.value=e)}if(n.value){const e=n.value;if(e.offsetWidth>0&&e.offsetHeight>0&&t.propstsym&&Object.keys(t.propstsym).length>0&&!k.value)return await A(!0),!0}l<e-1&&await new Promise(e=>setTimeout(e,a))}return!1};return y(async()=>{window.addEventListener("web-scoketConn",O),P()}),h(()=>{b.value=!1,k.value=!1,w.value&&(w.value.abort(),w.value=null),p.value&&(p.value.remove(),p.value=null),m.value=null,window.removeEventListener("web-scoketConn",O),_.value=null,x.value=!1}),(e,t)=>(z(),R("div",null,[s.value?(z(),q(Op,{key:0,color:"primary",indeterminate:"",rounded:""})):ee("",!0),i("div",{ref_key:"chartContainer",ref:n,id:"containerlw",class:"chart-container mt-4 mb-2"},null,512),i("div",null,[d(B_,{modelValue:r.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>r.value=e),t[1]||(t[1]=e=>E(r.value))],mandatory:"","active-class":"primary--text",class:""},{default:H(()=>[d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[2]||(t[2]=[W("1D",-1)])]),_:1}),d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[3]||(t[3]=[W("1W",-1)])]),_:1}),d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[4]||(t[4]=[W("1M",-1)])]),_:1}),d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[5]||(t[5]=[W("1Y",-1)])]),_:1}),d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[6]||(t[6]=[W("YTD",-1)])]),_:1}),d(R_,{variant:"outlined",size:"small"},{default:H(()=>[...t[7]||(t[7]=[W("MAX",-1)])]),_:1})]),_:1},8,["modelValue"])])]))}},[["__scopeId","data-v-213271c0"]]),xD={__name:"DbLayout",setup:e=>(e,t)=>{const a=$("router-view");return z(),R("div",null,[d(a)])}},wD={__name:"DashBoard",setup:e=>(e,t)=>{const a=$("router-view");return z(),R("div",null,[d(a)])}},_D=xe({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1==0},totalVisible:[Number,String],firstIcon:{type:Ue,default:"$first"},prevIcon:{type:Ue,default:"$prev"},nextIcon:{type:Ue,default:"$next"},lastIcon:{type:Ue,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Uc(),...Oe(),...jc(),...Yc(),...Kc(),...yp(),...Jc({tag:"nav"}),...Ae(),...lp({variant:"text"})},"VPagination"),kD=Ee()({name:"VPagination",props:_D(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:o,emit:s}=t;const u=Fe(e,"modelValue"),{t:p,n:m}=Ht(),{isRtl:v}=Ge(),{themeClasses:h}=Te(e),{width:f}=yt(),g=k(-1);Ne(void 0,{scoped:!0});const{resizeRef:y}=je(e=>{if(!e.length)return;const{target:t,contentRect:a}=e[0],l=t.querySelector(".v-pagination__list > *");if(!l)return;const n=a.width,o=l.offsetWidth+2*parseFloat(getComputedStyle(l).marginRight);g.value=S(n,o)}),b=l(()=>parseInt(e.length,10)),x=l(()=>parseInt(e.start,10)),_=l(()=>null!=e.totalVisible?parseInt(e.totalVisible,10):g.value>=0?g.value:S(f.value,58));function S(t,a){const l=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((t-a*l)/a).toFixed(2))))}const C=l(()=>{if(b.value<=0||isNaN(b.value)||b.value>Number.MAX_SAFE_INTEGER)return[];if(_.value<=0)return[];if(1===_.value)return[u.value];if(b.value<=_.value)return la(b.value,x.value);const t=_.value%2==0,a=t?_.value/2:Math.floor(_.value/2),l=t?a:a+1,n=b.value-a;if(l-u.value>=0)return[...la(Math.max(1,_.value-1),x.value),e.ellipsis,b.value];if(u.value-n>=(t?1:0)){const t=_.value-1,a=b.value-t+x.value;return[x.value,e.ellipsis,...la(t,a)]}{const t=Math.max(1,_.value-2),a=1===t?u.value:u.value-Math.ceil(t/2)+x.value;return[x.value,e.ellipsis,...la(t,a),e.ellipsis,b.value]}});function I(e,t,a){e.preventDefault(),u.value=t,a&&s(a,t)}const{refs:E,updateRef:T}=function(){const e=a([]);return ce(()=>e.value=[]),{refs:e,updateRef:function(t,a){e.value[a]=t}}}();Ne({VPaginationBtn:{color:n(()=>e.color),border:n(()=>e.border),density:n(()=>e.density),size:n(()=>e.size),variant:n(()=>e.variant),rounded:n(()=>e.rounded),elevation:n(()=>e.elevation)}});const M=l(()=>C.value.map((t,a)=>{const l=e=>T(e,a);if("string"==typeof t)return{isActive:!1,key:`ellipsis-${a}`,page:t,props:{ref:l,ellipsis:!0,icon:!0,disabled:!0}};{const a=t===u.value;return{isActive:a,key:t,page:m(t),props:{ref:l,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:a?e.activeColor:e.color,"aria-current":a,"aria-label":p(a?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:e=>I(e,t)}}}})),A=l(()=>{const t=!!e.disabled||u.value<=x.value,a=!!e.disabled||u.value>=x.value+b.value-1;return{first:e.showFirstLastPage?{icon:v.value?e.lastIcon:e.firstIcon,onClick:e=>I(e,x.value,"first"),disabled:t,"aria-label":p(e.firstAriaLabel),"aria-disabled":t}:void 0,prev:{icon:v.value?e.nextIcon:e.prevIcon,onClick:e=>I(e,u.value-1,"prev"),disabled:t,"aria-label":p(e.previousAriaLabel),"aria-disabled":t},next:{icon:v.value?e.prevIcon:e.nextIcon,onClick:e=>I(e,u.value+1,"next"),disabled:a,"aria-label":p(e.nextAriaLabel),"aria-disabled":a},last:e.showFirstLastPage?{icon:v.value?e.firstIcon:e.lastIcon,onClick:e=>I(e,x.value+b.value-1,"last"),disabled:a,"aria-label":p(e.lastAriaLabel),"aria-disabled":a}:void 0}});function O(){var e;const t=u.value-x.value;null==(e=E.value[t])||e.$el.focus()}function P(t){t.key===oa.left&&!e.disabled&&u.value>Number(e.start)?(u.value=u.value-1,N(O)):t.key===oa.right&&!e.disabled&&u.value<x.value+b.value-1&&(u.value=u.value+1,N(O))}return Me(()=>d(e.tag,{ref:y,class:r(["v-pagination",h.value,e.class]),style:c(e.style),role:"navigation","aria-label":p(e.ariaLabel),onKeydown:P,"data-test":"v-pagination-root"},{default:()=>[i("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&i("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[o.first?o.first(A.value.first):d(im,w({_as:"VPaginationBtn"},A.value.first),null)]),i("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[o.prev?o.prev(A.value.prev):d(im,w({_as:"VPaginationBtn"},A.value.prev),null)]),M.value.map((e,t)=>i("li",{key:e.key,class:r(["v-pagination__item",{"v-pagination__item--is-active":e.isActive}]),"data-test":"v-pagination-item"},[o.item?o.item(e):d(im,w({_as:"VPaginationBtn"},e.props),{default:()=>[e.page]})])),i("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[o.next?o.next(A.value.next):d(im,w({_as:"VPaginationBtn"},A.value.next),null)]),e.showFirstLastPage&&i("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[o.last?o.last(A.value.last):d(im,w({_as:"VPaginationBtn"},A.value.last),null)])])]})),{}}}),SD=xe({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),CD=Symbol.for("vuetify:data-table-pagination");function ID(e){return{page:Fe(e,"page",void 0,e=>Number(e??1)),itemsPerPage:Fe(e,"itemsPerPage",void 0,e=>Number(e??10))}}function ED(e){const{page:t,itemsPerPage:a,itemsLength:n}=e,o=l(()=>-1===a.value?0:a.value*(t.value-1)),s=l(()=>-1===a.value?n.value:Math.min(n.value,o.value+a.value)),i=l(()=>-1===a.value||0===n.value?1:Math.ceil(n.value/a.value));f([t,i],()=>{t.value>i.value&&(t.value=i.value)});const r={page:t,itemsPerPage:a,startIndex:o,stopIndex:s,pageCount:i,itemsLength:n,nextPage:function(){t.value=We(t.value+1,1,i.value)},prevPage:function(){t.value=We(t.value-1,1,i.value)},setPage:function(e){t.value=We(e,1,i.value)},setItemsPerPage:function(e){a.value=e,t.value=1}};return m(CD,r),r}function TD(e){const t=Pe("usePaginatedItems"),{items:a,startIndex:n,stopIndex:o,itemsPerPage:s}=e,i=l(()=>s.value<=0?a.value:a.value.slice(n.value,o.value));return f(i,e=>{t.emit("update:currentItems",e)},{immediate:!0}),{paginatedItems:i}}const ND=xe({prevIcon:{type:Ue,default:"$prev"},nextIcon:{type:Ue,default:"$next"},firstIcon:{type:Ue,default:"$first"},lastIcon:{type:Ue,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),MD=Ee()({name:"VDataTableFooter",props:ND(),setup(e,t){let{slots:a}=t;const{t:n}=Ht(),{page:o,pageCount:s,startIndex:r,stopIndex:u,itemsLength:c,itemsPerPage:p,setItemsPerPage:m}=function(){const e=v(CD);if(!e)throw new Error("Missing pagination!");return e}(),h=l(()=>e.itemsPerPageOptions.map(e=>"number"==typeof e?{value:e,title:-1===e?n("$vuetify.dataFooter.itemsPerPageAll"):String(e)}:{...e,title:isNaN(Number(e.title))?n(e.title):e.title}));return Me(()=>{var t;const l=kD.filterProps(e);return i("div",{class:"v-data-table-footer"},[null==(t=a.prepend)?void 0:t.call(a),i("div",{class:"v-data-table-footer__items-per-page"},[i("span",{"aria-label":n(e.itemsPerPageText)},[n(e.itemsPerPageText)]),d(rI,{items:h.value,modelValue:p.value,"onUpdate:modelValue":e=>m(Number(e)),density:"compact",variant:"outlined",hideDetails:!0},null)]),i("div",{class:"v-data-table-footer__info"},[i("div",null,[n(e.pageText,c.value?r.value+1:0,u.value,c.value)])]),i("div",{class:"v-data-table-footer__pagination"},[d(kD,w({modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:s.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},l),null)])])}),{}}}),AD=sa({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:a}=t;const l=e.tag??"td",n="string"==typeof e.fixed?e.fixed:e.fixed?"start":"none";return d(l,{class:r(["v-data-table__td",{"v-data-table-column--fixed":"start"===n,"v-data-table-column--fixed-end":"end"===n,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:$e(e.height),width:$e(e.width),maxWidth:$e(e.maxWidth),left:"start"===n?$e(e.fixedOffset||null):void 0,right:"end"===n?$e(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?$e(e.indent):void 0}},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})}),OD=xe({headers:Array},"DataTable-header"),PD=Symbol.for("vuetify:data-table-headers"),FD={title:"",sortable:!1},LD={...FD,width:48};function DD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.children)for(const a of e.children)DD(a,t);else t.push(e);return t}function VD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;for(const a of e)a.key&&t.add(a.key),a.children&&VD(a.children,t);return t}function BD(e){if(e.key)return"data-table-group"===e.key?FD:["data-table-expand","data-table-select"].includes(e.key)?LD:void 0}function $D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.children?Math.max(t,...e.children.map(e=>$D(e,t+1))):t}function RD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const a of e.children)t=RD(a,t)}else e.fixed&&"end"!==e.fixed&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function zD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const a of e.children)t=zD(a,t)}else"end"===e.fixed&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function UD(e,t){const a=[];let l=0;const n=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({element:e,priority:0}));return{enqueue:(t,a)=>{let l=!1;for(let n=0;n<e.length;n++)if(e[n].priority>a){e.splice(n,0,{element:t,priority:a}),l=!0;break}l||e.push({element:t,priority:a})},size:()=>e.length,count:()=>{let t=0;if(!e.length)return 0;const a=Math.floor(e[0].priority);for(let l=0;l<e.length;l++)Math.floor(e[l].priority)===a&&(t+=1);return t},dequeue:()=>e.shift()}}(e);for(;n.size()>0;){let e=n.count();const o=[];let s=1;for(;e>0;){const{element:a,priority:i}=n.dequeue(),r=t-l-$D(a);if(o.push({...a,rowspan:r??1,colspan:a.children?DD(a).length:1}),a.children)for(const e of a.children){const t=i%1+s/Math.pow(10,l+2);n.enqueue(e,l+r+t)}s+=1,e-=1}l+=1,a.push(o)}return{columns:e.map(e=>DD(e)).flat(),headers:a}}function qD(e){const t=[];for(const a of e){const e={...BD(a),...a},l=e.key??("string"==typeof e.value?e.value:null),n=e.value??l??null,o={...e,key:l,value:n,sortable:e.sortable??(null!=e.key||!!e.sort),children:e.children?qD(e.children):void 0};t.push(o)}return t}function HD(e,t){const l=a([]),n=a([]),o=a({}),s=a({}),i=a({});I(()=>{var a,r,u;const d=(e.headers||Object.keys(e.items[0]??{}).map(e=>({key:e,title:X(e)}))).slice(),c=VD(d);(null==(a=null==t?void 0:t.groupBy)?void 0:a.value.length)&&!c.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(null==(r=null==t?void 0:t.showSelect)?void 0:r.value)&&!c.has("data-table-select")&&d.unshift({key:"data-table-select"}),(null==(u=null==t?void 0:t.showExpand)?void 0:u.value)&&!c.has("data-table-expand")&&d.push({key:"data-table-expand"});const p=qD(d);!function(e){let t=!1;function a(e,l){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";if(e)if("none"!==n&&(e.fixed=n),!0===e.fixed&&(e.fixed="start"),e.fixed===l)if(e.children)if("start"===l)for(let t=e.children.length-1;t>=0;t--)a(e.children[t],l,l);else for(let t=0;t<e.children.length;t++)a(e.children[t],l,l);else t||"start"!==l?t||"end"!==l?isNaN(Number(e.width))?ia(`Multiple fixed columns should have a static width (key: ${e.key})`):e.minWidth=Math.max(Number(e.width)||0,Number(e.minWidth)||0):e.firstFixedEnd=!0:e.lastFixed=!0,t=!0;else if(e.children)if("start"===l)for(let t=e.children.length-1;t>=0;t--)a(e.children[t],l);else for(let t=0;t<e.children.length;t++)a(e.children[t],l);else t=!1}for(let o=e.length-1;o>=0;o--)a(e[o],"start");for(let o=0;o<e.length;o++)a(e[o],"end");let l=0;for(let o=0;o<e.length;o++)l=RD(e[o],l);let n=0;for(let o=e.length-1;o>=0;o--)n=zD(e[o],n)}(p);const m=Math.max(...p.map(e=>$D(e)))+1,v=UD(p,m);l.value=v.headers,n.value=v.columns;const h=v.headers.flat(1);for(const e of h)e.key&&(e.sortable&&(e.sort&&(o.value[e.key]=e.sort),e.sortRaw&&(s.value[e.key]=e.sortRaw)),e.filter&&(i.value[e.key]=e.filter))});const r={headers:l,columns:n,sortFunctions:o,sortRawFunctions:s,filterFunctions:i};return m(PD,r),r}function jD(){const e=v(PD);if(!e)throw new Error("Missing headers!");return e}const WD={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:l}=e;return new Set(l?[null==(t=a[0])?void 0:t.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},YD={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,currentPage:a,selected:l}=e;return YD.select({items:a,value:t,selected:l})}},GD={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:a,selected:l}=e;for(const n of t)a?l.add(n.value):l.delete(n.value);return l},selectAll:e=>{let{value:t,allItems:a,selected:l}=e;return GD.select({items:a,value:t,selected:l})}},KD=xe({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Le}},"DataTable-select"),XD=Symbol.for("vuetify:data-table-selection");function JD(e,t){let{allItems:a,currentPage:o}=t;const s=Fe(e,"modelValue",e.modelValue,t=>new Set(De(t).map(t=>{var l;return(null==(l=a.value.find(a=>e.valueComparator(t,a.value)))?void 0:l.value)??t})),e=>[...e.values()]),i=l(()=>a.value.filter(e=>e.selectable)),r=l(()=>o.value.filter(e=>e.selectable)),u=l(()=>{if("object"==typeof e.selectStrategy)return e.selectStrategy;switch(e.selectStrategy){case"single":return WD;case"all":return GD;default:return YD}}),d=k(null);function c(e){return De(e).every(e=>s.value.has(e.value))}function p(e,t){const a=u.value.select({items:e,value:t,selected:new Set(s.value)});s.value=a}const v=l(()=>s.value.size>0),h=l(()=>{const e=u.value.allSelected({allItems:i.value,currentPage:r.value});return!!e.length&&c(e)}),f={toggleSelect:function(t,a,l){const n=[];if(a=a??o.value.findIndex(e=>e.value===t.value),"single"!==e.selectStrategy&&(null==l?void 0:l.shiftKey)&&null!==d.value){const[e,t]=[d.value,a].sort((e,t)=>e-t);n.push(...o.value.slice(e,t+1).filter(e=>e.selectable))}else n.push(t),d.value=a;p(n,!c([t]))},select:p,selectAll:function(e){const t=u.value.selectAll({value:e,allItems:i.value,currentPage:r.value,selected:new Set(s.value)});s.value=t},isSelected:c,isSomeSelected:function(e){return De(e).some(e=>s.value.has(e.value))},someSelected:v,allSelected:h,showSelectAll:n(()=>u.value.showSelectAll),lastSelectedIndex:d,selectStrategy:u};return m(XD,f),f}function QD(){const e=v(XD);if(!e)throw new Error("Missing selection!");return e}const ZD=xe({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),eV=Symbol.for("vuetify:data-table-sort");function tV(e){return{sortBy:Fe(e,"sortBy"),mustSort:n(()=>e.mustSort),multiSort:n(()=>e.multiSort)}}function aV(e){const{sortBy:t,mustSort:a,multiSort:l,page:n}=e,o={sortBy:t,toggleSort:e=>{if(null==e.key)return;let o=t.value.map(e=>({...e}))??[];const s=o.find(t=>t.key===e.key);s?"desc"===s.order?a.value&&1===o.length?s.order="asc":o=o.filter(t=>t.key!==e.key):s.order="desc":l.value?o.push({key:e.key,order:"asc"}):o=[{key:e.key,order:"asc"}],t.value=o,n&&(n.value=1)},isSorted:function(e){return!!t.value.find(t=>t.key===e.key)}};return m(eV,o),o}function lV(){const e=v(eV);if(!e)throw new Error("Missing sort!");return e}function nV(e,t,a,n){const o=Ht(),s=l(()=>{var l,s;return a.value.length?function(e,t,a,l){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"}),o=e.map(e=>[e,(null==l?void 0:l.transform)?l.transform(e):e]);return o.sort((e,a)=>{var o,s;for(let i=0;i<t.length;i++){let r=!1;const u=t[i].key,d=t[i].order??"asc";if(!1===d)continue;let c=ra(e[1],u),p=ra(a[1],u),m=e[0].raw,v=a[0].raw;if("desc"===d&&([c,p]=[p,c],[m,v]=[v,m]),null==(o=null==l?void 0:l.sortRawFunctions)?void 0:o[u]){const e=l.sortRawFunctions[u](m,v);if(null==e)continue;if(r=!0,e)return e}if(null==(s=null==l?void 0:l.sortFunctions)?void 0:s[u]){const e=l.sortFunctions[u](c,p);if(null==e)continue;if(r=!0,e)return e}if(!r&&(c instanceof Date&&p instanceof Date&&(c=c.getTime(),p=p.getTime()),[c,p]=[c,p].map(e=>null!=e?e.toString().toLocaleLowerCase():e),c!==p))return ua(c)&&ua(p)?0:ua(c)?-1:ua(p)?1:isNaN(c)||isNaN(p)?n.compare(c,p):Number(c)-Number(p)}return 0}).map(e=>{let[t]=e;return t})}(t.value,a.value,o.current.value,{transform:null==n?void 0:n.transform,sortFunctions:{...e.customKeySort,...null==(l=null==n?void 0:n.sortFunctions)?void 0:l.value},sortRawFunctions:null==(s=null==n?void 0:n.sortRawFunctions)?void 0:s.value}):t.value});return{sortedItems:s}}const oV=xe({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:Ue,default:"$sortAsc"},sortDescIcon:{type:Ue,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...jc(),...Wt(),...Pp()},"VDataTableHeaders"),sV=Ee()({name:"VDataTableHeaders",props:oV(),setup(e,t){let{slots:a}=t;const{t:n}=Ht(),{toggleSort:o,sortBy:s,isSorted:p}=lV(),{someSelected:m,allSelected:v,selectAll:h,showSelectAll:f}=QD(),{columns:g,headers:y}=jD(),{loaderClasses:b}=Fp(e);function x(t,a){if(!e.sticky&&!e.fixedHeader&&!t.fixed)return;const l="string"==typeof t.fixed?t.fixed:t.fixed?"start":"none";return{position:"sticky",left:"start"===l?$e(t.fixedOffset):void 0,right:"end"===l?$e(t.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${a})`:void 0}}function _(t){const a=s.value.find(e=>e.key===t.key);return a?"asc"===a.order?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:k,backgroundColorStyles:S}=ep(()=>e.color),{displayClasses:C,mobile:I}=yt(e),E=l(()=>({headers:y.value,columns:g.value,toggleSort:o,isSorted:p,sortBy:s.value,someSelected:m.value,allSelected:v.value,selectAll:h,getSortIcon:_})),T=l(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},C.value,b.value]),N=t=>{let{column:l,x:n,y:u}=t;const g="data-table-select"===l.key||"data-table-expand"===l.key,y="data-table-group"===l.key&&0===l.width&&!l.title,b=w(e.headerProps??{},l.headerProps??{});return d(AD,w({tag:"th",align:l.align,class:[{"v-data-table__th--sortable":l.sortable&&!e.disableSort,"v-data-table__th--sorted":p(l),"v-data-table__th--fixed":l.fixed},...T.value],style:{width:$e(l.width),minWidth:$e(l.minWidth),maxWidth:$e(l.maxWidth),...x(l,u)},colspan:l.colspan,rowspan:l.rowspan,fixed:l.fixed,nowrap:l.nowrap,lastFixed:l.lastFixed,firstFixedEnd:l.firstFixedEnd,noPadding:g,empty:y,tabindex:l.sortable?0:void 0,onClick:l.sortable?()=>o(l):void 0,onKeydown:l.sortable?t=>function(t,a){"Enter"!==t.key||e.disableSort||o(a)}(t,l):void 0},b),{default:()=>{var t;const n=`header.${l.key}`,u={column:l,selectAll:h,isSorted:p,toggleSort:o,sortBy:s.value,someSelected:m.value,allSelected:v.value,getSortIcon:_};return a[n]?a[n](u):y?"":"data-table-select"===l.key?(null==(t=a["header.data-table-select"])?void 0:t.call(a,u))??(f.value&&d(GC,{density:e.density,modelValue:v.value,indeterminate:m.value&&!v.value,"onUpdate:modelValue":h},null)):i("div",{class:"v-data-table-header__content"},[i("span",null,[l.title]),l.sortable&&!e.disableSort&&d(wp,{key:"icon",class:"v-data-table-header__sort-icon",icon:_(l)},null),e.multiSort&&p(l)&&i("div",{key:"badge",class:r(["v-data-table-header__sort-badge",...k.value]),style:c(S.value)},[s.value.findIndex(e=>e.key===l.key)+1])])}})},M=()=>{const t=l(()=>g.value.filter(t=>(null==t?void 0:t.sortable)&&!e.disableSort)),a=l(()=>{if(null!=g.value.find(e=>"data-table-select"===e.key))return v.value?"$checkboxOn":m.value?"$checkboxIndeterminate":"$checkboxOff"});return d(AD,w({tag:"th",class:[...T.value],colspan:y.value.length+1},e.headerProps),{default:()=>[i("div",{class:"v-data-table-header__content"},[d(rI,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:t.value,label:n("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:a.value,"onClick:append":()=>h(!v.value)},{chip:e=>{var t;return d(R_,{onClick:(null==(t=e.item.raw)?void 0:t.sortable)?()=>o(e.item.raw):void 0,onMousedown:e=>{e.preventDefault(),e.stopPropagation()}},{default:()=>[e.item.title,d(wp,{class:r(["v-data-table__td-sort-icon",p(e.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:_(e.item.raw),size:"small"},null)]})}})])]})};Me(()=>I.value?i("tr",null,[d(M,null,null)]):i(u,null,[a.headers?a.headers(E.value):y.value.map((e,t)=>i("tr",null,[e.map((e,a)=>d(N,{column:e,x:a,y:t},null))])),e.loading&&i("tr",{class:"v-data-table-progress"},[i("th",{colspan:g.value.length},[d(Lp,{name:"v-data-table-progress",absolute:!0,active:!0,color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),iV=xe({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),rV=Symbol.for("vuetify:data-table-group");function uV(e){return{groupBy:Fe(e,"groupBy")}}function dV(e){const{disableSort:t,groupBy:n,sortBy:o}=e,s=a(new Set),i=l(()=>n.value.map(e=>({...e,order:e.order??!1})).concat((null==t?void 0:t.value)?[]:o.value));function r(e){return s.value.has(e.id)}const u={sortByWithGroups:i,toggleGroup:function(e){const t=new Set(s.value);r(e)?t.delete(e.id):t.add(e.id),s.value=t},opened:s,groupBy:n,extractRows:function(e){return function e(t){const a=[];for(const l of t.items)"type"in l&&"group"===l.type?a.push(...e(l)):a.push(l);return[...new Set(a)]}({items:e})},isGroupOpen:r};return m(rV,u),u}function cV(){const e=v(rV);if(!e)throw new Error("Missing group!");return e}function pV(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root";if(!t.length)return[];const n=function(e,t){if(!e.length)return[];const a=new Map;for(const l of e){const e=ra(l.raw,t);a.has(e)||a.set(e,[]),a.get(e).push(l)}return a}(e,t[0]),o=[],s=t.slice(1);return n.forEach((e,n)=>{const i=t[0],r=`${l}_${i}_${n}`;o.push({depth:a,id:r,key:i,value:n,items:s.length?pV(e,s,a+1,r):e,type:"group"})}),o}function mV(e,t,a){const l=[];for(const n of e)"type"in n&&"group"===n.type?(null!=n.value&&l.push(n),(t.has(n.id)||null==n.value)&&(l.push(...mV(n.items,t,a)),a&&l.push({...n,type:"group-summary"}))):l.push(n);return l}function vV(e,t,a,n){return{flatItems:l(()=>t.value.length?mV(pV(e.value,t.value.map(e=>e.key)),a.value,s(n)):e.value)}}const hV=xe({item:{type:Object,required:!0},groupCollapseIcon:{type:Ue,default:"$tableGroupCollapse"},groupExpandIcon:{type:Ue,default:"$tableGroupExpand"},...jc()},"VDataTableGroupHeaderRow"),fV=Ee()({name:"VDataTableGroupHeaderRow",props:hV(),setup(e,t){let{slots:a}=t;const{isGroupOpen:o,toggleGroup:s,extractRows:r}=cV(),{isSelected:u,isSomeSelected:c,select:p}=QD(),{columns:m}=jD(),v=l(()=>r([e.item])),h=n(()=>m.value.length-(m.value.some(e=>"data-table-select"===e.key)?1:0));return()=>i("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[m.value.map(t=>{var l,n;if("data-table-group"===t.key){const t=o(e.item)?e.groupCollapseIcon:e.groupExpandIcon,n=()=>s(e.item);return(null==(l=a["data-table-group"])?void 0:l.call(a,{item:e.item,count:v.value.length,props:{icon:t,onClick:n}}))??d(AD,{class:"v-data-table-group-header-row__column",colspan:h.value},{default:()=>[d(im,{size:"small",variant:"text",icon:t,onClick:n},null),i("span",null,[e.item.value]),i("span",null,[W("("),v.value.length,W(")")])]})}if("data-table-select"===t.key){const t=u(v.value),l=c(v.value)&&!t,o=e=>p(v.value,e);return(null==(n=a["data-table-select"])?void 0:n.call(a,{props:{modelValue:t,indeterminate:l,"onUpdate:modelValue":o}}))??d(AD,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[d(GC,{density:e.density,modelValue:t,indeterminate:l,"onUpdate:modelValue":o},null)]})}return""})])}}),gV=xe({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),yV=Symbol.for("vuetify:datatable:expanded");function bV(e){const t=n(()=>e.expandOnClick),a=Fe(e,"expanded",e.expanded,e=>new Set(e),e=>[...e.values()]);function l(e,t){const l=new Set(a.value),n=F(e.value);if(t)l.add(n);else{const e=[...a.value].find(e=>F(e)===n);l.delete(e)}a.value=l}function o(e){const t=F(e.value);return[...a.value].some(e=>F(e)===t)}const s={expand:l,expanded:a,expandOnClick:t,isExpanded:o,toggleExpand:function(e){l(e,!o(e))}};return m(yV,s),s}function xV(){const e=v(yV);if(!e)throw new Error("foo");return e}const wV=xe({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:Ue,default:"$collapse"},expandIcon:{type:Ue,default:"$expand"},onClick:Lt(),onContextmenu:Lt(),onDblclick:Lt(),...jc(),...Wt()},"VDataTableRow"),_V=Ee()({name:"VDataTableRow",props:wV(),setup(e,t){let{slots:a}=t;const{displayClasses:l,mobile:n}=yt(e,"v-data-table__tr"),{isSelected:o,toggleSelect:s,someSelected:c,allSelected:p,selectAll:m}=QD(),{isExpanded:v,toggleExpand:h}=xV(),{toggleSort:f,sortBy:g,isSorted:y}=lV(),{columns:b}=jD();Me(()=>i("tr",{class:r(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},l.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&b.value.map((t,l)=>{const r=e.item,b=`item.${t.key}`,x=`header.${t.key}`,_={index:e.index,item:r.raw,internalItem:r,value:ra(r.columns,t.key),column:t,isSelected:o,toggleSelect:s,isExpanded:v,toggleExpand:h},k={column:t,selectAll:m,isSorted:y,toggleSort:f,sortBy:g.value,someSelected:c.value,allSelected:p.value,getSortIcon:()=>""},S="function"==typeof e.cellProps?e.cellProps({index:_.index,item:_.item,internalItem:_.internalItem,value:_.value,column:t}):e.cellProps,C="function"==typeof t.cellProps?t.cellProps({index:_.index,item:_.item,internalItem:_.internalItem,value:_.value}):t.cellProps,I="data-table-select"===t.key||"data-table-expand"===t.key,E="data-table-group"===t.key&&0===t.width&&!t.title;return d(AD,w({align:t.align,indent:t.intent,class:{"v-data-table__td--expanded-row":"data-table-expand"===t.key,"v-data-table__td--select-row":"data-table-select"===t.key},fixed:t.fixed,fixedOffset:t.fixedOffset,fixedEndOffset:t.fixedEndOffset,lastFixed:t.lastFixed,firstFixedEnd:t.firstFixedEnd,maxWidth:n.value?void 0:t.maxWidth,noPadding:I,empty:E,nowrap:t.nowrap,width:n.value?void 0:t.width},S,C),{default:()=>{var l,c,p,m;if("data-table-select"===t.key)return(null==(l=a["item.data-table-select"])?void 0:l.call(a,{..._,props:{disabled:!r.selectable,modelValue:o([r]),onClick:ie(()=>s(r),["stop"])}}))??d(GC,{disabled:!r.selectable,density:e.density,modelValue:o([r]),onClick:ie(t=>s(r,e.index,t),["stop"])},null);if("data-table-expand"===t.key)return(null==(c=a["item.data-table-expand"])?void 0:c.call(a,{..._,props:{icon:v(r)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ie(()=>h(r),["stop"])}}))??d(im,{icon:v(r)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:ie(()=>h(r),["stop"])},null);if(a[b]&&!n.value)return a[b](_);const f=A(_.value);return n.value?i(u,null,[i("div",{class:"v-data-table__td-title"},[(null==(p=a[x])?void 0:p.call(a,k))??t.title]),i("div",{class:"v-data-table__td-value"},[(null==(m=a[b])?void 0:m.call(a,_))??f])]):f}})})]))}}),kV=xe({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Vt(wV(),["collapseIcon","expandIcon","density"]),...Vt(hV(),["groupCollapseIcon","groupExpandIcon","density"]),...Wt()},"VDataTableRows"),SV=Ee()({name:"VDataTableRows",inheritAttrs:!1,props:kV(),setup(e,t){let{attrs:a,slots:l}=t;const{columns:n}=jD(),{expandOnClick:o,toggleExpand:s,isExpanded:r}=xV(),{isSelected:c,toggleSelect:p}=QD(),{toggleGroup:m,isGroupOpen:v}=cV(),{t:h}=Ht(),{mobile:f}=yt(e);return Me(()=>{var t,g;const y=Vt(e,["groupCollapseIcon","groupExpandIcon","density"]);return!e.loading||e.items.length&&!l.loading?e.loading||e.items.length||e.hideNoData?i(u,null,[e.items.map((t,h)=>{var g,b;if("group"===t.type){const e={index:h,item:t,columns:n.value,isExpanded:r,toggleExpand:s,isSelected:c,toggleSelect:p,toggleGroup:m,isGroupOpen:v};return l["group-header"]?l["group-header"](e):d(fV,w({key:`group-header_${t.id}`,item:t},da(a,":groupHeader",()=>e),y),l)}if("group-summary"===t.type){const e={index:h,item:t,columns:n.value,toggleGroup:m};return(null==(g=l["group-summary"])?void 0:g.call(l,e))??""}const x={index:h,item:t.raw,internalItem:t,columns:n.value,isExpanded:r,toggleExpand:s,isSelected:c,toggleSelect:p},_={...x,props:w({key:`item_${t.key??t.index}`,onClick:o.value?()=>{s(t)}:void 0,index:h,item:t,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:f.value},da(a,":row",()=>x),"function"==typeof e.rowProps?e.rowProps({item:x.item,index:x.index,internalItem:x.internalItem}):e.rowProps)};return i(u,{key:_.props.key},[l.item?l.item(_):d(_V,_.props,l),r(t)&&(null==(b=l["expanded-row"])?void 0:b.call(l,x))])})]):i("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[i("td",{colspan:n.value.length},[(null==(g=l["no-data"])?void 0:g.call(l))??h(e.noDataText)])]):i("tr",{class:"v-data-table-rows-loading",key:"loading"},[i("td",{colspan:n.value.length},[(null==(t=l.loading)?void 0:t.call(l))??h(e.loadingText)])])}),{}}}),CV=xe({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...Oe(),...jc(),...Jc(),...Ae()},"VTable"),IV=Ee()({name:"VTable",props:CV(),setup(e,t){let{slots:a,emit:l}=t;const{themeClasses:n}=Te(e),{densityClasses:o}=Wc(e);return Me(()=>d(e.tag,{class:r(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover,"v-table--striped-even":"even"===e.striped,"v-table--striped-odd":"odd"===e.striped},n.value,o.value,e.class]),style:c(e.style)},{default:()=>{var t,l,n;return[null==(t=a.top)?void 0:t.call(a),a.default?i("div",{class:"v-table__wrapper",style:{height:$e(e.height)}},[i("table",null,[a.default()])]):null==(l=a.wrapper)?void 0:l.call(a),null==(n=a.bottom)?void 0:n.call(a)]}})),{}}}),EV=xe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function TV(e,t,a){return t.map((t,l)=>function(e,t,a,l){const n=e.returnObject?t:Bt(t,e.itemValue),o=Bt(t,e.itemSelectable,!0),s=l.reduce((e,a)=>(null!=a.key&&(e[a.key]=Bt(t,a.value)),e),{});return{type:"item",key:e.returnObject?Bt(t,e.itemValue):n,index:a,value:n,selectable:o,columns:s,raw:t}}(e,t,l,a))}function NV(e,t){return{items:l(()=>TV(e,e.items,t.value))}}function MV(e){let{page:t,itemsPerPage:a,sortBy:l,groupBy:n,search:o}=e;const s=Pe("VDataTable");let i=null;f(()=>({page:t.value,itemsPerPage:a.value,sortBy:l.value,groupBy:n.value,search:o.value}),e=>{Le(i,e)||(i&&i.search!==e.search&&(t.value=1),s.emit("update:options",e),i=e)},{deep:!0,immediate:!0})}const AV=xe({...kV(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...gV(),...iV(),...OD(),...EV(),...KD(),...ZD(),...oV(),...CV()},"DataTable"),OV=xe({...SD(),...AV(),...GE(),...ND()},"VDataTable"),PV=Ee()({name:"VDataTable",props:OV(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:s}=uV(e),{sortBy:r,multiSort:c,mustSort:p}=tV(e),{page:m,itemsPerPage:v}=ID(e),{disableSort:h}=_(e),{columns:f,headers:g,sortFunctions:y,sortRawFunctions:b,filterFunctions:x}=HD(e,{groupBy:s,showSelect:n(()=>e.showSelect),showExpand:n(()=>e.showExpand)}),{items:k}=NV(e,f),S=n(()=>e.search),{filteredItems:C}=KE(e,k,S,{transform:e=>e.columns,customKeyFilter:x}),{toggleSort:I}=aV({sortBy:r,multiSort:c,mustSort:p,page:m}),{sortByWithGroups:E,opened:T,extractRows:N,isGroupOpen:M,toggleGroup:A}=dV({groupBy:s,sortBy:r,disableSort:h}),{sortedItems:O}=nV(e,C,E,{transform:e=>({...e.raw,...e.columns}),sortFunctions:y,sortRawFunctions:b}),{flatItems:P}=vV(O,s,T,()=>!!o["group-summary"]),F=l(()=>P.value.length),{startIndex:L,stopIndex:D,pageCount:V,setItemsPerPage:B}=ED({page:m,itemsPerPage:v,itemsLength:F}),{paginatedItems:$}=TD({items:P,startIndex:L,stopIndex:D,itemsPerPage:v}),R=l(()=>N($.value)),{isSelected:z,select:U,selectAll:q,toggleSelect:H,someSelected:j,allSelected:W}=JD(e,{allItems:k,currentPage:R}),{isExpanded:Y,toggleExpand:G}=bV(e);MV({page:m,itemsPerPage:v,sortBy:r,groupBy:s,search:S}),Ne({VDataTableRows:{hideNoData:n(()=>e.hideNoData),noDataText:n(()=>e.noDataText),loading:n(()=>e.loading),loadingText:n(()=>e.loadingText)}});const K=l(()=>({page:m.value,itemsPerPage:v.value,sortBy:r.value,pageCount:V.value,toggleSort:I,setItemsPerPage:B,someSelected:j.value,allSelected:W.value,isSelected:z,select:U,selectAll:q,toggleSelect:H,isExpanded:Y,toggleExpand:G,isGroupOpen:M,toggleGroup:A,items:R.value.map(e=>e.raw),internalItems:R.value,groupedItems:$.value,columns:f.value,headers:g.value}));return Me(()=>{const t=MD.filterProps(e),l=sV.filterProps(e),n=SV.filterProps(e),s=IV.filterProps(e);return d(IV,w({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},s,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,K.value)},default:()=>{var t,s,r,c,p,m;return o.default?o.default(K.value):i(u,null,[null==(t=o.colgroup)?void 0:t.call(o,K.value),!e.hideDefaultHeader&&i("thead",{key:"thead"},[d(sV,l,o)]),null==(s=o.thead)?void 0:s.call(o,K.value),!e.hideDefaultBody&&i("tbody",null,[null==(r=o["body.prepend"])?void 0:r.call(o,K.value),o.body?o.body(K.value):d(SV,w(a,n,{items:$.value}),o),null==(c=o["body.append"])?void 0:c.call(o,K.value)]),null==(p=o.tbody)?void 0:p.call(o,K.value),null==(m=o.tfoot)?void 0:m.call(o,K.value)])},bottom:()=>o.bottom?o.bottom(K.value):!e.hideDefaultFooter&&i(u,null,[d(my,null,null),d(MD,t,{prepend:o["footer.prepend"]})])})}),{}}}),FV=xe({...Ct(AV(),["hideDefaultFooter"]),...iV(),...ZC(),...GE()},"VDataTableVirtual"),LV=Ee()({name:"VDataTableVirtual",props:FV(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:s}=uV(e),{sortBy:r,multiSort:u,mustSort:c}=tV(e),{disableSort:p}=_(e),{columns:m,headers:v,filterFunctions:h,sortFunctions:f,sortRawFunctions:g}=HD(e,{groupBy:s,showSelect:n(()=>e.showSelect),showExpand:n(()=>e.showExpand)}),{items:y}=NV(e,m),b=n(()=>e.search),{filteredItems:x}=KE(e,y,b,{transform:e=>e.columns,customKeyFilter:h}),{toggleSort:S}=aV({sortBy:r,multiSort:u,mustSort:c}),{sortByWithGroups:C,opened:I,extractRows:E,isGroupOpen:T,toggleGroup:N}=dV({groupBy:s,sortBy:r,disableSort:p}),{sortedItems:M}=nV(e,x,C,{transform:e=>({...e.raw,...e.columns}),sortFunctions:f,sortRawFunctions:g}),{flatItems:A}=vV(M,s,I,()=>!!o["group-summary"]),O=l(()=>E(A.value)),{isSelected:P,select:F,selectAll:L,toggleSelect:D,someSelected:V,allSelected:B}=JD(e,{allItems:O,currentPage:O}),{isExpanded:$,toggleExpand:R}=bV(e),{containerRef:z,markerRef:U,paddingTop:q,paddingBottom:H,computedItems:j,handleItemResize:W,handleScroll:Y,handleScrollend:G,calculateVisibleItems:K,scrollToIndex:X}=eI(e,A),J=l(()=>j.value.map(e=>e.raw));MV({sortBy:r,page:k(1),itemsPerPage:k(-1),groupBy:s,search:b}),Ne({VDataTableRows:{hideNoData:n(()=>e.hideNoData),noDataText:n(()=>e.noDataText),loading:n(()=>e.loading),loadingText:n(()=>e.loadingText)}});const Q=l(()=>({sortBy:r.value,toggleSort:S,someSelected:V.value,allSelected:B.value,isSelected:P,select:F,selectAll:L,toggleSelect:D,isExpanded:$,toggleExpand:R,isGroupOpen:T,toggleGroup:N,items:O.value.map(e=>e.raw),internalItems:O.value,groupedItems:A.value,columns:m.value,headers:v.value}));return Me(()=>{const t=sV.filterProps(e),l=SV.filterProps(e),n=IV.filterProps(e);return d(IV,w({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},n,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,Q.value)},wrapper:()=>{var n,s,r,u,c,p;return i("div",{ref:z,onScrollPassive:Y,onScrollend:G,class:"v-table__wrapper",style:{height:$e(e.height)}},[i("table",null,[null==(n=o.colgroup)?void 0:n.call(o,Q.value),!e.hideDefaultHeader&&i("thead",{key:"thead"},[d(sV,t,o)]),null==(s=o.thead)?void 0:s.call(o,Q.value),!e.hideDefaultBody&&i("tbody",{key:"tbody"},[i("tr",{ref:U,style:{height:$e(q.value),border:0}},[i("td",{colspan:m.value.length,style:{height:0,border:0}},null)]),null==(r=o["body.prepend"])?void 0:r.call(o,Q.value),d(SV,w(a,l,{items:J.value}),{...o,item:e=>d(QC,{key:e.internalItem.index,renderless:!0,"onUpdate:height":t=>W(e.internalItem.index,t)},{default:t=>{var a;let{itemRef:l}=t;return(null==(a=o.item)?void 0:a.call(o,{...e,itemRef:l}))??d(_V,w(e.props,{ref:l,key:e.internalItem.index,index:e.internalItem.index}),o)}})}),null==(u=o["body.append"])?void 0:u.call(o,Q.value),i("tr",{style:{height:$e(H.value),border:0}},[i("td",{colspan:m.value.length,style:{height:0,border:0}},null)])]),null==(c=o.tbody)?void 0:c.call(o,Q.value),null==(p=o.tfoot)?void 0:p.call(o,Q.value)])])},bottom:()=>{var e;return null==(e=o.bottom)?void 0:e.call(o,Q.value)}})}),{calculateVisibleItems:K,scrollToIndex:X}}}),DV=xe({itemsLength:{type:[Number,String],required:!0},...SD(),...AV(),...ND()},"VDataTableServer"),VV=Ee()({name:"VDataTableServer",props:DV(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:s}=uV(e),{sortBy:r,multiSort:c,mustSort:p}=tV(e),{page:v,itemsPerPage:h}=ID(e),{disableSort:f}=_(e),g=l(()=>parseInt(e.itemsLength,10)),{columns:y,headers:b}=HD(e,{groupBy:s,showSelect:n(()=>e.showSelect),showExpand:n(()=>e.showExpand)}),{items:x}=NV(e,y),{toggleSort:k}=aV({sortBy:r,multiSort:c,mustSort:p,page:v}),{opened:S,isGroupOpen:C,toggleGroup:I,extractRows:E}=dV({groupBy:s,sortBy:r,disableSort:f}),{pageCount:T,setItemsPerPage:N}=ED({page:v,itemsPerPage:h,itemsLength:g}),{flatItems:M}=vV(x,s,S,()=>!!o["group-summary"]),{isSelected:A,select:O,selectAll:P,toggleSelect:F,someSelected:L,allSelected:D}=JD(e,{allItems:x,currentPage:x}),{isExpanded:V,toggleExpand:B}=bV(e),$=l(()=>E(x.value));MV({page:v,itemsPerPage:h,sortBy:r,groupBy:s,search:n(()=>e.search)}),m("v-data-table",{toggleSort:k,sortBy:r}),Ne({VDataTableRows:{hideNoData:n(()=>e.hideNoData),noDataText:n(()=>e.noDataText),loading:n(()=>e.loading),loadingText:n(()=>e.loadingText)}});const R=l(()=>({page:v.value,itemsPerPage:h.value,sortBy:r.value,pageCount:T.value,toggleSort:k,setItemsPerPage:N,someSelected:L.value,allSelected:D.value,isSelected:A,select:O,selectAll:P,toggleSelect:F,isExpanded:V,toggleExpand:B,isGroupOpen:C,toggleGroup:I,items:$.value.map(e=>e.raw),internalItems:$.value,groupedItems:M.value,columns:y.value,headers:b.value}));Me(()=>{const t=MD.filterProps(e),l=sV.filterProps(e),n=SV.filterProps(e),s=IV.filterProps(e);return d(IV,w({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},s,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var e;return null==(e=o.top)?void 0:e.call(o,R.value)},default:()=>{var t,s,r,c,p,m;return o.default?o.default(R.value):i(u,null,[null==(t=o.colgroup)?void 0:t.call(o,R.value),!e.hideDefaultHeader&&i("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[d(sV,l,o)]),null==(s=o.thead)?void 0:s.call(o,R.value),!e.hideDefaultBody&&i("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[null==(r=o["body.prepend"])?void 0:r.call(o,R.value),o.body?o.body(R.value):d(SV,w(a,n,{items:M.value}),o),null==(c=o["body.append"])?void 0:c.call(o,R.value)]),null==(p=o.tbody)?void 0:p.call(o,R.value),null==(m=o.tfoot)?void 0:m.call(o,R.value)])},bottom:()=>o.bottom?o.bottom(R.value):!e.hideDefaultFooter&&i(u,null,[d(my,null,null),d(MD,t,{prepend:o["footer.prepend"]})])})})}});function BV(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function $V(e){if(e.length<2)return 0;if(2===e.length)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const l=BV(t),n=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);t+=(n-l)*Math.abs(n),a===e.length-1&&(t*=.5)}return 1e3*BV(t)}function RV(){const e={};return{addMovement:function(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new tt(20))).push([t.timeStamp,a])})},endTouch:function(t){Array.from(t.changedTouches).forEach(t=>{delete e[t.identifier]})},getVelocity:function(t){var a;const l=null==(a=e[t])?void 0:a.values().reverse();if(!l)throw new Error(`No samples for touch id ${t}`);const n=l[0],o=[],s=[];for(const e of l){if(n[0]-e[0]>100)break;o.push({t:e[0],d:e[1].clientX}),s.push({t:e[0],d:e[1].clientY})}return{x:$V(o),y:$V(s),get direction(){const{x:e,y:t}=this,[a,l]=[Math.abs(e),Math.abs(t)];return a>l&&e>=0?"right":a>l&&e<=0?"left":l>a&&t>=0?"down":l>a&&t<=0?"up":function(){throw new Error}()}}}}}function zV(){throw new Error}const UV=["start","end","left","right","top","bottom"],qV=xe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>UV.includes(e)},sticky:Boolean,...Uc(),...Oe(),...km(),...Wt({mobile:null}),...Yc(),...At(),...Kc(),...Jc({tag:"nav"}),...Ae()},"VNavigationDrawer"),HV=Ee()({name:"VNavigationDrawer",props:qV(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:o,emit:s,slots:r}=t;const{isRtl:c}=Ge(),{themeClasses:p}=Te(e),{borderClasses:m}=qc(e),{backgroundColorClasses:v,backgroundColorStyles:g}=ep(()=>e.color),{elevationClasses:b}=Gc(e),{displayClasses:x,mobile:_}=yt(e),{roundedClasses:S}=Xc(e),T=$p(),M=Fe(e,"modelValue",null,e=>!!e),{ssrBootStyles:A}=Yg(),{scopeId:O}=Am(),F=a(),L=k(!1),{runOpenDelay:D,runCloseDelay:V}=Sm(e,e=>{L.value=e}),B=l(()=>e.rail&&e.expandOnHover&&L.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),$=l(()=>ca(e.location,c.value)),R=n(()=>e.persistent),z=l(()=>!e.permanent&&(_.value||e.temporary)),U=l(()=>e.sticky&&!z.value&&"bottom"!==$.value);Xe(()=>e.expandOnHover&&null!=e.rail,()=>{f(L,e=>s("update:rail",!e))}),Xe(()=>!e.disableResizeWatcher,()=>{f(z,t=>!e.permanent&&N(()=>M.value=!t))}),Xe(()=>!e.disableRouteWatcher&&!!T,()=>{f(T.currentRoute,()=>z.value&&(M.value=!1))}),f(()=>e.permanent,e=>{e&&(M.value=!0)}),null!=e.modelValue||z.value||(M.value=e.permanent||!_.value);const{isDragging:q,dragProgress:H}=function(e){let{el:t,isActive:a,isTemporary:n,width:o,touchless:s,position:i}=e;y(()=>{window.addEventListener("touchstart",w,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",S,{passive:!0})}),h(()=>{window.removeEventListener("touchstart",w),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",S)});const r=l(()=>["left","right"].includes(i.value)),{addMovement:u,endTouch:d,getVelocity:c}=RV();let p=!1;const m=k(!1),v=k(0),f=k(0);let g;function b(e,t){return("left"===i.value?e:"right"===i.value?document.documentElement.clientWidth-e:"top"===i.value?e:"bottom"===i.value?document.documentElement.clientHeight-e:zV())-(t?o.value:0)}function x(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a="left"===i.value?(e-f.value)/o.value:"right"===i.value?(document.documentElement.clientWidth-e-f.value)/o.value:"top"===i.value?(e-f.value)/o.value:"bottom"===i.value?(document.documentElement.clientHeight-e-f.value)/o.value:zV();return t?We(a):a}function w(e){if(s.value)return;const t=e.changedTouches[0].clientX,l=e.changedTouches[0].clientY,c="left"===i.value?t<25:"right"===i.value?t>document.documentElement.clientWidth-25:"top"===i.value?l<25:"bottom"===i.value?l>document.documentElement.clientHeight-25:zV(),m=a.value&&("left"===i.value?t<o.value:"right"===i.value?t>document.documentElement.clientWidth-o.value:"top"===i.value?l<o.value:"bottom"===i.value?l>document.documentElement.clientHeight-o.value:zV());(c||m||a.value&&n.value)&&(g=[t,l],f.value=b(r.value?t:l,a.value),v.value=x(r.value?t:l),p=f.value>-20&&f.value<80,d(e),u(e))}function _(e){const t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;if(p){if(!e.cancelable)return void(p=!1);const l=Math.abs(t-g[0]),n=Math.abs(a-g[1]);(r.value?l>n&&l>3:n>l&&n>3)?(m.value=!0,p=!1):(r.value?n:l)>3&&(p=!1)}if(!m.value)return;e.preventDefault(),u(e);const l=x(r.value?t:a,!1);v.value=Math.max(0,Math.min(1,l)),l>1?f.value=b(r.value?t:a,!0):l<0&&(f.value=b(r.value?t:a,!1))}function S(e){if(p=!1,!m.value)return;u(e),m.value=!1;const t=c(e.changedTouches[0].identifier),l=Math.abs(t.x),n=Math.abs(t.y),o=r.value?l>n&&l>400:n>l&&n>3;a.value=o?t.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||zV()):v.value>.5}const E=l(()=>m.value?{transform:"left"===i.value?`translateX(calc(-100% + ${v.value*o.value}px))`:"right"===i.value?`translateX(calc(100% - ${v.value*o.value}px))`:"top"===i.value?`translateY(calc(-100% + ${v.value*o.value}px))`:"bottom"===i.value?`translateY(calc(100% - ${v.value*o.value}px))`:zV(),transition:"none"}:void 0);return Xe(m,()=>{var e,a;const l=(null==(e=t.value)?void 0:e.style.transform)??null,n=(null==(a=t.value)?void 0:a.style.transition)??null;I(()=>{var e,a,l,n;null==(a=t.value)||a.style.setProperty("transform",(null==(e=E.value)?void 0:e.transform)||"none"),null==(n=t.value)||n.style.setProperty("transition",(null==(l=E.value)?void 0:l.transition)||null)}),C(()=>{var e,a;null==(e=t.value)||e.style.setProperty("transform",l),null==(a=t.value)||a.style.setProperty("transition",n)})}),{isDragging:m,dragProgress:v,dragStyles:E}}({el:F,isActive:M,isTemporary:z,width:B,touchless:n(()=>e.touchless),position:$}),j=l(()=>{const t=z.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return q.value?t*H.value:t}),{layoutItemStyles:W,layoutItemScrimStyles:Y}=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:$,layoutSize:j,elementSize:B,active:P(M),disableTransitions:n(()=>q.value),absolute:l(()=>e.absolute||U.value&&"string"!=typeof G.value)}),{isStuck:G,stickyStyles:K}=function(e){let{rootEl:t,isSticky:a,layoutItemStyles:n}=e;const o=k(!1),s=k(0),i=l(()=>{const e="boolean"==typeof o.value?"top":o.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[e]:$e(s.value)}:{top:n.value.top}]});y(()=>{f(a,e=>{e?window.addEventListener("scroll",u,{passive:!0}):window.removeEventListener("scroll",u)},{immediate:!0})}),h(()=>{window.removeEventListener("scroll",u)});let r=0;function u(){const e=r>window.scrollY?"up":"down",a=t.value.getBoundingClientRect(),l=parseFloat(n.value.top??0),i=window.scrollY-Math.max(0,s.value-l),u=a.height+Math.max(s.value,l)-window.scrollY-window.innerHeight,d=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;a.height<window.innerHeight-l?(o.value="top",s.value=l):"up"===e&&"bottom"===o.value||"down"===e&&"top"===o.value?(s.value=window.scrollY+a.top-d,o.value=!0):"down"===e&&u<=0?(s.value=0,o.value="bottom"):"up"===e&&i<=0&&(d?"top"!==o.value&&(s.value=-i+d+l,o.value="top"):(s.value=a.top+i,o.value="top")),r=window.scrollY}return{isStuck:o,stickyStyles:i}}({rootEl:F,isSticky:U,layoutItemStyles:W}),X=ep(()=>"string"==typeof e.scrim?e.scrim:null),J=l(()=>({...q.value?{opacity:.2*H.value,transition:"none"}:void 0,...Y.value}));return Ne({VList:{bgColor:"transparent"}}),Me(()=>{const t=r.image||e.image;return i(u,null,[d(e.tag,w({ref:F,onMouseenter:D,onMouseleave:V,class:["v-navigation-drawer",`v-navigation-drawer--${$.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":z.value,"v-navigation-drawer--persistent":R.value,"v-navigation-drawer--active":M.value,"v-navigation-drawer--sticky":U.value},p.value,v.value,m.value,x.value,b.value,S.value,e.class],style:[g.value,W.value,A.value,K.value,e.style]},O,o),{default:()=>{var a,l,n;return[t&&i("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?d(fp,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):d(Ug,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[null==(a=r.prepend)?void 0:a.call(r)]),i("div",{class:"v-navigation-drawer__content"},[null==(l=r.default)?void 0:l.call(r)]),r.append&&i("div",{class:"v-navigation-drawer__append"},[null==(n=r.append)?void 0:n.call(r)])]}}),d(E,{name:"fade-transition"},{default:()=>[z.value&&(q.value||M.value)&&!!e.scrim&&i("div",w({class:["v-navigation-drawer__scrim",X.backgroundColorClasses.value],style:[J.value,X.backgroundColorStyles.value],onClick:()=>{R.value||(M.value=!1)}},O),null)]})])}),{isStuck:G}}}),jV=Symbol.for("vuetify:v-tabs"),WV=xe({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ct(sm({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),YV=Ee()({name:"VTab",props:WV(),setup(e,t){let{slots:n,attrs:o}=t;const{textColorClasses:s,textColorStyles:p}=Zc(()=>e.sliderColor),m=a(),v=a(),h=l(()=>"horizontal"===e.direction),f=l(()=>{var e,t;return(null==(t=null==(e=m.value)?void 0:e.group)?void 0:t.isSelected.value)??!1});function g(e){var t,a;let{value:l}=e;if(l){const e=null==(a=null==(t=m.value)?void 0:t.$el.parentElement)?void 0:a.querySelector(".v-tab--selected .v-tab__slider"),l=v.value;if(!e||!l)return;const n=getComputedStyle(e).color,o=e.getBoundingClientRect(),s=l.getBoundingClientRect(),i=h.value?"x":"y",r=h.value?"X":"Y",u=h.value?"right":"bottom",d=h.value?"width":"height",c=o[i]>s[i]?o[u]-s[u]:o[i]-s[i],p=Math.sign(c)>0?h.value?"right":"bottom":Math.sign(c)<0?h.value?"left":"top":"center",f=(Math.abs(c)+(Math.sign(c)<0?o[d]:s[d]))/Math.max(o[d],s[d])||0,g=o[d]/s[d]||0,y=1.5;wt(l,{backgroundColor:[n,"currentcolor"],transform:[`translate${r}(${c}px) scale${r}(${g})`,`translate${r}(${c/y}px) scale${r}(${(f-1)/y+1})`,"none"],transformOrigin:Array(3).fill(p)},{duration:225,easing:kt})}}return Me(()=>{const t=im.filterProps(e);return d(im,w({symbol:jV,ref:m,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1},t,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":g}),{...n,default:()=>{var t;return i(u,null,[(null==(t=n.default)?void 0:t.call(n))??e.text,!e.hideSlider&&i("div",{ref:v,class:r(["v-tab__slider",s.value]),style:c(p.value)},null)])}})}),Wm({},m)}});function GV(e,t){var a;const l=e.changedTouches[0];t.touchendX=l.clientX,t.touchendY=l.clientY,null==(a=t.end)||a.call(t,{originalEvent:e,...t}),(e=>{const{touchstartX:t,touchendX:a,touchstartY:l,touchendY:n}=e;e.offsetX=a-t,e.offsetY=n-l,Math.abs(e.offsetY)<.5*Math.abs(e.offsetX)&&(e.left&&a<t-16&&e.left(e),e.right&&a>t+16&&e.right(e)),Math.abs(e.offsetX)<.5*Math.abs(e.offsetY)&&(e.up&&n<l-16&&e.up(e),e.down&&n>l+16&&e.down(e))})(t)}const KV={mounted:function(e,t){var a;const l=t.value,n=(null==l?void 0:l.parent)?e.parentElement:e,o=(null==l?void 0:l.options)??{passive:!0},s=null==(a=t.instance)?void 0:a.$.uid;if(!n||void 0===s)return;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>function(e,t){var a;const l=e.changedTouches[0];t.touchstartX=l.clientX,t.touchstartY=l.clientY,null==(a=t.start)||a.call(t,{originalEvent:e,...t})}(e,t),touchend:e=>GV(e,t),touchmove:e=>function(e,t){var a;const l=e.changedTouches[0];t.touchmoveX=l.clientX,t.touchmoveY=l.clientY,null==(a=t.move)||a.call(t,{originalEvent:e,...t})}(e,t)}}(t.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[s]=i,pa(i).forEach(e=>{n.addEventListener(e,i[e],o)})},unmounted:function(e,t){var a,l;const n=(null==(a=t.value)?void 0:a.parent)?e.parentElement:e,o=null==(l=t.instance)?void 0:l.$.uid;if(!(null==n?void 0:n._touchHandlers)||void 0===o)return;const s=n._touchHandlers[o];pa(s).forEach(e=>{n.removeEventListener(e,s[e])}),delete n._touchHandlers[o]}},XV=Symbol.for("vuetify:v-window"),JV=Symbol.for("vuetify:v-window-group"),QV=xe({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||"hover"===e},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...Oe(),...Jc(),...Ae()},"VWindow"),ZV=Ee()({name:"VWindow",directives:{vTouch:KV},props:QV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const{themeClasses:s}=Te(e),{isRtl:u}=Ge(),{t:p}=Ht(),v=dp(e,JV),h=a(),g=l(()=>u.value?!e.reverse:e.reverse),y=k(!1),b=l(()=>e.crossfade?"v-window-crossfade-transition":`v-window-${"vertical"===e.direction?"y":"x"}${(g.value?!y.value:y.value)?"-reverse":""}-transition`),x=k(0),w=a(void 0),_=l(()=>v.items.value.findIndex(e=>v.selected.value.includes(e.id)));f(_,(e,t)=>{let a;const l={left:0,top:0};Qe&&t>=0&&(a=_t(h.value),l.left=null==a?void 0:a.scrollLeft,l.top=null==a?void 0:a.scrollTop);const n=v.items.value.length,o=n-1;y.value=n<=2?e<t:e===o&&0===t||(0!==e||t!==o)&&e<t,N(()=>{Qe&&a&&(a.scrollTop!==l.top&&a.scrollTo({...l,behavior:"instant"}),requestAnimationFrame(()=>{a&&a.scrollTop!==l.top&&a.scrollTo({...l,behavior:"instant"})}))})},{flush:"sync"}),m(XV,{transition:b,isReversed:y,transitionCount:x,transitionHeight:w,rootRef:h});const S=n(()=>e.continuous||0!==_.value),C=n(()=>e.continuous||_.value!==v.items.value.length-1);function I(){S.value&&v.prev()}function E(){C.value&&v.next()}const T=l(()=>{const t=[],a={icon:u.value?e.nextIcon:e.prevIcon,class:"v-window__"+(g.value?"right":"left"),onClick:v.prev,"aria-label":p("$vuetify.carousel.prev")};t.push(S.value?o.prev?o.prev({props:a}):d(im,a,null):i("div",null,null));const l={icon:u.value?e.prevIcon:e.nextIcon,class:"v-window__"+(g.value?"left":"right"),onClick:v.next,"aria-label":p("$vuetify.carousel.next")};return t.push(C.value?o.next?o.next({props:l}):d(im,l,null):i("div",null,null)),t}),A=l(()=>!1===e.touch?e.touch:{left:()=>{g.value?I():E()},right:()=>{g.value?E():I()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()},...!0===e.touch?{}:e.touch});return Me(()=>M(d(e.tag,{ref:h,class:r(["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows,"v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},s.value,e.class]),style:c([e.style,e.transitionDuration&&!Ye?{"--v-window-transition-duration":$e(e.transitionDuration,"ms")}:void 0])},{default:()=>{var t,a;return[i("div",{class:"v-window__container",style:{height:w.value}},[null==(t=o.default)?void 0:t.call(o,{group:v}),!1!==e.showArrows&&i("div",{class:r(["v-window__controls",{"v-window__controls--left":"left"===e.verticalArrows||!0===e.verticalArrows},{"v-window__controls--right":"right"===e.verticalArrows}])},[T.value])]),null==(a=o.additional)?void 0:a.call(o,{group:v})]}}),[[KV,A.value]])),{group:v}}}),eB=xe({...Ct(QV(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),tB=Ee()({name:"VTabsWindow",props:eB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=v(jV,null),o=Fe(e,"modelValue"),s=l({get(){var e;return null==o.value&&n?null==(e=n.items.value.find(e=>n.selected.value.includes(e.id)))?void 0:e.value:o.value},set(e){o.value=e}});return Me(()=>{const t=ZV.filterProps(e);return d(ZV,w({_as:"VTabsWindow"},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),aB=xe({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Oe(),...rp(),...Nm()},"VWindowItem"),lB=Ee()({name:"VWindowItem",directives:{vTouch:KV},props:aB(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=v(XV),o=up(e,JV),{isBooted:s}=Yg();if(!n||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const u=k(!1),p=l(()=>s.value&&(n.isReversed.value?!1!==e.reverseTransition:!1!==e.transition));function m(){u.value&&n&&(u.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,0===n.transitionCount.value&&(n.transitionHeight.value=void 0)))}function h(){var e;!u.value&&n&&(u.value=!0,0===n.transitionCount.value&&(n.transitionHeight.value=$e(null==(e=n.rootRef.value)?void 0:e.clientHeight)),n.transitionCount.value+=1)}function f(){m()}function g(e){u.value&&N(()=>{p.value&&u.value&&n&&(n.transitionHeight.value=$e(e.clientHeight))})}const y=l(()=>{const t=n.isReversed.value?e.reverseTransition:e.transition;return!!p.value&&{name:"string"!=typeof t?n.transition.value:t,onBeforeEnter:h,onAfterEnter:m,onEnterCancelled:f,onBeforeLeave:h,onAfterLeave:m,onLeaveCancelled:f,onEnter:g}}),{hasContent:b}=Mm(e,o.isSelected);return Me(()=>d(Lm,{transition:y.value,disabled:!s.value},{default:()=>{var t;return[M(i("div",{class:r(["v-window-item",o.selectedClass.value,e.class]),style:c(e.style)},[b.value&&(null==(t=a.default)?void 0:t.call(a))]),[[V,o.isSelected.value]])]}})),{groupItem:o}}}),nB=xe({...aB()},"VTabsWindowItem"),oB=Ee()({name:"VTabsWindowItem",props:nB(),setup(e,t){let{slots:a}=t;return Me(()=>{const t=lB.filterProps(e);return d(lB,w({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),a)}),{}}}),sB=xe({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Vt(WV(),["spaced"]),...F_({mandatory:"force",selectedClass:"v-tab-item--selected"}),...jc(),...Jc()},"VTabs"),iB=Ee()({name:"VTabs",props:sB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const s=Fe(e,"modelValue"),r=l(()=>function(e){return e?e.map(e=>Ze(e)?e:{text:e,value:e}):[]}(e.items)),{densityClasses:c}=Wc(e),{backgroundColorClasses:p,backgroundColorStyles:m}=ep(()=>e.bgColor),{scopeId:v}=Am();return Ne({VTab:{color:n(()=>e.color),direction:n(()=>e.direction),stacked:n(()=>e.stacked),fixed:n(()=>e.fixedTabs),sliderColor:n(()=>e.sliderColor),hideSlider:n(()=>e.hideSlider)}}),Me(()=>{const t=L_.filterProps(e),l=!!(o.window||e.items.length>0);return i(u,null,[d(L_,w(t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},c.value,p.value,e.class],style:[{"--v-tabs-height":$e(e.height)},m.value,e.style],role:"tablist",symbol:jV},v,a),{default:()=>{var t;return[(null==(t=o.default)?void 0:t.call(o))??r.value.map(t=>{var a;return(null==(a=o.tab)?void 0:a.call(o,{item:t}))??d(YV,w(t,{key:t.text,value:t.value,spaced:e.spaced}),{default:o[`tab.${t.value}`]?()=>{var e;return null==(e=o[`tab.${t.value}`])?void 0:e.call(o,{item:t})}:void 0})})]}}),l&&d(tB,w({modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,key:"tabs-window"},v),{default:()=>{var e;return[r.value.map(e=>{var t;return(null==(t=o.item)?void 0:t.call(o,{item:e}))??d(oB,{value:e.value},{default:()=>{var t;return null==(t=o[`item.${e.value}`])?void 0:t.call(o,{item:e})}})}),null==(e=o.window)?void 0:e.call(o)]}})])}),{}}}),rB={class:"my-6"},uB={class:"d-flex justify-space-between align-center flex-wrap",style:{gap:"16px"}},dB={key:0,class:"stat-item flex-grow-1",style:{"min-width":"120px"}},cB={id:"poststatmtm"},pB={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},mB={id:"poststatpnl"},vB={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},hB={class:"stat-value maintext--text fs-16 font-weight-bold"},fB={id:"poststatval"},gB={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},yB={id:"poststatopnl"},bB={class:"stat-item",style:{"min-width":"140px"}},xB={class:"d-flex align-center",style:{gap:"8px"}},wB={class:"fs-14 font-weight-medium",id:"poststatP"},_B={class:"fs-14 font-weight-medium",id:"poststatN"},kB={class:"fs-14 font-weight-medium",id:"poststatC"},SB={class:"text-center mx-auto py-16 mt-16"},CB=["src"],IB={class:"font-weight-medium subtext--text fs-12"},EB={class:"pos-rlt",style:{"min-height":"40px","padding-right":"40px"}},TB={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},NB={class:"ml-1 subtext--text fs-10"},MB=["src"],AB={class:"font-weight-medium fs-12",style:{color:"#ffffff"}},OB={class:"font-weight-medium fs-12"},PB={class:"font-weight-medium maintext--text",style:{"text-align":"right",display:"block"}},FB={class:"font-weight-medium maintext--text",style:{"text-align":"right",display:"block"}},LB=["id"],DB=["id"],VB=["id"],BB={class:"font-weight-medium maintext--text",style:{"text-align":"right",display:"block"}},$B=["id"],RB=["id"],zB={class:"font-weight-medium fs-12 subtext--text"},UB={class:"font-weight-medium fs-12 subtext--text"},qB={class:"font-weight-medium maintext--text",style:{"text-align":"right",display:"block"}},HB={class:"font-weight-medium maintext--text",style:{"text-align":"right",display:"block"}},jB={class:"text-center mx-auto py-16 mt-16"},WB=["src"],YB={class:"pa-6 text-center"},GB={class:"font-weight-medium mb-6 maintext--text mt-2",style:{"font-size":"22px !important"}},KB={class:"d-flex justify-space-between px-5",style:{gap:"12px"}},XB={class:"ml-1 subtext--text fs-10"},JB={class:"px-6 pt-4 pb-2"},QB={class:"ml-1 subtext--text fs-10"},ZB={class:"px-4"},e$={key:0,class:"pb-6"},t$={class:"float-right mb-0"},a$={class:"font-weight-medium fs-12",style:{color:"#ffffff"}},l$={class:"font-weight-medium fs-12"},n$={class:"float-right mb-0"},o$={class:"float-right mb-0"},s$={class:"float-right mb-0"},i$={class:"float-right mb-0"},r$={class:"float-right mb-0"},u$={class:"float-right mb-0"},d$={class:"float-right mb-0"},c$={class:"float-right mb-0"},p$={class:"float-right mb-0"},m$={class:"float-right mb-0"},v$={class:"float-right mb-0"},h$={class:"float-right mb-0"},f$={class:"float-right mb-0"},g$={class:"float-right mb-0"},y$={class:"float-right mb-0"},b$={class:"float-right mb-0"},x$={class:"float-right mb-0"},w$={class:"float-right mb-0"},_$={class:"float-right mb-0"},k$={class:"float-right mb-0"},S$={class:"float-right mb-0"},C$={class:"float-right mb-0"},I$={class:"float-right mb-0"},E$={class:"float-right mb-0"},T$={class:"float-right mb-0"},N$={class:"float-right mb-0"},M$={class:"float-right mb-0"},A$={class:"float-right mb-0"},O$={class:"float-right mb-0"},P$={class:"float-right mb-0"},F$={class:"pa-4"},L$={__name:"PosiTions",setup(e){const t=Y(),n=Rc(),o=Qa(),s=a(null),p=a(null),m=a("positions"),v=a(""),g=a("all"),b=a([{val:"all",txt:"All"},{val:"stocks",txt:"Stocks"},{val:"fno",txt:"F&O"},{val:"comm",txt:"Commodities"},{val:"curr",txt:"Currency"}]),_=a(!1),k=a(!1);a(null),a(null);const S=a([]),C=a([]),I=a([]),E=a([]),T=a([]),N=a({mtm:"0.00",pnl:"0.00",tradeval:"0.00",oppnl:"0.00",positive:[],negative:[],close:[],open:[]}),M=a({}),O=a(null);a(!1);const P=a(!1),F=a(!1),L=a(!1),D=a(!1),V=a(""),B=a(0),j=a({}),G=a(!1),K=a(null),X=a({x:[],y:[]}),J=["tsym","exch","s_prdt_ali","instname"],Q=["tsym","exch"];function Z(e,t,a){if(!a)return!0;const l=String(a).toLowerCase();for(const n of t){const t=e&&e[n];if(null!=t&&String(t).toLowerCase().includes(l))return!0}return!1}function te(){try{sessionStorage.setItem("positions_last",JSON.stringify({a:S.value,o:I.value,c:E.value}))}catch(SJ){}}function ae(){K.value&&K.value.resize()}f(O,async e=>{if(e&&M.value[e])try{X.value={x:[],y:[]},K.value&&K.value.clear()}catch(SJ){X.value={x:[],y:[]},K.value&&K.value.clear()}},{immediate:!0});const le=[{key:"s_prdt_ali",text:"Product"},{key:"tsym",text:"Instrument"},{key:"netqty",text:"Qty"},{key:"netupldprc",text:"Act Avg Price",align:"right"},{key:"ltp",text:"LTP",align:"right"},{key:"rpnl",text:"P&L",align:"right"},{key:"avgprc",text:"Avg Price",align:"right"},{key:"mtm",text:"MTM",align:"right"},{key:"daybuyqty",text:"Buy Qty"},{key:"daysellqty",text:"Sell Qty"},{key:"totbuyavgprc",text:"Buy Avg",align:"right"},{key:"totsellavgprc",text:"Sell Avg",align:"right"}],ne=[{key:"tsym",text:"Instrument"},{key:"netqty",text:"Qty"},{key:"ltp",text:"LTP",align:"right"},{key:"rpnl",text:"P&L",align:"right"},{key:"avgprc",text:"Avg Price",align:"right"},{key:"BuyQuantity",text:"Buy Qty"},{key:"SellQuantity",text:"Sell Qty"},{key:"BuyPrice",text:"Buy Avg",align:"right"},{key:"BuyValue",text:"Buy Amt",align:"right"},{key:"SellPrice",text:"Sell Avg",align:"right"},{key:"SellValue",text:"Sell Amt",align:"right"}],oe=new Set(["netqty","netupldprc","ltp","rpnl","avgprc","mtm","daybuyqty","daysellqty","totbuyavgprc","totsellavgprc","BuyQuantity","SellQuantity","BuyPrice","BuyValue","SellPrice","SellValue"]);function se(e,t,a=!1){const l=[];if(e&&e.length){const a=e[0];t.forEach(e=>{Object.prototype.hasOwnProperty.call(a,e.key)&&l.push({title:e.text,key:e.key,align:e.align||(oe.has(e.key)?"right":void 0)})})}else t.forEach(e=>l.push({title:e.text,key:e.key,align:e.align||(oe.has(e.key)?"right":void 0)}));return l}const de=a(se([],le,!0)),ce=a(se([],ne,!1));function pe(){ce.value=se(C.value,ne,!1)}const me=l(()=>"all"===g.value?S.value:"stocks"===g.value?S.value.filter(e=>["A","EQ"].includes(e.instname)):"fno"===g.value?S.value.filter(e=>["FUTIDX","FUTSTK","OPTIDX","OPTSTK"].includes(e.instname)):"comm"===g.value?S.value.filter(e=>["AUCSO","FUTCOM","FUTIDX","OPTFUT"].includes(e.instname)):"curr"===g.value?S.value.filter(e=>["FUTCUR","FUTIRC","FUTIRT","OPTCUR","OPTIRC"].includes(e.instname)):S.value),ve=l(()=>{try{return I.value&&I.value.length>0}catch(e){return!1}});function he(e){const t=Number(e);return t||0===t?t.toFixed(2):"0.00"}function fe(){const e="all"!==m.value?S.value:C.value;if(!e||!e.length)return void(N.value={mtm:"0.00",pnl:"0.00",tradeval:"0.00",oppnl:"0.00",positive:[],negative:[],close:[],open:[]});const t=e.filter(e=>Number(e.rpnl)>0),a=e.filter(e=>Number(e.rpnl)<0),l=e.filter(e=>0===Number(e.netqty)),n=e.filter(e=>0!==Number(e.netqty)),o=e.reduce((e,t)=>e+(Number(t.val)>0?Number(t.val):0),0),s=n.reduce((e,t)=>e+(Number(t.rpnl)||0),0),i=e.reduce((e,t)=>e+(Number(t.rpnl)||0),0),r=e.reduce((e,t)=>e+(Number(t.mtm)||0),0);N.value={positive:t,negative:a,close:l,open:n,tradeval:he(Math.abs(o)),oppnl:he(Math.abs(s)),pnl:he(i),mtm:he(r)}}l(()=>(me.value||[]).filter(e=>Z(e,J,v.value))),l(()=>(C.value||[]).filter(e=>Z(e,Q,v.value)));const ge=a({o:[{name:"Add",icon:"mdi-plus",type:"order"},{name:"Conversion",icon:"mdi-autorenew",type:"convert"},{name:"Exit",icon:"mdi-close",type:"exit-order",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],c:[{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}]});function ye(e,t,a,l,n,o){window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:l,trantype:n,item:o}}))}function be(e,a,l,n,o,s){if("exit-order"===e)s?(P.value=!0,T.value.includes(s)||(T.value=[s])):P.value=!0;else if("alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"alert",token:a,exch:l,tsym:n}}));else if("cGTT"===e)G.value=!1,window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:a,exch:l,tsym:n,trantype:"b"}}));else if("order"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:a,exch:l,tsym:n,trantype:(null==s?void 0:s.netqty)<0?"s":"b",item:s}}));else if(("chart"===e||"depth"===e||"Funda"===e)&&a&&l&&n){const o=[e,a,l,n];t.push({name:"stocks details",params:{val:o}})}}function xe(e){if(E.value=Array.isArray(e.c)?e.c:[],I.value=Array.isArray(e.o)?e.o:[],S.value=Array.isArray(e.a)?e.a:[],console.log("settempDatas -> counts",{close:E.value.length,open:I.value.length,all:S.value.length}),de.value=se(S.value,le,!0),"all"!==m.value&&fe(),te(),S.value&&S.value.length){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:S.value,is:"pos",page:"position"}});window.dispatchEvent(e)}}async function we(){_.value=!0;try{const e=await hae(!0);500!==e&&null!=e?void 0!==e.a||void 0!==e.o||void 0!==e.c?xe(e):e.emsg&&o.showSnackbar(2,e.emsg):500===e&&o.showSnackbar(2,"Network error. Please check your connection.")}catch(Wie){console.error("Error loading positions:",Wie),o.showSnackbar(2,"Failed to load positions")}finally{_.value=!1}}async function _e(){k.value=!0;try{const e=await jae();if(500!==e&&null!=e)if(Array.isArray(e)){const t=[];for(let a=0;a<e.length;a++){const l={...e[a]};l.idx=a,l.way=0===Number(l.netqty)?"close":"open",l.disabled="open"!==l.way&&null,l.avgprc=l.NetAvgPrc,l.tokn=`${l.token}_${a}`,t.push(l)}if(C.value=t,pe(),t.length>0){const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:C.value,is:"pos",page:"position"}});window.dispatchEvent(e)}"all"===m.value&&fe(),function(){try{sessionStorage.setItem("exposures_last",JSON.stringify(C.value))}catch(SJ){}}()}else e&&"object"==typeof e&&e.emsg&&o.showSnackbar(2,e.emsg);else 500===e&&o.showSnackbar(2,"Network error. Please check your connection.")}catch(Wie){console.error("Error loading exposures:",Wie),o.showSnackbar(2,"Failed to load exposures")}finally{k.value=!1}}function ke(e){F.value=!0;const t=S.value.filter(e=>{if("open"===e.way&&e.disabled)return!0}),a=I.value||[];e<=t.length-1?Se(e,t[e]):0===t.length&&0===T.value.length&&e<=a.length-1?Se(e,a[e]):(o.showSnackbar(1,"All your open positions have been Squared off."),window.dispatchEvent(new CustomEvent("orderbook-update",{detail:"port-order"})),F.value=!1,P.value=!1,T.value=[],S.value.forEach(e=>e.disabled=!1))}async function Se(e,t){try{let a={};const l={uid:s.value,actid:s.value,exch:t.exch,prctyp:"MKT",prd:t.prd,prc:"0",qty:String(Math.abs(t.netqty)),ret:"DAY",tsym:t.tsym,trantype:Number(t.netqty)>0?"S":"B"},n=Math.floor(Number(t.frzqty)/Number(t.ls||1))*Number(t.ls||1),i=Number(l.qty),r=n||i,u=Math.floor(i/r),d=i%r;for(let e=0;e<u;e++)l.qty=r.toString(),a=await Cae(l);if((d>0||i<r)&&(l.qty=(d||i).toString(),a=await Cae(l)),"Ok"!==a.stat)return o.showSnackbar(2,a&&a.emsg?a.emsg:a),void(F.value=!1);setTimeout(()=>ke(e+1),100)}catch(SJ){F.value=!1,o.showSnackbar(2,"Failed to place exit order")}}async function Ce(e){if(e){j.value={...e},L.value=!0,j.value.index=S.value.indexOf(e);const t="MCX"===e.exch?e.ls:1;B.value=Math.abs(e.netqty)/t,V.value="MIS"!==e.s_prdt_ali||"NRML"===e.s_prdt_ali?"MIS":"NSE"===e.exch||"BSE"===e.exch?"CNC":"NRML",j.value.defaultqty=Math.abs(e.netqty)/t}else if(B.value>0&&B.value<=j.value.defaultqty&&V.value){D.value=!0;const e={uid:s.value,actid:s.value,exch:j.value.exch,tsym:j.value.tsym,qty:String(B.value*("MCX"===j.value.exch?j.value.ls:1)),prd:"CNC"===V.value?"C":"MIS"===V.value?"I":"NRML"===V.value?"M":"",prevprd:"CNC"===j.value.s_prdt_ali?"C":"MIS"===j.value.s_prdt_ali?"I":"NRML"===j.value.s_prdt_ali?"M":"",trantype:Number(j.value.netqty)>0?"B":"S",postype:"DAY",ordersource:"web"},t=await fae(e);"Ok"===t.stat?(o.showSnackbar(1,"Successfully Converted Position"),"number"==typeof j.value.index&&(S.value[j.value.index].s_prdt_ali=V.value)):o.showSnackbar(2,t&&t.emsg?t.emsg:t),L.value=!1,D.value=!1,j.value={}}}function Ie(e){var t;const{detail:a}=e,l=Array.isArray(a)?a[0]:a;if(!l||!l.token)return;if(null==(t=S.value)?void 0:t.length){const e=S.value.map((e,t)=>e.token===l.token?t:-1).filter(e=>e>=0);for(const t of e){const e=S.value[t],a=Number(l.lp);e.ltp=a.toFixed(2),e.val=(Number(e.avgprc)*Math.abs(Number(e.netqty))).toFixed(2);const n=Number(e.netqty),o=Number(e.mult)||1,s=Number(e.prcftr)||1,i=(Number(e.daybuyqty)||0)+(Number(e.cfbuyqty)||0),r=(Number(e.daysellqty)||0)+(Number(e.cfsellqty)||0),u=Number(e.upldprc)||0,d=Number(e.netupldprc)||0,c=Number(e.netavgprc)||0,p=0!==i?((Number(e.daybuyamt)||0)/o+u*s*(Number(e.cfbuyqty)||0))/(i*s):0,m=((0!==r?((Number(e.daysellamt)||0)/o+u*s*(Number(e.cfsellqty)||0))/(r*s):0)-p)*Math.min(i,r)*o+n*s*o*(a-(0!==d?d:c)),v=Number(e.crpnl)||0,h=0===n?v:(a-c)*(["NFO","BFO","NSE","BSE"].includes(e.exch)?n*s:o*n*s)+v;e.mtm=Number(h).toFixed(2),e.rpnl=Number(m).toFixed(2),e.pnlc=Number(e.avgprc)>0?((Number(e.avgprc)-a)/Number(e.avgprc)*100).toFixed(2):"0.00",e.hp=Number(l.high_price||0)*Math.abs(n),e.lp=Number(l.low_price||0)*Math.abs(n)}}const n=C.value.findIndex(e=>e.token===l.token);if(n>=0){const e=C.value[n],t=Number(l.lp);e.ltp=t.toFixed(2),e.rpnl=e.netqty&&0!==Number(e.netqty)?((t-e.avgprc)*e.netqty).toFixed(2):(Number(e.SellValue)-Number(e.BuyValue)).toFixed(2),e.val=(e.avgprc*Math.abs(Number(e.netqty))).toFixed(2)}if(fe(),G.value&&j.value&&j.value.tokn){const e=S.value.findIndex(e=>e.tokn===j.value.tokn);e>=0&&(j.value={...S.value[e]})}te()}function Ee(e){xe(e.detail)}function Te(){fe()}function Ne(){const e="all"!==m.value?S.value:C.value;if(Array.isArray(e)&&e.length){const t=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:e,is:"pos",page:"position"}});window.dispatchEvent(t)}"all"!==m.value?we():_e()}function Me(e){if(!e)return;const t=(null==e?void 0:e.raw)||e;if(null==t?void 0:t.tokn){const e=S.value.find(e=>e.tokn===t.tokn);j.value=e?{...e}:{...t}}else j.value={...t};G.value=!G.value}function Ae(e,t,a=M.value){const l=e.reduce((e,t)=>e+Number(t.mtm||0),0);a[t].color=l>0?"secgreen":l<0?"secred":"secbg",a[t].text=l>0?"maingreen--text":l<0?"mainred--text":"maintext--text",a[t].mtm=l.toFixed(2)}function Oe(e){"Escape"===e.key&&G.value&&(G.value=!1)}function Pe(){G.value=!1}return f(S,function(){const e={};S.value.forEach(t=>{const a=t.tsym,l=a.match(/(.*?)-|\s/),n=l?l[1]:a.slice(0,4);e[n]||(e[n]={data:[],tysm:[],color:"secbg",mtm:"0.00",text:"maintext--text"}),e[n].data.push(t),e[n].tysm.push(t.tsym)});for(const t in e)Ae(e[t].data,t,e);M.value=e,!O.value&&Object.keys(e).length>0&&(O.value=Object.keys(e)[0])},{immediate:!0}),f(T,e=>{try{const t=new Set((e||[]).map(e=>(null==e?void 0:e.tokn)||e));if(S.value.forEach(e=>{"open"===e.way&&(e.disabled=t.has(e.tokn))}),e&&1===e.length){const t=e[0],a=(null==t?void 0:t.tokn)||t,l=S.value.find(e=>e.tokn===a);l&&(j.value={...l},G.value=!0)}}catch(SJ){}}),y(async()=>{try{n.loadFromSession&&n.loadFromSession()}catch(SJ){}!function(){var e,t,a;try{const l=sessionStorage.getItem("positions_last");if(l){const n=JSON.parse(l);n&&((null==(e=n.a)?void 0:e.length)||(null==(t=n.o)?void 0:t.length)||(null==(a=n.c)?void 0:a.length))&&(xe(n),console.log("Loaded cached positions"))}}catch(SJ){}}(),function(){try{const e=sessionStorage.getItem("exposures_last");if(e){const t=JSON.parse(e);Array.isArray(t)&&t.length&&(C.value=t,pe(),"all"===m.value&&fe(),console.log("Loaded cached exposures"))}}catch(SJ){}}(),"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&(s.value=n.uid||sessionStorage.getItem("userid"),p.value=n.mtoken||sessionStorage.getItem("msession"),setTimeout(()=>{we(),_e()},100)),window.addEventListener("web-scoketConn",Ie),window.addEventListener("tempdata-update",Ee),window.addEventListener("resize",ae),window.addEventListener("keydown",Oe)}),h(()=>{window.removeEventListener("web-scoketConn",Ie),window.removeEventListener("tempdata-update",Ee),window.removeEventListener("resize",ae),window.removeEventListener("keydown",Oe);try{const e="all"!==m.value?S.value:C.value;if(Array.isArray(e)&&e.length){const t=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:e,is:"pos",page:"position"}});window.dispatchEvent(t)}}catch(SJ){}K.value&&(K.value.dispose(),K.value=null)}),(e,t)=>{const a=$("v-list-item-content");return z(),R("div",null,[i("div",rB,[d(Ry,null,{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(cy,{class:"stat-card rounded-lg pa-4",elevation:"0"},{default:H(()=>[i("div",uB,["all"!==m.value?(z(),R("div",dB,[t[21]||(t[21]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"MTM",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(N.value.mtm)>0?"txt-gre":Number(N.value.mtm)<0?"txt-red":"subtext--text"])},[i("span",cB,A(N.value.mtm||"0.00"),1)],2)])):ee("",!0),i("div",pB,[t[22]||(t[22]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Profit/Loss",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(N.value.pnl)>0?"txt-gre":Number(N.value.pnl)<0?"txt-red":"subtext--text"])},[i("span",mB,A(N.value.pnl||"0.00"),1)],2)]),i("div",vB,[t[23]||(t[23]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Trade Value",-1)),i("div",hB,[i("span",fB,A(N.value.tradeval||"0.00"),1)])]),i("div",gB,[t[24]||(t[24]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Open Position",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(N.value.oppnl)>0?"txt-gre":Number(N.value.oppnl)<0?"txt-red":"subtext--text"])},[i("span",yB,A(N.value.oppnl||"0.00"),1)],2)]),i("div",bB,[t[25]||(t[25]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Trade Positions",-1)),i("div",xB,[d(R_,{size:"large",class:"rounded-lg txt-gre"},{default:H(()=>{var e;return[i("span",wB,A((null==(e=N.value.positive)?void 0:e.length)||0)+" Positive",1)]}),_:1}),d(R_,{size:"large",class:"rounded-lg txt-red"},{default:H(()=>{var e;return[i("span",_B,A((null==(e=N.value.negative)?void 0:e.length)||0)+" Negative",1)]}),_:1}),d(R_,{size:"large",class:"rounded-lg",color:"card-bg","text-color":"subtext"},{default:H(()=>{var e;return[i("span",kB,A((null==(e=N.value.close)?void 0:e.length)||0)+" Closed",1)]}),_:1})])])])]),_:1})]),_:1})]),_:1}),d(jg,{flat:"",density:"compact",class:"tool-sty my-2 pl-4 crd-trn"},{default:H(()=>[d(iB,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact",onChange:Te},{default:H(()=>[d(YV,{value:"positions",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W("Positions ("+A(S.value.length||0)+")",1)]),_:1}),d(YV,{value:"all",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W("All Positions ("+A(C.value.length||0)+")",1)]),_:1})]),_:1},8,["modelValue"]),d(zy),"group"!==m.value?(z(),q(Fk,{key:0,elevation:"0",rounded:"",modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"flat",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"])):ee("",!0),"group"!==m.value?(z(),q(rI,{key:1,style:{"max-width":"160px"},modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=e=>g.value=e),rounded:"","hide-details":"","item-title":"txt","item-value":"val","prepend-inner-icon":"mdi-format-list-bulleted",class:"rounded-pill ml-4",variant:"solo",density:"compact",flat:"","bg-color":"secbg",elevation:"0",items:b.value},null,8,["modelValue","items"])):ee("",!0),"positions"===m.value?(z(),q(im,{key:2,disabled:!ve.value,onClick:t[3]||(t[3]=e=>P.value=!0),class:"elevation-0 rounded-pill font-weight-bold text-none ml-4",variant:"elevated",color:"secondary"},{default:H(()=>[W("Exit "+A(T.value.length===S.value.length?"all":T.value.length>0?T.value.length:"all"),1)]),_:1},8,["disabled"])):ee("",!0),d(wp,{disabled:_.value||k.value,class:r(["ml-3 cursor-p",{"reload-rotating":_.value||k.value}]),onClick:Ne,color:"maintext",size:"24"},{default:H(()=>[...t[26]||(t[26]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(ZV,{modelValue:m.value,"onUpdate:modelValue":t[7]||(t[7]=e=>m.value=e),style:{"z-index":"0"}},{default:H(()=>[d(lB,{value:"positions"},{default:H(()=>[d(PV,{"show-select":"",modelValue:T.value,"onUpdate:modelValue":t[5]||(t[5]=e=>T.value=e),"must-sort":"","item-value":"tokn","sort-by":["way"],"sort-desc":[!0],loading:_.value,density:"compact","mobile-breakpoint":"900","fixed-header":"",height:"480px",class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important","min-width":"660px"},headers:de.value,"hide-default-footer":!0,search:v.value,items:me.value,"items-per-page":-1,"item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[6]||(t[6]=(e,{item:t})=>Me((null==t?void 0:t.raw)||t))},{"no-data":H(()=>[i("div",SB,[i("img",{class:"mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,CB),t[27]||(t[27]=i("h4",{class:"txt-999 font-weight-regular caption mt-4"},"There is no trading data here yet! ",-1))])]),"item.s_prdt_ali":H(({item:e})=>[e&&e.s_prdt_ali?(z(),q(R_,{key:0,small:"",color:"open"!=e.way?"mainbg":"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important","background-color":"#F1F3F8 !important"}},{default:H(()=>[i("span",IB,A(e.s_prdt_ali),1)]),_:2},1032,["color"])):ee("",!0)]),"item.tsym":H(({item:e})=>[i("div",EB,[i("p",TB,[W(A(e.tsym?e.tsym:"")+" ",1),i("span",NB,A(e.exch?e.exch:""),1)]),i("div",{onClick:t[4]||(t[4]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},[d(im,{onClick:ie(t=>ye("order",e.token,e.exch,e.tsym,"b"),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#43A833",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[28]||(t[28]=[W(" B ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>ye("order",e.token,e.exch,e.tsym,"s"),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#F23645",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[29]||(t[29]=[W(" S ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>be("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[30]||(t[30]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Lb,{location:"bottom"},{activator:H(({props:a})=>[i("div",re(ue(a)),["open"==e.way?(z(),q(im,{key:0,onClick:ie(t=>be("exit-order",e.token,e.exch,e.tsym,e.netqty,e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[31]||(t[31]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])):ee("",!0)],16)]),default:H(()=>[t[32]||(t[32]=i("span",null,"Exit",-1))]),_:2},1024),d(Lb,{location:"bottom"},{activator:H(({props:a})=>[i("div",re(ue(a)),["open"==e.way?(z(),q(im,{key:0,onClick:ie(t=>Ce(e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[33]||(t[33]=[W("mdi-autorenew",-1)])]),_:1})]),_:1},8,["onClick"])):ee("",!0)],16)]),default:H(()=>[t[34]||(t[34]=i("span",null,"Conversion",-1))]),_:2},1024),d(Pb,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[35]||(t[35]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U("open"==e.way?ge.value.o:ge.value.c,(t,a)=>(z(),R(u,{key:a},[d(cb,{onClick:a=>"convert"==t.type?Ce(e):""!=t.type?be(t.type,e.token,e.exch,e.tsym,(t.name,e.netqty),e):Me(e),class:"pl-3 pr-6"},{prepend:H(()=>["number"==typeof t.icon&&t.icon>2?(z(),R("img",{key:0,width:"20px",class:"pl-1",src:`/src/assets/orderbook/${t.icon}.svg`},null,8,MB)):(z(),q(wp,{key:1,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024))]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium pl-2 fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.netqty":H(({item:e})=>[e&&e.plgqty>0?(z(),q(R_,{key:0,small:"",class:"table-hov-prd maingreen--text",style:{"border-radius":"4px",padding:"4px 8px !important","background-color":"#43A833","margin-right":"4px"}},{default:H(()=>[d(wp,{color:"#ffffff",size:"12"},{default:H(()=>[...t[36]||(t[36]=[W("mdi-lock",-1)])]),_:1}),i("span",AB,A(e.plgqty),1)]),_:2},1024)):ee("",!0),e&&e.btstqty>0?(z(),q(R_,{key:1,small:"",color:"#FFD8B4","text-color":"#E8862A",style:"border-radius: 4px; padding: 4px 8px !important; margin-left: 4px;"},{default:H(()=>[i("span",OB,A(`T1 ${e.btstqty}`),1)]),_:2},1024)):ee("",!0),d(R_,{size:"small",style:c(`background-color: ${e&&e.netqty>0?"#E6F5EA":e&&e.netqty<0?"#FFEBEE":"#F5F5F5"}; color: ${e&&e.netqty>0?"#43A833":e&&e.netqty<0?"#F23645":"#666666"}; border-radius: 4px; padding: 4px 8px; font-weight: 500;`),class:"netqty-chip"},{default:H(()=>[i("span",{class:"font-weight-medium fs-12",style:c(`color: ${e&&e.netqty>0?"#43A833":e&&e.netqty<0?"#F23645":"#666666"};`)},A(e&&e.netqty>0?"+"+e.netqty/("MCX"==e.exch?e.ls:1):e&&e.netqty<0?""+e.netqty/("MCX"==e.exch?e.ls:1):"0"),5)]),_:2},1032,["style"])]),"item.netupldprc":H(({item:e})=>[i("span",PB,A(e.netupldprc?e.netupldprc:""),1)]),"item.ltp":H(({item:e})=>[i("span",FB,[i("span",{id:`post${e.tokn}ltp`},A(e.ltp?e.ltp:"0.00"),9,LB)])]),"item.rpnl":H(({item:e})=>[i("span",{class:r(["font-weight-medium mb-0",e.rpnl>0?"maingreen--text":e.rpnl<0?"mainred--text":"subtext--text"]),id:`post${e.tokn}pnlclr`,style:{"text-align":"right",display:"block"}},[i("span",{id:`post${e.tokn}rpnl`},A(e.rpnl?e.rpnl:"0.00"),9,VB)],10,DB)]),"item.avgprc":H(({item:e})=>[i("span",BB,A(e.avgprc?Math.abs(e.avgprc).toFixed(2):""),1)]),"item.mtm":H(({item:e})=>[i("span",{class:r(["font-weight-medium mb-0",e.mtm>0?"maingreen--text":e.mtm<0?"mainred--text":"subtext--text"]),id:`post${e.tokn}mtmclr`,style:{"text-align":"right",display:"block"}},[i("span",{id:`post${e.tokn}mtm`},A(e.mtm?e.mtm:"0.00"),9,RB)],10,$B)]),"item.daybuyqty":H(({item:e})=>[d(R_,{small:"",color:"open"!=e.way?"mainbg":"secbg",style:{border:"none","border-radius":"5px",padding:"8px !important","background-color":"#F1F3F8 !important"}},{default:H(()=>[i("span",zB,A(0!=e.daybuyqty&&0!=e.daysellqty?e.daybuyqty/("MCX"==e.exch?e.ls:1):e.netqty>0?e.netqty/("MCX"==e.exch?e.ls:1):"0"),1)]),_:2},1032,["color"])]),"item.daysellqty":H(({item:e})=>[d(R_,{small:"",color:"open"!=e.way?"mainbg":"secbg",style:{border:"none","border-radius":"5px",padding:"8px !important","background-color":"#F1F3F8 !important"}},{default:H(()=>[i("span",UB,A(0!=e.daysellqty&&0!=e.daybuyqty?e.daysellqty/("MCX"==e.exch?e.ls:1):e.netqty<0?e.netqty/("MCX"==e.exch?e.ls:1):"0"),1)]),_:2},1032,["color"])]),"item.totbuyavgprc":H(({item:e})=>[i("span",qB,A(e.totbuyavgprc?e.totbuyavgprc:""),1)]),"item.totsellavgprc":H(({item:e})=>[i("span",HB,A(e.totsellavgprc?e.totsellavgprc:""),1)]),_:1},8,["modelValue","loading","headers","search","items"])]),_:1}),d(lB,{value:"all"},{default:H(()=>[d(PV,{"must-sort":"","item-value":"tokn","sort-by":["way"],"sort-desc":[!0],loading:k.value,"hide-default-footer":!0,density:"compact","mobile-breakpoint":"900","fixed-header":"",height:"480px",class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important","min-width":"660px"},headers:ce.value,search:v.value,items:C.value,"items-per-page":-1,"item-class":()=>"table-row","row-props":()=>({class:"table-row"})},{"no-data":H(()=>[i("div",jB,[i("img",{class:"mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,WB),t[37]||(t[37]=i("h4",{class:"txt-999 font-weight-regular caption mt-4"},"There is no trading data here yet! ",-1))])]),_:1},8,["loading","headers","search","items"])]),_:1})]),_:1},8,["modelValue"])]),d(U_,{modelValue:P.value,"onUpdate:modelValue":t[10]||(t[10]=e=>P.value=e),"max-width":"430"},{default:H(()=>[d(cy,{style:{"border-radius":"18px !important"}},{default:H(()=>[i("div",YB,[t[44]||(t[44]=i("img",{src:Lf,alt:"cancel icon"},null,-1)),i("p",GB,[t[38]||(t[38]=W(" Do you want to ",-1)),t[39]||(t[39]=i("strong",null,"Square Off",-1)),t[40]||(t[40]=W()),t[41]||(t[41]=i("br",null,null,-1)),W(" "+A(T.value.length===S.value.length?"all":T.value.length>0?T.value.length:"all")+" open Positions? ",1)]),i("div",KB,[d(im,{disabled:F.value,onClick:t[8]||(t[8]=e=>P.value=!1),class:"rounded-pill text-none w-50 font-weight-bold elevation-0",style:{"background-color":"#F1F3F8",color:"#000000"},height:"40px"},{default:H(()=>[...t[42]||(t[42]=[W(" Close ",-1)])]),_:1},8,["disabled"]),d(im,{loading:F.value,onClick:t[9]||(t[9]=e=>ke(0)),class:"rounded-pill text-none font-weight-bold elevation-0 w-50",style:{"background-color":"#000000",color:"#FFFFFF"},height:"40px"},{default:H(()=>[...t[43]||(t[43]=[W(" Exit Order ",-1)])]),_:1},8,["loading"])])])]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:L.value,"onUpdate:modelValue":t[16]||(t[16]=e=>L.value=e),"max-width":"480px"},{default:H(()=>[d(cy,{class:"pb-6 overflow-hidden",color:"cardbg"},{default:H(()=>[d(cy,{class:"elevation-0 py-4",color:"secbg"},{default:H(()=>[d(jg,{class:"nav-drawer elevation-0 px-2 crd-trn",dense:""},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(a,null,{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-2"},{default:H(()=>{var e,t;return[W(A((null==(e=j.value)?void 0:e.tsym)||""),1),i("span",XB,A((null==(t=j.value)?void 0:t.exch)||""),1)]}),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14 mb-1"},{default:H(()=>{var e;return[W(A((null==(e=j.value)?void 0:e.ltp)||"0.00"),1)]}),_:1})]),_:1})]),_:1}),d(zy),d(im,{disabled:D.value,onClick:t[11]||(t[11]=e=>{L.value=!1,j.value={}}),small:"",icon:""},{default:H(()=>[d(wp,{color:"maintext"},{default:H(()=>[...t[45]||(t[45]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),D.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0)]),_:1}),i("div",JB,[t[51]||(t[51]=i("p",{class:"font-weight-bold fs-16"},"Position Conversion",-1)),d(Ry,{"no-glutters":""},{default:H(()=>[d(ky,{cols:"5",class:"pb-0"},{default:H(()=>[t[46]||(t[46]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Convert from",-1)),d(Fk,{readonly:"",dense:"",modelValue:j.value.s_prdt_ali,"onUpdate:modelValue":t[12]||(t[12]=e=>j.value.s_prdt_ali=e),"background-color":"secbg",flat:"",class:"rounded-pill",solo:""},null,8,["modelValue"])]),_:1}),d(ky,{cols:"2",class:"pa-0"}),d(ky,{cols:"5",class:"pb-0"},{default:H(()=>[t[47]||(t[47]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Converting to",-1)),d(rI,{dense:"",modelValue:V.value,"onUpdate:modelValue":t[13]||(t[13]=e=>V.value=e),items:["MIS"!==j.value.s_prdt_ali||"NRML"===j.value.s_prdt_ali?"MIS":"NSE"===j.value.exch||"BSE"===j.value.exch?"CNC":"NRML"],"append-icon":"mdi-chevron-down","background-color":"secbg",flat:"",class:"rounded-pill",solo:""},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"5",class:"py-0"},{default:H(()=>[t[48]||(t[48]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Total Qty",-1)),d(Fk,{readonly:"",dense:"","background-color":"secbg",value:j.value.defaultqty,flat:"",class:"rounded-pill",solo:""},null,8,["value"])]),_:1}),d(ky,{cols:"2",class:"pa-0"}),d(ky,{cols:"5",class:"py-0"},{default:H(()=>[t[49]||(t[49]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Converting Qty",-1)),d(Fk,{dense:"","background-color":"secbg",modelValue:B.value,"onUpdate:modelValue":t[14]||(t[14]=e=>B.value=e),modelModifiers:{number:!0},placeholder:j.value.netqty,flat:"",class:"rounded-pill",solo:"",type:"number",min:"1",max:j.value.defaultqty},null,8,["modelValue","placeholder","max"])]),_:1})]),_:1}),d(im,{onClick:t[15]||(t[15]=e=>Ce()),disabled:!(B.value>0&&B.value<=j.value.defaultqty&&V.value),loading:D.value,color:"btnclr",class:"text-none rounded-pill elevation-0 btntext--text px-10 mt-4 float-right",height:"40px"},{default:H(()=>[...t[50]||(t[50]=[W("Convert",-1)])]),_:1},8,["disabled","loading"])])]),_:1})]),_:1},8,["modelValue"]),d(HV,{modelValue:G.value,"onUpdate:modelValue":t[20]||(t[20]=e=>G.value=e),temporary:"",location:"right",scrim:!1,width:"360",color:"cardbg",class:"pt-2"},{prepend:H(()=>[d(jg,{dense:"",class:"nav-drawer crd-trn"},{default:H(()=>[d(im,{icon:"",variant:"text",density:"comfortable",onClick:Pe,"aria-label":"Close drawer"},{default:H(()=>[d(wp,{color:"maintext",size:"20"},{default:H(()=>[...t[52]||(t[52]=[W("mdi-close",-1)])]),_:1})]),_:1}),t[53]||(t[53]=i("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Position Details",-1)),d(zy)]),_:1})]),append:H(()=>[d(my),i("div",F$,[d(im,{onClick:t[19]||(t[19]=e=>ye("order",j.value.token,j.value.exch,j.value.tsym,j.value.netqty<0?"s":"b",j.value)),class:"rounded-pill text-none font-weight-bold elevation-0",color:j.value.netqty>0?"secgreen":j.value.netqty<0?"secred":"secbg",block:"","text-color":j.value.netqty>0?"maingreen":j.value.netqty<0?"mainred":"subtext",height:"40px"},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...t[90]||(t[90]=[W("mdi-plus",-1)])]),_:1}),t[91]||(t[91]=W(" Add ",-1))]),_:1},8,["color","text-color"])])]),default:H(()=>[d(cb,{class:"py-3"},{default:H(()=>[d(a,null,{default:H(()=>[d(ub,{class:"font-weight-medium maintext--text mb-3"},{default:H(()=>[W(A(j.value.tsym||""),1),i("span",QB,A(j.value.exch||""),1)]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-16 mb-1"},{default:H(()=>[W(A(j.value.ltp||"0.00")+" ",1),i("span",{class:r([Number(j.value.rpnl)>0?"maingreen--text":Number(j.value.rpnl)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},A(j.value.rpnl||"0.00")+" ("+A(j.value.pnlc||"0.00")+"%) ",3)]),_:1})]),_:1})]),_:1}),i("div",ZB,["open"===j.value.way?(z(),R("div",e$,[d(Ry,null,{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{disabled:F.value,variant:"outlined",onClick:t[17]||(t[17]=e=>be("exit-order",j.value.token,j.value.exch,j.value.tsym,j.value.netqty,j.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",outlined:""},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...t[54]||(t[54]=[W("mdi-close",-1)])]),_:1}),t[55]||(t[55]=W(" Exit ",-1))]),_:1},8,["disabled"])]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{disabled:D.value,variant:"outlined",onClick:t[18]||(t[18]=e=>Ce(j.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",outlined:""},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...t[56]||(t[56]=[W("mdi-autorenew",-1)])]),_:1}),t[57]||(t[57]=W(" Conversion ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])):ee("",!0),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0","border-top":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[59]||(t[59]=W("Quantity ",-1)),i("p",t$,[j.value&&j.value.plgqty>0?(z(),q(R_,{key:0,small:"",class:"table-hov-prd maingreen--text",style:{"border-radius":"4px",padding:"4px 8px !important","background-color":"#43A833","margin-right":"4px"}},{default:H(()=>[d(wp,{color:"#ffffff",size:"12"},{default:H(()=>[...t[58]||(t[58]=[W("mdi-lock",-1)])]),_:1}),i("span",a$,A(j.value.plgqty),1)]),_:1})):ee("",!0),j.value&&j.value.btstqty>0?(z(),q(R_,{key:1,small:"",color:"#FFD8B4","text-color":"#E8862A",style:"border-radius: 4px; padding: 4px 8px !important; margin-left: 4px;"},{default:H(()=>[i("span",l$,A(`T1 ${j.value.btstqty}`),1)]),_:1})):ee("",!0),d(R_,{size:"small",style:c(`background-color: ${j.value&&j.value.netqty>0?"#E6F5EA":j.value&&j.value.netqty<0?"#FFEBEE":"#F5F5F5"}; color: ${j.value&&j.value.netqty>0?"#43A833":j.value&&j.value.netqty<0?"#F23645":"#666666"}; border-radius: 4px; padding: 4px 8px; font-weight: 500;`),class:"netqty-chip"},{default:H(()=>[i("span",{class:"font-weight-medium fs-12",style:c(`color: ${j.value&&j.value.netqty>0?"#43A833":j.value&&j.value.netqty<0?"#F23645":"#666666"};`)},A(j.value&&j.value.netqty>0?"+"+j.value.netqty/("MCX"===j.value.exch?j.value.ls:1):j.value&&j.value.netqty<0?""+j.value.netqty/("MCX"===j.value.exch?j.value.ls:1):"0"),5)]),_:1},8,["style"])])]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[60]||(t[60]=W("Avg price ",-1)),i("p",n$,A(j.value.avgprc?j.value.avgprc.toLocaleString():"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[61]||(t[61]=W("Net Avg price ",-1)),i("p",o$,A(j.value.NetAvgPrc??j.value.netavgprc?(j.value.NetAvgPrc??j.value.netavgprc).toLocaleString():"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[62]||(t[62]=W("Upload price ",-1)),i("p",s$,A(j.value.upldprc?j.value.upldprc.toLocaleString():"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[63]||(t[63]=W("Netupload price ",-1)),i("p",i$,A(j.value.netupldprc?j.value.netupldprc.toLocaleString():"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[64]||(t[64]=W("Last trade price ",-1)),i("p",r$,A(j.value.ltp||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[65]||(t[65]=W("Product ",-1)),i("p",u$,A(j.value.prd?"I"===j.value.prd?"INTRADAY":"C"===j.value.prd?"DELIVERY":"CARRY FORWARD":""),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[66]||(t[66]=W("Order type ",-1)),i("p",d$,A(j.value.s_prdt_ali||"-"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[67]||(t[67]=W("Day buy Qty ",-1)),i("p",c$,A(j.value.daybuyqty?j.value.daybuyqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[68]||(t[68]=W("Day sell Qty ",-1)),i("p",p$,A(j.value.daysellqty?j.value.daysellqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[69]||(t[69]=W("Day buy Avg ",-1)),i("p",m$,A(j.value.daybuyavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[70]||(t[70]=W("Day sell Avg ",-1)),i("p",v$,A(j.value.daysellavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[71]||(t[71]=W("Day Avg price ",-1)),i("p",h$,A(j.value.dayavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[72]||(t[72]=W("Day buy Amt ",-1)),i("p",f$,A(j.value.daybuyamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[73]||(t[73]=W("Day sell Amt ",-1)),i("p",g$,A(j.value.daysellamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[74]||(t[74]=W("CF buy Qty ",-1)),i("p",y$,A(j.value.cfbuyqty?j.value.cfbuyqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[75]||(t[75]=W("CF sell Qty ",-1)),i("p",b$,A(j.value.cfsellqty?j.value.cfsellqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[76]||(t[76]=W("CF buy Avg ",-1)),i("p",x$,A(j.value.cfbuyavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[77]||(t[77]=W("CF sell Avg ",-1)),i("p",w$,A(j.value.cfsellavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[78]||(t[78]=W("CF buy Amt ",-1)),i("p",_$,A(j.value.cfbuyamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[79]||(t[79]=W("CF sell Amt ",-1)),i("p",k$,A(j.value.cfsellamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[80]||(t[80]=W("Open buy Qty ",-1)),i("p",S$,A(j.value.openbuyqty?j.value.openbuyqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[81]||(t[81]=W("Open sell Qty ",-1)),i("p",C$,A(j.value.opensellqty?j.value.opensellqty/("MCX"===j.value.exch?j.value.ls:1):"0"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[82]||(t[82]=W("Open buy Avg ",-1)),i("p",I$,A(j.value.openbuyavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[83]||(t[83]=W("Open sell Avg ",-1)),i("p",E$,A(j.value.opensellavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[84]||(t[84]=W("Open buy Amt ",-1)),i("p",T$,A(j.value.openbuyamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[85]||(t[85]=W("Open sell Amt ",-1)),i("p",N$,A(j.value.opensellamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[86]||(t[86]=W("Total buy Avg ",-1)),i("p",M$,A(j.value.totbuyavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[87]||(t[87]=W("Total sell Avg ",-1)),i("p",A$,A(j.value.totsellavgprc||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[88]||(t[88]=W("Total buy Amt ",-1)),i("p",O$,A(j.value.totbuyamt||"0.00"),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14",style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 0"}},{default:H(()=>[t[89]||(t[89]=W("Total sell Amt ",-1)),i("p",P$,A(j.value.totsellamt||"0.00"),1)]),_:1})])]),_:1},8,["modelValue"])])}}},D$=zc(L$,[["__scopeId","data-v-8bb42ea9"]]),V$={class:"my-6"},B$={class:"d-flex justify-space-between align-center flex-wrap",style:{gap:"16px"}},$$={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},R$={class:"stat-value maintext--text fs-16 font-weight-bold"},z$={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},U$={class:"fs-13 ml-1"},q$={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},H$={class:"stat-value maintext--text fs-16 font-weight-bold"},j$={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},W$={class:"fs-13 ml-1"},Y$={class:"stat-item",style:{"min-width":"140px"}},G$={class:"d-flex align-center",style:{gap:"8px"}},K$={class:"fs-14 font-weight-medium"},X$={class:"fs-14 font-weight-medium"},J$={class:"d-flex justify-space-between align-center flex-wrap",style:{gap:"16px"}},Q$={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},Z$={class:"stat-value maintext--text fs-16 font-weight-bold"},eR={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},tR={class:"stat-value maintext--text fs-16 font-weight-bold"},aR={class:"stat-item flex-grow-1",style:{"min-width":"120px"}},lR={class:"fs-13 ml-1"},nR={class:"pos-rlt",style:{"min-height":"40px","padding-right":"200px"}},oR={class:"font-weight-bold fs-13 txt-162 black--text mb-0 table-hov-text",style:{"margin-right":"0","white-space":"nowrap"}},sR={class:"ml-1 subtext--text fs-10"},iR=["src"],rR={class:"font-weight-medium fs-12",style:{color:"#ffffff"}},uR={class:"font-weight-medium fs-12"},dR={class:"font-weight-medium fs-12",style:{color:"#43A833"}},cR={class:"fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},pR={class:"font-weight-medium fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},mR={class:"font-weight-bold fs-13",style:{"text-align":"right",display:"block",color:"black !important"}},vR={class:"font-weight-bold fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},hR={class:"font-weight-bold fs-13 txt-162",style:{"text-align":"right",display:"block",color:"black !important"}},fR={class:"font-weight-bold fs-13",style:{"text-align":"right",display:"block",color:"black !important"}},gR={class:"pos-rlt",style:{"min-height":"40px","padding-right":"200px"}},yR={class:"font-weight-bold fs-13 txt-162 black--text mb-0 table-hov-text",style:{"margin-right":"0","white-space":"nowrap"}},bR={class:"font-weight-medium fs-12",style:{color:"#43A833"}},xR={class:"font-weight-medium fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},wR={class:"font-weight-medium fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},_R={class:"font-weight-bold fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},kR={class:"font-weight-bold fs-13 txt-162 black--text",style:{"text-align":"right",display:"block"}},SR={class:"font-weight-bold fs-13",style:{"text-align":"right",display:"block",color:"black !important"}},CR={class:"ml-1 subtext--text fs-10"},IR={key:1,class:"px-4"},ER={key:0,class:"pb-6"},TR={class:"float-right mb-0"},NR={class:"font-weight-medium fs-12"},MR={class:"font-weight-medium fs-12"},AR={class:"float-right mb-0"},OR={class:"font-weight-medium fs-12"},PR={key:1},FR={class:"float-right mb-0"},LR={class:"float-right mb-0"},DR={class:"float-right mb-0"},VR={class:"float-right mb-0"},BR={class:"float-right mb-0"},$R={class:"float-right mb-0"},RR={class:"float-right mb-0"},zR={key:0,class:"float-right mb-0"},UR={key:1,class:"float-right mb-0"},qR={key:0,class:"float-right mb-0"},HR={key:1,class:"float-right mb-0"},jR={class:"float-right mb-0"},WR={class:"float-right mb-0"},YR={key:0,class:"float-right mb-0"},GR={key:1,class:"float-right mb-0"},KR={class:"pa-4"},XR={class:"pa-4"},JR={__name:"HolDings",setup(e){const t=Y(),n=Qa(),o=a(!1),s=a([]),p=a("stocks"),m=a([]),v=a(!1),f=a(""),g=a("all"),b=a(!1),_=a({}),k=a(!1),S=a(""),C=a(""),I=a([{val:"all",txt:"All"},{val:"NSE",txt:"NSE"},{val:"BSE",txt:"BSE"},{val:"MCX",txt:"MCX"},{val:"bond",txt:"Bonds"}]),E=a([{name:"Add",icon:"mdi-plus",type:"order"},{name:"Exit",icon:"mdi-close",type:"exit-order",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}]),T=[{key:"tsym",text:"Instrument",sortable:!0},{key:"netqty",text:"Net Qty",sortable:!0},{key:"netavgprc",text:"Avg Price",align:"right",sortable:!0},{key:"ltp",text:"LTP",align:"right",sortable:!0},{key:"invested_val",text:"Invested",align:"right",sortable:!0},{key:"current_val",text:"Current Value",align:"right",sortable:!0},{key:"day_pnl",text:"Day P&L",align:"right",sortable:!0},{key:"day_pc",text:"Day %",align:"right",sortable:!0},{key:"rpnl",text:"Overall P&L",align:"right",sortable:!0},{key:"pnlc",text:"Overall %",align:"right",sortable:!0}],N=new Set(["netqty","netavgprc","ltp","invested_val","current_val","day_pnl","day_pc","rpnl","pnlc"]),M=l(()=>function(e){const t=[],a=e&&e.length?e[0]:null;return T.forEach(e=>{a&&!Object.prototype.hasOwnProperty.call(a,e.key)||t.push({title:e.text,key:e.key,align:e.align||(N.has(e.key)?"right":void 0),sortable:!1!==e.sortable})}),t}(s.value)),O=l(()=>[{title:"Instrument",key:"name"},{title:"Qty",key:"avg_qty",align:"right"},{title:"Avg NAV",key:"avg_nav",align:"right"},{title:"NAV",key:"Cur_Nav",align:"right"},{title:"Invested",key:"invested_value",align:"right"},{title:"Current Value",key:"current_value",align:"right"},{title:"Overall P&L",key:"profit_loss",align:"right"},{title:"Overall %",key:"changeprofitloss",align:"right"}]),P=l(()=>Array.isArray(s.value)?s.value:[]),F=l(()=>{const e=s.value||[];if(0===e.length)return{stockvalue:"0.00",invested:"0.00",pnl:"0.00",cpnl:"0.00",d_pnl:"0.00",d_cpnl:"0.00",positive:0,negative:0};const t=t=>e.reduce((e,a)=>e+(Number(a[t])||0),0),a=t("inv"),l=t("curr"),n=t("pnl"),o=t("d_pnl"),i=e.filter(e=>Number(e.pnlc)>0).length,r=e.filter(e=>Number(e.pnlc)<0).length,u=e=>e>0||e<0?Math.abs(e).toFixed(2):"0.00";return{stockvalue:u(l),invested:u(a),pnl:u(n),cpnl:a>0?(n/a*100).toFixed(2):"0.00",d_pnl:o.toFixed(2),d_cpnl:a>0?(o/a*100).toFixed(2):"0.00",positive:i,negative:r}}),L=l(()=>{const e=m.value||[];if(0===e.length)return{totalValue:"0.00",invested:"0.00",pnl:"0.00",pnlPercent:"0.00"};const t=e.reduce((e,t)=>e+(Number(t.current_value)||0),0),a=e.reduce((e,t)=>e+(Number(t.invested_value)||0),0),l=t-a,n=a>0?(l/a*100).toFixed(2):"0.00";return{totalValue:D(t),invested:D(a),pnl:D(l),pnlPercent:n}});function D(e){const t=Number(e);return isFinite(t)?Number(t).toFixed(2):"0.00"}function V(e){const t=Number(e);return isFinite(t)?`${t.toFixed(2)} %`:"0.00 %"}function B(e){const t=(null==e?void 0:e.response)||[];k.value=(null==e?void 0:e.edis)>0,t.forEach((e,t)=>{e.tokn=`${e.token}_${t}`;const a=Number(e.ltp),l=Number(e.close||e.prev_close_price||e.previous_close||e.prevclose);if(!isFinite(e.rpnl)){const t=Number(e.netqty)||0,l=Number(e.netavgprc||e.upldprc)||0;isFinite(a)&&t?e.rpnl=((a-l)*t).toFixed(2):e.rpnl="0.00"}!isFinite(e.ltp)&&isFinite(l)&&(e.ltp=l.toFixed(2));const n=Number(e.netqty)||0,o=Number(e.netavgprc||e.upldprc)||0,s=isFinite(a)?a:o,i=isFinite(l)?l:isFinite(Number(e.previous_close))?Number(e.previous_close):s,r=Math.abs(n);e.invested_val=(o*r).toFixed(2),e.current_val=(s*r).toFixed(2),e.inv=e.invested_val,e.curr=e.current_val,e.pnl=(Number(e.curr)-Number(e.inv)).toFixed(2),e.pnlc=Number(e.inv)>0?(Number(e.pnl)/Number(e.inv)*100).toFixed(2):"0.00",void 0!==e.d_pnl&&null!==e.d_pnl&&""!==e.d_pnl?(e.day_pnl=Number(e.d_pnl).toFixed(2),e.d_pnl=e.day_pnl):void 0!==e.day_pnl&&null!==e.day_pnl&&""!==e.day_pnl?(e.day_pnl=Number(e.day_pnl).toFixed(2),e.d_pnl=e.day_pnl):isFinite(i)&&i!==s&&i>0?(e.day_pnl=((s-i)*r).toFixed(2),e.d_pnl=e.day_pnl):(e.day_pnl="0.00",e.d_pnl="0.00"),void 0!==e.d_cpnl&&null!==e.d_cpnl&&""!==e.d_cpnl&&0!==Number(e.d_cpnl)?e.day_pc=Number(e.d_cpnl).toFixed(2):void 0!==e.day_pc&&null!==e.day_pc&&""!==e.day_pc&&0!==Number(e.day_pc)?e.day_pc=Number(e.day_pc).toFixed(2):isFinite(i)&&i>0&&i!==s?e.day_pc=((s-i)/i*100).toFixed(2):e.day_pc="0.00",e.d_cpnl=Number(e.inv)>0?(Number(e.d_pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.rpnl=e.rpnl||e.pnl}),s.value=t,t.length>0&&window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:t,is:"hold",page:"holding"}}))}const $=l(()=>"all"===g.value?P.value:P.value.filter(e=>"bond"===g.value?"T-BILL"===e.exchs||"G-SEC"===e.exchs||"SGB"===e.exchs:e.exch===g.value)),j=l(()=>{const e=f.value;return e?$.value.filter(t=>function(e,t,a){if(!a)return!0;const l=a.toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(l))}(t,["tsym","exch"],e)):$.value});async function G(){o.value=!0;const e=await mae();if(e&&e.response&&Array.isArray(e.response))B(e),sessionStorage.setItem("holdings_last",JSON.stringify(e));else if(500!==e){n.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load holdings");const t=sessionStorage.getItem("holdings_last");if(t)try{B(JSON.parse(t))}catch(SJ){console.error("Failed to load cached holdings",SJ)}}o.value=!1}async function K(){v.value=!0;const e=await vae();if(e&&Array.isArray(e.data))m.value=e.data.map((e,t)=>({...e,idx:t,holdtype:"mf"})),sessionStorage.setItem("mfholdings_last",JSON.stringify(e));else if(500!==e){n.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load MF holdings");const t=sessionStorage.getItem("mfholdings_last");if(t)try{const e=JSON.parse(t);m.value=e.data?e.data.map((e,t)=>({...e,idx:t,holdtype:"mf"})):[]}catch(SJ){console.error("Failed to load cached MF holdings",SJ)}}v.value=!1}function X(e){const t=e.detail;if((null==t?void 0:t.response)&&(B(t),b.value&&_.value&&_.value.tokn)){const e=s.value.findIndex(e=>e.tokn===_.value.tokn);e>=0&&(_.value={...s.value[e]})}}function J(e){var t;const a=e.detail;if(!a||!(null==(t=s.value)?void 0:t.length))return;let l=!1,n=null,o=null;if(a&&"object"==typeof a&&"data"===a.flow){if("hold"!==a.is)return;l=!0,n=a.data||a,o=n.token||n.tk||n.t}else if(Array.isArray(a)&&a.length>=2){const[e,t]=a;if("holding"===t||e&&(e.token||e.tk||e.t)){const t=e.token||e.tk||e.t;t&&s.value.some(e=>e.token==t)&&(l=!0,n=e,o=t)}}else if(a&&(a.token||a.tk||a.t)){const e=a.token||a.tk||a.t;e&&s.value.some(t=>t.token==e)&&(l=!0,n=a,o=e)}if(!l||!o||!n)return;const i=s.value.findIndex(e=>e.token==o);if(i>=0){const e=s.value[i],t=Number(n.lp||n.ltp||n.l),a=Number(n.close||n.prev_close_price||n.cp||e.close||e.prev_close_price);isFinite(t)&&(e.ltp=t.toFixed(2)),isFinite(a)&&(e.close=a,e.prev_close_price=a);const l=Number(e.netqty)||0,o=Number(e.netavgprc||e.upldprc)||0,r=Number(e.ltp)||o,u=isFinite(a)?a:isFinite(Number(e.previous_close))?Number(e.previous_close):r,d=Math.abs(l);e.invested_val=(o*d).toFixed(2),e.current_val=(r*d).toFixed(2),e.inv=e.invested_val,e.curr=e.current_val,e.pnl=(Number(e.curr)-Number(e.inv)).toFixed(2),e.pnlc=Number(e.inv)>0?(Number(e.pnl)/Number(e.inv)*100).toFixed(2):"0.00";const c=Number(n.d_pnl||n.day_pnl||n.dpnl||"");isFinite(c)&&0!==c?(e.day_pnl=c.toFixed(2),e.d_pnl=e.day_pnl):isFinite(u)&&u!==r&&u>0?(e.day_pnl=((r-u)*d).toFixed(2),e.d_pnl=e.day_pnl):(e.day_pnl=e.day_pnl||"0.00",e.d_pnl=e.d_pnl||e.day_pnl);const p=Number(n.d_cpnl||n.day_pc||n.dpc||"");isFinite(p)&&0!==p?e.day_pc=p.toFixed(2):isFinite(u)&&u>0&&u!==r?e.day_pc=((r-u)/u*100).toFixed(2):e.day_pc=e.day_pc||"0.00",e.d_cpnl=Number(e.inv)>0?(Number(e.d_pnl)/Number(e.inv)*100).toFixed(2):"0.00",e.rpnl=l?((r-o)*l).toFixed(2):e.pnl,s.value=[...s.value]}if(b.value&&_.value&&_.value.tokn){const e=s.value.findIndex(e=>e.tokn===_.value.tokn);e>=0&&(_.value={...s.value[e]})}if(b.value&&_.value&&"mf"===_.value.holdtype){const e=m.value.findIndex(e=>e.idx===_.value.idx);e>=0&&(_.value={...m.value[e]})}}function Q(e,t,a,l,n,o){console.log("handleMenuDialog",e,t,a,l,n,o),b.value=!1,window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:l,trantype:n,item:o}}))}function Z(e,a,l,n,o,s){if(console.log("setSSDtab",e,a,l,n,o,s),b.value=!1,"alert"===e)Q("alert",a,l,n);else if("cGTT"===e)Q("order-GTT",a,l,n,"b");else if("exit-order"===e){let e=o;if(!e&&s){const t=s.netqty??0;e=Number(t)>0?"s":"b"}Q("exit-order",a,l,n,e,s)}else if("order"===e)Q("order",a,l,n,(null==s?void 0:s.netqty)<0?"s":"b",s);else if(a&&l&&n){const o=[e,a,l,n];t.push({name:"stocks details",params:{val:o}})}else console.error("Missing parameters for routing:",{type:e,token:a,exch:l,tsym:n})}async function te(e){if(b.value=!0,!e)return;const t=e&&e.raw?e.raw:e;if(t&&Object.keys(t).length&&(_.value={...t},t.exch&&t.token&&!t.holdtype))try{const e=await gae(`${t.exch}|${t.token}`);_.value.quotes=e}catch(SJ){console.error("Failed to fetch quotes",SJ)}}function ae(){b.value=!1}function le(){"stocks"===p.value?G():"mutual"===p.value&&K()}function ne(e){"port-order"===e.detail&&G()}return y(()=>{S.value=sessionStorage.getItem("userid"),C.value=sessionStorage.getItem("usession");const e=sessionStorage.getItem("holdings_last");if(e)try{const t=JSON.parse(e);t.response&&Array.isArray(t.response)&&t.response.length>0&&B(t)}catch(SJ){console.error("Failed to load cached holdings",SJ)}G(),K(),window.addEventListener("tempdata-update",X),window.addEventListener("web-scoketConn",J),window.addEventListener("orderbook-update",ne)}),h(()=>{s.value.length>0&&window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:s.value,is:"hold",page:"holding"}})),window.removeEventListener("tempdata-update",X),window.removeEventListener("web-scoketConn",J),window.removeEventListener("orderbook-update",ne)}),(e,t)=>(z(),R("div",null,[i("div",V$,["portfolio"!==p.value?(z(),q(Ry,{key:0},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>["stocks"===p.value?(z(),q(cy,{key:0,class:"stat-card rounded-lg pa-4",elevation:"0"},{default:H(()=>[i("div",B$,[i("div",$$,[t[12]||(t[12]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Stocks Value",-1)),i("div",R$,A(F.value.stockvalue||"0.00"),1)]),i("div",z$,[t[13]||(t[13]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Day Change",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(F.value.d_pnl)>0?"maingreen--text":Number(F.value.d_pnl)<0?"mainred--text":"subtext--text"])},[W(A(F.value.d_pnl||"0.00"),1),i("span",U$,"("+A(Number(F.value.d_cpnl)>0||Number(F.value.d_cpnl)<0?F.value.d_cpnl:"0.00")+"%)",1)],2)]),i("div",q$,[t[14]||(t[14]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Invested",-1)),i("div",H$,A(F.value.invested||"0.00"),1)]),i("div",j$,[t[15]||(t[15]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Profit/Loss",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(F.value.cpnl)>0?"maingreen--text":Number(F.value.cpnl)<0?"mainred--text":"subtext--text"])},[W(A(F.value.pnl||"0.00"),1),i("span",W$,"("+A(Number(F.value.cpnl)>0||Number(F.value.cpnl)<0?F.value.cpnl:"0.00")+"%)",1)],2)]),i("div",Y$,[t[16]||(t[16]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Stock Position",-1)),i("div",G$,[d(R_,{size:"large",class:"rounded-lg maingreen--text"},{default:H(()=>[i("span",K$,A(F.value.positive||0)+" Positive",1)]),_:1}),d(R_,{size:"large",class:"rounded-lg mainred--text"},{default:H(()=>[i("span",X$,A(F.value.negative||0)+" Negative",1)]),_:1})])])])]),_:1})):(z(),q(cy,{key:1,class:"stat-card rounded-lg pa-4",elevation:"0"},{default:H(()=>[i("div",J$,[i("div",Q$,[t[17]||(t[17]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Current Value",-1)),i("div",Z$,A(L.value.totalValue||"0.00"),1)]),i("div",eR,[t[18]||(t[18]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Invested",-1)),i("div",tR,A(L.value.invested||"0.00"),1)]),i("div",aR,[t[19]||(t[19]=i("div",{class:"stat-label txt-5E6 fs-14 mb-1"},"Profit/Loss",-1)),i("div",{class:r(["stat-value fs-16 font-weight-bold",Number(L.value.pnl)>0?"maingreen--text":Number(L.value.pnl)<0?"mainred--text":"subtext--text"])},[W(A(L.value.pnl||"0.00"),1),i("span",lR,"("+A(Number(L.value.pnlPercent)>0||Number(L.value.pnlPercent)<0?L.value.pnlPercent:"0.00")+"%)",1)],2)])])]),_:1}))]),_:1})]),_:1})):ee("",!0),d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(iB,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:H(()=>[d(YV,{value:"stocks",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W("Stocks ("+A(s.value.length)+")",1)]),_:1}),d(YV,{value:"mutual",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W("Mutual Funds ("+A(m.value.length)+")",1)]),_:1})]),_:1},8,["modelValue"]),d(zy),"stocks"===p.value?(z(),q(Fk,{key:0,elevation:"0",rounded:"",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"])):ee("",!0),"stocks"===p.value?(z(),q(rI,{key:1,style:{"max-width":"160px"},modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=e=>g.value=e),rounded:"","hide-details":"","item-title":"txt","item-value":"val","prepend-inner-icon":"mdi-format-list-bulleted",class:"rounded-pill ml-4",variant:"solo",density:"compact",flat:"","bg-color":"secbg",elevation:"0",items:I.value},null,8,["modelValue","items"])):ee("",!0),"stocks"===p.value&&k.value?(z(),q(im,{key:2,onClick:t[3]||(t[3]=e=>async function(){try{const e=await uae();if(e&&"Ok"==e.stat){const t=Uh.enc.Utf8.parse(`sLoginId=${S.value}&sAccountId=${S.value}&prd=C&token=${e.hstk}&sBrokerId=ZEBU&open=edis`),a=Uh.enc.Base64.stringify(t);window.open(`https://go.mynt.in/NorenEdis/NonPoaHoldings/?${a}`,"_blank")}else n.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to get E-DIS token")}catch(SJ){console.error("E-DIS error",SJ),n.showSnackbar(2,"Failed to open E-DIS")}}()),class:"elevation-0 rounded-pill font-weight-bold text-none ml-4",style:{"background-color":"#01409F",color:"#fff"}},{default:H(()=>[...t[20]||(t[20]=[W("E-DIS",-1)])]),_:1})):ee("",!0),"portfolio"!==p.value?(z(),q(wp,{key:3,disabled:o.value||v.value,class:"ml-3 cursor-p",onClick:le,color:"maintext",size:"24"},{default:H(()=>[...t[21]||(t[21]=[W("mdi-reload",-1)])]),_:1},8,["disabled"])):ee("",!0)]),_:1}),d(ZV,{modelValue:p.value,"onUpdate:modelValue":t[8]||(t[8]=e=>p.value=e),style:{"z-index":"0"}},{default:H(()=>[d(lB,{value:"stocks"},{default:H(()=>[d(PV,{headers:M.value,items:j.value,loading:o.value,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","hide-default-footer":"","fixed-header":"","item-value":"tokn","items-per-page":-1,"item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[5]||(t[5]=(e,{item:t})=>te((null==t?void 0:t.raw)||t))},{"item.tsym":H(({item:e})=>[i("div",nR,[i("p",oR,[W(A(e.tsym)+" ",1),i("span",sR,A(e.exch||""),1)]),e?(z(),R("div",{key:0,onClick:t[4]||(t[4]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"50%",transform:"translateY(-50%)",right:"0","z-index":"10",gap:"4px","pointer-events":"auto",display:"flex","align-items":"center"}},[d(im,{onClick:ie(t=>Q("order",e.token,e.exch,e.tsym,"b"),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#43A833",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[22]||(t[22]=[W(" B ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>Q("order",e.token,e.exch,e.tsym,"s"),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#F23645",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[23]||(t[23]=[W(" S ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>Z("chart",e.token,e.exch,e.tsym),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[24]||(t[24]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Lb,{location:"bottom"},{activator:H(({props:a})=>[i("div",re(ue(a)),[d(im,{onClick:ie(t=>Z("exit-order",e.token,e.exch,e.tsym,null,e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[25]||(t[25]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:H(()=>[t[26]||(t[26]=i("span",null,"Exit",-1))]),_:2},1024),d(Pb,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[27]||(t[27]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(E.value,(t,a)=>(z(),R(u,{key:a},[d(cb,{onClick:a=>""!=t.type?Z(t.type,e.token,e.exch,e.tsym,e.netqty<0?"b":"s",e):te(e),class:"pl-3 pr-6"},{prepend:H(()=>["number"==typeof t.icon&&t.icon>2?(z(),R("img",{key:0,width:"20px",class:"pl-1",src:`/src/assets/orderbook/${t.icon}.svg`},null,8,iR)):(z(),q(wp,{key:1,color:"#506D84"},{default:H(()=>[W(A(t.icon),1)]),_:2},1024))]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):ee("",!0)])]),"item.netqty":H(({item:e})=>[e&&e.plgqty>0?(z(),q(R_,{key:0,small:"",class:"table-hov-prd maingreen--text",style:{"border-radius":"4px",padding:"4px 8px !important","background-color":"#43A833","margin-right":"4px"}},{default:H(()=>[d(wp,{color:"#ffffff",size:"12"},{default:H(()=>[...t[28]||(t[28]=[W("mdi-lock",-1)])]),_:1}),i("span",rR,A(e.plgqty),1)]),_:2},1024)):ee("",!0),e&&e.btstqty>0?(z(),q(R_,{key:1,small:"",color:"#FFD8B4","text-color":"#E8862A",style:"border-radius: 4px; padding: 4px 8px !important; margin-left: 4px;"},{default:H(()=>[i("span",uR,A(`T1 ${e.btstqty}`),1)]),_:2},1024)):ee("",!0),d(R_,{size:"small",style:{"background-color":"#E6F5EA",color:"#43A833","border-radius":"4px",padding:"4px 8px","font-weight":"500"},class:"netqty-chip"},{default:H(()=>[i("span",dR,A(e&&e.netqty>0?`+${e.netqty}`:e&&e.netqty<0?`${e.netqty}`:"0"),1)]),_:2},1024)]),"item.netavgprc":H(({item:e})=>[i("span",cR,A(D(e.netavgprc||e.upldprc)),1)]),"item.ltp":H(({item:e})=>[i("span",pR,A(D(e.ltp)),1)]),"item.rpnl":H(({item:e})=>[i("span",mR,A(D(e.rpnl)),1)]),"item.invested_val":H(({item:e})=>[i("span",vR,A(D(e.invested_val)),1)]),"item.current_val":H(({item:e})=>[i("span",hR,A(D(e.current_val)),1)]),"item.day_pnl":H(({item:e})=>[i("span",fR,A(D(e.day_pnl)),1)]),"item.day_pc":H(({item:e})=>[i("span",{class:r(["font-weight-bold fs-13",Number(e.day_pc)>0?"maingreen--text":Number(e.day_pc)<0?"mainred--text":"subtext--text"]),style:c([Number(e.day_pc)>0?"color: #43A833 !important;":Number(e.day_pc)<0?"color: #F23645 !important;":"color: black !important;",{"text-align":"right",display:"block"}])},A(V(e.day_pc)),7)]),"item.pnlc":H(({item:e})=>[i("span",{class:r(["font-weight-bold fs-13",Number(e.pnlc)>0?"maingreen--text":Number(e.pnlc)<0?"mainred--text":"subtext--text"]),style:{"text-align":"right",display:"block"}},A(V(e.pnlc)),3)]),_:1},8,["headers","items","loading"])]),_:1}),d(lB,{value:"mutual"},{default:H(()=>[d(PV,{headers:O.value,items:m.value,loading:v.value,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","hide-default-footer":"","fixed-header":"","items-per-page":-1,"item-value":"idx","item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[7]||(t[7]=(e,{item:t})=>te((null==t?void 0:t.raw)||t))},{"item.name":H(({item:e})=>[i("div",gR,[i("p",yR,A(e.name||"-"),1),e&&"mf"===e.holdtype?(z(),R("div",{key:0,onClick:t[6]||(t[6]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"50%",transform:"translateY(-50%)",right:"0","z-index":"10",gap:"4px","pointer-events":"auto",display:"flex","align-items":"center"}},[d(im,{onClick:ie(t=>x(kI).$emit("menudialog","mforder","redem",e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#F23645",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[29]||(t[29]=[W("Redeem ",-1)])]),_:1},8,["onClick"]),d(Pb,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[30]||(t[30]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[d(cb,{onClick:t=>te(e),class:"pl-3 pr-6"},{prepend:H(()=>[d(wp,{color:"#506D84"},{default:H(()=>[...t[31]||(t[31]=[W("mdi-information-outline",-1)])]),_:1})]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[...t[32]||(t[32]=[W("Details",-1)])]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])):ee("",!0)])]),"item.avg_qty":H(({item:e})=>[d(R_,{size:"small",style:{"background-color":"#E6F5EA",color:"#43A833","border-radius":"4px",padding:"4px 8px","font-weight":"500"},class:"netqty-chip"},{default:H(()=>[i("span",bR,A(e&&e.avg_qty>0?`+${e.avg_qty}`:e&&e.avg_qty<0?`${e.avg_qty}`:"0"),1)]),_:2},1024)]),"item.avg_nav":H(({item:e})=>[i("span",xR,A(D(e.avg_nav)),1)]),"item.Cur_Nav":H(({item:e})=>[i("span",wR,A(D(e.Cur_Nav)),1)]),"item.invested_value":H(({item:e})=>[i("span",_R,A(D(e.invested_value)),1)]),"item.current_value":H(({item:e})=>[i("span",kR,A(D(e.current_value)),1)]),"item.profit_loss":H(({item:e})=>[i("span",SR,A(D(e.profit_loss)),1)]),"item.changeprofitloss":H(({item:e})=>[i("span",{class:r(["font-weight-bold fs-13",Number(e.changeprofitloss)>0?"maingreen--text":Number(e.changeprofitloss)<0?"mainred--text":"subtext--text"]),style:{"text-align":"right",display:"block"}},A(V(e.changeprofitloss)),3)]),_:1},8,["headers","items","loading"])]),_:1})]),_:1},8,["modelValue"])]),d(HV,{modelValue:b.value,"onUpdate:modelValue":t[11]||(t[11]=e=>b.value=e),location:"right",temporary:"",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},pe({prepend:H(()=>[d(jg,{density:"compact",class:"nav-drawer crd-trn"},{default:H(()=>[d(im,{icon:"",variant:"text",density:"comfortable",onClick:ae,"aria-label":"Close drawer"},{default:H(()=>[d(wp,{color:"maintext",size:"20"},{default:H(()=>[...t[33]||(t[33]=[W("mdi-close",-1)])]),_:1})]),_:1}),t[34]||(t[34]=i("p",{class:"maintext--text font-weight-bold mb-0 ml-2"}," Holding Details ",-1)),d(zy)]),_:1})]),default:H(()=>[_.value&&Object.keys(_.value).length>0?(z(),q(cb,{key:0,class:"py-3"},{default:H(()=>["mf"===_.value.holdtype?(z(),q(ub,{key:0,class:"font-weight-medium maintext--text mb-3"},{default:H(()=>[W(A(_.value.name||""),1)]),_:1})):(z(),q(ub,{key:1,class:"font-weight-medium maintext--text mb-3"},{default:H(()=>[W(A(_.value.tsym||"")+" ",1),i("span",CR,A(_.value.exchs||_.value.exch||""),1)]),_:1})),"mf"===_.value.holdtype?(z(),q(ub,{key:2,class:"maintext--text font-weight-medium fs-16 mb-1"},{default:H(()=>[W(A(_.value.current_value||"0.00")+" ",1),i("span",{class:r([Number(_.value.profit_loss)>0?"maingreen--text":Number(_.value.profit_loss)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},A(_.value.profit_loss||"0.00")+" ("+A(_.value.changeprofitloss||"0.00")+"%) ",3)]),_:1})):(z(),q(ub,{key:3,class:"maintext--text font-weight-medium fs-16 mb-1"},{default:H(()=>[W(A(_.value.ltp||"0.00")+" ",1),i("span",{class:r([Number(_.value.pnl)>0?"maingreen--text":Number(_.value.pnl)<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},A(_.value.pnl||"0.00")+" ("+A(_.value.pnlc||"0.00")+"%) ",3)]),_:1}))]),_:1})):ee("",!0),_.value&&Object.keys(_.value).length>0?(z(),R("div",IR,[["NSE","BSE","MCX"].includes(_.value.exch)?(z(),R("div",ER,[d(Ry,null,{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[k.value?(z(),q(im,{key:0,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",block:""},{default:H(()=>[...t[35]||(t[35]=[W(" E-DIS ",-1)])]),_:1})):(z(),q(im,{key:1,target:"_blank",href:`https://profile.zebuetrade.in/deposltory/?uid=${S.value}&token=${C.value}`,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",block:"",height:"40"},{default:H(()=>[...t[36]||(t[36]=[W(" DO POA ",-1)])]),_:1},8,["href"]))]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[9]||(t[9]=e=>Z("exit-order",_.value.token,_.value.exch,_.value.tsym,_.value.netqty<0?"b":"s",_.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"outlined"},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...t[37]||(t[37]=[W("mdi-close",-1)])]),_:1}),t[38]||(t[38]=W(" Exit ",-1))]),_:1})]),_:1})]),_:1})])):ee("",!0),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[39]||(t[39]=W(" Quantity ",-1)),i("p",TR,["mf"===_.value.holdtype?(z(),q(R_,{key:0,small:"",color:Number(_.value.avg_qty)>0?"secgreen":Number(_.value.avg_qty)<0?"secred":"secbg","text-color":Number(_.value.avg_qty)>0?"maingreen":Number(_.value.avg_qty)<0?"mainred":"subtext",style:c(`border: 1px solid ${Number(_.value.avg_qty)>0?"#C1E7BA":Number(_.value.avg_qty)<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:H(()=>[i("span",NR,A(Number(_.value.avg_qty)>0?`+${_.value.avg_qty}`:Number(_.value.avg_qty)<0?`${_.value.avg_qty}`:"0"),1)]),_:1},8,["color","text-color","style"])):(z(),q(R_,{key:1,small:"",color:Number(_.value.netqty)>0?"secgreen":Number(_.value.netqty)<0?"secred":"secbg","text-color":Number(_.value.netqty)>0?"maingreen":Number(_.value.netqty)<0?"mainred":"subtext",style:c(`border: 1px solid ${Number(_.value.netqty)>0?"#C1E7BA":Number(_.value.netqty)<0?"#FFCDCD":"#DDD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:H(()=>[i("span",MR,A(Number(_.value.netqty)>0?`+${_.value.netqty}`:Number(_.value.netqty)<0?`${_.value.netqty}`:"0"),1)]),_:1},8,["color","text-color","style"]))])]),_:1}),d(my),"mf"!==_.value.holdtype?(z(),q(ub,{key:1,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[41]||(t[41]=W(" Pledged Qty ",-1)),i("p",AR,[Number(_.value.plgqty)>0?(z(),q(R_,{key:0,small:"",class:"table-hov-prd","text-color":"#666",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[d(wp,{color:"#999",size:"12"},{default:H(()=>[...t[40]||(t[40]=[W("mdi-lock",-1)])]),_:1}),i("span",OR,A(_.value.plgqty),1)]),_:1})):(z(),R("span",PR,"0"))])]),_:1})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(my,{key:2})):ee("",!0),"mf"===_.value.holdtype?(z(),q(ub,{key:3,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[42]||(t[42]=W(" Avg NAV ",-1)),i("p",FR,A(_.value.avg_nav?Number(_.value.avg_nav).toLocaleString():"0.00"),1)]),_:1})):(z(),q(ub,{key:4,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[43]||(t[43]=W(" Avg price ",-1)),i("p",LR,A(_.value.upldprc||_.value.netavgprc?Number(_.value.upldprc||_.value.netavgprc).toLocaleString():"0.00"),1)]),_:1})),d(my),"mf"===_.value.holdtype?(z(),q(ub,{key:5,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[44]||(t[44]=W(" NAV ",-1)),i("p",DR,A(_.value.Cur_Nav||"0.00"),1)]),_:1})):(z(),q(ub,{key:6,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[45]||(t[45]=W(" Last trade price ",-1)),i("p",VR,A(_.value.ltp||"0.00"),1)]),_:1})),d(my),"mf"===_.value.holdtype?(z(),q(ub,{key:7,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[46]||(t[46]=W(" Overall P&L ",-1)),i("p",BR,[W(A(_.value.profit_loss||"0.00")+" ",1),i("span",{class:r(["fs-12",Number(_.value.changeprofitloss)>0?"maingreen--text":Number(_.value.changeprofitloss)<0?"mainred--text":"subtext--text"])}," ("+A(_.value.changeprofitloss||"0.00")+"%)",3)])]),_:1})):(z(),q(ub,{key:8,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[47]||(t[47]=W(" Overall P&L ",-1)),i("p",$R,[W(A(_.value.pnl||"0.00")+" ",1),i("span",{class:r(["fs-12",Number(_.value.pnlc)>0?"maingreen--text":Number(_.value.pnlc)<0?"mainred--text":"subtext--text"])}," ("+A(_.value.pnlc||"0.00")+"%)",3)])]),_:1})),"mf"!==_.value.holdtype?(z(),q(my,{key:9})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(ub,{key:10,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[48]||(t[48]=W(" Day P&L ",-1)),i("p",RR,[W(A(_.value.d_pnl||_.value.day_pnl||"0.00")+" ",1),i("span",{class:r(["fs-12",Number(_.value.d_cpnl||_.value.day_pc)>0?"maingreen--text":Number(_.value.d_cpnl||_.value.day_pc)<0?"mainred--text":"subtext--text"])}," ("+A(_.value.d_cpnl||_.value.day_pc||"0.00")+"%)",3)])]),_:1})):ee("",!0),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[49]||(t[49]=W(" Investment ",-1)),"mf"===_.value.holdtype?(z(),R("p",zR,A(_.value.invested_value||""),1)):(z(),R("p",UR,A(_.value.inv||_.value.invested_val||""),1))]),_:1}),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[50]||(t[50]=W(" Current value ",-1)),"mf"===_.value.holdtype?(z(),R("p",qR,A(_.value.current_value||""),1)):(z(),R("p",HR,A(_.value.curr||_.value.current_val||""),1))]),_:1}),"mf"!==_.value.holdtype?(z(),q(my,{key:11})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(ub,{key:12,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[51]||(t[51]=W(" Product ",-1)),i("p",jR,A(_.value.prd?"I"===_.value.prd?"INTRADAY":"C"===_.value.prd?"DELIVERY":"MARKET":""),1)]),_:1})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(my,{key:13})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(ub,{key:14,class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[52]||(t[52]=W(" Order type ",-1)),i("p",WR,A(_.value.s_prdt_ali||"-"),1)]),_:1})):ee("",!0),"mf"!==_.value.holdtype?(z(),q(my,{key:15})):ee("",!0),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[t[53]||(t[53]=W(" ISIN ",-1)),"mf"===_.value.holdtype?(z(),R("p",YR,A(_.value.ISIN||"-"),1)):(z(),R("p",GR,A(_.value.isin||"-"),1))]),_:1})])):ee("",!0)]),_:2},[_.value&&Object.keys(_.value).length&&["NSE","BSE","MCX"].includes(_.value.exch)?{name:"append",fn:H(()=>[d(my),i("div",KR,[d(im,{onClick:t[10]||(t[10]=e=>Q("order",_.value.token,_.value.exch,_.value.tsym,_.value.netqty>0?"b":"s")),class:"rounded-pill text-none font-weight-bold elevation-0",color:Number(_.value.netqty)>0?"secgreen":Number(_.value.netqty)<0?"secred":"secbg","text-color":Number(_.value.netqty)>0?"maingreen":Number(_.value.netqty)<0?"mainred":"subtext",block:"",height:"40",style:c(`border: 2px solid ${Number(_.value.netqty)>0?"#C1E7BA":Number(_.value.netqty)<0?"#FFCDCD":"#DDD"};`)},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...t[54]||(t[54]=[W("mdi-plus",-1)])]),_:1}),t[55]||(t[55]=W(" Add ",-1))]),_:1},8,["color","text-color","style"])])]),key:"0"}:{name:"append",fn:H(()=>[d(my),i("div",XR,[d(im,{block:"",color:"primary",variant:"tonal",class:"text-none",onClick:ae},{default:H(()=>[...t[56]||(t[56]=[W(" Close ",-1)])]),_:1})])]),key:"1"}]),1032,["modelValue"])]))}},QR={__name:"PortfiloAn",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"Portfolio Analysis",-1),i("p",null,"Portfolio performance and analysis",-1)])]),_:1})]))},ZR=t("order",{state:()=>({orderDialog:!1,sliceDialog:!1,isQuickOrder:!1,isStickyDialog:!1,menudata:[],buyOrSellIsSell:!1,orderType:0,investType:"I",priceType:"LMT",quantity:0,price:0,triggerPrice:0,stopLossPrice:0,targetPrice:0,disclosedQty:0,afterMarket:!1,margin:0,orderMargin:0,cashAvailable:0,charges:0,allCharges:null,isPlacingOrder:!1,isCalculating:!1,orderCounts:[0,0,0],orderFilterTab:null,orderFilterType:null}),actions:{openOrderDialog(){this.orderDialog=!0},closeOrderDialog(){this.orderDialog=!1,this.sliceDialog=!1,this.menudata=[],this.isPlacingOrder=!1},setMenudata(e){this.menudata=e},setPreferences({quick:e,sticky:t}){"boolean"==typeof e&&(this.isQuickOrder=e),"boolean"==typeof t&&(this.isStickyDialog=t)},setOrderCounts(e){Array.isArray(e)&&e.length>=3&&(this.orderCounts=[e[0]||0,e[1]||0,e[2]||0])},setOrderFilter(e,t){this.orderFilterTab=e,this.orderFilterType=t},clearOrderFilter(){this.orderFilterTab=null,this.orderFilterType=null}}}),ez={class:"font-weight-medium maintext--text"},tz={class:"font-weight-medium fs-12"},az={class:"pos-rlt"},lz={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p mr-4"},nz={class:"ml-1 subtext--text fs-10"},oz=["src"],sz={class:"font-weight-medium fs-12"},iz={class:"font-weight-medium fs-12"},rz={class:"font-weight-medium maintext--text mb-0"},uz={class:"text-right font-weight-medium maintext--text mb-0"},dz={class:"text-right font-weight-medium maintext--text mb-0"},cz=["id"],pz={class:"text-right font-weight-medium maintext--text mb-0"},mz={class:"text-right font-weight-medium maintext--text mb-0"},vz={class:"text-right font-weight-medium maintext--text mb-0"},hz={class:"ws-p font-weight-medium maintext--text align-center"},fz={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},gz={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},yz={key:2,xmlns:"http://www.w3.org/2000/svg",width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},bz={class:"text-center"},xz={class:"mx-auto py-16 mt-16"},wz=["src"],_z={class:"font-weight-medium maintext--text"},kz={class:"font-weight-medium fs-12"},Sz={class:"pos-rlt",style:{"min-height":"40px","padding-right":"200px"}},Cz={class:"font-weight-bold fs-13 txt-162 black--text mb-0 table-hov-text",style:{"margin-right":"0","white-space":"nowrap"}},Iz={class:"ml-1 subtext--text fs-10"},Ez=["src"],Tz={class:"font-weight-medium fs-12"},Nz={class:"font-weight-medium maintext--text mb-0"},Mz={class:"text-right font-weight-medium maintext--text mb-0"},Az={class:"text-right font-weight-medium maintext--text mb-0"},Oz={class:"text-right font-weight-medium maintext--text mb-0"},Pz={class:"text-right font-weight-medium maintext--text mb-0"},Fz={class:"text-right font-weight-medium maintext--text mb-0"},Lz={class:"ws-p font-weight-medium maintext--text align-center"},Dz={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},Vz={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},Bz={class:"text-center"},$z={class:"mx-auto py-16 mt-16"},Rz=["src"],zz={key:0},Uz={class:"ml-1 txt-999 fs-10"},qz={class:"float-right mb-0"},Hz={key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},jz={key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"15",viewBox:"0 0 20 15",fill:"none"},Wz={key:2,xmlns:"http://www.w3.org/2000/svg",width:"17",height:"12",viewBox:"0 0 17 12",fill:"none"},Yz={class:"px-4 pb-6"},Gz={key:0},Kz={class:"py-3 px-4"},Xz={class:"error--text font-weight-bold fs-14 mb-0"},Jz={class:"px-4 pt-1"},Qz={class:"float-right mb-0"},Zz={class:"float-right mb-0"},eU={class:"float-right mb-0"},tU={class:"float-right mb-0"},aU={class:"float-right mb-0"},lU={class:"float-right mb-0"},nU={class:"float-right mb-0"},oU={class:"float-right mb-0"},sU={class:"float-right mb-0"},iU={class:"float-right mb-0"},rU={class:"float-right mb-0"},uU={class:"px-4 pt-3 pb-4"},dU={key:0,class:"px-6"},cU={class:"mb-0 fs-14"},pU={class:"float-right"},mU={class:"mb-0 fs-14"},vU={class:"float-right"},hU={class:"mb-0 fs-14"},fU={class:"float-right"},gU={class:"mainred--text"},yU=["src"],bU={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},xU={__name:"StocksOrderBook",setup(e){const t=Qa(),n=ZR(),o=Y(),s=a(!1),c=a("orders"),p=a(""),m=a("All"),v=a(0),f=a(!1),g=a(!1),b=a(!1),_=a({}),k=a(null),S=a([]),C=a([]),I=a([]),E=a([]),T=a({column:"norentm",desc:!0}),M=[{title:"All",value:"All"},{title:"TRIGGER_PENDING",value:"TRIGGER_PENDING"},{title:"PENDING",value:"PENDING"},{title:"OPEN",value:"OPEN"}],O=[{title:"All",value:"All"},{title:"COMPLETE",value:"COMPLETE"},{title:"REJECTED",value:"REJECTED"},{title:"CANCELED",value:"CANCELED"}],P=[{name:"Buy",icon:"mdi-plus",type:"order",trans:"b"},{name:"Sell",icon:"mdi-minus",type:"order",trans:"s",hr:!0},{name:"History",icon:"mdi-history",type:"his",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],F=[{name:"History",icon:"mdi-history",type:"his",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],L=[{title:"Time",key:"norentm",sortable:!0},{title:"Type",key:"trantype",sortable:!0},{title:"Instrument",key:"tsym",sortable:!0},{title:"Product",key:"s_prdt_ali",sortable:!0},{title:"Qty",key:"qty",sortable:!0,align:"right"},{title:"Avg price",key:"rprc",sortable:!0,align:"right"},{title:"LTP",key:"ltp",sortable:!0,align:"right"},{title:"Price",key:"prc",sortable:!0,align:"right"},{title:"Trigger price",key:"trgprc",sortable:!0,align:"right"},{title:"Order value",key:"value",sortable:!0,align:"right"},{title:"Status",key:"status",sortable:!1}],D=[{title:"Date Time",key:"norentm"},{title:"Exch Time",key:"exch"},{title:"Price",key:"prc"},{title:"Pending Qty",key:"qty"},{title:"Status",key:"status"},{title:"Modified by",key:"modifi"}],V=l(()=>{let e=C.value||[];return"All"!==m.value?(e=e.filter(e=>e.status===m.value),v.value=e.length):v.value=0,e}),B=l(()=>{let e=I.value||[];return"All"!==m.value?(e=e.filter(e=>e.status===m.value),v.value=e.length):v.value=0,e}),$=l(()=>{const e=[...V.value];return T.value.column&&e.sort((e,t)=>{const a=T.value.column,l=T.value.desc?-1:1;if("norentm"===a)return l*(e.norentm>t.norentm?1:e.norentm<t.norentm?-1:0);const n=e[a],o=t[a];return"number"==typeof n&&"number"==typeof o?l*(n-o):l*String(n||"").localeCompare(String(o||""))}),e}),j=l(()=>{const e=[...B.value];return T.value.column&&e.sort((e,t)=>{const a=T.value.column,l=T.value.desc?-1:1;if("norentm"===a)return l*(e.norentm>t.norentm?1:e.norentm<t.norentm?-1:0);const n=e[a],o=t[a];return"number"==typeof n&&"number"==typeof o?l*(n-o):l*String(n||"").localeCompare(String(o||""))}),e});function G(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}function K(e){if(!e)return"-";const t=String(e);if(t.includes(":"))return t.slice(0,8);const a=Number(t);if(!isFinite(a))return t;const l=new Date(a);return isFinite(l.getTime())?l.toTimeString().slice(0,8):t}function X(e){const t=(null==e?void 0:e.response)||[];if(E.value=t,C.value=(null==e?void 0:e.openorders)||t.filter(e=>"open"===e.way),I.value=(null==e?void 0:e.execorders)||t.filter(e=>"open"!==e.way),(null==e?void 0:e.stat)&&Array.isArray(e.stat)&&e.stat.length>=3)n.setOrderCounts(e.stat);else{const e=C.value.length,t=I.value.filter(e=>"COMPLETE"===e.status).length,a=I.value.filter(e=>"REJECTED"===e.status||"CANCELED"===e.status).length;n.setOrderCounts([e,t,a])}try{sessionStorage.setItem("orders_last",JSON.stringify(e))}catch(SJ){}}async function J(){s.value=!0;const e=await Nae(!0);e&&(Array.isArray(e.response)||Array.isArray(e.openorders))?X(e):500!==e&&t.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load orders"),s.value=!1}function Q(){m.value="All",v.value=0}function Z(e){_.value=e,g.value=!0}async function te(){if("all"===_.value||S.value.length===C.value.length){for(let e=0;e<S.value.length;e++)S.value[e]&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"cancel-order",token:S.value[e].token,exch:S.value[e].exch,tsym:S.value[e].tsym,trantype:"",item:S.value[e]}})),e<S.value.length-1&&await new Promise(e=>setTimeout(e,100));S.value=[]}else _.value&&_.value.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"cancel-order",token:_.value.token,exch:_.value.exch,tsym:_.value.tsym,trantype:"",item:_.value}}));g.value=!1,_.value=null}function ae(e,t,a,l,n,s){if("alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"alert",token:t,exch:a,tsym:l}}));else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:a,tsym:l,trantype:"b"}}));else if("modify"===e||"mod-order"===e)s.fillshares>0&&s.qty!==s.fillshares&&(s.qty=s.qty-s.fillshares),window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-order",token:t,exch:a,tsym:l,trantype:null==n?void 0:n.toLowerCase(),item:s}}));else if("order"===e||"re-order"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:t,exch:a,tsym:l,trantype:n,item:s}}));else if("his"===e)ne(s.norenordno);else{const n=[e,t,a,l];o.push({name:"stocks details",params:{val:n}})}}function le(e){var t;e.fillshares>0&&e.qty!==e.fillshares&&(e.qty=e.qty-e.fillshares),window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-order",token:e.token,exch:e.exch,tsym:e.tsym,trantype:null==(t=e.trantype)?void 0:t.toLowerCase(),item:e}}))}async function ne(e){var a;s.value=!0;const l=await Oae(e);l&&Array.isArray(l)&&"Ok"===(null==(a=l[0])?void 0:a.stat)?(k.value=l.map(e=>{var t;return{...e,modifi:(null==(t=e.rpt)?void 0:t.includes("New"))?"NA":e.actid}}),b.value=!0):t.showSnackbar(2,(null==l?void 0:l.emsg)||"Failed to load order history"),s.value=!1}async function oe(e){f.value=!0,_.value={...e};try{const t=await $le([{exch:e.exch,token:e.token}]);t&&t.data&&t.data[e.token]&&(_.value.raw=t.data[e.token])}catch(SJ){console.error("Failed to fetch LTP",SJ)}}function se(e){const t=e.detail;t&&(t.stat||t.response||t.openorders)&&X(t)}function de(){J()}function ce(e){var t;const a=e.detail;if(!(null==a?void 0:a.token)||!(null==(t=E.value)?void 0:t.length))return;const l=E.value.findIndex(e=>e.token===a.token);l>=0&&(E.value[l].ltp=a.lp||a.ltp||E.value[l].ltp,N(()=>{const e=document.getElementById(`ord${E.value[l].idx||E.value[l].norenordno}|${a.token}ltp`);e&&(e.innerHTML=G(E.value[l].ltp))}))}return y(()=>{try{const e=sessionStorage.getItem("orders_last");if(e){const t=JSON.parse(e);t&&(t.response||t.openorders)&&X(t)}}catch(SJ){}n.orderFilterTab&&(c.value=n.orderFilterTab,n.orderFilterType&&(m.value=n.orderFilterType),n.clearOrderFilter()),J(),window.addEventListener("tempdata-update",se),window.addEventListener("orderbook-update",de),window.addEventListener("web-scoketConn",ce)}),h(()=>{window.removeEventListener("tempdata-update",se),window.removeEventListener("orderbook-update",de),window.removeEventListener("web-scoketConn",ce)}),(e,t)=>(z(),R("div",null,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(iB,{modelValue:c.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>c.value=e),Q],color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:H(()=>[d(YV,{value:"orders",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W(" Open Orders ("+A(V.value.length)+") ",1)]),_:1}),d(YV,{value:"executed",class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[W(" Executed Orders ("+A(B.value.length)+") ",1)]),_:1})]),_:1},8,["modelValue"]),d(zy),"orders"===c.value?(z(),q(Fk,{key:0,elevation:"0",rounded:"",modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"])):ee("",!0),"orders"===c.value?(z(),q(rI,{key:1,style:{"max-width":"160px"},modelValue:m.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>m.value=e),t[3]||(t[3]=e=>v.value=0)],rounded:"","hide-details":"","item-title":"title","item-value":"value","prepend-inner-icon":"mdi-format-list-bulleted",class:"rounded-pill ml-4",variant:"solo",density:"compact",flat:"","bg-color":"secbg",elevation:"0",items:M},null,8,["modelValue"])):(z(),q(rI,{key:2,style:{"max-width":"160px"},modelValue:m.value,"onUpdate:modelValue":[t[4]||(t[4]=e=>m.value=e),t[5]||(t[5]=e=>v.value=0)],rounded:"","hide-details":"","item-title":"title","item-value":"value","prepend-inner-icon":"mdi-format-list-bulleted",class:"rounded-pill ml-4",variant:"solo",density:"compact",flat:"","bg-color":"secbg",elevation:"0",items:O},null,8,["modelValue"])),"orders"===c.value?(z(),q(im,{key:3,disabled:!C.value.length,onClick:t[6]||(t[6]=e=>Z("all")),class:"elevation-0 rounded-pill font-weight-bold text-none ml-4",color:"primary"},{default:H(()=>[W(" Cancel "+A(S.value.length===C.value.length?"all":S.value.length>0?S.value.length:"all"),1)]),_:1},8,["disabled"])):ee("",!0),d(wp,{disabled:s.value,class:r(["ml-3 cursor-p",{"reload-rotating":s.value}]),onClick:J,color:"maintext",size:"24"},{default:H(()=>[...t[23]||(t[23]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(ZV,{modelValue:c.value,"onUpdate:modelValue":t[12]||(t[12]=e=>c.value=e),style:{"z-index":"0"}},{default:H(()=>[d(lB,{value:"orders"},{default:H(()=>[d(PV,{modelValue:S.value,"onUpdate:modelValue":t[8]||(t[8]=e=>S.value=e),headers:L,items:$.value,loading:s.value,"fixed-header":"","hide-default-footer":!0,"items-per-page":-1,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","item-key":"norenordno","show-select":"","item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[9]||(t[9]=(e,{item:t})=>oe(t))},{"item.norentm":H(({item:e})=>[i("span",ez,A(K(e.norentm)),1)]),"item.trantype":H(({item:e})=>[d(R_,{small:"",color:"B"===e.trantype?"green":"red","text-color":"B"===e.trantype?"maingreen":"mainred",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",tz,A("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color"])]),"item.tsym":H(({item:e})=>[i("div",az,[i("p",lz,[W(A(e.tsym||"")+" ",1),i("span",nz,A(e.exchs||e.exch||""),1)]),i("div",{onClick:t[7]||(t[7]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0"}},["COMPLETE"!==e.status&&"CANCELED"!==e.status&&"REJECTED"!==e.status?(z(),q(im,{key:0,onClick:ie(t=>le(e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#43A833",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[24]||(t[24]=[W(" B ",-1)])]),_:1},8,["onClick"])):ee("",!0),"COMPLETE"!==e.status&&"CANCELED"!==e.status&&"REJECTED"!==e.status?(z(),q(im,{key:1,onClick:ie(t=>Z(e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#FF1717",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[25]||(t[25]=[W(" S ",-1)])]),_:1},8,["onClick"])):ee("",!0),d(im,{onClick:ie(t=>ae("chart",e.token,e.exch,e.tsym,null,e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[26]||(t[26]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Lb,{location:"bottom"},{activator:H(({props:a})=>[i("div",re(ue(a)),[d(im,{onClick:ie(t=>ae("order",e.token,e.exch,e.tsym,e.trantype.toLowerCase(),e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[27]||(t[27]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:H(()=>[t[28]||(t[28]=i("span",null,"Exit",-1))]),_:2},1024),d(Pb,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"20",color:"maintext"},{default:H(()=>[...t[29]||(t[29]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(P,(t,a)=>(z(),R("div",{key:a},[d(cb,{onClick:a=>{var l;return"cancel"===t.type?Z(e):t.type?ae(t.type,e.token,e.exch,e.tsym,t.trans||(null==(l=e.trantype)?void 0:l.toLowerCase()),e):oe(e)},class:"pl-3 pr-6"},{prepend:H(()=>["string"==typeof t.icon?(z(),q(wp,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(z(),R("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,oz)):ee("",!0)]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.s_prdt_ali":H(({item:e})=>[e.s_prdt_ali?(z(),q(R_,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",sz,A(e.s_prdt_ali),1)]),_:2},1024)):"ESIP"===e.ordersource?(z(),q(R_,{key:1,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",iz,A(e.ordersource),1)]),_:2},1024)):ee("",!0)]),"item.qty":H(({item:e})=>[i("p",rz,A(e.fillshares&&Number(e.fillshares)>0?e.fillshares/("MCX"===e.exch?e.ls:1)+"/":"")+A(e.qty?e.qty/("MCX"===e.exch?e.ls:1):"0"),1)]),"item.rprc":H(({item:e})=>[i("p",uz,A(G(e.avgprc||e.rprc)),1)]),"item.ltp":H(({item:e})=>[i("p",dz,[i("span",{id:`ord${e.idx||e.norenordno}|${e.token}ltp`},A(G(e.ltp)),9,cz)])]),"item.prc":H(({item:e})=>[i("p",pz,A(G(e.prc)),1)]),"item.trgprc":H(({item:e})=>[i("p",mz,A(G(e.trgprc)),1)]),"item.value":H(({item:e})=>[i("p",vz,A(G(e.value)),1)]),"item.status":H(({item:e})=>[i("div",hz,[d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("div",w(a,{class:"d-inline-flex"}),["COMPLETE"===e.status?(z(),R("svg",fz,[...t[30]||(t[30]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),i("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===e.status||"REJECTED"===e.status?(z(),R("svg",gz,[...t[31]||(t[31]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),i("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(z(),R("svg",yz,[...t[32]||(t[32]=[i("path",{d:"M0.941406 6C0.941406 2.68629 3.6277 0 6.94141 0H10.9416C14.2553 0 16.9416 2.68629 16.9416 6C16.9416 9.31371 14.2553 12 10.9416 12H6.9414C3.62769 12 0.941406 9.31371 0.941406 6Z",fill:"#FFB038"},null,-1),i("path",{d:"M5.19143 7C5.74373 7 6.19145 6.55228 6.19145 6C6.19145 5.44772 5.74373 5 5.19143 5C4.63914 5 4.19142 5.44772 4.19142 6C4.19142 6.55228 4.63914 7 5.19143 7Z",fill:"white"},null,-1),i("path",{d:"M9.19149 7C9.74378 7 10.1915 6.55228 10.1915 6C10.1915 5.44772 9.74378 5 9.19149 5C8.63919 5 8.19147 5.44772 8.19147 6C8.19147 6.55228 8.63919 7 9.19149 7Z",fill:"white"},null,-1),i("path",{d:"M13.1915 7C13.7438 7 14.1915 6.55228 14.1915 6C14.1915 5.44772 13.7438 5 13.1915 5C12.6392 5 12.1915 5.44772 12.1915 6C12.1915 6.55228 12.6392 7 13.1915 7Z",fill:"white"},null,-1)])])),W(" "+A(e.status||""),1)],16)]),default:H(()=>[i("span",null,A(e.rejreason||e.st_intrn||""),1)]),_:2},1024)])]),"no-data":H(()=>[i("div",bz,[i("div",xz,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,wz),t[33]||(t[33]=i("h4",{class:"subtext--text font-weight-regular caption"},[W(" There is no Open order "),i("br"),W("data here yet! ")],-1))])])]),_:1},8,["modelValue","items","loading"])]),_:1}),d(lB,{value:"executed"},{default:H(()=>[d(PV,{headers:L,items:j.value,loading:s.value,"fixed-header":"","hide-default-footer":!0,"items-per-page":-1,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[11]||(t[11]=(e,{item:t})=>oe(t))},{"item.norentm":H(({item:e})=>[i("span",_z,A(K(e.norentm)),1)]),"item.trantype":H(({item:e})=>[d(R_,{small:"",color:"B"===e.trantype?"green":"red","text-color":"B"===e.trantype?"maingreen":"mainred",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",kz,A("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color"])]),"item.tsym":H(({item:e})=>[i("div",Sz,[i("p",Cz,[W(A(e.tsym||"")+" ",1),i("span",Iz,A(e.exchs||e.exch||""),1)]),e?(z(),R("div",{key:0,onClick:t[10]||(t[10]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"50%",transform:"translateY(-50%)",right:"0","z-index":"10",gap:"4px","pointer-events":"auto",display:"flex","align-items":"center"}},[d(im,{onClick:ie(t=>ae("order",e.token,e.exch,e.tsym,"b",e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#43A833",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[34]||(t[34]=[W(" B ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>ae("order",e.token,e.exch,e.tsym,"s",e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#FF1717",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[35]||(t[35]=[W(" S ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>ae("chart",e.token,e.exch,e.tsym,null,e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[36]||(t[36]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Pb,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[37]||(t[37]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(F,(t,a)=>(z(),R("div",{key:a},[d(cb,{onClick:a=>{var l;return t.type?ae(t.type,e.token,e.exch,e.tsym,t.trans||(null==(l=e.trantype)?void 0:l.toLowerCase()),e):oe(e)},class:"pl-3 pr-6"},{prepend:H(()=>["string"==typeof t.icon?(z(),q(wp,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(z(),R("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,Ez)):ee("",!0)]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):ee("",!0)])]),"item.s_prdt_ali":H(({item:e})=>[e.s_prdt_ali?(z(),q(R_,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",Tz,A(e.s_prdt_ali),1)]),_:2},1024)):ee("",!0)]),"item.qty":H(({item:e})=>[i("p",Nz,A(e.fillshares&&Number(e.fillshares)>0?e.fillshares/("MCX"===e.exch?e.ls:1)+"/":"")+A(e.qty?e.qty/("MCX"===e.exch?e.ls:1):"0"),1)]),"item.rprc":H(({item:e})=>[i("p",Mz,A(G(e.avgprc||e.rprc)),1)]),"item.ltp":H(({item:e})=>[i("p",Az,A(G(e.ltp)),1)]),"item.prc":H(({item:e})=>[i("p",Oz,A(G(e.prc)),1)]),"item.trgprc":H(({item:e})=>[i("p",Pz,A(G(e.trgprc)),1)]),"item.value":H(({item:e})=>[i("p",Fz,A(G(e.value)),1)]),"item.status":H(({item:e})=>[i("div",Lz,["COMPLETE"===e.status?(z(),R("svg",Dz,[...t[38]||(t[38]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),i("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===e.status||"REJECTED"===e.status?(z(),R("svg",Vz,[...t[39]||(t[39]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),i("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):ee("",!0),W(" "+A(e.status||""),1)])]),"no-data":H(()=>[i("div",Bz,[i("div",$z,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,Rz),t[40]||(t[40]=i("h4",{class:"subtext--text font-weight-regular caption"},[W(" There is no Executed order "),i("br"),W("data here yet! ")],-1))])])]),_:1},8,["items","loading"])]),_:1})]),_:1},8,["modelValue"]),d(HV,{modelValue:f.value,"onUpdate:modelValue":t[18]||(t[18]=e=>f.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:H(()=>[d(jg,{class:"nav-drawer crd-trn",density:"comfortable"},{default:H(()=>[d(im,{icon:"",variant:"text",density:"comfortable",onClick:t[13]||(t[13]=e=>f.value=!1),color:"maintext",size:"20"},{default:H(()=>[d(wp,null,{default:H(()=>[...t[41]||(t[41]=[W("mdi-close",-1)])]),_:1})]),_:1}),t[42]||(t[42]=i("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),d(zy)]),_:1})]),default:H(()=>[_.value?(z(),R("div",zz,[d(cb,{class:"pt-3 pb-0"},{default:H(()=>[d(ub,{class:"font-weight-medium maintext--text mb-3"},{default:H(()=>[W(A(_.value.tsym||"")+" ",1),i("span",Uz,A(_.value.exch||""),1)]),_:1}),d(ub,{class:"txt-000 font-weight-medium fs-16 mb-1"},{default:H(()=>{var e;return[W("₹"+A(G((null==(e=_.value.raw)?void 0:e.lp)||_.value.ltp)),1)]}),_:1}),d(ub,{class:r([_.value.rpnl>0?"maingreen--text":_.value.rpnl<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},{default:H(()=>[W(A(G(_.value.rpnl))+" ("+A(G(_.value.pnlc))+"%) ",1)]),_:1},8,["class"])]),_:1}),d(my),d(cb,{class:"pt-3 pb-0"},{default:H(()=>[d(rb,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:H(()=>[...t[43]||(t[43]=[W("Order Id",-1)])]),_:1}),d(ub,{class:"txt-000 font-weight-bold fs-14"},{default:H(()=>[W(A(_.value.norenordno)+" ",1),i("p",qz,["COMPLETE"===_.value.status?(z(),R("svg",Hz,[...t[44]||(t[44]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#2DB266"},null,-1),i("path",{d:"M6.25 8.2475L8.415 10.4125L13.8275 5",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):"CANCELED"===_.value.status||"REJECTED"===_.value.status?(z(),R("svg",jz,[...t[45]||(t[45]=[i("rect",{width:"20",height:"15",rx:"7",fill:"#DC2626"},null,-1),i("path",{d:"M7.5 10L12.5 5M7.5 5L12.5 10",stroke:"white","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(z(),R("svg",Wz,[...t[46]||(t[46]=[i("path",{d:"M0.941406 6C0.941406 2.68629 3.6277 0 6.94141 0H10.9416C14.2553 0 16.9416 2.68629 16.9416 6C16.9416 9.31371 14.2553 12 10.9416 12H6.9414C3.62769 12 0.941406 9.31371 0.941406 6Z",fill:"#FFB038"},null,-1),i("path",{d:"M5.19143 7C5.74373 7 6.19145 6.55228 6.19145 6C6.19145 5.44772 5.74373 5 5.19143 5C4.63914 5 4.19142 5.44772 4.19142 6C4.19142 6.55228 4.63914 7 5.19143 7Z",fill:"white"},null,-1),i("path",{d:"M9.19149 7C9.74378 7 10.1915 6.55228 10.1915 6C10.1915 5.44772 9.74378 5 9.19149 5C8.63919 5 8.19147 5.44772 8.19147 6C8.19147 6.55228 8.63919 7 9.19149 7Z",fill:"white"},null,-1),i("path",{d:"M13.1915 7C13.7438 7 14.1915 6.55228 14.1915 6C14.1915 5.44772 13.7438 5 13.1915 5C12.6392 5 12.1915 5.44772 12.1915 6C12.1915 6.55228 12.6392 7 13.1915 7Z",fill:"white"},null,-1)])])),W(" "+A(_.value.status||""),1)])]),_:1})]),_:1}),i("div",Yz,["COMPLETE"===_.value.status||"CANCELED"===_.value.status||"REJECTED"===_.value.status?(z(),q(im,{key:0,onClick:t[14]||(t[14]=e=>{var t;return ae("order",_.value.token,_.value.exch,_.value.tsym,null==(t=_.value.trantype)?void 0:t.toLowerCase(),_.value)}),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:H(()=>[...t[47]||(t[47]=[W("Place New order",-1)])]),_:1})):(z(),q(Ry,{key:1},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[15]||(t[15]=e=>le(_.value)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:H(()=>[...t[48]||(t[48]=[W("Modify Order",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[16]||(t[16]=e=>{f.value=!1,Z(_.value)}),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:H(()=>[W(A(_.value.exord?"Exit":"Cancel")+"Order ",1)]),_:1})]),_:1})]),_:1}))]),d(my,{class:"pt-1"}),"COMPLETE"!==_.value.status?(z(),R("div",Gz,[i("div",Kz,[t[49]||(t[49]=i("p",{class:"subtext--text font-weight-medium fs-13 mb-1"},"Rejected reason",-1)),i("p",Xz,A(_.value.rejreason||"-"),1)]),d(my)])):ee("",!0),i("div",Jz,[d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[50]||(t[50]=W("Quantity ",-1)),i("p",Qz,A(_.value.qty?_.value.qty/("MCX"===_.value.exch?_.value.ls:1):"0"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[51]||(t[51]=W("Price ",-1)),i("p",Zz,"₹"+A(G(_.value.prc)),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[52]||(t[52]=W("Avg price ",-1)),i("p",eU,"₹"+A(G(_.value.rprc||_.value.avgprc)),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[53]||(t[53]=W("Trigger price ",-1)),i("p",tU,"₹"+A(G(_.value.trgprc)),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[54]||(t[54]=W("Order type ",-1)),i("p",aU,A(_.value.prctyp||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[55]||(t[55]=W("Validity ",-1)),i("p",lU,A(_.value.ret||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[56]||(t[56]=W("Exch. Ord ID ",-1)),i("p",nU,A(_.value.exchordid||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[57]||(t[57]=W("Time ",-1)),i("p",oU,A(K(_.value.norentm)),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[58]||(t[58]=W("Exch time ",-1)),i("p",sU,A(K(_.value.norentm)),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[59]||(t[59]=W("Product ",-1)),i("p",iU,A(_.value.s_prdt_ali||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[t[60]||(t[60]=W("Place by ",-1)),i("p",rU,A(_.value.uid||"-"),1)]),_:1})]),d(my,{class:"pt-1"}),i("div",uU,[d(im,{onClick:t[17]||(t[17]=e=>ne(_.value.norenordno)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal"},{default:H(()=>[d(wp,null,{default:H(()=>[...t[61]||(t[61]=[W("mdi-history",-1)])]),_:1}),t[62]||(t[62]=W(" Order history",-1))]),_:1})])])):ee("",!0)]),_:1},8,["modelValue"]),d(U_,{modelValue:b.value,"onUpdate:modelValue":t[20]||(t[20]=e=>b.value=e),"max-width":"720",scrollable:""},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 py-4 overflow-hidden"},{default:H(()=>[k.value&&k.value[0]?(z(),R("div",dU,[d(ub,{class:"font-weight-bold title maintext--text mb-0"},{default:H(()=>[t[64]||(t[64]=W("Order history ",-1)),d(wp,{onClick:t[19]||(t[19]=e=>{b.value=!1,k.value=[]}),class:"float-right",color:"maintext"},{default:H(()=>[...t[63]||(t[63]=[W("mdi-close",-1)])]),_:1})]),_:1}),d(my,{class:"mb-3"}),d(cy,{class:"elevation-0 py-2 mt-2 mb-3",color:"secbg"},{default:H(()=>[d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[65]||(t[65]=[W("Order Number",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A(k.value[0].norenordno||"-"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[66]||(t[66]=[W("User ID",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A(k.value[0].actid||"-"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[67]||(t[67]=[W("Exchange",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A(k.value[0].exch||"-"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[68]||(t[68]=[W("Product",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A("C"===k.value[0].prd?"CNC":"M"===k.value[0].prd?"NRML":"MIS"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[69]||(t[69]=[W("Trading Symbol",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A(k.value[0].tsym||"-"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[70]||(t[70]=[W("PriceType",-1)])]),_:1}),d(ub,{class:"subtitle-2 font-weight-bold"},{default:H(()=>[W(A("MKT"===k.value[0].prctyp?"Market":"LMT"===k.value[0].prctyp?"LIMIT":"SL-MKT"===k.value[0].prctyp?"SL MARKET":"SL LIMIT"),1)]),_:1})]),_:1}),d(cb,{class:"mb-1 maintext--text"},{default:H(()=>[d(ub,{class:"caption"},{default:H(()=>[...t[71]||(t[71]=[W("Transaction Type",-1)])]),_:1}),d(ub,{class:r(["subtitle-2 font-weight-bold","B"===k.value[0].trantype?"maingreen--text":"mainred--text"])},{default:H(()=>[W(A("B"===k.value[0].trantype?"BUY":"SELL"),1)]),_:1},8,["class"])]),_:1})]),_:1}),d(cy,{variant:"outlined"},{default:H(()=>[d(PV,{dense:"",height:"128",headers:D,items:k.value,"items-per-page":-1,class:"elevation-0 rounded-lg","hide-default-footer":""},{"item.qty":H(({item:e})=>[i("span",null,A(e.qty/("MCX"===e.exch?e.ls:1)),1)]),_:1},8,["items"])]),_:1}),d(Ry,{"no-gutters":"",class:"mb-4 mt-2 px-2"},{default:H(()=>[d(ky,{cols:"4",class:"pb-0"},{default:H(()=>[i("p",cU,[t[72]||(t[72]=W("Child ID :",-1)),i("span",pU,A(k.value[0].kidid||"-"),1)])]),_:1}),d(ky,{cols:"4",class:"pb-0"},{default:H(()=>[i("p",mU,[t[73]||(t[73]=W("Source :",-1)),i("span",vU,A(k.value[0].ordersource||"-"),1)])]),_:1}),d(ky,{cols:"4",class:"pb-0"},{default:H(()=>[i("p",hU,[t[74]||(t[74]=W("Qty :",-1)),i("span",fU,A(k.value[0].qty?k.value[0].qty/("MCX"===k.value[0].exch?k.value[0].ls:1):"-"),1)])]),_:1})]),_:1}),t[75]||(t[75]=i("p",{class:"font-weight-medium mb-1"},"Rejected reason",-1)),i("p",gU,A(k.value[0].rejreason||"-"),1)])):ee("",!0)]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:g.value,"onUpdate:modelValue":t[22]||(t[22]=e=>g.value=e),"max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:H(()=>{var e,a;return[i("img",{src:x(Lf),alt:"cancel icon"},null,8,yU),i("p",bU,[t[76]||(t[76]=W(" Are you sure you want to",-1)),t[77]||(t[77]=i("br",null,null,-1)),W(" "+A("all"===_.value||Array.isArray(_.value)&&0===_.value.length?"cancel":_.value.exord?"exit":"cancel")+" ",1),i("b",null,A((null==(e=_.value)?void 0:e.tsym)||(S.value.length===C.value.length?"All Open":"Open")),1),W(" "+A((null==(a=_.value)?void 0:a.exord)?"position":`order\n                    (${"all"===_.value?C.value.length:S.value.length})`)+"? ",1)]),d(Ry,{class:"px-6","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[21]||(t[21]=e=>{g.value=!1,_.value=null}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...t[78]||(t[78]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:te,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>{var e;return[W(A((null==(e=_.value)?void 0:e.exord)?"Exit":"Yes"),1)]}),_:1})]),_:1})]),_:1})]}),_:1})]),_:1},8,["modelValue"])]))}},wU=zc(xU,[["__scopeId","data-v-cc73e8e5"]]),_U={class:"title font-weight-bold mb-0"},kU={class:"font-weight-medium maintext--text"},SU={class:"font-weight-medium fs-12"},CU={class:"pos-rlt",style:{"min-height":"40px","padding-right":"200px"}},IU={class:"font-weight-bold fs-13 txt-162 black--text mb-0 table-hov-text",style:{"margin-right":"0","white-space":"nowrap"}},EU={class:"ml-1 subtext--text fs-10"},TU=["src"],NU={class:"font-weight-medium fs-12"},MU={class:"font-weight-medium maintext--text mb-0"},AU={class:"text-right font-weight-medium maintext--text mb-0"},OU={class:"text-right font-weight-medium maintext--text mb-0"},PU={class:"text-right font-weight-medium maintext--text mb-0"},FU={class:"text-center"},LU={class:"mx-auto py-16 mt-16"},DU=["src"],VU={__name:"StocksTradeBook",setup(e){const t=Qa(),n=Y(),o=a(!1),s=a(""),p=a([]),m=[{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],v=[{title:"Time",key:"norentm",sortable:!0},{title:"Type",key:"trantype",sortable:!0},{title:"Instrument",key:"tsym",sortable:!0},{title:"Product",key:"s_prdt_ali",sortable:!0},{title:"Qty",key:"flqty",sortable:!0,align:"right"},{title:"Price",key:"flprc",sortable:!0,align:"right"},{title:"Trade value",key:"avgprc",sortable:!0,align:"right"},{title:"Order no",key:"norenordno",sortable:!0,align:"right"}],f=l(()=>{var e;const t=null==(e=s.value)?void 0:e.toLowerCase();return t?p.value.filter(e=>{var a,l,n;return(null==(a=e.tsym)?void 0:a.toLowerCase().includes(t))||(null==(l=e.exch)?void 0:l.toLowerCase().includes(t))||(null==(n=e.norenordno)?void 0:n.toLowerCase().includes(t))}):p.value});function g(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}function b(e){if(!e)return"-";const t=String(e);if(t.includes(":"))return t.slice(0,8);const a=Number(t);if(!isFinite(a))return t;const l=new Date(a);return isFinite(l.getTime())?l.toTimeString().slice(0,8):t}async function _(){o.value=!0;const e=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!e||!a)return t.showSnackbar(2,"Session expired. Please login again."),void(o.value=!1);const l=`jData={"uid":"${e}","actid":"${e}"}&jKey=${a}`,n=await Mae(l);n&&Array.isArray(n)&&n.length>0?p.value=n:(p.value=[],n&&n.emsg&&t.showSnackbar(2,n.emsg)),o.value=!1}function k(e,t,a,l,o,s){if("alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"alert",token:t,exch:a,tsym:l}}));else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:a,tsym:l,trantype:"b"}}));else if("order"===e||"re-order"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:t,exch:a,tsym:l,trantype:o,item:s}}));else{const o=[e,t,a,l];n.push({name:"stocks details",params:{val:o}})}}function S(e){console.log("Trade item:",e)}function C(){_()}return y(()=>{_(),window.addEventListener("orderbook-update",C)}),h(()=>{window.removeEventListener("orderbook-update",C)}),(e,t)=>(z(),R("div",null,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[i("p",_U,"Tradebook ("+A(p.value.length)+")",1),d(zy),d(Fk,{elevation:"0",rounded:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{disabled:o.value,class:r(["ml-3 cursor-p",{"reload-rotating":o.value}]),onClick:_,color:"maintext",size:"24"},{default:H(()=>[...t[3]||(t[3]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(PV,{headers:v,items:f.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","items-per-page":-1,"item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[2]||(t[2]=(e,{item:t})=>S(t))},{"item.norentm":H(({item:e})=>[i("span",kU,A(b(e.norentm)),1)]),"item.trantype":H(({item:e})=>[d(R_,{small:"",color:"B"===e.trantype?"secgreen":"secred","text-color":"B"===e.trantype?"maingreen":"mainred",style:c(`border: 1px solid ${"B"===e.trantype?"#C1E7BA":"#FFCDCD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:H(()=>[i("span",SU,A("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color","style"])]),"item.tsym":H(({item:e})=>[i("div",CU,[i("p",IU,[W(A(e.tsym||"")+" ",1),i("span",EU,A(e.exchs||e.exch||""),1)]),e?(z(),R("div",{key:0,onClick:t[1]||(t[1]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"50%",transform:"translateY(-50%)",right:"0","z-index":"10",gap:"4px","pointer-events":"auto",display:"flex","align-items":"center"}},[d(im,{onClick:ie(t=>k("order",e.token,e.exch,e.tsym,"b",e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#43A833",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[4]||(t[4]=[W(" B ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>k("order",e.token,e.exch,e.tsym,"s",e),["stop"]),"min-width":"20px",height:"20px",style:{"background-color":"#FF1717",color:"#ffffff","border-radius":"4px","min-width":"20px",padding:"0 4px"},class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[...t[5]||(t[5]=[W(" S ",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>k("chart",e.token,e.exch,e.tsym,null,e),["stop"]),style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[6]||(t[6]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Pb,{"close-on-click":"",location:"bottom","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{style:{border:"1px solid #EBEEF0","background-color":"#ffffff","border-radius":"4px","min-width":"20px",height:"20px",padding:"0"},"min-width":"20px",color:"mainbg",class:"font-weight-bold elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"14",color:"#666666"},{default:H(()=>[...t[7]||(t[7]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(),R(u,null,U(m,(t,a)=>i("div",{key:a},[d(cb,{onClick:a=>{var l;return t.type?k(t.type,e.token,e.exch,e.tsym,t.trans||(null==(l=e.trantype)?void 0:l.toLowerCase()),e):S(e)},class:"pl-3 pr-6"},{prepend:H(()=>["string"==typeof t.icon?(z(),q(wp,{key:0,icon:t.icon,size:"20",color:"#506D84"},null,8,["icon"])):t.icon>2?(z(),R("img",{key:1,width:"20px",class:"pl-1",src:require(`@/assets/orderbook/${t.icon}.svg`)},null,8,TU)):ee("",!0)]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(t.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),t.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)])):ee("",!0)])]),"item.s_prdt_ali":H(({item:e})=>[e.s_prdt_ali?(z(),q(R_,{key:0,small:"",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",NU,A(e.s_prdt_ali),1)]),_:2},1024)):ee("",!0)]),"item.flqty":H(({item:e})=>[i("p",MU,A(e.flqty?e.flqty/("MCX"===e.exch?e.ls:1):""),1)]),"item.flprc":H(({item:e})=>[i("p",AU,A(g(e.flprc)),1)]),"item.avgprc":H(({item:e})=>[i("p",OU,A(g(e.flqty*e.flprc)),1)]),"item.norenordno":H(({item:e})=>[i("p",PU,A(e.norenordno||""),1)]),"no-data":H(()=>[i("div",FU,[i("div",LU,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,DU),t[8]||(t[8]=i("h4",{class:"subtext--text font-weight-regular caption"},[W(" There is no order "),i("br"),W("data here yet! ")],-1))])])]),_:1},8,["items","loading"])]))}},BU=zc(VU,[["__scopeId","data-v-85b7b2ca"]]),$U={class:"pos-rlt",style:{"min-height":"40px","padding-right":"200px"}},RU={class:"font-weight-bold fs-13 txt-162 black--text mb-0 table-hov-text",style:{"margin-right":"0","white-space":"nowrap"}},zU={class:"ml-1 subtext--text fs-10"},UU={class:"font-weight-medium fs-12"},qU={class:"font-weight-medium fs-12"},HU={class:"text-center"},jU={class:"mx-auto py-16 mt-16"},WU=["src"],YU={class:"ml-1 txt-999 fs-10"},GU={class:"px-4 pt-1"},KU={class:"float-right mb-0"},XU={class:"float-right mb-0"},JU={class:"float-right mb-0"},QU={class:"float-right mb-0"},ZU={class:"px-4 pt-3 pb-4"},eq=["src"],tq={__name:"StockGTTorders",setup(e){const t=Qa(),n=a(!1),o=a(""),s=a([]),u=a(!1),p=a(!1),m=a({}),v=a(null),f=[{title:"Instrument",key:"tsym"},{title:"Buy/Sell",key:"trantype"},{title:"Product type",key:"orderType"},{title:"Qty",key:"qty",align:"right"},{title:"Condition",key:"condition"},{title:"Trig Value",key:"trigValue",align:"right"},{title:"",key:"actions",sortable:!1,align:"right"}],g=l(()=>{var e;const t=null==(e=o.value)?void 0:e.toLowerCase();return t?s.value.filter(e=>function(e,t,a){const l=String(a).toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(l))}(e,["tsym","exch","orderType","condition"],t)):s.value});async function b(){n.value=!0,s.value=[];const e=await Pae();if(Array.isArray(e))if(e[0]&&"Ok"===e[0].stat){const t=e.filter(e=>e.al_id).map(e=>{var t,a;return{trigValue:e.d,condition:(null==(t=e.ai_t)?void 0:t.includes("_A_O"))?">":(null==(a=e.ai_t)?void 0:a.includes("_B_O"))?"<":"Select",qty:e.qty,orderType:"C"===e.prd?"Delivery (CNC)":"M"===e.prd?"Carry Forward (NRML)":"I"===e.prd?"Intraday":"Select",trantype:e.trantype,tsym:e.tsym,exch:e.exch,token:e.token,al_id:e.al_id,res:e}});s.value=t}else{const t=e.filter(e=>e&&e.al_id).map(e=>{var t,a;return{trigValue:e.d,condition:(null==(t=e.ai_t)?void 0:t.includes("_A_O"))?">":(null==(a=e.ai_t)?void 0:a.includes("_B_O"))?"<":"Select",qty:e.qty,orderType:"C"===e.prd?"Delivery (CNC)":"M"===e.prd?"Carry Forward (NRML)":"I"===e.prd?"Intraday":"Select",trantype:e.trantype,tsym:e.tsym,exch:e.exch,token:e.token,al_id:e.al_id,res:e}});s.value=t}n.value=!1}function w(e){const t=e.detail;"gtt"!==(null==t?void 0:t.type)&&"orders"!==(null==t?void 0:t.type)&&"gtt"!==t&&"orders"!==t||b()}return y(()=>{b(),window.addEventListener("orderbook-update",w)}),h(()=>{window.removeEventListener("orderbook-update",w)}),(e,a)=>(z(),R("div",null,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(zy),d(Fk,{elevation:"0",rounded:"",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{disabled:n.value,class:r(["ml-3 cursor-p",{"reload-rotating":n.value}]),onClick:b,color:"maintext",size:"24"},{default:H(()=>[...a[8]||(a[8]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(PV,{"fixed-header":"","hide-default-footer":!0,loading:n.value,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px",headers:f,items:g.value,"items-per-page":-1,"item-class":()=>"table-row","row-props":()=>({class:"table-row"})},{"item.tsym":H(({item:e})=>[i("div",$U,[i("p",RU,[W(A(e.tsym||"")+" ",1),i("span",zU,A(e.exch||""),1)])])]),"item.trantype":H(({item:e})=>[d(R_,{small:"",color:"B"===e.trantype?"secgreen":"secred","text-color":"B"===e.trantype?"maingreen":"mainred",style:c(`border: 1px solid ${"B"===e.trantype?"#C1E7BA":"#FFCDCD"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:H(()=>[i("span",UU,A("B"===e.trantype?"BUY":"SELL"),1)]),_:2},1032,["color","text-color","style"])]),"item.qty":H(({item:e})=>[d(R_,{small:"",class:"table-hov-prd","text-color":"#666",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",qU,A(e.qty),1)]),_:2},1024)]),"item.actions":H(({item:e})=>[i("div",{class:"d-inline-flex",onClick:a[1]||(a[1]=ie(()=>{},["stop"]))},[d(im,{icon:"",size:"small",class:"mr-1",onClick:t=>function(e){window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"mod-GTT",token:e.token,exch:e.exch,tsym:e.tsym,trantype:(e.trantype||"").toLowerCase(),item:e}}))}(e)},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[9]||(a[9]=[W("mdi-square-edit-outline",-1)])]),_:1})]),_:1},8,["onClick"]),d(im,{icon:"",size:"small",onClick:t=>function(e){v.value=e,p.value=!0}(e)},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...a[10]||(a[10]=[W("mdi-trash-can-outline",-1)])]),_:1})]),_:1},8,["onClick"])])]),"no-data":H(()=>[i("div",HU,[i("div",jU,[i("img",{class:"mx-auto",width:"80",src:x(wf)},null,8,WU),a[11]||(a[11]=i("h4",{class:"txt-999 font-weight-regular caption"},"There is no order data here yet!",-1))])])]),_:1},8,["loading","items"]),d(HV,{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),temporary:"",location:"right",scrim:!0,width:"360",color:"cardbg",class:"pt-2"},{prepend:H(()=>[d(jg,{class:"nav-drawer crd-trn",density:"comfortable"},{default:H(()=>[d(im,{icon:"",variant:"text",density:"comfortable",onClick:a[2]||(a[2]=e=>u.value=!1)},{default:H(()=>[d(wp,{color:"maintext",size:"20"},{default:H(()=>[...a[12]||(a[12]=[W("mdi-close",-1)])]),_:1})]),_:1}),a[13]||(a[13]=i("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),d(zy)]),_:1})]),default:H(()=>[d(cb,{class:"py-3"},{default:H(()=>[d(ub,{class:"font-weight-medium maintext--text mb-3"},{default:H(()=>[W(A(m.value.tsym||"")+" ",1),i("span",YU,A(m.value.exch||""),1)]),_:1}),d(ub,{class:"txt-000 font-weight-medium fs-16 mb-1"},{default:H(()=>[W("₹"+A(m.value.ltp||"0.00"),1)]),_:1})]),_:1}),d(my,{class:"pt-1"}),i("div",GU,[d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[a[14]||(a[14]=W("Quantity ",-1)),i("p",KU,A(m.value.qty||"0"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[a[15]||(a[15]=W("Condition ",-1)),i("p",XU,A(m.value.condition||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[a[16]||(a[16]=W("Trig Value ",-1)),i("p",JU,A(m.value.trigValue||"-"),1)]),_:1}),d(my),d(ub,{class:"txt-000 font-weight-bold fs-14 py-4"},{default:H(()=>[a[17]||(a[17]=W("Product ",-1)),i("p",QU,A(m.value.orderType||"-"),1)]),_:1})]),d(my,{class:"pt-1"}),i("div",ZU,[d(im,{class:"rounded-pill text-none font-weight-bold",block:"",height:"40",variant:"tonal",onClick:a[3]||(a[3]=t=>e.onHistory(m.value))},{default:H(()=>[d(wp,{class:"mr-2"},{default:H(()=>[...a[18]||(a[18]=[W("mdi-history",-1)])]),_:1}),a[19]||(a[19]=W(" Order history",-1))]),_:1})])]),_:1},8,["modelValue"]),d(U_,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=e=>p.value=e),"max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:H(()=>[i("img",{src:x(Lf),alt:"cancel icon"},null,8,eq),a[22]||(a[22]=i("p",{class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},"Are you sure you want to cancel this GTT order?",-1)),d(Ry,{class:"px-6","no-gluttters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[5]||(a[5]=e=>p.value=!1),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...a[20]||(a[20]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[6]||(a[6]=e=>async function(){const e=v.value;if(e)try{const a=sessionStorage.getItem("userid"),l=sessionStorage.getItem("msession"),n=await Fae(`jData={"uid":"${a}","al_id":"${e.al_id}"}&jKey=${l}`);if(n&&"OI deleted"===n.stat){t.showSnackbar(0,"GTT Order has been cancelled");const a=s.value.findIndex(t=>t.al_id===e.al_id);a>=0&&s.value.splice(a,1)}else t.showSnackbar(2,n&&n.emsg?n.emsg:"Failed to cancel GTT")}catch(SJ){t.showSnackbar(2,"Failed to cancel GTT")}finally{p.value=!1,v.value=null}else p.value=!1}()),color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...a[21]||(a[21]=[W("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},aq=zc(tq,[["__scopeId","data-v-9068305f"]]),lq=t("basket",()=>{const e=Rc(),t=Qa(),n=a([]),o=a(null),s=a([]),i=a(!1),r=a(!1),u=a(!1),d=a(null),c=a(!1),p=a("I"),m=a("LMT"),v=a(0),h=a(0),f=a(0),g=a(5),y=a(!1),b=a(!1),x=a(null),w=a([]),_=a(""),k=a(null),S=a({}),C=a("0.00"),I=a("0.00"),E=a(!1),T=a(!1),N=a(!1),M=a(""),A=a(null),O=l(()=>{var e;const t=null==(e=_.value)?void 0:e.toLowerCase();return t?n.value.filter(e=>e.name&&e.name.toLowerCase().includes(t)):n.value}),P=l(()=>n.value.length<10),F=l(()=>s.value.length<20);function L(){try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return;localStorage.setItem(`${t}_basketorder`,JSON.stringify(n.value))}catch(SJ){console.error("Error saving baskets:",SJ)}}function D(e){if(!o.value||!e)return!1;const t=n.value.findIndex(e=>e.idx===o.value.idx);return t>=0&&(n.value[t].list||(n.value[t].list=[]),n.value[t].list.push(e),s.value.push(e),o.value.list=[...n.value[t].list],L(),!0)}function V(){d.value=null,c.value=!1,p.value="I",m.value="LMT",v.value=0,h.value=0,f.value=0,g.value=5,y.value=!1,b.value=!1,x.value=null,w.value=[],_.value="",k.value=null}return{allBaskets:n,activeBasket:o,basketItems:s,loading:i,searchLoading:r,orderLoader:u,selectedScript:d,buyOrSell:c,investType:p,priceType:m,quantity:v,price:h,triggerPrice:f,marketProtection:g,afterMarket:y,editMode:b,editItem:x,searchItems:w,searchQuery:_,noData:k,basketMargin:S,totalMargin:C,postTradeMargin:I,createDialog:E,basketDialog:T,deleteDialog:N,basketName:M,editTarget:A,investItems:{0:[{txt:"Intraday",val:"I"},{txt:"Delivery",val:"C"}],1:[{txt:"Intraday",val:"I"},{txt:"Carry Forward",val:"M"}],I:"Intraday",C:"Delivery",M:"Carry Forward",H:"Cover order",B:"Bracket order"},priceItems:[{txt:"Limit",val:"LMT"},{txt:"Market",val:"MKT"},{txt:"SL Limit",val:"SL-LMT"},{txt:"SL Mkt",val:"SL-MKT"}],filteredBaskets:O,canCreateBasket:P,canAddItem:F,loadBaskets:function(){try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return void(n.value=[]);const a=localStorage.getItem(`${t}_basketorder`);n.value=a?JSON.parse(a):[]}catch(SJ){console.error("Error loading baskets:",SJ),n.value=[]}},saveBaskets:L,createBasket:function(e){const a=null==e?void 0:e.trim();if(!a)return!1;if(n.value.findIndex(e=>e.name===a)>=0)return t.showSnackbar(2,`${a}, script is already exists.`),!1;const l={name:a,date:(new Date).toDateString(),idx:Date.now(),list:[]};return n.value.push(l),L(),t.showSnackbar(1,"Basket have been Created"),!0},updateBasket:function(e,t){const a=null==t?void 0:t.trim();if(!a||!e)return!1;const l=n.value.findIndex(t=>t.idx===e.idx);return l>=0&&(n.value[l].name=a,L(),!0)},deleteBasket:function(e){if(!e)return!1;const a=n.value.findIndex(t=>t.idx===e.idx);return a>=0&&(n.value.splice(a,1),L(),t.showSnackbar(2,"Basket Order have been Cancelled"),!0)},openBasket:function(e){if(!e)return;const t=(e.list||[]).filter(e=>{if(e[0]&&e[0].exd){const t=new Date(e[0].exd),a=new Date;return t.setHours(0,0,0,0),a.setHours(0,0,0,0),a<=t}return!0});if(t.length!==e.list.length){const a=n.value.findIndex(t=>t.idx===e.idx);a>=0&&(n.value[a].list=t,L())}o.value={...e,list:t},s.value=[...t],T.value=!0},closeBasket:function(){T.value=!1,o.value=null,s.value=[],d.value=null,V()},addItemToBasket:D,updateItemInBasket:function(e){if(!o.value||!e)return!1;const t=n.value.findIndex(e=>e.idx===o.value.idx);if(t>=0){const a=n.value[t].list.findIndex(t=>t.token===e.token&&t.idx===e.idx);if(a>=0)return n.value[t].list[a]={...e},s.value[a]={...e},o.value.list=[...n.value[t].list],L(),!0}return!1},removeItemFromBasket:function(e){if(!o.value||!e)return!1;const t=n.value.findIndex(e=>e.idx===o.value.idx);if(t>=0){const a=n.value[t].list.findIndex(t=>t.token===e.token&&t.idx===e.idx);if(a>=0)return n.value[t].list.splice(a,1),s.value.splice(a,1),o.value.list=[...n.value[t].list],L(),!0}return!1},duplicateItem:function(e){return!(!o.value||!e)&&D({...e,idx:Date.now()})},searchScript:async function(t){if(!t||t.length<=2)return w.value=[],void(k.value=null);r.value=!0,k.value=null;try{const a=e.uid||sessionStorage.getItem("userid"),l=e.mtoken||sessionStorage.getItem("msession");if(!a||!l)return void(w.value=[]);const n=await cae(`jData={"uid":"${a}","stext":"${t.replace("&","%26")}"}&jKey=${l}`);if("Ok"===n.stat||n.values){let e=n.values||[];for(let t=0;t<s.value.length;t++){const a=e.findIndex(e=>e.token===s.value[t].token);a>=0&&e.splice(a,1)}w.value=e}else w.value=[],k.value="noooo"}catch(SJ){console.error("Error searching scripts:",SJ),w.value=[],k.value="noooo"}finally{r.value=!1}},calculateMargin:async function(){if(!s.value||0===s.value.length)return C.value="0.00",I.value="0.00",void(S.value={});try{const t=e.uid||sessionStorage.getItem("userid");if(!t)return;let a=null;for(let e=0;e<s.value.length;e++){const l=s.value[e];0===e?a={uid:t,actid:t,discqty:"0",exch:l.exch,pCode:l.investype,prctyp:l.prctype,prd:l.investype,prc:l.prctype,qty:String(l.qty),ret:"DAY",symbol_id:l.token,tsym:l.tsym,trantype:l.buyrsell?"S":"B",trgprc:"SL-LMT"===l.prctype||"SL-MKT"===l.prctype?String(l.trgprice||0):"0",basketlists:[]}:a.basketlists.push({uid:t,actid:t,discqty:"0",exch:l.exch,pCode:l.investype,prctyp:l.prctype,prd:l.investype,prc:l.prctype,qty:String(l.qty),ret:"DAY",symbol_id:l.token,tsym:l.tsym,trantype:l.buyrsell?"S":"B",trgprc:"SL-LMT"===l.prctype||"SL-MKT"===l.prctype?String(l.trgprice||0):"0"})}if(a){const e=await kae(a);C.value=null==e.marginused?"0.00":String(e.marginused||"0.00"),I.value=null==e.marginusedtrade?"0.00":String(e.marginusedtrade||"0.00"),S.value=e}}catch(SJ){console.error("Error calculating margin:",SJ),C.value="0.00",I.value="0.00",S.value={}}},placeBasketOrder:function(){if(!s.value||0===s.value.length)return;const e=s.value.flatMap(e=>{if(e.slicetimes&&e[0]&&e[0].frzqty){const t={...e,qty:e[0].frzqty},a=e.slice[0]||0,l=e.slice[1]||0;if(a>0){const e=Array(a).fill(t);return l>0?[...e,{...t,qty:l}]:e}if(l>0)return[{...t,qty:l}]}return e});window.dispatchEvent(new CustomEvent("place-bskord",{detail:e})),T.value=!1},subscribeWebSocket:function(e){if(!e||0===e.length)return;const t=e.map(e=>({exch:e.exch,token:e.token}));window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:t,page:"bsk"}}))},unsubscribeWebSocket:function(e){if(!e||0===e.length)return;const t=e.map(e=>({exch:e.exch,token:e.token}));window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:t,page:"bsk"}}))},updatePrice:function(e){if(e&&e.token){d.value&&d.value.token===e.token&&(d.value.ws||(d.value.ws={}),d.value.ws.lp=Number(e.lp).toFixed(2),d.value.ws.ch=Number(e.ch||0).toFixed(2),d.value.ws.chp=Number(e.chp||0).toFixed(2),"LMT"!==m.value&&"SL-LMT"!==m.value||(h.value=Number(e.lp).toFixed(2)));for(let t=0;t<s.value.length;t++)s.value[t].token===e.token&&(s.value[t].ltp=Number(e.lp).toFixed(2),s.value[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):"0.00",s.value[t].chp=e.chp?Number(e.chp).toFixed(2):"0.00");if(o.value&&o.value.list)for(let t=0;t<o.value.list.length;t++)o.value.list[t].token===e.token&&(o.value.list[t].ltp=Number(e.lp).toFixed(2),o.value.list[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):"0.00",o.value.list[t].chp=e.chp?Number(e.chp).toFixed(2):"0.00");if(o.value){const e=n.value.findIndex(e=>e.idx===o.value.idx);e>=0&&(n.value[e].list=[...s.value],L())}}},resetItemForm:V,setEditItem:function(e){e&&(b.value=!0,x.value=e,d.value={...e},c.value=e.buyrsell||!1,v.value=Number(e.qty||0),p.value=e.investype||"I",m.value=e.prctype||"LMT",h.value=e.price||0,f.value=e.trgprice||0,g.value=e.mktprdordqty||5,y.value=e.addmktord||!1)}}}),nq={class:"mb-6"},oq={class:"font-weight-medium maintext--text ws-p"},sq={class:"font-weight-medium maintext--text ws-p"},iq={class:"font-weight-medium maintext--text ws-p"},rq={class:"ml-1 subtext--text fs-10"},uq={key:0},dq={class:"font-weight-regular fs-14 subtext--text mb-2"},cq={class:"float-right mr-2"},pq={key:0,class:"lh-16 fs-10 subtext--text mb-0"},mq={class:"font-weight-regular fs-14 subtext--text mb-2"},vq={class:"float-right mr-2"},hq={key:0,class:"lh-16 fs-10 subtext--text mb-0"},fq={class:"font-weight-medium maintext--text mb-0 ws-p"},gq={class:"ml-1 txt-999 fs-10"},yq={key:0},bq={class:"font-weight-medium maintext--text fs-12"},xq={class:"px-4"},wq={class:"font-weight-bold fs-14 maintext--text mb-0"},_q={class:"ml-1 txt-999 fs-10"},kq={class:"font-weight-bold fs-14 maintext--text mb-0"},Sq={class:"fs-12 grey--text"},Cq={class:"font-weight-bold fs-14 maintext--text mb-0"},Iq={class:"ml-1 txt-999 fs-10"},Eq={class:"font-weight-bold fs-14 maintext--text mb-0"},Tq={class:"font-weight-medium maintext--text fs-12"},Nq={class:"font-weight-medium maintext--text ws-p"},Mq={class:"font-weight-medium fs-12"},Aq={class:"error--text font-weight-bold"},Oq={class:"font-weight-bold"},Pq={class:"font-weight-bold"},Fq={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},Lq={__name:"StockBSKorders",setup(e){const t=Y(),n=lq(),o=Rc(),s=Qa(),u=a(""),p=a(""),m=a(!1),v=a(!1),h=a(!1),g=a(""),b=a(null),_=a(null),k=a(null),S=l(()=>[{title:"Basket Name",sortable:!1,key:"name"},{title:"No.of item",key:"list"},{title:"Created on",key:"date"},{title:"",width:"10%",key:"actions",sortable:!1}]),C=l(()=>[{title:"Instrument",key:"tsym"},{title:"Buy/Sell",key:"buyrsell"},{title:"Product",key:"investype"},{title:"Price type",key:"prctype"},{title:"Qty",key:"qty",sortable:!1},{title:"Price",key:"price",sortable:!1},{title:"",width:"10%",key:"actions",sortable:!1}]);function I(){n.loading=!0,n.loadBaskets(),setTimeout(()=>{n.loading=!1},400)}function E(e,t=null){h.value=!e,b.value=t,g.value=t?t.name:"",m.value=!0}function T(){if(g.value){if(h.value&&b.value)n.updateBasket(b.value,g.value),n.activeBasket&&n.activeBasket.idx===b.value.idx&&(n.activeBasket.name=g.value);else if(n.createBasket(g.value)){const e=n.allBaskets[n.allBaskets.length-1];n.openBasket(e)}m.value=!1,g.value="",b.value=null}}function M(e){_.value=e,v.value=!0}function O(e){p.value=e,e&&e.length>2&&n.searchScript(e.toUpperCase())}async function P(e){if(e&&e.token)try{const t=`${e.exch}|${e.token}`,a=await bae(t);if(k.value=a,a.frzqty&&Number(a.frzqty)>0){const t=Math.round(Number(a.frzqty)/Number(e.ls));a.frzqty=t*Number(e.ls)}n.selectedScript[0]=a,n.buyOrSell=!1,n.quantity=Number(e.ls),n.investType="I",n.priceType="LMT",n.price=0,n.triggerPrice=0,n.marketProtection=5,n.afterMarket=!1,n.subscribeWebSocket([e])}catch(SJ){console.error("Error loading security data:",SJ),s.showSnackbar(2,"Failed to load security data")}}function F(){n.selectedScript=null,n.resetItemForm(),k.value=null}function L(e,t){return Math.round(e/t)*t}function D(){const e=n.selectedScript,t=Number(n.quantity),a=Number(n.price),l=Number(n.triggerPrice),o=k.value;if(!o)return void s.showSnackbar(2,"Security information not loaded");if(!(t>0))return void s.showSnackbar(2,"The order Quantity must be greater than zero.");if(!("LMT"!==n.priceType&&"SL-LMT"!==n.priceType||a>=Number(o.lc)&&a<=Number(o.uc)))return void s.showSnackbar(2,"The order price must be between the circuit level.");if(!("SL-MKT"!==n.priceType&&"SL-LMT"!==n.priceType||l>0))return void s.showSnackbar(2,"The trigger price cannot be zero.");if(!(t<=20*Number(o.frzqty)))return void s.showSnackbar(2,`Your max slice order limit Quantity, ${(20*Number(o.frzqty)).toLocaleString()}`);if("LMT"===n.priceType||"SL-LMT"===n.priceType){const t=L(a,Number(e.ti)).toFixed(2);if(a!==Number(t))return void s.showSnackbar(2,`Price should be multiple of tick size ${e.ti} => ${t}`)}if("SL-LMT"===n.priceType||"SL-MKT"===n.priceType){const t=L(l,Number(e.ti)).toFixed(2);if(l!==Number(t))return void s.showSnackbar(2,`Trigger should be multiple of tick size ${e.ti} => ${t}`)}const i=Math.round(t/Number(e.ls))*Number(e.ls);if(t!==i&&"MCX"!==e.exch)return void s.showSnackbar(2,`Quantity should be multiple of lot size ${e.ls} => ${i>0?i:e.ls}`);const r={...e,slicetimes:t>Number(o.frzqty),slice:[1===Math.round(t/Number(o.frzqty))?1:Math.round(t/Number(o.frzqty))-1,t-Number(o.frzqty)*(1===Math.round(t/Number(o.frzqty))?1:Math.round(t/Number(o.frzqty))-1)],buyrsell:n.buyOrSell,qty:t,idx:n.editMode&&n.editItem?n.editItem.idx:Date.now(),investype:n.investType,prctype:n.priceType,price:a,trgprice:l,mktprdordqty:n.marketProtection,addmktord:n.afterMarket,ltp:e.ltp??"0.00",chp:e.chp??"0.00",ch:e.ch??"0.00",0:o};n.editMode&&n.editItem?n.updateItemInBasket(r):n.addItemToBasket(r),F(),N(()=>{n.calculateMargin()})}function V(e){const t=e.detail;t&&t.token&&n.updatePrice(t)}function B(e){"bsk"===e.detail&&I()}return y(()=>{"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")?(o.mtoken=sessionStorage.getItem("msession"),o.uid=sessionStorage.getItem("userid"),I()):t.push("/"),window.addEventListener("web-scoketConn",V),window.addEventListener("orderbook-update",B)}),Z(()=>{window.removeEventListener("web-scoketConn",V),window.removeEventListener("orderbook-update",B)}),f(()=>n.basketDialog,e=>{e||F()}),(e,t)=>(z(),R("div",null,[i("div",nq,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(im,{disabled:!x(n).canCreateBasket,class:"elevation-0 rounded-pill font-weight-bold text-none",color:"primary",height:"40px",onClick:t[0]||(t[0]=e=>E(!0))},{default:H(()=>[...t[37]||(t[37]=[W(" + Create Basket ",-1)])]),_:1},8,["disabled"]),d(zy),d(Fk,{elevation:"0",rounded:"",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{disabled:x(n).loading,class:r(["ml-3 cursor-p",{"reload-rotating":x(n).loading}]),onClick:t[2]||(t[2]=e=>I()),color:"maintext",size:"24"},{default:H(()=>[...t[38]||(t[38]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(PV,{"onClick:row":t[4]||(t[4]=(e,{item:t})=>x(n).openBasket(t)),"sort-by":[{key:"date",order:"desc"}],"hide-default-footer":"","fixed-header":"",loading:x(n).loading,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px",headers:S.value,search:u.value,items:x(n).allBaskets,"items-per-page":10,"item-class":()=>"table-row","row-props":()=>({class:"table-row"})},{"item.name":H(({item:e})=>[i("span",oq,A(e.name),1)]),"item.list":H(({item:e})=>[i("span",sq,A(e.list?e.list.length:0)+"/20",1)]),"item.date":H(({item:e})=>[i("span",iq,A(e.date),1)]),"item.actions":H(({item:e})=>[i("div",{class:"d-inline-flex",onClick:t[3]||(t[3]=ie(()=>{},["stop"]))},[d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("div",re(ue(a)),[d(im,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>x(n).openBasket(e)},{default:H(()=>[...t[39]||(t[39]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[i("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),i("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),i("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1},8,["onClick"])],16)]),default:H(()=>[t[40]||(t[40]=i("span",null,"Edit",-1))]),_:2},1024),d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("div",re(ue(a)),[d(im,{icon:"",size:"small",class:"text-align-center mt-2",onClick:t=>M(e)},{default:H(()=>[...t[41]||(t[41]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])],16)]),default:H(()=>[t[42]||(t[42]=i("span",null,"Delete",-1))]),_:2},1024)])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[43]||(t[43]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1},8,["loading","headers","search","items"])]),d(U_,{modelValue:x(n).basketDialog,"onUpdate:modelValue":t[28]||(t[28]=e=>x(n).basketDialog=e),width:"760"},{default:H(()=>[d(cy,{class:"pb-6 px-6 overflow-hidden rounded-lg",color:"#ffffff"},{default:H(()=>[d(ub,{class:"font-weight-bold title maintext--text mt-4 mb-1"},{default:H(()=>[t[45]||(t[45]=W(" Basket order ",-1)),d(wp,{onClick:t[5]||(t[5]=e=>x(n).closeBasket()),class:"float-right",color:"#000",disabled:x(n).orderLoader},{default:H(()=>[...t[44]||(t[44]=[W("mdi-close",-1)])]),_:1},8,["disabled"])]),_:1}),d(my,{class:"mb-2"}),d(Ry,{class:"pt-2 pb-4"},{default:H(()=>[d(ky,{cols:"4",class:"d-inline-flex"},{default:H(()=>[d(Fk,{readonly:"","hide-details":"",height:"40px",density:"compact","bg-color":"#F1F3F8",flat:"",class:"rounded-pill mb-0",type:"text",variant:"solo",modelValue:x(n).activeBasket.name,"onUpdate:modelValue":t[6]||(t[6]=e=>x(n).activeBasket.name=e)},null,8,["modelValue"]),d(im,{icon:"",size:"small",class:"text-align-center ml-1 mt-1",onClick:t[7]||(t[7]=e=>E(!1,x(n).activeBasket))},{default:H(()=>[...t[46]||(t[46]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[i("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),i("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),i("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1}),d(im,{icon:"",size:"small",class:"text-align-center ml-1 mt-1",onClick:t[8]||(t[8]=e=>M(x(n).activeBasket))},{default:H(()=>[...t[47]||(t[47]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1})]),_:1}),d(ky,{cols:"5",class:"ml-auto"},{default:H(()=>[d(QE,{disabled:!x(n).canAddItem||x(n).selectedScript&&x(n).selectedScript.token,"onUpdate:modelValue":[P,t[9]||(t[9]=e=>x(n).selectedScript=e)],loading:x(n).searchLoading,"item-title":"tsym","return-object":"",class:"rounded-pill",flat:"",variant:"solo","bg-color":"#F1F3F8",density:"compact",modelValue:x(n).selectedScript,search:p.value,"onUpdate:search":O,"hide-details":"",label:"Search script",items:x(n).searchItems,"prepend-inner-icon":"mdi-magnify",clearable:"","no-filter":""},{item:H(({props:e,item:t})=>[d(cb,w(e,{title:t.raw.tsym,subtitle:t.raw.exch}),null,16,["title","subtitle"])]),_:1},8,["disabled","loading","modelValue","search","items"])]),_:1})]),_:1}),x(n).selectedScript&&x(n).selectedScript.token?(z(),q(cy,{key:0,loading:x(n).orderLoader,color:x(n).buyOrSell?"#ffcdcd90":"#ECF8F1",class:"elevation-0 pt-3 pb-4"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 pl-4 pr-2 crd-trn",dense:""},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-0"},{default:H(()=>[W(A(x(n).selectedScript.tsym)+" ",1),i("span",rq,A(x(n).selectedScript.exch),1)]),_:1}),d(rb,{class:"font-weight-medium maintext--text"},{default:H(()=>{var e,a;return[x(n).selectedScript.ws?(z(),R("span",uq,[t[48]||(t[48]=W(" ₹",-1)),i("span",null,A(x(n).selectedScript.ws.lp?Number(x(n).selectedScript.ws.lp).toFixed(2):"0.00"),1),i("span",{class:r([x(n).selectedScript.ws.ch>0?"maingreen--text":x(n).selectedScript.ws.ch<0?"mainred--text":"subtext--text","text-right font-weight-medium fs-12"])},A(x(n).selectedScript.ws.ch?null==(e=x(n).selectedScript.ws.ch)?void 0:e.toFixed(2):"0.00")+" ("+A(x(n).selectedScript.ws.chp?null==(a=x(n).selectedScript.ws.chp)?void 0:a.toFixed(2):"0.00")+"%) ",3)])):ee("",!0)]}),_:1})]),_:1}),d(zy),d(cy,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text mr-4 mt-n5",color:"#43A833"},{default:H(()=>[...t[49]||(t[49]=[W(" B ",-1)])]),_:1}),d(wk,{modelValue:x(n).buyOrSell,"onUpdate:modelValue":t[10]||(t[10]=e=>x(n).buyOrSell=e),inset:"",color:"primary"},null,8,["modelValue"]),d(cy,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text ml-1 mt-n5",color:"#F23645"},{default:H(()=>[...t[50]||(t[50]=[W(" S ",-1)])]),_:1}),d(wp,{onClick:t[11]||(t[11]=e=>F()),color:"#000",class:"mb-auto ml-4"},{default:H(()=>[...t[51]||(t[51]=[W("mdi-close",-1)])]),_:1})]),_:1}),d(Ry,{"no-gutters":"",class:"px-4 pb-4"},{default:H(()=>[d(ky,{cols:"3",class:"pb-0"},{default:H(()=>[t[52]||(t[52]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Investment type",-1)),d(rI,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo","item-title":"txt","item-value":"val","append-icon":"mdi-chevron-down",items:x(n).investItems["NSE"===x(n).selectedScript.exch||"BSE"===x(n).selectedScript.exch?0:1],"hide-details":"",modelValue:x(n).investType,"onUpdate:modelValue":t[12]||(t[12]=e=>x(n).investType=e)},null,8,["items","modelValue"])]),_:1}),d(ky,{cols:"3",class:"pb-0"},{default:H(()=>[t[53]||(t[53]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Order type",-1)),d(rI,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo","item-title":"txt","item-value":"val","append-icon":"mdi-chevron-down",items:x(n).priceItems,"hide-details":"",modelValue:x(n).priceType,"onUpdate:modelValue":t[13]||(t[13]=e=>x(n).priceType=e)},null,8,["items","modelValue"])]),_:1}),d(ky,{cols:"3",class:"pb-0"},{default:H(()=>[i("p",dq,[t[54]||(t[54]=W(" Quantity ",-1)),i("span",cq,"MLot: "+A(x(n).selectedScript.ls),1)]),d(Fk,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"","hide-details":"",class:"rounded-pill",variant:"solo",type:"number",min:Number(x(n).selectedScript.ls),step:Number(x(n).selectedScript.ls),modelValue:x(n).quantity,"onUpdate:modelValue":t[16]||(t[16]=e=>x(n).quantity=e)},{"append-inner":H(()=>[d(im,{onClick:t[14]||(t[14]=e=>x(n).quantity=Number(x(n).quantity)+Number(x(n).selectedScript.ls)),icon:"",size:"small",class:"elevation-0"},{default:H(()=>[...t[55]||(t[55]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:t[15]||(t[15]=e=>x(n).quantity==Number(x(n).selectedScript.ls)?Number(x(n).quantity):x(n).quantity=Number(x(n).quantity)-Number(x(n).selectedScript.ls)),icon:"",size:"small",class:"elevation-0"},{default:H(()=>[...t[56]||(t[56]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#666666","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["min","step","modelValue"]),k.value?(z(),R("p",pq,"Freeze qty: "+A(k.value.frzqty),1)):ee("",!0)]),_:1}),"LMT"===x(n).priceType||"SL-LMT"===x(n).priceType?(z(),q(ky,{key:0,cols:"3",class:"pb-0"},{default:H(()=>[i("p",mq,[t[57]||(t[57]=W(" Price ",-1)),i("span",vq,"Tick: "+A(x(n).selectedScript.ti),1)]),d(Fk,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"",min:x(n).selectedScript.ti,modelValue:x(n).price,"onUpdate:modelValue":t[17]||(t[17]=e=>x(n).price=e),onKeyup:t[18]||(t[18]=de(e=>D(),["enter"]))},{"prepend-inner":H(()=>[...t[58]||(t[58]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"transparent"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#666666"})],-1)])]),_:1},8,["min","modelValue"]),k.value?(z(),R("p",hq,"Circuit level: "+A(k.value.lc)+" - "+A(k.value.uc),1)):ee("",!0)]),_:1})):ee("",!0),"SL-MKT"===x(n).priceType||"SL-LMT"===x(n).priceType?(z(),q(ky,{key:1,cols:"3",class:"pb-0"},{default:H(()=>[t[60]||(t[60]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),d(Fk,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"",class:"rounded-pill",variant:"solo",type:"number","hide-details":"",min:x(n).selectedScript.ti,step:x(n).selectedScript.ti,modelValue:x(n).triggerPrice,"onUpdate:modelValue":t[19]||(t[19]=e=>x(n).triggerPrice=e),onKeyup:t[20]||(t[20]=de(e=>D(),["enter"]))},{"prepend-inner":H(()=>[...t[59]||(t[59]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#666666"})],-1)])]),_:1},8,["min","step","modelValue"])]),_:1})):ee("",!0),"MKT"===x(n).priceType||"SL-MKT"===x(n).priceType?(z(),q(ky,{key:2,cols:"3",class:"pb-0"},{default:H(()=>[t[61]||(t[61]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Market Protection %",-1)),d(Fk,{height:"40px",density:"compact","bg-color":"#ffffff",flat:"","hide-details":"",class:"rounded-pill",variant:"solo",type:"number",min:"2",max:"100",step:"1",modelValue:x(n).marketProtection,"onUpdate:modelValue":t[21]||(t[21]=e=>x(n).marketProtection=e),onKeyup:t[22]||(t[22]=de(e=>D(),["enter"]))},null,8,["modelValue"])]),_:1})):ee("",!0),d(ky,{cols:"3",class:"pb-0"},{default:H(()=>[t[63]||(t[63]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"AMO",-1)),d(XC,{color:"#000",modelValue:x(n).afterMarket,"onUpdate:modelValue":t[23]||(t[23]=e=>x(n).afterMarket=e),"hide-details":""},{label:H(()=>[...t[62]||(t[62]=[i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"After Market order",-1)])]),_:1},8,["modelValue"])]),_:1}),d(ky,{cols:"3",class:"pb-0 ml-auto mt-auto"},{default:H(()=>[d(im,{onClick:t[24]||(t[24]=e=>D()),loading:x(n).orderLoader,color:x(n).buyOrSell?"#F23645":"#43A833",class:"text-none rounded-pill elevation-0 white--text",block:"",height:"40px"},{default:H(()=>[W(A(x(n).editMode?"Edit":"Add"),1)]),_:1},8,["loading","color"])]),_:1})]),_:1})]),_:1},8,["loading","color"])):(z(),q(PV,{key:1,"sort-by":[{key:"idx",order:"asc"}],"hide-default-footer":"","fixed-header":"",loading:x(n).loading,class:"mt-0 rounded-lg overflow-y-auto",style:{border:"1px solid #EBEEF0"},height:"288px",headers:C.value,items:x(n).basketItems,"items-per-page":20},{"item.tsym":H(({item:e})=>[i("p",fq,[W(A(e.tsym)+" ",1),i("span",gq,A(e.exch),1),d(rb,{class:"font-weight-medium maintext--text fs-12 pl-1"},{default:H(()=>[e.ltp?(z(),R("span",yq,[t[64]||(t[64]=W(" ₹",-1)),i("span",null,A(e.ltp),1),i("span",{class:r([e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text","text-right font-weight-medium fs-10"])},A(e.ch)+" ("+A(e.chp)+"%) ",3)])):ee("",!0)]),_:2},1024)])]),"item.qty":H(({item:e})=>[e.slicetimes?(z(),q(Pb,{key:0,"offset-y":"",location:"bottom left","open-on-hover":""},{activator:H(({props:t})=>[d(R_,w(t,{size:"small",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}}),{default:H(()=>[i("span",bq,A(e.qty)+" "+A(e.slicetimes?`/ ${1==Math.round(e.qty/e[0].frzqty)?2:Math.round(e.qty/e[0].frzqty)}`:""),1)]),_:2},1040)]),default:H(()=>[d(cy,{class:"mx-auto text-right overflow-hidden rounded-xl elevation-0",color:"transparent",width:"300px"},{default:H(()=>[d(jg,{class:"elevation-0 mb-0",color:"transparent",dense:""},{default:H(()=>[t[65]||(t[65]=i("span",{class:"font-weight-bold fs-14"},"Slice Order",-1)),d(zy)]),_:1}),d(my,{class:"mb-2"}),i("div",xq,[d(Ry,{class:"pb-4"},{default:H(()=>[d(ky,{cols:"8",class:"text-left"},{default:H(()=>[i("p",wq,[W(A(e.tsym)+" ",1),i("span",_q,A(e.exch),1)])]),_:2},1024),d(ky,{cols:"4",class:"text-right"},{default:H(()=>[i("p",kq,[W(A(e[0].frzqty)+" ",1),i("span",Sq,"x "+A(e.slice[0]),1)])]),_:2},1024),e.slice[1]>0?(z(),q(ky,{key:0,cols:"8",class:"text-left pb-0"},{default:H(()=>[i("p",Cq,[W(A(e.tsym)+" ",1),i("span",Iq,A(e.exch),1)])]),_:2},1024)):ee("",!0),e.slice[1]>0?(z(),q(ky,{key:1,cols:"4",class:"text-right"},{default:H(()=>[i("p",Eq,[W(A(e.slice[1])+" ",1),t[66]||(t[66]=i("span",{class:"fs-12 grey--text"},"x 1",-1))])]),_:2},1024)):ee("",!0)]),_:2},1024)])]),_:2},1024)]),_:2},1024)):(z(),q(R_,{key:1,size:"small",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",Tq,A(e.qty),1)]),_:2},1024))]),"item.investype":H(({item:e})=>[i("span",Nq,A(x(n).investItems[e.investype]),1)]),"item.buyrsell":H(({item:e})=>[d(R_,{size:"small",color:e.buyrsell?"#ffcdcd90":"#ECF8F1","text-color":e.buyrsell?"#F23645":"#43A833",style:c(`border: 1px solid ${e.buyrsell?"#FFCDCD":"#C1E7BA"}; border-radius: 5px; padding: 10px 8px !important;`)},{default:H(()=>[i("span",Mq,A(e.buyrsell?"SELL":"BUY"),1)]),_:2},1032,["color","text-color","style"])]),"item.actions":H(({item:e})=>[i("div",{class:"d-inline-flex",onClick:t[25]||(t[25]=ie(()=>{},["stop"]))},[d(Lb,{location:"top",color:"black"},{activator:H(({props:a})=>[i("div",re(ue(a)),[d(im,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>x(n).duplicateItem(e)},{default:H(()=>[d(wp,{size:"18"},{default:H(()=>[...t[67]||(t[67]=[W("mdi-content-copy",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:H(()=>[t[68]||(t[68]=i("span",null,"Duplicate",-1))]),_:2},1024),d(im,{icon:"",size:"small",class:"text-align-center mr-1 mt-2",onClick:t=>async function(e){try{const t=`${e.exch}|${e.token}`,a=await bae(t);if(k.value=a,a.frzqty&&Number(a.frzqty)>0){const t=Math.round(Number(a.frzqty)/Number(e.ls));a.frzqty=t*Number(e.ls)}n.setEditItem(e),n.selectedScript[0]=a,n.selectedScript.set=!0,n.subscribeWebSocket([e])}catch(SJ){console.error("Error loading security data for edit:",SJ),s.showSnackbar(2,"Failed to load security data")}}(e)},{default:H(()=>[...t[69]||(t[69]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 28 28",fill:"none"},[i("path",{d:"M5 18.7782C5.00006 18.481 5.11819 18.1959 5.32841 17.9858L17.8214 5.49281C17.9775 5.33658 18.1629 5.21264 18.3669 5.12808C18.571 5.04352 18.7897 5 19.0106 5C19.2315 5 19.4502 5.04352 19.6542 5.12808C19.8583 5.21264 20.0437 5.33658 20.1998 5.49281L23.0972 8.3902C23.2534 8.54634 23.3774 8.73173 23.4619 8.93578C23.5465 9.13983 23.59 9.35854 23.59 9.57942C23.59 9.8003 23.5465 10.019 23.4619 10.2231C23.3774 10.4271 23.2534 10.6125 23.0972 10.7686L10.6042 23.2616C10.3941 23.4718 10.109 23.5899 9.81179 23.59H6.12085C5.82358 23.59 5.53849 23.4719 5.32829 23.2617C5.11809 23.0515 5 22.7664 5 22.4692V18.7782ZM6.12085 18.7782V22.4692H9.81179L22.3047 9.9762C22.3569 9.92414 22.3983 9.8623 22.4266 9.79421C22.4548 9.72613 22.4694 9.65313 22.4694 9.57942C22.4694 9.5057 22.4548 9.43271 22.4266 9.36463C22.3983 9.29654 22.3569 9.2347 22.3047 9.18264L19.4074 6.28525C19.3553 6.23306 19.2935 6.19165 19.2254 6.1634C19.1573 6.13515 19.0843 6.12061 19.0106 6.12061C18.9369 6.12061 18.8639 6.13515 18.7958 6.1634C18.7277 6.19165 18.6659 6.23306 18.6138 6.28525L6.12085 18.7782Z",fill:"currentColor"}),i("path",{d:"M16.3721 7.73451L20.8555 12.2179L21.649 11.4243L17.1657 6.94095L16.3721 7.73451ZM6.28448 17.8221L10.7679 22.3055L11.5614 21.512L7.07804 17.0286L6.28448 17.8221Z",fill:"currentColor"}),i("path",{d:"M18.6138 9.18265L8.52618 19.2703L9.31974 20.0638L19.4074 9.97621L18.6138 9.18265Z",fill:"currentColor"})],-1)])]),_:1},8,["onClick"]),d(im,{icon:"",size:"small",class:"text-align-center mt-2",onClick:t=>{x(n).removeItemFromBasket(e),x(n).calculateMargin()}},{default:H(()=>[...t[70]||(t[70]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[71]||(t[71]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1},8,["loading","headers","items"])),d(Ry,{class:"pt-3"},{default:H(()=>["Ok"!==x(n).basketMargin.stat?(z(),q(ky,{key:0,cols:"8",class:"pa-0 pl-1"},{default:H(()=>[d(Ib,{density:"compact",class:"crd-trn"},{default:H(()=>[d(cb,{class:"px-0 pl-2"},{default:H(()=>[d(ub,{class:"subtitle-2 font-weight-regular ml-1"},{default:H(()=>[t[72]||(t[72]=W(" Remarks: ",-1)),i("span",Aq,A(x(n).basketMargin.remarks||x(n).basketMargin.emsg||"-"),1)]),_:1})]),_:1})]),_:1})]),_:1})):(z(),q(ky,{key:1,cols:"8",class:"pa-0 pl-1"},{default:H(()=>[d(Ib,{density:"compact",class:"crd-trn"},{default:H(()=>[d(cb,{class:"px-0 pl-2"},{default:H(()=>[d(ub,{class:"subtitle-2 font-weight-regular ml-1"},{default:H(()=>[t[73]||(t[73]=W(" Basket Margin: ₹",-1)),i("span",Oq,A(x(n).totalMargin),1)]),_:1}),d(ub,{class:"subtitle-2 font-weight-regular"},{default:H(()=>[t[74]||(t[74]=W(" Post Trade Margin: ₹",-1)),i("span",Pq,A(x(n).postTradeMargin),1)]),_:1})]),_:1})]),_:1})]),_:1})),d(ky,{cols:"1",class:"text-center"},{default:H(()=>[d(im,{onClick:t[26]||(t[26]=e=>x(n).calculateMargin()),disabled:x(n).orderLoader||x(n).selectedScript&&x(n).selectedScript.token,text:"",size:"x-small",icon:""},{default:H(()=>[...t[75]||(t[75]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[i("path",{fill:"currentColor",d:"M16.63 7.05a6.78 6.78 0 0 0-11.2 3.29.49.49 0 0 1-.47.37H2.65a.48.48 0 0 1-.48-.57 10 10 0 0 1 16.74-5.37l1.44-1.44A.97.97 0 0 1 22 4v5.4c0 .54-.43.98-.97.98h-5.4a.97.97 0 0 1-.69-1.65l1.69-1.69ZM2.97 13.61h5.4a.97.97 0 0 1 .69 1.66l-1.69 1.68a6.78 6.78 0 0 0 11.2-3.29.49.49 0 0 1 .47-.37h2.31c.3 0 .53.27.48.57a10 10 0 0 1-16.74 5.37l-1.44 1.44A.97.97 0 0 1 2 20v-5.4c0-.54.43-.98.97-.98Z"})],-1)])]),_:1},8,["disabled"])]),_:1}),d(ky,{cols:"3",class:"text-right"},{default:H(()=>[d(im,{disabled:x(n).selectedScript&&x(n).selectedScript.token||0===x(n).basketItems.length,loading:x(n).orderLoader,color:"#000",class:"elevation-0 text-capitalize rounded-pill",style:{color:"#fff"},onClick:t[27]||(t[27]=e=>x(n).placeBasketOrder())},{default:H(()=>[...t[76]||(t[76]=[W(" Place Order ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:m.value,"onUpdate:modelValue":t[33]||(t[33]=e=>m.value=e),width:"420"},{default:H(()=>[d(cy,{class:"pb-4 pt-2 px-6 overflow-hidden elevation-0",color:"#ffffff"},{default:H(()=>[d(ub,{class:"font-weight-bold title maintext--text mt-2 mb-4"},{default:H(()=>[W(A(h.value?"Edit":"Create")+" basket ",1),d(wp,{onClick:t[29]||(t[29]=e=>m.value=!1),class:"float-right",color:"#000"},{default:H(()=>[...t[77]||(t[77]=[W("mdi-close",-1)])]),_:1})]),_:1}),t[78]||(t[78]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Enter the basket name",-1)),d(Fk,{"hide-details":"",height:"40px",density:"compact","bg-color":"#F1F3F8",flat:"",class:"rounded-pill mb-4",placeholder:"my first millions",onKeyup:t[30]||(t[30]=de(e=>T(),["enter"])),type:"text",variant:"solo",modelValue:g.value,"onUpdate:modelValue":t[31]||(t[31]=e=>g.value=e)},null,8,["modelValue"]),d(im,{onClick:t[32]||(t[32]=e=>T()),disabled:!g.value,color:"#000",class:"text-none rounded-pill elevation-0 px-6 float-right",style:{color:"#fff"},height:"40px"},{default:H(()=>[W(A(h.value?"Edit":"Create"),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:v.value,"onUpdate:modelValue":t[36]||(t[36]=e=>v.value=e),"max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden",color:"#ffffff"},{default:H(()=>[t[85]||(t[85]=i("img",{src:Lf,alt:"cancel icon"},null,-1)),i("p",Fq,[t[79]||(t[79]=W(" Are you sure you want to ",-1)),t[80]||(t[80]=i("br",null,null,-1)),t[81]||(t[81]=W(" delete this ",-1)),i("b",null,A(_.value?_.value.name:""),1),t[82]||(t[82]=W(" basket ",-1))]),d(Ry,{class:"px-6","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[34]||(t[34]=e=>{v.value=!1,_.value=null}),color:"#F1F3F8",class:"rounded-pill text-none font-weight-bold elevation-0",style:{color:"#666666"},block:"",height:"40px"},{default:H(()=>[...t[83]||(t[83]=[W(" No ",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[35]||(t[35]=e=>(_.value&&(n.deleteBasket(_.value),n.closeBasket()),v.value=!1,void(_.value=null))),color:"#000",class:"rounded-pill text-none font-weight-bold elevation-0",style:{color:"#fff"},block:"",height:"40px"},{default:H(()=>[...t[84]||(t[84]=[W(" Yes ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Dq=zc(Lq,[["__scopeId","data-v-9a48ceb8"]]),Vq={class:"font-weight-medium maintext--text ws-p"},Bq={class:"font-weight-medium maintext--text ws-p"},$q={class:"font-weight-medium maintext--text ws-p"},Rq={class:"font-weight-medium maintext--text ws-p"},zq={class:"text-center"},Uq={class:"mx-auto py-16 mt-16"},qq=["src"],Hq={class:"font-weight-medium maintext--text mb-0 ws-p"},jq={class:"ml-1 txt-999 fs-10"},Wq={key:1},Yq={key:1},Gq={class:"mx-auto"},Kq=["src"],Xq=["src"],Jq={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},Qq={__name:"StockSIPorders",setup(e){const t=Qa(),n=a(!1),o=a(!1),s=a(""),u=a(!1),c=a(!1),p=a(!0),m=a(null),v=a([]),g=a([]),b=a("NSE"),_=a(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),k=a(new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)),S=a(null),C=[{title:"Daily",value:"Daily"},{title:"Weekly",value:"Weekly"},{title:"Fortnightly",value:"Fortnightly"},{title:"Monthly",value:"Monthly"}],I=a(null),E=a(null),T=a(!1),M=a(!1),O=a([]),P=a([]),F=a(null),L=a(null),D=[{title:"SIP Name",key:"sip_name",sortable:!1},{title:"Registered on",key:"reg_date"},{title:"Status",key:"internal"},{title:"Frequency",key:"frequency",sortable:!1},{title:"Instalments",key:"end_period",sortable:!1},{title:"",key:"actions",sortable:!1,align:"right"}],V=[{title:"Instrument",key:"tsym"},{title:"Invest by",key:"invby",width:"24%",sortable:!1},{title:"Amount",key:"prc",width:"20%",sortable:!1},{title:"Qty",key:"qty",width:"20%",sortable:!1},{title:"",key:"actions",sortable:!1,align:"right"}],B=l(()=>{var e;const t=null==(e=s.value)?void 0:e.toLowerCase();return t?v.value.filter(e=>{var a,l;return(null==(a=e.sip_name)?void 0:a.toLowerCase().includes(t))||(null==(l=e.frequency)?void 0:l.toLowerCase().includes(t))}):v.value}),$=l(()=>{if(!k.value)return"";const e=new Date(k.value);return isNaN(e.getTime())?"":`${String(e.getDate()).padStart(2,"0")}-${String(e.getMonth()+1).padStart(2,"0")}-${e.getFullYear()}`}),U=l(()=>{const e=g.value.length;if(0===e)return 240;const t=48+52*e;return Math.min(Math.max(t,240),600)});function j(e){return(e||0===e)&&({0:"Daily",1:"Weekly",2:"Fortnightly",3:"Monthly",Daily:"Daily",Weekly:"Weekly",Fortnightly:"Fortnightly",Monthly:"Monthly"}[String(e)]||e)||"-"}function Y(e){var t;if(e){p.value=!1,S.value=e.sip_name;const a={0:"Daily",1:"Weekly",2:"Fortnightly",3:"Monthly"}[String(e.frequency)]||e.frequency;if(I.value=(null==(t=C.find(e=>e.value===a))?void 0:t.value)||a,e.start_date&&8===e.start_date.length){const t=e.start_date.slice(0,2),a=e.start_date.slice(2,4),l=e.start_date.slice(4);k.value=`${l}-${a}-${t}`}else k.value=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10);if(E.value=e.end_period,m.value=e,e.Scrips&&e.Scrips.length>0){for(let t=0;t<e.Scrips.length;t++)e.Scrips[t].invby=e.Scrips[t].qty&&e.Scrips[t].qty>0?"Qty":"Amount",e.Scrips[t].idx=t;g.value=e.Scrips}else g.value=[]}else p.value=!0,S.value=null,I.value=null,k.value=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),E.value=null,m.value=null,g.value=[];u.value=!0}function G(){u.value=!1,Q()}function K(){O.value&&O.value.length>0?P.value=O.value.filter(e=>b.value===e.exch):P.value=[]}function X(e){e&&"string"==typeof e&&(L.value=e.toUpperCase())}function J(){if(F.value&&F.value.token){if(g.value.find(e=>String(e.token)===String(F.value.token)&&e.exch===F.value.exch))return t.showSnackbar(2,`${F.value.tsym} is already in the SIP order`),F.value=null,void(L.value=null);const e={exch:F.value.exch,tsym:F.value.tsym,token:F.value.token,prd:"C",invby:"Qty",qty:Number(F.value.ls||1),idx:g.value.length};g.value.push(e),g.value=[...g.value],F.value=null,L.value=null}}async function Q(){n.value=!0;const e=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!e||!a)return t.showSnackbar(2,"Session expired. Please login again."),void(n.value=!1);const l=`jData={"uid":"${e}","actid":"${e}"}&jKey=${a}`,o=await Aae(l);o.SipDetails&&o.SipDetails.length>0?v.value=o.SipDetails:(v.value=[],o.emsg&&t.showSnackbar(2,o.emsg)),n.value=!1}async function Z(){if(!m.value||!m.value.internal)return void(c.value=!1);const e={SipId:m.value.internal.SipId},a=await Iae(e,"CancelSipOrder");"OK"===a.ReqStatus?(t.showSnackbar(0,"SIP Order have been Cancelled"),Q()):t.showSnackbar(2,a.emsg||"Failed to cancel SIP order"),c.value=!1,m.value=null}function te(e){const t=String.fromCharCode(e.keyCode);if(/^[A-Za-z]+$/.test(t)||" "===t||"-"===t)return!0;e.preventDefault()}async function ae(){const e=function(){const e=[];if(S.value&&S.value.trim()?/^[A-Za-z\s-]+$/.test(S.value.trim())?p.value&&v.value.findIndex(e=>e.sip_name===S.value.trim())>=0&&e.push("SIP name already exists"):e.push("SIP name can only contain letters, spaces, and hyphens"):e.push("SIP name is required"),k.value){const t=new Date;t.setHours(0,0,0,0);const a=new Date(k.value);isNaN(a.getTime())?e.push("Start date is invalid"):(a.setHours(0,0,0,0),a<t&&e.push("Start date must be today or later"))}else e.push("Start date is required");return I.value?["Daily","Weekly","Fortnightly","Monthly"].includes(I.value)||e.push("Frequency must be one of: Daily, Weekly, Fortnightly, Monthly"):e.push("Frequency is required"),E.value?isNaN(Number(E.value))?e.push("No. of SIPs must be a number"):Number(E.value)<=0&&e.push("No. of SIPs must be greater than zero"):e.push("No. of SIPs is required"),g.value&&0!==g.value.length?g.value.forEach((t,a)=>{t.token||e.push(`Scrip ${a+1}: Token is required`),t.exch||e.push(`Scrip ${a+1}: Exchange is required`),t.tsym||e.push(`Scrip ${a+1}: Trading symbol is required`),"Qty"===t.invby?(!t.qty||Number(t.qty)<=0)&&e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Quantity must be greater than zero`):"Amount"===t.invby?(!t.prc||Number(t.prc)<=0)&&e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Amount must be greater than zero`):e.push(`Scrip ${a+1} (${t.tsym||"Unknown"}): Investment type must be Qty or Amount`)}):e.push("At least one scrip is required"),{isValid:0===e.length,errors:e}}();if(!e.isValid)return void t.showSnackbar(2,e.errors[0]);const a=v.value.findIndex(e=>e.sip_name===S.value.trim());if((!p.value||p.value&&-1===a)&&E.value>0){const e=AT(new Date).format("DDMMYYYY");let a={};const l={Daily:"0",Weekly:"1",Fortnightly:"2",Monthly:"3"},n=g.value.map(e=>{const t={exch:e.exch,tsym:e.tsym,token:e.token,prd:e.prd||"C"};return"Qty"===e.invby?e.qty&&(t.qty=String(e.qty)):"Amount"===e.invby?e.prc&&(t.prc=String(e.prc)):t.qty=String(e.qty||1),t});a=p.value?{uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),reg_date:e,start_date:AT(k.value).format("DDMMYYYY"),frequency:l[I.value]||"0",end_period:E.value.toString(),sip_name:S.value.trim(),Scrips:n}:{uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),reg_date:m.value.reg_date,start_date:AT(k.value).format("DDMMYYYY"),frequency:l[I.value]||"0",end_period:E.value.toString(),sip_name:S.value.trim(),internal:m.value.internal,Scrips:n},o.value=!0;const s=await Iae(a,p.value?"PlaceSipOrder":"ModifySipOrder");"OK"===s.ReqStatus?(t.showSnackbar(1,p.value?"SIP Order have been Placed":"SIP Order have been Modified"),Q(),u.value=!1):t.showSnackbar(2,s.emsg||"Failed to place/modify SIP order"),o.value=!1}else t.showSnackbar(2,E.value>0?"SIP name already exists":"No.of SIPs must be greater than zero")}function le(){Q()}function ne(e){const a=e.detail;if(console.log("SIP order trigger received:",a),a&&a.token){Y(null),S.value=a.tsym||a.symbol||"";const e=C.find(e=>"Daily"===e.title||"Daily"===e.value);I.value=(null==e?void 0:e.value)||"Daily",E.value=5;const l=new Date,n=new Date(l);n.setDate(l.getDate()+2),k.value=n.toISOString().slice(0,10);const o={exch:a.exch,tsym:a.tsym,token:a.token,prd:"C",invby:"Qty",qty:Number(a.ls||1),idx:g.value.length};g.value.find(e=>String(e.token)===String(o.token)&&e.exch===o.exch)?t.showSnackbar(2,`${o.tsym} is already in the SIP order`):(g.value.push(o),g.value=[...g.value]),console.log("SIP dialog should be open. basketdialog:",u.value),N(()=>{setTimeout(()=>{"/orders"===window.location.pathname&&window.location.search&&(window.history.replaceState({},"","/orders"),console.log("[StockSIPorders] Cleared URL query params after dialog opened"))},200)})}else console.log("SIP order trigger received but no token found:",a)}return f(L,async e=>{if(e&&e.length>2){M.value=!0;const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return void(M.value=!1);const l=await cae(`jData={"uid":"${t}","stext":"${e.replace("&","%26")}"}&jKey=${a}`);if("Ok"===l.stat||l.values){let e=l.values;for(let t=0;t<g.value.length;t++){const a=e.findIndex(e=>e.token===g.value[t].token);a>=0&&e.splice(a,1)}O.value=e}else O.value=[],P.value=[];M.value=!1,K()}}),y(()=>{Q(),window.addEventListener("orderbook-update",le),window.addEventListener("siporder-trigger",ne),"undefined"!=typeof window&&window.__pendingSIPData&&(console.log("[StockSIPorders] Found pending SIP data on mount:",window.__pendingSIPData),setTimeout(()=>{window.__pendingSIPData&&(ne({detail:window.__pendingSIPData}),window.__pendingSIPData=null)},100))}),h(()=>{window.removeEventListener("orderbook-update",le),window.removeEventListener("siporder-trigger",ne)}),(e,t)=>(z(),R("div",null,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(im,{disabled:v.value&&v.value.length>=10,class:"elevation-0 rounded-pill font-weight-bold text-none",variant:"elevated",color:"primary",height:"40",onClick:t[0]||(t[0]=e=>Y(null))},{default:H(()=>[...t[17]||(t[17]=[W("+ Create SIP",-1)])]),_:1},8,["disabled"]),d(zy),d(Fk,{elevation:"0",rounded:"",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),"prepend-inner-icon":"mdi-magnify",placeholder:"Search",variant:"solo",density:"compact","hide-details":"",class:"rounded mr-4",style:{"max-width":"220px"},flat:"","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{disabled:n.value,class:r(["ml-3 cursor-p",{"reload-rotating":n.value}]),onClick:Q,color:"maintext",size:"24"},{default:H(()=>[...t[18]||(t[18]=[W("mdi-reload",-1)])]),_:1},8,["disabled","class"])]),_:1}),d(PV,{headers:D,items:B.value,"fixed-header":"","hide-default-footer":!0,loading:n.value,class:"holdings-table mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"8px",border:"1px solid #EBEEF0","background-color":"#ffffff !important"},height:"480px","items-per-page":10,"item-class":()=>"table-row","row-props":()=>({class:"table-row"}),"onClick:row":t[3]||(t[3]=(e,{item:t})=>function(e){Y(e),p.value=!1}(t))},{"item.sip_name":H(({item:e})=>[i("span",Vq,A(e.sip_name),1)]),"item.reg_date":H(({item:e})=>{return[i("span",Bq,A(e.reg_date?(t=e.reg_date,new Date(`${t.slice(2,4)}/${t.slice(0,2)}/${t.slice(4)}`).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})):"-"),1)];var t}),"item.internal":H(({item:e})=>{var t;return[i("span",{class:r(["font-weight-bold ws-p",(null==(t=e.internal)?void 0:t.active)?"maingreen--text":"mainred--text"])},A(e.internal?e.internal.active?"Active":"Inactive":"-"),3)]}),"item.frequency":H(({item:e})=>[i("span",$q,A(j(e.frequency)),1)]),"item.end_period":H(({item:e})=>[i("span",Rq,A(e.internal?e.internal.period:"-")+"/"+A(e.end_period?e.end_period:0),1)]),"item.actions":H(({item:e})=>[i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"]))},[d(im,{icon:"",size:"small",class:"mr-1 elevation-0",style:{"background-color":"transparent !important"},onClick:t=>Y(e)},{default:H(()=>[d(wp,null,{default:H(()=>[...t[19]||(t[19]=[W("mdi-square-edit-outline",-1)])]),_:1})]),_:1},8,["onClick"]),d(im,{icon:"",size:"small",class:"elevation-0",style:{"background-color":"transparent !important"},onClick:t=>function(e){m.value=e,c.value=!0}(e)},{default:H(()=>[d(wp,null,{default:H(()=>[...t[20]||(t[20]=[W("mdi-trash-can-outline",-1)])]),_:1})]),_:1},8,["onClick"])])]),"no-data":H(()=>[i("div",zq,[i("div",Uq,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,qq),t[21]||(t[21]=i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"]),d(U_,{modelValue:u.value,"onUpdate:modelValue":t[14]||(t[14]=e=>u.value=e),width:"680","max-width":"680",scrollable:""},{default:H(()=>[d(cy,{class:"pb-6 px-6 rounded-lg",color:"cardbg",style:{"max-height":"85vh"}},{default:H(()=>[d(ub,{class:"font-weight-bold title maintext--text mt-4 pb-2",style:{"border-bottom":"1px solid #EBEEF0"}},{default:H(()=>[W(A(p.value?"Create":"Edit")+" SIP order ",1),d(wp,{onClick:G,class:"float-right",color:"maintext",disabled:o.value},{default:H(()=>[...t[22]||(t[22]=[W("mdi-close",-1)])]),_:1},8,["disabled"])]),_:1}),d(my,{class:"mb-2"}),d(Ry,{class:"pt-2 pb-4"},{default:H(()=>[d(ky,{cols:"3"},{default:H(()=>[t[23]||(t[23]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"SIP name",-1)),d(Fk,{placeholder:"name",onKeypress:te,"hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"compact",flat:"",rounded:"xl",class:"mb-0",modelValue:S.value,"onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e)},null,8,["modelValue"])]),_:1}),d(ky,{cols:"3"},{default:H(()=>[t[24]||(t[24]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Start date",-1)),d(Pb,{modelValue:T.value,"onUpdate:modelValue":t[7]||(t[7]=e=>T.value=e),"close-on-content-click":!1,transition:"scale-transition",location:"bottom","min-width":"auto"},{activator:H(({props:e})=>[d(Fk,w({placeholder:"DD-MM-YYYY","hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"compact",flat:"",rounded:"xl",class:"mb-0","hide-spin-buttons":"","model-value":$.value,"append-inner-icon":"mdi-calendar",readonly:""},e),null,16,["model-value"])]),default:H(()=>[d(zI,{modelValue:k.value,"onUpdate:modelValue":[t[5]||(t[5]=e=>k.value=e),t[6]||(t[6]=e=>T.value=!1)],min:_.value},null,8,["modelValue","min"])]),_:1},8,["modelValue"])]),_:1}),d(ky,{cols:"3"},{default:H(()=>[t[25]||(t[25]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Frequency",-1)),d(rI,{placeholder:"Daily, Weekly, Monthly","hide-details":"",modelValue:I.value,"onUpdate:modelValue":t[8]||(t[8]=e=>I.value=e),items:C,"bg-color":"secbg",density:"compact",variant:"flat",block:"",rounded:"xl",class:"","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),d(ky,{cols:"3"},{default:H(()=>[t[26]||(t[26]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"No.of SIPs",-1)),d(Fk,{placeholder:"4","hide-details":"",height:"40",variant:"solo","bg-color":"secbg",density:"compact",flat:"",rounded:"xl",class:"mb-0",type:"number","hide-spin-buttons":"",modelValue:E.value,"onUpdate:modelValue":t[9]||(t[9]=e=>E.value=e)},null,8,["modelValue"])]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(rI,{"onUpdate:modelValue":[K,t[10]||(t[10]=e=>b.value=e)],"hide-details":"",modelValue:b.value,items:["NSE","BSE"],height:"40",variant:"solo","bg-color":"secbg",density:"compact",flat:"",block:"",rounded:"xl",class:"sip-exchange-select",style:{"white-space":"nowrap"}},null,8,["modelValue"])]),_:1}),d(ky,{cols:"10",class:"ml-auto"},{default:H(()=>[d(QE,{disabled:F.value&&F.value.set,"onUpdate:modelValue":[J,t[11]||(t[11]=e=>F.value=e)],loading:M.value,"item-title":"tsym","return-object":"",rounded:"xl",class:"",flat:"",variant:"solo","bg-color":"secbg",density:"compact",modelValue:F.value,search:L.value,"onUpdate:search":[t[12]||(t[12]=e=>L.value=e),X],"hide-details":"",placeholder:"Search script",items:P.value,"prepend-inner-icon":"mdi-magnify","append-icon":"","no-filter":"",clearable:""},null,8,["disabled","loading","modelValue","search","items"])]),_:1})]),_:1}),F.value&&F.value.token?ee("",!0):(z(),q(PV,{key:0,"must-sort":"","sort-by":["idx"],"sort-desc":[!0],"fixed-header":"","hide-default-footer":!0,loading:n.value,class:"mt-0 rounded-lg overflow-y-auto",style:{border:"1px solid #EBEEF0"},height:U.value,headers:V,items:g.value,"items-per-page":-1},{"item.tsym":H(({item:e})=>[i("p",Hq,[W(A(e.tsym||"")+" ",1),i("span",jq,A(e.exch||""),1)])]),"item.qty":H(({item:e})=>["Qty"===e.invby?(z(),q(Fk,{key:0,height:"30","hide-details":"",density:"compact",style:{"border-radius":"10px !important"},class:"rounded-lg",type:"number","hide-spin-buttons":"",variant:"outlined",modelValue:e.qty,"onUpdate:modelValue":t=>e.qty=t},null,8,["modelValue","onUpdate:modelValue"])):(z(),R("span",Wq,A("--")))]),"item.prc":H(({item:e})=>["Amount"===e.invby?(z(),q(Fk,{key:0,"hide-details":"",density:"compact",style:{"border-radius":"10px !important"},class:"rounded-lg",type:"number","hide-spin-buttons":"",variant:"outlined",modelValue:e.prc,"onUpdate:modelValue":t=>e.prc=t},null,8,["modelValue","onUpdate:modelValue"])):(z(),R("span",Yq,A("--")))]),"item.invby":H(({item:e})=>[d(rI,{"onUpdate:modelValue":[t=>function(e){const t=g.value.findIndex(t=>String(t.token)===String(e.token)&&t.exch===e.exch);t>=0&&("Qty"===e.invby?(g.value[t].qty=Number(g.value[t].qty||g.value[t].ls||1),delete g.value[t].prc):"Amount"===e.invby&&(g.value[t].prc=Number(g.value[t].prc||1e3),delete g.value[t].qty),g.value=[...g.value])}(e),t=>e.invby=t],height:"30","hide-details":"",density:"compact",modelValue:e.invby,items:["Qty","Amount"],variant:"outlined",style:{"border-radius":"10px !important"},class:"rounded-lg"},null,8,["onUpdate:modelValue","modelValue"])]),"item.actions":H(({item:e})=>[i("div",{onClick:t[13]||(t[13]=ie(()=>{},["stop"]))},[d(im,{icon:"",size:"small",class:"text-align-center mt-2 elevation-0",style:{"background-color":"transparent !important"},onClick:t=>function(e){{const t=g.value.findIndex(t=>String(t.token)===String(e.token)&&t.exch===e.exch);t>=0&&(g.value.splice(t,1),g.value=[...g.value])}}(e)},{default:H(()=>[...t[27]||(t[27]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",width:"24",height:"24"},[i("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"})],-1)])]),_:1},8,["onClick"])])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[i("div",Gq,[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,Kq),t[28]||(t[28]=i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])]),_:1})]),_:1},8,["loading","height","items"])),d(Ry,{class:"pt-3"},{default:H(()=>[d(ky,{cols:"9"},{default:H(()=>[...t[29]||(t[29]=[i("p",{class:"fs-13 mb-0"},[W(" Your SIP will be placed at 9:30 on the due date, "),i("br"),W(" if the due date is a market holiday, order will be placed on the next trading day. ")],-1)])]),_:1}),d(ky,{cols:"3",class:"text-right"},{default:H(()=>[d(im,{disabled:!(S.value&&I.value&&k.value&&E.value&&0!==g.value.length),loading:o.value,color:"btnclr",class:"elevation-0 text-capitalize rounded-pill btntext--text",onClick:ae},{default:H(()=>[W(A(p.value?"Create":"Modify"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:c.value,"onUpdate:modelValue":t[16]||(t[16]=e=>c.value=e),"max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:H(()=>{var e;return[i("img",{src:x(Lf),alt:"cancel icon"},null,8,Xq),i("p",Jq,[t[30]||(t[30]=W(" Are you sure you want to ",-1)),t[31]||(t[31]=i("br",null,null,-1)),t[32]||(t[32]=W(" delete this ",-1)),i("b",null,A((null==(e=m.value)?void 0:e.sip_name)||""),1),t[33]||(t[33]=W(" SIP order? ",-1))]),d(Ry,{class:"px-6","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[15]||(t[15]=e=>{c.value=!1,m.value=null}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...t[34]||(t[34]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:Z,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...t[35]||(t[35]=[W("Yes",-1)])]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1},8,["modelValue"])]))}},Zq=zc(Qq,[["__scopeId","data-v-76af2202"]]),eH={key:0},tH={class:"title font-weight-bold mb-0"},aH={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},lH={class:"text-right d-inline-block w-100"},nH={class:"ws-p font-weight-medium maintext--text mb-0"},oH={class:"text-center"},sH={class:"mx-auto py-16 mt-16"},iH=["src"],rH={key:1},uH={class:"title font-weight-bold mb-0"},dH={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},cH={class:"d-flex mt-1"},pH={class:"fs-10"},mH={class:"fs-10"},vH={class:"text-right d-inline-block w-100"},hH={style:{"max-width":"300px"}},fH={class:"text-center"},gH={class:"mx-auto py-16 mt-16"},yH=["src"],bH={key:2},xH={class:"title font-weight-bold mb-0"},wH={class:"font-weight-medium maintext--text mb-0 table-hov-text ws-p"},_H={class:"text-right d-inline-block w-100"},kH={class:"ws-p font-weight-medium maintext--text mb-0"},SH={class:"text-center"},CH={class:"mx-auto py-16 mt-16"},IH=["src"],EH=["src"],TH={class:"font-weight-medium mt-3 fs-22 lh-24 mb-8"},NH={key:0,class:"px-6 mb-6"},MH={__name:"MutualOrderbook",setup(e){const t=Qa(),n=a("sip"),o=a(!1),s=a([]),r=a([]),u=a([]),c=a(""),p=a(""),m=a(!1),v=a(null),h=a(""),f=a(""),g=[{title:"Date",key:"datetime"},{title:"Fund name",key:"name",width:"40%"},{title:"",key:"action"},{title:"Transaction Type",key:"type"},{title:"Invest amt",key:"Amount",align:"right"},{title:"Folio no.",key:"DPFolioNo"},{title:"Status",key:"status"}],b=[{title:"SIP Register Date",key:"SIPRegnDate"},{title:"Start Date",key:"StartDate"},{title:"End Date",key:"EndDate"},{title:"Next SIP Date",key:"NextSIPDate"},{title:"Fund name",key:"name"},{title:"",key:"action"},{title:"Frequency Type",key:"FrequencyType"},{title:"Installment amt",key:"InstallmentAmount",align:"right"},{title:"SIP Register No.",key:"SIPRegnNo"},{title:"Status",key:"status"}],_=[{title:"SIP Register Date",key:"SIPRegnDate"},{title:"Start Date",key:"StartDate"},{title:"End Date",key:"EndDate"},{title:"Fund name",key:"name"},{title:"Frequency Type",key:"FrequencyType"},{title:"Installment amt",key:"InstallmentAmount",align:"right"},{title:"SIP Register No.",key:"SIPRegnNo"},{title:"Status",key:"status"}],k=l(()=>{var e;const t=null==(e=p.value)?void 0:e.toLowerCase();return t?r.value.filter(e=>(e.name||"").toLowerCase().includes(t)):r.value}),S=l(()=>{var e;const t=null==(e=p.value)?void 0:e.toLowerCase();return t?u.value.filter(e=>(e.name||"").toLowerCase().includes(t)):u.value}),C=l(()=>{var e;const t=null==(e=c.value)?void 0:e.toLowerCase();return t?s.value.filter(e=>(e.name||"").toLowerCase().includes(t)):s.value});function I(e){const t=Number(e);return isFinite(t)?t.toFixed(2):"0.00"}async function E(){o.value=!0,s.value=[],r.value=[],u.value=[];const e=sessionStorage.getItem("userid");try{const t=await ile([e,"",""]),a=await rle(),l=await ule();"Ok"===(null==t?void 0:t.stat)&&Array.isArray(t.data)&&(s.value=t.data),"Ok"===(null==a?void 0:a.stat)&&Array.isArray(a.data)&&(r.value=a.data),"Ok"===(null==l?void 0:l.stat)&&Array.isArray(l.data)&&(u.value=l.data)}catch(SJ){t.showSnackbar(2,"Failed to load MF orders")}o.value=!1}async function T(){var e,a,l;try{if(o.value=!0,"Pause SIP Order"===h.value){const e=await wle([v.value.OrderId,v.value.SIPRegnNo,v.value.Scheme_Code,f.value,""]);"Ok"===(null==e?void 0:e.stat)?t.showSnackbar(1,e.msg||"SIP paused"):t.showSnackbar(2,(null==e?void 0:e.emsg)||"Failed to pause")}else if("XSP"===(null==(e=v.value)?void 0:e.OrderType)){const e=await xle(),n=(null==(l=null==(a=null==e?void 0:e.data)?void 0:a[0])?void 0:l.id)||"13",o=await ble([v.value.OrderId,v.value.SIPRegnNo,v.value.Scheme_Code,n,""]);"Ok"===(null==o?void 0:o.stat)?t.showSnackbar(1,o.msg||"Order cancelled"):t.showSnackbar(2,(null==o?void 0:o.emsg)||"Failed to cancel")}else{const e=await yle(v.value.OrderId,v.value.buy_sell);"Ok"===(null==e?void 0:e.stat)?t.showSnackbar(1,e.msg||"Order cancelled"):t.showSnackbar(2,(null==e?void 0:e.emsg)||"Failed to cancel")}m.value=!1,await E()}finally{o.value=!1}}return y(()=>{E()}),(e,t)=>(z(),R("div",null,[d(iB,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),color:"primary",fixed:"","show-arrows":"",density:"compact",class:"mb-4"},{default:H(()=>[d(YV,{value:"sip",class:"text-none"},{default:H(()=>[...t[9]||(t[9]=[W("Active SIP's",-1)])]),_:1}),d(YV,{value:"orders",class:"text-none"},{default:H(()=>[...t[10]||(t[10]=[W("Order Book",-1)])]),_:1}),d(YV,{value:"siphis",class:"text-none"},{default:H(()=>[...t[11]||(t[11]=[W("SIP Order Book",-1)])]),_:1})]),_:1},8,["modelValue"]),"sip"===n.value?(z(),R("div",eH,[d(jg,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:H(()=>[i("p",tH,"Orders ("+A(r.value.length)+")",1),d(zy),d(Fk,{style:{"max-width":"220px"},modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{class:"ml-3 cursor-p",disabled:o.value,onClick:E,color:"maintext",size:"24"},{default:H(()=>[...t[12]||(t[12]=[W("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),d(PV,{headers:b,items:k.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":H(({item:e})=>[i("p",aH,A(e.name||""),1)]),"item.InstallmentAmount":H(({item:e})=>[i("span",lH,"₹"+A(I(e.InstallmentAmount)),1)]),"item.status":H(({item:e})=>[i("p",nH,A(e.status||""),1)]),"item.action":H(({item:e})=>[i("div",{class:"d-inline-flex",onClick:t[2]||(t[2]=ie(()=>{},["stop"]))},["ACTIVE"===e.status?(z(),q(im,{key:0,size:"small",class:"mr-1",variant:"tonal",color:"secred",onClick:t=>function(e){v.value=e,h.value="",m.value=!0}(e)},{default:H(()=>[...t[13]||(t[13]=[W("Cancel",-1)])]),_:1},8,["onClick"])):ee("",!0),"ACTIVE"===e.status?(z(),q(im,{key:1,size:"small",variant:"tonal",color:"primary",onClick:t=>function(e){v.value=e,h.value="Pause SIP Order",m.value=!0}(e)},{default:H(()=>[...t[14]||(t[14]=[W("Pause",-1)])]),_:1},8,["onClick"])):ee("",!0)])]),"no-data":H(()=>[i("div",oH,[i("div",sH,[i("img",{class:"mx-auto",width:"80",src:x(wf)},null,8,iH),t[15]||(t[15]=i("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])):"orders"===n.value?(z(),R("div",rH,[d(jg,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:H(()=>[i("p",uH,"Orders ("+A(s.value.length)+")",1),d(zy),d(Fk,{style:{"max-width":"220px"},modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=e=>c.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{class:"ml-3 cursor-p",disabled:o.value,onClick:E,color:"maintext",size:"24"},{default:H(()=>[...t[16]||(t[16]=[W("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),d(PV,{headers:g,items:C.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":H(({item:e})=>[i("div",null,[i("p",dH,A(e.name||""),1),i("div",cH,[d(R_,{size:"x-small",color:"secbg",class:"mr-1","text-color":"subtext"},{default:H(()=>[i("span",pH,A("NRM"===e.OrderType?"Lumpsum":"SIP"),1)]),_:2},1024),d(R_,{size:"x-small",color:"secbg","text-color":"subtext"},{default:H(()=>[i("span",mH,"Ord.no : "+A(e.OrderId||"-"),1)]),_:2},1024)])])]),"item.Amount":H(({item:e})=>[i("span",vH,"₹"+A(I(e.OrderVal)),1)]),"item.status":H(({item:e})=>[d(Lb,{location:"bottom",color:"black"},{activator:H(({props:t})=>[i("p",w(t,{class:"ws-p font-weight-medium maintext--text mb-0"}),A(e.status||""),17)]),default:H(()=>[i("div",hH,A(e.Remarks||"-"),1)]),_:2},1024)]),"item.action":H(({item:e})=>[i("div",{class:"d-inline-flex",onClick:t[4]||(t[4]=ie(()=>{},["stop"]))},["PAYMENT NOT INITIATED"===e.status&&"ALLOTMENT DONE"!==e.Remarks?(z(),q(im,{key:0,size:"small",variant:"tonal",color:"secred",onClick:t=>function(e){v.value=e,h.value="",m.value=!0}(e)},{default:H(()=>[...t[17]||(t[17]=[W(" Cancel ",-1)])]),_:1},8,["onClick"])):ee("",!0)])]),"no-data":H(()=>[i("div",fH,[i("div",gH,[i("img",{class:"mx-auto",width:"80",src:x(wf)},null,8,yH),t[18]||(t[18]=i("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])):(z(),R("div",bH,[d(jg,{flat:"",dense:"",class:"tool-sty pl-4 crd-trn"},{default:H(()=>[i("p",xH,"Orders ("+A(u.value.length)+")",1),d(zy),d(Fk,{style:{"max-width":"220px"},modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=e=>p.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mr-2",variant:"solo",density:"comfortable","bg-color":"secbg"},null,8,["modelValue"]),d(wp,{class:"ml-3 cursor-p",disabled:o.value,onClick:E,color:"maintext",size:"24"},{default:H(()=>[...t[19]||(t[19]=[W("mdi-reload",-1)])]),_:1},8,["disabled"])]),_:1}),d(PV,{headers:_,items:S.value,"fixed-header":"","hide-default-footer":!0,loading:o.value,class:"mt-3 rounded-lg overflow-y-auto",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},height:"480","items-per-page":-1},{"item.name":H(({item:e})=>[i("p",wH,A(e.name||""),1)]),"item.InstallmentAmount":H(({item:e})=>[i("span",_H,"₹"+A(I(e.InstallmentAmount)),1)]),"item.status":H(({item:e})=>[i("p",kH,A(e.status||""),1)]),"no-data":H(()=>[i("div",SH,[i("div",CH,[i("img",{class:"mx-auto",width:"80",src:x(wf)},null,8,IH),t[20]||(t[20]=i("h4",{class:"txt-999 font-weight-regular caption"},"There is no data here yet!",-1))])])]),_:1},8,["items","loading"])])),d(U_,{modelValue:m.value,"onUpdate:modelValue":t[8]||(t[8]=e=>m.value=e),"max-width":"420"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:H(()=>[i("img",{src:x(Lf),alt:"cancel icon"},null,8,EH),i("p",TH,A(h.value||"Cancel SIP order?"),1),"Pause SIP Order"===h.value?(z(),R("div",NH,[d(rI,{modelValue:f.value,"onUpdate:modelValue":t[6]||(t[6]=e=>f.value=e),"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mb-2",items:[...Array(30).keys()].map(e=>(e+1).toString()),variant:"solo","bg-color":"secbg",density:"comfortable",placeholder:"Select No Of Instalment Amount"},null,8,["modelValue","items"])])):ee("",!0),d(Ry,{class:"px-6"},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:t[7]||(t[7]=e=>{m.value=!1,v.value=null,h.value=""}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...t[21]||(t[21]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{loading:o.value,disabled:"Pause SIP Order"===h.value&&!f.value,onClick:T,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40"},{default:H(()=>[...t[22]||(t[22]=[W("Yes",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},AH={class:"mb-10"},OH=["onClick"],PH={class:"pos-rlt"},FH={class:"table-hov-text maintext--text font-weight-medium"},LH={class:"ml-1 subtext--text fs-10"},DH=["src"],VH={class:"font-weight-medium fs-12"},BH={class:"font-weight-medium maintext--text"},$H={class:"font-weight-medium fs-12"},RH={class:"text-right font-weight-medium"},zH={class:"font-weight-medium maintext--text mb-0"},UH={class:"font-weight-regular maintext--text mb-0"},qH={class:"font-weight-medium maintext--text mb-0 text-capitalize"},HH=["src"],jH=["src"],WH=["src"],YH={key:1},GH={colspan:"7",class:"text-center"},KH={class:"mx-auto py-16 mt-16"},XH=["src"],JH={class:"txt-999 font-weight-regular caption"},QH={class:"d-md-none mb-16"},ZH={key:1},ej={key:0},tj=["onClick"],aj={class:"font-weight-medium maintext--text mb-0 text-capitalize"},lj=["src"],nj=["src"],oj=["src"],sj=["src"],ij={class:"mb-1 fs-12 font-weight-bold maintext--text"},rj={class:"mb-1 fs-12 font-weight-bold maintext--text"},uj={class:"mx-auto py-8"},dj=["src"],cj={class:"float-right mb-0"},pj=["src"],mj={class:"float-right mb-0"},vj=["src"],hj=["src"],fj=["src"],gj={class:"float-right mb-0"},yj=["src"],bj=["src"],xj=["src"],wj={class:"px-4 pb-6"},_j={class:"px-4 pt-1"},kj={class:"float-right mb-0"},Sj={class:"float-right mb-0"},Cj={class:"float-right mb-0"},Ij={class:"float-right mb-0"},Ej={class:"fs-12 txt-444"},Tj={class:"fs-12 txt-444 font-weight-regular"},Nj=["src"],Mj={class:"font-weight-bold mt-3 fs-22 lh-24 mb-8"},Aj={class:"ml-1 subtext--text fs-10"},Oj={__name:"IpoOrderbook",setup(e){Y();const t=e=>({3:Tf,10:Sf,12:If}[e]||null),n=a(""),o=a(""),s=a(!1),c=a(!1),p=a(!1),m=a({}),v=a(null),f=a(!0),g=a(0),b=a(24),_=a({open:[{name:"Cancel Order",icon:12,type:"cd"},{name:"Order Status",icon:3,type:"",hr:!0},{name:"Details",icon:10,type:"detail"}],exec:[{name:"New Order",icon:"mdi-plus",type:"new",trans:"b"},{name:"Order Status",icon:3,type:"",hr:!0},{name:"Details",icon:10,type:"detail"}]}),k=a(null),S=a([]),C=a([]);a(null),a([]);const I=a("open"),E=a([]),T=l(()=>[{title:"Symbol",key:"symbol",sortable:!1},{title:"Order Number",key:"applicationNumber",sortable:!1},{title:"Datetime",key:"response_datetime"},{title:"Qty",key:"quantity",sortable:!1},{title:"Amount",key:"amount",sortable:!1,align:"end"},{title:"Reason",key:"reason",sortable:!1,width:"24%"},{title:"Status",key:"reponse_status",sortable:!1}]),N=e=>{const t=e.detail||e;("ipo"==t||t&&"ipo"===t.detail)&&M()};y(()=>{o.value=sessionStorage.getItem("usession"),n.value=sessionStorage.getItem("userid"),s.value=!1,m.value={},v.value=null,M(),window.addEventListener("orderbook-update",N)}),h(()=>{window.removeEventListener("orderbook-update",N)});const M=async()=>{S.value=[],C.value=[];try{let e=await Fle([n.value,o.value]);if(e&&Array.isArray(e)&&e.length>0){for(let t=0;t<e.length;t++)e[t]&&e[t].bid_detail&&Array.isArray(e[t].bid_detail)&&0!==e[t].bid_detail.length&&(e[t].idx=t,("Request Accepted By Sponsor Bank"!=e[t].upiPaymentStatus&&"Request Sent"!=e[t].upiPaymentStatus&&e[t].upiPaymentStatus||e[t].fail_reason||"new success"!=e[t].reponse_status)&&"pending"!=e[t].reponse_status?(C.value.push(e[t]),e[t].way="exec"):(S.value.push(e[t]),e[t].way="open"),e[t].amount=Math.max(...e[t].bid_detail.map(e=>Number(e.amount))),e[t].quantity=Math.max(...e[t].bid_detail.map(e=>Number(e.quantity))),e[t].len=e[t].bid_detail.length,e[t].fail_reason=e[t].upiPaymentStatus?e[t].upiPaymentStatus:e[t].bid_detail&&e[t].bid_detail[0]&&("REMOVE"==e[t].bid_detail.requestfor||"cancel"==e[t].bid_detail[0].activityType)?"Order was canceled by yourself.":e[t].fail_reason,e[t].appstatus="Accepted by Investor"!=e[t].upiPaymentStatus&&("Request Accepted By Sponsor Bank"!=e[t].fail_reason&&"Request Sent"!=e[t].fail_reason&&e[t].upiPaymentStatus||"new success"!=e[t].reponse_status)?"pending"==e[t].reponse_status?"Pending":"Failed":"Success");E.value=e,I.value="open"}else E.value=[]}catch(Wie){console.error("Error fetching orderbook:",Wie),E.value=[]}f.value=!1},O=e=>{m.value={},c.value=!0,m.value=e},P=e=>{const t=e.applicationNumber||e.id||JSON.stringify(e);s.value&&v.value===t?(s.value=!1,m.value={},v.value=null):(m.value=e,v.value=t,s.value=!0)},F=()=>{s.value=!1,m.value={},v.value=null},L=e=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"iposorder",item:e,value:"mod"}})),s.value=!1};return(e,a)=>{const l=$("v-tabs-slider"),o=$("v-list-item-content"),v=$("v-list-item-icon");return z(),R("div",null,[i("div",AH,[d(jg,{flat:"",class:"tool-sty pl-4 d-none d-md-block crd-trn",density:"compact"},{default:H(()=>[d(iB,{fixed:"",color:"primary","onUpdate:modelValue":[a[0]||(a[0]=e=>1==g.value?I.value="exec":I.value="open"),a[1]||(a[1]=e=>g.value=e)],modelValue:g.value},{default:H(()=>[d(YV,{disabled:f.value,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[a[18]||(a[18]=W("Open Orders (",-1)),i("span",null,A(S.value?S.value.length:"0"),1),a[19]||(a[19]=W(") ",-1))]),_:1},8,["disabled"]),d(YV,{disabled:f.value,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[a[20]||(a[20]=W("Close Orders (",-1)),i("span",null,A(C.value?C.value.length:"0"),1),a[21]||(a[21]=W(") ",-1))]),_:1},8,["disabled"]),d(l,{color:"primary"})]),_:1},8,["modelValue"]),d(zy),d(Fk,{style:{"max-width":"320px"},modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value=e),"hide-details":"",disabled:f.value,"prepend-inner-icon":"mdi-magnify",label:"Search ipos",class:"rounded-pill",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue","disabled"]),d(wp,{class:"ml-3 cursor-p",onClick:a[3]||(a[3]=e=>M()),color:"maintext",size:"24"},{default:H(()=>[...a[22]||(a[22]=[W("mdi-reload",-1)])]),_:1})]),_:1}),d(iB,{class:"d-md-none","fixed-tabs":"",color:"primary","onUpdate:modelValue":[a[4]||(a[4]=e=>1==g.value?I.value="exec":I.value="open"),a[5]||(a[5]=e=>g.value=e)],modelValue:g.value},{default:H(()=>[d(YV,{disabled:f.value,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[a[23]||(a[23]=W("Open Orders (",-1)),i("span",null,A(S.value?S.value.length:"0"),1),a[24]||(a[24]=W(") ",-1))]),_:1},8,["disabled"]),d(YV,{disabled:f.value,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[a[25]||(a[25]=W("Close Orders (",-1)),i("span",null,A(C.value?C.value.length:"0"),1),a[26]||(a[26]=W(") ",-1))]),_:1},8,["disabled"]),d(l,{color:"primary"})]),_:1},8,["modelValue"]),d(PV,{"must-sort":"","sort-by":[{key:"response_datetime",order:"desc"}],"hide-default-footer":"","fixed-header":"",loading:f.value,class:"mt-3 rounded-lg overflow-y-auto d-none d-md-block",style:{"border-radius":"4px",border:"1px solid var(--outline)"},height:"480px",headers:T.value,search:k.value,items:E.value,"items-per-page":E.value.length},{body:H(({items:l,headers:n})=>[(1==g.value?C.value&&C.value.length>0:S.value&&S.value.length>0)?(z(!0),R(u,{key:0},U(l,(l,n)=>(z(),R("tr",{onClick:e=>P(l),class:"table-row",key:n},[i("td",PH,[i("span",FH,A(l.symbol?l.symbol:"-"),1),a[28]||(a[28]=W()),i("span",LH,A(l.series?l.series:""),1),i("div",{onClick:a[6]||(a[6]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{top:"15px",right:"0","z-index":"1"}},[d(Pb,{"close-on-click":"",absolute:"","offset-y":"",class:"table-menu"},{activator:H(({props:e})=>[d(im,w({ref_for:!0},e,{style:{border:"1px solid var(--outline)"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small"}),{default:H(()=>[d(wp,{size:"20",color:"maintext"},{default:H(()=>[...a[27]||(a[27]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(0===g.value?_.value.open:_.value.exec,(a,n)=>(z(),R("div",{key:n},[d(cb,{onClick:t=>"new"===a.type?e.$router.push("/ipo"):"md"===a.type?L(l):"cd"===a.type?O(l):P(l),class:"pl-3 pr-6"},{prepend:H(()=>[a.icon>2&&t(a.icon)?(z(),R("img",{key:0,width:"20px",class:"pl-1 mr-3",src:t(a.icon)},null,8,DH)):(z(),q(wp,{key:1,class:"mr-3",color:"#506D84"},{default:H(()=>[W(A(a.icon),1)]),_:2},1024))]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),a.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),i("td",null,[d(R_,{size:"small",class:"table-hov-prd rounded-md",label:"","text-color":"subtext"},{default:H(()=>[i("span",VH,A(l.applicationNumber),1)]),_:2},1024)]),i("td",null,[i("span",BH,A(l.response_datetime?l.response_datetime.slice(0,16):"-"),1)]),i("td",null,[d(R_,{size:"small",class:"table-hov-prd rounded-md",label:"","text-color":"subtext"},{default:H(()=>[i("span",$H,A(l.quantity),1)]),_:2},1024)]),i("td",RH,[i("p",zH,A(l.bid_detail&&l.bid_detail[0]?`₹${l.amount.toLocaleString()}`:""),1)]),i("td",null,[i("p",UH,A(l.fail_reason?l.fail_reason:"Order placed successfully"),1)]),i("td",null,[i("p",qH,["Success"==l.appstatus?(z(),R("img",{key:0,width:"20px",class:"mb-n02",src:x(ag)},null,8,HH)):"Pending"==l.appstatus?(z(),R("img",{key:1,width:"20px",class:"mb-n02",src:x(rg)},null,8,jH)):(z(),R("img",{key:2,width:"20px",class:"mb-n02",src:x(Gh)},null,8,WH)),W(" "+A(l.appstatus?l.appstatus:""),1)])])],8,OH))),128)):ee("",!0),(1==g.value?C.value&&0!==C.value.length:S.value&&0!==S.value.length)?ee("",!0):(z(),R("tr",YH,[i("td",GH,[i("div",KH,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,XH),i("h4",JH,[W(" There is no "+A(1==g.value?"Open":"Close")+" order ",1),a[29]||(a[29]=i("br",null,null,-1)),a[30]||(a[30]=W(" data here yet! ",-1))])])])]))]),_:1},8,["loading","headers","search","items","items-per-page"]),i("div",QH,[d(my),f.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),E.value&&E.value.length>0?(z(),R("div",ZH,[(z(!0),R(u,null,U(E.value.length<b.value?E.value.slice(0,b.value):E.value,(l,s)=>(z(),q(cy,{key:s,class:"elevation-0 rounded-0 overflow-hidden crd-trn"},{default:H(()=>[I.value==l.way?(z(),R("div",ej,[i("div",{class:"px-0",onClick:e=>P(l)},[d(cb,{class:"pa-0"},{default:H(()=>[d(o,{class:"pa-0 pt-1"},{default:H(()=>[d(ub,{class:"fs-13 font-weight-bold mb-0 maintext--text table-hov-text mt-2"},{default:H(()=>[W(A(l.symbol?l.symbol:""),1)]),_:2},1024),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{class:"px-0 crd-trn","text-color":"maintext"},{default:H(()=>[i("p",aj,["Success"==l.appstatus?(z(),R("img",{key:0,width:"20px",class:"mb-n02",src:x(ag)},null,8,lj)):"Pending"==l.appstatus?(z(),R("img",{key:1,width:"20px",class:"mb-n02",src:x(rg)},null,8,nj)):(z(),R("img",{key:2,width:"20px",class:"mb-n02",src:x(Gh)},null,8,oj)),W(" "+A(l.appstatus?l.appstatus:""),1)])]),_:2},1024),d(R_,{class:"pr-0 crd-trn","text-color":"maintext"},{default:H(()=>[a[31]||(a[31]=i("span",{class:"caption"},"BID Qty: ",-1)),a[32]||(a[32]=W()),i("b",null,A(l.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),i("div",{onClick:a[7]||(a[7]=ie(()=>{},["stop"]))},[d(wp,{size:"20",color:"maintext",class:"float-right"},{default:H(()=>[...a[33]||(a[33]=[W("mdi-chevron-right",-1)])]),_:1}),d(Pb,{"close-on-click":"",absolute:"","offset-y":""},{activator:H(({props:e})=>[d(im,w({ref_for:!0},e,{style:{border:"1px solid var(--outline)"},"min-width":"20px",color:"cardbg",class:"px-0 font-weight-bold white--text elevation-0 float-right",size:"x-small"}),{default:H(()=>[d(wp,{size:"20",color:"maintext"},{default:H(()=>[...a[34]||(a[34]=[W("mdi-dots-vertical",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(0==g.value?_.value.open:_.value.exec,(a,n)=>(z(),R("div",{key:n},[d(cb,{onClick:t=>"new"==a.type?e.$router.push("/ipo"):"md"==a.type?L(l):"cd"==a.type?O(l):P(l),class:"pl-3 pr-6"},{prepend:H(()=>[d(v,{class:"mr-3 text-center"},{default:H(()=>[a.icon>2&&t(a.icon)?(z(),R("img",{key:0,width:"20px",class:"pl-1",src:t(a.icon)},null,8,sj)):(z(),q(wp,{key:1,color:"#506D84"},{default:H(()=>[W(A(a.icon),1)]),_:2},1024))]),_:2},1024)]),default:H(()=>[d(ub,{class:"subline--text font-weight-medium fs-14"},{default:H(()=>[W(A(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),a.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024),d(my),d(Ry,{class:"py-2","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[i("p",ij,A(l.bid_detail&&l.bid_detail[0]?`₹${l.amount.toLocaleString()}`:""),1),a[35]||(a[35]=i("p",{class:"mb-1 fs-12 subtext--text"},"Invested amount",-1))]),_:2},1024),d(ky,{cols:"6",class:"text-right"},{default:H(()=>[i("p",rj,A(l.response_datetime?l.response_datetime.slice(0,16):"-"),1),a[36]||(a[36]=i("p",{class:"mb-1 fs-12 subtext--text"},"Bid Date & time",-1))]),_:2},1024)]),_:2},1024)],8,tj),n.value&&b.value-1!=s?(z(),q(cy,{key:0,class:"pt-1 rounded-0 elevation-0",color:"secbg"})):ee("",!0)])):ee("",!0)]),_:2},1024))),128))])):(z(),q(cy,{key:2,class:"elevation-0 rounded-0 text-center"},{default:H(()=>[i("div",uj,[i("img",{class:"align-self-stretch mx-auto",width:"70px",src:x(wf)},null,8,dj),a[37]||(a[37]=i("h4",{class:"txt-999 font-weight-regular fs-14"},"There is no data here yet!",-1))])]),_:1})),b.value<E.value.length?(z(),q(im,{key:3,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4 mb-1",onClick:a[8]||(a[8]=e=>b.value+=24),block:""},{default:H(()=>[...a[38]||(a[38]=[W("show more",-1)])]),_:1})):ee("",!0)])]),d(HV,{"hide-overlay":"",color:"cardbg",fixed:"",temporary:"",app:"",class:"pt-2",modelValue:s.value,"onUpdate:modelValue":a[11]||(a[11]=e=>s.value=e),location:"right",width:"360px"},{prepend:H(()=>[d(jg,{class:"nav-drawer",density:"compact"},{default:H(()=>[d(wp,{onClick:F,color:"subtext",size:"20"},{default:H(()=>[...a[39]||(a[39]=[W("mdi-close",-1)])]),_:1}),a[40]||(a[40]=i("p",{class:"maintext--text font-weight-bold mb-0 ml-2"},"Order Details",-1)),d(zy)]),_:1})]),default:H(()=>[d(cb,{class:"pt-3"},{default:H(()=>[d(o,null,{default:H(()=>[d(ub,{class:"font-weight-medium maintext--text"},{default:H(()=>[W(A(m.value.company_name?m.value.company_name:""),1)]),_:1}),d(rb,{class:"font-weight-medium subtext--text fs-12"},{default:H(()=>[W(A(m.value.symbol?m.value.symbol:""),1)]),_:1})]),_:1})]),_:1}),d(cb,null,{default:H(()=>[d(o,null,{default:H(()=>[d(rb,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:H(()=>[...a[41]||(a[41]=[W("Order",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14"},{default:H(()=>[a[43]||(a[43]=W("Entry Success ",-1)),i("p",cj,[i("img",{width:"20px",class:"mb-n02",src:x(ag)},null,8,pj),a[42]||(a[42]=i("span",null," Success",-1))])]),_:1})]),_:1})]),_:1}),d(cb,null,{default:H(()=>[d(o,null,{default:H(()=>[d(rb,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:H(()=>[...a[44]||(a[44]=[W("Payment",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14"},{default:H(()=>[W(A(m.value.upiPaymentStatus?m.value.upiPaymentStatus:"Unknown")+" ",1),i("p",mj,["Accepted by Investor"==m.value.upiPaymentStatus?(z(),R("img",{key:0,width:"20px",class:"mb-n02",src:x(ag)},null,8,vj)):"Request Accepted By Sponsor Bank"!=m.value.upiPaymentStatus&&"Request Sent"!=m.value.upiPaymentStatus&&m.value.upiPaymentStatus?(z(),R("img",{key:2,width:"20px",class:"mb-n02",src:x(rg)},null,8,fj)):(z(),R("img",{key:1,width:"20px",class:"mb-n02",src:x(rg)},null,8,hj)),i("span",null,A("Accepted by Investor"==m.value.upiPaymentStatus?"Verified":"Request Accepted By Sponsor Bank"==m.value.upiPaymentStatus||"Request Sent"==m.value.upiPaymentStatus?"Pending":m.value.upiPaymentStatus?"Failed":"Unknown"),1)])]),_:1})]),_:1})]),_:1}),d(my,{class:"pt-1 mt-2"}),d(cb,{class:"pb-3"},{default:H(()=>[d(o,null,{default:H(()=>[d(rb,{class:"subtext--text font-weight-medium fs-13 mb-1"},{default:H(()=>[...a[45]||(a[45]=[W("Order Id",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14"},{default:H(()=>[W(A(m.value.applicationNumber)+" ",1),i("p",gj,["Success"==m.value.appstatus?(z(),R("img",{key:0,width:"20px",class:"mb-n02",src:x(ag)},null,8,yj)):"Pending"==m.value.appstatus?(z(),R("img",{key:1,width:"20px",class:"mb-n02",src:x(rg)},null,8,bj)):(z(),R("img",{key:2,width:"20px",class:"mb-n02",src:x(Gh)},null,8,xj)),i("span",null,A(m.value.appstatus?m.value.appstatus:""),1)])]),_:1})]),_:1})]),_:1}),i("div",wj,["exec"==m.value.way?(z(),q(im,{key:0,onClick:a[9]||(a[9]=t=>e.$router.push("/ipo")),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",variant:"outlined"},{default:H(()=>[...a[46]||(a[46]=[W("Place New order",-1)])]),_:1})):(z(),q(Ry,{key:1},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(im,{onClick:a[10]||(a[10]=e=>(s.value=!1,c.value=!0)),class:"rounded-pill text-none font-weight-bold",block:"",height:"40px",variant:"outlined"},{default:H(()=>[...a[47]||(a[47]=[W("Cancel Order",-1)])]),_:1})]),_:1})]),_:1}))]),d(my,{class:"pt-1"}),i("div",_j,[d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[a[48]||(a[48]=W("App no ",-1)),i("p",kj,A(m.value.resp_bid&&m.value.resp_bid[0]?m.value.resp_bid[0].bidReferenceNumber:""),1)]),_:1}),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[a[49]||(a[49]=W("Quantity ",-1)),i("p",Sj,A(m.value.bid_detail?m.value.quantity:""),1)]),_:1}),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[a[50]||(a[50]=W("Total amount ",-1)),i("p",Cj,"₹"+A(m.value.bid_detail?m.value.amount.toLocaleString():""),1)]),_:1}),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 py-4"},{default:H(()=>[a[51]||(a[51]=W("Price ",-1)),i("p",Ij,"₹"+A(m.value.bid_detail?m.value.amount/m.value.quantity:"0.00"),1)]),_:1}),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 pt-4 pb-1"},{default:H(()=>[W(A(m.value.len?1==m.value.len?"Single":1==m.value.len?"Double":"Triple":"")+" bid order",1)]),_:1}),m.value.bid_detail&&Array.isArray(m.value.bid_detail)?(z(!0),R(u,{key:0},U(m.value.bid_detail,(e,t)=>(z(),R("div",{key:t,class:"px-1"},[i("span",Ej,"bid "+A(t+1),1),d(cb,{class:"px-1"},{default:H(()=>[d(o,{class:"pt-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-12"},{default:H(()=>[W(A(e.amount.toLocaleString()),1)]),_:2},1024),d(rb,{class:"fs-10"},{default:H(()=>[...a[52]||(a[52]=[W("Amount",-1)])]),_:1})]),_:2},1024),d(o,{class:"pt-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-12"},{default:H(()=>[W(A(e.price),1)]),_:2},1024),d(rb,{class:"fs-10"},{default:H(()=>[...a[53]||(a[53]=[W("Price",-1)])]),_:1})]),_:2},1024),d(o,{class:"pt-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-12"},{default:H(()=>[W(A(e.quantity),1)]),_:2},1024),d(rb,{class:"fs-10"},{default:H(()=>[...a[54]||(a[54]=[W("Quantity",-1)])]),_:1})]),_:2},1024),d(o,{class:"pt-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-12"},{default:H(()=>[W(A(e.atCutOff?"Yes":"No"),1)]),_:2},1024),d(rb,{class:"fs-10"},{default:H(()=>[...a[55]||(a[55]=[W("Cut off",-1)])]),_:1})]),_:2},1024)]),_:2},1024),m.value.len-1!=t?(z(),q(my,{key:0,class:"max-auto"})):ee("",!0)]))),128)):ee("",!0),d(my),d(ub,{class:"maintext--text font-weight-bold fs-14 pt-4"},{default:H(()=>[...a[56]||(a[56]=[W("Reason ",-1)])]),_:1}),i("p",Tj,A(m.value.fail_reason?m.value.fail_reason:"Order placed successfully"),1)]),d(my,{class:"pt-1"})]),_:1},8,["modelValue"]),d(U_,{modelValue:c.value,"onUpdate:modelValue":a[14]||(a[14]=e=>c.value=e),persistent:"","max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden",color:"cardbg"},{default:H(()=>[d(Ry,{align:"center",justify:"center"},{default:H(()=>[d(ky,{cols:"auto"},{default:H(()=>[i("img",{src:x(Lf),alt:"cancel icon",width:"50px"},null,8,Nj)]),_:1})]),_:1}),i("p",Mj,[a[57]||(a[57]=W(" Are you sure you want to ",-1)),a[58]||(a[58]=i("br",null,null,-1)),W(" cancel this ("+A(m.value.symbol?m.value.symbol:"")+") order ",1)]),d(Ry,{class:"px-6","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[12]||(a[12]=e=>c.value=!1),color:"secbg",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[59]||(a[59]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[13]||(a[13]=e=>{return t=m.value,window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"iposorder",item:t,value:"can"}})),void(c.value=!1);var t}),color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[60]||(a[60]=[W("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(U_,{modelValue:p.value,"onUpdate:modelValue":a[17]||(a[17]=e=>p.value=e),persistent:"","max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 pt-4 px-6 pb-6 overflow-hidden"},{default:H(()=>[a[64]||(a[64]=i("p",{class:"font-weight-bold fs-22 lh-24 mb-4"},"Are you sure you want to Exit the order",-1)),d(my),d(cb,{class:"py-3 px-0 mb-2"},{default:H(()=>[d(o,null,{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-3"},{default:H(()=>[W(A(m.value.tsym?m.value.tsym:"")+" ",1),i("span",Aj,A(m.value.exch?m.value.exch:""),1)]),_:1}),d(ub,{class:"maintext--text font-weight-bold fs-14 mb-1"},{default:H(()=>[a[61]||(a[61]=W("₹ 18,392.60 ",-1)),i("span",{class:r([m.value.avgprc>0?"maingreen--text":m.value.avgprc<0?"mainred--text":"subtext--text","font-weight-medium fs-12"])},"-62.60 (0.34%)",2)]),_:1})]),_:1})]),_:1}),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[15]||(a[15]=e=>p.value=!1),color:"secbg",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[62]||(a[62]=[W("Close",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[16]||(a[16]=e=>p.value=!1),color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[63]||(a[63]=[W("Exit Order",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Pj={class:"px-4 px-md-6 pt-4 pb-2"},Fj={class:"fs-10"},Lj={class:"fs-10"},Dj={class:"fs-10 subtext--text ml-6 mt-2"},Vj={class:"subtext--text fs-12 mt-3 mb-0"},Bj={class:"mb-0 primary--text fs-12 d-flex align-center",style:{gap:"4px","white-space":"nowrap"}},$j={class:"text-primary"},Rj={class:"font-weight-regular fs-12 subtext--text"},zj={class:"text-primary font-weight-bold"},Uj={__name:"BondsOrderbook",setup(e){Y();const t=a(null),n=a(null),o=a(null),s=a(!1),r=a(null),u=a(!1),c=a({});function p(e,t){kI.$emit("snack-event",e,t)}function m(){r.value?r.value=Number(r.value):r.value<c.value.minbidqty&&(r.value=c.value.minbidqty)}function v(){c.value.lotbitsize&&(r.value=(r.value||0)+c.value.lotbitsize,c.value.maxbidqty&&r.value>c.value.maxbidqty&&(r.value=c.value.maxbidqty))}function f(){c.value.lotbitsize&&(r.value===c.value.lotbitsize?r.value=c.value.lotbitsize:r.value=Math.max((r.value||0)-c.value.lotbitsize,c.value.minbidqty||0))}async function g(e,t){var a;s.value=!0;let l={};0==e?l={requestfor:"REMOVE",symbol:t.symbol,investmentValue:t.investmentValue,price:(null==(a=t.bid_detail)?void 0:a.price)||t.price,orderNumber:t.orderNumber,clientApplicationNumber:t.clientApplicationNumber}:(l={requestfor:"BUY",symbol:c.value.symbol,investmentValue:3==c.value.flow?c.value.minPrice*r.value:100*r.value,price:c.value.cutoffPrice},3==c.value.flow&&(l.bidQuantity=r.value));try{const a=await Mle(3==c.value.flow,JSON.stringify(l));if(s.value=!1,a&&a.status){const l="success"==a.status;p(l?1:0,a.orderStatus_response?`${0==e?t.symbol:c.value.name}, ${a.orderStatus_response}`:a.reason||a),0==e&&kI.$emit("watch-load")}else p(2,a&&a.emsg?a.emsg:a.reason||a||"Unknown error")}catch(Wie){console.error("Error placing bond order:",Wie),s.value=!1,p(2,Wie.message||"Failed to place order")}u.value=!1,c.value={}}function b(e){u.value=!1,c.value={}}function x(e,a,l){"bondorder"==e&&async function(e,a){kI.$emit("sub-loader",1),s.value=!1,c.value={},c.value={...e};try{const e=await Ble([t.value,n.value]);c.value.ledger=e&&e.total>0?Number(e.total).toFixed(2):null}catch(Wie){console.error("Error fetching ledger:",Wie),c.value.ledger=null}c.value.type=a,r.value=e.minbidqty||0,u.value=!0,kI.$emit("sub-loader",0)}(a,l)}function w(e){g(0,e)}return l(()=>c.value.cutoffPrice&&r.value?(c.value.cutoffPrice*r.value).toFixed(2):"0.00"),y(async()=>{kI.$on("menudialog",x),kI.$on("bondmodify-event",w),o.value=sessionStorage.getItem("msession"),n.value=sessionStorage.getItem("usession"),t.value=sessionStorage.getItem("userid")}),h(()=>{kI.$off("menudialog",x),kI.$off("bondmodify-event",w)}),(e,t)=>{const a=$("P"),l=$("v-list-item-content");return z(),R("div",null,[d(U_,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=e=>u.value=e),persistent:"","onClick:outside":t[5]||(t[5]=e=>s.value?"":b()),"max-width":"400"},{default:H(()=>[d(cy,{class:"pb-1 overflow-hidden",color:"cardbg",style:{"border-radius":"15px"}},{default:H(()=>[d(cy,{class:"elevation-0 pt-2 pb-1",color:"secbg"},{default:H(()=>[d(jg,{class:"elevation-0 px-1 px-md-2 crd-trn",density:"compact"},{default:H(()=>[d(a,{class:"font-weight-bold fs-16 maintext--text mb-0 px-4"},{default:H(()=>[W(" Order "+A(0==c.value.type?"G-SEC":1==c.value.type?"T-BILL":2==c.value.type?"SDL":3==c.value.type?"SGB":""),1)]),_:1}),d(zy),d(im,{disabled:s.value,onClick:t[0]||(t[0]=e=>b()),color:"maintext",size:"x-small",variant:"outlined",icon:"",class:"mr-3"},{default:H(()=>[d(wp,{color:"maintext"},{default:H(()=>[...t[6]||(t[6]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1}),s.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),i("div",Pj,[d(cb,{class:"px-0"},{default:H(()=>[d(l,{class:"py-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 maintext--text mb-0"},{default:H(()=>[W(A(c.value.name?c.value.name:""),1)]),_:1}),d(B_,{column:"",class:"mb-1 pt-0 mt-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",Fj,A(c.value.symbol?c.value.symbol:""),1)]),_:1}),c.value.isin?(z(),q(R_,{key:0,size:"x-small",variant:"flat",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",Lj,A(c.value.isin?c.value.isin:""),1)]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1}),t[12]||(t[12]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Units",-1)),d(Fk,{"model-value":r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),onKeyup:m,density:"compact",variant:"solo",flat:"",rounded:"pill","bg-color":"secbg",class:"rounded-pill",type:"number","hide-spin-buttons":"",min:c.value.minbidqty,"hide-details":"",step:c.value.lotbitsize,max:c.value.maxbidqty},{"append-inner":H(()=>[d(im,{onClick:v,icon:"",class:"elevation-0",variant:"text",size:"small"},{default:H(()=>[...t[7]||(t[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:f,icon:"",class:"elevation-0",variant:"text",size:"small"},{default:H(()=>[...t[8]||(t[8]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["model-value","min","step","max"]),i("p",Dj," Units limit "+A(c.value.minbidqty||0)+" - "+A(c.value.maxbidqty||0),1),i("p",Vj,[t[9]||(t[9]=W(" Ledger balance : ",-1)),i("b",null,"₹"+A(c.value.ledger?c.value.ledger:"0.00"),1)]),c.value.ledger<c.value.cutoffPrice*r.value?(z(),q(cy,{key:0,color:"primhover",class:"rounded-lg px-4 py-2 elevation-0 mt-4"},{default:H(()=>[i("div",Bj,[d(wp,{size:"16",color:"primary"},{default:H(()=>[...t[10]||(t[10]=[W("mdi-information-outline",-1)])]),_:1}),i("span",$j," Insufficient balance, Add fund ₹"+A((c.value.cutoffPrice*r.value).toFixed(2)),1),d(im,{onClick:t[2]||(t[2]=e=>b()),variant:"text",class:"text-none font-weight-black px-0",size:"small",color:"primary",to:"/funds"},{default:H(()=>[...t[11]||(t[11]=[W(" Click here ",-1)])]),_:1})])]),_:1})):ee("",!0)]),d(jg,{class:"tool-sty elevation-0 pt-4 mb-2 px-4 px-md-6 crd-trn",density:"compact"},{default:H(()=>[i("span",Rj,[t[13]||(t[13]=W(" Price : ",-1)),i("span",zj," ₹"+A(c.value.cutoffPrice?c.value.cutoffPrice.toFixed(2):"0.00"),1)]),d(zy),d(im,{disabled:r.value<c.value.minbidqty||c.value.ledger<c.value.cutoffPrice*r.value,onClick:t[3]||(t[3]=e=>g()),loading:s.value,"text-color":"white",class:"blk text-none rounded-pill elevation-0 px-4 ml-4",height:"40px"},{default:H(()=>[W(" Invest ₹"+A(c.value.cutoffPrice&&r.value?Math.round(c.value.cutoffPrice*r.value):"0"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},qj={class:"my-6"},Hj={__name:"StockOrderSrc",setup(e){const t=Q(),l=Y(),n=a(0);let o=null;function s(){const e=t.params,a=t.query,{_t:l,...s}=a,i={...e,...s};i&&(i.token||i.tsym)?(o={token:i.token,tsym:i.tsym,exch:i.exch,ls:i.ls||1,...i},"undefined"!=typeof window&&(window.__pendingSIPData=o),console.log("[StockOrderSrc] SIP data detected, switching to SIP tab:",o),n.value=4):("/orders/sip"===t.path||t.path.startsWith("/orders/sip"))&&(n.value=4)}function r(){}function u(e){const t=null==e?void 0:e.detail;[0,1,2,3,4,5,6,7].includes(t)&&(n.value=t)}return"undefined"!=typeof window&&(window.__pendingSIPData=null),f(()=>[t.params,t.query,t.path],()=>{console.log("[StockOrderSrc] Route changed:",{path:t.path,params:t.params,query:t.query}),s()},{deep:!0,immediate:!0}),f(n,async(e,a)=>{4===e&&o&&(console.log("[StockOrderSrc] SIP tab activated, triggering dialog with data:",o),await N(),await new Promise(e=>setTimeout(e,100)),await N(),setTimeout(()=>{if(o){console.log("[StockOrderSrc] Dispatching siporder-trigger event with data:",o);const e=new CustomEvent("siporder-trigger",{detail:o});window.dispatchEvent(e);const a={...o};o=null,"undefined"!=typeof window&&(window.__pendingSIPData=null),setTimeout(()=>{console.log("[StockOrderSrc] Retry dispatching siporder-trigger event"),window.dispatchEvent(new CustomEvent("siporder-trigger",{detail:a}))},500),setTimeout(()=>{"/orders"===t.path&&Object.keys(t.query).length>0&&(l.replace({path:"/orders",query:{}}),console.log("[StockOrderSrc] Cleared URL query params"))},1e3),console.log("[StockOrderSrc] SIP dialog trigger sent, cleared pending data")}},800))},{immediate:!1}),y(()=>{s(),window.addEventListener("order-tab",u)}),h(()=>{window.removeEventListener("order-tab",u)}),(e,t)=>(z(),R("div",null,[i("div",qj,[d(jg,{flat:"",dense:"",class:"tool-sty my-6 pl-4 crd-trn"},{default:H(()=>[d(iB,{modelValue:n.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.value=e),r],color:"primary",fixed:"","show-arrows":"",density:"compact"},{default:H(()=>[d(YV,{value:0,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[2]||(t[2]=[W("Orders Book",-1)])]),_:1}),d(YV,{value:1,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[3]||(t[3]=[W("Trade Book",-1)])]),_:1}),d(YV,{value:2,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[4]||(t[4]=[W("GTT Order",-1)])]),_:1}),d(YV,{value:3,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[5]||(t[5]=[W("Basket Order",-1)])]),_:1}),d(YV,{value:4,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[6]||(t[6]=[W("SIP Order",-1)])]),_:1}),d(YV,{value:5,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[7]||(t[7]=[W("Mutual funds",-1)])]),_:1}),d(YV,{value:6,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[8]||(t[8]=[W("IPOs",-1)])]),_:1}),d(YV,{value:7,class:"font-weight-bold subtitle-1 mb-0 text-none"},{default:H(()=>[...t[9]||(t[9]=[W("Bonds",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),d(ZV,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=e=>n.value=e),style:{"z-index":"0"}},{default:H(()=>[d(lB,{value:0},{default:H(()=>[d(wU)]),_:1}),d(lB,{value:1},{default:H(()=>[d(BU)]),_:1}),d(lB,{value:2},{default:H(()=>[d(aq)]),_:1}),d(lB,{value:3},{default:H(()=>[d(Dq)]),_:1}),d(lB,{value:4},{default:H(()=>[d(Zq)]),_:1}),d(lB,{value:5},{default:H(()=>[d(MH)]),_:1}),d(lB,{value:6},{default:H(()=>[d(Oj)]),_:1}),d(lB,{value:7},{default:H(()=>[d(Uj)]),_:1})]),_:1},8,["modelValue"])])]))}},jj={class:"fs-14 subtext--text font-weight-semibold lh-16 mb-0 txt-666"},Wj={key:0,class:"mb-4"},Yj={class:"fs-14 subtext--text font-weight-semibold text-666 mb-2 lh-24"},Gj={class:"font-weight-bold maintext--text float-right"},Kj={class:"fs-14 subtext--text font-weight-semibold text-666 mb-2 lh-24"},Xj={class:"font-weight-bold maintext--text float-right"},Jj={class:"fs-14 subtext--text font-weight-semibold text-666 mb-2 lh-24"},Qj={class:"font-weight-bold maintext--text float-right"},Zj={class:"fs-14 subtext--text font-weight-semibold text-666 mb-2 lh-24"},eW={class:"font-weight-bold maintext--text float-right"},tW={class:"fs-14 subtext--text font-weight-semibold text-666 mb-2 lh-24"},aW={class:"font-weight-bold maintext--text float-right"},lW={__name:"FundSrc",setup(e){const t=Qa(),l=a(!1),n=a({}),o=a(!1);async function s(){l.value=!0;const e=await Vae(!0);e&&"Ok"===e.stat?n.value=e:500!==e&&t.showSnackbar(2,e&&e.emsg?e.emsg:"Failed to load funds"),l.value=!1}function r(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("usession");if(!t||!a)return;let l="fund"===e?`https://fund.zebuetrade.com?uid=${t}&token=${a}`:`https://fund.zebuetrade.com/${e}?uid=${t}&token=${a}`;window.open(l,"_blank")}return y(()=>{!async function(){const e=await Dae(!0);e&&"Ok"===e.stat?n.value=e:500!==e&&e&&e.emsg&&t.showSnackbar(2,e.emsg)}()}),(e,t)=>(z(),R("div",null,[d(jg,{flat:"",dense:"",class:"crd-trn tool-sty"},{default:H(()=>[t[4]||(t[4]=i("div",null,[i("p",{class:"font-weight-bold fs-22 mb-0"},"Securities Funds"),i("p",{class:"fs-14 lh-16 font-weight-bold",style:{color:"#666666"}},"View margin breakup & add/withdraw fund.")],-1)),d(zy),d(wp,{class:"ml-3 cursor-p",onClick:s,color:"maintext",size:"24"},{default:H(()=>[...t[3]||(t[3]=[W("mdi-reload",-1)])]),_:1})]),_:1}),d(Ry,{class:"mt-7 ml-1"},{default:H(()=>[d(ky,{class:"pa-10",cols:"12",md:"6",style:{border:"1px solid #EBEEF0 !important","border-radius":"10px"},outlined:""},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"6",class:"pb-2"},{default:H(()=>[t[5]||(t[5]=i("p",{class:"fs-14 subtext--text font-weight-semibold mb-0 txt-666 lh-16"},"Total credits",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.total||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),d(ky,{cols:"12",md:"6",class:"pb-2"},{default:H(()=>[t[6]||(t[6]=i("p",{class:"fs-14 subtext--text font-weight-semibold mb-0 txt-666 lh-16"},"Available balance to trade",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.avbma||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),d(ky,{cols:"12",md:"6",class:"py-0 pb-2"},{default:H(()=>[t[7]||(t[7]=i("p",{class:"fs-14 subtext--text font-weight-semibold mb-0 txt-666 lh-16"},"Opening balance",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.opnbal||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),d(ky,{cols:"12",md:"6",class:"py-0 pb-2"},{default:H(()=>[t[8]||(t[8]=i("p",{class:"fs-12 subtext--text font-weight-semibold mb-0 txt-666 lh-16"},"Broker collateral",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.collateral||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),d(ky,{cols:"12",class:"py-0 pb-2"},{default:H(()=>[...t[9]||(t[9]=[i("p",{class:"fs-12 subtext--text font-weight-bold mb-0 txt-999 lh-16"},"Note: Only 80% of the amount after selling Demat holdings will be available to trade on the same day. The remaining 20% will be available to trade on the next day. Learn more.",-1)])]),_:1}),d(ky,{cols:"12",class:"py-0 pb-2"},{default:H(()=>[i("p",jj,[t[10]||(t[10]=W(" Margin used ",-1)),d(im,{icon:"",elevation:"0",onClick:t[0]||(t[0]=e=>o.value=!o.value)},{default:H(()=>[d(wp,{color:"#999"},{default:H(()=>[W(A(o.value?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})]),d(Fk,{variant:"underlined",value:`₹ ${n.value.marginused||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"]),o.value?(z(),R("div",Wj,[i("p",Yj,[t[11]||(t[11]=W("Span ",-1)),i("span",Gj,A(n.value.span||"0.00"),1)]),i("p",Kj,[t[12]||(t[12]=W("Exposure ",-1)),i("span",Xj,A(n.value.expo||"0.00"),1)]),i("p",Jj,[t[13]||(t[13]=W("Additional margin ",-1)),i("span",Qj,A(n.value.addmrg||"0.00"),1)]),i("p",Zj,[t[14]||(t[14]=W("Option premium ",-1)),i("span",eW,A(n.value.premium||"0.00"),1)]),i("p",tW,[t[15]||(t[15]=W("Unrealized expenses ",-1)),i("span",aW,A(n.value.brokerage||"0.00"),1)])])):ee("",!0)]),_:1}),d(ky,{cols:"12",md:"6",class:"py-0"},{default:H(()=>[t[16]||(t[16]=i("p",{class:"fs-14 subtext--text font-weight-semibold mb-0 lh-16 txt-666"},"Peak margin",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.peak_mar||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1}),d(ky,{cols:"12",md:"6",class:"py-0"},{default:H(()=>[t[17]||(t[17]=i("p",{class:"fs-14 subtext--text font-weight-semibold mb-0 lh-16 txt-666"},"Expiry margin",-1)),d(Fk,{variant:"underlined",value:`₹ ${n.value.expiry_mar||"0.00"}`,class:"mt-0 font-weight-bold",readonly:"",flat:"",color:"#999999"},null,8,["value"])]),_:1})]),_:1}),d(Ry,null,{default:H(()=>[d(ky,null,{default:H(()=>[d(cy,{outlined:"",elevation:"0",class:"mb-6 rounded-lg"},{default:H(()=>[d(im,{disabled:l.value,onClick:t[1]||(t[1]=e=>r("fund")),color:"black",class:"elevation-0 rounded-lg white--text",block:""},{default:H(()=>[...t[18]||(t[18]=[W(" Add fund ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),d(ky,null,{default:H(()=>[d(cy,{outlined:"",elevation:"0",class:"mb-6 rounded-lg"},{default:H(()=>[d(im,{disabled:l.value,onClick:t[2]||(t[2]=e=>r("withdrawal")),color:"black",class:"elevation-0 rounded-lg white--text",block:""},{default:H(()=>[...t[19]||(t[19]=[W(" Withdrawal ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},nW=zc(lW,[["__scopeId","data-v-72bbbb87"]]);
/*!
     * qrcode.vue v3.6.0
     * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
     * © 2017-PRESENT @scopewu(https://github.com/scopewu)
     * MIT License.
     */
var oW,sW,iW,rW,uW=function(){return uW=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},uW.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,function(e){var t=function(){function t(e,a,l,o){if(this.version=e,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var s=[],i=0;i<this.size;i++)s.push(!1);for(i=0;i<this.size;i++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var r=this.addEccAndInterleave(l);if(this.drawCodewords(r),-1==o){var u=1e9;for(i=0;i<8;i++){this.applyMask(i),this.drawFormatBits(i);var d=this.getPenaltyScore();d<u&&(o=i,u=d),this.applyMask(i)}}n(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}return t.encodeText=function(a,l){var n=e.QrSegment.makeSegments(a);return t.encodeSegments(n,l)},t.encodeBinary=function(a,l){var n=e.QrSegment.makeBytes(a);return t.encodeSegments([n],l)},t.encodeSegments=function(e,l,s,i,r,u){if(void 0===s&&(s=1),void 0===i&&(i=40),void 0===r&&(r=-1),void 0===u&&(u=!0),!(t.MIN_VERSION<=s&&s<=i&&i<=t.MAX_VERSION)||r<-1||r>7)throw new RangeError("Invalid value");var d,c;for(d=s;;d++){var p=8*t.getNumDataCodewords(d,l),m=o.getTotalBits(e,d);if(m<=p){c=m;break}if(d>=i)throw new RangeError("Data too long")}for(var v=0,h=[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH];v<h.length;v++){var f=h[v];u&&c<=8*t.getNumDataCodewords(d,f)&&(l=f)}for(var g=[],y=0,b=e;y<b.length;y++){var x=b[y];a(x.mode.modeBits,4,g),a(x.numChars,x.mode.numCharCountBits(d),g);for(var w=0,_=x.getData();w<_.length;w++){var k=_[w];g.push(k)}}n(g.length==c);var S=8*t.getNumDataCodewords(d,l);n(g.length<=S),a(0,Math.min(4,S-g.length),g),a(0,(8-g.length%8)%8,g),n(g.length%8==0);for(var C=236;g.length<S;C^=253)a(C,8,g);for(var I=[];8*I.length<g.length;)I.push(0);return g.forEach(function(e,t){return I[t>>>3]|=e<<7-(7&t)}),new t(d,l,I,r)},t.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},t.prototype.getModules=function(){return this.modules},t.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),a=t.length;for(e=0;e<a;e++)for(var l=0;l<a;l++)0==e&&0==l||0==e&&l==a-1||e==a-1&&0==l||this.drawAlignmentPattern(t[e],t[l]);this.drawFormatBits(0),this.drawVersion()},t.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,a=t,o=0;o<10;o++)a=a<<1^1335*(a>>>9);var s=21522^(t<<10|a);for(n(s>>>15==0),o=0;o<=5;o++)this.setFunctionModule(8,o,l(s,o));for(this.setFunctionModule(8,7,l(s,6)),this.setFunctionModule(8,8,l(s,7)),this.setFunctionModule(7,8,l(s,8)),o=9;o<15;o++)this.setFunctionModule(14-o,8,l(s,o));for(o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,l(s,o));for(o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,l(s,o));this.setFunctionModule(8,this.size-8,!0)},t.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var a=this.version<<12|e;for(n(a>>>18==0),t=0;t<18;t++){var o=l(a,t),s=this.size-11+t%3,i=Math.floor(t/3);this.setFunctionModule(s,i,o),this.setFunctionModule(i,s,o)}}},t.prototype.drawFinderPattern=function(e,t){for(var a=-4;a<=4;a++)for(var l=-4;l<=4;l++){var n=Math.max(Math.abs(l),Math.abs(a)),o=e+l,s=t+a;0<=o&&o<this.size&&0<=s&&s<this.size&&this.setFunctionModule(o,s,2!=n&&4!=n)}},t.prototype.drawAlignmentPattern=function(e,t){for(var a=-2;a<=2;a++)for(var l=-2;l<=2;l++)this.setFunctionModule(e+l,t+a,1!=Math.max(Math.abs(l),Math.abs(a)))},t.prototype.setFunctionModule=function(e,t,a){this.modules[t][e]=a,this.isFunction[t][e]=!0},t.prototype.addEccAndInterleave=function(e){var a=this.version,l=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(a,l))throw new RangeError("Invalid argument");for(var o=t.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a],s=t.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a],i=Math.floor(t.getNumRawDataModules(a)/8),r=o-i%o,u=Math.floor(i/o),d=[],c=t.reedSolomonComputeDivisor(s),p=0,m=0;p<o;p++){var v=e.slice(m,m+u-s+(p<r?0:1));m+=v.length;var h=t.reedSolomonComputeRemainder(v,c);p<r&&v.push(0),d.push(v.concat(h))}var f=[],g=function(e){d.forEach(function(t,a){(e!=u-s||a>=r)&&f.push(t[e])})};for(p=0;p<d[0].length;p++)g(p);return n(f.length==i),f},t.prototype.drawCodewords=function(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var a=0,o=this.size-1;o>=1;o-=2){6==o&&(o=5);for(var s=0;s<this.size;s++)for(var i=0;i<2;i++){var r=o-i,u=o+1&2?s:this.size-1-s;!this.isFunction[u][r]&&a<8*e.length&&(this.modules[u][r]=l(e[a>>>3],7-(7&a)),a++)}}n(a==8*e.length)},t.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var a=0;a<this.size;a++){var l=void 0;switch(e){case 0:l=(a+t)%2==0;break;case 1:l=t%2==0;break;case 2:l=a%3==0;break;case 3:l=(a+t)%3==0;break;case 4:l=(Math.floor(a/3)+Math.floor(t/2))%2==0;break;case 5:l=a*t%2+a*t%3==0;break;case 6:l=(a*t%2+a*t%3)%2==0;break;case 7:l=((a+t)%2+a*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][a]&&l&&(this.modules[t][a]=!this.modules[t][a])}},t.prototype.getPenaltyScore=function(){for(var e=0,a=0;a<this.size;a++){for(var l=!1,o=0,s=[0,0,0,0,0,0,0],i=0;i<this.size;i++)this.modules[a][i]==l?5==++o?e+=t.PENALTY_N1:o>5&&e++:(this.finderPenaltyAddHistory(o,s),l||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),l=this.modules[a][i],o=1);e+=this.finderPenaltyTerminateAndCount(l,o,s)*t.PENALTY_N3}for(i=0;i<this.size;i++){l=!1;var r=0;for(s=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][i]==l?5==++r?e+=t.PENALTY_N1:r>5&&e++:(this.finderPenaltyAddHistory(r,s),l||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),l=this.modules[a][i],r=1);e+=this.finderPenaltyTerminateAndCount(l,r,s)*t.PENALTY_N3}for(a=0;a<this.size-1;a++)for(i=0;i<this.size-1;i++){var u=this.modules[a][i];u==this.modules[a][i+1]&&u==this.modules[a+1][i]&&u==this.modules[a+1][i+1]&&(e+=t.PENALTY_N2)}for(var d=0,c=0,p=this.modules;c<p.length;c++)d=p[c].reduce(function(e,t){return e+(t?1:0)},d);var m=this.size*this.size,v=Math.ceil(Math.abs(20*d-10*m)/m)-1;return n(0<=v&&v<=9),n(0<=(e+=v*t.PENALTY_N4)&&e<=2568888),e},t.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=2*Math.floor((8*this.version+3*e+5)/(4*e-4)),a=[6],l=this.size-7;a.length<e;l-=t)a.splice(1,0,l);return a},t.getNumRawDataModules=function(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");var a=(16*e+128)*e+64;if(e>=2){var l=Math.floor(e/7)+2;a-=(25*l-10)*l-55,e>=7&&(a-=36)}return n(208<=a&&a<=29648),a},t.getNumDataCodewords=function(e,a){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][e]},t.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var a=[],l=0;l<e-1;l++)a.push(0);a.push(1);var n=1;for(l=0;l<e;l++){for(var o=0;o<a.length;o++)a[o]=t.reedSolomonMultiply(a[o],n),o+1<a.length&&(a[o]^=a[o+1]);n=t.reedSolomonMultiply(n,2)}return a},t.reedSolomonComputeRemainder=function(e,a){for(var l=a.map(function(e){return 0}),n=function(e){var n=e^l.shift();l.push(0),a.forEach(function(e,a){return l[a]^=t.reedSolomonMultiply(e,n)})},o=0,s=e;o<s.length;o++)n(s[o]);return l},t.reedSolomonMultiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var a=0,l=7;l>=0;l--)a=a<<1^285*(a>>>7),a^=(t>>>l&1)*e;return n(a>>>8==0),a},t.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];n(t<=3*this.size);var a=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(a&&e[0]>=4*t&&e[6]>=t?1:0)+(a&&e[6]>=4*t&&e[0]>=t?1:0)},t.prototype.finderPenaltyTerminateAndCount=function(e,t,a){return e&&(this.finderPenaltyAddHistory(t,a),t=0),t+=this.size,this.finderPenaltyAddHistory(t,a),this.finderPenaltyCountPatterns(a)},t.prototype.finderPenaltyAddHistory=function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)},t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t}();function a(e,t,a){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var l=t-1;l>=0;l--)a.push(e>>>l&1)}function l(e,t){return!!(e>>>t&1)}function n(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;var o=function(){function e(e,t,a){if(this.mode=e,this.numChars=t,this.bitData=a,t<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}return e.makeBytes=function(t){for(var l=[],n=0,o=t;n<o.length;n++)a(o[n],8,l);return new e(e.Mode.BYTE,t.length,l)},e.makeNumeric=function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var l=[],n=0;n<t.length;){var o=Math.min(t.length-n,3);a(parseInt(t.substring(n,n+o),10),3*o+1,l),n+=o}return new e(e.Mode.NUMERIC,t.length,l)},e.makeAlphanumeric=function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var l,n=[];for(l=0;l+2<=t.length;l+=2){var o=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l));a(o+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l+1)),11,n)}return l<t.length&&a(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l)),6,n),new e(e.Mode.ALPHANUMERIC,t.length,n)},e.makeSegments=function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var l=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)a(t,8,l);else if(t<16384)a(2,2,l),a(t,14,l);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");a(6,3,l),a(t,21,l)}return new e(e.Mode.ECI,0,l)},e.isNumeric=function(t){return e.NUMERIC_REGEX.test(t)},e.isAlphanumeric=function(t){return e.ALPHANUMERIC_REGEX.test(t)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var a=0,l=0,n=e;l<n.length;l++){var o=n[l],s=o.mode.numCharCountBits(t);if(o.numChars>=1<<s)return 1/0;a+=4+s+o.bitData.length}return a},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],a=0;a<e.length;a++)"%"!=e.charAt(a)?t.push(e.charCodeAt(a)):(t.push(parseInt(e.substring(a+1,a+3),16)),a+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}();e.QrSegment=o}(oW||(oW={})),sW=oW||(oW={}),iW=sW.QrCode||(sW.QrCode={}),rW=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}(),iW.Ecc=rW,function(e){var t,a;t=e.QrSegment||(e.QrSegment={}),a=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}(),t.Mode=a}(oW||(oW={}));var dW=oW,cW={L:dW.QrCode.Ecc.LOW,M:dW.QrCode.Ecc.MEDIUM,Q:dW.QrCode.Ecc.QUARTILE,H:dW.QrCode.Ecc.HIGH},pW=function(){try{(new Path2D).addPath(new Path2D)}catch(SJ){return!1}return!0}();function mW(e){return e in cW}function vW(e,t){void 0===t&&(t=0);var a=[];return e.forEach(function(e,l){var n=null;e.forEach(function(o,s){if(!o&&null!==n)return a.push("M".concat(n+t," ").concat(l+t,"h").concat(s-n,"v1H").concat(n+t,"z")),void(n=null);if(s!==e.length-1)o&&null===n&&(n=s);else{if(!o)return;null===n?a.push("M".concat(s+t,",").concat(l+t," h1v1H").concat(s+t,"z")):a.push("M".concat(n+t,",").concat(l+t," h").concat(s+1-n,"v1H").concat(n+t,"z"))}})}),a.join("")}function hW(e,t,a,l){var n=l.width,o=l.height,s=l.x,i=l.y,r=e.length+2*a,u=Math.floor(.1*t),d=r/t,c=(n||u)*d,p=(o||u)*d,m=null==s?e.length/2-c/2:s*d,v=null==i?e.length/2-p/2:i*d,h=null;if(l.excavate){var f=Math.floor(m),g=Math.floor(v);h={x:f,y:g,w:Math.ceil(c+m-f),h:Math.ceil(p+v-g)}}return{x:m,y:v,h:p,w:c,excavation:h}}function fW(e,t){return e.slice().map(function(e,a){return a<t.y||a>=t.y+t.h?e:e.map(function(e,a){return(a<t.x||a>=t.x+t.w)&&e})})}var gW={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:"L",validator:function(e){return mW(e)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(e){return["linear","radial"].indexOf(e)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},yW=uW(uW({},gW),{renderAs:{type:String,required:!1,default:"canvas",validator:function(e){return["canvas","svg"].indexOf(e)>-1}}}),bW=me({name:"QRCodeSvg",props:gW,setup:function(e){var t,l=a(0),n=a(""),o=function(){var a=e.value,o=e.level,s=e.margin>>>0,i=mW(o)?o:"L",r=dW.QrCode.encodeText(a,cW[i]).getModules();if(l.value=r.length+2*s,e.imageSettings.src){var u=hW(r,e.size,s,e.imageSettings);t={x:u.x+s,y:u.y+s,width:u.w,height:u.h},u.excavation&&(r=fW(r,u.excavation))}n.value=vW(r,s)},s=function(){if(!e.gradient)return null;var t="linear"===e.gradientType?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return D("linear"===e.gradientType?"linearGradient":"radialGradient",uW({id:"qr-gradient"},t),[D("stop",{offset:"0%",style:{stopColor:e.gradientStartColor}}),D("stop",{offset:"100%",style:{stopColor:e.gradientEndColor}})])};return o(),b(o),function(){return D("svg",{width:e.size,height:e.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(l.value," ").concat(l.value)},[D("defs",{},[s()]),D("rect",{width:"100%",height:"100%",fill:e.background}),D("path",{fill:e.gradient?"url(#qr-gradient)":e.foreground,d:n.value}),e.imageSettings.src&&D("image",uW({href:e.imageSettings.src},t))])}}}),xW=me({name:"QRCodeCanvas",props:gW,setup:function(e,t){var l=a(null),n=a(null),o=function(){var t=e.value,a=e.level,o=e.size,s=e.margin,i=e.background,r=e.foreground,u=e.gradient,d=e.gradientType,c=e.gradientStartColor,p=e.gradientEndColor,m=s>>>0,v=mW(a)?a:"L",h=l.value;if(h){var f=h.getContext("2d");if(f){var g=dW.QrCode.encodeText(t,cW[v]).getModules(),y=g.length+2*m,b=n.value,x={x:0,y:0,width:0,height:0},w=e.imageSettings.src&&null!=b&&0!==b.naturalWidth&&0!==b.naturalHeight;if(w){var _=hW(g,e.size,m,e.imageSettings);x={x:_.x+m,y:_.y+m,width:_.w,height:_.h},_.excavation&&(g=fW(g,_.excavation))}var k=window.devicePixelRatio||1,S=o/y*k;if(h.height=h.width=o*k,f.scale(S,S),f.fillStyle=i,f.fillRect(0,0,y,y),u){var C=void 0;(C="linear"===d?f.createLinearGradient(0,0,y,y):f.createRadialGradient(y/2,y/2,0,y/2,y/2,y/2)).addColorStop(0,c),C.addColorStop(1,p),f.fillStyle=C}else f.fillStyle=r;pW?f.fill(new Path2D(vW(g,m))):g.forEach(function(e,t){e.forEach(function(e,a){e&&f.fillRect(a+m,t+m,1,1)})}),w&&f.drawImage(b,x.x,x.y,x.width,x.height)}}};y(o),b(o);var s=t.attrs.style;return function(){return D(u,[D("canvas",uW(uW({},t.attrs),{ref:l,style:uW(uW({},s),{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")})})),e.imageSettings.src&&D("img",{ref:n,src:e.imageSettings.src,style:{display:"none"},onLoad:o})])}}}),wW=me({name:"Qrcode",render:function(){var e=this.$props,t=e.renderAs,a=e.value,l=e.size,n=e.margin,o=e.level,s=e.background,i=e.foreground,r=e.imageSettings,u=e.gradient,d=e.gradientType,c=e.gradientStartColor,p=e.gradientEndColor;return D("svg"===t?bW:xW,{value:a,size:l,margin:n,level:o,background:s,foreground:i,imageSettings:r,gradient:u,gradientType:d,gradientStartColor:c,gradientEndColor:p})},props:yW});const _W={__name:"NewApiKey",setup(e){const t=a(""),n=a(""),o=a(!1),s=a({url:"",primaryIp:"",backupIp:"",highVolumeOrders:!1}),i=a({url:"",primaryIp:"",backupIp:"",highVolumeOrders:""}),r=a(!1),u=a(""),c=l(()=>n.value.replace(/[A-Za-z0-9]/g,"X")),p=l(()=>s.value.url&&s.value.primaryIp&&!i.value.url&&!i.value.primaryIp&&!i.value.backupIp),m=()=>{o.value=!o.value},v=async e=>{try{await navigator.clipboard.writeText(e),kI.$emit("snack-event",1,"Copied to clipboard!")}catch(t){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),kI.$emit("snack-event",1,"Copied to clipboard!")}},f=()=>{var e;const t=null==(e=s.value.url)?void 0:e.trim();t?/^(https?:\/\/|www\.)[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.(com|in|org|net|io|co|edu|gov|info|biz|dev|app)(\/\S*)?$/i.test(t)?i.value.url="":i.value.url="Enter valid URL (Ex: https://mynt.zebuetrade.com or www.mynt.zebuetrade.com)":i.value.url="URL is required"},g=()=>{s.value.primaryIp?/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(s.value.primaryIp)?i.value.primaryIp="":i.value.primaryIp="Please enter a valid IP address":i.value.primaryIp="Primary IP Address is required"},b=()=>{s.value.backupIp?/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(s.value.backupIp)?i.value.backupIp="":i.value.backupIp="Please enter a valid IP address":i.value.backupIp=""},x=async()=>{var e,a,l,o;let i=await zae();if(console.log("key.ipaddr",i),i&&"Not_Ok"==i.stat){console.log("iffff1111");const e=u.value||sessionStorage.getItem("userid")||"";if(e){let a=await(async e=>{const t=(new TextEncoder).encode(e),a=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("")})(e);t.value=e+"_U",n.value=a,console.log("clientId:",t.value,typeof t.value)}else console.warn("User ID not available for clientId generation"),t.value=""}else i&&"Ok"==i.stat&&(console.log("elseeeeeeeeeeeeeee"),t.value=i.app_key||"",n.value=i.sec_code||"",s.value.url=i.red_url||"",s.value.primaryIp=(null==(a=null==(e=i.ipaddr)?void 0:e[0])?void 0:a.ipaddr)||"",s.value.backupIp=(null==(o=null==(l=i.ipaddr)?void 0:l[1])?void 0:o.ipaddr)||"")},w=async()=>{if(f(),g(),b(),s.value.highVolumeOrders?i.value.highVolumeOrders="":i.value.highVolumeOrders="This field is required",p.value){r.value=!0,console.log("=== API Key Update Data ==="),console.log("Client ID:",t.value),console.log("Secret Code:",n.value),console.log("URL:",s.value.url),console.log("Primary IP Address:",s.value.primaryIp),console.log("Backup IP Address:",s.value.backupIp||"Not provided"),console.log("High Volume Orders:",s.value.highVolumeOrders?"Yes":"No"),console.log("========================");const e={clientId:t.value,secretCode:n.value,url:s.value.url,primaryIp:s.value.primaryIp,backupIp:s.value.backupIp,highVolumeOrders:!!s.value.highVolumeOrders};let a=await Uae(e);r.value=!1,a&&"Ok"==a.stat?(kI.$emit("snack-event",1,"API Key Updated."),await x()):kI.$emit("snack-event",2,a&&a.emsg?a.emsg:"Unknown error")}else kI.$emit("snack-event",2,"Please fix the validation errors before updating")},_=async()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(u.value=sessionStorage.getItem("userid"),u.value&&await x()):kI.$emit("login")};return y(()=>{_(),kI.$emit("login-event"),kI.$on("user-event",()=>{_()})}),h(()=>{kI.$off("user-event")}),(e,a)=>(z(),q(hy,{fluid:"",class:"pa-0"},{default:H(()=>[d(Ry,{justify:"center",class:"ma-0"},{default:H(()=>[d(ky,null,{default:H(()=>[d(cy,{elevation:"0",variant:"outlined",style:{border:"1px solid #e0e0e0"},class:"api-key-card"},{default:H(()=>[d(uy,{class:"pa-6"},{default:H(()=>[d(Fk,{label:"Client Id","model-value":t.value,readonly:"",variant:"outlined",density:"compact",class:"mb-4"},{"append-inner":H(()=>[d(im,{icon:"",size:"small",onClick:a[0]||(a[0]=e=>v(t.value)),elevation:"0",title:"Copy Client ID"},{default:H(()=>[d(wp,{size:"small"},{default:H(()=>[...a[5]||(a[5]=[W("mdi-content-copy",-1)])]),_:1})]),_:1})]),_:1},8,["model-value"]),d(Fk,{label:"Secret Code","model-value":o.value?n.value:c.value,readonly:"",variant:"outlined",density:"compact",class:"mb-4",type:o.value?"text":"password"},{"append-inner":H(()=>[d(im,{icon:"",elevation:"0",size:"small",onClick:m,title:o.value?"Hide Secret Code":"Show Secret Code",class:"mr-1"},{default:H(()=>[d(wp,{size:"small"},{default:H(()=>[W(A(o.value?"mdi-eye-off":"mdi-eye"),1)]),_:1})]),_:1},8,["title"]),d(im,{icon:"",elevation:"0",size:"small",onClick:a[1]||(a[1]=e=>v(n.value)),title:"Copy Secret Code"},{default:H(()=>[d(wp,{size:"small"},{default:H(()=>[...a[6]||(a[6]=[W("mdi-content-copy",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","type"]),d(Fk,{modelValue:s.value.url,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.url=e),label:"URL",variant:"outlined",density:"compact",class:"mb-4","error-messages":i.value.url,error:!!i.value.url,onKeyup:f,onBlur:f,placeholder:"Enter URL",type:"url"},null,8,["modelValue","error-messages","error"]),d(Fk,{modelValue:s.value.primaryIp,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value.primaryIp=e),label:"Primary IP Address",variant:"outlined",density:"compact",class:"mb-4","error-messages":i.value.primaryIp,error:!!i.value.primaryIp,onBlur:g,placeholder:"Enter Primary IP Address"},null,8,["modelValue","error-messages","error"]),d(Fk,{modelValue:s.value.backupIp,"onUpdate:modelValue":a[4]||(a[4]=e=>s.value.backupIp=e),label:"Backup IP Address",variant:"outlined",density:"compact",class:"mb-4","error-messages":i.value.backupIp,error:!!i.value.backupIp,onBlur:b,placeholder:"Backup IP Address"},null,8,["modelValue","error-messages","error"]),d(im,{color:"primary",loading:r.value,size:"large",block:"",disabled:!p.value,onClick:w,elevation:"0",class:"text-none mt-4"},{default:H(()=>[...a[7]||(a[7]=[W(" Update ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},kW=zc(_W,[["__scopeId","data-v-e3485c8f"]]),SW=xe({...yk({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),CW=Ee()({name:"VRadio",props:SW(),setup(e,t){let{slots:a}=t;return Me(()=>{const t=bk.filterProps(e);return d(bk,w(t,{class:["v-radio",e.class],style:e.style,type:"radio"}),a)}),{}}}),IW=xe({height:{type:[Number,String],default:"auto"},...dk(),...Ct(hk(),["multiple"]),trueIcon:{type:Ue,default:"$radioOn"},falseIcon:{type:Ue,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),EW=Ee()({name:"VRadioGroup",inheritAttrs:!1,props:IW(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:o}=t;const s=p(),r=l(()=>e.id||`radio-group-${s}`),c=Fe(e,"modelValue"),m=a();return Me(()=>{const[t,a]=Kt(n),l=ck.filterProps(e),s=bk.filterProps(e),p=o.label?o.label({label:e.label,props:{for:r.value}}):e.label;return d(ck,w({ref:m,class:["v-radio-group",e.class],style:e.style},t,l,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,id:r.value}),{...o,default:t=>{let{id:l,messagesId:n,isDisabled:r,isReadonly:m}=t;return i(u,null,[p&&d(mk,{id:l.value},{default:()=>[p]}),d(gk,w(s,{id:l.value,"aria-describedby":n.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:r.value,readonly:m.value,"aria-labelledby":p?l.value:void 0,multiple:!1},a,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e}),o)])}})}),Wm({},m)}}),TW={class:"font-weight-medium subtext--text pl-2"},NW={class:"font-weight-medium subtext--text pl-2"},MW={class:"font-weight-medium subtext--text pl-2"},AW={class:"font-weight-medium subtext--text pl-2"},OW={class:"font-weight-medium subtext--text pl-2"},PW={class:"font-weight-medium subtext--text pl-2"},FW={class:"text-center",style:{"font-size":"14px","letter-spacing":"-0.7px","font-weight":"469","line-height":"10px",width:"fit-content"}},LW={class:"font-weight-medium subtext--text pl-2"},DW={key:0},VW={class:"font-weight-medium subtext--text pl-2"},BW={class:"font-weight-medium subtext--text pl-2"},$W={key:1,class:"font-weight-medium subtext--text mb-0 mt-5",style:{color:"red !important"}},RW={key:0},zW={class:"mb-4"},UW={class:"font-weight-bold fs-20 mb-0"},qW={__name:"SettingSrc",setup(e){const t=Re(),l=a(!1),n=a(!1),o=a(""),s=a(null),r=a(null),p=a([]),m=a(null),v=a(null),f=a(null),b=a([]),x=a([{title:"time",key:"time"},{title:"message",key:"msg",sortable:!1}]),_=g({NSE:"",BSE:"",MCX:"",NFO:"",CDS:"",BFO:"",BCD:""}),k=a(["NSE","BSE","MCX","NFO","CDS","BFO","BCD"]),S=a(["MIS","CNC","CO","BO"]),C=a(["NRML","MIS","CO","BO"]),I=a([{txt:"Market",val:"MKT"},{txt:"Limit",val:"LMT"},{txt:"SL Limit",val:"SL-LMT"},{txt:"SL Mkt",val:"SL-MKT"}]),E=a([{txt:"Market",val:"MKT"},{txt:"Limit",val:"LMT"},{txt:"SL Limit",val:"SL-LMT"}]),T=a([{txt:"Market",val:"MKT"},{txt:"Limit",val:"LMT"}]),N=a(["IOC","DAY"]),M=a(["IOC","EOS"]),O=a(["DAY"]),P=a("NSE"),F=a("MKT"),L=a("0"),D=a(5),V=g({}),B=a([{title:"User Id",align:"start",sortable:!1,key:"uid"},{title:"Source",key:"source",sortable:!1},{title:"Last loggedin time",key:"llt",sortable:!1},{title:"Actions",key:"actions",align:"start",sortable:!1}]),$=a([]),j=g({}),Y=a(null),G=a("1 month"),K=a(["1 month","3 month","6 month","10 years"]),X=g({}),J=a(!0),Q=a(null),Z=a(null),te=a(0),ae=a(["Base Key","OAuth Key"]),le=async e=>{let t={};e||(t=await qle()),t&&t.metadata&&t.metadata.mainpreitems?Object.assign(V,t.metadata):(Object.assign(V,{stickysrc:!1,quicksrc:!1,expos:"MKT",mktpro:5,qtypre:"0",mainpreitems:{NSE:["CNC","LMT","DAY",""],BSE:["CNC","LMT","DAY",""],MCX:["NRML","LMT","DAY",""],NFO:["NRML","LMT","DAY",""],CDS:["NRML","LMT","DAY",""],BFO:["NRML","LMT","EOS",""],BCD:["NRML","LMT","EOS",""]}}),await qle({clientid:s.value,metadata:V,source:"WEB"},!0)),n.value=ne(V.stickysrc),l.value=ne(V.quicksrc),F.value=V.expos,L.value=V.qtypre,D.value=V.mktpro,Object.assign(_,V.mainpreitems)},ne=e=>"true"===String(e).toLowerCase(),oe=async e=>{if(e)le(e),kI.$emit("snack-event",2,"Order preference has been reset.");else{V.qtypre=L.value,V.mktpro=D.value,V.mainpreitems=_,V.expos=F.value,V.quicksrc=l.value,V.stickysrc=n.value;var t={clientid:s.value,metadata:V,source:"WEB"};let e=await qle(t,!0);e&&e.status&&"updated"==e.status?kI.$emit("snack-event",1,"Order preference has been changed."):kI.$emit("snack-event",2,e&&e.emsg?e.emsg:e)}},se=async()=>{let e=await $ae();e&&e.uid&&e.apistatus?(e.exp=new Date(1e3*e.exd).toDateString(),e.dd=Math.round(Math.abs(new Date(e.exp)-new Date)/864e5+1),e.time=!1,m.value=e):e&&e.uid&&e.status?m.value=e:m.value=null;var t=s.value+(new Date).toLocaleDateString();let a=sessionStorage.getItem(t);a&&(b.value=JSON.parse(a));var l=await rae();l&&($.value=l)},ie=async e=>{const t=await Bae(e);t.uid&&t.pwd&&(Object.assign(X,t),o.value=`otpauth://totp/MYNT:${t.uid}?secret=${t.pwd}&issuer=MYNT WEB`,de(t.pwd),Z.value=setInterval(()=>{de(t.pwd)},5e3))},re=(e,t)=>{navigator.clipboard.writeText(e),kI.$emit("snack-event",1,`📋 ${t} copied to clipboard!`)},ue=e=>{const t=[];for(let a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return new Uint8Array(t)},de=async e=>{const t=(e=>{let t="",a="";for(let l=0;l<e.length;l++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(e.charAt(l).toUpperCase()).toString(2).padStart(5,"0");for(let l=0;l+8<=t.length;l+=8){const e=t.substr(l,8);a+=parseInt(e,2).toString(16).padStart(2,"0")}return a})(e),a=Math.floor((new Date).getTime()/1e3),l=Math.floor(a/30).toString(16).padStart(16,"0"),n=ue(l),o=ue(t),s=await window.crypto.subtle.importKey("raw",o,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]),i=await window.crypto.subtle.sign("HMAC",s,n),r=Array.from(new Uint8Array(i)).map(e=>e.toString(16).padStart(2,"0")).join(""),u=parseInt(r.substring(r.length-1),16),d=(2147483647&parseInt(r.substr(2*u,8),16))%1e6;Q.value=d.toString().padStart(6,"0")},ce=async()=>{if("dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")){if(r.value=sessionStorage.getItem("msession"),s.value=sessionStorage.getItem("userid"),s.value){await le(),await se();let e=localStorage.getItem("web.theme");v.value=e,await(async()=>{let e=await qae();e&&"Ok"==e.stat?Object.assign(j,e):kI.$emit("snack-event",3,"Failed to fetch client logs.")})(),await ie();let t=localStorage.getItem(`${s.value}_wllayout`);f.value=t&&"true"==t?"true":"false"}}else kI.$emit("login")};return y(()=>{var e,t;Y.value=tl.source,ce(),kI.$emit("login-event"),kI.$on("user-event",()=>{ce()}),e="unsub",t=[],kI.$emit("web-scoketOn",e,t,"is","settings")}),h(()=>{kI.$off("user-event"),Z.value&&clearInterval(Z.value)}),(e,a)=>(z(),R("div",null,[a[76]||(a[76]=i("p",{class:"font-weight-bold fs-22 mb-0 mt-4"},"Settings",-1)),a[77]||(a[77]=i("p",{class:"subtitle-2 subtext--text mb-4"},"Catch the log, setting up preference, get API key, and change themes. ",-1)),d(cy,{class:"mb-8 rounded-lg elevation-0 crd-trn",style:{border:"1px solid #e0e0e0"},variant:"outlined",width:"100%"},{default:H(()=>[d(Q_,{modelValue:p.value,"onUpdate:modelValue":a[25]||(a[25]=e=>p.value=e),multiple:"",flat:""},{default:H(()=>[d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[26]||(a[26]=[W("User details",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"2"},{default:H(()=>[...a[27]||(a[27]=[W("Name",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[28]||(a[28]=W(": ",-1)),i("span",TW,A(j.cliname?j.cliname:"-"),1)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[...a[29]||(a[29]=[W("Mobile no",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[30]||(a[30]=W(": ",-1)),i("span",NW,A(j.m_num?j.m_num:"-"),1)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[...a[31]||(a[31]=[W("Email",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[32]||(a[32]=W(": ",-1)),i("span",MW,A(j.email?j.email:"-"),1)]),_:1}),j.bankdetails&&j.bankdetails.length?(z(),q(ky,{key:0,cols:"12",class:"mt-2"},{default:H(()=>[...a[33]||(a[33]=[W("Bank:-",-1)])]),_:1})):ee("",!0),(z(!0),R(u,null,U(j.bankdetails||[],(e,t)=>(z(),q(ky,{cols:"10",key:t},{default:H(()=>[a[34]||(a[34]=W(" Name:",-1)),i("span",AW,A(e.bankn),1),a[35]||(a[35]=W(" | Account no:",-1)),i("span",OW,A(e.acctnum),1)]),_:2},1024))),128)),j.dp_acct_num&&j.dp_acct_num.length?(z(),q(ky,{key:1,cols:"12",class:"mt-2"},{default:H(()=>[...a[36]||(a[36]=[W("DP no:-",-1)])]),_:1})):ee("",!0),(z(!0),R(u,null,U(j.dp_acct_num||[],(e,t)=>(z(),q(ky,{cols:"10",key:t},{default:H(()=>[W(A(t+1)+": ",1),i("span",PW,A(e.dpnum),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[37]||(a[37]=[W("API key",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[d(iB,{modelValue:te.value,"onUpdate:modelValue":a[0]||(a[0]=e=>te.value=e),color:"maintext",class:"px-0"},{default:H(()=>[(z(!0),R(u,null,U(ae.value,(e,t)=>(z(),q(YV,{key:t,class:"text-none text-start",style:{"min-width":"fit-content"}},{default:H(()=>[i("span",FW,A(e),1)]),_:2},1024))),128))]),_:1},8,["modelValue"]),d(ZV,{modelValue:te.value,"onUpdate:modelValue":a[4]||(a[4]=e=>te.value=e)},{default:H(()=>[d(lB,null,{default:H(()=>[i("div",null,[null!=m.value?(z(),q(Ry,{key:0,"no-gutters":"",class:"mt-7"},{default:H(()=>[d(ky,{cols:"2"},{default:H(()=>[...a[38]||(a[38]=[W("Generate API",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[39]||(a[39]=W(": ",-1)),i("span",{class:"font-weight-medium subtext--text pl-2",style:c({color:m.value&&"EXPIRED"==m.value.apistatus?"red !important":"black"})},A(m.value&&m.value.apistatus?m.value.apistatus:"-"),5)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[...a[40]||(a[40]=[W("Expire date",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[41]||(a[41]=W(": ",-1)),i("span",LW,[W(A(m.value&&m.value.exp?m.value.exp:"-")+" ",1),m.value&&m.value.dd?(z(),R("span",DW,"("+A(m.value.dd)+" days)",1)):ee("",!0)])]),_:1}),d(ky,{cols:"2"},{default:H(()=>[...a[42]||(a[42]=[W("Vender code(vc)",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[43]||(a[43]=W(": ",-1)),i("span",VW,A(m.value&&m.value.uid?m.value.uid:"-"),1)]),_:1}),d(ky,{cols:"2",class:"d-flex align-center"},{default:H(()=>[...a[44]||(a[44]=[W("API key",-1)])]),_:1}),d(ky,{cols:"10"},{default:H(()=>[a[46]||(a[46]=W(": ",-1)),i("span",BW,A(m.value&&m.value.apikey?m.value.apikey:"-"),1),m.value&&m.value.apikey?(z(),q(im,{key:0,onClick:a[1]||(a[1]=e=>re(m.value.apikey,"API key")),variant:"text",size:"small",class:"primary--text font-weight-medium px-0 text-none ml-1"},{default:H(()=>[d(wp,{size:"12"},{default:H(()=>[...a[45]||(a[45]=[W("mdi-content-copy",-1)])]),_:1}),W(" "+A(m.value.time?"Copied":"Copy"),1)]),_:1})):ee("",!0)]),_:1})]),_:1})):ee("",!0),m.value&&"EXPIRED"==m.value.apistatus||m.value&&"NOT_PRESENT"==m.value.status?(z(),R("p",$W,"Your API key has expired, please generate a new one.")):ee("",!0),m.value&&"EXPIRED"==m.value.apistatus||m.value&&"NOT_PRESENT"==m.value.status?(z(),q(Ry,{key:2,"no-gutters":"",class:"mt-3"},{default:H(()=>[d(ky,{cols:"3"},{default:H(()=>[d(rI,{"bg-color":"secbg","append-inner-icon":"mdi-chevron-down",modelValue:G.value,"onUpdate:modelValue":a[2]||(a[2]=e=>G.value=e),density:"compact",items:K.value,"hide-details":"",class:"rounded-pill mr-3",variant:"solo",flat:""},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"8"},{default:H(()=>[d(im,{onClick:a[3]||(a[3]=e=>(async e=>{let t=await Rae(G.value,e);t&&"EXPIRED"==t.apistatus||t&&"ISSUED"==t.status||t&&"NOT_PRESENT"==t.status?(se(),kI.$emit("snack-event",1,"API key as generated")):kI.$emit("snack-event",2,t&&t.status?t.status:"Unknown error")})(m.value&&m.value.status?m.value.status:null)),color:"btnclr",class:"font-weight-bold text-none rounded-pill elevation-0 btntext--text px-6"},{default:H(()=>[...a[47]||(a[47]=[W(" Generate API key ",-1)])]),_:1})]),_:1})]),_:1})):ee("",!0)])]),_:1}),d(lB,null,{default:H(()=>[d(kW)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[48]||(a[48]=[W("TOTP",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[X&&X.pwd?(z(),R("div",RW,[a[51]||(a[51]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Authenticator QR",-1)),i("div",zW,[d(wW,{size:180,value:o.value},null,8,["value"])]),d(my,{class:"mb-2"}),a[52]||(a[52]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Authenticator Key",-1)),d(Fk,{"model-value":J.value?"••••••••••••••••••••••••••••••••••••••••••••••••":X.pwd,readonly:"",variant:"outlined",density:"compact",class:"mb-4","max-width":"500px",type:J.value?"password":"text"},{"append-inner":H(()=>[d(im,{onClick:a[5]||(a[5]=e=>J.value=!J.value),elevation:"0",icon:"",variant:"text",size:"small",class:"mr-1"},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[W(A(J.value?"mdi-eye-off":"mdi-eye"),1)]),_:1})]),_:1}),d(im,{onClick:a[6]||(a[6]=e=>re(X.pwd,"Auth key")),elevation:"0",icon:"",variant:"text",size:"small"},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...a[49]||(a[49]=[W("mdi-content-copy",-1)])]),_:1})]),_:1})]),_:1},8,["model-value","type"]),d(my,{class:"my-4"}),a[53]||(a[53]=i("p",{class:"font-weight-bold fs-14 mb-2"},"Your TOTP",-1)),d(im,{onClick:a[7]||(a[7]=e=>re(Q.value,"OTP")),elevation:"0",variant:"text"},{default:H(()=>[i("p",UW,A(Q.value?`${Q.value.slice(0,3)}\n                                    ${Q.value.slice(3,6)} `:"*** *** "),1),d(wp,{size:"20"},{default:H(()=>[...a[50]||(a[50]=[W("mdi-content-copy",-1)])]),_:1})]),_:1}),a[54]||(a[54]=i("p",{class:"subtext--text fs-12"},"This OTP will automatically update every 30 seconds.",-1))])):(z(),q(im,{key:1,variant:"text",class:"text-none pa-1 rounded-lg",color:"primary",onClick:a[8]||(a[8]=e=>ie(!0))},{default:H(()=>[...a[55]||(a[55]=[W("Click to generated new code",-1)])]),_:1}))]),_:1})]),_:1}),d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[56]||(a[56]=[W("Password & Security",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[d(im,{onClick:a[9]||(a[9]=e=>{window.location=`https://desk.zebuetrade.com/change_password/?url=${window.location.origin+window.location.pathname}&uid=${s.value}`}),class:"text-none font-weight-bold elevation-0",color:"secbg"},{default:H(()=>[...a[57]||(a[57]=[W("Change Password",-1)])]),_:1}),d(my,{class:"my-4"}),a[59]||(a[59]=i("p",{class:"font-weight-medium subtext--text"},"Loggedin sessions",-1)),d(PV,{headers:B.value,items:$.value,"items-per-page":5,class:"elevation-0","disable-sort":"","hide-default-footer":""},{"item.actions":H(({item:e})=>[d(im,{variant:"text",class:"font-weight-bold text-none px-0",color:"primary",onClick:t=>(async e=>{await Hae(e.source),e.source==tl.source?(await aae([s.value,r.value]),kI.$emit("storage-reset",!0)):se()})(e)},{default:H(()=>[...a[58]||(a[58]=[W(" Logout",-1)])]),_:1},8,["onClick"])]),"item.llt":H(({item:e})=>[i("span",null,A(new Date(1e3*e.llt).toLocaleString()),1)]),"item.source":H(({item:e})=>[d(T_,{color:"primary",dot:"","model-value":e.source==Y.value},{default:H(()=>[i("span",null,A(e.source),1)]),_:2},1032,["model-value"])]),_:2},1032,["headers","items"])]),_:1})]),_:1}),d(K_,{flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[60]||(a[60]=[W("Themes",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[d(EW,{"onUpdate:modelValue":[a[10]||(a[10]=e=>(()=>{var e,a=null;"default"==v.value?(a=(null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light",t.global.name.value=a):(t.global.name.value=v.value,a=v.value),localStorage.setItem("web.theme",v.value);const l=document.getElementById("theme-link");l&&l.setAttribute("href",`theme-${a}.css`)})()),a[11]||(a[11]=e=>v.value=e)],modelValue:v.value},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"6",md:"2"},{default:H(()=>[d(cy,{variant:"outlined",height:"60px",style:{border:"1px solid #e0e0e0"},class:"pa-3 rounded-lg",width:"100%"},{default:H(()=>[d(CW,{label:"Light",value:"light"})]),_:1})]),_:1}),d(ky,{cols:"6",md:"2"},{default:H(()=>[d(cy,{variant:"outlined",height:"60px",style:{border:"1px solid #e0e0e0"},class:"pa-3 rounded-lg",width:"100%"},{default:H(()=>[d(CW,{label:"Dark",value:"dark"})]),_:1})]),_:1}),d(ky,{cols:"6",md:"2"},{default:H(()=>[d(cy,{variant:"outlined",height:"60px",style:{border:"1px solid #e0e0e0"},class:"pa-3 rounded-lg",width:"100%"},{default:H(()=>[d(CW,{label:"Default",value:"default"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[61]||(a[61]=[W("Order Preference",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[a[68]||(a[68]=i("p",{class:"font-weight-medium subtext--text mb-2"},"Exchange default values",-1)),d(Ry,{"no-gutters":"",class:"mb-4"},{default:H(()=>[d(ky,{cols:"6",md:"3",class:"pr-2"},{default:H(()=>[d(rI,{class:"rounded-lg","append-inner-icon":"mdi-chevron-down",modelValue:P.value,"onUpdate:modelValue":a[12]||(a[12]=e=>P.value=e),items:k.value,label:"Exchange",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"6",md:"3",class:"px-1"},{default:H(()=>[d(rI,{class:"rounded-lg","append-inner-icon":"mdi-chevron-down",modelValue:_[P.value][0],"onUpdate:modelValue":a[13]||(a[13]=e=>_[P.value][0]=e),items:["NSE","BSE"].includes(P.value)?S.value:C.value,label:"Product",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"6",md:"3",class:"px-1"},{default:H(()=>[d(rI,{class:"rounded-lg","append-inner-icon":"mdi-chevron-down",modelValue:_[P.value][1],"onUpdate:modelValue":a[14]||(a[14]=e=>_[P.value][1]=e),"item-title":"txt","item-value":"val",items:["CO","BO"].includes(_[P.value][0])?E.value:I.value,label:"Order type",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"])]),_:1}),d(ky,{cols:"6",md:"3",class:"pl-2"},{default:H(()=>[d(rI,{class:"rounded-lg","append-inner-icon":"mdi-chevron-down",modelValue:_[P.value][2],"onUpdate:modelValue":a[15]||(a[15]=e=>_[P.value][2]=e),items:["BFO","BCD"].includes(P.value)?M.value:["BSE"].includes(P.value)?O.value:N.value,label:"Duration",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"])]),_:1})]),_:1}),a[69]||(a[69]=i("p",{class:"font-weight-medium subtext--text mb-2"},"Quantity preferences",-1)),d(EW,{modelValue:L.value,"onUpdate:modelValue":a[16]||(a[16]=e=>L.value=e),row:"",class:"mb-2"},{default:H(()=>[d(CW,{label:"Minimum quantity",value:"0"}),d(CW,{label:"Set no.of market lots",value:"1"})]),_:1},8,["modelValue"]),d(Ry,{"no-gutters":"",class:"mb-4"},{default:H(()=>[(z(!0),R(u,null,U(_,(e,t)=>(z(),q(ky,{cols:"4",sm:"3",md:"2",key:t,class:"pr-1"},{default:H(()=>[d(Fk,{disabled:"0"==L.value,class:"rounded-lg",modelValue:_[t][3],"onUpdate:modelValue":e=>_[t][3]=e,label:t,type:"number",placeholder:"1","hide-spin-buttons":"",variant:"outlined","hide-details":"",density:"compact"},null,8,["disabled","modelValue","onUpdate:modelValue","label"])]),_:2},1024))),128))]),_:1}),a[70]||(a[70]=i("p",{class:"font-weight-medium subtext--text mb-2"},"Market protection % preferences",-1)),d(Fk,{class:"max-w-280 mb-4 rounded-lg","append-inner-icon":"mdi-percent",modelValue:D.value,"onUpdate:modelValue":a[17]||(a[17]=e=>D.value=e),label:"Market protection %",type:"number","hide-spin-buttons":"",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue"]),a[71]||(a[71]=i("p",{class:"font-weight-medium subtext--text mb-2"},"Position exit",-1)),d(rI,{class:"max-w-280 mb-4 rounded-lg","append-inner-icon":"mdi-chevron-down",modelValue:F.value,"onUpdate:modelValue":a[18]||(a[18]=e=>F.value=e),"item-title":"txt","item-value":"val",items:T.value,label:"Order type",variant:"outlined","hide-details":"",density:"compact"},null,8,["modelValue","items"]),a[72]||(a[72]=i("p",{class:"font-weight-medium subtext--text mb-2"},"Order screen",-1)),d(Ry,{"no-gutters":"",class:"mb-4"},{default:H(()=>[d(ky,{cols:"12",sm:"6",class:"pr-2"},{default:H(()=>[d(cy,{class:"elevation-0 rounded-xl my-1 ordsrcpop-switch",color:"transparent"},{default:H(()=>[d(wk,{color:"mt-n01 pt-n01",modelValue:n.value,"onUpdate:modelValue":a[19]||(a[19]=e=>n.value=e),"hide-details":""},{label:H(()=>[d(Lb,{location:"bottom",color:"black"},{activator:H(({props:e})=>[i("p",w(e,{class:"pl-1 fw-6 fs-13 maintext--text mb-0 pt-1"}),[W(" Sticky "+A(n.value?"On":"Off")+" ",1),d(wp,{color:"maintext",size:"12"},{default:H(()=>[...a[62]||(a[62]=[W("mdi-information-outline",-1)])]),_:1})],16)]),default:H(()=>[a[63]||(a[63]=i("span",null,[W("The order screen stays "),i("br"),W(" open after order placement.")],-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(ky,{cols:"12",sm:"6",class:"pl-2"},{default:H(()=>[d(cy,{class:"elevation-0 rounded-xl my-1 ordsrcpop-switch",color:"transparent"},{default:H(()=>[d(wk,{color:"mt-n01 pt-n01",modelValue:l.value,"onUpdate:modelValue":a[20]||(a[20]=e=>l.value=e),"hide-details":""},{label:H(()=>[d(Lb,{location:"bottom",color:"black"},{activator:H(({props:e})=>[i("p",w(e,{class:"pl-1 fw-6 fs-13 maintext--text mb-0 pt-1"}),[W(" Quick Order screen "+A(l.value?"enable":"disable")+" ",1),d(wp,{color:"maintext",size:"12"},{default:H(()=>[...a[64]||(a[64]=[W("mdi-information-outline",-1)])]),_:1})],16)]),default:H(()=>[a[65]||(a[65]=i("span",null,[W("The Quick Order screen "),i("br"),W(" will enable default")],-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),d(Ry,{"no-gutters":"",class:"mt-4"},{default:H(()=>[d(ky,{cols:"auto"},{default:H(()=>[d(im,{onClick:a[21]||(a[21]=e=>oe()),color:"btnclr",class:"font-weight-bold text-none rounded-pill elevation-0 btntext--text mr-4 px-6"},{default:H(()=>[...a[66]||(a[66]=[W(" Apply ",-1)])]),_:1}),d(im,{onClick:a[22]||(a[22]=e=>oe(!0)),color:"secbg",class:"font-weight-bold text-none rounded-pill elevation-0 subtext--text px-6"},{default:H(()=>[...a[67]||(a[67]=[W(" Reset ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(K_,{class:"crd-trn",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[73]||(a[73]=[W("Layout Preference",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[a[74]||(a[74]=i("p",{class:"font-weight-medium subtext--text pb-0"},"WatchList",-1)),d(EW,{"onUpdate:modelValue":[a[23]||(a[23]=e=>{kI.$emit("wllayout-event")}),a[24]||(a[24]=e=>f.value=e)],modelValue:f.value},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"6",md:"2"},{default:H(()=>[d(cy,{height:"60px",style:{border:"1px solid #e0e0e0"},variant:"outlined",class:"pa-3 rounded-lg",width:"100%"},{default:H(()=>[d(CW,{label:"Left",value:"true"})]),_:1})]),_:1}),d(ky,{cols:"6",md:"2"},{default:H(()=>[d(cy,{height:"60px",style:{border:"1px solid #e0e0e0"},variant:"outlined",class:"pa-3 rounded-lg",width:"100%"},{default:H(()=>[d(CW,{label:"Right",value:"false"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(K_,{class:"",flat:""},{default:H(()=>[d(Y_,{class:"fs-16 font-weight-medium"},{default:H(()=>[...a[75]||(a[75]=[W("Log",-1)])]),_:1}),d(j_,{class:"fs-14"},{default:H(()=>[d(PV,{"hide-default-footer":"",headers:x.value,items:b.value,"must-sort":""},null,8,["headers","items"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]))}},HW={style:{position:"sticky !important",top:"80px","z-index":"1"}},jW={key:0,style:{"border-top":"1px solid #EBEEF0","background-color":"white"}},WW={key:0},YW=["innerHTML"],GW={style:{"font-size":"12px","line-height":"16px",color:"#999",margin:"0","font-weight":"400"}},KW={key:1,class:"mx-auto text-center py-16"},XW=["src"],JW={key:1,style:{"background-color":"white"}},QW={key:0},ZW={style:{"font-size":"14px","line-height":"20px",color:"#000",margin:"0 0 4px 0","font-weight":"400"}},eY={style:{"font-size":"12px","line-height":"16px",color:"#999",margin:"0","font-weight":"400"}},tY={key:1,class:"mx-auto text-center py-16"},aY=["src"],lY={key:2,style:{"background-color":"white"}},nY={key:0},oY={style:{"font-size":"14px","line-height":"20px",color:"#000",margin:"0 0 6px 0","font-weight":"400"}},sY={style:{"font-size":"13px","line-height":"20px",color:"#000",margin:"0 0 4px 0","font-weight":"400"}},iY={style:{"font-size":"12px","line-height":"16px",color:"#999",margin:"0","font-weight":"400"}},rY={key:1,class:"mx-auto text-center py-16"},uY=["src"],dY={key:3,style:{"background-color":"white"}},cY={class:"pos-rlt instrument-cell"},pY={class:"table-hov-text ws-p instrument-name"},mY={class:"instrument-exchange"},vY=["src"],hY={class:"table-cell-text"},fY={class:"table-cell-text"},gY={class:"table-cell-text value-cell"},yY={class:"table-cell-text order-no-cell"},bY={class:"mx-auto py-16 mt-16"},xY=["src"],wY=["src"],_Y={class:"font-weight-medium mt-5 fs-20 lh-24 mb-8"},kY={__name:"AlertScreen",setup(e){const t={4:Mf,5:Af,6:Of,7:Pf,9:Ff,10:Sf,11:Cf,12:If,13:Ef,31:Nf},n=Qa(),o=Y(),s=a(!1),r=a({b:[],p:[],m:[],s:[]}),c=a("notification"),p=a(""),m=a(!1),v=a({}),f=[{title:"Instrument",key:"tsym",sortable:!1},{title:"Alert type",key:"alert_type",sortable:!1},{title:"Condition",key:"condition",sortable:!1},{title:"Value",key:"d",sortable:!1,align:"end"},{title:"Order no.",key:"al_id",sortable:!1,align:"end"}],g=[{name:"Modify Alert",icon:11,type:"m-alert"},{name:"Exit/Cancel Alert",icon:12,type:"c-alert",hr:!0},{name:"Create GTT / GTC",icon:4,type:"cGTT"},{name:"Create Alert",icon:5,type:"alert"},{name:"Market Depth",icon:6,type:"depth"},{name:"Chart",icon:7,type:"chart",hr:!0},{name:"Fundamentals",icon:9,type:"Funda"},{name:"Details",icon:10,type:""}],b=l(()=>Array.isArray(r.value.p)?r.value.p:[]),_=l(()=>{let e=b.value;return p.value&&(e=e.filter(e=>function(e,t,a){if(!a)return!0;const l=a.toLowerCase();return t.some(t=>void 0!==(null==e?void 0:e[t])&&String(e[t]).toLowerCase().includes(l))}(e,["tsym","exch","ai_t","d"],p.value))),e.map(e=>{var t,a;return{...e,alert_type:e.ai_t?e.ai_t.split("_")[0]:"",condition:(null==(t=e.ai_t)?void 0:t.includes("_A"))?">":(null==(a=e.ai_t)?void 0:a.includes("_B"))?"<":"Select"}})});async function k(){var e,t,a,l;s.value=!0;const o={b:[],p:[],m:[],s:[]};o.b=await Lae("GetBrokerMsg"),o.p=await Lae("GetPendingAlert"),o.m=await Lae("ExchMsg"),o.s=await Lae("ExchStatus"),r.value.b=Array.isArray(o.b)?o.b.map(e=>{var t;return{...e,dmsg:(null==(t=e.dmsg)?void 0:t.includes("href="))?e.dmsg.replace("href=","target=_blank href="):e.dmsg}}):[],r.value.p=Array.isArray(o.p)?o.p:[],r.value.m=Array.isArray(o.m)?o.m:[],r.value.s=Array.isArray(o.s)?o.s:[],Array.isArray(o.b)||n.showSnackbar(2,(null==(e=o.b)?void 0:e.emsg)||o.b),Array.isArray(o.p)||n.showSnackbar(2,(null==(t=o.p)?void 0:t.emsg)||o.p),Array.isArray(o.m)||n.showSnackbar(2,(null==(a=o.m)?void 0:a.emsg)||o.m),Array.isArray(o.s)||n.showSnackbar(2,(null==(l=o.s)?void 0:l.emsg)||o.s),s.value=!1}function S(e,t,a,l,s,i){const r=t||(null==i?void 0:i.token),u=a||(null==i?void 0:i.exch),d=l||(null==i?void 0:i.tsym);if(!r||!u||!d)return console.error("Missing required parameters:",{type:e,token:t,exch:a,tsym:l,trantype:s,item:i}),void n.showSnackbar(2,"Invalid instrument data");t=r,a=u,l=d;try{if("c-alert"===e)v.value=i||{},m.value=!0;else if("alert"===e||"m-alert"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:l,trantype:s,item:i}}));else if("order"===e){const e="b"===s||"s"===s?s:"b";window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:t,exch:a,tsym:l,trantype:e,item:i}}))}else if("cGTT"===e)window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order-GTT",token:t,exch:a,tsym:l,trantype:"b"}}));else if("chart"===e){const n=[e,t,a,l];localStorage.setItem("ssdParams",JSON.stringify(n)),localStorage.setItem("ssdtsym",`${a}:${l}`),localStorage.setItem("ssdtoken",t),"stocks details"===o.currentRoute.value.name?window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:e,token:t,exch:a,tsym:l}})):o.push({name:"stocks details",params:{val:n},query:{type:e,token:t,exch:a,tsym:l}})}else{const n=[e,t,a,l];localStorage.setItem("ssdParams",JSON.stringify(n)),localStorage.setItem("ssdtsym",`${a}:${l}`),localStorage.setItem("ssdtoken",t),"stocks details"===o.currentRoute.value.name?window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:e,token:t,exch:a,tsym:l}})):o.push({name:"stocks details",params:{val:n},query:{type:e,token:t,exch:a,tsym:l}})}}catch(Wie){console.error("Error in setSSDtab:",Wie),n.showSnackbar(2,"Failed to open window")}}async function C(){s.value=!0;const e=sessionStorage.getItem("userid");if(!e||!v.value.al_id)return n.showSnackbar(2,"Invalid alert data"),s.value=!1,m.value=!1,void(v.value={});try{const t={uid:e,al_id:v.value.al_id},a=await Tae(t,"cancel");"OI deleted"===a.stat?(n.showSnackbar(1,`Alert has been Cancelled for ${v.value.tsym}`),await k()):n.showSnackbar(2,a.emsg||a)}catch(Wie){console.error("Error cancelling alert:",Wie),n.showSnackbar(2,"Failed to cancel alert")}finally{s.value=!1,m.value=!1,v.value={}}}function I(e){var t;"orders"!==e.detail&&"orders"!==(null==(t=e.detail)?void 0:t.type)||k()}return y(()=>{k(),window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:[],is:"alert",page:"alert"}})),window.addEventListener("orderbook-update",I)}),h(()=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[],is:"alert",page:"alert"}})),window.removeEventListener("orderbook-update",I)}),(e,a)=>(z(),R("div",null,[i("div",HW,[d(jg,{class:"tool-sty elevation-0 pl-4",height:"40px",style:{"background-color":"white !important"},dense:""},{default:H(()=>[d(iB,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),color:"#000",fixed:"","show-arrows":"",density:"comfortable",class:"alert-tabs"},{default:H(()=>[d(YV,{value:"notification",class:"alert-tab text-none"},{default:H(()=>[...a[6]||(a[6]=[W("Notification",-1)])]),_:1}),d(YV,{value:"exch_alert",class:"alert-tab text-none"},{default:H(()=>[...a[7]||(a[7]=[W("Exch alert",-1)])]),_:1}),d(YV,{value:"exch_status",class:"alert-tab text-none"},{default:H(()=>[...a[8]||(a[8]=[W("Exch status",-1)])]),_:1}),d(YV,{value:"pending_alert",class:"alert-tab text-none"},{default:H(()=>[...a[9]||(a[9]=[W("Pending alert",-1)])]),_:1})]),_:1},8,["modelValue"]),d(zy),d(wp,{class:"ml-3 cursor-p",onClick:k,color:"maintext",size:"24"},{default:H(()=>[...a[10]||(a[10]=[W("mdi-reload",-1)])]),_:1})]),_:1}),s.value?(z(),q(Op,{key:0,color:"primary",indeterminate:"",rounded:""})):ee("",!0)]),"notification"===c.value?(z(),R("div",jW,[r.value.b&&r.value.b.length?(z(),R("div",WW,[(z(!0),R(u,null,U(r.value.b,(e,t)=>(z(),R("div",{key:t,style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 16px"}},[i("p",{style:{"font-size":"14px","line-height":"20px",color:"#000",margin:"0 0 4px 0","font-weight":"400"},innerHTML:e.dmsg},null,8,YW),i("p",GW,A(e.norentm),1)]))),128))])):(z(),R("div",KW,[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,XW),a[11]||(a[11]=i("h5",{class:"txt-999 font-weight-regular"},"There is no notification here yet!",-1))]))])):"exch_alert"===c.value?(z(),R("div",JW,[r.value.m&&r.value.m.length?(z(),R("div",QW,[(z(!0),R(u,null,U(r.value.m,(e,t)=>(z(),R("div",{key:t,style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 16px"}},[i("p",ZW,A(e.exch)+": "+A(e.exch_msg),1),i("p",eY,A(e.exch_tm),1)]))),128))])):(z(),R("div",tY,[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,aY),a[12]||(a[12]=i("h5",{class:"txt-999 font-weight-regular"},"There is no exch alert here yet!",-1))]))])):"exch_status"===c.value?(z(),R("div",lY,[r.value.s&&r.value.s.length?(z(),R("div",nY,[(z(!0),R(u,null,U(r.value.s,(e,t)=>(z(),R("div",{key:t,style:{"border-bottom":"1px solid #EBEEF0",padding:"12px 16px"}},[i("p",oY,A(t+1)+". "+A(e.exch),1),i("p",sY,[a[14]||(a[14]=i("span",{style:{color:"#666"}},"Status: ",-1)),d(wp,{size:"10",color:e.exchstat.includes("OPEN")?"#1FD601":"#D60101",style:{margin:"0 4px"}},{default:H(()=>[...a[13]||(a[13]=[W(" mdi-checkbox-blank-circle ",-1)])]),_:1},8,["color"]),W(" "+A(e.exchstat)+" | ",1),a[15]||(a[15]=i("span",{style:{color:"#666"}},"Market type:",-1)),W(" "+A(e.exchtype),1)]),i("p",iY,A(e.description),1)]))),128))])):(z(),R("div",rY,[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:x(wf),alt:"no data"},null,8,uY),a[16]||(a[16]=i("h5",{class:"txt-999 font-weight-regular"},"There is no status here yet!",-1))]))])):"pending_alert"===c.value?(z(),R("div",dY,[d(PV,{loading:s.value,"must-sort":"","sort-by":[{key:"norentm",order:"desc"}],"hide-default-footer":"","fixed-header":"",class:"mt-3 alert-pending-table",style:{"border-radius":"4px",border:"1px solid #EBEEF0","background-color":"white"},height:"480px",headers:f,items:_.value,"items-per-page":-1,search:p.value},{"item.tsym":H(({item:e})=>[i("div",cY,[i("p",pY,[W(A(e.tsym||"")+" ",1),i("span",mY,A(e.exch||""),1)]),i("div",{onClick:a[3]||(a[3]=ie(()=>{},["stop"])),class:"pos-abs table-hov action-buttons"},[d(im,{onClick:ie(t=>S("order",e.token,e.exch,e.tsym,"b",e),["stop"]),class:"action-btn buy-btn elevation-0",size:"x-small"},{default:H(()=>[...a[17]||(a[17]=[W("B",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>S("order",e.token,e.exch,e.tsym,"s",e),["stop"]),class:"action-btn sell-btn elevation-0",size:"x-small"},{default:H(()=>[...a[18]||(a[18]=[W("S",-1)])]),_:1},8,["onClick"]),d(im,{onClick:ie(t=>S("chart",e.token,e.exch,e.tsym,null,e),["stop"]),class:"action-btn icon-btn elevation-0",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#000"},{default:H(()=>[...a[19]||(a[19]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(Lb,{location:"top",color:"black"},{activator:H(({props:t})=>[i("div",w(t,{onClick:a[1]||(a[1]=ie(()=>{},["stop"]))}),[d(im,{onClick:ie(t=>S("c-alert",e.token,e.exch,e.tsym,"",e),["stop"]),class:"action-btn icon-btn elevation-0",size:"x-small"},{default:H(()=>[d(wp,{size:"14",color:"#000"},{default:H(()=>[...a[20]||(a[20]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:H(()=>[a[21]||(a[21]=i("span",null,"Cancel",-1))]),_:2},1024),d(Lb,{location:"top",color:"black"},{activator:H(({props:t})=>[i("div",w(t,{onClick:a[2]||(a[2]=ie(()=>{},["stop"]))}),[d(im,{onClick:ie(t=>S("m-alert",e.token,e.exch,e.tsym,"",e),["stop"]),class:"action-btn icon-btn elevation-0",size:"x-small"},{default:H(()=>[d(wp,{size:"12",color:"#000"},{default:H(()=>[...a[22]||(a[22]=[W("mdi-pen",-1)])]),_:1})]),_:1},8,["onClick"])],16)]),default:H(()=>[a[23]||(a[23]=i("span",null,"Modify",-1))]),_:2},1024),d(Pb,{"close-on-click":"",location:"bottom",class:"table-menu"},{activator:H(({props:e})=>[d(im,w(e,{class:"action-btn icon-btn elevation-0",size:"x-small"}),{default:H(()=>[d(wp,{size:"16",color:"#000"},{default:H(()=>[...a[24]||(a[24]=[W("mdi-dots-horizontal",-1)])]),_:1})]),_:1},16)]),default:H(()=>[d(cy,{class:"table-menu-list"},{default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(),R(u,null,U(g,(a,l)=>i("div",{key:l},[d(cb,{onClick:t=>a.type?S(a.type,e.token,e.exch,e.tsym,"",e):null,class:"pl-3 pr-6"},{prepend:H(()=>{return["string"==typeof a.icon?(z(),q(wp,{key:0,icon:a.icon,size:"20",color:"#506D84"},null,8,["icon"])):a.icon>2?(z(),R("img",{key:1,width:"20px",class:"pl-1",src:(e=a.icon,t[e]||"")},null,8,vY)):(z(),q(wp,{key:2,icon:a.icon,size:"20",color:"#506D84"},null,8,["icon"]))];var e}),default:H(()=>[d(ub,{class:"subline--text ml-2 font-weight-medium fs-14"},{default:H(()=>[W(A(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"]),a.hr?(z(),q(my,{key:0,class:"mx-3"})):ee("",!0)])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)])])]),"item.alert_type":H(({item:e})=>[i("p",hY,A(e.alert_type||""),1)]),"item.condition":H(({item:e})=>[i("p",fY,A(e.condition||""),1)]),"item.d":H(({item:e})=>[i("p",gY,A(e.d||""),1)]),"item.al_id":H(({item:e})=>[i("p",yY,A(e.al_id||""),1)]),"no-data":H(()=>[i("div",bY,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,xY),a[25]||(a[25]=i("h4",{class:"txt-999 font-weight-regular caption"},"There is no pending alert here yet!",-1))])]),_:1},8,["loading","items","search"])])):ee("",!0),d(U_,{modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=e=>m.value=e),"max-width":"400"},{default:H(()=>[d(cy,{class:"rounded-xl elevation-0 text-center pt-8 pb-6 overflow-hidden"},{default:H(()=>[i("img",{src:x(Lf),alt:"cancel icon",width:"15%",class:"mx-auto text-center"},null,8,wY),i("p",_Y,[a[26]||(a[26]=W(" Are you sure you want to ",-1)),a[27]||(a[27]=i("br",null,null,-1)),a[28]||(a[28]=W(" cancel ",-1)),i("b",null,A(v.value.tsym),1),a[29]||(a[29]=W(" alert? ",-1))]),d(Ry,{class:"px-6","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:a[4]||(a[4]=e=>{m.value=!1,v.value={}}),color:"outline",class:"rounded-pill text-none subtext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[30]||(a[30]=[W("No",-1)])]),_:1})]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(im,{onClick:C,color:"btnclr",class:"rounded-pill text-none btntext--text font-weight-bold elevation-0",block:"",height:"40px"},{default:H(()=>[...a[31]||(a[31]=[W("Yes",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},SY=zc(kY,[["__scopeId","data-v-79740e5a"]]),CY=t("margins",{state:()=>({margins:{avbma:0,total:0,marginused:0},rawData:null}),actions:{setMargins(e){if(e&&"object"==typeof e){let t,a,l;this.rawData=e;const n=(e,t=0)=>{const a=Number(e);return isFinite(a)?a:t};if(void 0!==e.collateral||void 0!==e.cash){const o=n(e.collateral),s=n(e.brkcollamt),i=n(e.cash),r=n(e.payin),u=n(e.daycash);l=n(e.marginused),a=o+s+i+r-Math.abs(u),t=o+s+i-l+r-Math.abs(u)}else t=n(e.avbma),a=n(e.total),l=n(e.marginused);this.margins.avbma=t,this.margins.total=a,this.margins.marginused=l}}},getters:{formattedAvbma:e=>{const t=e.margins.avbma;return t>=1e7?`${(t/1e7).toFixed(2)}Cr`:t>=1e5?`${(t/1e5).toFixed(2)}L`:t>=1e3?`${(t/1e3).toFixed(2)}K`:`${t.toFixed(2)}`},formattedTotal:e=>{const t=e.margins.total;return t>=1e7?`${(t/1e7).toFixed(2)}Cr`:t>=1e5?`${(t/1e5).toFixed(2)}L`:t>=1e3?`${(t/1e3).toFixed(2)}K`:`${t.toFixed(2)}`},formattedMarginused:e=>{const t=e.margins.marginused;return t>=1e7?`${(t/1e7).toFixed(2)}Cr`:t>=1e5?`${(t/1e5).toFixed(2)}L`:t>=1e3?`${(t/1e3).toFixed(2)}K`:`${t.toFixed(2)}`}}}),IY={class:"mb-2"},EY={style:{display:"flex","align-items":"center",gap:"10px"},class:"ml-4"},TY={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0 10px"}},NY={class:"px-4 pt-4 pb-2 d-flex justify-space-between align-center"},MY={class:"px-4"},AY={class:"px-4 pb-2 d-flex justify-start align-center mt-3"},OY={style:{display:"flex","align-items":"center",gap:"10px"},class:"ml-4"},PY={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0 10px"}},FY={class:"px-4 pt-4 pb-2 d-flex justify-space-between align-center"},LY={class:"px-4"},DY={class:"px-4 pb-2 d-flex justify-start align-center mt-3"},VY={style:{display:"flex","align-items":"center","justify-content":"space-between"}},BY={style:{display:"flex","align-items":"center",gap:"10px"}},$Y={class:"fs-16 font-weight-bold mb-0"},RY={class:"fs-16 font-weight-bold mb-0"},zY={class:"fs-16 font-weight-bold mb-0"},UY={style:{display:"flex","align-items":"center","justify-content":"space-between"}},qY={style:{display:"flex","align-items":"center",gap:"10px"}},HY={class:"fs-16 font-weight-bold mb-0"},jY={class:"fs-16 font-weight-bold mb-0"},WY={__name:"StatBoard",setup(e){const t=Y(),n=ZR(),o=CY(),{orderCounts:s}=ve(n),{margins:p}=ve(o),m=l(()=>o.formattedAvbma),v=l(()=>o.formattedTotal),f=l(()=>o.formattedMarginused),g=a([]);let b={};const _=a([]),k=e=>{"port-order"===e.detail&&S()};async function S(){try{const[e,t,a]=await Promise.all([mae().catch(()=>null),hae(!0).catch(()=>null),Nae(!0).catch(()=>null)]);if(e&&e.response&&Array.isArray(e.response)&&e.response.length>0&&setTimeout(()=>{C({detail:e})},100),t&&(t.a||t.o)&&setTimeout(()=>{C({detail:t})},150),a){if(a.stat&&Array.isArray(a.stat)&&a.stat.length>=3)n.setOrderCounts(a.stat);else if(a.openorders||a.execorders||a.response){const e=a.response||[],t=a.openorders||e.filter(e=>"open"===e.way||"PENDING"===e.status||"OPEN"===e.status||"TRIGGER_PENDING"===e.status),l=a.execorders||e.filter(e=>"open"!==e.way),o=t.length,s=l.filter(e=>"COMPLETE"===e.status).length,i=l.filter(e=>"REJECTED"===e.status||"CANCELED"===e.status).length;n.setOrderCounts([o,s,i])}a.stat&&Array.isArray(a.stat)&&setTimeout(()=>{C({detail:a})},200)}}catch(e){console.error("❌ Error reloading all stats:",e)}}const C=e=>{try{const a=null==e?void 0:e.detail;if(!a)return;if(Array.isArray(a.response)){g.value=a.response||[],b={};for(let e=0;e<g.value.length;e++)b[g.value[e].token]=e;if(M(g.value),g.value.length)try{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:g.value,is:"stat-hold",page:"stocks"}});window.dispatchEvent(e)}catch(t){}}else a.a||a.o?O(a):a.stat&&Array.isArray(a.stat)?P(a.stat):void 0===a.avbma&&void 0===a.total&&void 0===a.marginused&&"Ok"!==a.stat||void 0===a.collateral&&void 0===a.cash&&void 0===a.marginused||(console.log("📊 Detected margins payload in handleTempEvent:",a),F(a))}catch(t){}},I=(e,t=0)=>{const a=Number(e);return isFinite(a)?a:t},E=(e,t)=>{const a=document.getElementById(e);a&&(a.innerText=t)},T=e=>{const t=I(e);return t>=1e7?`${(t/1e7).toFixed(2)}Cr`:t>=1e5?`${(t/1e5).toFixed(2)}L`:t>=1e3?`${(t/1e3).toFixed(2)}K`:`${t.toFixed(2)}`},M=e=>{let t=0,a=0,l=0,n=0,o=0,s=0,i=0,r=0;for(const d of e){const e=I(d.netqty??d.holdqty??d.qty),n=I(d.avgprc??d.uravgprc??d.avgprc1),s=I(d.ltp??d.lp),u=I(d.close??d.cp??d.prev_close_price);t+=e*n,a+=e*s,l+=e*(s-n),o+=e*(s-u),s-u>0?i++:s-u<0&&r++}n=t>0?l/t*100:0,s=a-o>0?o/(a-o)*100:0,E("holdstatinv",T(t)),E("holdstatval",T(a)),E("holdstatpnl",T(l)),E("holdstatpnlc",I(n).toFixed(2)),E("holdstatdpnl",T(o)),E("holdstatdpnlc",I(s).toFixed(2)),E("holdingsCount",String(e.length)),E("positiveHoldings",String(i)),E("negativeHoldings",String(r));const u=(e,t)=>{const a=document.getElementById(e);a&&(a.classList.remove("maingreen--text","mainred--text","subtext--text"),a.classList.add(t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"))};u("holdstatpnlcclr",l),u("holdstatdpnlcclr",o),N(()=>{const t=e.length,a=t>0?Math.round(i/t*100):0,l=100-a,n=document.getElementById("holdstatavdp"),o=document.getElementById("holdstatavdn");if(n&&(n.style.width=`${a}%`),o&&(o.style.width=`${l}%`),t>0){const e=null==n?void 0:n.querySelectorAll(".v-card");e&&e.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#ECF8F1":"#43A833"});const t=null==o?void 0:o.querySelectorAll(".v-card");t&&t.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#ffcdcd90":"#F23645"})}else{const e=null==n?void 0:n.querySelectorAll(".v-card"),t=null==o?void 0:o.querySelectorAll(".v-card");e&&e.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#F1F3F8":"#ffffff"}),t&&t.forEach((e,t)=>{e.style.backgroundColor=t%2==0?"#F1F3F8":"#ffffff"})}})},O=e=>{try{const t=Array.isArray(e.a)?e.a:[],a=Array.isArray(e.o)?e.o:[];_.value=t;let l=0,n=0,o=0,s=0,i=0,r=0;for(const e of t){const t=I(e.netqty),a=I(e.avgprc??e.netavgprc??e.dayavgprc),s=I(e.lp??e.ltp),u=I(e.crpnl??e.rpnl);l+=Math.abs(t)*a,s>0&&a>0&&0!==t&&(n+=(s-a)*t),o+=u,u>0?i++:u<0&&r++}for(const e of a){const t=I(e.netqty),a=I(e.avgprc??e.netavgprc??e.dayavgprc),l=I(e.lp??e.ltp);l>0&&a>0&&0!==t&&(s+=(l-a)*t)}E("poststatval",T(l)),E("poststatmtm",T(n)),E("poststatpnl",T(o)),E("poststatopnl",T(s)),E("positionsCount",String(t.length)),E("openPositionsCount",String(a.length)),E("positivePositions",String(i)),E("negativePositions",String(r));const u=(e,t)=>{const a=document.getElementById(e);a&&(a.classList.remove("maingreen--text","mainred--text","subtext--text"),a.classList.add(t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"))};u("poststatmtmclr",n),u("poststatpnlclr",o),u("poststatopnlclr",s),N(()=>{const e=t.length,a=e>0?Math.round(i/e*100):0,l=100-a,n=document.getElementById("poststatavdp"),o=document.getElementById("poststatavdn");n&&(n.style.width=`${a}%`),o&&(o.style.width=`${l}%`)})}catch(t){}},P=e=>{try{if(!Array.isArray(e)||e.length<3)return;n.setOrderCounts(e)}catch(t){}},F=e=>{try{o.setMargins(e)}catch(t){console.error("❌ Error updating margins stats:",t)}};let L=null,D=!1;function V(e,a){n.setOrderFilter(e,a),t.push("/orders/book")}async function B(){if(!D){D=!0;try{const e=await mae();e&&e.response&&Array.isArray(e.response)&&e.response.length>0&&setTimeout(()=>{C({detail:e})},200)}catch(e){}try{const e=await hae(!0);e&&(e.a||e.o)&&setTimeout(()=>{C({detail:e})},200)}catch(e){}try{const e=await Nae(!0);if(e){if(e.stat&&Array.isArray(e.stat)&&e.stat.length>=3)n.setOrderCounts(e.stat);else if(e.openorders||e.execorders||e.response){const t=e.response||[],a=e.openorders||t.filter(e=>"open"===e.way||"PENDING"===e.status||"OPEN"===e.status||"TRIGGER_PENDING"===e.status),l=e.execorders||t.filter(e=>"open"!==e.way),o=a.length,s=l.filter(e=>"COMPLETE"===e.status).length,i=l.filter(e=>"REJECTED"===e.status||"CANCELED"===e.status).length;n.setOrderCounts([o,s,i])}e.stat&&Array.isArray(e.stat)&&setTimeout(()=>{C({detail:e})},250)}}catch(e){}try{const e=await Dae(!1);e&&"Ok"===e.stat&&(o.setMargins(e),setTimeout(()=>{C({detail:e})},300))}catch(t){console.error("❌ Error loading initial margins:",t)}}}const j=()=>{S()},G=()=>{},K=()=>{};y(async()=>{window.addEventListener("tempdata-update",C),window.addEventListener("web-scoketConn",X),window.addEventListener("orderbook-update",k),window.addEventListener("statboard-event",j),window.addEventListener("position-update",G),window.addEventListener("funds-update",K),await new Promise(e=>setTimeout(e,100));const e=sessionStorage.getItem("userid"),t=sessionStorage.getItem("msession");if(e&&t)B();else{let e=0;L=setInterval(()=>{e++;const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");t&&a?(clearInterval(L),L=null,B()):e>40&&(clearInterval(L),L=null)},300)}}),h(()=>{window.removeEventListener("tempdata-update",C),window.removeEventListener("web-scoketConn",X),window.removeEventListener("orderbook-update",k),window.removeEventListener("statboard-event",j),window.removeEventListener("position-update",G),window.removeEventListener("funds-update",K),L&&clearInterval(L)});const X=e=>{try{const t=e.detail;if(!Array.isArray(t)||t.length<1)return;const a=t[0],l=a.tk||a.token;if(!l||null==b[l])return;const n=b[l],o=Number(a.lp||a.ltp),s=Number(a.c||a.prev_close_price);isFinite(o)&&g.value[n]&&(g.value[n].ltp=o),isFinite(s)&&g.value[n]&&(g.value[n].close=s),M(g.value)}catch(t){}};return(e,t)=>{const a=$("v-list-item-avatar"),l=$("v-list-item-content");return z(),R("div",IY,[d(Ry,null,{default:H(()=>[d(ky,{sm:"6",cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 px-2 pt-3 pb-4 px-1 rounded-0 stat-card rounded"},{default:H(()=>[i("div",EY,[d(a,{tile:"",size:"24"},{default:H(()=>[...t[3]||(t[3]=[i("img",{src:$f,alt:""},null,-1)])]),_:1}),t[4]||(t[4]=i("p",{class:"font-weight-bold fs-18"},"Holdings",-1))]),d(cy,{class:"elevation-0 card-border py-1 mx-4 mt-2 cardbg px-2 py-3"},{default:H(()=>[i("div",TY,[d(l,{style:{"max-width":"22%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[5]||(t[5]=[i("span",{id:"holdstatinv"},"0.00",-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px"}},{default:H(()=>[...t[6]||(t[6]=[W("Invested",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"22%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[7]||(t[7]=[i("span",{id:"holdstatval"},"0.00",-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px"}},{default:H(()=>[...t[8]||(t[8]=[W("Current",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"30%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[9]||(t[9]=[i("span",{id:"holdstatpnlcclr",class:"subtext--text"},[i("span",{id:"holdstatpnl"},"0.00")],-1),i("span",{class:"subtext--text",style:{"font-size":"14px !important"}},[W(" ("),i("span",{id:"holdstatpnlc"},"0.00"),W("%) ")],-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[10]||(t[10]=[W("Total P&L",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"26%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[11]||(t[11]=[i("span",{id:"holdstatdpnlcclr",class:"subtext--text"},[i("span",{id:"holdstatdpnl"},"0.00")],-1),i("span",{class:"subtext--text",style:{"font-size":"14px !important"}},[W(" ("),i("span",{id:"holdstatdpnlc"},"0.00"),W("%) ")],-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[12]||(t[12]=[W("Today P&L",-1)])]),_:1})]),_:1})])]),_:1}),i("div",NY,[t[14]||(t[14]=i("p",{class:"subtext--text fs-14 mb-0"},[W("No of holdings - "),i("b",{id:"holdingsCount"},"0")],-1)),d(im,{to:"/holdings",text:"",class:"fs-12 text-none px-0 primary--text",small:"",dense:"",variant:"flat",color:"0"},{default:H(()=>[...t[13]||(t[13]=[W("View details",-1)])]),_:1})]),i("div",MY,[d(cy,{disabled:0===g.value.length,class:"elevation-0 d-inline-flex",style:{width:"100%","background-color":"#F1F3F8"}},{default:H(()=>[d(cy,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"holdstatavdp",style:{width:"0%"}},{default:H(()=>[(z(),R(u,null,U(250,e=>i("div",{key:`ph-${e}`},[e%2==0?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===g.value.length?"#F1F3F8":"#ECF8F1"};`)},null,8,["style"])):(z(),q(cy,{key:1,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===g.value.length?"#ffffff":"#43A833"};`)},null,8,["style"]))])),64))]),_:1}),d(cy,{class:"elevation-0 rounded-0 crd-trn",style:{width:"4px","min-width":"4px"}}),d(cy,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"holdstatavdn",style:{width:"0%"}},{default:H(()=>[(z(),R(u,null,U(250,e=>i("div",{key:`nh-${e}`},[e%2==0?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===g.value.length?"#F1F3F8":"#ffcdcd90"};`)},null,8,["style"])):(z(),q(cy,{key:1,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===g.value.length?"#ffffff":"#F23645"};`)},null,8,["style"]))])),64))]),_:1})]),_:1},8,["disabled"])]),i("div",AY,[d(R_,{small:"",class:"mr-2",color:"success",style:{border:"1px solid #43A833"},outlined:""},{default:H(()=>[...t[15]||(t[15]=[i("img",{src:Gf,class:"mr-1",alt:""},null,-1),i("span",{id:"positiveHoldings",class:"mr-1"},"0",-1),W(" Positive ",-1)])]),_:1}),d(R_,{small:"",color:"error",style:{border:"1px solid #F23645"},outlined:""},{default:H(()=>[...t[16]||(t[16]=[i("img",{src:Wf,class:"mr-1",alt:""},null,-1),i("span",{id:"negativeHoldings",class:"mr-1"},"0",-1),W(" Negative ",-1)])]),_:1})])]),_:1})]),_:1}),d(ky,{sm:"6",cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 px-2 pt-3 pb-4 px-1 rounded-0 stat-card rounded"},{default:H(()=>[i("div",OY,[d(a,{tile:"",size:"20"},{default:H(()=>[...t[17]||(t[17]=[i("img",{src:Kf,width:"22",alt:""},null,-1)])]),_:1}),t[18]||(t[18]=i("p",{class:"font-weight-bold fs-18"},"Position ",-1))]),d(cy,{class:"elevation-0 card-border py-1 mx-4 mt-2 cardbg px-2 py-3"},{default:H(()=>[i("div",PY,[d(l,{style:{"max-width":"22%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[19]||(t[19]=[i("span",{id:"poststatval"},"0.00",-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[20]||(t[20]=[W("Trade value",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"22%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[21]||(t[21]=[i("span",{id:"poststatmtmclr",class:"subtext--text"},[i("span",{id:"poststatmtm"},"0.00")],-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[22]||(t[22]=[W("MTM",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"30%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[23]||(t[23]=[i("span",{id:"poststatpnlclr",class:"subtext--text"},[i("span",{id:"poststatpnl"},"0.00")],-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[24]||(t[24]=[W("Total P&L",-1)])]),_:1})]),_:1}),d(l,{style:{"max-width":"26%"}},{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"16px !important"}},{default:H(()=>[...t[25]||(t[25]=[i("span",{id:"poststatopnlclr",class:"subtext--text"},[i("span",{id:"poststatopnl"},"0.00")],-1)])]),_:1}),d(rb,{class:"font-weight-regular",style:{"font-size":"14px !important"}},{default:H(()=>[...t[26]||(t[26]=[W("Open P&L",-1)])]),_:1})]),_:1})])]),_:1}),i("div",FY,[t[28]||(t[28]=i("p",{class:"subtext--text fs-14 mb-0"},[W("No of positions - "),i("b",{id:"positionsCount"},"0"),W(" / Open positions - "),i("b",{id:"openPositionsCount"},"0")],-1)),d(im,{to:"/positions",text:"",class:"fs-12 text-none px-0 primary--text",small:"",dense:"",variant:"flat",color:"0"},{default:H(()=>[...t[27]||(t[27]=[W("View details",-1)])]),_:1})]),i("div",LY,[d(cy,{disabled:0===_.value.length,class:"elevation-0 d-inline-flex",style:{width:"100%","background-color":"#F1F3F8"}},{default:H(()=>[d(cy,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"poststatavdp",style:{width:"0%"}},{default:H(()=>[(z(),R(u,null,U(250,e=>i("div",{key:`pp-${e}`},[e%2==0?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===_.value.length?"#F1F3F8":"#ECF8F1"};`)},null,8,["style"])):(z(),q(cy,{key:1,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===_.value.length?"#ffffff":"#43A833"};`)},null,8,["style"]))])),64))]),_:1}),d(cy,{class:"elevation-0 rounded-0 crd-trn",style:{width:"4px","min-width":"4px"}}),d(cy,{class:"elevation-0 rounded-0 crd-trn overflow-hidden d-inline-flex",id:"poststatavdn",style:{width:"0%"}},{default:H(()=>[(z(),R(u,null,U(250,e=>i("div",{key:`np-${e}`},[e%2==0?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===_.value.length?"#F1F3F8":"#ffcdcd90"};`)},null,8,["style"])):(z(),q(cy,{key:1,class:"elevation-0 rounded-0 py-4",style:c(`width: 4px; min-width: 4px; background-color: ${0===_.value.length?"#ffffff":"#F23645"};`)},null,8,["style"]))])),64))]),_:1})]),_:1},8,["disabled"])]),i("div",DY,[d(R_,{small:"",class:"mr-2",color:"success",style:{border:"1px solid #43A833"},outlined:""},{default:H(()=>[...t[29]||(t[29]=[i("img",{src:Gf,class:"mr-1",alt:""},null,-1),i("span",{id:"positivePositions",class:"mr-1"},"0",-1),W("Positive ",-1)])]),_:1}),d(R_,{small:"",color:"error",style:{border:"1px solid #F23645"},outlined:""},{default:H(()=>[...t[30]||(t[30]=[i("img",{src:Wf,class:"mr-1",alt:""},null,-1),i("span",{id:"negativePositions",class:"mr-1"},"0",-1),W(" Negative ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1}),d(Ry,null,{default:H(()=>[d(ky,{sm:"6",cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 px-2 pt-1 pb-4 rounded-0 stat-card rounded"},{default:H(()=>[i("div",VY,[i("div",BY,[d(a,{tile:"",size:"20"},{default:H(()=>[...t[31]||(t[31]=[i("img",{src:Yf,alt:""},null,-1)])]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"18px !important"}},{default:H(()=>[...t[32]||(t[32]=[W("Orders",-1)])]),_:1})]),_:1})]),d(l,null,{default:H(()=>[d(im,{class:"ml-auto",to:"/orders",icon:"",style:{"background-color":"transparent !important","box-shadow":"none !important",color:"#0037B7 !important"}},{default:H(()=>[d(wp,{size:"26"},{default:H(()=>[...t[33]||(t[33]=[W("mdi-arrow-right",-1)])]),_:1})]),_:1})]),_:1})]),d(cy,{class:"elevation-0 card-border py-3 mx-4 mt-2 cardbg"},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"4"},{default:H(()=>[i("div",{class:"text-center cursor-pointer",onClick:t[0]||(t[0]=e=>V("orders",null))},[i("p",$Y,A(x(s).open),1),t[34]||(t[34]=i("span",{class:"fs-14 font-weight-regular"},"Open Orders",-1))])]),_:1}),d(ky,{cols:"4"},{default:H(()=>[i("div",{class:"text-center cursor-pointer",onClick:t[1]||(t[1]=e=>V("executed",null))},[i("p",RY,A(x(s).executed),1),t[35]||(t[35]=i("span",{class:"fs-14 font-weight-regular"},"Execute Orders",-1))])]),_:1}),d(ky,{cols:"4"},{default:H(()=>[i("div",{class:"text-center cursor-pointer",onClick:t[2]||(t[2]=e=>V("executed","REJECTED"))},[i("p",zY,A(x(s).rejected),1),t[36]||(t[36]=i("span",{class:"fs-14 font-weight-regular"},"Rejected",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(ky,{sm:"6",cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 px-2 pt-1 pb-4 rounded-0 stat-card rounded"},{default:H(()=>[i("div",UY,[i("div",qY,[d(a,{tile:"",size:"20"},{default:H(()=>[...t[37]||(t[37]=[i("img",{src:jf,alt:""},null,-1)])]),_:1}),d(l,null,{default:H(()=>[d(ub,{class:"font-weight-medium",style:{"font-size":"18px !important"}},{default:H(()=>[...t[38]||(t[38]=[W("Margins",-1)])]),_:1})]),_:1})]),d(l,null,{default:H(()=>[d(im,{class:"ml-auto",to:"/funds",icon:"",style:{"background-color":"transparent !important","box-shadow":"none !important",color:"#0037B7 !important"}},{default:H(()=>[d(wp,null,{default:H(()=>[...t[39]||(t[39]=[W("mdi-arrow-right",-1)])]),_:1})]),_:1})]),_:1})]),d(cy,{class:"elevation-0 card-border py-3 mx-4 mt-2 cardbg"},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"4"},{default:H(()=>[d(Lb,{top:"",color:"black"},{activator:H(({on:e,attrs:a})=>[i("div",w(a,te(e,!0),{class:"text-center"}),[i("p",{style:{color:"black !important"},class:r(["fs-16 font-weight-bold mb-0",x(p).avbma<0?"mainred--text":"subtext--text"])},A(m.value),3),t[40]||(t[40]=i("span",{class:"fs-14 font-weight-regular"},"Available balance",-1))],16)]),default:H(()=>[i("span",null,A(m.value),1)]),_:1})]),_:1}),d(ky,{cols:"4"},{default:H(()=>[d(Lb,{top:"",color:"black"},{activator:H(({on:e,attrs:a})=>[i("div",w(a,te(e,!0),{class:"text-center"}),[i("p",HY,A(v.value),1),t[41]||(t[41]=i("span",{class:"fs-14 font-weight-regular"},"Total credits",-1))],16)]),default:H(()=>[i("span",null,A(v.value),1)]),_:1})]),_:1}),d(ky,{cols:"4"},{default:H(()=>[d(Lb,{top:"",color:"black"},{activator:H(({on:e,attrs:a})=>[i("div",w(a,te(e,!0),{class:"text-center"}),[i("p",jY,A(f.value),1),t[42]||(t[42]=i("span",{class:"fs-14 font-weight-regular"},"Margin used",-1))],16)]),default:H(()=>[i("span",null,A(f.value),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},YY=zc(WY,[["__scopeId","data-v-089cd79b"]]),GY={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function KY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i("div",{class:r(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[t])}function XY(e){const[t,a]=e.split("@");return Array.from({length:a}).map(()=>JY(t))}function JY(e){let t=[];if(!e)return t;const a=GY[e];if(e===a);else{if(e.includes(","))return QY(e);if(e.includes("@"))return XY(e);a.includes(",")?t=QY(a):a.includes("@")?t=XY(a):a&&t.push(JY(a))}return[KY(e,t)]}function QY(e){return e.replace(/\s/g,"").split(",").map(JY)}const ZY=xe({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Cp(),...Yc(),...Ae()},"VSkeletonLoader"),eG=Ee()({name:"VSkeletonLoader",inheritAttrs:!1,props:ZY(),setup(e,t){let{attrs:a,slots:n}=t;const{backgroundColorClasses:o,backgroundColorStyles:s}=ep(()=>e.color),{dimensionStyles:r}=Ip(e),{elevationClasses:d}=Gc(e),{themeClasses:c}=Te(e),{t:p}=Ht(),m=l(()=>JY(De(e.type).join(",")));return Me(()=>{var t;const l=!n.default||e.loading,v=e.boilerplate||!l?{}:{ariaLive:"polite",ariaLabel:p(e.loadingText),role:"alert"};return l?i("div",w({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},c.value,o.value,d.value],style:[s.value,r.value]},v,a),[m.value]):i(u,null,[null==(t=n.default)?void 0:t.call(n)])}),{}}}),tG={key:0},aG={class:"pos-abs d-none d-md-flex align-stretch",style:{right:"16px",top:"130px",transform:"translateY(-50%)",gap:"12px"}},lG=["src"],nG=["src"],oG=["src"],sG=["src"],iG=["textContent"],rG={class:"fs-14 txt-000 font-weight-medium mb-0"},uG=["id"],dG=["id"],cG=["id"],pG=["id"],mG={class:"d-inline-flex align-center"},vG=["src","alt"],hG={class:"font-weight-bold mb-0",style:{"font-size":"20px !important"}},fG={class:"tab-slider-container",style:{overflow:"hidden",position:"relative"}},gG={class:"tab-slide",style:{width:"100%","flex-shrink":"0"}},yG={class:"mb-0 subtitle-2 font-weight-medium lh-16"},bG={class:"caption subtext-text font-weight-bold"},xG={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},wG={key:0},_G=["id"],kG=["id"],SG=["id"],CG=["id"],IG={key:1,class:"fs-12"},EG={key:0,class:"mb-0 lh-16 mt-0 subtitle-2"},TG={key:0,class:"mb-0 lh-16 mt-0 subtitle-2 text-right"},NG={class:"tab-slide",style:{width:"100%","flex-shrink":"0"}},MG={class:"mb-0 subtitle-2 font-weight-medium lh-16"},AG={class:"caption subtext-text font-weight-bold"},OG={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},PG={key:0},FG=["id"],LG=["id"],DG=["id"],VG=["id"],BG={key:1,class:"fs-12"},$G={key:0,class:"mb-0 lh-16 mt-2 subtitle-2"},RG={key:0,class:"mb-0 lh-16 mt-2 subtitle-2 text-right"},zG={class:"text-center mt-2"},UG={class:"elevation-0 mx-auto",style:{display:"flex","justify-content":"space-between","align-items":"center",width:"90%"}},qG={key:0,class:"d-flex align-center justify-center pos-abs",style:{inset:"0"}},HG={class:"text-center"},jG={id:"market",class:"d-inline-flex overflow-x-auto no-scroll mb-12",style:{width:"100%"}},WG=["src","alt"],YG={class:"font-weight-bold subtitle-2 mb-0 text-none"},GG={class:"mb-0 lh-16"},KG=["onClick","textContent"],XG=["id","textContent"],JG={class:"mb-0 lh-18"},QG={key:0,class:"d-none"},ZG={class:"font-weight-medium maintext--text black--text"},eK=["id","textContent"],tK=["id"],aK=["id","textContent"],lK=["id","textContent"],nK={class:"mx-auto py-16"},oK=["src","alt"],sK={class:"primary--text font-weight-medium mb-2 text-none"},iK=["src"],rK=["onClick","textContent"],uK={class:"mb-0 lh-18"},dK={key:0,class:"d-none"},cK={class:"font-weight-medium maintext--text black--text"},pK=["id","textContent"],mK=["id"],vK=["id","textContent"],hK=["id","textContent"],fK={class:"font-weight-medium maintext--text black--text"},gK=["id"],yK=["id"],bK=["id"],xK=["id"],wK={class:"mx-auto py-16"},_K=["src"],kK=["src"],SK={class:"px-4 py-4"},CK={class:"font-weight-bold title mb-md-4 mb-6"},IK={key:0},EK={key:1},TK={class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-12 text-capitalize"},NK={class:"maintext--text mb-0 font-weight-medium fs-10 text-capitalize"},MK={class:"fs-10"},AK={class:"maintext--text mb-0 font-weight-medium fs-10 text-capitalize"},OK={class:"maintext--text mb-0 font-weight-medium fs-10 text-capitalize"},PK={key:2},FK={class:"mx-auto py-16"},LK=["src"],DK={key:3},VK={class:"px-4 py-4"},BK={class:"font-weight-bold title mb-md-4 mb-6"},$K={key:0},RK={key:1},zK=["onClick"],UK=["src","alt"],qK={class:"font-weight-medium fs-14 mb-2 text-rap-l2 lh-20"},HK={key:2},jK={class:"mx-auto py-16"},WK=["src"],YK={key:3},GK={__name:"StocksSrc",setup(e){const t=Y(),n=Re(),o=a(null),s=a(null),p=a(null);let m=null;a(0);const v=a(!1),b=a(!1);a(!0),a(!0);const w=a(null);a(null);const _=a([{exch:"NSE",token:"26000",tsym:"Nifty 50",too:"NIFTY 50"},{exch:"NSE",token:"26009",tsym:"Nifty Bank",too:"NIFTY BANK"},{exch:"NSE",token:"26017",tsym:"India VIX",too:""},{exch:"BSE",token:"1",tsym:"SENSEX",too:""},{exch:"NSE",token:"26013",tsym:"Nifty Next 50",too:"NIFTY NEXT 50"},{exch:"NSE",token:"26060",tsym:"NIFTY MIDCAP 150",too:"NIFTY MIDCAP 150"},{exch:"NSE",token:"26062",tsym:"NIFTY SMLCAP 250",too:"NIFTY SMALLCAP 250"},{exch:"NSE",token:"26076",tsym:"NIFTY MICROCAP250",too:"NIFTY MICROCAP 250"}]),k=a([{text:"Volume & Price Up",value:"VolUpPriceUp"},{text:"Volume & Price Down",value:"VolUpPriceDown"},{text:"Open High",value:"OpenHigh"},{text:"Open Low",value:"OpenLow"},{text:"High Break",value:"HighBreak"},{text:"Low Break",value:"LowBreak"}]),S=a("VolUpPriceUp"),C=a([{text:"All",value:"A"},{text:"Nifty 50",value:"NIFTY50"},{text:"Nifty 500",value:"NIFTY500"},{text:"Nifty MIDCAP 50",value:"NIFTYMCAP50"},{text:"Nifty SMLCAP 50",value:"NIFTYSMCAP50"}]),I=a("A"),E=a([]),T=a(!0),O=a("NIFTY 50"),P=a(["NIFTY 50","NIFTY NEXT 50","NIFTY 100","NIFTY 200","Nifty Total Market","NIFTY 500","NIFTY500 MULTICAP 50 25 25","NIFTY MIDCAP 150","NIFTY MIDCAP 50","Nifty Midcap Select","NIFTY Midcap 100","NIFTY SMALLCAP 250","NIFTY SMALLCAP 50","NIFTY FULL SMALL CAP 100","NIFTY MICROCAP 250","NIFTY LargeMidcap 250","NIFTY MIDSMALLCAP 400","NIFTY COMMODITIES"]),F=a(!1),L=a(!1);a([{text:"NSE",value:"NSEALL"},{text:"NFO",value:"NFOALL"}]);const D=a("NSEALL"),V=a([[],[],[],[]]),B=[Qf,eg,tg,zf],j=["tg","tl","vb","ma"],G=[Xf,Zf],K=["sect","them"];a([]),a([]),a([]),a([]);const X=g({Sectors:[],Thematic:[],wsdata:{}}),J=a("sectors"),Q=a(0),Z=a(null),te=a(!1),ae=a(null),le=a(!1),ne=a(!0),se=a(null),re=a(null),ue=a(null),de=a(null),ce=a(null),pe=a(null),me=a(!1),ve=a(!1),he=a(0),fe=a({}),ge=(e,t)=>{const a={...fe.value[e]||{}},l=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},n=l(t.ltp??t.lp??t.l),o=l(t.c??t.prev_close_price??t.close),s=l(t.ch),i=l(t.chp??t.pc);return void 0!==n&&(a.ltp=n),void 0!==o&&(a.prevClose=o),void 0!==s&&(a.ch=s),void 0!==i&&(a.chp=i),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),fe.value[e]=a,a},ye=l(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"}]);l(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Last 50 minutes",key:"ltp",sortable:!1,width:"80%",class:"ws-p"}]);const be=l(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"},{title:"Open",key:"op",align:"end",class:"ws-p"},{title:"High",key:"high",align:"end",class:"ws-p"},{title:"Low",key:"low",align:"end",class:"ws-p"},{title:"Close",key:"cp",align:"end",class:"ws-p"},{title:"Volume",key:"vol",align:"end",class:"ws-p"}]);f(O,()=>{F.value||Le()}),X.Sectors=[{title:"Bank",key:"NIFTY BANK"},{title:"Auto",key:"NIFTY AUTO"},{title:"Financial Services",key:"NIFTY FINANCIAL SERVICES"},{title:"FMCG",key:"NIFTY FMCG"},{title:"Health Care",key:"Nifty HEALTHCARE"},{title:"Pharma",key:"NIFTY PHARMA"},{title:"IT",key:"NIFTY IT"},{title:"Media",key:"NIFTY MEDIA"},{title:"Metal",key:"NIFTY METAL"},{title:"Realty",key:"NIFTY REALTY"},{title:"Consumer Durables",key:"NIFTY CONSUMER DURABLES"},{title:"Oil & Gas",key:"NIFTY OIL AND GAS INDEX"}],X.Thematic=[{title:"Core Housing",key:"Nifty Core Housing"},{title:"Energy",key:"NIFTY ENERGY"},{title:"Consumption",key:"NIFTY INDIA CONSUMPTION"},{title:"Defence",key:"Nifty India Defence"},{title:"Digital",key:"Nifty India Digital"},{title:"Manufacturing",key:"Nifty India Manufacturing"},{title:"Infrastructure",key:"NIFTY INFRASTRUCTURE"},{title:"MNC",key:"NIFTY MNC"},{title:"Mobility",key:"Nifty Mobility"},{title:"Transportation & Logistics",key:"Nifty Transportation & Logistics"},{title:"PSE",key:"NIFTY PSE"},{title:"REITs & InvITs",key:"Nifty REITs & InvITs"},{title:"SME Emerge",key:"NIFTY SME EMERGE"}],y(()=>{Qa();const e=Rc();let t=sessionStorage.getItem("c3RhdHVz");"dmFsaWR1c2Vy"==t&&(o.value||p.value||(s.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),o.value=sessionStorage.getItem("userid"))),window.addEventListener("websocket-quote-update",ke),window.addEventListener("web-scoketConn",Se),o.value&&He("sub",_.value,"ssd-pd"),Ae(!0).then(()=>{}).catch(e=>{console.error("Error fetching initial indices data:",e),setTimeout(()=>{Ae(!0)},1e3)}),Fe(),Le(),"dmFsaWR1c2Vy"!=t&&(Oe(),Pe()),ze(),Ue(),setTimeout(()=>{o.value&&(He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv"))},1200),o.value||(ue.value=setInterval(()=>{Ae(!0)},3e4)),ce.value=()=>{document.hidden||Ae(!0)},document.addEventListener("visibilitychange",ce.value),pe.value=()=>{Ae(!0)},window.addEventListener("focus",pe.value),Ce(),ne.value&&N(()=>{window.addEventListener("scroll",Ce)}),f(o,async(e,t)=>{e&&!t&&(await N(),ue.value&&(clearInterval(ue.value),ue.value=null),He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv"),await Ae(),await Fe(),setTimeout(()=>{He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv")},500),setTimeout(()=>{He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv")},1200))},{immediate:!1});const a=async()=>{var t,a,l;const n="dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz"),i=e.uid||sessionStorage.getItem("userid"),r=e.mtoken||sessionStorage.getItem("msession");if(n&&i&&r&&(o.value!==i||s.value!==r)){const e=!o.value;if(o.value=i,s.value=r,p.value=sessionStorage.getItem("usession"),ue.value&&(clearInterval(ue.value),ue.value=null),e)He("sub",_.value,"ssd-pd"),await Ae(),await Fe(),Le(),await Oe(),await Pe(),setTimeout(async()=>{await Ae(),He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv")},500),setTimeout(async()=>{await Ae(),He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv")},1500);else{if(await Ae(),He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv"),V.value&&V.value.length>0){const e=(null==(l=V.value[0])?void 0:l.concat((null==(a=V.value[1])?void 0:a.concat(null==(t=V.value[2])?void 0:t.concat(V.value[3]||[])))||[]))||[];if(e.length>0){const t=e.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym}));He("sub",t,"ta")}}E.value&&E.value.length>0&&He("sub",E.value,"sc"),setTimeout(()=>{He("sub",_.value,"ssd-pd"),Object.keys(X.wsdata||{}).length>0&&He("sub",Object.values(X.wsdata),"adv")},1e3)}}};N(()=>{a()}),se.value=f(()=>[e.uid,e.mtoken],async([e,t],[l,n])=>{e&&t?(await N(),await a()):!e&&l&&(o.value=null,s.value=null,p.value=null,console.log("🔄 User logged out, cleared local uid ref"))},{immediate:!1}),m=()=>{o.value=null,s.value=null,p.value=null,console.log("🔄 Storage reset event received, cleared local uid ref")},window.addEventListener("storage-reset",m);const l=setInterval(()=>{"dmFsaWR1c2Vy"===sessionStorage.getItem("c3RhdHVz")&&!o.value&&a()},500);re.value=l}),h(()=>{if(window.removeEventListener("scroll",Ce),window.removeEventListener("websocket-quote-update",ke),window.removeEventListener("web-scoketConn",Se),m&&(window.removeEventListener("storage-reset",m),m=null),ce.value&&(document.removeEventListener("visibilitychange",ce.value),ce.value=null),pe.value&&(window.removeEventListener("focus",pe.value),pe.value=null),se.value&&(se.value(),se.value=null),re.value&&(clearInterval(re.value),re.value=null),ue.value&&(clearInterval(ue.value),ue.value=null),de.value){try{de.value.disconnect()}catch(e){}de.value=null}});const xe=()=>{try{const e={};for(let t=0;t<_.value.length;t++){const a=_.value[t];a.token&&(a.ltp||a.ch||a.chp)&&(e[a.token]={ltp:a.ltp||null,ch:a.ch||null,chp:a.chp||null,timestamp:Date.now()})}Object.keys(e).length>0&&localStorage.setItem(`${o.value||"guest"}_pdmwdata_cache`,JSON.stringify(e))}catch(e){}},we=()=>{try{const e=`${o.value||"guest"}_pdmwdata_cache`,t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null},_e=()=>{const e=we();if(e){const t=3e5,a=Date.now();for(let l=0;l<_.value.length;l++){const n=_.value[l];if(n.token&&e[n.token]){const l=e[n.token];if((l.timestamp?a-l.timestamp:1/0)>t)continue;n.ltp&&"0.00"!==n.ltp&&"0"!==n.ltp&&0!==n.ltp||l.ltp&&(n.ltp=l.ltp),n.ch&&"0.00"!==n.ch&&"0"!==n.ch&&0!==n.ch||l.ch&&(n.ch=l.ch),n.chp&&"0.00"!==n.chp&&"0"!==n.chp&&0!==n.chp||l.chp&&(n.chp=l.chp);const o=document.getElementById(`ssdpd${n.token}ltp`);if(o){o.innerHTML=n.ltp||"0.00";const e=document.getElementById(`ssdpd${n.token}ch`),t=document.getElementById(`ssdpd${n.token}chp`),a=document.getElementById(`ssdpd${n.token}chpclr`);if(e&&(e.innerHTML=n.ch||"0.00"),t&&(t.innerHTML=` (${n.chp||"0.00"}%)`),a){const e=parseFloat(n.ch)||0;a.className=e>0?"d-inline-flex font-weight-medium fs-12 px-2 maingreen--text":e<0?"d-inline-flex font-weight-medium fs-12 px-2 mainred--text":"d-inline-flex font-weight-medium fs-12 px-2 subtext--text"}}}}}},ke=e=>{const t=e.detail;if(t){const e=t.token||t.tk,a=t.exchange||t.e||t.exch||t.market_segment_id;e?_.value.findIndex(t=>t.token==e&&(!a||t.exch===a))>=0&&je(t):je(t)}},Se=e=>{const t=e.detail;if(t&&(t.token||t.tk)){const e=t,a=e.token||e.tk,l=String(a);if(_.value&&Array.isArray(_.value)){const t=_.value.findIndex(e=>String(e.token)===l);t>=0&&String(_.value[t].token)===l&&je(e)}}if(Array.isArray(t)&&t.length>=2){const[e,a]=t;if(("stockDASH"===a||"stocks"===a||"stockINC"===a)&&e){if(_.value&&Array.isArray(_.value))if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]&&(e[t].token||e[t].tk)&&je(e[t]);else(e.token||e.tk)&&je(e);if("stocks"===a&&X.wsdata&&e&&(e.token||e.tk)){const t=e.token||e.tk;X.wsdata[t]&&$e(e)}}}else if(t&&"object"==typeof t)if("stockDASH"===t.page||"stocks"===t.page||"stockINC"===t.page)(t.token||t.tk)&&je(t);else if(t.token||t.tk){const e=t.token||t.tk,a=String(e);_.value.findIndex(e=>String(e.token)===a)>=0&&je(t),X.wsdata&&X.wsdata[a]&&$e(t)}else if("dk"===t.t||"df"===t.t){const e=t.tk||t.token;if(e){const a=String(e);if(_.value.findIndex(e=>String(e.token)===a)>=0){const l={token:e,tk:t.tk,lp:t.lp,ch:t.ch||(t.lp&&t.c?t.lp-t.c:null),chp:t.chp||t.pc||(t.c&&t.lp?(t.lp-t.c)/t.c*100:null),c:t.c,exchange:t.e,exch:t.e};je(l),X.wsdata&&X.wsdata[a]&&$e(l)}else console.warn("handleWebSocketConnection: WebSocket feed token not found in pdmwdata",a)}}else t.page&&"stockDASH"!==t.page&&"stocks"!==t.page&&"stockINC"!==t.page||je(t)},Ce=()=>{var e;const t={elo:document.getElementById("ttt"),elt:document.getElementById("smcp"),elr:document.getElementById("eve")};Ie(t.elo)&&0===(null==(e=V.value[0])?void 0:e.length)&&Oe(),Ie(t.elt)&&T.value&&(T.value=!1,Pe()),Ie(t.elr)&&(Z.value||ze(),ae.value||Ue(),ne.value=!1)},Ie=e=>{if(!e)return!1;const{top:t,left:a,bottom:l,right:n}=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return t>=0&&a>=0&&l<=s&&n<=o},Ee=(e,a)=>{if(o.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else"NSE"==a.exch&&t.push(`/stocks/${e.toLowerCase()}`)},Te=(e,t)=>{document.getElementById(`${e}`).scrollBy({left:t,behavior:"smooth"})},Ne=(e,t)=>{document.getElementById(`${e}`).scrollBy({left:t,behavior:"smooth"})},Me=(e,t,a,l)=>{if("TA"==a){let a=V.value[e].findIndex(e=>e.token==t.token);V.value[e][a].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):0,V.value[e][a].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):0}else if("SCR"==a){let e=E.value.findIndex(e=>e.token==t.token);E.value[e].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):0,E.value[e].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):0}},Ae=async(e=!1)=>{if((!ve.value||e)&&_.value&&0!==_.value.length){ve.value=!0;try{const e=_.value.map(e=>({exch:e.exch,token:e.token,tsym:e.tsym})),t=await $le(e),a=null==t?void 0:t.data;if(a){let e=!1;for(let t=0;t<_.value.length;t++){const l=_.value[t],n=a[l.token];if(n){const a=Number(n.lp).toFixed(2),o=Number(a-Number(n.close)).toFixed(2),s=Number(n.change).toFixed(2);_.value[t]={..._.value[t],ltp:a,ch:o,chp:s},e=!0,await N();const i=document.getElementById(`ssdpd${l.token}ltp`);if(i){i.innerHTML=a;const e=document.getElementById(`ssdpd${l.token}ch`),t=document.getElementById(`ssdpd${l.token}chp`),n=document.getElementById(`ssdpd${l.token}chpclr`);if(e&&(e.innerHTML=o),t&&(t.innerHTML=` (${s}%)`),n){const e=parseFloat(o)||0;n.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text",n.style.color=e>0?"#008000":e<0?"#FF0000":"#000000"}}}}e&&xe()}else we()&&_e()}catch(Wie){console.error("fetchInitialIndicesData: Error fetching initial indices data:",Wie);try{we()&&_e()}catch(t){console.error("fetchInitialIndicesData: Error loading cache:",t)}}finally{ve.value=!1,me.value=!0}}},Oe=async()=>{V.value=[],v.value=!0;let e=await Jae(["NSEALL"==D.value?"NSE":"NFO",D.value,"mostActive"]),t=await Jae(["NSEALL"==D.value?"NSE":"NFO",D.value,"topG_L"]);if("Ok"==e.stat&&"Ok"==t.stat){V.value.push(t.topGainers),V.value.push(t.topLosers),V.value.push(e.byVolume),V.value.push(e.byValue);let a=V.value[0].concat(V.value[1].concat(V.value[2].concat(V.value[3]))),l=[];a.map(e=>l.push({exch:e.exch,token:e.token,tsym:e.tsym})),o.value&&He("sub",l,"ta")}v.value=!1},Pe=async e=>{"yes"==e&&o.value&&He("unsub-D",E.value,"sc"),b.value=!0,E.value=[];let t=await Qae(["NSE",I.value,S.value]);t&&t.length>0&&(E.value=t.slice(0,10),o.value&&He("sub",t,"sc")),T.value=!1,b.value=!1},Fe=async()=>{try{let e=await Zae();if(e&&500!=e){if(X.Sectors.forEach((t,a)=>{const l=Ve(e[t.key]||null,t.key);X.Sectors[a].data=l,e[t.key]||console.warn(`Missing API data for sector: ${t.key} (${t.title})`)}),X.Thematic.forEach((t,a)=>{const l=Ve(e[t.key]||null,t.key);X.Thematic[a].data=l,e[t.key]||console.warn(`Missing API data for thematic: ${t.key} (${t.title})`)}),Object.keys(X.wsdata||{}).length>0){const e=Object.values(X.wsdata).filter(e=>e&&e.token&&(!e.ltp||"0.00"===e.ltp||null===e.ltp)).map(e=>({exch:e.exch||"NSE",token:e.token,tsym:e.tsym}));if(e.length>0)if(o.value)He("sub",e,"adv"),setTimeout(()=>{He("sub",Object.values(X.wsdata),"adv")},1200);else try{const t=await $le(e);t&&t.data&&Object.keys(X.wsdata).forEach(e=>{const a=X.wsdata[e],l=t.data[e];if(l&&a){const t=Number(l.lp||0).toFixed(2),n=Number(l.lp-l.close||0).toFixed(2),o=Number(l.change||0).toFixed(2);a.ltp=t,a.ch=n,a.chp=o;const s=document.getElementById(`ssdad${e}ltp`);if(s){s.innerHTML=t;const a=document.getElementById(`ssdad${e}ch`),l=document.getElementById(`ssdad${e}chp`),i=document.getElementById(`ssdad${e}chpclr`);if(a&&(a.innerHTML=n),l&&(l.innerHTML=` (${o}%)`),i){const e=parseFloat(o)||0;i.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}}})}catch(Wie){console.error("Error fetching LTP data for sectors:",Wie)}o.value&&Object.keys(X.wsdata||{}).length>0&&(He("sub",Object.values(X.wsdata),"adv"),setTimeout(()=>{He("sub",Object.values(X.wsdata),"adv")},1200))}X.Sectors.sort((e,t)=>{var a,l;return Number((null==(a=t.data)?void 0:a.marketCap)||0)-Number((null==(l=e.data)?void 0:l.marketCap)||0)}),X.Thematic.sort((e,t)=>{var a,l;return Number((null==(a=t.data)?void 0:a.marketCap)||0)-Number((null==(l=e.data)?void 0:l.marketCap)||0)})}else console.warn("getADlistdata: Invalid response from getADindices API:",e);null!==J.value&&void 0!==J.value||(J.value="sectors")}catch(Wie){console.error("getADlistdata: Error loading sectors/thematic data:",Wie)}},Le=async()=>{F.value=!0,L.value=!1;const e=document.getElementById("avddecchart");e&&qa(e);try{let e=[],o=await ele(O.value);if(!o||500==o||!Array.isArray(o)||0===o.length)return L.value=!0,F.value=!1,void setTimeout(()=>Le(),3e4);for(let t=0;t<o.length;t++)e.push({name:o[t].SYMBOL.split(":")[1],value:[Number(o[t].market_cap),`₹${o[t].ltp} <span class="fs-12 ${Number(o[t].change)>0?"maingreen--text":Number(o[t].change)<0?"mainred--text":"maintext--text"}" >${Number(o[t].ltp-Number(o[t].close)).toFixed(2)} (${o[t].change}%) </span>`,Number(o[t].change),0,o[t]["Company Name"],{token:o[t].Token,exch:o[t].SYMBOL.split(":")[0],tsym:o[t].SYMBOL.split(":")[1]}]});De(e);var t=document.getElementById("avddecchart"),a=Ha(t),l={title:!1,tooltip:{confine:!0,appendToBody:!0,extraCssText:"width:auto;max-width:none;white-space:nowrap;",formatter:function(e){let t=e.value;return['<div class="tooltip-title font-weight-bold black--text">'+t[4]+"</div>",`<p class="mb-0 font-weight-medium black--text fs-14">${t[1]}</p>`].join("")}},legend:!1,series:[{roam:!1,nodeClick:void 0,breadcrumb:!1,name:"NIFTY 50",type:"treemap",visualMin:-100,visualMax:100,visualDimension:3,label:{show:!0,formatter:"{b}"},top:"0%",left:"0%",right:"0%",bottom:"0%",nodeGap:2,levels:[{color:"dark"===n.global.name.value?["#FF1717","#999","#1BBC00"]:["#FF1717","#999","#43A833"],colorMappingBy:"value"}],data:e}]};l&&a.setOption(l),a.on("click",function(e){Ee(e.value[5].tsym.split("-")[0],e.value[5])}),window.addEventListener("resize",function(){a.resize()}),setTimeout(()=>a.resize(),0),setTimeout(()=>a.resize(),300),window.ResizeObserver&&t&&(de.value=new ResizeObserver(()=>{a.resize()}),de.value.observe(t)),F.value=!1,L.value=!1}catch(SJ){F.value=!1,L.value=!0,setTimeout(()=>Le(),3e4)}},De=e=>{let t=1/0,a=-1/0;for(let l=0;l<e.length;l++){let n=e[l];if(n){let e=n.value;null!=e[2]&&e[2]<t&&(t=e[2]),null!=e[2]&&e[2]>a&&(a=e[2])}}for(let l=0;l<e.length;l++){let n=e[l];if(n){let e=n.value;null!=e[2]&&e[2]>0?e[3]=ja(e[2],[0,a],[40,100],!0):null!=e[2]&&e[2]<0?e[3]=ja(e[2],[t,0],[-100,-40],!0):e[3]=0,isFinite(e[3])||(e[3]=0),n.children&&De(n.children)}}},Ve=(e,t)=>{if(!e)return{sum:0,adp:"0%",adm:"0%",adn:"0%",token:null,Positive:0,Negative:0,Neutral:0,marketCap:0};const a={...e,sum:(e.Negative||0)+(e.Neutral||0)+(e.Positive||0),Positive:e.Positive||0,Negative:e.Negative||0,Neutral:e.Neutral||0,marketCap:e.marketCap||0};return a.adp=a.sum>0?`${Math.round(a.Positive/a.sum*100)}%`:"0%",a.adm=a.sum>0?`${Math.round(a.Negative/a.sum*100)}%`:"0%",a.adn=a.sum>0?`${Math.round(a.Neutral/a.sum*100)}%`:"0%",a.token&&(X.wsdata[a.token]={exch:"NSE",token:a.token,tsym:t,ltp:e.ltp||e.ltp_price||e.lp||"0.00",ch:e.ch||e.change||e.chg||"0.00",chp:e.chp||e.change_percent||e.chp||"0.00"}),a},Be=e=>{if(!e||!X.wsdata||!X.wsdata[e])return"subtext--text";const t=parseFloat(X.wsdata[e].chp)||0;return t>0?"maingreen--text":t<0?"mainred--text":"subtext--text"},$e=e=>{const t=e.token||e.tk;if(!t||!X.wsdata||!X.wsdata[t])return;const a=ge(t,e),l={...X.wsdata[t]};void 0!==a.ltp&&(l.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(l.ch=a.ch.toFixed(2)),void 0!==a.chp&&(l.chp=a.chp.toFixed(2)),X.wsdata[t]={...X.wsdata[t],...l};const n=document.getElementById(`ssdad${t}ltp`);if(n){n.innerHTML=l.ltp||"0.00";const e=document.getElementById(`ssdad${t}ch`);e&&(e.innerHTML=l.ch||"0.00");const a=document.getElementById(`ssdad${t}chp`);a&&(a.innerHTML=` (${l.chp?Number(l.chp).toFixed(2):"0.00"}%)`);const o=document.getElementById(`ssdad${t}chpclr`);if(o){const e=parseFloat(l.chp)||0;o.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}},ze=async()=>{try{te.value=!0,Z.value=[],Q.value=0;let e=await Yae();if(e&&e.data&&e.data.length>0){let t=e.data;for(let e=0;e<t.length;e++)t[e].isdate=`${new Date(t[e].pubDate).toDateString().slice(3)} ${new Date(t[e].pubDate).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})} IST`,Z.value.push(t[e]);Q.value=e.newsCount||0}else console.warn("[StocksSrc] getssNews returned no data:",e)}catch(Wie){console.error("[StocksSrc] Error fetching news:",Wie),Z.value=[],Q.value=0}finally{te.value=!1}},Ue=async()=>{le.value=!0,ae.value=[];let e=await Gae();e.corporateAction&&e.corporateAction.length>0&&(ae.value=e.corporateAction),le.value=!1},qe=(e,a,l,n)=>{if("alert"==e);else if("cGTT"==e);else try{t.push({name:"stocks details",query:{type:e||"detail",token:a,exch:l,tsym:n}}).catch(e=>{console.error("[StocksSrc] Navigation error:",e)})}catch(Wie){console.error("[StocksSrc] Navigation exception:",Wie)}},He=async(e,t,a)=>{if(o.value){const l=new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"ssd-pd"===a?"stockDASH":"stocks"}});window.dispatchEvent(l)}else{const e=Date.now();if(e-he.value<1e3)return;he.value=e;let n=await $le(t);if(n=n.data,"ssd-pd"==a&&n){let e=!1;for(let t=0;t<_.value.length;t++){let a=n[_.value[t].token];if(a){const l=Number(a.lp).toFixed(2),n=Number(l-Number(a.close)).toFixed(2),o=Number(a.change).toFixed(2);_.value[t].ltp=l,_.value[t].ch=n,_.value[t].chp=o,e=!0;const s=document.getElementById(`ssdpd${_.value[t].token}ltp`);if(s){s.innerHTML=Number(_.value[t].ltp||0).toFixed(2);const e=document.getElementById(`ssdpd${_.value[t].token}ch`),a=document.getElementById(`ssdpd${_.value[t].token}chp`),l=document.getElementById(`ssdpd${_.value[t].token}chpclr`);if(e&&(e.innerHTML=Number(_.value[t].ch||0).toFixed(2)),a&&(a.innerHTML=` (${Number(_.value[t].chp||0).toFixed(2)}%)`),l){const e=parseFloat(_.value[t].ch)||0;l.className=e>0?"fs-12 font-weight-medium mb-0 maingreen--text":e<0?"fs-12 font-weight-medium mb-0 mainred--text":"fs-12 font-weight-medium mb-0 subtext--text"}}}}e&&(_.value=[..._.value],xe())}else if("ta"==a&&n)for(let t=0;t<V.value.length;t++)for(let e=0;e<V.value[t].length;e++){let a=n[V.value[t][e].token];a&&(V.value[t][e].ltp=Number(a.lp)?Number(a.lp).toFixed(2):0,V.value[t][e].ch=Number(a.lp)&&Number(a.close)?(Number(a.lp)-Number(a.close)).toFixed(2):0,V.value[t][e].chp=Number(a.change).toFixed(2),V.value[t][e].vol=Number(a.vol).toFixed(2),V.value[t][e].op=Number(a.open)?Number(a.open).toFixed(2):0,V.value[t][e].cp=Number(a.close)?Number(a.close).toFixed(2):0,V.value[t][e].high=Number(a.high)?Number(a.high).toFixed(2):0,V.value[t][e].low=Number(a.low)?Number(a.low).toFixed(2):0,V.value[t][e].oi=a.oi?Number(a.oi).toFixed(2):0)}else if("adv"==a&&n){var l=Object.entries(X.wsdata);for(let e=0;e<l.length;e++){let t=n[l[e][0]];if(t&&l[e][0]){const a=l[e][0],n=Number(t.lp).toFixed(2),o=Number(n-Number(t.close)).toFixed(2),s=Number(t.change).toFixed(2);X.wsdata[a].ltp=n,X.wsdata[a].ch=o,X.wsdata[a].chp=s;const i=document.getElementById(`ssdad${a}ltp`);if(i){i.innerHTML=n;const e=document.getElementById(`ssdad${a}ch`),t=document.getElementById(`ssdad${a}chp`),l=document.getElementById(`ssdad${a}chpclr`);if(e&&(e.innerHTML=o),t&&(t.innerHTML=` (${s}%)`),l){const e=parseFloat(s)||0;l.className=e>0?"maingreen--text":e<0?"mainred--text":"subtext--text"}}}}}}},je=e=>{const t=e.token||e.tk;if(!t)return void console.warn("optionChainDataParse: No token found in data",e);const a=String(t);let l=_.value.findIndex(e=>String(e.token)===a);if(l>=0&&String(_.value[l].token)===a){const a=ge(t,e),n={..._.value[l]};void 0!==a.ltp&&(n.ltp=a.ltp.toFixed(2)),void 0!==a.ch&&(n.ch=a.ch.toFixed(2)),void 0!==a.chp&&(n.chp=a.chp.toFixed(2)),_.value[l]={..._.value[l],...n};const o=document.getElementById(`ssdpd${t}ltp`);if(o){o.innerHTML=n.ltp||"0.00";const e=document.getElementById(`ssdpd${t}ch`);e&&(e.innerHTML=n.ch||"0.00");const a=document.getElementById(`ssdpd${t}chp`);a&&(a.innerHTML=` (${n.chp||"0.00"}%)`);const l=document.getElementById(`ssdpd${t}chpclr`);if(l){const e=parseFloat(n.ch)||0;l.className=e>0?"fs-12 font-weight-medium mb-0 maingreen--text":e<0?"fs-12 font-weight-medium mb-0 mainred--text":"fs-12 font-weight-medium mb-0 subtext--text"}}_.value=[..._.value],xe()}X.wsdata&&X.wsdata[a]&&$e(e);let n=E.value.findIndex(e=>e.token==t);if(n>=0&&E.value[n].token==t){if(void 0!==e.lp&&null!==e.lp?E.value[n].ltp=Number(e.lp).toFixed(2):void 0!==e.ltp&&null!==e.ltp?E.value[n].ltp=Number(e.ltp).toFixed(2):void 0!==e.l&&null!==e.l&&(E.value[n].ltp=Number(e.l).toFixed(2)),void 0!==e.ch&&null!==e.ch)E.value[n].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2);else if(void 0!==e.c&&null!==e.c&&void 0!==e.lp&&null!==e.lp){const t=Number(e.lp)-Number(e.c);E.value[n].ch=t>0||t<0?t.toFixed(2):(0).toFixed(2)}if(void 0!==e.chp&&null!==e.chp)E.value[n].chp=Number(e.chp).toFixed(2);else if(void 0!==e.c&&null!==e.c&&E.value[n].ch){const t=Number(e.c);if(t>0){const e=Number(E.value[n].ch)/t*100;E.value[n].chp=e.toFixed(2)}}if(void 0!==e.volume&&null!==e.volume?E.value[n].vol=Number(e.volume):void 0!==e.vol&&null!==e.vol&&(E.value[n].vol=Number(e.vol)),void 0!==e.open_price&&null!==e.open_price?E.value[n].op=Number(e.open_price)?Number(e.open_price).toFixed(2):(0).toFixed(2):void 0!==e.open&&null!==e.open&&(E.value[n].op=Number(e.open)?Number(e.open).toFixed(2):(0).toFixed(2)),void 0!==e.prev_close_price&&null!==e.prev_close_price?E.value[n].cp=Number(e.prev_close_price)?Number(e.prev_close_price).toFixed(2):(0).toFixed(2):void 0!==e.close&&null!==e.close?E.value[n].cp=Number(e.close)?Number(e.close).toFixed(2):(0).toFixed(2):void 0!==e.c&&null!==e.c&&(E.value[n].cp=Number(e.c)?Number(e.c).toFixed(2):(0).toFixed(2)),void 0!==e.high_price&&null!==e.high_price?E.value[n].high=Number(e.high_price)?Number(e.high_price).toFixed(2):(0).toFixed(2):void 0!==e.high&&null!==e.high&&(E.value[n].high=Number(e.high)?Number(e.high).toFixed(2):(0).toFixed(2)),void 0!==e.low_price&&null!==e.low_price?E.value[n].low=Number(e.low_price)?Number(e.low_price).toFixed(2):(0).toFixed(2):void 0!==e.low&&null!==e.low&&(E.value[n].low=Number(e.low)?Number(e.low).toFixed(2):(0).toFixed(2)),document.getElementById(`ssdsc${t}ltp`)){document.getElementById(`ssdsc${t}ltp`).innerHTML=E.value[n].ltp;const e=document.getElementById(`ssdsc${t}ch`),a=document.getElementById(`ssdsc${t}chp`),l=document.getElementById(`ssdsc${t}op`),o=document.getElementById(`ssdsc${t}cp`),s=document.getElementById(`ssdsc${t}high`),i=document.getElementById(`ssdsc${t}low`);e&&(e.innerHTML=E.value[n].ch),a&&(a.innerHTML=` (${E.value[n].chp}%)`),l&&(l.innerHTML=E.value[n].op),o&&(o.innerHTML=E.value[n].cp),s&&(s.innerHTML=E.value[n].high),i&&(i.innerHTML=E.value[n].low)}}if(4==V.value.length){let a=V.value[0].findIndex(e=>e.token==t),l=V.value[1].findIndex(e=>e.token==t),n=V.value[2].findIndex(e=>e.token==t),o=V.value[3].findIndex(e=>e.token==t);if(a>=0||l>=0||n>=0||o>=0)for(let s=0;s<V.value.length;s++){let i=0==s&&a>=0?a:1==s&&l>=0?l:2==s&&n>=0?n:3==s&&o>=0?o:null;if(i>=0&&V.value[s]&&V.value[s][i]&&V.value[s][i].token==t){if(V.value[s][i].ltp=Number(e.lp).toFixed(2),V.value[s][i].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2),V.value[s][i].chp=Number(e.chp).toFixed(2),V.value[s][i].vol=Number(e.volume),document.getElementById(`ssdta${t}ltp`)){document.getElementById(`ssdta${t}ltp`).innerHTML=V.value[s][i].ltp;const e=document.getElementById(`ssdta${t}ch`),a=document.getElementById(`ssdta${t}chp`);e&&(e.innerHTML=V.value[s][i].ch),a&&(a.innerHTML=` (${V.value[s][i].chp}%)`)}document.getElementById(`ssdta${t}vol`)&&(document.getElementById(`ssdta${t}vol`).innerHTML=`Vol. : ${V.value[s][i].vol}`)}}}if(X&&X.wsdata){var o=Object.entries(X.wsdata);let t=o.findIndex(t=>t[0]==e.token);if(t>=0&&X.wsdata[o[t][0]]&&X.wsdata[o[t][0]].token==e.token){const a=o[t][0],l={...X.wsdata[a],ltp:Number(e.lp).toFixed(2),ch:Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):(0).toFixed(2),chp:Number(e.chp).toFixed(2)};X.wsdata[a]=l,N(()=>{if(document.getElementById(`ssdad${e.token}ltp`)){document.getElementById(`ssdad${e.token}ltp`).innerHTML=l.ltp,document.getElementById(`ssdad${e.token}ch`).innerHTML=l.ch,document.getElementById(`ssdad${e.token}chp`).innerHTML=` (${l.chp}%)`;const t=document.getElementById(`ssdad${e.token}chpclr`);t&&(t.classList.remove("maingreen--text","mainred--text","subtext--text"),Number(l.ch)>0?t.classList.add("maingreen--text"):Number(l.ch)<0?t.classList.add("mainred--text"):t.classList.add("subtext--text"))}})}null!=J.value&&void 0!==J.value||(J.value="sectors")}};return(e,t)=>{const a=$("v-list-item-content"),l=oe("dragscroll");return z(),R("div",null,[o.value?(z(),R("div",tG,[d(YY)])):(z(),q(cy,{key:1,class:"elevation-0 mb-4 mb-md-14 pa-4 pa-md-6 rounded-lg pos-rlt",color:"#51FFB6",style:{overflow:"visible"}},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"4"},{default:H(()=>[...t[14]||(t[14]=[i("p",{class:"fs-26 d-md-none font-weight-bold lh-24 black--text"},[W("Simple. "),i("br"),W(" Insightful. "),i("br"),W(" Incremental.")],-1),i("p",{class:"fs-36 d-none d-md-flex font-weight-bold lh-32 black--text"},[W("Simple. "),i("br"),W(" Insightful. "),i("br"),W(" Incremental. ")],-1)])]),_:1})]),_:1}),i("div",aG,[d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:x(Uf),class:"px-4 pt-6 pb-2",alt:"main-card-1",width:"79%"},null,8,lG),t[15]||(t[15]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Buy stocks"),i("br"),W(" with a click. ")],-1))]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:x(qf),class:"px-4 pt-6 pb-2",alt:"main-card-2",width:"79%"},null,8,nG),t[16]||(t[16]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Invest safely"),i("br"),W(" in bonds. ")],-1))]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:x(Hf),class:"px-4 pt-6 pb-2",alt:"main-card-3",width:"79%"},null,8,oG),t[17]||(t[17]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Discover IPO"),i("br"),W(" early winners. ")],-1))]),_:1})])]),_:1})),d(jg,{class:"tool-sty elevation-0 crd-trn pt-10 pb-3",density:"compact"},{default:H(()=>[i("img",{width:"32px",src:x(Rf),alt:"ind",class:"mr-1 pa-1"},null,8,sG),t[20]||(t[20]=i("p",{class:"title font-weight-bold mb-0 mr-3"},"Top indices",-1)),d(zy),d(im,{onClick:t[0]||(t[0]=e=>Te("indices",-600)),width:"26px",height:"26px",class:"mr-2",variant:"outlined",icon:"",size:"small"},{default:H(()=>[d(wp,{size:"24"},{default:H(()=>[...t[18]||(t[18]=[W("mdi-chevron-left",-1)])]),_:1})]),_:1}),d(im,{onClick:t[1]||(t[1]=e=>Ne("indices",600)),class:"mr-1",width:"26px",height:"26px",icon:"",size:"small",variant:"outlined"},{default:H(()=>[d(wp,{size:"24"},{default:H(()=>[...t[19]||(t[19]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1})]),_:1}),M((z(),q(cy,{id:"indices",class:"crd-trn d-inline-flex overflow-x-auto elevation-0 no-scroll mb-2",width:"100%"},{default:H(()=>[(z(!0),R(u,null,U(_.value,(a,l)=>(z(),q(cy,{key:l,onClick:()=>{qe("Details",a.token,a.exch,a.tsym)},class:r(["px-3 py-2 crd-trn pos-rlt table-row",l!=_.value.length-1?"mr-4":""]),"min-width":"160px",style:{border:"1px solid #EBEEF0 !important"}},{default:H(()=>[o.value?(z(),R("div",{key:0,onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{bottom:"32px",right:"4px"}},[d(im,{disabled:!a.too,onClick:t=>e.$router.push({name:"stocks advance decline",params:{abc:a.too}}),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...t[21]||(t[21]=[W("mdi-format-line-weight",-1)])]),_:1})]),_:1},8,["disabled","onClick"])])):ee("",!0),o.value?(z(),R("div",{key:1,onClick:t[3]||(t[3]=ie(()=>{},["stop"])),class:"pos-abs table-hov",style:{bottom:"8px",right:"4px"}},[d(im,{onClick:e=>qe("option",a.token,a.exch,a.tsym),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...t[22]||(t[22]=[W("mdi-link-variant",-1)])]),_:1})]),_:1},8,["onClick"]),d(im,{onClick:e=>qe("chart",a.token,a.exch,a.tsym),"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1","x-small":""},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...t[23]||(t[23]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"])])):ee("",!0),i("p",{class:"mb-2 ws-p font-weight-bold",style:{"font-size":"14px"},textContent:A(a.tsym?a.tsym:"")},null,8,iG),d(cy,{class:"pt-02 mb-3 elevation-0 rounded-pill",width:"30%",color:"maintext"}),i("p",rG,[t[24]||(t[24]=W(" ₹",-1)),i("span",{id:`ssdpd${a.token}ltp`},A(a.ltp?Number(a.ltp).toFixed(2):"0.00"),9,uG)]),i("p",{class:"fs-12 font-weight-medium mb-0",id:`ssdpd${a.token}chpclr`,style:c(a.ch>0?"color: #43A833;":a.ch<0?"color: #FF0000;":"color: #000000;")},[i("span",{id:`ssdpd${a.token}ch`},A(a.ch?Number(a.ch).toFixed(2):"0.00"),9,cG),i("span",{id:`ssdpd${a.token}chp`}," ("+A(a.chp?Number(a.chp).toFixed(2):"0.00")+"%)",9,pG)],12,dG)]),_:2},1032,["onClick","class"]))),128))]),_:1})),[[l,void 0,void 0,{x:!0}]]),d(im,{to:"/stocks/allindices",text:"",variant:"flat",class:"text-none px-0 primary--text mb-6"},{default:H(()=>[...t[25]||(t[25]=[W("See all indices",-1)])]),_:1}),d(Ry,{"no-gutters":"",class:"mb-4"},{default:H(()=>[d(ky,{cols:"12",sm:"6"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[(z(!0),R(u,null,U(X,(e,t,a)=>(z(),R(u,null,[a<2?(z(),q(ky,{onClick:e=>J.value=0===a?"sectors":"thematic",cols:"6",key:a,class:"text-center cursor-p"},{default:H(()=>[i("div",mG,[i("img",{width:"28px",src:G[a],alt:K[a],class:"mr-1"},null,8,vG),i("p",hG,A(t),1)]),d(cy,{class:"elevation-0 mx-auto",color:J.value===(0===a?"sectors":"thematic")?"primary":"transparent",height:"2px",style:{"max-width":"120px"}},null,8,["color"])]),_:2},1032,["onClick"])):ee("",!0)],64))),256))]),_:1}),d(my,{class:"mb-2"}),i("div",fG,[i("div",{class:"tab-slider-wrapper",style:c({transform:`translateX(-${"sectors"===J.value?0:100}%)`})},[i("div",gG,[(z(!0),R(u,null,U(X.Sectors.slice(0,6),(e,a)=>(z(),q(cy,{key:a,onClick:t=>e.data&&e.data.token&&X.wsdata[e.data.token]?qe("Details",e.data.token,"NSE",X.wsdata[e.data.token].tsym):null,width:"100%",class:r(["elevation-0 px-3 py-2 rounded-lg",a<5?"mb-2":""]),"bg-color":"secbg",style:{"background-color":"#F1F3F8 !important"}},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"5",sm:"4",class:"pr-0"},{default:H(()=>[i("p",yG,[W(A(e.title)+" ",1),i("span",bG,"("+A(e.data&&e.data.sum?e.data.sum:"..")+")",1)]),i("p",xG,[X.wsdata&&e.data&&e.data.token&&X.wsdata[e.data.token]?(z(),R("span",wG,[i("span",{id:`ssdad${e.data.token}ltp`},"₹"+A(X.wsdata&&e.data&&e.data.token&&X.wsdata[e.data.token]&&X.wsdata[e.data.token].ltp?`${X.wsdata[e.data.token].ltp}`:""),9,_G),t[26]||(t[26]=W("  ",-1)),i("span",{class:r(["fs-12",X.wsdata[e.data.token]?X.wsdata[e.data.token].chp>0?"maingreen--text":X.wsdata[e.data.token].chp<0?"mainred--text":"subtext--text":"subtext--text"]),id:`ssdad${e.data.token}chpclr`},[i("span",{id:`ssdad${e.data.token}ch`,style:c({color:X.wsdata[e.data.token]&&X.wsdata[e.data.token].ch?Number(X.wsdata[e.data.token].ch)>0?"#43A833":Number(X.wsdata[e.data.token].ch)<0?"#FF0000":"#000000":"#000000"})},A(X.wsdata[e.data.token]?`${X.wsdata[e.data.token].ch}`:"0.00"),13,SG),i("span",{id:`ssdad${e.data.token}chp`,style:c({color:X.wsdata[e.data.token]&&X.wsdata[e.data.token].chp?Number(X.wsdata[e.data.token].chp)>0?"#43A833":Number(X.wsdata[e.data.token].chp)<0?"#FF0000":"#000000":"#000000"})}," ("+A(X.wsdata[e.data.token]&&X.wsdata[e.data.token].chp?`${Number(X.wsdata[e.data.token].chp).toFixed(2)}`:"0.00")+"%)",13,CG)],10,kG)])):(z(),R("span",IG,[...t[27]||(t[27]=[W("0.00 ",-1),i("span",{class:"fs-9"}," 0.00 (0.00%)",-1)])]))])]),_:2},1024),e.data?(z(),q(ky,{key:0,cols:"7",sm:"8"},{default:H(()=>[d(cy,{color:"transparent",width:"100%",class:"elevation-0 d-inline-flex",style:{height:"8px"}},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adp||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"maingreen",style:{width:"100%"}})]),_:1},8,["style"]),e.data.Negative>0||e.data.Neutral>0?(z(),q(cy,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adn||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",style:{width:"100%"}})]),_:1},8,["style"])):ee("",!0),d(cy,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adm||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"mainred",style:{width:"100%"}})]),_:1},8,["style"])]),_:2},1024),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pt-1"},{default:H(()=>[e.data.Positive>0?(z(),R("p",EG,[d(wp,{color:"maingreen",size:"18"},{default:H(()=>[...t[28]||(t[28]=[W("mdi-arrow-top-right",-1)])]),_:1}),W(" "+A(e.data.Positive),1)])):ee("",!0)]),_:2},1024),d(ky,{cols:"6",class:"pt-1"},{default:H(()=>[e.data.Negative>0?(z(),R("p",TG,[W(A(e.data.Negative)+" ",1),d(wp,{color:"mainred",size:"18"},{default:H(()=>[...t[29]||(t[29]=[W("mdi-arrow-bottom-right",-1)])]),_:1})])):ee("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(z(),q(ky,{key:1,cols:"8"},{default:H(()=>[d(eG,{height:"8px",width:"100%",type:"card"})]),_:1}))]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),i("div",NG,[(z(!0),R(u,null,U(X.Thematic.slice(0,6),(e,a)=>(z(),q(cy,{key:a,onClick:t=>e.data&&e.data.token&&X.wsdata[e.data.token]?qe("Details",e.data.token,"NSE",X.wsdata[e.data.token].tsym):null,width:"100%",class:r(["elevation-0 px-3 py-1 rounded-lg",a<5?"mb-2":""]),"bg-color":"secbg",style:{"background-color":"#F1F3F8 !important"}},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"5",sm:"4",class:"pr-0"},{default:H(()=>[i("p",MG,[W(A(e.title)+" ",1),i("span",AG,"("+A(e.data&&e.data.sum?e.data.sum:"..")+")",1)]),i("p",OG,[X.wsdata&&e.data&&e.data.token&&X.wsdata[e.data.token]?(z(),R("span",PG,[i("span",{id:`ssdad${e.data.token}ltp`},"₹"+A(X.wsdata[e.data.token].ltp||"0.00"),9,FG),t[30]||(t[30]=W("  ",-1)),i("span",{class:r(["fs-12",Be(e.data.token)]),id:`ssdad${e.data.token}chpclr`},[i("span",{id:`ssdad${e.data.token}ch`},A(X.wsdata[e.data.token].ch||"0.00"),9,DG),i("span",{id:`ssdad${e.data.token}chp`}," ("+A(X.wsdata[e.data.token].chp?`${Number(X.wsdata[e.data.token].chp).toFixed(2)}`:"0.00")+"%)",9,VG)],10,LG)])):(z(),R("span",BG,[...t[31]||(t[31]=[W("₹0.00 ",-1),i("span",{class:"fs-9"}," 0.00 (0.00%)",-1)])]))])]),_:2},1024),e.data?(z(),q(ky,{key:0,cols:"7",sm:"8"},{default:H(()=>[d(cy,{color:"transparent",width:"100%",class:"elevation-0 d-inline-flex",style:{height:"8px"}},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adp||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"maingreen",style:{width:"100%"}})]),_:1},8,["style"]),e.data.Negative>0||e.data.Neutral>0?(z(),q(cy,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adn||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",style:{width:"100%"}})]),_:1},8,["style"])):ee("",!0),d(cy,{class:"elevation-0 rounded-lg crd-trn d-inline-flex overflow-hidden",style:c({width:e.data.adm||"0%",height:"8px",display:"inline-flex"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"mainred",style:{width:"100%"}})]),_:1},8,["style"])]),_:2},1024),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pt-1"},{default:H(()=>[e.data.Positive>0?(z(),R("p",$G,[d(wp,{color:"maingreen",size:"18"},{default:H(()=>[...t[32]||(t[32]=[W("mdi-arrow-top-right",-1)])]),_:1}),W(" "+A(e.data.Positive),1)])):ee("",!0)]),_:2},1024),d(ky,{cols:"6",class:"pt-1"},{default:H(()=>[e.data.Negative>0?(z(),R("p",RG,[W(A(e.data.Negative)+" ",1),d(wp,{color:"mainred",size:"18"},{default:H(()=>[...t[33]||(t[33]=[W("mdi-arrow-bottom-right",-1)])]),_:1})])):ee("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(z(),q(ky,{key:1,cols:"8"},{default:H(()=>[d(eG,{height:"8px",width:"100%",type:"card"})]),_:1}))]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))])],4)]),i("div",zG,[X&&(X.Sectors||X.Thematic)?(z(),q(im,{key:0,onClick:t[4]||(t[4]=t=>e.$router.push({name:"stocks advance decline",params:{abc:"sectors"===J.value?X.Sectors[0].key:X.Thematic[0].key,main:"sectors"===J.value?"Sectors":"Thematic"}})),text:"",variant:"flat",size:"small",block:"",class:"text-none primary--text px-2"},{default:H(()=>[...t[34]||(t[34]=[W("See all",-1)])]),_:1})):ee("",!0)])]),_:1}),d(ky,{cols:"12",sm:"6",class:"pt-md-0"},{default:H(()=>[i("div",UG,[t[35]||(t[35]=i("p",{class:"title font-weight-bold mb-0",style:{"flex-grow":"1"}},"Heatmap",-1)),d(rI,{modelValue:O.value,"onUpdate:modelValue":[t[5]||(t[5]=e=>O.value=e),t[6]||(t[6]=e=>Le())],items:P.value,readonly:b.value,variant:"flat",density:"compact","hide-details":"","bg-color":"secbg",class:"w-100 rounded-pill fullwidth-select",style:{color:"white","max-width":"50%"}},null,8,["modelValue","items","readonly"])]),d(cy,{height:"500px",width:"100%",id:"avddecchart",class:"crd-trn rounded-lg elevation-0 px-6 pt-1 pb-16 pos-rlt"},{default:H(()=>[L.value?(z(),R("div",qG,[i("div",HG,[t[37]||(t[37]=i("p",{class:"mb-2 title font-weight-bold"},"Service temporarily unavailable",-1)),t[38]||(t[38]=i("p",{class:"mb-4 subtext--text"},"Unable to load heatmap data. We will retry shortly.",-1)),d(im,{size:"small",color:"primary",variant:"plain",class:"text-none",onClick:t[7]||(t[7]=e=>Le())},{default:H(()=>[...t[36]||(t[36]=[W("Retry now",-1)])]),_:1})])])):ee("",!0)]),_:1})]),_:1})]),_:1}),d(jg,{class:"tool-sty elevation-0 my-3",ref:"ttt",id:"ttt",density:"compact",color:"transparent"},{default:H(()=>[t[41]||(t[41]=i("p",{class:"title font-weight-bold mb-0 mr-3"},"Today's trade action",-1)),d(zy),d(im,{onClick:t[8]||(t[8]=e=>Te("market",-600)),width:"26px",height:"26px",class:"mx-2",icon:"",size:"small",variant:"outlined"},{default:H(()=>[d(wp,{size:"24"},{default:H(()=>[...t[39]||(t[39]=[W("mdi-chevron-left",-1)])]),_:1})]),_:1}),d(im,{onClick:t[9]||(t[9]=e=>Ne("market",600)),width:"26px",height:"26px",class:"mr-1",icon:"",size:"small",variant:"outlined"},{default:H(()=>[d(wp,{size:"24"},{default:H(()=>[...t[40]||(t[40]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1})]),_:1},512),M((z(),R("div",jG,[(z(!0),R(u,null,U(v.value?[[],[],[],[]]:V.value,(a,l)=>(z(),R("div",{key:l,class:r(3==l?"mr-1":"mr-4")},[d(cy,{style:{border:"thin solid #EBEEF0 !important"},class:"rounded-lg elevation-0",color:"cardbg"},{default:H(()=>[d(jg,{class:"elevation-0 mb-0 mt-1 px-3",density:"compact",color:"transparent"},{default:H(()=>[i("img",{width:"24px",src:B[l],alt:j[l],class:"mr-2"},null,8,WG),i("p",YG,A(3==l?"Most active":0==l?"Top gainer":1==l?"Top losers":2==l?"Volume breakout":""),1),d(zy),d(im,{disabled:v.value,onClick:t=>e.$router.push({name:"stocks market",params:{abc:l}}),text:"",class:"text-none px-0 primary--text",size:"small"},{default:H(()=>[...t[42]||(t[42]=[W("See all",-1)])]),_:1},8,["disabled","onClick"])]),_:2},1024),d(PV,{"hide-default-footer":"","fixed-header":"",loading:v.value,class:"rounded-lg overflow-y-auto",style:{"min-width":"330px"},headers:ye.value,search:w.value,items:a,"items-per-page":5},{"item.tsym":H(({item:e})=>[i("p",GG,[i("span",{onClick:t=>Ee(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust",textContent:A(e.tsym)},null,8,KG),t[43]||(t[43]=i("br",null,null,-1)),2==l?(z(),R("span",{key:0,class:"fs-12 subtext-text",id:`ssdta${e.token}vol`,textContent:A(`Vol. : ${e.v}`)},null,8,XG)):ee("",!0)])]),"item.ltp":H(({item:e})=>[i("p",JG,[o.value?ee("",!0):(z(),R("span",QG,A(Me(l,e,"TA")),1)),i("span",ZG,[t[44]||(t[44]=W("₹",-1)),i("span",{id:`ssdta${e.token}ltp`,textContent:A(e.lp?Number(e.lp).toFixed(2):"0.00")},null,8,eK)]),t[45]||(t[45]=W()),t[46]||(t[46]=i("br",null,null,-1)),i("span",{class:"font-weight-medium fs-12 ws-p",id:`ssdta${e.token}chpclr`,style:c({color:e.ch>0?"green":e.ch<0&&"red"})},[i("span",{id:`ssdta${e.token}ch`,textContent:A(e.ch?e.ch:"0.00")},null,8,aK),i("span",{id:`ssdta${e.token}chp`,textContent:A(` (${e.chp?e.chp:e.pc}%)`)},null,8,lK)],12,tK)])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-0"},{default:H(()=>[d(hy,{"fill-height":""},{default:H(()=>[d(im,{block:"",class:"elevation-0 text-center rounded-xl",height:"240px",text:"",color:"transparent",onClick:Oe},{default:H(()=>[i("div",nK,[i("img",{width:"60px",src:B[l],alt:j[l],class:"mb-2 opc-05"},null,8,oK),i("h3",sK,A(3==l?"Most active":0==l?"Top gainer":1==l?"Top losers":2==l?"Volume breakout":""),1),t[47]||(t[47]=i("p",{class:"subtext--text mb-0 text-none"},"Click to load the Trade action",-1))])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["loading","headers","search","items"])]),_:2},1024)],2))),128))])),[[l,void 0,void 0,{x:!0}]]),d(cy,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mb-8",color:"cardbg"},{default:H(()=>[d(jg,{ref:"smcp",id:"smcp",class:"elevation-0 my-4 px-3",density:"compact",color:"transparent"},{default:H(()=>[i("img",{width:"40px",src:x(Jf),alt:"srcm",class:"mr-2"},null,8,iK),t[48]||(t[48]=i("p",{class:"title font-weight-bold mb-0",style:{color:"black"}},"Stock monitor",-1)),d(zy),d(Ry,{class:"d-flex align-center justify-end px-4","no-gutters":""},{default:H(()=>[d(rI,{modelValue:S.value,"onUpdate:modelValue":[t[10]||(t[10]=e=>S.value=e),t[11]||(t[11]=e=>Pe("yes"))],items:k.value,"item-title":"text","item-value":"value",variant:"flat",density:"compact","hide-details":"","menu-icon":"mdi-chevron-down",readonly:b.value,class:"rounded-pill d-none d-sm-flex text-center mr-3 elevation-0",style:{"max-width":"180px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","border-radius":"9999px","align-items":"center","justify-content":"center",display:"flex","margin-top":"0 !important","padding-top":"0 !important","align-self":"center"}},null,8,["modelValue","items","readonly"]),d(rI,{modelValue:I.value,"onUpdate:modelValue":[t[12]||(t[12]=e=>I.value=e),t[13]||(t[13]=e=>Pe("yes"))],items:C.value,"item-title":"text","item-value":"value",variant:"flat",density:"compact","hide-details":"","menu-icon":"mdi-chevron-down",readonly:b.value,class:"rounded-pill d-none d-sm-flex align-center text-center",style:{"max-width":"140px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","text-align":"center","border-radius":"9999px",display:"flex","align-items":"center","justify-content":"center","margin-top":"0 !important","padding-top":"0 !important"}},null,8,["modelValue","items","readonly"])]),_:1})]),_:1},512),d(PV,{"must-sort":"","sort-by":["chp"],"sort-desc":[!0],"hide-default-footer":"","fixed-header":"",loading:b.value,class:"rounded-lg overflow-y-auto",headers:be.value,search:w.value,items:E.value,"items-per-page":10},{"item.tsym":H(({item:e})=>[i("span",{onClick:t=>Ee(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p",style:{"font-size":"12px !important"},textContent:A(e.tsym)},null,8,rK)]),"item.ltp":H(({item:e})=>[i("p",uK,[o.value?ee("",!0):(z(),R("span",dK,A(Me("",e,"SCR")),1)),i("span",cK,[t[49]||(t[49]=W("₹",-1)),i("span",{id:`ssdsc${e.token}ltp`,textContent:A(e.lp?Number(e.lp).toFixed(2):"0.00")},null,8,pK)]),t[50]||(t[50]=W()),t[51]||(t[51]=i("br",null,null,-1)),i("span",{class:r(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`ssdsc${e.token}chpclr`,style:c({color:e.ch>0?"green":e.ch<0?"red":"gray"})},[i("span",{id:`ssdsc${e.token}ch`,textContent:A(e.ch?e.ch:"0.00")},null,8,vK),i("span",{id:`ssdsc${e.token}chp`,textContent:A(` (${e.chp?e.chp:e.pc}%)`)},null,8,hK)],14,mK)])]),"item.vol":H(({item:e})=>[i("span",fK,A(e.v?e.v:"0.00"),1)]),"item.op":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}op`},A(e.ap?e.ap:"0.00"),9,gK)]),"item.cp":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}cp`},A(e.c?e.c:"0.00"),9,yK)]),"item.high":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}high`},A(e.h?e.h:"0.00"),9,bK)]),"item.low":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}low`},A(e.l?e.l:"0.00"),9,xK)]),"no-data":H(()=>[T.value?(z(),q(ky,{key:0,cols:"12",class:"text-center pa-0"},{default:H(()=>[d(hy,{"fill-height":""},{default:H(()=>[d(im,{block:"",class:"elevation-0 text-center rounded-xl",height:"300px",text:"",color:"transparent",onClick:Pe},{default:H(()=>[i("div",wK,[i("img",{width:"60px",src:x(Bf),class:"mb-3"},null,8,_K),t[52]||(t[52]=i("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"Stock monitor",-1)),t[53]||(t[53]=i("p",{class:"subtext--text mb-0 text-none"},"Click to load the Market monitor data",-1))])]),_:1})]),_:1})]),_:1})):(z(),q(ky,{key:1,cols:"12",class:"text-center pa-16"},{default:H(()=>[i("div",null,[i("img",{width:"80px",src:x(wf),alt:"no data"},null,8,kK),t[54]||(t[54]=i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])]),_:1}))]),_:2},1032,["loading","headers","search","items"]),d(my),E.value&&E.value.length>0?(z(),q(im,{key:0,disabled:b.value,to:"/stocks/screener",block:"",text:"",class:"text-none primary--text",height:"48px"},{default:H(()=>[...t[55]||(t[55]=[W("See all",-1)])]),_:1},8,["disabled"])):ee("",!0)]),_:1}),d(Ry,{ref:"eve",id:"eve",class:"mb-6"},{default:H(()=>[d(ky,{cols:"12",md:"6",class:"py-md-0"},{default:H(()=>[d(cy,{style:{border:"thin solid #EBEEF0 !important"},class:"crd-trn elevation-0 overflow-hidden rounded-lg",width:"100%"},{default:H(()=>[i("div",SK,[i("p",CK,"Corporate Action ("+A(ae.value&&ae.value.length>0?ae.value.length:"..")+")",1),le.value?(z(),R("div",IK,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"crd-trn elevation-0 mx-auto py-16"},{default:H(()=>[d(Sp,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):ae.value&&ae.value.length>0?(z(),R("div",EK,[(z(!0),R(u,null,U(ae.value.slice(0,5),(e,a,l)=>(z(),q(cy,{variant:"outlined",key:l,class:"mb-3 rounded-lg",style:{"background-color":"#F1F3F8 !important",border:"none !important"}},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",class:"pa-3"},{default:H(()=>[i("p",TK,A(e.symbol),1),i("p",NK,[W(A(e.registrar)+" ",1),i("span",MK,"("+A(e.issueType)+")",1)])]),_:2},1024),d(ky,{cols:"4",class:"pa-3"},{default:H(()=>[t[57]||(t[57]=i("p",{class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-12 text-capitalize"}," Listing date ",-1)),i("p",AK,[W(A(e.biddingStartDate?e.biddingStartDate.slice(0,5):"")+" ",1),t[56]||(t[56]=i("span",{class:"fs-10 text-lowercase"},"to",-1)),W(" "+A(e.biddingEndDate),1)])]),_:2},1024),d(ky,{cols:"4",class:"pa-3"},{default:H(()=>[t[58]||(t[58]=i("p",{class:"txt-5E6 mb-1 mb-2 font-weight-medium fs-12 text-capitalize"}," Price offered ",-1)),i("p",OK,"₹"+A(e.minPrice?Number(e.minPrice).toFixed(2):"0.00"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):null==ae.value?(z(),R("div",PK,[d(hy,{"fill-height":""},{default:H(()=>[d(im,{block:"",class:"elevation-0 text-center rounded-xl",height:"200px",text:"",color:"primary",onClick:Ue},{default:H(()=>[i("div",FK,[i("img",{width:"60px",src:x(Yh),class:"mb-3"},null,8,LK),t[59]||(t[59]=i("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"Corporate Actions ",-1)),t[60]||(t[60]=i("p",{class:"subtext--text mb-0 text-none"},"Click to load the corporate action data ",-1))])]),_:1})]),_:1})])):(z(),R("div",DK,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"crd-trn elevation-0 mx-auto py-16 text-center"},{default:H(()=>[...t[61]||(t[61]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:1})]))]),ae.value&&ae.value.length>0&&o.value?(z(),q(im,{key:0,href:`https://profile.zebuetrade.com/corporateaction?uid=${o.value}&token=${p.value}`,target:"_blank",block:"",text:"",class:"text-none primary--text rounded-t-0 rounded-b-lg",height:"48px"},{default:H(()=>[...t[62]||(t[62]=[W("See all",-1)])]),_:1},8,["href"])):ee("",!0)]),_:1})]),_:1}),d(ky,{cols:"12",md:"6",class:"py-md-0"},{default:H(()=>[d(cy,{style:{border:"thin solid #EBEEF0 !important"},class:"crd-trn elevation-0 overflow-hidden rounded-lg",width:"100%"},{default:H(()=>[i("div",VK,[i("p",BK,"News ("+A(Z.value&&Z.value.length>0?Z.value.length:"..")+")",1),te.value?(z(),R("div",$K,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"crd-trn elevation-0 mx-auto py-16"},{default:H(()=>[d(Sp,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):Z.value&&Z.value.length>0?(z(),R("div",RK,[(z(!0),R(u,null,U(Z.value.slice(0,5),(e,t)=>(z(),R("div",{key:t,class:"mb-0 cursor-p",onClick:t=>(e=>{e&&window.open(e.link,"_blank")})(e)},[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",sm:"3",xl:"2"},{default:H(()=>[d(cy,{class:"rounded-lg elevation-0"},{default:H(()=>[i("img",{src:e.image,width:"100%",height:"60px",class:"rounded-lg",alt:e.image},null,8,UK)]),_:2},1024)]),_:2},1024),d(ky,{cols:"8",sm:"9",xl:"10",class:"pl-0 pl-sm-2 pt-2"},{default:H(()=>[d(cb,{"two-line":"",class:"px-0 pr-sm-3"},{default:H(()=>[d(a,{class:"py-0"},{default:H(()=>[i("p",qK,A(e.title),1),d(rb,{class:"fs-12 font-weight-regular"},{default:H(()=>[W(A(e.isdate),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],8,zK))),128))])):null==Z.value?(z(),R("div",HK,[d(hy,{"fill-height":""},{default:H(()=>[d(im,{block:"",class:"elevation-0 text-center rounded-xl",height:"200px",text:"",color:"primary",onClick:ze},{default:H(()=>[i("div",jK,[i("img",{width:"60px",src:x(xf),class:"mb-3"},null,8,WK),t[63]||(t[63]=i("h3",{class:"primary--text font-weight-medium mb-2 text-none"},"News",-1)),t[64]||(t[64]=i("p",{class:"subtext--text mb-0 text-none"},"Click to load the latest news",-1))])]),_:1})]),_:1})])):(z(),R("div",YK,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"crd-trn elevation-0 mx-auto py-16 text-center"},{default:H(()=>[...t[65]||(t[65]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no news data here yet!")],-1)])]),_:1})]),_:1})]))]),Z.value&&Z.value.length>0?(z(),q(im,{key:0,href:"https://zebuetrade.com/news",target:"_blank",block:"",text:"",class:"text-none primary--text rounded-t-0 rounded-b-lg",height:"48px"},{default:H(()=>[...t[66]||(t[66]=[W("See all",-1)])]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1},512)])}}};var KK,XK,JK,QK,ZK,eX,tX,aX,lX,nX,oX,sX,iX,rX,uX,dX,cX,pX,mX,vX,hX,fX,gX,yX,bX,xX,wX,_X,kX,SX,CX,IX,EX,TX,NX,MX,AX,OX,PX,FX,LX,DX,VX,BX,$X,RX,zX,UX,qX,HX,jX,WX,YX,GX,KX,XX,JX,QX,ZX,eJ,tJ,aJ,lJ,nJ,oJ,sJ,iJ,rJ,uJ,dJ,cJ,pJ,mJ,vJ,hJ,fJ,gJ,yJ,bJ,xJ,wJ,_J,kJ,SJ;function CJ(e,t){const a={...e};for(const l in t)"object"!=typeof e[l]||null===e[l]||Array.isArray(e[l])?void 0!==t[l]&&(a[l]=t[l]):a[l]=CJ(e[l],t[l]);return a}(SJ=KK||(KK={})).UnknownAction="UnknownAction",SJ.Spinner="Spinner",SJ.Loading="Loading",SJ.AlertAdd="Alert.Add",SJ.AlertEdit="Alert.Edit",SJ.AlertsClone="Alerts.Clone",SJ.AlertsRemove="Alerts.Remove",SJ.AlertsRemoveAll="Alerts.RemoveAll",SJ.AlertsRemoveFiltered="Alerts.RemoveFiltered",SJ.AlertsRemoveAllInactive="Alerts.RemoveAllInactive",SJ.AlertsRemoveAllWatchlistInactive="Alerts.RemoveAllWatchlistInactive",SJ.AlertsRemoveFires="Alerts.RemoveFires",SJ.AlertsRestart="Alerts.Restart",SJ.AlertsRestartAllInactive="Alerts.RestartAllInactive",SJ.AlertsRestartFilteredInactive="Alerts.RestartFilteredInactive",SJ.AlertsStop="Alerts.Stop",SJ.AlertsStopAll="Alerts.StopAll",SJ.AlertsStopFilteredActive="Alerts.StopFilteredActive",SJ.AlertsExportFiresToCSV="Alerts.ExportFiresToCSV",SJ.AlertsLogClear="AlertsLog.Clear",SJ.ChartAddIndicatorToAllCharts="Chart.AddIndicatorToAllCharts",SJ.ChartAddSymbolToWatchList="Chart.AddSymbolToWatchList",SJ.ChartAlertLabelToggleExtendLines="Chart.AlertLabel.ToggleExtendLines",SJ.ChartApplyIndicatorsToAllCharts="Chart.ApplyIndicatorsToAllCharts",SJ.ChartIndicatorApplyChildIndicator="Chart.Indicator.ApplyChildIndicator",SJ.ChartIndicatorApplyFinancials="Chart.Indicator.ApplyFinancials",SJ.ChartIndicatorAbout="Chart.Indicator.About",SJ.ChartIndicatorPineLogs="Chart.Indicator.PineLogs",SJ.ChartIndicatorPineSource="Chart.Indicator.PineSource",SJ.ChartIndicatorAddFavorites="Chart.Indicator.AddFavorites",SJ.ChartChangeTimeZone="Chart.ChangeTimeZone",SJ.ChartClipboardCopyPrice="Chart.Clipboard.CopyPrice",SJ.ChartClipboardCopyLineTools="Chart.Clipboard.CopyLineTools",SJ.ChartClipboardCopySource="Chart.Clipboard.CopySource",SJ.ChartClipboardPasteSource="Chart.Clipboard.PasteSource",SJ.ChartCrosshairLockVerticalCursor="Chart.Crosshair.LockVerticalCursor",SJ.ChartCrosshairPlusButtonDrawHorizontalLine="Chart.Crosshair.PlusButton.DrawHorizontalLine",SJ.ChartCustomActionId="Chart.CustomActionId",SJ.ChartDialogsShowChangeInterval="Chart.Dialogs.ShowChangeInterval",SJ.ChartDialogsShowChangeSymbol="Chart.Dialogs.ShowChangeSymbol",SJ.ChartDialogsShowCompareOrAddSymbol="Chart.Dialogs.ShowCompareOrAddSymbol",SJ.ChartDialogsShowGeneralSettings="Chart.Dialogs.ShowGeneralSettings",SJ.ChartDialogsShowGeneralSettingsLegendTab="Chart.Dialogs.ShowGeneralSettings.LegendTab",SJ.ChartDialogsShowGeneralSettingsSymbolTab="Chart.Dialogs.ShowGeneralSettings.SymbolTab",SJ.ChartDialogsShowGeneralScalesTab="Chart.Dialogs.ShowGeneralSettings.ScalesTab",SJ.ChartDialogsShowGeneralSettingsEventsTab="Chart.Dialogs.ShowGeneralSettings.EventsTab",SJ.ChartDialogsShowGeneralSettingsAlertsTab="Chart.Dialogs.ShowGeneralSettings.AlertsTab",SJ.ChartDialogsShowGoToDate="Chart.Dialogs.ShowGoToDate",SJ.ChartDialogsShowInsertIndicators="Chart.Dialogs.ShowInsertIndicators",SJ.ChartDialogsShowInsertFinancials="Chart.Dialogs.ShowInsertFinancials",SJ.ChartDialogsShowInsertSeasonals="Chart.Dialogs.ShowInsertSeasonals",SJ.ChartDialogsShowInsertTechnicals="Chart.Dialogs.ShowInsertTechnicals",SJ.ChartDialogsShowInsertForecast="Chart.Dialogs.ShowInsertForecast",SJ.ChartDialogsShowInsertOptions="Chart.Dialogs.ShowInsertOptions",SJ.ChartDetailsMetricsActionId="Chart.Dialogs.DetailsMetrics",SJ.ChartDialogsShowInsertEconomyIndicators="Chart.Dialogs.ShowInsertEconomyIndicators",SJ.ChartDialogsShowSymbolInfo="Chart.Dialogs.ShowSymbolInfo",SJ.ChartDrawingToolbarToggleVisibility="Chart.DrawingToolbar.ToggleVisibility",SJ.ChartExternalActionId="Chart.ExternalActionId",SJ.ChartFavoriteDrawingToolsToolbarHide="Chart.FavoriteDrawingToolsToolbar.Hide",SJ.ChartIndicatorShowSettingsDialog="Chart.Indicator.ShowSettingsDialog",SJ.ChartLegendToggleLastDayChangeValuesVisibility="Chart.Legend.ToggleLastDayChangeValuesVisibility",SJ.ChartLinkingGroupSync="Chart.LinkingGroupSync",SJ.ChartLinkingGroupSyncChangeGroup="Chart.LinkingGroupSync.ChangeGroup",SJ.ChartLegendToggleBarChangeValuesVisibility="Chart.Legend.ToggleBarChangeValuesVisibility",SJ.ChartLegendTogglePriceSourceVisibility="Chart.Legend.TogglePriceSourceVisibility",SJ.ChartLegendToggleIndicatorArgumentsVisibility="Chart.Legend.ToggleIndicatorArgumentsVisibility",SJ.ChartLegendToggleIndicatorTitlesVisibility="Chart.Legend.ToggleIndicatorTitlesVisibility",SJ.ChartLegendToggleIndicatorValuesVisibility="Chart.Legend.ToggleIndicatorValuesVisibility",SJ.ChartLegendToggleOhlcValuesVisibility="Chart.Legend.ToggleOhlcValuesVisibility",SJ.ChartLegendToggleOpenMarketStatusVisibility="Chart.Legend.ToggleOpenMarketStatusVisibility",SJ.ChartLegendToggleSymbolVisibility="Chart.Legend.ToggleSymbolVisibility",SJ.ChartLegendToggleVolumeVisibility="Chart.Legend.ToggleVolumeVisibility",SJ.ChartLines="Chart.Lines",SJ.ChartLinesToggleBidAskLinesVisibility="Chart.Lines.ToggleBidAskLinesVisibility",SJ.ChartLinesToggleHighLowLinesVisibility="Chart.Lines.ToggleHighLowLinesVisibility",SJ.ChartLinesToggleAverageLineVisibility="Chart.Lines.ToggleAverageLineVisibility",SJ.ChartLinesTogglePrePostMarketPriceLineVisibility="Chart.Lines.TogglePrePostMarketPriceLineVisibility",SJ.ChartLinesToggleSeriesPrevCloseLineVisibility="Chart.Lines.ToggleSeriesPrevCloseLineVisibility",SJ.ChartLinesToggleSeriesPriceLineVisibility="Chart.Lines.ToggleSeriesPriceLineVisibility",SJ.ChartLineToolBarsPatternToggleFlipped="Chart.LineTool.BarsPattern.ToggleFlipped",SJ.ChartLineToolBarsPatternToggleMirrored="Chart.LineTool.BarsPattern.ToggleMirrored",SJ.ChartLineToolRiskRewardReverse="Chart.LineTool.RiskReward.Reverse",SJ.ChartLineToolClone="Chart.LineTool.Clone",SJ.ChartLineToolCreateLimitOrderFromState="Chart.LineTool.CreateLimitOrderFromState",SJ.ChartLineToolElliotChangeDegreeProperty="Chart.LineTool.Elliot.ChangeDegreeProperty",SJ.ChartLineToolNoSync="Chart.LineTool.NoSync",SJ.ChartLineToolPitchforkChangeTypeToInside="Chart.LineTool.Pitchfork.ChangeTypeToInside",SJ.ChartLineToolPitchforkChangeTypeToModifiedSchiff="Chart.LineTool.Pitchfork.ChangeTypeToModifiedSchiff",SJ.ChartLineToolPitchforkChangeTypeToOriginal="Chart.LineTool.Pitchfork.ChangeTypeToOriginal",SJ.ChartLineToolPitchforkChangeTypeToSchiff="Chart.LineTool.Pitchfork.ChangeTypeToSchiff",SJ.ChartLineToolSyncInLayout="Chart.LineTool.SyncInLayout",SJ.ChartLineToolSyncGlobally="Chart.LineTool.SyncGlobally",SJ.ChartLineToolTemplates="Chart.LineTool.Templates",SJ.ChartLineToolTemplatesApply="Chart.LineTool.Templates.Apply",SJ.ChartLineToolTemplatesApplyDefaults="Chart.LineTool.Templates.ApplyDefaults",SJ.ChartLineToolTemplatesSaveAs="Chart.LineTool.Templates.SaveAs",SJ.ChartLineToolToolbarChangeFontSizeProperty="Chart.LineTool.Toolbar.ChangeFontSizeProperty",SJ.ChartLineToolToolbarChangeLineStyleToDashed="Chart.LineTool.Toolbar.ChangeLineStyleToDashed",SJ.ChartLineToolToolbarChangeLineStyleToDotted="Chart.LineTool.Toolbar.ChangeLineStyleToDotted",SJ.ChartLineToolToolbarChangeLineStyleToSolid="Chart.LineTool.Toolbar.ChangeLineStyleToSolid",SJ.ChartMarksToggleVisibility="Chart.Marks.ToggleVisibility",SJ.ChartMoveChartInLayout="Chart.MoveChartInLayout",SJ.ChartMoveChartInLayoutBack="Chart.MoveChartInLayout.Back",SJ.ChartMoveChartInLayoutForward="Chart.MoveChartInLayout.Forward",SJ.ChartTpoResetAllMergesAndSplits="Chart.TPO.ResetAllMergesAndSplits",SJ.ChartTpoSplitBlock="Chart.TPO.SplitBlock",SJ.ChartTpoMergeBlock="Chart.TPO.MergeBlock",SJ.ChartObjectTreeShow="Chart.ObjectTree.Show",SJ.ChartDataWindowShow="Chart.DataWindow.Show",SJ.ChartPaneControlsDeletePane="Chart.PaneControls.DeletePane",SJ.ChartPaneControlsMaximizePane="Chart.PaneControls.MaximizePane",SJ.ChartPaneControlsMinimizePane="Chart.PaneControls.MinimizePane",SJ.ChartPaneControlsMovePaneDown="Chart.PaneControls.MovePaneDown",SJ.ChartPaneControlsMovePaneUp="Chart.PaneControls.MovePaneUp",SJ.ChartPaneControlsCollapsePane="Chart.PaneControls.CollapsePane",SJ.ChartPaneControlsRestorePane="Chart.PaneControls.RestorePane",SJ.ChartPriceScaleLabels="Chart.PriceScale.Labels",SJ.ChartPriceScaleLabelsToggleBidAskLabelsVisibility="Chart.PriceScale.Labels.ToggleBidAskLabelsVisibility",SJ.ChartPriceScaleLabelsToggleHighLowPriceLabelsVisibility="Chart.PriceScale.Labels.ToggleHighLowPriceLabelsVisibility",SJ.ChartPriceScaleLabelsToggleAveragePriceLabelVisibility="Chart.PriceScale.Labels.ToggleAveragePriceLabelVisibility",SJ.ChartPriceScaleLabelsToggleIndicatorsNameLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsNameLabelsVisibility",SJ.ChartPriceScaleLabelsToggleIndicatorsValueLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsValueLabelsVisibility",SJ.ChartPriceScaleLabelsTogglePrePostMarketLabelsVisibility="Chart.PriceScale.Labels.TogglePrePostMarketLabelsVisibility",SJ.ChartPriceScaleLabelsToggleNoOverlappingLabelsVisibility="Chart.PriceScale.Labels.ToggleNoOverlappingLabelsVisibility",SJ.ChartPriceScaleLabelsToggleSeriesLastValueVisibility="Chart.PriceScale.Labels.ToggleSeriesLastValueVisibility",SJ.ChartPriceScaleLabelsToggleSymbolNameLabelsVisibility="Chart.PriceScale.Labels.ToggleSymbolNameLabelsVisibility",SJ.ChartPriceScaleLabelsToggleSymbolPrevCloseValueVisibility="Chart.PriceScale.Labels.ToggleSymbolPrevCloseValueVisibility",SJ.ChartPriceScaleMergeAllScales="Chart.PriceScale.MergeAllScales",SJ.ChartPriceScaleMergeAllScalesToLeft="Chart.PriceScale.MergeAllScalesToLeft",SJ.ChartPriceScaleMergeAllScalesToRight="Chart.PriceScale.MergeAllScalesToRight",SJ.ChartPriceScaleMoveToLeft="Chart.PriceScale.MoveToLeft",SJ.ChartPriceScaleMoveToRight="Chart.PriceScale.MoveToRight",SJ.ChartPriceScaleReset="Chart.PriceScale.Reset",SJ.ChartPriceScaleToggleAddOrderPlusButtonVisibility="Chart.PriceScale.ToggleAddOrderPlusButtonVisibility",SJ.ChartPriceScaleToggleAutoScale="Chart.PriceScale.ToggleAutoScale",SJ.ChartPriceScaleToggleAutoScaleSeriesOnly="Chart.PriceScale.ToggleAutoScaleSeriesOnly",SJ.ChartPriceScaleToggleCountdownToBarCloseVisibility="Chart.PriceScale.ToggleCountdownToBarCloseVisibility",SJ.ChartPriceScaleToggleIndexedTo100="Chart.PriceScale.ToggleIndexedTo100",SJ.ChartPriceScaleToggleInvertScale="Chart.PriceScale.ToggleInvertScale",SJ.ChartPriceScaleToggleLogarithmic="Chart.PriceScale.ToggleLogarithmic",SJ.ChartPriceScaleTogglePercentage="Chart.PriceScale.TogglePercentage",SJ.ChartPriceScaleToggleRegular="Chart.PriceScale.ToggleRegular",SJ.ChartRedo="Chart.Redo",SJ.ChartRemoveAllIndicators="Chart.RemoveAllIndicators",SJ.ChartRemoveAllIndicatorsAndLineTools="Chart.RemoveAllIndicatorsAndLineTools",SJ.ChartRemoveAllLineTools="Chart.RemoveAllLineTools",SJ.ChartScalesReset="Chart.Scales.Reset",SJ.ChartScalesToggleLockPriceToBarRatio="Chart.Scales.ToggleLockPriceToBarRatio",SJ.ChartScrollToLineTool="Chart.ScrollToLineTool",SJ.ChartSelectedObjectHide="Chart.SelectedObject.Hide",SJ.ChartSelectedObjectRemove="Chart.SelectedObject.Remove",SJ.ChartSelectedObjectShow="Chart.SelectedObject.Show",SJ.ChartSelectedObjectShowSettingsDialog="Chart.SelectedObject.ShowSettingsDialog",SJ.ChartSelectedObjectInsertRowTable="Chart.SelectedObject.InsertRowTable",SJ.ChartSelectedObjectInsertColumnTable="Chart.SelectedObject.InsertColumnTable",SJ.ChartSelectedObjectRemoveRowTable="Chart.SelectedObject.RemoveRowTable",SJ.ChartSelectedObjectRemoveColumnTable="Chart.SelectedObject.RemoveColumnTable",SJ.ChartSelectedObjectToggleLocked="Chart.SelectedObject.ToggleLocked",SJ.ChartSelectedObjectToggleAnchored="Chart.SelectedObject.ToggleAnchored",SJ.ChartSeriesPriceScaleToggleAutoScale="Chart.Series.PriceScale.ToggleAutoScale",SJ.ChartSeriesPriceScaleToggleIndexedTo100="Chart.Series.PriceScale.ToggleIndexedTo100",SJ.ChartSeriesPriceScaleToggleInvertPriceScale="Chart.Series.PriceScale.ToggleInvertPriceScale",SJ.ChartSeriesPriceScaleToggleLogarithmic="Chart.Series.PriceScale.ToggleLogarithmic",SJ.ChartSeriesPriceScaleTogglePercentage="Chart.Series.PriceScale.TogglePercentage",SJ.ChartSeriesPriceScaleToggleRegular="Chart.Series.PriceScale.ToggleRegular",SJ.ChartSessionBreaksToggleVisibility="Chart.SessionBreaks.ToggleVisibility",SJ.ChartSetSession="Chart.SetSession",SJ.ChartSourceChangePriceScale="Chart.Source.ChangePriceScale",SJ.ChartSourceMergeDown="Chart.Source.MergeDown",SJ.ChartSourceMergeUp="Chart.Source.MergeUp",SJ.ChartSourceMoveToNoScale="Chart.Source.MoveToNoScale",SJ.ChartSourceMoveToOtherScale="Chart.Source.MoveToOtherScale",SJ.ChartSourceMoveToPane="Chart.Source.MoveToPane",SJ.ChartSourceUnmergeDown="Chart.Source.UnmergeDown",SJ.ChartSourceUnmergeUp="Chart.Source.UnmergeUp",SJ.ChartSourceVisualOrder="Chart.Source.VisualOrder",SJ.ChartSourceVisualOrderBringForward="Chart.Source.VisualOrder.BringForward",SJ.ChartSourceVisualOrderBringToFront="Chart.Source.VisualOrder.BringToFront",SJ.ChartSourceVisualOrderSendBackward="Chart.Source.VisualOrder.SendBackward",SJ.ChartSourceVisualOrderSendToBack="Chart.Source.VisualOrder.SendToBack",SJ.ChartSourceResetInputPoints="Chart.Source.ResetInputPoints",SJ.ChartThemeApply="Chart.Theme.Apply",SJ.ChartThemeApplyCustom="Chart.Theme.Apply.Custom",SJ.ChartThemeSaveAs="Chart.Theme.SaveAs",SJ.ChartTimeScaleReset="Chart.TimeScale.Reset",SJ.ChartUndo="Chart.Undo",SJ.ChartShowAllIdeas="Chart.ShowAllIdeas",SJ.ChartShowIdeasOfFollowedUsers="Chart.ShowIdeasOfFollowedUsers",SJ.ChartShowMyIdeasOnly="Chart.ShowMyIdeasOnly",SJ.ChartToggleVisibilityAllLineTools="Chart.ToggleVisibility.AllLineTools",SJ.ChartToggleVisibilityContinuousContractSwitch="Chart.ToggleVisibility.ContinuousContractSwitch",SJ.ChartToggleVisibilityContractExpiration="Chart.ToggleVisibility.ContractExpiration",SJ.ChartToggleVisibilityDividends="Chart.ToggleVisibility.Dividends",SJ.ChartToggleVisibilityEarnings="Chart.ToggleVisibility.Earnings",SJ.ChartToggleVisibilityEconomicEvents="Chart.ToggleVisibility.EconomicEvents",SJ.ChartToggleVisibilitySplits="Chart.ToggleVisibility.Splits",SJ.ChartToggleVisibilityLatestNewsAndMinds="Chart.ToggleVisibility.LatestNewsAndMinds",SJ.ChartToggleVisibilityKeyFactsToday="Chart.ToggleVisibility.KeyFactsToday",SJ.ChartSourceIntervalsVisibility="Chart.Source.IntervalsVisibility",SJ.ChartSourceIntervalsVisibilityCurrentAndAbove="Chart.Source.IntervalsVisibility.CurrentAndAbove",SJ.ChartSourceIntervalsVisibilityCurrentAndBelow="Chart.Source.IntervalsVisibility.CurrentAndBelow",SJ.ChartSourceIntervalsVisibilityOnlyCurrent="Chart.Source.IntervalsVisibility.Current",SJ.ChartSourceIntervalsVisibilityAll="Chart.Source.IntervalsVisibility.All",SJ.NoteCreate="Note.Create",SJ.NoteEdit="Note.Edit",SJ.NoteRemove="Note.Remove",SJ.ObjectsTreeCreateGroup="ObjectsTree.CreateGroup",SJ.ObjectsTreeRemoveItem="ObjectsTree.RemoveItem",SJ.ObjectsTreeRenameItem="ObjectsTree.RenameItem",SJ.ObjectsTreeToggleItemLocked="ObjectsTree.ToggleItemLocked",SJ.ObjectsTreeToggleItemVisibility="ObjectsTree.ToggleItemVisibility",SJ.PineEditorConsoleCopyMessage="PineEditor.Console.CopyMessage",SJ.PineEditorConsoleToggleVisibility="PineEditor.Console.ToggleVisibility",SJ.PineEditorConsoleClear="PineEditor.Console.Clear",SJ.ScreenerColumnRemove="Screener.Column.Remove",SJ.ScreenerFilterChange="Screener.Filter.Change",SJ.ScreenerFilterReset="Screener.Filter.Reset",SJ.ScreenerToggleVisibilityCurrency="Screener.ToggleVisibility.Currency",SJ.ScreenerToggleVisibilityDescription="Screener.ToggleVisibility.Description",SJ.ScreenerToggleVisibilityRating="Screener.ToggleVisibility.Rating",SJ.ScreenerToggleVisibilitySymbolType="Screener.ToggleVisibility.SymbolType",SJ.TradingCancelOrder="Trading.CancelOrder",SJ.TradingClosePosition="Trading.ClosePosition",SJ.TradingCustomActionId="Trading.CustomActionId",SJ.TradingDOMPlaceLimitOrder="Trading.DOMPlaceLimitOrder",SJ.TradingDOMPlaceMarketOrder="Trading.DOMPlaceMarketOrder",SJ.TradingDOMPlaceStopLimitOrder="Trading.DOMPlaceStopLimitOrder",SJ.TradingDOMPlaceStopOrder="Trading.DOMPlaceStopOrder",SJ.TradingEditOrder="Trading.EditOrder",SJ.TradingModifyPosition="Trading.ModifyPosition",SJ.TradingReversePosition="Trading.ReversePosition",SJ.TradingSellBuyButtonsToggleVisibility="Trading.SellBuyButtonsToggleVisibility",SJ.TradingTradeFromChart="Trading.TradeFromChart",SJ.TradingNoOverlapMode="Trading.NoOverlapMode",SJ.TradingShowSelectBrokerPanel="Trading.ShowSelectBrokerPanel",SJ.TradingOrderTitle="Trading.OrderTitle",SJ.TradingPositionTitle="Trading.PositionTitle",SJ.WatchlistActions="Watchlist.Actions",SJ.WatchlistAddSelectedSymbolsToCompare="Watchlist.AddSelectedSymbolsToCompare ",SJ.WatchlistAddSymbolToCompare="Watchlist.AddSymbolToCompare",SJ.WatchlistAddSymbolToSection="Watchlist.AddSymbolToSection",SJ.WatchlistChangeFlaggedGroupColor="Watchlist.ChangeFlaggedGroupColor",SJ.WatchlistAddSymbol="Watchlist.AddSymbol",SJ.WatchlistCreate="Watchlist.Create",SJ.WatchlistAddSelectedSymbols="Watchlist.AddSelectedSymbols",SJ.WatchlistAddSelectedSymbolsLists="Watchlist.AddSelectedSymbols.Lists",SJ.WatchlistGetDisplayedTickerDescription="Watchlist.GetDisplayedTickerDescription",SJ.WatchlistCreateSection="Watchlist.CreateSection",SJ.WatchlistFlagSelectedSymbols="Watchlist.FlagSelectedSymbols",SJ.WatchlistFlagSymbol="Watchlist.FlagSymbol",SJ.WatchlistOpenSymbolChart="Watchlist.OpenSymbolChart",SJ.WatchlistOpenSymbolOverview="Watchlist.OpenSymbolOverview",SJ.WatchlistRemoveSection="Watchlist.RemoveSection",SJ.WatchlistRemoveSymbol="Watchlist.RemoveSymbol",SJ.WatchlistRenameSection="Watchlist.RenameSection",SJ.WatchlistUnflagAllSymbols="Watchlist.UnflagAllSymbols",SJ.WatchlistUnflagSelectedSymbols="Watchlist.UnflagSelectedSymbols",SJ.WatchlistUnflagSymbol="Watchlist.UnflagSymbol",function(e){e.extractErrorReason=function(e){return e.params[1]}}(XK||(XK={})),function(e){e.Default="default",e.FullSingleSession="full_single_session"}(JK||(JK={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(QK||(QK={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(ZK||(ZK={})),function(e){e.Open="market",e.Pre="pre_market",e.Post="post_market",e.Close="out_of_session",e.Holiday="holiday"}(eX||(eX={})),function(e){e.Separator="separator",e.Action="action"}(tX||(tX={})),function(e){e[e.All=0]="All",e[e.BarMarks=1]="BarMarks",e[e.TimeScaleMarks=2]="TimeScaleMarks"}(aX||(aX={})),function(e){e[e.Line=0]="Line",e[e.Histogram=1]="Histogram",e[e.Cross=3]="Cross",e[e.Area=4]="Area",e[e.Columns=5]="Columns",e[e.Circles=6]="Circles",e[e.LineWithBreaks=7]="LineWithBreaks",e[e.AreaWithBreaks=8]="AreaWithBreaks",e[e.StepLine=9]="StepLine",e[e.StepLineWithDiamonds=10]="StepLineWithDiamonds",e[e.StepLineWithBreaks=11]="StepLineWithBreaks"}(lX||(lX={})),function(e){e.Line="line",e.Colorer="colorer",e.BarColorer="bar_colorer",e.BgColorer="bg_colorer",e.TextColorer="text_colorer",e.OhlcColorer="ohlc_colorer",e.CandleWickColorer="wick_colorer",e.CandleBorderColorer="border_colorer",e.UpColorer="up_colorer",e.DownColorer="down_colorer",e.Shapes="shapes",e.Chars="chars",e.Arrows="arrows",e.Data="data",e.DataOffset="dataoffset",e.OhlcOpen="ohlc_open",e.OhlcHigh="ohlc_high",e.OhlcLow="ohlc_low",e.OhlcClose="ohlc_close"}(nX||(nX={})),function(e){e.AlertCondition="alertcondition"}(oX||(oX={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(sX||(sX={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(iX||(iX={})),function(e){e.OhlcBars="ohlc_bars",e.OhlcCandles="ohlc_candles"}(rX||(rX={})),function(e){e.Auto="auto",e.Tiny="tiny",e.Small="small",e.Normal="normal",e.Large="large",e.Huge="huge"}(uX||(uX={})),function(e){e.Integer="integer",e.Float="float",e.Price="price",e.Bool="bool",e.Text="text",e.Symbol="symbol",e.Session="session",e.Source="source",e.Resolution="resolution",e.Time="time",e.BarTime="bar_time",e.Color="color",e.Textarea="text_area"}(dX||(dX={})),function(e){e[e.None=0]="None",e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(cX||(cX={})),function(e){e.InitialCapital="initial_capital",e.Currency="currency",e.DefaultQTYValue="default_qty_value",e.DefaultQTYType="default_qty_type",e.Pyramiding="pyramiding",e.ComissionValue="commission_value",e.ComissionType="commission_type",e.BacktestFillLimitsAssumtion="backtest_fill_limits_assumption",e.Slippage="slippage",e.CalcOnOrderFills="calc_on_order_fills",e.CalcOnEveryTick="calc_on_every_tick",e.MarginLong="margin_long",e.MarginShort="margin_short",e.UseBarMagnifier="use_bar_magnifier",e.ProcessOrdersOnClose="process_orders_on_close",e.FillOrdersOnStandardOHLC="fill_orders_on_standard_ohlc"}(pX||(pX={})),function(e){e.Fixed="fixed",e.CashPerOrder="cash_per_order",e.PercentOfEquity="percent_of_equity"}(mX||(mX={})),function(e){e.Percent="percent",e.CashPerContract="cash_per_contract",e.CashPerOrder="cash_per_order"}(vX||(vX={})),function(e){e.FirstBar="first_visible_bar_time",e.LastBar="last_visible_bar_time",e.Realtime="subscribeRealtime"}(hX||(hX={})),function(e){e.FgColor="__chart_fgcolor",e.BgColor="__chart_bgcolor"}(fX||(fX={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.NoScale=2]="NoScale"}(gX||(gX={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.None=2]="None"}(yX||(yX={})),function(e){e.TypePlots="plot_plot",e.TypeHlines="hline_hline"}(bX||(bX={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop",e[e.GuaranteedStop=2]="GuaranteedStop"}(xX||(xX={})),function(e){e.Stocks="stocks",e.Futures="futures",e.Forex="forex",e.Crypto="crypto",e.Others="others"}(wX||(wX={})),function(e){e.Symbol="symbol"}(_X||(_X={})),function(e){e[e.PopUp=0]="PopUp",e[e.Notification=1]="Notification"}(kX||(kX={})),function(e){e.Quantity="qty",e.OrderSide="side",e.Price="price",e.Duration="duration",e.Brackets="brackets",e.StopLossType="slType"}(SX||(SX={})),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(CX||(CX={})),function(e){e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected",e[e.Error=4]="Error"}(IX||(IX={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(EX||(EX={})),function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(TX||(TX={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(NX||(NX={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(MX||(MX={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(AX||(AX={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(OX||(OX={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Placing=4]="Placing",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(PX||(PX={})),function(e){e[e.All=0]="All",e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(FX||(FX={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(LX||(LX={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(DX||(DX={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position",e[e.IndividualPosition=3]="IndividualPosition"}(VX||(VX={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop",e[e.GuaranteedStop=3]="GuaranteedStop"}(BX||(BX={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}($X||($X={})),function(e){e[e.LimitPrice=1]="LimitPrice",e[e.StopPrice=2]="StopPrice",e[e.TakeProfit=3]="TakeProfit",e[e.StopLoss=4]="StopLoss",e[e.Quantity=5]="Quantity"}(RX||(RX={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(zX||(zX={})),function(e){e[e.Error=0]="Error",e[e.Success=1]="Success"}(UX||(UX={})),function(e){e[e.Demo=1]="Demo",e[e.Real=0]="Real"}(qX||(qX={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(HX||(HX={})),function(e){e.Demo="demo",e.Live="live"}(jX||(jX={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.Reconnect=9]="Reconnect",e[e.FailedSignIn=10]="FailedSignIn"}(WX||(WX={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(YX||(YX={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(GX||(GX={})),function(e){e[e.Limit=1]="Limit",e[e.Stop=2]="Stop"}(KX||(KX={})),function(e){e.Disallowed="disallowed",e.Allowed="allowed",e.AllowedWithWarning="allowed_with_warning"}(XX||(XX={})),function(e){e.PlaceOrder="place_order",e.ModifyOrder="modify_order",e.CancelOrder="cancel_order",e.ModifyPosition="modify_position",e.ClosePosition="close_position",e.ModifyIndividualPosition="modify_individual_position",e.CloseIndividualPosition="close_individual_position",e.CloseNetPosition="close_net_position"}(JX||(JX={})),function(e){e.Date="date",e.DateOrDateTime="dateOrDateTime",e.Default="default",e.Fixed="fixed",e.FixedInCurrency="fixedInCurrency",e.VariablePrecision="variablePrecision",e.FormatQuantity="formatQuantity",e.FormatPrice="formatPrice",e.FormatPriceForexSup="formatPriceForexSup",e.FormatPriceInCurrency="formatPriceInCurrency",e.IntegerSeparated="integerSeparated",e.LocalDate="localDate",e.LocalDateOrDateTime="localDateOrDateTime",e.Percentage="percentage",e.Pips="pips",e.Profit="profit",e.ProfitInInstrumentCurrency="profitInInstrumentCurrency",e.Side="side",e.PositionSide="positionSide",e.Status="status",e.Symbol="symbol",e.Text="text",e.Type="type",e.MarginPercent="marginPercent",e.Empty="empty"}(QX||(QX={})),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(ZX||(ZX={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(eJ||(eJ={})),function(e){e[e.Offline=0]="Offline",e[e.Resolving=1]="Resolving",e[e.Loading=2]="Loading",e[e.Ready=3]="Ready",e[e.InvalidSymbol=4]="InvalidSymbol",e[e.Snapshot=5]="Snapshot",e[e.EOD=6]="EOD",e[e.Pulse=7]="Pulse",e[e.Delayed=8]="Delayed",e[e.DelayedSteaming=9]="DelayedSteaming",e[e.NoBars=10]="NoBars",e[e.Replay=11]="Replay",e[e.Error=12]="Error",e[e.CalculationError=13]="CalculationError",e[e.UnsupportedResolution=14]="UnsupportedResolution"}(tJ||(tJ={})),function(e){e[e.Markers=0]="Markers",e[e.Stepline=1]="Stepline",e[e.Simple=2]="Simple"}(aJ||(aJ={})),function(e){e[e.Bar=0]="Bar",e[e.Candle=1]="Candle",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PnF=6]="PnF",e[e.LineBreak=7]="LineBreak",e[e.HeikinAshi=8]="HeikinAshi",e[e.HollowCandle=9]="HollowCandle",e[e.Baseline=10]="Baseline",e[e.Range=11]="Range",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolFootprint=17]="VolFootprint",e[e.TPO=18]="TPO",e[e.VolCandle=19]="VolCandle",e[e.SVP=20]="SVP",e[e.HLCBars=21]="HLCBars"}(lJ||(lJ={})),function(e){e.TwentyFourHours="24-hours",e.TwelveHours="12-hours"}(nJ||(nJ={})),function(e){e[e.Initial=2]="Initial",e[e.SeriesZOrderIsAlwaysZero=3]="SeriesZOrderIsAlwaysZero",e[e.Current=3]="Current"}(oJ||(oJ={})),function(e){e[e.Money=0]="Money",e[e.Pips=1]="Pips",e[e.Percentage=2]="Percentage"}(sJ||(sJ={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(iJ||(iJ={})),sJ.Money,sJ.Money,iJ.Right,function(e){e[e.Background=0]="Background",e[e.Foreground=1]="Foreground",e[e.Topmost=2]="Topmost"}(rJ||(rJ={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.AvailableReadonlyAlwaysDisabled=1]="AvailableReadonlyAlwaysDisabled",e[e.AvailableReadonlyAlwaysEnabled=2]="AvailableReadonlyAlwaysEnabled",e[e.Available=3]="Available"}(uJ||(uJ={})),function(e){e[e.ViewportChangeUserAction=0]="ViewportChangeUserAction",e[e.DataUpdate=1]="DataUpdate",e[e.SeriesRestart=2]="SeriesRestart",e[e.SeriesCompleted=3]="SeriesCompleted",e[e.StudyCreation=4]="StudyCreation"}(dJ||(dJ={})),function(e){e[e.Chart=0]="Chart"}(cJ||(cJ={})),function(e){e.AlwaysOn="alwaysOn",e.VisibleOnMouseOver="visibleOnMouseOver",e.AlwaysOff="alwaysOff"}(pJ||(pJ={})),function(e){e[e.Normal=0]="Normal",e[e.Log=1]="Log",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(mJ||(mJ={})),function(e){e[e.Bars=0]="Bars",e[e.Candles=1]="Candles",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.HeikenAshi=8]="HeikenAshi",e[e.HollowCandles=9]="HollowCandles",e[e.Baseline=10]="Baseline",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolCandle=19]="VolCandle",e[e.HLCBars=21]="HLCBars",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PointAndFigure=6]="PointAndFigure",e[e.LineBreak=7]="LineBreak"}(vJ||(vJ={})),function(e){e.Value="_seriesId"}(hJ||(hJ={})),function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.ReplayUnsupported=1]="ReplayUnsupported",e[e.UnsupportedDepth=2]="UnsupportedDepth",e[e.UnsupportedIntradyReplay=3]="UnsupportedIntradyReplay"}(fJ||(fJ={})),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(gJ||(gJ={})),function(e){e.Relative="relative",e.Absolute="absolute"}(yJ||(yJ={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(bJ||(bJ={})),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(xJ||(xJ={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(wJ||(wJ={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(_J||(_J={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(kJ||(kJ={}));const IJ={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},EJ=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]');let TJ=!1;const NJ=class{constructor(e){var t;if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");(null==(t=e.overrides)?void 0:t["mainSeriesProperties.priceAxisProperties.lockScale"])&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete e.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=CJ(IJ,e),"dark"===(this._options.theme??"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),(this._options.debug||this._options.debug_broker)&&(TJ||(TJ=!0,console.log("Using CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"))),this._innerWindowLoaded=new Promise(e=>{this._innerWindowResolver=e}),this._create()}setDebugMode(e){this._innerAPI().setDebugMode(e)}onChartReady(e){this._ready?e.call(this):this._readyHandlers.push(e)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(e){this._doWhenInnerApiLoaded(t=>{t.onGrayedObjectClicked(e)})}onShortcut(e,t){this._doWhenInnerWindowLoaded(a=>{a.createShortcutAction(e,t)})}subscribe(e,t){this._doWhenInnerApiLoaded(a=>{a.subscribe(e,t)})}unsubscribe(e,t){this._doWhenInnerApiLoaded(a=>{a.unsubscribe(e,t)})}chart(e){return this._innerAPI().chart(e)}getLanguage(){return this._options.locale}setSymbol(e,t,a){this._innerAPI().changeSymbol(e,t,a)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(e=>{e.closePopupsAndDialogs()})}selectLineTool(e,t){return this._innerAPI().selectLineTool(e,t)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(e,t){this._innerAPI().saveChart(e,t)}async load(e,t){return this._innerAPI().loadChart({json:e,extendedData:t})}getSavedCharts(e){this._innerAPI().getSavedCharts(e)}loadChartFromServer(e){return this._innerAPI().loadChartFromServer(e)}saveChartToServer(e,t,a){this._innerAPI().saveChartToServer(e,t,a)}removeChartFromServer(e,t){this._innerAPI().removeChartFromServer(e,t)}onContextMenu(e){this._doWhenInnerApiLoaded(t=>{t.onContextMenu(e)})}createButton(e){return this._innerWindow().createButton(e)}removeButton(e){this._innerWindow().removeButton(e)}createDropdown(e){return this._innerWindow().createDropdown(e)}showNoticeDialog(e){this._doWhenInnerApiLoaded(t=>{t.showNoticeDialog(e)})}showConfirmDialog(e){this._doWhenInnerApiLoaded(t=>{t.showConfirmDialog(e)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(e){return this._innerAPI().getStudyInputs(e)}getStudyStyles(e){return this._innerAPI().getStudyStyles(e)}addCustomCSSFile(e){this._innerWindow().addCustomCSSFile(e)}applyOverrides(e){this._options=CJ(this._options,{overrides:e}),this._doWhenInnerWindowLoaded(t=>{t.applyOverrides(e)})}applyStudiesOverrides(e){this._doWhenInnerWindowLoaded(t=>{t.applyStudiesOverrides(e)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}activeChartIndex(){return this._innerAPI().activeChartIndex()}setActiveChart(e){return this._innerAPI().setActiveChart(e)}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(e){this._innerAPI().setLayout(e)}layoutName(){return this._innerAPI().layoutName()}resetLayoutSizes(e){this._innerAPI().resetLayoutSizes(e)}changeTheme(e,t){return this._innerWindow().changeTheme(e,t)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(e=>{e.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllChartsEnabled(){return this._innerAPI().drawOnAllChartsEnabled()}drawOnAllCharts(e){this._innerAPI().drawOnAllCharts(e)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(e){this._innerAPI().setIntervalLinkingEnabled(e)}setDateRangeLinkingEnabled(e){this._innerAPI().setDateRangeLinkingEnabled(e)}setTimeFrame(e){this._innerAPI().setTimeFrame(e)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}dateRangeSync(){return this._innerAPI().dateRangeSync()}setFeatureEnabled(e,t){this._innerAPI().setFeatureEnabled(e,t)}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(e){return this._innerAPI().takeClientScreenshot(e)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}timeHoursFormat(){return this._innerWindow().getTimeHoursFormat()}currencyAndUnitVisibility(){return this._innerWindow().getCurrencyAndUnitVisibility()}supportedChartTypes(){return this._innerAPI().supportedChartTypes()}watermark(){return this._innerAPI().watermark()}customSymbolStatus(){return this._innerWindow().customSymbolStatus()}setCSSCustomProperty(e,t){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,t)}getCSSCustomPropertyValue(e){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");const t=this._innerWindow().document.body,a=t.style.getPropertyValue(e);return a||getComputedStyle(t).getPropertyValue(e)}unloadUnusedCharts(){this._innerAPI().unloadUnusedCharts()}async customThemes(){return this._innerWindow().customThemes()}resetCache(){this._innerAPI().resetCache()}linking(){return this._innerAPI().linking}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(e){this._ready?e(this._innerWindow()):this._innerWindowLoaded.then(()=>{e(this._innerWindow())})}_doWhenInnerApiLoaded(e){this._doWhenInnerWindowLoaded(t=>{t.doWhenApiIsReady(()=>e(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",MJ&&setTimeout(()=>{this._iFrame.style.height=window.innerHeight+"px"},30))}async _create(){var e,t;const a=(null==(e=this._options.enabled_features)?void 0:e.includes("iframe_loading_same_origin"))??!1,l=a||((null==(t=this._options.enabled_features)?void 0:t.includes("iframe_loading_compatibility_mode"))??!1),[n,o]=this._render(!l,a),s=this._options.container,i="string"==typeof s?document.getElementById(s):s;if(null===i)throw new Error(`There is no such element - #${this._options.container}`);i.innerHTML=n,this._iFrame=i.querySelector(`#${this._id}`);const r=this._iFrame;a&&await this._innerWindowEvent("sameOriginLoad"),l&&(r.contentWindow?(r.contentWindow.document.open(),r.contentWindow.document.write(o),r.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),this._innerWindow().addEventListener("innerWindowLoad",e=>{e.detail.received=!0,function(e){if(void 0===e)throw new Error("_innerWindowResolver is undefined");return e}(this._innerWindowResolver)()},{once:!0}),(this._options.autosize||this._options.fullscreen)&&(r.style.width="100%",this._options.fullscreen||(r.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then(()=>{try{this._innerWindow().widgetReady(()=>{this._ready=!0;for(const t of this._readyHandlers)try{t.call(this)}catch(e){console.error(e)}this._innerWindow().initializationFinished()})}catch(e){if(e instanceof Error&&/widgetReady is not a function/.test(e.message))throw new Error(`There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ${window.location.host}/${this._options.library_path||""} or correct the library_path option.`)}})}_innerWindowEvent(e){return new Promise(t=>{this._innerWindow().addEventListener(e,t,{once:!0})})}_render(e,t){const a=window;if(a[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function,customThemes:this._options.custom_themes,imageStorageAdapter:this._options.image_storage_adapter},this._options.saved_data)a[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(a[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){const e=encodeURIComponent(this._options.locale);EJ.findIndex(t=>t.language===e)>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}const l=function(e,t){const a=new URL(`${e||""}`,location.href).href,l=JSON.parse('["bundles/runtime.528f81f7a425983444d8.js","bundles/__LANG__.9488.2f156b47fe84118759c5.js","bundles/1996.25e6f30e7a095ec239f4.css","bundles/207.2e06ffb7ce05936178f2.js","bundles/library.2a35263e52ab75f5729a.js"]'),n=encodeURIComponent(t),o=EJ.find(e=>e.language===n)??{iso:"en",dir:"ltr"},s=`lang="${o.iso}" dir="${o.dir}"`;return`<!DOCTYPE html><html ${(i={bundles:`\n${function(e,t,a){if(void 0===e)return"";const l=[],n=[];for(const o of e)o.endsWith(".js")?l.push(`<script defer crossorigin="anonymous" src="${o.replace("__LANG__",a)}"><\/script>`):o.endsWith(".css")&&n.push(`<link type="text/css" href="${t?o.replace(/\.css$/i,".rtl.css"):o}" rel="stylesheet"/>`);return[...l,...n].join("\n")}(l,"rtl"===o.dir,n)}\n`,localeLanguage:n,htmlAttrs:s,libraryPath:a}).htmlAttrs}><head><base href="${i.libraryPath}"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")<\/script> ${i.bundles} </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["charting_library"]<\/script><script>(function() {\n\t\twindow.urlParams = (function () {\n\t\t\tvar match,\n\t\t\t\tpl\t = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\t\t\tsearch = /([^&=]+)=?([^&]*)/g,\n\t\t\t\tdecode = function (s) { return decodeURIComponent(s.replace(pl, ' ')).replace(/<\\/?[^>]+(>|$)/g, ''); },\n\t\t\t\tquery = function() {\n\t\t\t\t\t// We don't use hash on the url because: safari 13 throws an error if you attempt this\n\t\t\t\t\t// on a blob, and safari 14 will strip hash from blob urls.\n\t\t\t\t\tif (frameElement && frameElement.dataset.widgetOptions) {\n\t\t\t\t\t\treturn frameElement.dataset.widgetOptions;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow "Unexpected use of this page";\n\t\t\t\t\t}\n\t\t\t\t}(),\n\t\t\t\tresult = {};\n\n\t\t\twhile (match = search.exec(query)) {\n\t\t\t\tresult[decode(match[1])] = decode(match[2]);\n\t\t\t}\n\n\t\t\tvar additionalSettingsObject = window.parent[result.uid];\n\n\t\t\tvar customObjectNames = ['datafeed', 'customFormatters', 'brokerFactory', 'save_load_adapter', 'customTranslateFunction', 'contextMenu'];\n\n\t\t\tfor (var p in additionalSettingsObject) {\n\t\t\t\tif (customObjectNames.indexOf(p) === -1) {\n\t\t\t\t\tresult[p] = JSON.stringify(additionalSettingsObject[p]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t})();\n\n\t\twindow.locale = urlParams.locale;\n\t\twindow.language = urlParams.locale; // a very big attention needed here\n\t\twindow.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;\n\t\twindow.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;\n\n\t\twindow.addCustomCSSFile = function(href) {\n\t\t\tvar link = document.createElement('link');\n\t\t\tlink.setAttribute('type', 'text/css');\n\t\t\tlink.setAttribute('rel', 'stylesheet');\n\t\t\tlink.setAttribute('href', href);\n\t\t\tlink.setAttribute('cross-origin', 'anonymous');\n\n\t\t\twindow.loadedCustomCss = new Promise((resolve) => {\n\t\t\t\tlink.onload = resolve;\n\t\t\t\tlink.onerror = resolve;\n\t\t\t});\n\t\t\tdocument.body.appendChild(link);\n\t\t};\n\n\t\twindow.loadedCustomCss = Promise.resolve();\n\t\tif (!!urlParams.customCSS) {\n\t\t\twindow.addCustomCSSFile(urlParams.customCSS);\n\t\t}\n\n\t\tvar loadingScreenParams = {};\n\n\t\tif (typeof urlParams.loading_screen === 'string') {\n\t\t\ttry {\n\t\t\t\tloadingScreenParams = JSON.parse(urlParams.loading_screen);\n\t\t\t} catch(e) {}\n\t\t}\n\n\t\tvar loadingIndicatorElement = document.getElementById('loading-indicator');\n\n\t\tif (loadingScreenParams.backgroundColor) {\n\t\t\tloadingIndicatorElement.style = 'background-color: ' + loadingScreenParams.backgroundColor;\n\t\t}\n\n\t\t!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l=(void 0===r&&(r=""),s='<div class="tv-spinner '.concat(r,'" role="progressbar"></div>'),i=function(t){var n,s;return n=document.documentElement,e&&(s=e.get(n)),s||((s=n.ownerDocument.createRange()).selectNodeContents(n),e&&e.set(n,s)),s.createContextualFragment(t)}(s),null!==(o=i.firstElementChild)&&i.removeChild(o),o),a=function(){function t(t){this._shown=!1,this._el=l.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();\n\n\n\t\tvar spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;\n\n\t\tvar loadingSpinner = new Spinner('large').setStyle({\n\t\t\t'--tv-spinner-color': spinnerColor,\n\t\t\tzIndex: String(2e9),\n\t\t});\n\t\tloadingSpinner.getEl().classList.add('spinner');\n\t\tloadingSpinner.spin(loadingIndicatorElement);\n\t})();<\/script></body></html>`;var i}(this._options.library_path||"",this._options.locale);let n=new URL("about:blank");if(e){const e=new Blob([l],{type:"text/html"}),t=URL.createObjectURL(e);n=new URL(t)}else if(t){const e=this._options.library_path??"/";n=new URL(e+"sameorigin.html",location.origin)}const o="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.debug_broker?"&debugBroker="+encodeURIComponent(String(this._options.debug_broker)):"")+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return[`<iframe\n\t\tversion="CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)" id="${this._id}" name="${this._id}" src="${n.href}" data-widget-options="${o}"\n\t\t${this._options.autosize||this._options.fullscreen?"":`width="${this._options.width}" height="${this._options.height}"`} title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">\n\t</iframe>`,l]}};"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"});const MJ=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS"),AJ={name:"TVSingleChartContainer",props:{symbol:{default:localStorage.getItem("ssdtsym"),type:String},containerId:{default:"tv_chart_container",type:String},datafeedUrl:{default:"",type:String},libraryPath:{default:"../charting_library/",type:String},chartsStorageUrl:{default:"https://chartbe.mynt.in",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"ZEBU",type:String},userId:{default:"",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},studiesOverrides:{type:Object},title:String,subtitle:String,text:String,image:String},tvWidget:null,data:()=>({showchart:!0,theme:"light",savedSymbol:"",settings:JSON.parse(localStorage.getItem("settings")),interval:"1",tvReady:!1,pendingSymbol:null,openInterestData:[],oiloader:!1}),mounted(){this.interval=this.settings&&this.settings["chart.lastUsedTimeBasedResolution"]?this.settings["chart.lastUsedTimeBasedResolution"]:"5",this.initTWChart(localStorage.getItem("adv_chart"));var e=[];if(this.settings){for(let e in this.settings)e.includes("savedwatch")&&delete this.settings[e];e=this.settings}else e={};localStorage.setItem("settings",JSON.stringify(e)),window.addEventListener("ssd-event",e=>{let t,a,l=e.detail;if(Array.isArray(l)&&l.length>=4)t=l[2],a=l[3];else{if(!(l&&"object"==typeof l&&l.exch&&l.tsym))return;t=l.exch,a=l.tsym}if(!t||!a)return;const n=`${t}:${a}`;if(localStorage.setItem("ssdtsym",n),(l.token||Array.isArray(l)&&l[1])&&localStorage.setItem("ssdtoken",l.token||l[1]),this.tvReady&&window.tvWidget&&"function"==typeof window.tvWidget.activeChart)try{window.tvWidget.activeChart().setSymbol(n);const e=document.getElementById("histogram-container");e&&(e.innerHTML="")}catch(SJ){this.pendingSymbol=n}else this.pendingSymbol=n})},beforeDestroy(){},methods:{async setIndicatorsInterval(){var e=await zle();if(setInterval(async function(){for(var t=window.tvWidget.activeChart().getAllStudies(),a=[],l=0;l<t.length;l++){var n=t[l].name;"Volume"!=n&&a.push(n)}if(JSON.stringify(e.data)!=JSON.stringify(a))try{let t=await Ule(a);e=t}catch(SJ){console.log(SJ)}},5e3),e.data)for(var t=0;t<e.data.length;t++)window.tvWidget.activeChart().createStudy(e.data[t],!1,!1)},async getOidatas(){if(["NSE:NIFTY 50","NSE:NIFTY BANK","NSE:NIFTY FIN SERVICE","NSE:NIFTY MID SELECT","BSE:SENSEX","BSE:BANKEX"].includes(this.tvWidget.activeChart().symbol())){let e=await Wae(["NIFTY","BANKNIFTY","FINNIFTY","MIDCPNIFTY","SENSEX","BANKEX"][["NSE:NIFTY 50","NSE:NIFTY BANK","NSE:NIFTY FIN SERVICE","NSE:NIFTY MID SELECT","BSE:SENSEX","BSE:BANKEX"].indexOf(this.tvWidget.activeChart().symbol())]);e&&e.data&&e.data.length>0&&(this.openInterestData=e.data,this.renderHistogram())}else Qa().showSnackbar(2,`No, OI Profile for ${this.tvWidget.activeChart().symbol()}`);this.oiloader=!1},async renderHistogram(){var e,t;if(this.openInterestData&&this.openInterestData.length>0){const r=document.getElementById("histogram-container");r.innerHTML="";const u=this.tvWidget.activeChart().getPanes()[0].getRightPriceScales()[0]._priceScale._markBuilder._marks,d=document.getElementById(this.containerId);if(r.style.height=`${d.offsetHeight}px`,u&&u.length>0){const d=this.openInterestData.map(e=>Number(e.callOI)),c=this.openInterestData.map(e=>Number(e.putOI)),p=Math.max(...d),m=Math.max(...c);for(let v=0;v<u.length;v++){var a=this.openInterestData.findIndex(e=>Number(e.price)==Number(u[v].label));if(a>=0){var{price:l,callOI:n,putOI:o}=this.openInterestData[a];l=Number(l),n=Number(n),o=Number(o);var s=null==(e=Number((n-p)/p*100+100))?void 0:e.toFixed(0),i=null==(t=Number((o-m)/m*100+100))?void 0:t.toFixed(0);const d=(Number(u[v].coord)+30).toFixed(0),c=document.createElement("div");c.className="histogram-bar",c.style.width=`${s}px`,c.style.height="10px",c.style.backgroundColor="rgba(0, 128, 0, 0.5)",c.style.position="absolute",c.style.top=`${d}px`,c.style.right="0",c.setAttribute("id",`${l}_c`),c.setAttribute("title",`Strike: ${l}, CallOI: ${(n/1e5).toFixed(2)}L, PutOI: ${(o/1e5).toFixed(2)}L`);const h=document.createElement("div");h.className="histogram-bar",h.style.width=`${i}px`,h.style.height="10px",h.style.backgroundColor="rgba(255, 0, 0, 0.5)",h.style.position="absolute",h.style.top=`${d}px`,h.style.left="0",h.setAttribute("id",`${l}_p`),h.setAttribute("title",`Strike: ${l}, CallOI: ${(n/1e5).toFixed(2)}L, PutOI: ${(o/1e5).toFixed(2)}L`),r.appendChild(c),r.appendChild(h)}}}}},initTWChart(e){let t=localStorage.getItem("ssdtsym");t&&t.includes(":")&&!t.toLowerCase().includes("undefined")||(t=this.symbol||"NSE:NIFTY 50");const a={symbol:t,datafeed:TT,interval:this.interval,container:this.containerId,auto_save_delay:1,library_path:this.libraryPath,timezone:"Asia/Kolkata",locale:"en",custom_css_url:"../css/style.css",disabled_features:["timeframes_toolbar","symbol_info","header_compare","end_of_period_timescale_marks","header_symbol_search"],enabled_features:["study_templates","use_localstorage_for_settings","iframe_loading_compatibility_mode","iframe_loading_compatibility_mode","custom_resolutions","header_saveload"],charts_storage_url:"https://chartbe.mynt.in",charts_storage_api_version:this.chartsStorageApiVersion,client_id:"Mynt_web",user_id:"",fullscreen:this.fullscreen,autosize:this.autosize,studies_overrides:this.studiesOverrides,theme:this.$vuetify.theme.dark?"light":"dark",settings_adapter:{initialSettings:this.settings,setValue:function(e,t){let a;null!=localStorage.getItem("settings")?(a=JSON.parse(localStorage.getItem("settings")),a[e],a[e]=t):a[e]=t,localStorage.setItem("settings",JSON.stringify(a))},removeValue:function(e){let t=JSON.parse(localStorage.getItem("settings"));delete t[e],localStorage.setItem("settings",JSON.stringify(t))}},widgetbar:{details:!1,news:!1,watchlist:!1,datawindow:!1,watchlist_settings:{default_symbols:[],readonly:!1}}},l=document.getElementById(this.containerId),n=document.getElementById("chartloader");if(!l||!n)return void setTimeout(()=>this.initTWChart(e),100);var o=l.classList,s=n.classList;"0"==e?(a.disabled_features.push("header_widget"),a.disabled_features.push("left_toolbar"),a.disabled_features.push("timeframes_toolbar"),a.disabled_features.push("legend_context_menu"),a.disabled_features.push("shift_visible_range_on_new_bar"),a.disabled_features.push("uppercase_instrument_names"),a.disabled_features.push("main_series_scale_menu"),o.add("TVChartpop"),o.remove("TVChartContainer"),s.add("TVChartpop"),s.remove("TVChartContainer")):(o.add("TVChartContainer"),o.remove("TVChartpop"),s.add("TVChartContainer"),s.remove("TVChartpop"));const i=sessionStorage.getItem("userid");a.user_id=i;const r=new NJ(a);this.tvWidget=r,window.tvWidget=r;const u=this;r.onChartReady(()=>{if(this.tvReady=!0,r.changeTheme(this.$vuetify.theme.dark?"dark":"light"),setTimeout(()=>{r.activeChart().applyOverrides({"paneProperties.background":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientEndColor":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientStartColor":this.$vuetify.theme.dark?"#121212":"#ffffff","mainSeriesProperties.highLowAvgPrice.highLowPriceLinesVisible":!0,"mainSeriesProperties.highLowAvgPrice.highLowPriceLabelsVisible":!0,"scalesProperties.showStudyPlotLabels":!1,"mainSeriesProperties.showCountdown":!0,"paneProperties.legendProperties.showStudyArguments":!1,"mainSeriesProperties.statusViewStyle.showExchange":!1,"mainSeriesProperties.statusViewStyle.showInterval":!1})},0),"0"!=e&&(r.headerReady().then(()=>{const e=r.createButton({align:"right"});e.setAttribute("title","Reset Chart"),e.innerHTML='<svg width="28" height="34" viewBox="0 0 28 34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 19C5.5 20.6811 5.99852 22.3245 6.93251 23.7223C7.8665 25.1202 9.19402 26.2096 10.7472 26.853C12.3004 27.4963 14.0094 27.6646 15.6583 27.3367C17.3071 27.0087 18.8217 26.1992 20.0104 25.0104C21.1992 23.8217 22.0087 22.3071 22.3367 20.6583C22.6647 19.0094 22.4963 17.3004 21.853 15.7472C21.2096 14.194 20.1202 12.8665 18.7223 11.9325C17.3245 10.9985 15.6811 10.5 14 10.5H7.5" stroke="currentColor"/><path d="M11 14L7.5 10.5L11 7" stroke="currentColor"/></svg>',e.addEventListener("click",()=>{r.activeChart().resetData(),r.activeChart().executeActionById("chartReset"),u.renderHistogram()})}),r.onContextMenu(function(e,t){return[{position:"top",text:"Set Alert ("+(null==t?void 0:t.toFixed(2))+")",click:function(){var e,a;const l=new CustomEvent("menudialog",{detail:{type:"alert",token:localStorage.getItem("ssdtoken"),exch:null==(e=localStorage.getItem("ssdtsym"))?void 0:e.split(":")[0],tsym:null==(a=localStorage.getItem("ssdtsym"))?void 0:a.split(":")[1],action:"a",data:{price:null==t?void 0:t.toFixed(2)}}});window.dispatchEvent(l)}}]})),r.activeChart().dataReady(()=>{r.activeChart().executeActionById("chartReset")}),this.showchart=!1,this.setIndicatorsInterval(),this.pendingSymbol){try{r.activeChart().setSymbol(this.pendingSymbol)}catch(SJ){}this.pendingSymbol=null}})}},destroyed(){null!==this.tvWidget&&(this.tvWidget.remove(),this.tvWidget=null)}},OJ={class:"tradingview-wrapper elevation-0"},PJ=["id"],FJ=zc(AJ,[["render",function(e,t,a,l,n,o){return z(),R("div",null,[n.oiloader?(z(),q(Op,{key:0,color:"primary",indeterminate:"",rounded:""})):ee("",!0),i("div",OJ,[i("div",{id:a.containerId,class:"chart-container"},null,8,PJ),t[0]||(t[0]=i("div",{id:"histogram-container",class:"histogram-container"},null,-1)),n.showchart?(z(),q(cy,{key:0,color:"cardbg",width:"100%",id:"chartloader",class:"pos-abs elevation-0 rounded-0 text-center",style:{top:0,left:0}},{default:H(()=>[d(Sp,{class:"my-auto",color:"primary",size:60,width:4,indeterminate:"",style:{top:"40%"}})]),_:1})):ee("",!0)])])}],["__scopeId","data-v-a1741ffd"]]),LJ={name:"TVMultiChartContainer",props:{symbol:{default:localStorage.getItem("ssdtsym"),type:String},chartLayoutType:{default:1,type:Number},containerId:{default:"tv_chart_1",type:String},datafeedUrl:{default:"",type:String},libraryPath:{default:"../charting_library/",type:String},chartsStorageUrl:{default:"https://chartbe.mynt.in",type:String},chartsStorageApiVersion:{default:"1.1",type:String},clientId:{default:"ZEBU",type:String},userId:{default:"",type:String},fullscreen:{default:!1,type:Boolean},autosize:{default:!0,type:Boolean},tvWidgetCount:{default:1,type:Number},studiesOverrides:{type:Object},title:String,subtitle:String,text:String,image:String},data:()=>({activeTVChartSection:!1,showchart:!0,theme:"light",savedSymbol:"",settings:JSON.parse(localStorage.getItem("settings")),interval:"1",openInterestData:[],oiloader:!1}),mounted(){this.interval=this.settings&&this.settings["chart.lastUsedTimeBasedResolution"]?this.settings["chart.lastUsedTimeBasedResolution"]:"5",this.initTWChart(localStorage.getItem("adv_chart"));var e=[];if(this.settings){for(let e in this.settings)e.includes("savedwatch")&&delete this.settings[e];e=this.settings}else e={};localStorage.setItem("settings",JSON.stringify(e))},beforeDestroy(){},methods:{captureSelectedTVChart(){eventBus.$emit("section-clicked",this.containerId),eventBus.$on("section-clicked",e=>{e===this.containerId?this.activeTVChartSection=!0:this.activeTVChartSection=!1})},async setIndicatorsInterval(e){var t=await zle();if(setInterval(async function(){for(var a=window[e].activeChart().getAllStudies(),l=[],n=0;n<a.length;n++){var o=a[n].name;"Volume"!=o&&l.push(o)}if(JSON.stringify(t.data)!=JSON.stringify(l))try{let e=await Ule(l);t=e}catch(SJ){console.log(SJ)}},5e3),t.data)for(var a=0;a<t.data.length;a++)window[e].activeChart().createStudy(t.data[a],!1,!1)},initTWChart(e){let t=localStorage.getItem("ssdtsym");t&&t.includes(":")&&!t.toLowerCase().includes("undefined")||(t=this.symbol||"NSE:NIFTY 50");const a={symbol:t,datafeed:TT,interval:this.interval,container:this.containerId,auto_save_delay:1,library_path:this.libraryPath,timezone:"Asia/Kolkata",locale:"en",custom_css_url:"../css/style.css",disabled_features:["timeframes_toolbar","symbol_info","header_compare","end_of_period_timescale_marks","header_symbol_search"],enabled_features:["study_templates","use_localstorage_for_settings","iframe_loading_compatibility_mode","iframe_loading_compatibility_mode","custom_resolutions","header_saveload"],charts_storage_url:"https://chartbe.mynt.in",charts_storage_api_version:this.chartsStorageApiVersion,client_id:"Mynt_web",user_id:"",fullscreen:this.fullscreen,autosize:this.autosize,studies_overrides:this.studiesOverrides,theme:this.$vuetify.theme.dark?"light":"dark",settings_adapter:{initialSettings:this.settings,setValue:function(e,t){let a;null!=localStorage.getItem("settings")?(a=JSON.parse(localStorage.getItem("settings")),a[e],a[e]=t):a[e]=t,localStorage.setItem("settings",JSON.stringify(a))},removeValue:function(e){let t=JSON.parse(localStorage.getItem("settings"));delete t[e],localStorage.setItem("settings",JSON.stringify(t))}},widgetbar:{details:!1,news:!1,watchlist:!1,datawindow:!1,watchlist_settings:{default_symbols:[],readonly:!1}}},l=sessionStorage.getItem("userid");a.user_id=l,window[this.containerId]=new NJ(a),window[this.containerId].onChartReady(()=>{window[this.containerId].changeTheme(this.$vuetify.theme.dark?"dark":"light"),setTimeout(()=>{window[this.containerId].activeChart().applyOverrides({"paneProperties.background":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientEndColor":this.$vuetify.theme.dark?"#121212":"#ffffff","paneProperties.backgroundGradientStartColor":this.$vuetify.theme.dark?"#121212":"#ffffff","mainSeriesProperties.highLowAvgPrice.highLowPriceLinesVisible":!0,"mainSeriesProperties.highLowAvgPrice.highLowPriceLabelsVisible":!0,"scalesProperties.showStudyPlotLabels":!1,"mainSeriesProperties.showCountdown":!0,"paneProperties.legendProperties.showStudyArguments":!1,"mainSeriesProperties.statusViewStyle.showExchange":!1,"mainSeriesProperties.statusViewStyle.showInterval":!1})},0),"0"!=e&&(window[this.containerId].headerReady().then(()=>{const e=window[this.containerId].createButton({align:"right"});e.setAttribute("title","Reset Chart"),e.innerHTML='<svg width="28" height="34" viewBox="0 0 28 34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 19C5.5 20.6811 5.99852 22.3245 6.93251 23.7223C7.8665 25.1202 9.19402 26.2096 10.7472 26.853C12.3004 27.4963 14.0094 27.6646 15.6583 27.3367C17.3071 27.0087 18.8217 26.1992 20.0104 25.0104C21.1992 23.8217 22.0087 22.3071 22.3367 20.6583C22.6647 19.0094 22.4963 17.3004 21.853 15.7472C21.2096 14.194 20.1202 12.8665 18.7223 11.9325C17.3245 10.9985 15.6811 10.5 14 10.5H7.5" stroke="currentColor"/><path d="M11 14L7.5 10.5L11 7" stroke="currentColor"/></svg>',e.addEventListener("click",()=>{window[this.containerId].activeChart().resetData(),window[this.containerId].activeChart().executeActionById("chartReset")})}),window[this.containerId].onContextMenu(function(e,t){return[{position:"top",text:"Set Alert ("+(null==t?void 0:t.toFixed(2))+")",click:function(){eventBus.$emit("menudialog","alert",localStorage.getItem("ssdtoken"),localStorage.getItem("ssdtsym").split(":")[0],localStorage.getItem("ssdtsym").split(":")[1],"a",{price:null==t?void 0:t.toFixed(2)})}}]})),window[this.containerId].activeChart().dataReady(()=>{window[this.containerId].activeChart().executeActionById("chartReset")}),this.showchart=!1,this.setIndicatorsInterval(this.containerId)})}},destroyed(){null!==window[this.containerId]&&(window[this.containerId].remove(),window[this.containerId]=null)}},DJ=["id"],VJ=zc(LJ,[["render",function(e,t,a,l,n,o){return z(),R("div",{class:r(["tradingview-wrapper elevation-0",{active:n.activeTVChartSection}])},[n.activeTVChartSection?ee("",!0):(z(),R("div",{key:0,class:"tvChart-overlay-detect",onClick:t[0]||(t[0]=(...e)=>o.captureSelectedTVChart&&o.captureSelectedTVChart(...e))})),i("div",{id:a.containerId,class:r(1==a.chartLayoutType||2==a.chartLayoutType?"mono-TVChartContainer":"trio-TVChartContainer")},null,10,DJ)],2)}],["__scopeId","data-v-ee792584"]]),BJ=Symbol.for("vuetify:v-slider");function $J(e,t,a){const l="vertical"===a,n=t.getBoundingClientRect(),o="touches"in e?e.touches[0]:e;return l?o.clientY-(n.top+n.height/2):o.clientX-(n.left+n.width/2)}const RJ=xe({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"==typeof e||"always"===e},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>"boolean"==typeof e||"always"===e},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,noKeyboard:Boolean,...Kc(),...Yc({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),zJ=e=>{const t=l(()=>parseFloat(e.min)),a=l(()=>parseFloat(e.max)),n=l(()=>Number(e.step)>0?parseFloat(e.step):0),o=l(()=>Math.max(ma(n.value),ma(t.value)));return{min:t,max:a,step:n,decimals:o,roundValue:function(e){if(e=parseFloat(e),n.value<=0)return e;const l=We(e,t.value,a.value),s=t.value%n.value;let i=Math.round((l-s)/n.value)*n.value+s;return l>i&&i+n.value>a.value&&(i=a.value),parseFloat(Math.min(i,a.value).toFixed(o.value))}}},UJ=e=>{let{props:t,steps:o,onSliderStart:s,onSliderMove:i,onSliderEnd:r,getActiveThumb:u}=e;const d=sk(t),{isRtl:c}=Ge(),p=n(()=>t.reverse),v=l(()=>"vertical"===t.direction),h=l(()=>v.value!==p.value),{min:f,max:g,step:y,decimals:b,roundValue:x}=o,w=l(()=>parseInt(t.thumbSize,10)),_=l(()=>parseInt(t.tickSize,10)),S=l(()=>parseInt(t.trackSize,10)),C=l(()=>(g.value-f.value)/y.value),I=l(()=>t.error||d.isDisabled.value?void 0:t.thumbColor??t.color),E=l(()=>t.error||d.isDisabled.value?void 0:t.thumbColor),T=l(()=>t.error||d.isDisabled.value?void 0:t.trackColor??t.color),M=l(()=>t.error||d.isDisabled.value?void 0:t.trackFillColor??t.color),A=k(!1),O=k(0),P=a(),F=a();function L(e){var a;const l=null==(a=P.value)?void 0:a.$el;if(!l)return;const n="vertical"===t.direction,o=n?"top":"left",s=n?"height":"width",i=n?"clientY":"clientX",{[o]:r,[s]:u}=l.getBoundingClientRect(),d=function(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}(e,i);let p=We((d-r-O.value)/u)||0;return(n?h.value:h.value!==c.value)&&(p=1-p),x(f.value+p*(g.value-f.value))}const D=e=>{const t=L(e);null!=t&&r({value:t}),A.value=!1,O.value=0},V=e=>{const a=L(e);F.value=u(e),F.value&&(A.value=!0,F.value.contains(e.target)?O.value=$J(e,F.value,t.direction):(O.value=0,null!=a&&i({value:a})),null!=a&&s({value:a}),N(()=>{var e;return null==(e=F.value)?void 0:e.focus()}))},B={passive:!0,capture:!0};function $(e){const t=L(e);null!=t&&i({value:t})}function R(e){e.stopPropagation(),e.preventDefault(),D(e),window.removeEventListener("mousemove",$,B),window.removeEventListener("mouseup",R)}function z(e){var t;D(e),window.removeEventListener("touchmove",$,B),null==(t=e.target)||t.removeEventListener("touchend",z)}const U=e=>{const t=(e-f.value)/(g.value-f.value)*100;return We(isNaN(t)?0:t,0,100)},q=n(()=>t.showTicks),H=l(()=>q.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(e=>({value:e,position:U(e),label:e.toString()})):Object.keys(t.ticks).map(e=>({value:parseFloat(e),position:U(parseFloat(e)),label:t.ticks[e]})):C.value!==1/0?la(C.value+1).map(e=>{const t=f.value+e*y.value;return{value:t,position:U(t)}}):[]:[]),j=l(()=>H.value.some(e=>{let{label:t}=e;return!!t})),W={activeThumbRef:F,color:n(()=>t.color),decimals:b,disabled:d.isDisabled,direction:n(()=>t.direction),elevation:n(()=>t.elevation),hasLabels:j,isReversed:p,indexFromEnd:h,min:f,max:g,mousePressed:A,noKeyboard:n(()=>t.noKeyboard),numTicks:C,onSliderMousedown:function(e){0===e.button&&(e.preventDefault(),V(e),window.addEventListener("mousemove",$,B),window.addEventListener("mouseup",R,{passive:!1}))},onSliderTouchstart:function(e){var t;V(e),window.addEventListener("touchmove",$,B),null==(t=e.target)||t.addEventListener("touchend",z,{passive:!1})},parsedTicks:H,parseMouseMove:L,position:U,readonly:d.isReadonly,rounded:n(()=>t.rounded),roundValue:x,showTicks:q,startOffset:O,step:y,thumbSize:w,thumbColor:I,thumbLabelColor:E,thumbLabel:n(()=>t.thumbLabel),ticks:n(()=>t.ticks),tickSize:_,trackColor:T,trackContainerRef:P,trackFillColor:M,trackSize:S,vertical:v};return m(BJ,W),W},qJ=xe({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,noKeyboard:Boolean,...Oe()},"VSliderThumb"),HJ=Ee()({name:"VSliderThumb",directives:{vRipple:om},props:qJ(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a,emit:n}=t;const o=v(BJ),{isRtl:s,rtlClasses:u}=Ge();if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:p,max:m,thumbColor:h,thumbLabelColor:f,step:g,disabled:y,thumbSize:b,thumbLabel:x,direction:w,isReversed:_,vertical:k,readonly:S,elevation:C,mousePressed:I,decimals:E,indexFromEnd:T}=o,N=l(()=>y.value?void 0:C.value),{elevationClasses:A}=Gc(N),{textColorClasses:O,textColorStyles:P}=Zc(h),{backgroundColorClasses:F,backgroundColorStyles:L}=ep(f),{pageup:D,pagedown:B,end:$,home:R,left:z,right:U,down:q,up:H}=oa,j=[D,B,$,R,z,U,q,H],W=l(()=>g.value?[1,2,3]:[1,5,10]);function Y(t){const a=function(t,a){if(e.noKeyboard)return;if(!j.includes(t.key))return;t.preventDefault();const l=g.value||.1,n=(m.value-p.value)/l;if([z,U,q,H].includes(t.key)){const e=(k.value?[s.value?z:U,_.value?q:H]:T.value!==s.value?[z,H]:[U,H]).includes(t.key)?1:-1,o=t.shiftKey?2:t.ctrlKey?1:0;-1!==e||a!==m.value||o||Number.isInteger(n)?a+=e*l*W.value[o]:a-=n%1*l}else t.key===R?a=p.value:t.key===$?a=m.value:a-=(t.key===B?1:-1)*l*(n>100?n/10:10);return Math.max(e.min,Math.min(e.max,a))}(t,e.modelValue);null!=a&&n("update:modelValue",a)}return Me(()=>{const t=$e(T.value?100-e.position:e.position,"%");return i("div",{class:r(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&I.value},e.class,u.value]),style:c([{"--v-slider-thumb-position":t,"--v-slider-thumb-size":$e(b.value)},e.style]),role:"slider",tabindex:y.value?-1:0,"aria-label":e.name,"aria-valuemin":p.value,"aria-valuemax":m.value,"aria-valuenow":e.modelValue,"aria-readonly":!!S.value,"aria-orientation":w.value,onKeydown:S.value?void 0:Y},[i("div",{class:r(["v-slider-thumb__surface",O.value,A.value]),style:c(P.value)},null),M(i("div",{class:r(["v-slider-thumb__ripple",O.value]),style:c(P.value)},null),[[om,e.ripple,null,{circle:!0,center:!0}]]),d(Ig,{origin:"bottom center"},{default:()=>{var t;return[M(i("div",{class:"v-slider-thumb__label-container"},[i("div",{class:r(["v-slider-thumb__label",F.value]),style:c(L.value)},[i("div",null,[(null==(t=a["thumb-label"])?void 0:t.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(g.value?E.value:1)]),i("div",{class:"v-slider-thumb__label-wedge"},null)])]),[[V,x.value&&e.focused||"always"===x.value]])]}})])}),{}}}),jJ=xe({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Oe()},"VSliderTrack"),WJ=Ee()({name:"VSliderTrack",props:jJ(),emits:{},setup(e,t){let{slots:a}=t;const n=v(BJ);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,parsedTicks:s,rounded:u,showTicks:d,tickSize:p,trackColor:m,trackFillColor:h,trackSize:f,vertical:g,min:y,max:b,indexFromEnd:x}=n,{roundedClasses:w}=Xc(u),{backgroundColorClasses:_,backgroundColorStyles:k}=ep(h),{backgroundColorClasses:S,backgroundColorStyles:C}=ep(m),I=l(()=>`inset-${g.value?"block":"inline"}-${x.value?"end":"start"}`),E=l(()=>g.value?"height":"width"),T=l(()=>({[I.value]:"0%",[E.value]:"100%"})),N=l(()=>e.stop-e.start),M=l(()=>({[I.value]:$e(e.start,"%"),[E.value]:$e(N.value,"%")})),A=l(()=>d.value?(g.value?s.value.slice().reverse():s.value).map((t,l)=>{var n;const o=t.value!==y.value&&t.value!==b.value?$e(t.position,"%"):void 0;return i("div",{key:t.value,class:r(["v-slider-track__tick",{"v-slider-track__tick--filled":t.position>=e.start&&t.position<=e.stop,"v-slider-track__tick--first":t.value===y.value,"v-slider-track__tick--last":t.value===b.value}]),style:{[I.value]:o}},[(t.label||a["tick-label"])&&i("div",{class:"v-slider-track__tick-label"},[(null==(n=a["tick-label"])?void 0:n.call(a,{tick:t,index:l}))??t.label])])}):[]);return Me(()=>i("div",{class:r(["v-slider-track",w.value,e.class]),style:c([{"--v-slider-track-size":$e(f.value),"--v-slider-tick-size":$e(p.value)},e.style])},[i("div",{class:r(["v-slider-track__background",S.value,{"v-slider-track__background--opacity":!!o.value||!h.value}]),style:{...T.value,...C.value}},null),i("div",{class:r(["v-slider-track__fill",_.value]),style:{...M.value,...k.value}},null),d.value&&i("div",{class:r(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":"always"===d.value}])},[A.value])])),{}}}),YJ=xe({...ak(),...RJ(),...dk(),modelValue:{type:[Number,String],default:0}},"VSlider"),GJ=Ee()({name:"VSlider",props:YJ(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const s=a(),r=a(),{rtlClasses:c}=Ge(),p=zJ(e),m=Fe(e,"modelValue",void 0,e=>p.roundValue(null==e?p.min.value:e)),{min:v,max:h,mousePressed:f,roundValue:g,onSliderMousedown:y,onSliderTouchstart:b,trackContainerRef:x,position:_,hasLabels:k,disabled:S,readonly:C,noKeyboard:I}=UJ({props:e,steps:p,onSliderStart:()=>{o("start",m.value)},onSliderEnd:e=>{let{value:t}=e;const a=g(t);m.value=a,o("end",a)},onSliderMove:e=>{let{value:t}=e;return m.value=g(t)},getActiveThumb:()=>{var e;return null==(e=s.value)?void 0:e.$el}}),{isFocused:E,focus:T,blur:N}=lk(e),M=l(()=>_(m.value));return Me(()=>{const t=ck.filterProps(e),a=!!(e.label||n.label||n.prepend);return d(ck,w({ref:r,class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||k.value,"v-slider--focused":E.value,"v-slider--pressed":f.value,"v-slider--disabled":e.disabled},c.value,e.class],style:e.style},t,{focused:E.value}),{...n,prepend:a?t=>{var a,l;return i(u,null,[(null==(a=n.label)?void 0:a.call(n,t))??(e.label?d(mk,{id:t.id.value,class:"v-slider__label",text:e.label},null):void 0),null==(l=n.prepend)?void 0:l.call(n,t)])}:void 0,default:t=>{let{id:a,messagesId:l}=t;return i("div",{class:"v-slider__container",onMousedown:C.value?void 0:y,onTouchstartPassive:C.value?void 0:b},[i("input",{id:a.value,name:e.name||a.value,disabled:!!S.value,readonly:!!C.value,tabindex:"-1",value:m.value},null),d(WJ,{ref:x,start:0,stop:M.value},{"tick-label":n["tick-label"]}),d(HJ,{ref:s,"aria-describedby":l.value,focused:E.value,noKeyboard:I.value,min:v.value,max:h.value,modelValue:m.value,"onUpdate:modelValue":e=>m.value=e,position:M.value,elevation:e.elevation,onFocus:T,onBlur:N,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),Wm({focus:()=>{var e;return null==(e=s.value)?void 0:e.$el.focus()}},r)}}),KJ={class:"d-flex align-center px-0 px-md-4"},XJ=["src","alt"],JJ={key:1,class:"headline maintext--text font-weight-bold"},QJ={class:"d-flex flex-column justify-center w-100 ml-3"},ZJ={class:"d-flex align-center"},eQ={class:"primary--text fs-12 pt-1"},tQ={class:"mb-0 mr-md-4 subtitle-1 font-weight-bold lh-24"},aQ=["id"],lQ=["id"],nQ=["id"],oQ=["id"],sQ={key:0,class:"px-4"},iQ={key:1},rQ=["id"],uQ=["id"],dQ={class:"d-flex flex-row mb-1"},cQ={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24"},pQ=["id"],mQ={key:1,class:"fs-12 pt-1 lh-24"},vQ={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24 float-right"},hQ=["id"],fQ={class:"d-flex flex-row mb-1"},gQ={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24"},yQ={key:1,class:"fs-12 pt-1 lh-24"},bQ={class:"maintext--text font-weight-medium fs-12 pt-1 lh-24 float-right"},xQ={class:"pt-5"},wQ={class:"text-right"},_Q={class:"mb-0 subtext--text fs-14 font-weight-medium"},kQ={class:"float-right"},SQ={class:"mb-0 subtext--text fs-14 font-weight-medium text-right"},CQ={class:"float-left"},IQ=["id"],EQ=["id"],TQ=["id"],NQ=["id"],MQ=["id"],AQ=["id"],OQ={key:0,class:"px-4 pt-4"},PQ=["id"],FQ=["id"],LQ={class:"mb-0 fs-10 text-uppercase font-weight-medium"},DQ={class:"mb-0 fs-10 text-uppercase font-weight-medium"},VQ={key:1,class:"px-4 pb-4"},BQ={key:0,class:"pos-abs",style:{right:"-10px"}},$Q={key:0,class:"pos-abs",style:{right:"-32px"}},RQ={__name:"StocksOverview",setup(e){const t=a(!0),l=a([]),n=a(null),o=a([]),s=a(0),p=a(!1),m=()=>{try{return JSON.parse(localStorage.getItem("price_cache")||"{}")}catch{return{}}},v=e=>{const t=Number(l.value&&l.value[0]&&l.value[0].ltp?l.value[0].ltp:0),a=Number(e);if(!t||!a||a<=0)return"0.00";const n=(t-a)/a*100;return isFinite(n)?n.toFixed(2):"0.00"},f=(e,t,a)=>{window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==e?b(e,t,a):setTimeout(()=>{f(e,t,a)},100)},g=()=>{n.value=null},b=async(e,a,o)=>{let i=window.ssddetail;n.value=`${ol.imgicon}${o.split("-")[0]}.png`,l.value=[];var r=i[1]?i[1]:"";t.value=!1,l.value.push(i[0]),r&&r.fundamental&&r.fundamental[0]?l.value.f=r.fundamental[0]:l.value.f=[],x(e),k("sub",[{token:e,exch:a,tsym:o}],"ssd"),s.value=l.value[0]&&l.value[0].token?l.value[0].token:0,S(e),_(l.value[0]);const u=m();if(l.value&&l.value[0]&&e){const t=u[e];if(t){["ltp","ch","chp","high_price","low_price","open_price","close_price"].forEach(e=>{l.value[0][e]&&0!==Number(l.value[0][e])||(l.value[0][e]=t[e])});const a=(e,t)=>{const a=document.getElementById(e);a&&void 0!==t&&(a.innerHTML=t)};a(`ssdove${e}ltp`,l.value[0].ltp),a(`ssdove${e}ch`,l.value[0].ch),a(`ssdove${e}chp`,l.value[0].chp)}}},x=e=>{var t,a,n=null==(t=window.ssdreqdata)?void 0:t.data;n&&n[e]&&n[e].t?(o.value=[{type:"1 day",returns:(null==(a=l.value[0])?void 0:a.close_price)||0},{type:"1 week",returns:Number(n[e].t.wk1_c)?Number(n[e].t.wk1_c):0},{type:"2 week",returns:Number(n[e].t.wk2_c)?Number(n[e].t.wk2_c):0},{type:"1 month",returns:Number(n[e].t.mnth1_c)?Number(n[e].t.mnth1_c):0},{type:"3 month",returns:Number(n[e].t.mnth3_c)?Number(n[e].t.mnth3_c):0},{type:"1 year",returns:Number(n[e].t.wk52_c)?Number(n[e].t.wk52_c):0}],l.value.pivot=Number(n[e].t.sup_3)>0&&Number(n[e].t.sup_2)>0&&Number(n[e].t.sup_1)>0&&Number(n[e].t.res_1)>0&&Number(n[e].t.res_2)>0&&Number(n[e].t.res_3)>0?[{color:"#FF1717",name:"S3",value:Number(n[e].t.sup_3)?Number(n[e].t.sup_3):0},{color:"#D34645",name:"S2",value:Number(n[e].t.sup_2)?Number(n[e].t.sup_2):0},{color:"#E38988",name:"S1",value:Number(n[e].t.sup_1)?Number(n[e].t.sup_1):0},{color:"#84C89D",name:"R1",value:Number(n[e].t.res_1)?Number(n[e].t.res_1):0},{color:"#3FA965",name:"R2",value:Number(n[e].t.res_2)?Number(n[e].t.res_2):0},{color:"#43A833",name:"R3",value:Number(n[e].t.res_3)?Number(n[e].t.res_3):0}]:[],l.value.pivotpoint=Number(n[e].t.pivot_point)?Number(n[e].t.pivot_point):0):(o.value=[],setTimeout(()=>{x(e)},100))},w=()=>{n.value=null,l.value=[],o.value=[]},_=e=>{if(!e)return;const t=e.token,a=e=>e||0===e?Number(e).toFixed(2):"0.00",n=e=>e||0===e?Number(e):0;l.value[0].ltp=a(e.lp||e.ltp),l.value[0].ch=a(e.ch),l.value[0].chp=a(e.chp),l.value[0].high_price=a(e.high_price||e.high),l.value[0].low_price=a(e.low_price||e.low),l.value[0].open_price=a(e.open_price||e.open),l.value[0].close_price=a(e.prev_close_price||e.close),l.value[0].vol=n(e.volume||e.vol),l.value[0].ap=a(e.ap),l.value[0].oi=n(e.oi),l.value[0].uc=a(e.uc),l.value[0].lc=a(e.lc),l.value[0].ltt=e.ltt||"00:00:00",l.value[0].ltq=n(e.ltq);const o=(e,t)=>{const a=document.getElementById(e);a&&(a.innerHTML=t)};t&&(o(`ssdove${t}ltp`,l.value[0].ltp),o(`ssdove${t}ch`,l.value[0].ch),o(`ssdove${t}chp`,l.value[0].chp),o(`ssdove${t}hp`,l.value[0].high_price),o(`ssdove${t}lp`,l.value[0].low_price),o(`ssdove${t}op`,l.value[0].open_price),o(`ssdove${t}cp`,l.value[0].close_price),o(`ssdove${t}vol`,l.value[0].vol),o(`ssdove${t}ap`,l.value[0].ap),o(`ssdove${t}oi`,l.value[0].oi),o(`ssdove${t}uc`,l.value[0].uc),o(`ssdove${t}lc`,l.value[0].lc),o(`ssdove${t}ltt`,l.value[0].ltt),o(`ssdove${t}ltq`,l.value[0].ltq))},k=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},S=e=>{const t=Xle();if(!(null==t?void 0:t.length))return null;const a=t.find(t=>t.token==e);(null==a?void 0:a.netqty)>0&&(l.value[0].sucase=a.netqty)},C=e=>{const t=e.token||e.tk;if(!t||!l.value[0]||l.value[0].token!=t)return;const a=Number(e.lp||e.ltp||0);!isNaN(a)&&a>0&&(l.value[0].ltp=a.toFixed(2)),l.value[0].lp=l.value[0].ltp;const n=Number(e.ch||e.c);isNaN(n)||(l.value[0].ch=n.toFixed(2));const s=Number(e.chp);isNaN(s)||(l.value[0].chp=s.toFixed(2));const i=Number(e.high_price||e.high);isNaN(i)||(l.value[0].high_price=i.toFixed(2));const r=Number(e.low_price||e.low);isNaN(r)||(l.value[0].low_price=r.toFixed(2));const u=Number(e.w52h);isNaN(u)||(l.value[0].w52h=u.toFixed(2));const d=Number(e.w52l);isNaN(d)||(l.value[0].w52l=d.toFixed(2));const c=Number(e.open_price||e.open);isNaN(c)||(l.value[0].open_price=c.toFixed(2));const p=Number(e.prev_close_price||e.close);isNaN(p)||(l.value[0].close_price=p);const v=Number(e.socketVolume||e.volume||e.vol);isNaN(v)||(l.value[0].vol=v);const h=Number(e.ap);isNaN(h)||(l.value[0].ap=h.toFixed(2));const f=Number(e.oi);isNaN(f)||(l.value[0].oi=f);const g=Number(e.uc);isNaN(g)||(l.value[0].uc=g);const y=Number(e.lc);isNaN(y)||(l.value[0].lc=y),e.ltt&&(l.value[0].ltt=e.ltt);const b=Number(e.ltq);isNaN(b)||(l.value[0].ltq=b),e.tbq&&e.tsq&&(l.value[0].bid_qty=e.tbq>0||e.tsq>0?((e.tbq-(e.tbq+e.tsq))/(e.tbq+e.tsq)*100+100).toFixed(2):0,l.value[0].ask_qty=e.tbq>0||e.tsq>0?Math.abs(100-l.value[0].bid_qty).toFixed(2):0),e.depth&&(l.value[0].depth=e.depth,l.value[0].depth.bids&&l.value[0].depth.bids.length>0&&(l.value[0].bitmax=Math.max(...l.value[0].depth.bids.map(e=>e.volume))),l.value[0].depth.asks&&l.value[0].depth.asks.length>0&&(l.value[0].askmax=Math.max(...l.value[0].depth.asks.map(e=>e.volume))));const x=m();x[t]={ltp:l.value[0].ltp,ch:l.value[0].ch,chp:l.value[0].chp,high_price:l.value[0].high_price,low_price:l.value[0].low_price,open_price:l.value[0].open_price,close_price:l.value[0].close_price},(e=>{try{localStorage.setItem("price_cache",JSON.stringify(e))}catch{}})(x);let w=document.getElementById(`ssdove${t}ltp`);if(w){l.value[0].ltp&&Number(l.value[0].ltp)>0&&(w.innerHTML=l.value[0].ltp);const e=document.getElementById(`ssdove${t}ch`),a=document.getElementById(`ssdove${t}chp`),n=document.getElementById(`ssdove${t}chpclr`);if(e&&void 0!==l.value[0].ch&&(e.innerHTML=l.value[0].ch),a&&void 0!==l.value[0].chp&&(a.innerHTML=l.value[0].chp),n){const e=parseFloat(l.value[0].ch)||0;n.className=e>0?"fs-12 maingreen--text":e<0?"fs-12 mainred--text":"fs-12 subtext-text"}const o=document.getElementById(`ssdove${t}oi`),s=document.getElementById(`ssdove${t}uc`),i=document.getElementById(`ssdove${t}lc`),r=document.getElementById(`ssdove${t}ltt`),u=document.getElementById(`ssdove${t}ltq`),d=document.getElementById(`ssdove${t}vol`),c=document.getElementById(`ssdove${t}ap`),p=document.getElementById(`ssdove${t}hp`),m=document.getElementById(`ssdove${t}lp`),v=document.getElementById(`ssdove${t}op`),h=document.getElementById(`ssdove${t}cp`);o&&(o.innerHTML=l.value[0].oi),s&&(s.innerHTML=l.value[0].uc),i&&(i.innerHTML=l.value[0].lc),r&&(r.innerHTML=l.value[0].ltt),u&&(u.innerHTML=l.value[0].ltq),d&&(d.innerHTML=l.value[0].vol),c&&(c.innerHTML=l.value[0].ap),p&&(p.innerHTML=l.value[0].high_price),m&&(m.innerHTML=l.value[0].low_price),v&&(v.innerHTML=l.value[0].open_price),h&&(h.innerHTML=l.value[0].close_price)}let _=document.getElementById(`ssdove${t}rbg`);if(_&&o.value.length>0){const e=document.getElementById(`ssdove${t}rchp`),a=document.getElementById(`ssdove${t}rchpclr`);if(e&&o.value[0]&&(e.innerHTML=o.value[0].returns?((l.value[0].ltp-o.value[0].returns)/o.value[0].returns*100).toFixed(2):"0.00"),a){const e=parseFloat(l.value[0].ch)||0;a.className=e>0?"fs-18 font-weight-bold mb-2 maingreen--text":e<0?"fs-18 font-weight-bold mb-2 mainred--text":"fs-18 font-weight-bold mb-2 subtext--text"}const n=parseFloat(l.value[0].ch)||0;_.style.backgroundColor=n>0?"#FBFFFA":n<0?"#FFFCFB":"#FAFAFA"}},I=e=>{const{detail:a}=e;if(Array.isArray(a)&&a.length>=4){const[e,n,o,s]=a;l.value[0]&&k("unsub-D",[{token:l.value[0].token,exch:l.value[0].exch,tsym:l.value[0].tsym}],"ssd"),t.value=!0,w(),f(n,o,s)}},E=e=>{const{detail:t}=e;p.value=t},T=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSSD"==a&&C(e)}else t&&"object"==typeof t&&("stockSSD"===t.page||t.token||t.tk)&&C(t)};return y(()=>{let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&(t.value=!0,w(),f(localStorage.getItem("ssdtoken"),e.split(":")[0],e.split(":")[1])),window.addEventListener("ssd-event",I),window.addEventListener("lwc-event",E),window.addEventListener("web-scoketConn",T)}),h(()=>{window.removeEventListener("lwc-event",E),window.removeEventListener("ssd-event",I),window.removeEventListener("web-scoketConn",T)}),(e,t)=>(z(),R("div",null,[d(cy,{class:"crd-trn ss-cards mb-4 overflow-hidden",width:"100%"},{default:H(()=>[d(cy,{color:"secbg",height:"93px",class:"elevation-0 rounded-0 pt-2 px-md-0 px-3"},{default:H(()=>[d(Ry,{"no-gutters":"",style:{"background-color":"#F1F3F8 !important"}},{default:H(()=>[d(ky,{cols:"12",md:"7",class:"pb-1 pb-md-2"},{default:H(()=>[i("div",KJ,[d(oy,{color:"mainbg",size:"56",class:"my-0"},{default:H(()=>{var e;return[n.value?(z(),R("img",{key:0,src:n.value,onError:g,class:"pa-1",alt:(null==(e=l.value[0])?void 0:e.cname)||"stock",width:"56px"},null,40,XJ)):(z(),R("span",JJ,A(l.value[0]?(l.value[0].cname?l.value[0].cname:l.value[0].symname).slice(0,1):""),1))]}),_:1}),i("div",QJ,[i("div",{class:r([l.value[0]?"maintext--text":"txt-trn","font-weight-bold mb-0 text-capitalize lh-14 pt-3"]),style:{"font-size":"16px !important"}},A(l.value[0]?l.value[0].cname?l.value[0].cname:l.value[0].tsym:"abcd"),3),d(B_,{class:"my-0 py-0 d-flex flex-wrap align-center",column:""},{default:H(()=>{var e;return[d(R_,{label:"",size:"small",color:"0",style:{color:"0 !important"},class:"font-weight-medium fs-10"},{default:H(()=>[W(A(l.value.f&&l.value.f.industry?l.value.f.industry:"Industry"),1)]),_:1}),d(R_,{label:"",size:"small",color:"black",style:{color:"black !important"},class:"font-weight-medium fs-10"},{default:H(()=>[W(A(l.value.f&&l.value.f.market_cap_type?l.value.f.market_cap_type:"Marketcap type"),1)]),_:1}),(null==(e=l.value[0])?void 0:e.sucase)?(z(),q(R_,{key:0,label:"",size:"small",color:"white",class:"font-weight-medium px-2"},{default:H(()=>[i("span",ZJ,[t[2]||(t[2]=i("img",{width:"14px",src:lg,style:{"margin-right":"4px"}},null,-1)),i("span",eQ,A(l.value[0].sucase),1)])]),_:1})):ee("",!0)]}),_:1})])])]),_:1}),d(ky,{cols:"12",md:"5",class:"text-md-right text-left pt-0 pt-md-5 pb-2 pl-4 pl-md-3"},{default:H(()=>[i("p",tQ,[t[5]||(t[5]=W(" ₹",-1)),i("span",{id:`ssdove${s.value}ltp`},A(l.value[0]&&l.value[0].ltp?l.value[0].ltp:"0.00"),9,aQ),t[6]||(t[6]=i("br",{class:"d-none d-md-block"},null,-1)),i("span",{class:r(["fs-12",l.value[0]?l.value[0].ch>0?"maingreen--text":l.value[0].ch<0?"mainred--text":"subtext-text":"subtext-text"]),id:`ssdove${s.value}chpclr`,style:c({color:l.value[0]?l.value[0].ch>0?"#43A833":l.value[0].ch<0?"#F23645":"#676767":"#676767"})},[i("span",{id:`ssdove${s.value}ch`},A(l.value[0]&&l.value[0].ch?`${l.value[0].ch}`:"0.00"),9,nQ),t[3]||(t[3]=W(" (",-1)),i("span",{id:`ssdove${s.value}chp`},A(l.value[0]&&l.value[0].chp?`${l.value[0].chp}`:"0.00"),9,oQ),t[4]||(t[4]=W("%)",-1))],14,lQ)])]),_:1})]),_:1})]),_:1}),p.value&&l.value&&l.value[0]?(z(),R("div",sQ,[d(bD,{propstsym:l.value[0]?l.value[0]:{}},null,8,["propstsym"])])):(z(),R("div",iQ,[d(cy,{height:"46vh"})]))]),_:1}),d(cy,{class:"crd-trn ss-cards mb-4 pt-4 overflow-hidden",width:"100%"},{default:H(()=>[i("div",null,[d(Ry,{class:"pt-md-3 pl-md-4 pr-md-7 flex-column-reverse flex-md-row"},{default:H(()=>[d(ky,{cols:"12",md:"4",class:"px-7 pl-md-3 pr-md-5 pb-0"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pt-0"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-0"},{default:H(()=>[...t[7]||(t[7]=[W("Market Cap ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-0"},{default:H(()=>[W(A(l.value.f&&l.value.f.market_cap?`${Number(l.value.f.market_cap).toLocaleString()}`:"0.00"),1)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"6",class:"pt-0"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-0"},{default:H(()=>[...t[8]||(t[8]=[W("Volume ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-0",id:`ssdove${s.value}vol`},{default:H(()=>[W(A(l.value[0]&&l.value[0].volume?`${l.value[0].volume.toLocaleString()}`:"0.00"),1)]),_:1},8,["id"])]),_:1}),d(my)]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 pb-0"},{default:H(()=>[...t[9]||(t[9]=[W("Open ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 pb-0"},{default:H(()=>[t[10]||(t[10]=W(" ₹",-1)),i("span",{id:`ssdove${s.value}op`},A(l.value[0]&&l.value[0].open_price?l.value[0].open_price:"0.00"),9,rQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"6"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 pb-0"},{default:H(()=>[...t[11]||(t[11]=[W("Close ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 pb-0"},{default:H(()=>[t[12]||(t[12]=W(" ₹",-1)),i("span",{id:`ssdove${s.value}cp`},A(l.value[0]&&l.value[0].close_price?l.value[0].close_price:"0.00"),9,uQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"12"},{default:H(()=>[t[15]||(t[15]=i("p",{class:"font-weight-regular fs-10 subtext--text mb-0"},"High - Low",-1)),i("div",dQ,[i("span",cQ,[t[13]||(t[13]=W(" ₹",-1)),i("span",{id:`ssdove${s.value}hp`},A(l.value[0]&&l.value[0].high_price?l.value[0].high_price:"0.00"),9,pQ)]),l.value[0]&&l.value[0].ltp>l.value[0].low_price&&l.value[0].ltp<l.value[0].high_price?(z(),q(cy,{key:0,width:"100%",class:"crd-trn elevation-0 px-2 rot-180"},{default:H(()=>[d(GJ,{"hide-details":"","thumb-color":"maintext",color:"subtext",modelValue:l.value[0].ltp,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value[0].ltp=e),readonly:"",min:l.value[0].low_price,max:l.value[0].high_price,"track-color":"subtext"},null,8,["modelValue","min","max"])]),_:1})):(z(),R("span",mQ," - ")),i("span",vQ,[t[14]||(t[14]=W(" ₹",-1)),i("span",{id:`ssdove${s.value}lp`},A(l.value[0]&&l.value[0].low_price?l.value[0].low_price:"0.00"),9,hQ)])]),d(my)]),_:1}),d(ky,{cols:"12"},{default:H(()=>[t[16]||(t[16]=i("p",{class:"font-weight-regular fs-10 subtext--text mb-0"},"52 Weeks high - 52 Weeks low",-1)),i("div",fQ,[i("span",gQ,A(l.value[0]&&l.value[0].w52h?`₹${l.value[0].w52h}`:"0.00"),1),l.value[0]&&l.value[0].ltp>l.value[0].w52l&&l.value[0].ltp<l.value[0].w52h?(z(),q(cy,{key:0,width:"100%",class:"crd-trn elevation-0 px-2 rot-180"},{default:H(()=>[d(GJ,{"hide-details":"","thumb-color":"maintext",color:"subtext",modelValue:l.value[0].ltp,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value[0].ltp=e),readonly:"",min:l.value[0].w52l,max:l.value[0].w52h,"track-color":"subtext"},null,8,["modelValue","min","max"])]),_:1})):(z(),R("span",yQ," - ")),i("span",bQ,A(l.value[0]&&l.value[0].w52l?`₹${l.value[0].w52l}`:"0.00"),1)])]),_:1})]),_:1})]),_:1}),d(ky,{cols:"12",md:"8",class:"pa-md-0 pt-4 pb-0 px-6 pos-rlt"},{default:H(()=>[l.value[0]?(z(),q(cy,{key:0,class:"crd-trn elevation-0 rounded-0 ss-adv-chart mt-auto",width:"100%"},{default:H(()=>[i("div",xQ,[t[21]||(t[21]=i("p",{class:"font-weight-bold fs-16 mb-0"},"Market Depth",-1)),d(cb,{class:"px-0"},{append:H(()=>[i("div",wQ,[d(rb,{class:"font-weight-regular fs-12 subtext--text mb-1 text-uppercase py-0"},{default:H(()=>[...t[18]||(t[18]=[W("Sell order Qty ",-1)])]),_:1}),d(ub,{class:"font-weight-medium fs-14 mb-1 py-0"},{default:H(()=>[W(A(l.value[0].ask_qty>0?l.value[0].ask_qty:"0.00")+"%",1)]),_:1})])]),default:H(()=>[d(rb,{class:"font-weight-regular fs-12 subtext--text mb-1 text-uppercase py-0"},{default:H(()=>[...t[17]||(t[17]=[W("Buy order Qty ",-1)])]),_:1}),d(ub,{class:"font-weight-medium fs-14 mb-1 py-0"},{default:H(()=>[W(A(l.value[0].bid_qty>0?l.value[0].bid_qty:"0.00")+"%",1)]),_:1})]),_:1}),l.value[0]&&l.value[0].bid_qty>0||l.value[0].ask_qty>0?(z(),q(Op,{key:0,class:"market-depth",color:"maingreen","model-value":l.value[0].bid_qty},null,8,["model-value"])):(z(),q(Op,{key:1,color:"#D9DBDC","model-value":100})),l.value[0]&&l.value[0].depth?(z(),q(Ry,{key:2,"no-gutters":"",class:"mt-3"},{default:H(()=>[d(ky,{cols:"6",class:"py-0 pr-4",style:{"border-right":"thin dashed #d9dbdc !important"}},{default:H(()=>[t[19]||(t[19]=i("p",{class:"subtext--text fs-12 font-weight-medium mb-2"},[W("Quantity "),i("span",{class:"float-right maingreen--text"},"Bid")],-1)),(z(!0),R(u,null,U(l.value[0].depth.bids,(e,t)=>(z(),R("div",{class:"pos-rlt mb-2 depthrow-b",key:t},[d(cy,{class:"elevation-0 px-2 crd-trn",style:{"z-index":"1"}},{default:H(()=>{var t;return[i("p",_Q,[W(A(e.volume.toLocaleString())+" ",1),i("span",kQ,A(null==(t=e.price)?void 0:t.toFixed(2)),1)])]}),_:2},1024),d(cy,{class:"elevation-0 rounded-0 py-3 pos-abs",style:{left:"0",top:"-1px","z-index":"0"},color:"secgreen",width:`${((e.volume-l.value[0].bitmax)/l.value[0].bitmax*100+100).toFixed(0)}%`},null,8,["width"])]))),128))]),_:1}),d(ky,{cols:"6",class:"py-0 pl-4",style:{"border-left":"thin dashed #d9dbdc !important"}},{default:H(()=>[t[20]||(t[20]=i("p",{class:"subtext--text fs-12 font-weight-medium text-right mb-2"},[i("span",{class:"float-left mainred--text"},"Ask"),W(" Quantity")],-1)),(z(!0),R(u,null,U(l.value[0].depth.asks,(e,t)=>(z(),R("div",{class:"pos-rlt mb-2 depthrow-a",key:t},[d(cy,{class:"elevation-0 px-2 crd-trn",style:{"z-index":"1"}},{default:H(()=>{var t;return[i("p",SQ,[i("span",CQ,A(null==(t=e.price)?void 0:t.toFixed(2)),1),W(" "+A(e.volume.toLocaleString()),1)])]}),_:2},1024),d(cy,{class:"elevation-0 rounded-0 py-3 pos-abs",style:{right:"0",top:"-1px","z-index":"0"},color:"secred",width:`${((e.volume-l.value[0].askmax)/l.value[0].askmax*100+100).toFixed(0)}%`},null,8,["width"])]))),128))]),_:1})]),_:1})):ee("",!0)])]),_:1})):ee("",!0),l.value[0]&&l.value[0].instname&&("UNDIND"==l.value[0].instname||"COM"==l.value[0].instname)?(z(),q(cy,{key:1,class:"pos-abs md-glasscard elevation-0",height:"270px",width:"100%"},{default:H(()=>[...t[22]||(t[22]=[i("div",{class:"pos-cent"},[i("p",{class:"mb-0 fs-14 maintext--text font-weight-bold text-center"},[W(" Non-tradable symbol, "),i("br"),W(" no market depth data ")])],-1)])]),_:1})):ee("",!0)]),_:1})]),_:1}),d(Ry,{"no-gutters":"",class:"px-4 pt-0"},{default:H(()=>[d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[23]||(t[23]=[W("Avg price ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}ap`},A(l.value[0]&&l.value[0].ap?l.value[0].ap:"0.00"),9,IQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[24]||(t[24]=[W("OI ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}oi`},A(l.value[0]&&l.value[0].oi?l.value[0].oi:"0.00"),9,EQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[25]||(t[25]=[W("Upper circuit level ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}uc`},A(l.value[0]&&l.value[0].uc?l.value[0].uc:"0.00"),9,TQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[26]||(t[26]=[W("Lower circuit level ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}lc`},A(l.value[0]&&l.value[0].lc?l.value[0].lc:"0.00"),9,NQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[27]||(t[27]=[W("Last trade qty ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}ltq`},A(l.value[0]&&l.value[0].ltq?l.value[0].ltq:"0.00"),9,MQ)]),_:1})]),_:1}),d(my)]),_:1}),d(ky,{cols:"2"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(rb,{class:"font-weight-regular fs-10 subtext--text mb-2 py-1"},{default:H(()=>[...t[28]||(t[28]=[W("Last trade time ",-1)])]),_:1}),d(ub,{class:"maintext--text font-weight-medium fs-12 mb-1 py-1"},{default:H(()=>[i("span",{id:`ssdove${s.value}ltt`},A(l.value[0]&&l.value[0].ltt?l.value[0].ltt:"0.00"),9,AQ)]),_:1})]),_:1}),d(my)]),_:1})]),_:1})])]),_:1}),d(cy,{class:"crd-trn ss-cards mb-2 overflow-hidden",width:"100%"},{default:H(()=>[o.value?(z(),R("div",OQ,[t[30]||(t[30]=i("p",{class:"font-weight-bold subtitle-2 mb-1"},"Returns",-1)),d(Ry,{"no-gutters":"",class:"mt-0 pb-6"},{default:H(()=>[(z(!0),R(u,null,U(o.value?o.value:6,(e,a)=>(z(),q(ky,{cols:"6",md:"2",key:a,class:"pt-0"},{default:H(()=>[0==a?(z(),q(cy,{key:0,id:`ssdove${s.value}rbg`,color:l.value[0].ch>0?"secgreen":l.value[0].ch<0?"secred":"secbg",class:"rounded-lg px-3 py-2 elevation-0 brd-1-solid-ccc text-center",width:"100%"},{default:H(()=>[i("p",{id:`ssdove${s.value}rchpclr`,class:r([l.value[0].ch>0?"maingreen--text":l.value[0].ch<0?"mainred--text":"subtext--text","fs-18 font-weight-bold mb-2"])},[i("span",{id:`ssdove${s.value}rchp`},A(v(e.returns)),9,FQ),t[29]||(t[29]=W("% ",-1))],10,PQ),i("p",LQ,A(e.type?e.type:"---"),1)]),_:2},1032,["id","color"])):(z(),q(cy,{key:1,color:(l.value[0].ltp-e.returns)/e.returns*100>0?"secgreen":(l.value[0].ltp-e.returns)/e.returns*100<0?"secred":"secbg",class:"rounded-lg px-3 py-2 elevation-0 brd-1-solid-ccc text-center",width:"100%"},{default:H(()=>[i("p",{class:r([Number(v(e.returns))>0?"maingreen--text":Number(v(e.returns))<0?"mainred--text":"subtext--text","fs-18 font-weight-bold mb-2"])},A(v(e.returns))+"% ",3),i("p",DQ,A(e.type?e.type:"---"),1)]),_:2},1032,["color"]))]),_:2},1024))),128))]),_:1})])):ee("",!0),l.value.pivot&&l.value.pivot.length>0?(z(),R("div",VQ,[t[32]||(t[32]=i("p",{class:"font-weight-bold subtitle-2 mb-1"},"Pivot levels",-1)),d(Ry,{"no-gutters":"",class:"px-2"},{default:H(()=>[(z(!0),R(u,null,U(l.value.pivot,(e,a)=>(z(),q(ky,{cols:"2",class:"px-0",key:a},{default:H(()=>[d(cy,{width:"100%",class:"crd-trn elevation-0 px-1"},{default:H(()=>[i("p",{class:r(["fs-14 mb-0 font-weight-medium pos-rlt",a<=2?"":"text-right"])},[W(A(e.name)+" ",1),2==a?(z(),R("span",BQ,"P")):ee("",!0)],2),d(cy,{width:"100%",color:e.color,height:"8px",class:"elevation-0 pos-rlt"},{default:H(()=>[l.value.pivot[a-1]&&l.value[0].ltp<=e.value&&l.value[0].ltp>=l.value.pivot[a-1].value?(z(),q(wp,{key:0,class:"pos-abs",style:c([{top:"-4px"},`left: ${Math.trunc((e.value-l.value[0].ltp)/e.value*100)}%;`]),color:"maintext",size:"16"},{default:H(()=>[...t[31]||(t[31]=[W("mdi-checkbox-blank-circle",-1)])]),_:1},8,["style"])):ee("",!0)]),_:2},1032,["color"]),i("p",{class:r(["fs-12 mb-0 font-weight-medium pos-rlt",a<=2?"":"text-right"])},[W(A(Number(e.value)?Number(e.value).toFixed(2):"")+" ",1),2==a?(z(),R("span",$Q,A(Number(l.value.pivotpoint)?Number(l.value.pivotpoint).toFixed(2):""),1)):ee("",!0)],2)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):ee("",!0)]),_:1})]))}},zQ={class:"d-flex align-center px-0 px-md-4 pt-3 pb-0"},UQ=["src","alt"],qQ={key:1,class:"headline font-weight-bold"},HQ={class:"d-flex flex-column justify-center w-100 ml-3"},jQ={class:"d-flex align-center"},WQ={class:"primary--text fs-12 pt-1"},YQ={class:"mb-0 mr-md-4 subtitle-1 font-weight-bold lh-24"},GQ={class:"py-3 py-md-6"},KQ={class:"pt-md-6 pt-4 px-4"},XQ={class:"pb-4 px-4"},JQ={class:"pl-4"},QQ={class:"pl-4 font-weight-medium maintext--text text-capitalize"},ZQ={class:"text-right d-none d-md-table-cell"},eZ={class:"text-right d-none d-md-table-cell"},tZ={class:"text-right d-none d-md-table-cell"},aZ={class:"text-right d-none d-md-table-cell"},lZ={class:"text-right d-none d-md-table-cell"},nZ={class:"text-right d-none d-md-table-cell"},oZ={class:"text-right d-none d-md-table-cell"},sZ={class:"pr-4 text-right d-none d-md-table-cell"},iZ={class:"pr-4 text-right d-md-none"},rZ={key:0},uZ={key:1},dZ={key:2},cZ={class:"pt-6 pb-4 pl-4"},pZ={class:"primary--text"},mZ={class:"pt-6 pb-md-4 pb-8 px-7"},vZ={class:"font-weight-medium maintext--text mb-0 d-inline-flex"},hZ={class:"maintext--text"},fZ={class:"pl-4"},gZ={class:"font-weight-medium maintext--text text-capitalize"},yZ={class:"text-right d-none d-md-table-cell"},bZ={class:"pr-4 text-right d-none d-md-table-cell"},xZ={class:"text-right d-none d-md-table-cell"},wZ={class:"pr-4 text-right d-md-none"},_Z={key:0},kZ={key:1},SZ={key:2},CZ={class:"pt-6 pb-4 px-4"},IZ={key:1},EZ={key:0},TZ={key:1},NZ={key:2},MZ={class:"mx-auto"},AZ={class:"txt-999 font-weight-regular"},OZ={class:"pt-md-6 pb-4 px-4"},PZ={class:"d-inline-flex mb-6"},FZ={key:0},LZ={key:1},DZ=["src","alt"],VZ={key:2},BZ={class:"pos-cent"},$Z={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},RZ={__name:"StockSingle",setup(e){const t=a(!0),n=g({}),o=a(""),s=()=>{try{return JSON.parse(localStorage.getItem("price_cache")||"{}")}catch{return{}}},c=g({"PE Ratio":"","Sector PE":"",EVEBITDA:"","PB Ratio":"","Sector PB":"","Dividend Yield":"",ROCE:"",ROE:"","Debt to equity":"","Price to Sale":"","Book Value":"","Face Value":""}),p=a(0),m=a(null),v=g({}),b=a("stockFinancialsStandalone"),x=a("y5"),w=g({y5:"MM YYYY",y4:"MM YYYY",y3:"MM YYYY",y2:"MM YYYY",y1:"MM YYYY"});a(0);const _=a(null),k=a([]),S=a("dividend_yield_percent"),C=g({dates:[],script:[],closes:[]}),I=a(0),E=g({all:[],table:[],x:0,y:"promoters"}),T=a([]),N=a(null),M=a("mf_holding_percent"),O=a(0),P=a("announcement");a([]);const F=[{txt:"Daily",key:"day",tit:"Today's"},{txt:"Weekly",key:"weekly",tit:"Week's"},{txt:"Monthly",key:"monthly",tit:"Month's"}],L=a(0),D=a([]),V=a(0),B=a({}),$=a(null),j=a([]),Y=a(!0),G=a(null),K=a(null),X=a(null),J=l(()=>[{title:"Financial Years",key:"exp",filter:fe,sortable:!1,class:"fin-w-head pl-4"},{title:w.y5,key:"y5",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:w.y4,key:"y4",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:w.y3,key:"y3",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:w.y2,key:"y2",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:w.y1,key:"y1",sortable:!1,align:"end",class:" pr-4 d-none d-md-table-cell"},{title:w.y1,key:"y0",sortable:!1,align:"end",class:"pr-4 d-md-none"}]),Q=l(()=>[{title:"Stocks",key:"company_name",sortable:!1,class:"peer-w-head pl-4"},{title:"LTP",key:"ltp",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Mkt. Cap",key:"market_cap",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"PE Ratio",key:"pe",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"PB Ratio",key:"price_book_value",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"ROCE%",key:"roce_percent",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Evebitda",key:"ev_ebitda",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Debt to EQ",key:"debt_to_equity",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"Div yield",key:"dividend_yield_percent",sortable:!1,align:"end",class:" pr-4 ws-p d-none d-md-table-cell"},{title:"Peers",key:"peers",sortable:!1,align:"end",class:" pr-4 ws-p d-md-none"}]),Z=l(()=>[{title:"Investor",key:"investor",sortable:!1,class:"hold-w-head"},{title:"Holding %",key:"holding",sortable:!1,align:"end"}]),te=l(()=>[{title:"Funds",key:"mutual_fund",sortable:!1,class:"mf-w-head pl-4"},{title:"Mkt. cap held%",key:"market_cap_Held",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"AUM",key:"mf_aum",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Weight%",key:"mf_holding_percent",sortable:!1,align:"end",class:" pr-4 d-none d-md-table-cell"},{title:"Trend",key:"mftrend",sortable:!1,align:"end",class:"pr-4 d-md-none"}]),ae=(e,a,l)=>{window.ssddetail&&window.ssddetail[0]&&window.ssddetail[1]&&window.ssddetail[0].token==e?se(e,a,l):window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==e&&"no data"==window.ssddetail[1]?t.value=!1:setTimeout(()=>{ae(e,a,l)},100)},le=()=>{o.value=null},ne=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},oe=a({token:null,exch:null,tsym:null}),se=async(e,a,l)=>{var i,r,u,d;let p=window.ssddetail;o.value=`${ol.imgicon}${l.split("-")[0]}.png`,Object.keys(n).forEach(e=>delete n[e]);var m=p[1];t.value=!1,n[0]=p[0];try{const e=n[0]||{},t=Number(e.lp||e.ltp||0),a=Number(e.close_price||e.close||0);if(!isNaN(t)&&t>0&&(e.ltp=t.toFixed(2)),!isNaN(a)&&a>0){const l=t-a;e.ch=isFinite(l)?l.toFixed(2):"0.00";const n=l/a*100;e.chp=isFinite(n)?n.toFixed(2):"0.00"}n[0]=e}catch(SJ){}const h=s()[e];if(h&&["ltp","ch","chp","high_price","low_price","open_price","close_price"].forEach(e=>{n[0][e]&&0!==Number(n[0][e])||(n[0][e]=h[e])}),m&&m.fundamental&&m.fundamental[0]?(n.f=m.fundamental[0],Object.assign(c,{"PE Ratio":m.fundamental[0].pe||"","Sector PE":m.fundamental[0].sector_pe||"",EVEBITDA:m.fundamental[0].ev_ebitda||"","PB Ratio":m.fundamental[0].price_book_value||"","Sector PB":"","Dividend Yield":m.fundamental[0].dividend_yield_percent||"",ROCE:m.fundamental[0].roce_percent||"",ROE:m.fundamental[0].roe_percent||"","Debt to equity":m.fundamental[0].debt_to_equity||"","Price to Sale":m.fundamental[0].sales_to_working_capital||"","Book Value":m.fundamental[0].book_value||"","Face Value":m.fundamental[0].fv||""}),Y.value=!0):(Y.value=!1,Object.keys(c).forEach(e=>c[e]="")),m.returns?j.value=m.returns:j.value=[],m.stockFinancialsConsolidated&&m.stockFinancialsStandalone&&3==Object.keys(m.stockFinancialsConsolidated).length&&3==Object.keys(m.stockFinancialsStandalone).length){v.stockFinancialsConsolidated={},v.stockFinancialsStandalone={};for(const[e,t]of Object.entries(v)){v[e].balanceSheet=[],v[e].cashflowSheet=[],v[e].incomeSheet=[];for(const[a,l]of Object.entries(m[e]))for(const[o,s]of Object.entries(l))for(const[u,d]of Object.entries(s)){var f=v[e][a].findIndex(e=>e.name==u);a&&o&&"year_end_date"!=u&&-1==f?(v[e][a].push({name:u,sym:u.includes("_percent")?"%":"₹",y1:l[0]&&Number(l[0][u])?Number(l[0][u]).toFixed(2):0,y2:l[1]&&Number(l[1][u])?Number(l[1][u]).toFixed(2):0,y3:l[2]&&Number(l[2][u])?Number(l[2][u]).toFixed(2):0,y4:l[3]&&Number(l[3][u])?Number(l[3][u]).toFixed(2):0,y5:l[4]&&Number(l[4][u])?Number(l[4][u]).toFixed(2):0,exp:"balanceSheet"==a?(null==(r=null==(i=n.f)?void 0:i.industry)?void 0:r.includes("Bank"))?"total_assets"==u?"total_assets":"total_liabilities"==u?"total_liabilities":"":"total_current_assets"==u?"total_current_assets":"total_non_current_assets"==u?"total_non_current_assets":"total_current_liabilities"==u?"total_current_liabilities":"total_non-current_liabilities"==u?"total_non-current_liabilities":"":"incomeSheet"==a?"revenue"==u?"Revenue":"operating_profit"==u?"operating_profit":"expenditure"==u?"Expenditure":"profit_before_tax"==u?"profit_before_tax":"tax"==u?"Tax":"profit_after_tax"==u?"Profit_After_Tax":"":"",idx:"incomeSheet"==a?"revenue"==u?"0":"operating_profit"==u?"2":"expenditure"==u?"1":"profit_before_tax"==u?"3":"tax"==u?"4":"profit_after_tax"==u?"5":"":"balanceSheet"==a?"total_current_assets"==u?"0":"total_non_current_assets"==u?"1":"total_current_liabilities"==u?"2":"total_non-current_liabilities"==u?"3":"":""}),v[e].valuevalue=d+t):"year_end_date"==u&&(l[0]&&(w.y5=new Date(l[0][u]).toLocaleString("default",{month:"short",year:"numeric"})),l[1]&&(w.y4=new Date(l[1][u]).toLocaleString("default",{month:"short",year:"numeric"})),l[2]&&(w.y3=new Date(l[2][u]).toLocaleString("default",{month:"short",year:"numeric"})),l[3]&&(w.y2=new Date(l[3][u]).toLocaleString("default",{month:"short",year:"numeric"})),l[4]&&(w.y1=new Date(l[4][u]).toLocaleString("default",{month:"short",year:"numeric"})))}}re()}else Object.keys(v).forEach(e=>delete v[e]);if(m.peersComparison&&m.peersComparison.peers&&m.peersComparison.peers.length>0){let e=[];m.peersComparison.peers.map(t=>{e.push({token:t.zebuToken?t.zebuToken:"0",exch:t.SYMBOL.split(":")[0]})});let t=await $le(e);m.peersComparison.peers.map(e=>{e.ltp=e.zebuToken?t.data[e.zebuToken]:null}),k.value=m.peersComparison.peers,m.peersComparison.stock&&m.peersComparison.stock[0]&&(m.peersComparison.stock[0].ltp=(null==(u=n[0])?void 0:u.ltp)||(null==(d=n[0])?void 0:d.lp)||0,k.value.unshift(m.peersComparison.stock[0]))}else k.value=[];if(m.peerComparisonChart&&Object.keys(m.peerComparisonChart).length>0){C.dates=[],C.script=[],C.closes=[];var g=["#148564","#7CD36E","#F9CD6C","#FDEBC4","#DEDEDE"];Object.entries(m.peerComparisonChart).forEach(([e,t],a)=>{C.script.push(e.split(":")[1].split("-")[0]),61==t.date.length&&61!=C.dates.length&&t.date.map(e=>{C.dates.push(new Date(e).toLocaleString("default",{month:"short",year:"2-digit"}))}),C.closes.push({name:e.split(":")[1].split("-")[0],type:"line",symbol:"none",sampling:"lttb",data:t.close.slice(1),color:g[a],areaStyle:{color:new Wa(0,0,0,1,[{offset:0,color:g[a]+"20"},{offset:1,color:g[a]}])}})}),ce()}else C.dates=[],C.script=[],C.closes=[];m.shareholdings&&m.shareholdings.length>0?(E.all=m.shareholdings,E.table=[{color:"#148564",holding:100,shares:"promoters",investor:"Total Promoter Holding"},{color:"#7CD36E",holding:100,shares:"fii_fpi",investor:"Foreign Institutions"},{color:"#F9CD6C",holding:100,shares:"dii",investor:"Other Domestic Institutions"},{color:"#FDEBC4",holding:100,shares:"retail_and_others",investor:"Retail and other"},{color:"#DEDEDE",holding:100,shares:"mutual funds",investor:"Mutual Funds"}],E.x=0,E.y="promoters",pe()):(E.all=[],E.table=[]),m.MFholdings&&m.MFholdings.length>0?T.value=m.MFholdings:T.value=[],m.stockEvents&&Object.keys(m.stockEvents).length>0?n.events=m.stockEvents:n.events={},window.scrollTo(0,0),ve()},ie=(e,t,a)=>{Object.keys(n).forEach(e=>delete n[e]),Object.keys(c).forEach(e=>c[e]=""),j.value=[],Object.keys(v).forEach(e=>delete v[e]),k.value=[],C.dates=[],C.script=[],C.closes=[],E.all=[],E.table=[],T.value=[],w.y5="MM YYYY",w.y4="MM YYYY",w.y3="MM YYYY",w.y2="MM YYYY",w.y1="MM YYYY",e&&t&&a&&ae(e,t,a),!oe.value.token||oe.value.token===e&&oe.value.exch===t||ne("unsub",[{token:oe.value.token,exch:oe.value.exch,tsym:oe.value.tsym}],"ssd"),ne("sub",[{token:e,exch:t,tsym:a}],"ssd"),oe.value={token:e,exch:t,tsym:a}},re=()=>{var e,t,a,l,n,o,s,i,r;let u=[],d={0:[],1:[],2:[]};if(v.chart=!0,(null==(t=null==(e=v[b.value])?void 0:e.balanceSheet)?void 0:t.length)>0&&(null==(l=null==(a=v[b.value])?void 0:a.cashflowSheet)?void 0:l.length)>0&&(null==(o=null==(n=v[b.value])?void 0:n.incomeSheet)?void 0:o.length)>0){let e=J.value.slice(1,6),t=null,a=null,l=null;var c=p.value;2!=p.value&&(t=v[b.value][0==c?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==c?"revenue":"total_assets")),a=v[b.value][0==c?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==c?"expenditure":"total_liabilities")),l=v[b.value][0==c?"incomeSheet":"balanceSheet"].findIndex(e=>e.name==(0==c?"profit_after_tax":"deferred_tax_assets__and__liabilities")));for(let n=0;n<e.length;n++)u.push(e[n].text),d[0].unshift((null==(s=v[b.value][0==c?"incomeSheet":1==c?"balanceSheet":"cashflowSheet"][2==c?2:t])?void 0:s[`y${n+1}`])||0),d[1].unshift((null==(i=v[b.value][0==c?"incomeSheet":1==c?"balanceSheet":"cashflowSheet"][2==c?1:a])?void 0:i[`y${n+1}`])||0),d[2].unshift((null==(r=v[b.value][0==c?"incomeSheet":1==c?"balanceSheet":"cashflowSheet"][2==c?0:l])?void 0:r[`y${n+1}`])||0);v.chart=!1}de(u,d)},ue=(e,t)=>{const a=document.getElementById("financialchart");if(a)if(0!==a.offsetWidth&&0!==a.offsetHeight){if(X.value){try{X.value.dispose()}catch{}X.value=null}X.value=Ha(a);var l={grid:{left:64,right:24,y:"4%"},color:["#148564","#7CD36E","#F9CD6C"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:0==p.value?["Revenue","Expenditure","Profit After Tax"]:1==p.value?["Assets","Liabilities"]:["Operating","Investing","Financing"],orient:"horizontal",bottom:24,top:"bottom"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:[{type:"category",axisTick:{show:!1},data:e||!1}],yAxis:[{type:"value",axisLabel:{formatter:e=>e/1e3+" K"}}],series:[{name:0==p.value?"Revenue":1==p.value?"Assets":"Operating",type:"bar",label:!1,emphasis:{focus:"series"},data:!(!t||!t[0])&&t[0]},{name:0==p.value?"Expenditure":1==p.value?"Liabilities":"Investing",type:"bar",label:!1,emphasis:{focus:"series"},data:!(!t||!t[1])&&t[1]},{name:0==p.value?"Profit After Tax":1==p.value?"Debt to assets":"Financing",type:2==p.value?"bar":"line",label:!1,emphasis:{focus:"series"},data:1!=p.value&&(t&&t[2]?t[2]:[])}]};X.value.setOption(l),window.addEventListener("resize",()=>{X.value&&X.value.resize()})}else setTimeout(()=>ue(e,t),150)},de=(e,t)=>{ue(e,t)},ce=()=>{if(!G.value){const e=document.getElementById("pricechart");e&&(G.value=Ha(e))}if(G.value){var e={grid:{left:44,right:24,y:"4%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:C.script,orient:"horizontal",bottom:240,top:"bottom"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:{type:"category",data:C.dates.slice(1)},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},series:C.closes};G.value.setOption(e),window.addEventListener("resize",()=>{G.value&&G.value.resize()})}},pe=()=>{var e;let t=[],a=[];if(E.all&&E.all.length>0){for(let o=0;o<E.all.length;o++)a.unshift(Number((null==(e=E.all[o][E.y])?void 0:e.toFixed(2))||0)),t.unshift(new Date(E.all[o].date).toLocaleString("default",{month:"short",year:"2-digit"}));let l=E.table.findIndex(e=>e.shares==E.y),n=l>=0?E.table[l].color:"#148564";me(t,a,n)}},me=(e,t,a)=>{((e,t,a)=>{if(!K.value){const e=document.getElementById("holdchart");e&&(K.value=Ha(e))}if(K.value){var l={color:a,xAxis:{type:"category",data:e,splitLine:{show:!1},scale:!1,axisLine:{}},yAxis:{type:"value",splitLine:{show:!1},max:100},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"<b>{c}%</b> on {b}"},grid:{left:28,containLabel:!1,bottom:32,top:32,right:8},series:[{data:t,type:"bar",label:{show:!0,formatter:"{c}%",precision:1,position:"top",valueAnimation:!0}}]};K.value.setOption(l),window.addEventListener("resize",()=>{K.value&&K.value.resize()})}})(e,t,a)},ve=async()=>{if($.value=!0,window.storenews&&window.storenews.data)D.value=window.storenews.data,L.value=window.storenews.newsCount||0,$.value=!1;else{D.value=[],L.value=0;let e=await Yae();if(e.data&&e.data.length>0){let t=e.data;for(let e=0;e<t.length;e++)t[e].isdate=`${new Date(t[e].pubDate).toDateString().slice(3)} ${new Date(t[e].pubDate).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})} IST`,D.value.push(t[e]);L.value=e.newsCount||0}$.value=!1}},he=e=>{var t=e.toLowerCase().replace("_percent"," in %");return t=(t=t.replace(/[._-]/g," ")).replace(/less|total/gi,"")},fe=e=>!(!e&&2!=p.value)||e,ge=e=>{const t=e.token||e.tk;if(n[0]&&n[0].token==t&&n[0]){const a=Number(e.lp||e.ltp||0);if(!isNaN(a)&&a>0){const e=a.toFixed(2);n[0].lp=e,n[0].ltp=e}const l=Number(e.ch||e.c);isNaN(l)||(n[0].ch=l.toFixed(2));const o=Number(e.chp);isNaN(o)||(n[0].chp=o.toFixed(2));const i=s();i[t]={ltp:n[0].ltp,ch:n[0].ch,chp:n[0].chp,high_price:n[0].high_price,low_price:n[0].low_price,open_price:n[0].open_price,close_price:n[0].close_price},(e=>{try{localStorage.setItem("price_cache",JSON.stringify(e))}catch{}})(i)}},ye=e=>{const{detail:a}=e;if(Array.isArray(a)&&a.length>=4){const[e,l,n,o]=a;t.value=!0,ie(l,n,o)}},be=e=>{const{detail:t}=e;t&&"object"==typeof t&&(t.token||t.tk)?ge(t):Array.isArray(t)&&t.length>0&&ge(t[0])};return y(()=>{let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&(t.value=!0,ie(),ae(localStorage.getItem("ssdtoken"),e.split(":")[0],e.split(":")[1])),window.addEventListener("ssd-event",ye),window.addEventListener("web-scoketConn",be),B.value=F[0]}),h(()=>{window.removeEventListener("ssd-event",ye),window.removeEventListener("web-scoketConn",be),n[0]&&n[0].token&&ne("unsub",[{token:n[0].token,exch:n[0].exch,tsym:n[0].tsym}],"ssd"),X.value&&(X.value.dispose(),X.value=null),G.value&&(G.value.dispose(),G.value=null),K.value&&(K.value.dispose(),K.value=null)}),f([p,b],()=>{Object.keys(v).length>0&&re()}),f([I,()=>E.x],()=>{E.all&&E.all.length>0&&pe()}),f(()=>E.y,()=>{E.all&&E.all.length>0&&pe()}),(e,t)=>(z(),R("div",null,[Y.value?(z(),R("div",{key:0,class:r(Y.value?"":"d-none")},[d(cy,{id:"fun",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[d(cy,{color:"secbg",class:"elevation-0 rounded-0 pt-2 px-md-0 px-3"},{default:H(()=>[d(Ry,{"no-gutters":"",style:{"background-color":"#F1F3F8 !important"}},{default:H(()=>[d(ky,{cols:"12",md:"7",class:"pb-1 pb-md-2"},{default:H(()=>[i("div",zQ,[d(oy,{color:"#fbfbfb",size:"56",class:"my-0"},{default:H(()=>[o.value?(z(),R("img",{key:0,src:o.value,onError:le,class:"pa-1",alt:o.value,width:"56px"},null,40,UQ)):(z(),R("span",qQ,A(n[0]?(n[0].cname?n[0].cname:n[0].symname).slice(0,1):""),1))]),_:1}),i("div",HQ,[i("div",{class:r([n[0]?"maintext--text":"txt-trn","font-weight-bold mb-0 text-capitalize lh-14"]),style:{"font-size":"16px !important"}},A(n[0]?n[0].cname?n[0].cname:n[0].tsym:"abcd"),3),d(B_,{class:"my-0 py-0 d-flex flex-wrap align-center",column:""},{default:H(()=>{var e;return[d(R_,{label:"",size:"small",color:"white",class:"font-weight-medium fs-10",style:{color:"var(--v-theme-subtext, #555) !important"}},{default:H(()=>[W(A(n.f&&n.f.industry?n.f.industry:"Industry"),1)]),_:1}),d(R_,{label:"",size:"small",color:"white",class:"font-weight-medium fs-10",style:{color:"var(--v-theme-subtext, #555) !important"}},{default:H(()=>[W(A(n.f&&n.f.market_cap_type?n.f.market_cap_type:"Marketcap type"),1)]),_:1}),(null==(e=n[0])?void 0:e.sucase)?(z(),q(R_,{key:0,label:"",size:"small",color:"white",class:"font-weight-medium px-2"},{default:H(()=>[i("span",jQ,[t[17]||(t[17]=i("img",{width:"14px",src:lg,style:{"margin-right":"4px"}},null,-1)),i("span",WQ,A(n[0].sucase),1)])]),_:1})):ee("",!0)]}),_:1})])])]),_:1}),d(ky,{cols:"12",md:"5",class:"text-md-right text-left pt-0 pt-md-5 pb-2 pl-4 pl-md-3"},{default:H(()=>[i("p",YQ,[W(A(n[0]&&Number(n[0].ltp)?`₹${n[0].ltp}`:"0.00")+" ",1),t[18]||(t[18]=i("br",{class:"d-none d-md-block"},null,-1)),i("span",{class:r(["fs-12",n[0]?n[0].ch>0?"txt-gre":n[0].ch<0?"txt-red":"txt-444":"txt-444"])},A(n[0]&&n[0].ch?`${n[0].ch}`:"0.00")+" ("+A(n[0]&&n[0].chp?`${n[0].chp}`:"0.00")+"%)",3)])]),_:1})]),_:1})]),_:1}),i("div",GQ,[d(jg,{class:"nav-drawer elevation-0 px-0 crd-trn",density:"compact"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold title mb-2"},{default:H(()=>[...t[19]||(t[19]=[W("Fundamental ratios",-1)])]),_:1}),d(rb,{class:"maintext--text font-weight-medium fs-12"},{default:H(()=>[W(" Fundamental breakdown of "+A(n[0]?n[0].symname:"")+" information ",1)]),_:1})]),_:1})]),_:1}),d(Ry,{class:"px-4 mt-md-4 mt-2"},{default:H(()=>[(z(!0),R(u,null,U(c,(e,t,a)=>(z(),q(ky,{cols:"4",class:"pb-0",key:a},{default:H(()=>[d(Fk,{class:"funda-field",variant:"underlined",density:"compact",readonly:"",color:"maintext",label:t,"model-value":e||"-"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1})])]),_:1}),d(cy,{id:"fin",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",KQ,[d(cb,{class:"px-0 pt-0"},{default:H(()=>[d(ub,{class:"font-weight-bold title mb-2"},{default:H(()=>[...t[20]||(t[20]=[W("Financial",-1)])]),_:1}),d(rb,{class:"maintext--text font-weight-medium fs-12"},{default:H(()=>[W(" Financial breakdown of "+A(n[0]?n[0].symname:"")+" information ",1)]),_:1})]),_:1}),d(B_,{modelValue:p.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>p.value=e),t[1]||(t[1]=e=>re())],mandatory:"",class:"mb-2"},{default:H(()=>[d(R_,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:0==p.value?"maintext":"subtext"},{default:H(()=>[...t[21]||(t[21]=[W(" Income ",-1)])]),_:1},8,["color"]),d(R_,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:1==p.value?"maintext":"subtext"},{default:H(()=>[...t[22]||(t[22]=[W(" Balance Sheet ",-1)])]),_:1},8,["color"]),d(R_,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:2==p.value?"maintext":"subtext"},{default:H(()=>[...t[23]||(t[23]=[W(" Cashflow ",-1)])]),_:1},8,["color"])]),_:1},8,["modelValue"])]),d(cy,{height:"420px",id:"financialchart",class:"crd-trn rounded-lg pt-4 elevation-0"}),i("div",XQ,[d(my,{class:"my-md-6 my-3"}),d(jg,{flat:"",density:"compact",class:"tool-sty crd-trn"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16"},{default:H(()=>[W(A(2==p.value?"Cashflow":0==p.value?"Income":"Balance Sheet")+" Statement ",1)]),_:1}),d(rb,{class:"subtext--text font-weight-medium fs-12"},{default:H(()=>[...t[24]||(t[24]=[W("All Figures in Cr.",-1)])]),_:1})]),_:1}),d(zy),d(rI,{"onUpdate:modelValue":[t[2]||(t[2]=e=>re()),t[3]||(t[3]=e=>b.value=e)],"hide-details":"","append-icon":"mdi-chevron-down",modelValue:b.value,items:[{key:"Standalone",val:"stockFinancialsStandalone"},{key:"Consolidated",val:"stockFinancialsConsolidated"}],"item-title":"key","item-value":"val",class:"rounded-pill max-w-160",density:"compact",variant:"flat","bg-color":"secbg",label:"Filter"},null,8,["modelValue"])]),_:1})]),d(PV,{"item-key":"name","must-sort":"","sort-by":[2!=p.value?"idx":"name"],"sort-desc":[!1],"hide-default-footer":"","fixed-header":"",class:"financialtabel rounded-0",headers:J.value,search:m.value,items:v[b.value]?0==p.value?v[b.value].incomeSheet:1==p.value?v[b.value].balanceSheet:v[b.value].cashflowSheet:[],"items-per-page":-1},{"header.y0":H(()=>[d(rI,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:x.value,"onUpdate:modelValue":t[4]||(t[4]=e=>x.value=e),items:J.value.slice(1,6),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.exp":H(({item:e})=>[i("td",JQ,[i("span",{class:r(["font-weight-medium maintext--text text-capitalize",he(e.name).includes("-")?"txt-red":""])},A(he(e.name)),3)])]),"item.y1":H(({item:e})=>[i("td",{class:r(["pr-4 text-right d-none d-md-table-cell",e.y1<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e.y1)+" "+A("%"==e.sym?e.sym:""),3)]),"item.y2":H(({item:e})=>[i("td",{class:r(["text-right d-none d-md-table-cell",e.y2<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e.y2)+" "+A("%"==e.sym?e.sym:""),3)]),"item.y3":H(({item:e})=>[i("td",{class:r(["text-right d-none d-md-table-cell",e.y3<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e.y3)+" "+A("%"==e.sym?e.sym:""),3)]),"item.y4":H(({item:e})=>[i("td",{class:r(["text-right d-none d-md-table-cell",e.y4<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e.y4)+" "+A("%"==e.sym?e.sym:""),3)]),"item.y5":H(({item:e})=>[i("td",{class:r(["text-right d-none d-md-table-cell",e.y5<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e.y5)+" "+A("%"==e.sym?e.sym:""),3)]),"item.y0":H(({item:e})=>[i("td",{class:r(["pr-4 text-right d-md-none",e[x.value]<0?"txt-red":""])},A("₹"==e.sym?e.sym:"")+A(e[x.value])+" "+A("%"==e.sym?e.sym:""),3)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[25]||(t[25]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Financial data here yet!")],-1)])]),_:1})]),_:2},1032,["sort-by","headers","search","items"]),d(my,{class:"d-md-none"})]),_:1}),d(cy,{id:"peers",class:"crd-trn ss-cards overflow-hidden mb-md-6 pt-6",width:"100%"},{default:H(()=>[d(jg,{class:"elevation-0 px-0 crd-trn",density:"compact"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold title mb-2"},{default:H(()=>[...t[26]||(t[26]=[W("Peers Comparison",-1)])]),_:1}),d(rb,{class:"maintext--text font-weight-medium fs-12"},{default:H(()=>[W("Peers Comparison breakdown of "+A(k.value[0]?k.value[0].industry:"")+" information",1)]),_:1})]),_:1}),d(zy),d(Fk,{modelValue:_.value,"onUpdate:modelValue":t[5]||(t[5]=e=>_.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mb-2 d-none d-md-flex",density:"compact",variant:"flat","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{"must-sort":"","sort-by":[""],"sort-desc":[!1],"hide-default-footer":"","fixed-header":"",class:"rounded-0 overflow-y-auto mt-4",headers:Q.value,height:"334px",width:"800px",search:_.value,items:k.value,"items-per-page":k.value.length},{"header.peers":H(()=>[d(rI,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:S.value,"onUpdate:modelValue":t[6]||(t[6]=e=>S.value=e),items:Q.value.slice(1,9),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.company_name":H(({item:e})=>[i("td",QQ,A(e.SYMBOL.split(":")[1]),1)]),"item.ltp":H(({item:e})=>[i("td",ZQ,A(e.ltp&&e.ltp.lp?Number(e.ltp.lp).toFixed(2):"0.00"),1)]),"item.market_cap":H(({item:e})=>[i("td",eZ,A(e.market_cap?e.market_cap.toFixed(2):"0.00"),1)]),"item.pe":H(({item:e})=>[i("td",tZ,A(e.pe?e.pe:"0.00"),1)]),"item.price_book_value":H(({item:e})=>[i("td",aZ,A(e.price_book_value?e.price_book_value:"0.00"),1)]),"item.roce_percent":H(({item:e})=>[i("td",lZ,A(e.roce_percent?e.roce_percent:"0.00"),1)]),"item.ev_ebitda":H(({item:e})=>[i("td",nZ,A(e.ev_ebitda?e.ev_ebitda:"0.00"),1)]),"item.debt_to_equity":H(({item:e})=>[i("td",oZ,A(e.debt_to_equity?e.debt_to_equity:"0.00"),1)]),"item.dividend_yield_percent":H(({item:e})=>[i("td",sZ,[i("span",null,A(e.dividend_yield_percent?`${e.dividend_yield_percent}%`:"---"),1)])]),"item.peers":H(({item:e})=>[i("td",iZ,["dividend_yield_percent"==S.value?(z(),R("span",rZ,A(e.dividend_yield_percent?`${e.dividend_yield_percent}%`:"---"),1)):"ltp"==S.value?(z(),R("span",uZ,A(e.ltp&&e.ltp.lp?Number(e.ltp.lp).toFixed(2):"0.00"),1)):(z(),R("span",dZ,A(e[S.value]?e[S.value]:""),1))])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[27]||(t[27]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Peers comparison data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","search","items","items-per-page"]),d(my,{class:"d-md-none"})]),_:1}),d(cy,{id:"price",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",cZ,[d(jg,{flat:"",density:"compact",class:"tool-sty mb-5 crd-trn"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold title mb-2"},{default:H(()=>[...t[28]||(t[28]=[W("Price Comparison",-1)])]),_:1}),d(rb,{class:"subtext--text font-weight-medium fs-12"},{default:H(()=>[t[29]||(t[29]=W(" Compare ",-1)),i("span",pZ,A(n[0]?n[0].symname:""),1),t[30]||(t[30]=W(" with other stocks ",-1))]),_:1})]),_:1}),d(zy)]),_:1}),d(cy,{height:"460px",width:"100%",id:"pricechart",class:"crd-trn rounded-lg elevation-0"})])]),_:1}),d(cy,{id:"hold",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",mZ,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12",md:"7",class:"pa-0"},{default:H(()=>[t[32]||(t[32]=i("p",{class:"font-weight-bold title mb-md-2 mb-0"},"Holdings",-1)),E.all?(z(),q(B_,{key:0,modelValue:I.value,"onUpdate:modelValue":[t[7]||(t[7]=e=>I.value=e),t[8]||(t[8]=e=>E.x=I.value)],mandatory:"",class:"mb-2"},{default:H(()=>[(z(!0),R(u,null,U(E.all,(e,t)=>(z(),q(R_,{variant:"outlined",class:"font-weight-medium fs-14 maintext--text",color:I.value==t?"maintext":"subtext",key:t},{default:H(()=>[W(A(e.date?new Date(e.date).toLocaleString("default",{month:"short",year:"2-digit"}):"MMM YYYY"),1)]),_:2},1032,["color"]))),128))]),_:1},8,["modelValue"])):ee("",!0),t[33]||(t[33]=i("p",{class:"font-weight-bold subtitle-1 font-weight-medium mb-2"},"Shareholding Breakdown",-1)),d(cy,{width:"100%",color:"secbg",height:"36px",class:"d-inline-flex elevation-0 rounded-0 mb-3"},{default:H(()=>[(z(!0),R(u,null,U(E.table,(e,t)=>(z(),q(cy,{height:"36px",width:`${(E.all[E.x][e.shares]/(E.all[E.x].dii+E.all[E.x].fii_fpi+E.all[E.x]["mutual funds"]+E.all[E.x].promoters+E.all[E.x].retail_and_others)*100).toFixed(0)}%`,class:"elevation-0 rounded-0",color:e.color,key:t},null,8,["width","color"]))),128))]),_:1}),d(PV,{"hide-default-footer":"",class:"rounded-0 overflow-y-auto","fixed-header":"",headers:Z.value,items:E.table},{"item.investor":H(({item:e})=>[i("p",vZ,[d(cy,{color:e.color,class:"mt-1 mr-2 elevation-0",width:"12px",height:"12px"},null,8,["color"]),W(" "+A(e.investor),1)])]),"item.holding":H(({item:e})=>[i("span",hZ,A(E.table&&e.shares?E.all[E.x][e.shares].toFixed(2):"0.00")+" %",1)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[31]||(t[31]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Holdings data here yet! ")],-1)])]),_:1})]),_:2},1032,["headers","items"]),d(my,{class:"d-md-none"})]),_:1}),d(ky,{cols:"12",md:"5",class:"pr-md-0 pl-md-4 px-0 pb-0"},{default:H(()=>[d(cy,{variant:"outlined",class:"crd-trn pa-3 rounded-lg"},{default:H(()=>[t[34]||(t[34]=i("p",{class:"font-weight-bold subtitle-1 font-weight-medium mb-1"},"Shareholding History",-1)),t[35]||(t[35]=i("p",{class:"subtext--text font-weight-medium fs-12"},"Select a segment from the breakdowns to see its pattern here",-1)),d(rI,{"onUpdate:modelValue":[t[9]||(t[9]=e=>pe()),t[10]||(t[10]=e=>E.y=e)],"hide-details":"","append-icon":"mdi-chevron-down",modelValue:E.y,items:E.table,"item-title":"investor","item-value":"shares",block:"",class:"rounded-pill",density:"compact",variant:"flat","bg-color":"secbg",label:"Filter"},null,8,["modelValue","items"]),d(cy,{height:"294px",width:"100%",id:"holdchart",class:"crd-trn rounded-lg elevation-0"})]),_:1})]),_:1})]),_:1})]),d(my,{class:"my-4 d-none d-md-flex"}),d(jg,{flat:"",density:"compact",class:"tool-sty px-4 mb-4 crd-trn"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-16 mb-2"},{default:H(()=>[...t[36]||(t[36]=[W("Mutual Funds Holding Trend",-1)])]),_:1}),d(rb,{class:"subtext--text mb-0 font-weight-medium fs-12"},{default:H(()=>[...t[37]||(t[37]=[W("In last 3 months, mutual fund holding of the company has almost stayed constant",-1)])]),_:1})]),_:1}),d(zy),d(Fk,{modelValue:N.value,"onUpdate:modelValue":t[11]||(t[11]=e=>N.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill mb-2 d-none d-md-flex",density:"compact",variant:"flat","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{"must-sort":"","sort-by":["market_cap_Held"],"sort-desc":[!0],"hide-default-footer":"","fixed-header":"",class:"rounded-0",headers:te.value,items:T.value,search:N.value,"items-per-page":T.value.length},{"header.mftrend":H(()=>[d(rI,{"hide-details":"","append-icon":"mdi-chevron-down",modelValue:M.value,"onUpdate:modelValue":t[12]||(t[12]=e=>M.value=e),items:te.value.slice(1,4),"item-title":"title","item-value":"key",class:"rounded-pill",density:"compact",variant:"flat"},null,8,["modelValue","items"])]),"item.mutual_fund":H(({item:e})=>[i("td",fZ,[i("span",gZ,A(e.mutual_fund.split("-")?e.mutual_fund.split("-")[0]:e.mutual_fund),1)])]),"item.market_cap_Held":H(({item:e})=>[i("td",yZ,[i("span",null,A(e.market_cap_Held?`${e.market_cap_Held.toFixed(4)}`:"0.0000")+"%",1)])]),"item.mf_holding_percent":H(({item:e})=>[i("td",bZ,[i("span",null,A(e.mf_holding_percent?`${e.mf_holding_percent.toFixed(2)}`:"0.00")+"%",1)])]),"item.mf_aum":H(({item:e})=>[i("td",xZ,[i("span",null,A(e.mf_aum?`${e.mf_aum.toFixed(2)}`:"0.00"),1)])]),"item.mftrend":H(({item:e})=>[i("td",wZ,["market_cap_Held"==M.value?(z(),R("span",_Z,A(e.market_cap_Held?`${e.market_cap_Held.toFixed(4)}`:"0.0000")+"%",1)):"mf_holding_percent"==M.value?(z(),R("span",kZ,A(e.mf_holding_percent?`${e.mf_holding_percent.toFixed(2)}`:"0.00")+"% ",1)):(z(),R("span",SZ,A(e[M.value]?e[M.value].toFixed(2):"0.00"),1))])]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[38]||(t[38]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Peers comparison data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","items","search","items-per-page"]),d(my,{class:"d-md-none"})]),_:1}),d(cy,{id:"event",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",CZ,[t[40]||(t[40]=i("p",{class:"font-weight-bold title mb-md-2 mb-0"},"Events",-1)),n.events?(z(),q(B_,{key:0,modelValue:O.value,"onUpdate:modelValue":[t[13]||(t[13]=e=>O.value=e),t[14]||(t[14]=e=>P.value=Object.keys(n.events)[O.value])],mandatory:"",class:"mb-4"},{default:H(()=>[(z(!0),R(u,null,U(n.events,(e,t,a)=>(z(),q(R_,{variant:"outlined",color:O.value==a?"maintext":"subtext",class:"font-weight-medium fs-14 text-capitalize",key:a},{default:H(()=>[W(A(t),1)]),_:2},1032,["color"]))),128))]),_:1},8,["modelValue"])):ee("",!0),n.events&&n.events[P.value]&&n.events[P.value].length>0?(z(),R("div",IZ,[(z(!0),R(u,null,U(n.events[P.value],(e,t,a)=>(z(),q(cy,{variant:"outlined",key:a,class:"mb-3 rounded-lg",color:"secbg"},{default:H(()=>[(z(!0),R(u,null,U(e,(e,t,a)=>(z(),q(cb,{key:a},{default:H(()=>[d(rb,{class:"txt-5E6 mb-2 font-weight-medium fs-13 text-capitalize"},{default:H(()=>[W(A(he(t)),1)]),_:2},1024),d(ub,{class:"txt-000 font-weight-medium fs-14 text-capitalize"},{default:H(()=>[t.includes("date")?(z(),R("span",EZ,A(new Date(e).toISOString().slice(0,10)),1)):(z(),R("span",TZ,A(e),1))]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128))])):(z(),R("div",NZ,[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[i("div",MZ,[t[39]||(t[39]=i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"},null,-1)),i("h5",AZ,"There is no "+A(P.value)+" events data here yet!",1)])]),_:1})]))])]),_:1}),d(cy,{id:"news",class:"crd-trn ss-cards overflow-hidden",width:"100%"},{default:H(()=>[i("div",OZ,[t[42]||(t[42]=i("p",{class:"font-weight-bold title mb-md-2 mb-0"},"News",-1)),i("div",PZ,[n.events?(z(),q(B_,{key:0,modelValue:V.value,"onUpdate:modelValue":[t[15]||(t[15]=e=>V.value=e),t[16]||(t[16]=e=>{return t=F[V.value],B.value=t,void ve();var t})],mandatory:"",class:"mb-0"},{default:H(()=>[(z(),R(u,null,U(F,(e,t)=>d(R_,{color:V.value==t?"maintext":"subtext",key:t,variant:"outlined",class:"font-weight-medium fs-14 maintext--text text-capitalize"},{default:H(()=>[W(A(e.txt),1)]),_:2},1032,["color"])),64))]),_:1},8,["modelValue"])):ee("",!0)]),$.value?(z(),R("div",FZ,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"crd-trn elevation-0 mx-auto py-16"},{default:H(()=>[d(Sp,{size:"80",indeterminate:"",color:"#1e53e5"})]),_:1})]),_:1})])):D.value.length>0?(z(),R("div",LZ,[d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(D.value,(e,t)=>(z(),q(ky,{cols:"12",md:"6",key:t},{default:H(()=>[d(cy,{class:"crd-trn rounded-lg elevation-0 mb-2",onClick:t=>(e=>{e&&window.open(e.link,"_blank")})(e)},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",sm:"3",xl:"2"},{default:H(()=>[d(cy,{class:"rounded-lg elevation-0"},{default:H(()=>[i("img",{src:e.image,width:"100%",height:"60px",class:"rounded-lg",alt:e.image},null,8,DZ)]),_:2},1024)]),_:2},1024),d(ky,{cols:"8",sm:"9",xl:"10",class:"pl-0 pl-sm-2 pt-2"},{default:H(()=>[d(cb,{class:"px-0 pr-sm-3 py-0"},{default:H(()=>[d(ub,{class:"font-weight-medium fs-14 mb-2 text-rap-l2 lh-20"},{default:H(()=>[W(A(e.title),1)]),_:2},1024),d(rb,{class:"fs-12 font-weight-regular"},{default:H(()=>[W(A(e.isdate),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])):(z(),R("div",VZ,[d(hy,{"fill-height":""},{default:H(()=>[d(cy,{class:"elevation-0 mx-auto py-16 text-center"},{default:H(()=>[...t[41]||(t[41]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no news data here yet!")],-1)])]),_:1})]),_:1})]))])]),_:1})],2)):ee("",!0),i("div",{class:r([Y.value?"d-none":"","no-scroll pos-rlt"]),style:{height:"calc(100vh - 118px)"}},[i("div",BZ,[i("p",$Z,[t[43]||(t[43]=W(" No Fundamental data ",-1)),t[44]||(t[44]=i("br",null,null,-1)),t[45]||(t[45]=W(" for ",-1)),i("b",null,A(n[0]?n[0].cname:""),1)])])],2)]))}},zZ=zc(RZ,[["__scopeId","data-v-9c2387db"]]),UZ=t("options",()=>{const e=a(!0),t=a(!1),n=a(!0),o=a(""),s=a(""),i=a({}),r=a(""),u=a([]),d=a(0),c=a(""),p=a(null),m=a(1),v=a(null),h=a([]),f=a([]),g=a({}),y=a({}),b=a([]),x=a([]),w=a([]),_=a([]),k=a([]),S=a([]),C=a(0),I=a(0),E=a(0),T=a(null),N=a(null),M=a(!0),A=a(!0),O=a(!1),P=a(!1),F=a(!1),L=a(!1),D=a(!1),V=a(10),B=a("100%"),$=a("hidden"),R=a(!1),z=a([]),U=a(null),q=a(0),H=a([]),j=a([]),W=a([]),Y=a(""),G=a([]),K=a(""),X=a(""),J=a(""),Q=a(""),Z=a(""),ee=a(""),te=l(()=>`background-color: ${document.documentElement.classList.contains("v-theme--dark")||window.matchMedia("(prefers-color-scheme: dark)").matches?"#1E222D":"#F9FCFF"} !important;`),ae=e=>{e&&("7"===e.true||7===e.true?(V.value=15,B.value="1580px",$.value="scroll"):"6"===e.true||6===e.true?(V.value=14,B.value="1460px",$.value="scroll"):"5"===e.true||5===e.true?(V.value=13,B.value="1340px",$.value="scroll"):"4"===e.true||4===e.true?(V.value=12,B.value="1220px",$.value="scroll"):"3"===e.true||3===e.true?(V.value=11,B.value="1100px",$.value="scroll"):"5"===e.false||5===e.false?(V.value=10,B.value="100%",$.value="hidden"):"1"!==e.true&&1!==e.true&&"7"!==e.false&&7!==e.false||(B.value="100%",$.value="hidden","2"===e.true||2===e.true?(V.value=10,$.value="scroll"):"1"===e.true||1===e.true?V.value=9:"7"!==e.false&&7!==e.false||(V.value=8)))};return{optionchainid:e,coractdata:t,coractloader:n,optionStockSymbol:o,optionStockSpot:s,optionStockSymbolInfo:i,optionStockName:r,lsexd:u,lsexdfilter:d,lsexdval:c,daydiff:p,ccfilter:m,chainCount:v,chainStocksList:h,subscriptionchainStocksList:f,chainSpotdata:g,chainSpotPrice:y,upcallSO:b,upputSO:x,dwncallSO:w,dwnputSO:_,callsideopc:k,putsideopc:S,pcrRatio:C,pcrputRatio:I,pcrcallRatio:E,barCallsOi:T,barPutsOi:N,bitcheckbox:M,askcheckbox:A,ivcheckbox:O,thetacheckbox:P,vagacheckbox:F,gamacheckbox:L,deltacheckbox:D,opchtablehead:V,simtblwidth:B,simtblscroll:$,drawer:R,positiondata:z,positions:U,greekCount:q,data1:H,tsym:j,optionchain:W,opexch:Y,securityinfo:G,opname:K,exchange:X,scriptToken:J,optoken:Q,userid:Z,usession:ee,opdatabgs:te,clearOption:t=>{t||(e.value=!1),h.value=[],q.value=0,g.value={},u.value=[],b.value=[],x.value=[],w.value=[],_.value=[],p.value="",T.value=null,N.value=null,k.value=[],S.value=[],H.value=[],W.value=[],y.value={},w.value=[],_.value=[],b.value=[],x.value=[],i.value={},f.value=[]},setOptionChainData:e=>{W.value=e,h.value=e.values||[],f.value=e.values||[]},calculatePCR:()=>{const e=b.value.reduce((e,t)=>e+parseFloat(t.oi||0),0)+w.value.reduce((e,t)=>e+parseFloat(t.oi||0),0),t=x.value.reduce((e,t)=>e+parseFloat(t.oi||0),0)+_.value.reduce((e,t)=>e+parseFloat(t.oi||0),0);C.value=e>0?Number(t/e).toFixed(2):0,E.value=Number(e).toFixed(2),I.value=Number(t).toFixed(2)},updateColumnVisibility:()=>{let e=[O.value,F.value,P.value,L.value,D.value,M.value,A.value].reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});7===e.true?(V.value=15,B.value="1580px",$.value="scroll"):6===e.true?(V.value=14,B.value="1460px",$.value="scroll"):5===e.true?(V.value=13,B.value="1340px",$.value="scroll"):4===e.true?(V.value=12,B.value="1220px",$.value="scroll"):3===e.true?(V.value=11,B.value="1100px",$.value="scroll"):1!==e.true&&7!==e.false&&2!==e.true||(B.value="100%",$.value="hidden",2===e.true?(V.value=10,$.value="scroll"):1===e.true?V.value=9:7===e.false&&(V.value=8))},loadColumnSettings:e=>{if(e)try{const t=JSON.parse(localStorage.getItem(`${e}_opdatstrue`)),a=JSON.parse(localStorage.getItem(`${e}_opvalstrue`));t&&(O.value=t.ivcheckbox||!1,F.value=t.vagacheckbox||!1,P.value=t.thetacheckbox||!1,L.value=t.gamacheckbox||!1,D.value=t.deltacheckbox||!1,M.value=void 0===t.bitcheckbox||t.bitcheckbox,A.value=void 0===t.askcheckbox||t.askcheckbox,a&&ae(a))}catch(Wie){console.error("Error loading column settings:",Wie)}},saveColumnSettings:e=>{if(e)try{let t=[O.value,F.value,P.value,L.value,D.value,M.value,A.value].reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{});const a=JSON.stringify({ivcheckbox:O.value,vagacheckbox:F.value,thetacheckbox:P.value,gamacheckbox:L.value,deltacheckbox:D.value,askcheckbox:A.value,bitcheckbox:M.value}),l=JSON.stringify({true:String(t.true||0),false:String(t.false||0)});localStorage.setItem(`${e}_opdatstrue`,a),localStorage.setItem(`${e}_opvalstrue`,l)}catch(Wie){console.error("Error saving column settings:",Wie)}},defltTablestyle:ae}}),qZ={key:0,class:"tvcharts"},HZ={style:{"border-top":"1px solid #EBEEF0"}},jZ={class:"d-flex align-center",style:{gap:"12px"}},WZ={class:"font-weight-bold",style:{"font-size":"14px"}},YZ={key:0,class:"ml-2 font-weight-bold",style:{"font-size":"12px"}},GZ={class:"d-flex align-center",style:{gap:"8px"}},KZ=["src"],XZ={class:"secbg"},JZ={class:"cardbg"},QZ=["colspan"],ZZ=["colspan"],e0={key:0,width:"60px",colspan:"1"},t0={key:1,width:"60px",colspan:"1"},a0={key:2,width:"60px",colspan:"1"},l0={key:3,width:"60px",colspan:"1"},n0={colspan:"2"},o0={width:"96px",colspan:"2"},s0={key:4,colspan:"1"},i0={key:5,colspan:"1"},r0={width:"100px",colspan:"2"},u0={colspan:"2"},d0={key:6,width:"60px",colspan:"1"},c0={colspan:"4",style:{"border-left":"thin solid rgba(0, 0, 0, 0.12)","border-right":"thin solid rgba(0, 0, 0, 0.12)"}},p0={key:7,width:"60px",colspan:"1"},m0={colspan:"2"},v0={width:"100px",colspan:"2"},h0={key:8,colspan:"1"},f0={key:9,colspan:"1"},g0={width:"96px",colspan:"2"},y0={colspan:"2"},b0={key:10,width:"60px",colspan:"1"},x0={key:11,width:"60px",colspan:"1"},w0={key:12,width:"60px",colspan:"1"},_0={key:13,width:"60px",colspan:"1"},k0=["innerHTML"],S0=["innerHTML"],C0=["innerHTML"],I0=["innerHTML"],E0=["id","innerHTML"],T0=["id"],N0={class:"optiondatasty optionbartext"},M0=["id"],A0=["id"],O0=["id"],P0=["id","innerHTML"],F0=["id","innerHTML"],L0=["id"],D0=["id"],V0=["id"],B0=["id","innerHTML"],$0={key:0,class:"opdatacallupbtn lfttrbtn",style:{"margin-left":"-192px"}},R0=["onClick"],z0={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},U0=["onClick"],q0={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},H0=["onClick"],j0={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},W0=["src"],Y0=["onClick"],G0={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},K0=["onClick"],X0=["onClick"],J0=["innerHTML"],Q0=["id"],Z0={class:"subtitle-2 font-weight-bold"},e1=["id"],t1={key:7,colspan:"1",class:"text-center pa-0"},a1=["innerHTML"],l1={colspan:"2",class:"text-center opdatacalluphov opdatas"},n1=["id","innerHTML"],o1={key:0,class:"opdatacallupbtn uprghtrbtn"},s1=["onClick"],i1=["onClick"],r1=["onClick"],u1={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p"},d1=["onClick"],c1={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},p1=["src"],m1=["onClick"],v1={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},h1=["onClick"],f1={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},g1={colspan:"2",class:"text-center opdatas"},y1=["id"],b1=["id"],x1=["id"],w1={key:8,colspan:"1",class:"text-center opdatas"},_1=["id","innerHTML"],k1={key:9,colspan:"1",class:"text-center opdatas"},S1=["id","innerHTML"],C1={colspan:"2",class:"text-center opdatas opdatacalluphov"},I1=["id"],E1={class:"optiondatasty optionbartext"},T1=["id"],N1=["id"],M1=["id"],A1={colspan:"2",class:"text-center opdatas"},O1=["id","innerHTML"],P1={key:10,colspan:"1",class:"text-center pa-0"},F1=["innerHTML"],L1={key:11,colspan:"1",class:"text-center pa-0"},D1=["innerHTML"],V1={key:12,colspan:"1",class:"text-center pa-0"},B1=["innerHTML"],$1={key:13,colspan:"1",class:"text-center pa-0"},R1=["innerHTML"],z1={key:0,ref:"chainSpotRow"},U1=["colspan"],q1={id:"opcenterview",colspan:"4",class:"text-center pa-2 opdatacalluphov"},H1={class:"font-weight-bold",style:{"font-size":"14px"}},j1=["colspan"],W1=["innerHTML"],Y1=["innerHTML"],G1=["innerHTML"],K1=["innerHTML"],X1=["id","innerHTML"],J1=["id"],Q1={class:"optiondatasty optionbartext"},Z1=["id"],e2=["id"],t2=["id"],a2=["id","innerHTML"],l2=["id","innerHTML"],n2=["id"],o2=["id"],s2=["id"],i2=["id","innerHTML"],r2={key:0,class:"opdatacallupbtn lfttrbtn",style:{"margin-left":"-192px"}},u2=["onClick"],d2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},c2=["onClick"],p2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},m2=["onClick"],v2={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},h2=["src"],f2=["onClick"],g2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p mr-1"},y2=["onClick"],b2=["onClick"],x2=["innerHTML"],w2=["id"],_2={class:"subtitle-2 font-weight-bold"},k2=["id"],S2={key:7,colspan:"1",class:"text-center pa-0"},C2=["innerHTML"],I2={colspan:"2",class:"text-center opdatacalluphov opdatas"},E2=["id","innerHTML"],T2={key:0,class:"opdatacallupbtn dwnrghtrbtn"},N2=["onClick"],M2=["onClick"],A2=["onClick"],O2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p"},P2=["onClick"],F2={style:{height:"22px","min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},L2=["src"],D2=["onClick"],V2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},B2=["onClick"],$2={style:{"min-width":"32px","border-radius":"4px",border:"thin solid #EBEEF0",padding:"1px 4px","background-color":"#fff"},class:"cursor-p ml-1"},R2={colspan:"2",class:"text-center opdatas"},z2=["id"],U2=["id"],q2=["id"],H2={key:8,colspan:"1",class:"text-center pa-0"},j2=["id","innerHTML"],W2={key:9,colspan:"1",class:"text-center pa-0"},Y2=["id","innerHTML"],G2={colspan:"2",class:"text-center opdatas opdatacalluphov"},K2=["id"],X2={class:"optiondatasty optionbartext"},J2=["id"],Q2=["id"],Z2=["id"],e4={colspan:"2",class:"text-center opdatas"},t4=["id","innerHTML"],a4={key:10,colspan:"1",class:"text-center pa-0"},l4=["innerHTML"],n4={key:11,colspan:"1",class:"text-center pa-0"},o4=["innerHTML"],s4={key:12,colspan:"1",class:"text-center pa-0"},i4=["innerHTML"],r4={key:13,colspan:"1",class:"text-center pa-0"},u4=["innerHTML"],d4={key:1},c4=["colspan"],p4={key:0,class:"mb-3"},m4={key:0,width:"60px",colspan:"1"},v4={key:1,width:"60px",colspan:"1"},h4={key:2,width:"60px",colspan:"1"},f4={key:3,width:"60px",colspan:"1"},g4={colspan:"2"},y4={width:"96px",colspan:"2",class:"px-0"},b4={class:"optionheadsty"},x4={key:4,colspan:"1"},w4={key:5,colspan:"1"},_4={width:"100px",colspan:"2"},k4={colspan:"2"},S4={key:6,width:"60px",colspan:"1"},C4={colspan:"4",style:{"border-left":"thin solid rgba(0, 0, 0, 0.12)","border-right":"thin solid rgba(0, 0, 0, 0.12)"}},I4={class:"optionheadsty"},E4={key:7,width:"60px",colspan:"1"},T4={colspan:"2"},N4={width:"100px",colspan:"2"},M4={key:8,colspan:"1"},A4={key:9,colspan:"1"},O4={width:"96px",colspan:"2",class:"px-0"},P4={class:"optionheadsty"},F4={colspan:"2"},L4={key:10,width:"60px",colspan:"1"},D4={key:11,width:"60px",colspan:"1"},V4={key:12,width:"60px",colspan:"1"},B4={key:13,width:"60px",colspan:"1"},$4={class:"d-flex align-center justify-space-between pa-3"},R4={class:"pa-3"},z4={class:"pa-3"},U4={key:1,class:"no-scroll pos-rlt",style:{height:"calc(100vh - 118px)"}},q4={class:"pos-cent"},H4={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},j4={__name:"StocksOption",setup(e){Q();const t=Y(),l=Re(),n=UZ(),o=Rc(),s=Qa(),p=a({});function m(e,t){const a={...p.value[e]||{}},l=e=>{const t=parseFloat(e);return isFinite(t)?t:void 0},n=l(t.ltp??t.lp??t.l),o=l(t.c??t.prev_close_price??t.close??t.pc),s=l(t.ch),i=l(t.chp??t.pc),r=l(t.ask??t.a),u=l(t.bid??t.b),d=l(t.oi),c=l(t.poi??t.prev_oi),m=l(t.vol??t.volume??t.socketVolume);return l(t.ch),l(t.chp),void 0!==n&&(a.ltp=n),void 0!==o&&(a.prevClose=o),void 0!==r&&(a.ask=r),void 0!==u&&(a.bid=u),void 0!==d&&(a.oi=d),void 0!==c&&(a.poi=c),void 0!==m&&(a.vol=m),void 0!==s&&(a.ch=s),void 0!==i&&(a.chp=i),void 0===a.ch&&void 0!==a.ltp&&void 0!==a.prevClose&&(a.ch=a.ltp-a.prevClose),void 0===a.chp&&void 0!==a.ch&&void 0!==a.prevClose&&a.prevClose>0&&(a.chp=a.ch/a.prevClose*100),p.value[e]=a,a}async function v(e,t){var a,l,i,r,u;const d=localStorage.getItem("ssdtoken"),c=null==(a=window.ssdreqdata)?void 0:a.data;let p;if(c&&c[d]&&c[d].l||window.ssddetail&&window.ssddetail[0]&&window.ssddetail[0].token==d){p=c&&c[d]&&c[d].l?c[d].l:window.ssddetail[2];let a=e.toUpperCase();if(a.split(":")[0].match(/^NFO$/))n.optionStockSymbol=a;else{let e=a.match(/(\d{1,2})[a-zA-Z]{3}(\d{2,4})?/g);if(e){let t=a.split(e[0]);(null==(l=t[0].split(":")[1])?void 0:l.match(/^NIFTY$/))?n.optionStockSymbol="NSE:NIFTY 50":(null==(i=t[0].split(":")[1])?void 0:i.match(/^BANKNIFTY$/))?n.optionStockSymbol="NSE:NIFTY BANK":(null==(r=t[0].split(":")[1])?void 0:r.match(/^FINNIFTY$/))?n.optionStockSymbol="NSE:NIFTY FIN SERVICE":(null==(u=t[0].split(":")[0])?void 0:u.match(/^NFO$/))?n.optionStockSymbol=`NSE:${t[0].split(":")[1]}-EQ`:n.optionStockSymbol=a}else n.optionStockSymbol=a}await Hle(`${n.optionStockSymbol}`)&&p&&p.opt_exp&&p.opt_exp.length>0&&(c&&c[d]&&c[d].q||window.ssddetail[0])?(n.optionStockSpot=0,n.lsexdfilter=0,async function(e,t,a){var l,i,r,u,d,c;try{if("exit"==e)return n.coractloader=!0,n.coractdata=!1,void(n.optionchainid=!1);n.loadColumnSettings(o.uid),n.drawer=!1,N(()=>{g()}),n.chainCount="",n.chainSpotdata={},n.lsexd=[],n.upcallSO=[],n.upputSO=[],n.dwncallSO=[],n.dwnputSO=[];let p=await Hle(`${n.optionStockSymbol}`);if(p&&p.length>0){n.exchange=n.optionStockSymbol.split(":")[0],n.scriptToken=p[0];const e=(null==(i=null==(l=window.ssdreqdata)?void 0:l.data)?void 0:i[a])?window.ssdreqdata.data[a].i:null==(r=window.ssddetail)?void 0:r[3],o=(null==(d=null==(u=window.ssdreqdata)?void 0:u.data)?void 0:d[a])?window.ssdreqdata.data[a].q:null==(c=window.ssddetail)?void 0:c[0];if(e){n.securityinfo=e,n.opname=e.symname||"",n.opexch=e.exch||"",n.optoken=e.token||"";let a,l=[];if(t.opt_exp&&Array.isArray(t.opt_exp)){t.opt_exp.forEach(e=>{l.push({...e})}),l.sort((e,t)=>new Date(e.exd)-new Date(t.exd)),n.data1=l,n.lsexd=[],n.tsym=[];for(let e=0;e<l.length;e++)n.lsexd.push(l[e].exd),n.tsym.push(l[e].tsym);n.lsexdval=n.lsexd[0]||""}n.chainCount="10",a=o&&o.und_exch&&o.und_tk?await gae(`${o.und_exch}|${o.und_tk}`):o,a?(console.log("[Options] Spot price data:",a),n.subscriptionchainStocksList.push({exch:a.exch,token:a.token,tsym:a.tsym}),n.optionStockSymbolInfo={exch:a.exch,token:a.token,tsym:a.tsym},n.optionStockName=n.optionStockSymbolInfo.tsym||"",n.optionStockSpot=a.lp||0,console.log("[Options] Spot price:",n.optionStockSpot),console.log("[Options] Symbol info:",n.optionStockSymbolInfo),h()):(console.error("[Options] No quote data available"),n.coractloader=!1,n.coractdata=!1,s.showSnackbar(2,"Unable to fetch spot price data"))}else console.error("[Options] Symbol has no tradable futures or options"),n.coractloader=!1,n.coractdata=!1,s.showSnackbar(2,"The symbol has no tradable futures or options.")}else console.error("[Options] Missing security info or expiry data"),n.coractloader=!1,n.coractdata=!1}catch(Wie){console.error("[Options] Error in optionchainMet:",Wie),n.coractloader=!1,n.coractdata=!1,s.showSnackbar(2,`Error: ${Wie.message||"Unknown error"}`)}}(t||null,p,d),n.optionchainid=!0,n.coractloader=!0,n.coractdata=!1):(n.clearOption(),n.optionStockSymbol=a)}else p&&p.opt_exp&&0===p.opt_exp.length?n.clearOption():setTimeout(()=>{v(e,t)},100)}async function h(){var e,t,a;try{console.log("[Options] Starting optionChainDate..."),console.log("[Options] Current expiry filter:",n.lsexdfilter),console.log("[Options] Available expiry dates:",n.lsexd),n.greekCount=0,n.daydiff="",n.chainStocksList=[],n.upcallSO=[],n.dwncallSO=[],n.upputSO=[],n.dwnputSO=[],n.chainSpotPrice=n.optionStockSpot,n.lsexdval=n.lsexd[n.lsexdfilter]||"";const l=["5","10","15","30","50"];n.chainCount=l[n.ccfilter]||"10",console.log("[Options] Selected expiry:",n.lsexdval),console.log("[Options] Chain count:",n.chainCount),console.log("[Options] Data1 length:",(null==(e=n.data1)?void 0:e.length)||0);let i=null==(t=n.data1)?void 0:t.find(e=>e.exd===n.lsexdval);if(n.lsexdval){let e=new Date(n.lsexdval),t=(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"/"+(e.getDate()>9?e.getDate():"0"+e.getDate())+"/"+e.getFullYear(),a=new Date,l=(a.getMonth()>8?a.getMonth()+1:"0"+(a.getMonth()+1))+"/"+(a.getDate()>9?a.getDate():"0"+a.getDate())+"/"+a.getFullYear(),o=new Date(l),s=(new Date(t).getTime()-o.getTime())/864e5;n.daydiff=s+1}if(!i)return console.error("[Options] Expiry date not found in data1:",n.lsexdval),console.error("[Options] Available data1:",n.data1),n.coractloader=!1,n.coractdata=!1,void s.showSnackbar(2,`Expiry date ${n.lsexdval} not found`);const r=sessionStorage.getItem("userid")||"G",u=sessionStorage.getItem("msession")||"G";n.userid=r,n.usession=u;const d=i.tsym.includes("&")?i.tsym.replace("&","%26"):i.tsym,c=`jData={"uid":"${r}","exch":"${i.exch}","tsym":"${d}","cnt":"${n.chainCount}","strprc":"${n.optionStockSpot}"}&jKey=${u}`;console.log("[Options] Fetching options chain..."),console.log("[Options] Query params:",{exch:i.exch,tsym:d,cnt:n.chainCount,strprc:n.optionStockSpot});let p=null;try{p=await yae(c),console.log("[Options] API Response:",p)}catch(Wie){return console.error("[Options] API Error:",Wie),n.coractloader=!1,n.coractdata=!1,void s.showSnackbar(2,`Error fetching options chain: ${Wie.message||"Unknown error"}`)}if(!p)return console.error("[Options] No data returned from API"),n.coractloader=!1,n.coractdata=!1,void s.showSnackbar(2,"No data returned from options chain API");if(p&&"Ok"==p.stat){console.log("[Options] API Success - Processing data..."),console.log("[Options] Values count:",(null==(a=p.values)?void 0:a.length)||0),n.optionchain=p,n.chainStocksList=p.values||[],n.subscriptionchainStocksList=p.values||[];const e=Number(n.optionStockSpot);n.chainStocksList.forEach(e=>{const t="PE"===e.optt?"CE":"PE";n.chainStocksList.some(a=>a.optt===t&&Number(a.strprc)===Number(e.strprc))||n.chainStocksList.push({exch:e.exch,token:"",tsym:"",optt:t,pp:e.pp,ls:e.ls,ti:e.ti,strprc:e.strprc})});const t=[...n.chainStocksList].sort((e,t)=>Number(e.strprc)-Number(t.strprc));if(t.forEach(e=>{void 0!==e.oi&&null!==e.oi&&void 0===e.coi&&(e.coi=Number(e.oi)),void 0!==e.coi&&null!==e.coi&&(e.oi=(Number(e.coi)/1e5).toFixed(2)),void 0!==e.poi&&null!==e.poi&&void 0!==e.coi&&(e.oich=((Number(e.coi)-Number(e.poi))/1e5).toFixed(2)),void 0!==e.vol&&null!==e.vol&&"number"==typeof e.vol?e.vol=(Number(e.vol)/1e5).toFixed(2):void 0!==e.socketVolume&&null!==e.socketVolume&&(e.vol=(Number(e.socketVolume)/1e5).toFixed(2)),void 0!==e.ltp&&null!==e.ltp&&(e.ltp=Number(e.ltp)?Number(e.ltp).toFixed(2):e.ltp),void 0!==e.ch&&null!==e.ch&&(e.ch=Number(e.ch)?Number(e.ch).toFixed(2):e.ch),void 0!==e.chp&&null!==e.chp&&(e.chp=Number(e.chp)?Number(e.chp).toFixed(2):e.chp),void 0!==e.bid&&null!==e.bid&&(e.bid=Number(e.bid)?Number(e.bid).toFixed(2):e.bid),void 0!==e.ask&&null!==e.ask&&(e.ask=Number(e.ask)?Number(e.ask).toFixed(2):e.ask),e.bar||(e.bar="rgba(0, 0, 0, 0.12)")}),n.callsideopc=t.filter(t=>"CE"===t.optt&&(e>Number(t.strprc)?n.upcallSO.push({...t,p:""}):n.dwncallSO.push({...t,p:""}),!0)),n.putsideopc=t.filter(t=>"PE"===t.optt&&(e>Number(t.strprc)?n.upputSO.push({...t,p:""}):n.dwnputSO.push({...t,p:""}),!0)),n.callsideopc.length>0){const e=n.callsideopc.map(e=>Number(e.coi||0)).filter(e=>e>0);e.length>0?n.barCallsOi=Math.max(...e):n.barCallsOi=null}else n.barCallsOi=null;if(n.putsideopc.length>0){const e=n.putsideopc.map(e=>Number(e.coi||0)).filter(e=>e>0);e.length>0?n.barPutsOi=Math.max(...e):n.barPutsOi=null}else n.barPutsOi=null;if(n.barCallsOi&&(n.upcallSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-n.barCallsOi)/n.barCallsOi*100+100)?void 0:t.toFixed(0))}),n.dwncallSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-n.barCallsOi)/n.barCallsOi*100+100)?void 0:t.toFixed(0))})),n.barPutsOi&&(n.upputSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-n.barPutsOi)/n.barPutsOi*100+100)?void 0:t.toFixed(0))}),n.dwnputSO.forEach(e=>{var t;e.coi&&(e.pro=null==(t=(e.coi-n.barPutsOi)/n.barPutsOi*100+100)?void 0:t.toFixed(0))})),n.calculatePCR(),setTimeout(()=>{N(()=>{const e=document.getElementById("opcenterview");e&&e.scrollIntoView({behavior:"smooth",block:"center"})})},10),o.uid)try{await I()}catch(Wie){console.error("[Options] Error loading positions:",Wie)}n.subscriptionchainStocksList.push(n.optionStockSymbolInfo),f("sub",n.subscriptionchainStocksList,"ssd"),n.coractdata=!0,n.coractloader=!1,console.log("[Options] Data loaded successfully!"),console.log("[Options] upcallSO count:",n.upcallSO.length),console.log("[Options] upputSO count:",n.upputSO.length),console.log("[Options] dwncallSO count:",n.dwncallSO.length),console.log("[Options] dwnputSO count:",n.dwnputSO.length)}else console.error("[Options] API Error:",null==p?void 0:p.stat,null==p?void 0:p.emsg),n.coractloader=!1,n.coractdata=!1,s.showSnackbar(2,(null==p?void 0:p.emsg)||"Failed to fetch options chain")}catch(Wie){console.error("[Options] Unexpected error in optionChainDate:",Wie),n.coractloader=!1,n.coractdata=!1,s.showSnackbar(2,`Unexpected error: ${Wie.message||"Unknown error"}`)}}function f(e,t,a){const l=new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}});window.dispatchEvent(l)}function g(){try{if(!n||"function"!=typeof n.updateColumnVisibility)return void console.error("[Options] updateColumnVisibility is not available");n.updateColumnVisibility(),o&&o.uid&&n&&"function"==typeof n.saveColumnSettings&&n.saveColumnSettings(o.uid)}catch(Wie){console.error("[Options] Error in simpleTablestyle:",Wie)}}function b(){window.dispatchEvent(new CustomEvent("option-search",{detail:n.optionStockSymbolInfo}))}function _(e){const t=e.detail;let a,l,o,s;Array.isArray(t)?[a,l,o,s]=t:t&&"object"==typeof t&&(a=t.type,l=t.token,o=t.exch,s=t.tsym),l&&o&&s&&(n.optionStockSymbol=s,f("unsub-D",n.chainStocksList,"ssd"),n.clearOption(!0),n.coractloader=!0,n.coractdata=!1,v(`${o}:${s}`,"exit"))}function k(e){const t=e.detail;let a=null;if(Array.isArray(t)&&t.length>=2){const[e,l]=t;"stockSSD"===l&&e&&(a=e)}else t&&"object"==typeof t&&("stockSSD"===t.page||t.token)&&(a=t);a&&a.token&&function(e){var t,a,l,o,s,i,r,u,d,c,p;const v=String(e.token),h=v;if(n.optionStockSymbolInfo&&String(n.optionStockSymbolInfo.token)===h){const o=m(v,e);n.chainSpotdata={...n.chainSpotdata,lp:(null==(t=o.ltp)?void 0:t.toFixed(2))||e.lp||"0.00",ch:(null==(a=o.ch)?void 0:a.toFixed(2))||e.ch||"0.00",chp:(null==(l=o.chp)?void 0:l.toFixed(2))||e.chp||"0.00"}}let f=n.upcallSO.findIndex(e=>String(e.token)===h),g=n.upputSO.findIndex(e=>String(e.token)===h),y=n.dwncallSO.findIndex(e=>String(e.token)===h),b=n.dwnputSO.findIndex(e=>String(e.token)===h);const x=m(v,e);if(f>=0){const e=n.upcallSO[f];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),n.barCallsOi&&void 0!==x.oi&&(e.pro=null==(o=(x.oi-n.barCallsOi)/n.barCallsOi*100+100)?void 0:o.toFixed(0)),void 0!==x.vol&&(e.vol=null==(s=x.vol/1e5)?void 0:s.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}n.upcallSO[f]={...n.upcallSO[f],...e},n.upcallSO=[...n.upcallSO],S("upcall",v,e)}else if(g>=0){const e=n.upputSO[g];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),n.barPutsOi&&void 0!==x.oi&&(e.pro=null==(i=(x.oi-n.barPutsOi)/n.barPutsOi*100+100)?void 0:i.toFixed(0)),void 0!==x.vol&&(e.vol=null==(r=x.vol/1e5)?void 0:r.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}n.upputSO[g]={...n.upputSO[g],...e},n.upputSO=[...n.upputSO],S("upput",v,e)}else if(y>=0){const e=n.dwncallSO[y];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),n.barCallsOi&&void 0!==x.oi&&(e.pro=null==(u=(x.oi-n.barCallsOi)/n.barCallsOi*100+100)?void 0:u.toFixed(0)),void 0!==x.vol&&(e.vol=null==(d=x.vol/1e5)?void 0:d.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}n.dwncallSO[y]={...n.dwncallSO[y],...e},n.dwncallSO=[...n.dwncallSO],S("dwncall",v,e)}else if(b>=0){const e=n.dwnputSO[b];void 0!==x.ltp&&(e.ltp=x.ltp.toFixed(2)),void 0!==x.ask&&(e.ask=x.ask.toFixed(2)),void 0!==x.bid&&(e.bid=x.bid.toFixed(2)),void 0!==x.ch&&(e.ch=x.ch.toFixed(2)),void 0!==x.chp&&(e.chp=x.chp.toFixed(2)),void 0!==x.oi&&(e.coi=x.oi,e.oi=(x.oi/1e5).toFixed(2)),void 0!==x.poi&&void 0!==x.oi&&(e.oich=((x.oi-x.poi)/1e5).toFixed(2)),n.barPutsOi&&void 0!==x.oi&&(e.pro=null==(c=(x.oi-n.barPutsOi)/n.barPutsOi*100+100)?void 0:c.toFixed(0)),void 0!==x.vol&&(e.vol=null==(p=x.vol/1e5)?void 0:p.toFixed(2));const t=void 0!==x.ch?x.ch:parseFloat(e.ch)||0,a=void 0!==e.oich?parseFloat(e.oich):0;if(e.bar=t>0&&a>0?"#43A833":t<0&&a>0?"#F23645":t>0&&a<0?"#ECF8F1":t<0&&a<0?"#ffcdcd90":"rgba(0, 0, 0, 0.12)",e.p&&e.ppp){const t=e.ppp,a=void 0!==x.ltp?x.ltp:parseFloat(e.ltp)||0;e.pmtm=((a-Number(t.netavgprc))*Number(t.netqty)+Number(t.crpnl)).toFixed(2),e.px=e.pmtm>0?"maingreen--text":e.pmtm<0?"mainred--text":"white--text",e.pz=e.pmtm>0?"maingreen":e.pmtm<0?"mainred":"rgba(0, 0, 0, 0.12)",e.icon=e.pmtm>0?"mdi-arrow-up-drop-circle":e.pmtm<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle"}n.dwnputSO[b]={...n.dwnputSO[b],...e},n.dwnputSO=[...n.dwnputSO],S("dwnput",v,e)}if(n.callsideopc.length>0){const e=Math.max(...n.callsideopc.map(e=>Number(e.coi||0)));e>0&&(n.barCallsOi=e)}if(n.putsideopc.length>0){const e=Math.max(...n.putsideopc.map(e=>Number(e.coi||0)));e>0&&(n.barPutsOi=e)}const w=n.upcallSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),_=n.dwncallSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),k=w+_,I=n.upputSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),E=n.dwnputSO.reduce((e,t)=>e+parseFloat(t.oi||0),0),T=I+E;n.pcrRatio=k>0?Number(T/k).toFixed(2):0,n.pcrcallRatio=Number(k).toFixed(2),n.pcrputRatio=Number(T).toFixed(2),(n.ivcheckbox||n.vagacheckbox||n.thetacheckbox||n.gamacheckbox||n.deltacheckbox)&&(y>=0&&n.dwncallSO[y]&&!("IV"in n.dwncallSO[y])&&C("dwncallSO",n.dwncallSO,y),b>=0&&n.dwnputSO[b]&&!("IV"in n.dwnputSO[b])&&C("dwnputSO",n.dwnputSO,b),f>=0&&n.upcallSO[f]&&!("IV"in n.upcallSO[f])&&C("upcallSO",n.upcallSO,f),g>=0&&n.upputSO[g]&&!("IV"in n.upputSO[g])&&C("upputSO",n.upputSO,g))}(a)}function S(e,t,a){const l=String(t);if(document.getElementById(`${e}${l}ltp`)){const t=document.getElementById(`${e}${l}ltp`);t&&(t.innerHTML=a.ltp||"0.00");const n=document.getElementById(`${e}${l}ch`);n&&(n.innerHTML=a.ch||"0.00");const o=document.getElementById(`${e}${l}chp`);o&&(o.innerHTML=` (${a.chp||"0.00"}%)`);const s=document.getElementById(`${e}${l}chpclr`);if(s){const e=parseFloat(a.ch)||0;s.className=e>0?"optiondatasty maingreen--text":e<0?"optiondatasty mainred--text":"optiondatasty",s.style.color=e>0?"#43A833":e<0?"#F23645":""}const i=document.getElementById(`${e}${l}oi`);i&&(i.innerHTML=a.oi||"0.00");const r=document.getElementById(`${e}${l}oich`);r&&(r.innerHTML=` (${a.oich||"0.00"})`);const u=document.getElementById(`${e}${l}oiclr`);if(u){const e=parseFloat(a.oich)||0;u.style.color=e>0?"#43A833":e<0?"#F23645":"none"}const d=document.getElementById(`${e}${l}vol`);d&&(d.innerHTML=a.vol||"0.00");const c=document.getElementById(`${e}${l}pro`);c&&a.pro&&c.style.setProperty("--my-width-var",`${a.pro}%`);const p=document.getElementById(`${e}${l}bar`);if(p&&a.bar){const t="upput"===e||"dwnput"===e?"--my-rgtbrdclr-var":"--my-lftbrdclr-var";p.style.setProperty(t,a.bar)}}const n=document.getElementById(`${e}${l}bid`);n&&(n.innerHTML=a.bid||"0.00");const o=document.getElementById(`${e}${l}ask`);o&&(o.innerHTML=a.ask||"0.00")}async function C(e,t,a){if(n.greekCount>=4*parseInt(n.chainCount))return;n.greekCount+=1;const l=t[a];if(l)try{const t=await Rle(JSON.stringify({spotPrice:n.optionStockSpot,expiryDay:parseInt(n.daydiff),OPTIONS:l}));if(t&&"GreekValues"in t&&t.GreekValues.length>0){const l=t.GreekValues[0];let o=null;"dwncallSO"===e?o=n.dwncallSO[a]:"dwnputSO"===e?o=n.dwnputSO[a]:"upcallSO"===e?o=n.upcallSO[a]:"upputSO"===e&&(o=n.upputSO[a]),o&&(o.IV=Number(l.IV)?Number(l.IV).toFixed(2):l.IV,o.Rho=l.Rho,o.delta=Number(l.delta)?Number(l.delta).toFixed(4):l.delta,o.gamma=Number(l.gamma)?Number(l.gamma).toFixed(4):l.gamma,o.theta=Number(l.theta)?Number(l.theta).toFixed(4):l.theta,o.vega=Number(l.vega)?Number(l.vega).toFixed(4):l.vega,"dwncallSO"===e?(n.dwncallSO[a]={...n.dwncallSO[a],...o},n.dwncallSO=[...n.dwncallSO]):"dwnputSO"===e?(n.dwnputSO[a]={...n.dwnputSO[a],...o},n.dwnputSO=[...n.dwnputSO]):"upcallSO"===e?(n.upcallSO[a]={...n.upcallSO[a],...o},n.upcallSO=[...n.upcallSO]):"upputSO"===e&&(n.upputSO[a]={...n.upputSO[a],...o},n.upputSO=[...n.upputSO]))}}catch(Wie){console.error("Error calculating Greeks:",Wie)}}async function I(){if(!n.positions||!n.positions.o){const e=await hae();n.positions=e}!async function(){const e=n.positions;if(n.positiondata=[],e&&e.o&&e.o.length>0){n.positiondata=[...e.o];for(let e=0;e<n.positiondata.length;e++){const t=n.positiondata[e];if(t&&(["OPTIDX","OPTFUT"].includes(t.instname)||"NFO"===t.exch)&&0!==Number(t.netqty)){const e=n.upcallSO.findIndex(e=>e.tsym===t.tsym),a=n.upputSO.findIndex(e=>e.tsym===t.tsym),l=n.dwncallSO.findIndex(e=>e.tsym===t.tsym),o=n.dwnputSO.findIndex(e=>e.tsym===t.tsym),s={p:!0,ppp:{netqty:t.netqty,netavgprc:t.netavgprc||t.avgprc,avgprc:t.avgprc,crpnl:t.crpnl||0},pmtm:((Number(t.ltp||0)-Number(t.netavgprc||t.avgprc||0))*Number(t.netqty)+Number(t.crpnl||0)).toFixed(2),px:"",pz:"",icon:"",qtyp:Number(t.netqty),qtyclr:Number(t.netqty)>0?"maingreen--text":"mainred--text"},i=parseFloat(s.pmtm);s.px=i>0?"maingreen--text":i<0?"mainred--text":"white--text",s.pz=i>0?"maingreen":i<0?"mainred":"rgba(0, 0, 0, 0.12)",s.icon=i>0?"mdi-arrow-up-drop-circle":i<0?"mdi-arrow-down-drop-circle":"mdi-minus-circle",e>=0&&(n.upcallSO[e]={...n.upcallSO[e],...s},n.upcallSO=[...n.upcallSO]),a>=0&&(n.upputSO[a]={...n.upputSO[a],...s},n.upputSO=[...n.upputSO]),l>=0&&(n.dwncallSO[l]={...n.dwncallSO[l],...s},n.dwncallSO=[...n.dwncallSO]),o>=0&&(n.dwnputSO[o]={...n.dwnputSO[o],...s},n.dwnputSO=[...n.dwnputSO])}}}}()}function E(){return l.current.value.dark?sg:og}function T(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("ssd-event",{detail:["chart",a.token,a.exch,a.tsym]}))}function M(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("ssd-event",{detail:["depth",a.token,a.exch,a.tsym]}))}function O(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&(a.buySell="BUY",a.expdate=n.lsexd,a.ordvai="MKT",a.ordlot=1,a.ordprc=Number(a.ltp||0),a.checkbox=!0,window.dispatchEvent(new CustomEvent("bskwatch-event",{detail:{type:"add",data:a,optionchain:n.optionchain}})))}function P(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&window.dispatchEvent(new CustomEvent("addscript-wl",{detail:a}))}function F(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:a.token,exch:a.exch,tsym:a.tsym,trantype:"b"}}))}function L(e,t){let a;a="object"==typeof t&&t?t.find(t=>t.strprc===e.strprc):e,a&&a.token&&window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"order",token:a.token,exch:a.exch,tsym:a.tsym,trantype:"s"}}))}return"undefined"==typeof window||window.ssdreqdata||(window.ssdreqdata={data:{}}),"undefined"==typeof window||window.ssddetail||(window.ssddetail=[]),y(()=>{n.userid=sessionStorage.getItem("userid")||"",n.usession=sessionStorage.getItem("msession")||"";let e=localStorage.getItem("ssdtsym");e&&e.includes(":")&&v(e),window.addEventListener("ssd-event",_),window.addEventListener("web-scoketConn",k),window.addEventListener("orderbook-update",e=>{"port-order"===e.detail&&I()})}),Z(()=>{window.removeEventListener("ssd-event",_),window.removeEventListener("web-scoketConn",k)}),(e,a)=>(z(),R("div",null,[x(n).optionchainid?(z(),R("div",qZ,[d(cy,{color:"cardbg",width:"100%",class:"rounded-md",style:{overflow:"hidden"}},{default:H(()=>[i("div",HZ,[d(jg,{flat:"",dense:"",class:"tool-sty crd-trn px-4",height:"56"},{default:H(()=>[i("div",jZ,[d(im,{readonly:x(n).coractloader,onClick:b,class:"elevation-0 text-none",variant:"text",style:{color:"#000 !important","text-transform":"none"}},{default:H(()=>[d(wp,{size:"20",class:"mr-2"},{default:H(()=>[...a[22]||(a[22]=[W("mdi-magnify",-1)])]),_:1}),i("span",WZ,A(x(n).optionStockName||""),1)]),_:1},8,["readonly"]),d(Pb,{location:"bottom",offset:"4"},{activator:H(({props:e})=>[d(im,w(e,{readonly:x(n).coractloader,variant:"flat",class:"elevation-0 text-none",style:{"background-color":"#F1F3F8 !important",color:"#000 !important",height:"36px","font-size":"14px","font-weight":"500","text-transform":"none","min-width":"auto",padding:"0 16px"}}),{default:H(()=>[i("span",null,A(x(n).lsexdval||""),1),x(n).lsexdval&&x(n).daydiff?(z(),R("span",YZ,A(x(n).daydiff)+"(D) ",1)):ee("",!0),d(wp,{size:"18",class:"ml-2"},{default:H(()=>[...a[23]||(a[23]=[W("mdi-chevron-down",-1)])]),_:1})]),_:1},16,["readonly"])]),default:H(()=>[d(Ib,{density:"compact",style:{"max-height":"320px","overflow-y":"scroll","min-width":"200px"}},{default:H(()=>[(z(!0),R(u,null,U(x(n).lsexd,(e,t)=>(z(),q(cb,{key:t,value:t,active:x(n).lsexdfilter===t,onClick:e=>{x(n).lsexdfilter=t,h()}},{default:H(()=>[d(ub,{style:{"font-size":"14px"}},{default:H(()=>[W(A(e),1)]),_:2},1024)]),_:2},1032,["value","active","onClick"]))),128))]),_:1})]),_:1}),d(Pb,{location:"bottom",offset:"4"},{activator:H(({props:e})=>[d(im,w(e,{readonly:x(n).coractloader,variant:"flat",class:"elevation-0 text-none",style:{"background-color":"#F1F3F8 !important",color:"#000 !important",height:"36px","font-size":"14px","font-weight":"500","text-transform":"none","min-width":"auto",padding:"0 16px"}}),{default:H(()=>[i("span",null,A(x(n).chainCount?"50"==x(n).chainCount?"All":x(n).chainCount:""),1),d(wp,{size:"18",class:"ml-2"},{default:H(()=>[...a[24]||(a[24]=[W("mdi-chevron-down",-1)])]),_:1})]),_:1},16,["readonly"])]),default:H(()=>[d(Ib,{density:"compact",style:{"min-width":"120px"}},{default:H(()=>[(z(),R(u,null,U(["5","10","15","30","All"],(e,t)=>d(cb,{key:t,value:t,active:x(n).ccfilter===t,onClick:e=>{x(n).ccfilter=t,h()}},{default:H(()=>[d(ub,{style:{"font-size":"14px"}},{default:H(()=>[W(A(e),1)]),_:2},1024)]),_:2},1032,["value","active","onClick"])),64))]),_:1})]),_:1})]),d(zy),i("div",GZ,[d(im,{readonly:x(n).coractloader,icon:"",variant:"text",size:"small",class:"elevation-0",style:{color:"#666 !important"}},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...a[25]||(a[25]=[W("mdi-delete-outline",-1)])]),_:1})]),_:1},8,["readonly"]),d(im,{readonly:x(n).coractloader,icon:"",variant:"text",size:"small",class:"elevation-0",onClick:a[0]||(a[0]=e=>{return t="create",void window.dispatchEvent(new CustomEvent("bskwatch-event",{detail:{type:t,data:n.optionStockSymbolInfo}}));var t})},{default:H(()=>[i("img",{width:"20px",height:"20px",src:x(ig)},null,8,KZ)]),_:1},8,["readonly"]),0==x(n).drawer?(z(),q(im,{key:0,readonly:x(n).coractloader,icon:"",variant:"text",size:"small",class:"elevation-0",onClick:a[1]||(a[1]=e=>x(n).drawer=!0),style:{color:"#666 !important"}},{default:H(()=>[d(wp,{size:"20"},{default:H(()=>[...a[26]||(a[26]=[W("mdi-cog-outline",-1)])]),_:1})]),_:1},8,["readonly"])):ee("",!0)])]),_:1}),d(my),i("div",null,[x(n).coractdata?(z(),q(cy,{key:0,class:"crd-trn elevation-0 rounded-0",style:{overflow:"hidden"}},{default:H(()=>[d(IV,{class:"no-scroll crd-trn","fixed-header":"",style:c(`--my-simtblwidth-var:${x(n).simtblwidth};--my-simtblscroll-var:${x(n).simtblscroll};`),height:"calc(100vh - 178px)",density:"compact"},{default:H(()=>[i("thead",XZ,[i("tr",JZ,[i("th",{colspan:x(n).opchtablehead,class:"px-0 text-center"},[...a[27]||(a[27]=[i("span",{class:"font-weight-bold"},"CALLS",-1)])],8,QZ),a[29]||(a[29]=i("th",{colspan:"4",class:"text-center pa-0"},null,-1)),i("th",{colspan:x(n).opchtablehead,class:"px-0 text-center"},[...a[28]||(a[28]=[i("span",{class:"font-weight-bold"},"PUTS",-1)])],8,ZZ)]),i("tr",null,[x(n).thetacheckbox?(z(),R("th",e0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[30]||(a[30]=[i("span",{class:"optionheadsty"},"THETA",-1)])]),_:1})])):ee("",!0),x(n).vagacheckbox?(z(),R("th",t0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[31]||(a[31]=[i("span",{class:"optionheadsty"},"VEGA",-1)])]),_:1})])):ee("",!0),x(n).gamacheckbox?(z(),R("th",a0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[32]||(a[32]=[i("span",{class:"optionheadsty"},"GAMA",-1)])]),_:1})])):ee("",!0),x(n).deltacheckbox?(z(),R("th",l0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[33]||(a[33]=[i("span",{class:"optionheadsty"},"DELTA",-1)])]),_:1})])):ee("",!0),i("th",n0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[34]||(a[34]=[i("span",{class:"optionheadsty"},[W("VOL"),i("span",{class:"optionchsty"},"(lac)")],-1)])]),_:1})]),i("th",o0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[35]||(a[35]=[i("span",{class:"optionheadsty"},[W("OI"),i("span",{class:"optionchsty"},"(ch)")],-1)])]),_:1})]),x(n).bitcheckbox?(z(),R("th",s0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[36]||(a[36]=[i("span",{class:"optionheadsty"},"BID",-1)])]),_:1})])):ee("",!0),x(n).askcheckbox?(z(),R("th",i0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[37]||(a[37]=[i("span",{class:"optionheadsty"},"ASK",-1)])]),_:1})])):ee("",!0),i("th",r0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[38]||(a[38]=[i("span",{class:"optionheadsty"},"CH",-1)])]),_:1})]),i("th",u0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[39]||(a[39]=[i("span",{class:"optionheadsty"},"LTP",-1)])]),_:1})]),x(n).ivcheckbox?(z(),R("th",d0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[40]||(a[40]=[i("span",{class:"optionheadsty"},"IV",-1)])]),_:1})])):ee("",!0),i("th",c0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[41]||(a[41]=[i("span",{class:"mx-4 optionheadsty"},"STRIKES",-1)])]),_:1})]),x(n).ivcheckbox?(z(),R("th",p0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[42]||(a[42]=[i("span",{class:"optionheadsty"},"IV",-1)])]),_:1})])):ee("",!0),i("th",m0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[43]||(a[43]=[i("span",{class:"optionheadsty"},"LTP",-1)])]),_:1})]),i("th",v0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[44]||(a[44]=[i("span",{class:"optionheadsty"},"CH",-1)])]),_:1})]),x(n).bitcheckbox?(z(),R("th",h0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[45]||(a[45]=[i("span",{class:"optionheadsty"},"BID",-1)])]),_:1})])):ee("",!0),x(n).askcheckbox?(z(),R("th",f0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[46]||(a[46]=[i("span",{class:"optionheadsty"},"ASK",-1)])]),_:1})])):ee("",!0),i("th",g0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[47]||(a[47]=[i("span",{class:"optionheadsty"},[W("OI"),i("span",{class:"optionchsty"},"(ch)")],-1)])]),_:1})]),i("th",y0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[48]||(a[48]=[i("span",{class:"optionheadsty"},[W("VOL"),i("span",{class:"optionchsty"},"(lac)")],-1)])]),_:1})]),x(n).deltacheckbox?(z(),R("th",b0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[49]||(a[49]=[i("span",{class:"optionheadsty"},"DELTA",-1)])]),_:1})])):ee("",!0),x(n).gamacheckbox?(z(),R("th",x0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[50]||(a[50]=[i("span",{class:"optionheadsty"},"GAMA",-1)])]),_:1})])):ee("",!0),x(n).vagacheckbox?(z(),R("th",w0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[51]||(a[51]=[i("span",{class:"optionheadsty"},"VEGA",-1)])]),_:1})])):ee("",!0),x(n).thetacheckbox?(z(),R("th",_0,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""},{default:H(()=>[...a[52]||(a[52]=[i("span",{class:"optionheadsty"},"THETA",-1)])]),_:1})])):ee("",!0)])]),i("tbody",null,[(z(!0),R(u,null,U(x(n).upcallSO,(e,l)=>{var o,s,u,p,m,v,h,f,g,y,b,_,k,S,C,I,N,D,V,B,$,U,j,Y,G,K,X,J,Q,Z,te;return z(),R("tr",{key:"calloption"+l,class:"totrhover"},[x(n).thetacheckbox?(z(),R("th",{key:0,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.theta?e.theta:"0.0000"},null,8,k0)],4)):ee("",!0),x(n).vagacheckbox?(z(),R("th",{key:1,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.vega?e.vega:"0.0000"},null,8,S0)],4)):ee("",!0),x(n).gamacheckbox?(z(),R("th",{key:2,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.gamma?e.gamma:"0.0000"},null,8,C0)],4)):ee("",!0),x(n).deltacheckbox?(z(),R("th",{key:3,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.delta?e.delta:"0.0000"},null,8,I0)],4)):ee("",!0),i("th",{colspan:"2",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`upcall${e.token}vol`,innerHTML:e.vol?e.vol:"0.00"},null,8,E0)],4),i("th",{colspan:"2",class:"text-center opdatas opdatacalluphov",style:c(x(n).opdatabgs)},[i("div",{class:"callprogress",style:c(`--my-width-var:${e.pro||0}%;`),id:`upcall${e.token}pro`},[i("span",N0,[i("span",{id:`upcall${e.token}oi`},A(e.oi?e.oi:"0.00"),9,M0),i("span",{id:`upcall${e.token}oiclr`,style:c(`color:${e.oich>0?"#43A833":e.oich<0?"#F23645":"none"};`),class:"optionchsty"},[i("span",{id:`upcall${e.token}oich`},"("+A(e.oich?e.oich:"0.00")+")",9,O0)],12,A0)])],12,T0)],4),x(n).bitcheckbox?(z(),R("th",{key:4,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",id:`upcall${e.token}bid`,innerHTML:e.bid?e.bid:"0.00"},null,8,P0)],4)):ee("",!0),x(n).askcheckbox?(z(),R("th",{key:5,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",id:`upcall${e.token}ask`,innerHTML:e.ask?e.ask:"0.00"},null,8,F0)],4)):ee("",!0),i("th",{colspan:"2",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{style:c(`color:${e.ch>0?"#43A833":e.ch<0?"#F23645":""};`),id:`upcall${e.token}chpclr`,class:"optiondatasty"},[i("span",{id:`upcall${e.token}ch`},A(e.ch?e.ch:"0.00"),9,D0),i("span",{id:`upcall${e.token}chp`,class:"optionchsty"}," ("+A(e.chp?e.chp:"0.00")+"%) ",9,V0)],12,L0)],4),i("th",{colspan:"2",class:"text-center opdatacalluphov opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`upcall${e.token}ltp`,innerHTML:e.ltp?e.ltp:"0.00"},null,8,B0),e.token?(z(),R("tr",$0,[i("th",{colspan:"1",onClick:t=>T(e)},[i("div",z0,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[53]||(a[53]=[W("mdi-chart-line-variant",-1)])]),_:1})])],8,R0),i("th",{colspan:"1",onClick:t=>M(e)},[i("div",q0,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[54]||(a[54]=[W("mdi-format-align-center",-1)])]),_:1})])],8,U0),i("th",{colspan:"1",onClick:t=>O(e)},[i("div",j0,[i("img",{width:"16px",src:E()},null,8,W0)])],8,H0),i("th",{colspan:"1",onClick:t=>P(e)},[i("div",G0,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[55]||(a[55]=[W("mdi-bookmark-outline",-1)])]),_:1})])],8,Y0),i("th",{colspan:"1",onClick:t=>L(e)},[...a[56]||(a[56]=[i("div",{style:{"background-color":"#F23645 !important",color:"#fff !important"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,K0),i("th",{colspan:"1",onClick:t=>F(e)},[...a[57]||(a[57]=[i("div",{style:{"background-color":"#43A833 !important",color:"#fff !important"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"}," B",-1)])],8,X0)])):ee("",!0)],4),x(n).ivcheckbox?(z(),R("th",{key:6,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.IV?e.IV:"0.00"},null,8,J0)],4)):ee("",!0),i("th",{colspan:"4",class:"text-center opstrprcborder opdatacalluphov pos-rlt",style:c(x(n).opdatabgs)},[i("div",{class:"lftbarstatus",style:c(`--my-lftbrdclr-var:${e.bar||"rgba(0, 0, 0, 0.12)"};`),id:`upcall${e.token}bar`},null,12,Q0),e.p?(z(),q(Lb,{key:0,location:"left",color:"black"},{activator:H(({props:l})=>[d(wp,w({ref_for:!0},l,{class:"badghlpos pos-abs",color:e.pz||"rgba(0, 0, 0, 0.12)",onClick:a[2]||(a[2]=e=>x(t).push("/positions")),size:"14"}),{default:H(()=>[W(A(e.icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:H(()=>[i("span",null,[i("b",{class:r(e.qtyclr)},A(e.qtyp||"0"),3),a[58]||(a[58]=W(" Qty @ ",-1)),i("span",{class:r([e.px,"font-weight-bold"])},A(e.pmtm||"0.00"),3),a[59]||(a[59]=W(" MTM ",-1))])]),_:2},1024)):ee("",!0),i("span",Z0,A(Number(e.strprc)?e.strprc:"0.00"),1),x(n).upputSO[l]&&x(n).upputSO[l].p?(z(),q(Lb,{key:1,location:"right",color:"black"},{activator:H(({props:e})=>[d(wp,w({ref_for:!0},e,{class:"badghrpos pos-abs",color:x(n).upputSO[l].pz||"rgba(0, 0, 0, 0.12)",onClick:a[3]||(a[3]=e=>x(t).push("/positions")),size:"14"}),{default:H(()=>[W(A(x(n).upputSO[l].icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:H(()=>[i("span",null,[i("b",{class:r(x(n).upputSO[l].qtyclr)},A(x(n).upputSO[l].qtyp||"0"),3),a[60]||(a[60]=W(" Qty @ ",-1)),i("span",{class:r([x(n).upputSO[l].px,"font-weight-bold"])},A(x(n).upputSO[l].pmtm||"0.00"),3),a[61]||(a[61]=W(" MTM ",-1))])]),_:2},1024)):ee("",!0),i("div",{class:"rgtbarstatus",style:c(`--my-rgtbrdclr-var:${(null==(o=x(n).upputSO[l])?void 0:o.bar)||"rgba(0, 0, 0, 0.12)"};`),id:`upput${(null==(s=x(n).upputSO[l])?void 0:s.token)||""}bar`},null,12,e1)],4),x(n).ivcheckbox?(z(),R("th",t1,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(u=x(n).upputSO[l])?void 0:u.IV)?x(n).upputSO[l].IV:"0.00"},null,8,a1)])):ee("",!0),i("th",l1,[i("span",{class:"optiondatasty",id:`upput${(null==(p=x(n).upputSO[l])?void 0:p.token)||""}ltp`,innerHTML:(null==(m=x(n).upputSO[l])?void 0:m.ltp)?x(n).upputSO[l].ltp:"0.00"},null,8,n1),x(n).upputSO[l]&&x(n).upputSO[l].token?(z(),R("tr",o1,[i("th",{colspan:"1",onClick:t=>F(e,x(n).upputSO)},[...a[62]||(a[62]=[i("div",{style:{"background-color":"#43A833 !important",color:"#fff !important"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,s1),i("th",{colspan:"1",onClick:t=>L(e,x(n).upputSO)},[...a[63]||(a[63]=[i("div",{style:{"background-color":"#F23645 !important",color:"#fff !important"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,i1),i("th",{colspan:"1",onClick:t=>P(e,x(n).upputSO)},[i("div",u1,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[64]||(a[64]=[W("mdi-bookmark-outline",-1)])]),_:1})])],8,r1),i("th",{colspan:"1",onClick:t=>O(e,x(n).upputSO)},[i("div",c1,[i("img",{width:"16px",src:E()},null,8,p1)])],8,d1),i("th",{colspan:"1",onClick:t=>M(e,x(n).upputSO)},[i("div",v1,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[65]||(a[65]=[W("mdi-format-align-center",-1)])]),_:1})])],8,m1),i("th",{colspan:"1",onClick:t=>T(e,x(n).upputSO)},[i("div",f1,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[66]||(a[66]=[W("mdi-chart-line-variant",-1)])]),_:1})])],8,h1)])):ee("",!0)]),i("th",g1,[i("span",{style:c(`color:${(null==(v=x(n).upputSO[l])?void 0:v.ch)>0?"#43A833":(null==(h=x(n).upputSO[l])?void 0:h.ch)<0?"#F23645":""};`),id:`upput${(null==(f=x(n).upputSO[l])?void 0:f.token)||""}chpclr`,class:"optiondatasty"},[i("span",{id:`upput${(null==(g=x(n).upputSO[l])?void 0:g.token)||""}ch`},A((null==(y=x(n).upputSO[l])?void 0:y.ch)?x(n).upputSO[l].ch:"0.00"),9,b1),i("span",{id:`upput${(null==(b=x(n).upputSO[l])?void 0:b.token)||""}chp`,class:"optionchsty"}," ("+A((null==(_=x(n).upputSO[l])?void 0:_.chp)?x(n).upputSO[l].chp:"0.00")+"%) ",9,x1)],12,y1)]),x(n).bitcheckbox?(z(),R("th",w1,[i("span",{class:"optiondatasty",id:`upput${(null==(k=x(n).upputSO[l])?void 0:k.token)||""}bid`,innerHTML:(null==(S=x(n).upputSO[l])?void 0:S.bid)?x(n).upputSO[l].bid:"0.00"},null,8,_1)])):ee("",!0),x(n).askcheckbox?(z(),R("th",k1,[i("span",{class:"optiondatasty",id:`upput${(null==(C=x(n).upputSO[l])?void 0:C.token)||""}ask`,innerHTML:(null==(I=x(n).upputSO[l])?void 0:I.ask)?x(n).upputSO[l].ask:"0.00"},null,8,S1)])):ee("",!0),i("th",C1,[i("div",{class:"putprogress",style:c(`--my-width-var:${(null==(N=x(n).upputSO[l])?void 0:N.pro)||0}%;`),id:`upput${(null==(D=x(n).upputSO[l])?void 0:D.token)||""}pro`},[i("span",E1,[i("span",{id:`upput${(null==(V=x(n).upputSO[l])?void 0:V.token)||""}oi`},A((null==(B=x(n).upputSO[l])?void 0:B.oi)?x(n).upputSO[l].oi:"0.00"),9,T1),i("span",{id:`upput${(null==($=x(n).upputSO[l])?void 0:$.token)||""}oiclr`,style:c(`color:${(null==(U=x(n).upputSO[l])?void 0:U.oich)>0?"#43A833":(null==(j=x(n).upputSO[l])?void 0:j.oich)<0?"#F23645":"none"};`),class:"optionchsty"},[i("span",{id:`upput${(null==(Y=x(n).upputSO[l])?void 0:Y.token)||""}oich`}," ("+A((null==(G=x(n).upputSO[l])?void 0:G.oich)?x(n).upputSO[l].oich:"0.00")+") ",9,M1)],12,N1)])],12,I1)]),i("th",A1,[i("span",{class:"optiondatasty",id:`upput${(null==(K=x(n).upputSO[l])?void 0:K.token)||""}vol`,innerHTML:(null==(X=x(n).upputSO[l])?void 0:X.vol)?x(n).upputSO[l].vol:"0.00"},null,8,O1)]),x(n).deltacheckbox?(z(),R("th",P1,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(J=x(n).upputSO[l])?void 0:J.delta)?x(n).upputSO[l].delta:"0.0000"},null,8,F1)])):ee("",!0),x(n).gamacheckbox?(z(),R("th",L1,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(Q=x(n).upputSO[l])?void 0:Q.gamma)?x(n).upputSO[l].gamma:"0.0000"},null,8,D1)])):ee("",!0),x(n).vagacheckbox?(z(),R("th",V1,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(Z=x(n).upputSO[l])?void 0:Z.vega)?x(n).upputSO[l].vega:"0.0000"},null,8,B1)])):ee("",!0),x(n).thetacheckbox?(z(),R("th",$1,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(te=x(n).upputSO[l])?void 0:te.theta)?x(n).upputSO[l].theta:"0.0000"},null,8,R1)])):ee("",!0)])}),128)),x(n).chainSpotdata&&x(n).chainSpotdata.lp?(z(),R("tr",z1,[i("th",{colspan:x(n).opchtablehead,class:"px-0"},[...a[67]||(a[67]=[i("div",{style:{height:"2px","background-color":"#FF720C"}},null,-1)])],8,U1),i("th",q1,[d(cy,{class:"white--text elevation-0",color:"#FF720C",style:{"border-radius":"4px",padding:"4px 12px",display:"inline-block"}},{default:H(()=>[i("span",H1,A(x(n).chainSpotdata.lp?Number(x(n).chainSpotdata.lp).toFixed(2):"0.00"),1)]),_:1})]),i("th",{colspan:x(n).opchtablehead,class:"px-0"},[...a[68]||(a[68]=[i("div",{style:{height:"2px","background-color":"#FF720C"}},null,-1)])],8,j1)],512)):ee("",!0),(z(!0),R(u,null,U(x(n).dwncallSO,(e,l)=>{var o,s,u,p,m,v,h,f,g,y,b,_,k,S,C,I,N,D,V,B,$,U,j,Y,G,K,X,J,Q,Z,te;return z(),R("tr",{key:"dwncall"+l,class:"totrhover"},[x(n).thetacheckbox?(z(),R("th",{key:0,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.theta?e.theta:"0.0000"},null,8,W1)],4)):ee("",!0),x(n).vagacheckbox?(z(),R("th",{key:1,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.vega?e.vega:"0.0000"},null,8,Y1)],4)):ee("",!0),x(n).gamacheckbox?(z(),R("th",{key:2,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.gamma?e.gamma:"0.0000"},null,8,G1)],4)):ee("",!0),x(n).deltacheckbox?(z(),R("th",{key:3,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.delta?e.delta:"0.0000"},null,8,K1)],4)):ee("",!0),i("th",{colspan:"2",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`dwncall${e.token}vol`,innerHTML:e.vol?e.vol:"0.00"},null,8,X1)],4),i("th",{colspan:"2",class:"text-center opdatas opdatacalluphov",style:c(x(n).opdatabgs)},[i("div",{class:"callprogress",style:c(`--my-width-var:${e.pro||0}%;`),id:`dwncall${e.token}pro`},[i("span",Q1,[i("span",{id:`dwncall${e.token}oi`},A(e.oi?e.oi:"0.00"),9,Z1),i("span",{id:`dwncall${e.token}oiclr`,style:c(`color:${e.oich>0?"#43A833":e.oich<0?"#F23645":"none"};`),class:"optionchsty"},[i("span",{id:`dwncall${e.token}oich`},"("+A(e.oich?e.oich:"0.00")+")",9,t2)],12,e2)])],12,J1)],4),x(n).bitcheckbox?(z(),R("th",{key:4,colspan:"1",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`dwncall${e.token}bid`,innerHTML:e.bid?e.bid:"0.00"},null,8,a2)],4)):ee("",!0),x(n).askcheckbox?(z(),R("th",{key:5,colspan:"1",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`dwncall${e.token}ask`,innerHTML:e.ask?e.ask:"0.00"},null,8,l2)],4)):ee("",!0),i("th",{colspan:"2",class:"text-center opdatas",style:c(x(n).opdatabgs)},[i("span",{style:c(`color:${e.ch>0?"#43A833":e.ch<0?"#F23645":""};`),id:`dwncall${e.token}chpclr`,class:"optiondatasty"},[i("span",{id:`dwncall${e.token}ch`},A(e.ch?e.ch:"0.00"),9,o2),i("span",{id:`dwncall${e.token}chp`,class:"optionchsty"}," ("+A(e.chp?e.chp:"0.00")+"%) ",9,s2)],12,n2)],4),i("th",{colspan:"2",class:"text-center opdatacalluphov opdatas",style:c(x(n).opdatabgs)},[i("span",{class:"optiondatasty",id:`dwncall${e.token}ltp`,innerHTML:Number(e.ltp)?e.ltp:"0.00"},null,8,i2),e.token?(z(),R("tr",r2,[i("th",{colspan:"1",onClick:t=>T(e)},[i("div",d2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[69]||(a[69]=[W("mdi-chart-line-variant",-1)])]),_:1})])],8,u2),i("th",{colspan:"1",onClick:t=>M(e)},[i("div",p2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[70]||(a[70]=[W("mdi-format-align-center",-1)])]),_:1})])],8,c2),i("th",{colspan:"1",onClick:t=>O(e)},[i("div",v2,[i("img",{width:"16px",src:E()},null,8,h2)])],8,m2),i("th",{colspan:"1",onClick:t=>P(e)},[i("div",g2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[71]||(a[71]=[W("mdi-bookmark-outline",-1)])]),_:1})])],8,f2),i("th",{colspan:"1",onClick:t=>L(e)},[...a[72]||(a[72]=[i("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"}," S",-1)])],8,y2),i("th",{colspan:"1",onClick:t=>F(e)},[...a[73]||(a[73]=[i("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"}," B",-1)])],8,b2)])):ee("",!0)],4),x(n).ivcheckbox?(z(),R("th",{key:6,colspan:"1",class:"text-center pa-0",style:c(x(n).opdatabgs)},[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:e.IV?e.IV:"0.00"},null,8,x2)],4)):ee("",!0),i("th",{colspan:"4",class:"text-center opstrprcborder opdatacalluphov pos-rlt",style:c(x(n).opdatabgs)},[i("div",{class:"lftbarstatus",style:c(`--my-lftbrdclr-var:${e.bar||"rgba(0, 0, 0, 0.12)"};`),id:`dwncall${e.token}bar`},null,12,w2),e.p?(z(),q(Lb,{key:0,location:"left",color:"black"},{activator:H(({props:l})=>[d(wp,w({ref_for:!0},l,{class:"badghlpos pos-abs",color:e.pz||"rgba(0, 0, 0, 0.12)",onClick:a[4]||(a[4]=e=>x(t).push("/positions")),size:"14"}),{default:H(()=>[W(A(e.icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:H(()=>[i("span",null,[i("b",{class:r(e.qtyclr)},A(e.qtyp||"0"),3),a[74]||(a[74]=W(" Qty @ ",-1)),i("span",{class:r([e.px,"font-weight-bold"])},A(e.pmtm||"0.00"),3),a[75]||(a[75]=W(" MTM ",-1))])]),_:2},1024)):ee("",!0),i("span",_2,A(Number(e.strprc)?e.strprc:"0.00"),1),x(n).dwnputSO[l]&&x(n).dwnputSO[l].p?(z(),q(Lb,{key:1,location:"right",color:"black"},{activator:H(({props:e})=>[d(wp,w({ref_for:!0},e,{class:"badghrpos pos-abs",color:x(n).dwnputSO[l].pz||"rgba(0, 0, 0, 0.12)",onClick:a[5]||(a[5]=e=>x(t).push("/positions")),size:"14"}),{default:H(()=>[W(A(x(n).dwnputSO[l].icon||"mdi-minus-circle"),1)]),_:2},1040,["color"])]),default:H(()=>[i("span",null,[i("b",{class:r(x(n).dwnputSO[l].qtyclr)},A(x(n).dwnputSO[l].qtyp||"0"),3),a[76]||(a[76]=W(" Qty @ ",-1)),i("span",{class:r([x(n).dwnputSO[l].px,"font-weight-bold"])},A(x(n).dwnputSO[l].pmtm||"0.00"),3),a[77]||(a[77]=W(" MTM ",-1))])]),_:2},1024)):ee("",!0),i("div",{class:"rgtbarstatus",style:c(`--my-rgtbrdclr-var:${(null==(o=x(n).dwnputSO[l])?void 0:o.bar)||"rgba(0, 0, 0, 0.12)"};`),id:`dwnput${(null==(s=x(n).dwnputSO[l])?void 0:s.token)||""}bar`},null,12,k2)],4),x(n).ivcheckbox?(z(),R("th",S2,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(u=x(n).dwnputSO[l])?void 0:u.IV)?x(n).dwnputSO[l].IV:"0.00"},null,8,C2)])):ee("",!0),i("th",I2,[i("span",{class:"optiondatasty",id:`dwnput${(null==(p=x(n).dwnputSO[l])?void 0:p.token)||""}ltp`,innerHTML:Number(null==(m=x(n).dwnputSO[l])?void 0:m.ltp)?x(n).dwnputSO[l].ltp:"0.00"},null,8,E2),x(n).dwnputSO[l]&&x(n).dwnputSO[l].token?(z(),R("tr",T2,[i("th",{colspan:"1",onClick:t=>F(e,x(n).dwnputSO)},[...a[78]||(a[78]=[i("div",{style:{"background-color":"#43A833"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"B",-1)])],8,N2),i("th",{colspan:"1",onClick:t=>L(e,x(n).dwnputSO)},[...a[79]||(a[79]=[i("div",{style:{"background-color":"#F23645"},class:"newhoverbtn newhoverbtnsize white--text cursor-p"},"S",-1)])],8,M2),i("th",{colspan:"1",onClick:t=>P(e,x(n).dwnputSO)},[i("div",O2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[80]||(a[80]=[W("mdi-bookmark-outline",-1)])]),_:1})])],8,A2),i("th",{colspan:"1",onClick:t=>O(e,x(n).dwnputSO)},[i("div",F2,[i("img",{width:"16px",src:E()},null,8,L2)])],8,P2),i("th",{colspan:"1",onClick:t=>M(e,x(n).dwnputSO)},[i("div",V2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[81]||(a[81]=[W("mdi-format-align-center",-1)])]),_:1})])],8,D2),i("th",{colspan:"1",onClick:t=>T(e,x(n).dwnputSO)},[i("div",$2,[d(wp,{size:"16",color:"maintext"},{default:H(()=>[...a[82]||(a[82]=[W("mdi-chart-line-variant",-1)])]),_:1})])],8,B2)])):ee("",!0)]),i("th",R2,[i("span",{style:c(`color:${(null==(v=x(n).dwnputSO[l])?void 0:v.ch)>0?"#43A833":(null==(h=x(n).dwnputSO[l])?void 0:h.ch)<0?"#F23645":""};`),id:`dwnput${(null==(f=x(n).dwnputSO[l])?void 0:f.token)||""}chpclr`,class:"optiondatasty"},[i("span",{id:`dwnput${(null==(g=x(n).dwnputSO[l])?void 0:g.token)||""}ch`},A((null==(y=x(n).dwnputSO[l])?void 0:y.ch)?x(n).dwnputSO[l].ch:"0.00"),9,U2),i("span",{id:`dwnput${(null==(b=x(n).dwnputSO[l])?void 0:b.token)||""}chp`,class:"optionchsty"}," ("+A((null==(_=x(n).dwnputSO[l])?void 0:_.chp)?x(n).dwnputSO[l].chp:"0.00")+"%) ",9,q2)],12,z2)]),x(n).bitcheckbox?(z(),R("th",H2,[i("div",{width:"100%",height:"32px",class:"optiondatasty",id:`dwnput${(null==(k=x(n).dwnputSO[l])?void 0:k.token)||""}bid`,innerHTML:(null==(S=x(n).dwnputSO[l])?void 0:S.bid)?x(n).dwnputSO[l].bid:"0.00"},null,8,j2)])):ee("",!0),x(n).askcheckbox?(z(),R("th",W2,[i("div",{width:"100%",height:"32px",class:"optiondatasty",id:`dwnput${(null==(C=x(n).dwnputSO[l])?void 0:C.token)||""}ask`,innerHTML:(null==(I=x(n).dwnputSO[l])?void 0:I.ask)?x(n).dwnputSO[l].ask:"0.00"},null,8,Y2)])):ee("",!0),i("th",G2,[i("div",{class:"putprogress",style:c(`--my-width-var:${(null==(N=x(n).dwnputSO[l])?void 0:N.pro)||0}%;`),id:`dwnput${(null==(D=x(n).dwnputSO[l])?void 0:D.token)||""}pro`},[i("span",X2,[i("span",{id:`dwnput${(null==(V=x(n).dwnputSO[l])?void 0:V.token)||""}oi`},A((null==(B=x(n).dwnputSO[l])?void 0:B.oi)?x(n).dwnputSO[l].oi:"0.00"),9,J2),i("span",{id:`dwnput${(null==($=x(n).dwnputSO[l])?void 0:$.token)||""}oiclr`,style:c(`color:${(null==(U=x(n).dwnputSO[l])?void 0:U.oich)>0?"#43A833":(null==(j=x(n).dwnputSO[l])?void 0:j.oich)<0?"#F23645":"none"};`),class:"optionchsty"},[i("span",{id:`dwnput${(null==(Y=x(n).dwnputSO[l])?void 0:Y.token)||""}oich`}," ("+A((null==(G=x(n).dwnputSO[l])?void 0:G.oich)?x(n).dwnputSO[l].oich:"0.00")+") ",9,Z2)],12,Q2)])],12,K2)]),i("th",e4,[i("span",{class:"optiondatasty",id:`dwnput${(null==(K=x(n).dwnputSO[l])?void 0:K.token)||""}vol`,innerHTML:(null==(X=x(n).dwnputSO[l])?void 0:X.vol)?x(n).dwnputSO[l].vol:"0.00"},null,8,t4)]),x(n).deltacheckbox?(z(),R("th",a4,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(J=x(n).dwnputSO[l])?void 0:J.delta)?x(n).dwnputSO[l].delta:"0.0000"},null,8,l4)])):ee("",!0),x(n).gamacheckbox?(z(),R("th",n4,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(Q=x(n).dwnputSO[l])?void 0:Q.gamma)?x(n).dwnputSO[l].gamma:"0.0000"},null,8,o4)])):ee("",!0),x(n).vagacheckbox?(z(),R("th",s4,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(Z=x(n).dwnputSO[l])?void 0:Z.vega)?x(n).dwnputSO[l].vega:"0.0000"},null,8,i4)])):ee("",!0),x(n).thetacheckbox?(z(),R("th",r4,[i("div",{width:"100%",height:"32px",class:"optiondatasty",innerHTML:(null==(te=x(n).dwnputSO[l])?void 0:te.theta)?x(n).dwnputSO[l].theta:"0.0000"},null,8,u4)])):ee("",!0)])}),128)),0===x(n).dwncallSO.length&&0===x(n).upcallSO.length?(z(),R("tr",d4,[i("td",{colspan:x(n).opchtablehead+4+x(n).opchtablehead,class:"text-center py-16"},[...a[83]||(a[83]=[i("p",{class:"subtext--text"},"No options chain data available",-1)])],8,c4)])):ee("",!0)]),x(n).coractdata?(z(),R("tfoot",p4,[i("tr",null,[x(n).thetacheckbox?(z(),R("th",m4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).vagacheckbox?(z(),R("th",v4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).gamacheckbox?(z(),R("th",h4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).deltacheckbox?(z(),R("th",f4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),i("th",g4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),i("th",y4,[d(cy,{class:"elevation-0 text-center",color:"secbg",tile:""},{default:H(()=>[i("span",b4,A(x(n).pcrcallRatio>0?x(n).pcrcallRatio:"0"),1)]),_:1})]),x(n).bitcheckbox?(z(),R("th",x4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).askcheckbox?(z(),R("th",w4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),i("th",_4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),i("th",k4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),x(n).ivcheckbox?(z(),R("th",S4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),i("th",C4,[d(cy,{class:"crd-trn elevation-0 text-center",tile:""},{default:H(()=>[i("span",I4,"PCR : "+A(x(n).pcrRatio>0?x(n).pcrRatio:"0.0000"),1)]),_:1})]),x(n).ivcheckbox?(z(),R("th",E4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),i("th",T4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),i("th",N4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),x(n).bitcheckbox?(z(),R("th",M4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).askcheckbox?(z(),R("th",A4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),i("th",O4,[d(cy,{class:"elevation-0 text-center",color:"secbg",tile:""},{default:H(()=>[i("span",P4,A(x(n).pcrputRatio>0?x(n).pcrputRatio:"0"),1)]),_:1})]),i("th",F4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})]),x(n).deltacheckbox?(z(),R("th",L4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).gamacheckbox?(z(),R("th",D4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).vagacheckbox?(z(),R("th",V4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0),x(n).thetacheckbox?(z(),R("th",B4,[d(cy,{class:"crd-trn elevation-0 text-center subtext--text",tile:""})])):ee("",!0)])])):ee("",!0)]),_:1},8,["style"])]),_:1})):ee("",!0),d(HV,{"hide-overlay":"",class:"elevation-1",modelValue:x(n).drawer,"onUpdate:modelValue":a[21]||(a[21]=e=>x(n).drawer=e),color:"cardbg",absolute:"",temporary:"",location:"right"},{default:H(()=>[i("div",$4,[a[85]||(a[85]=i("p",{class:"mt-2 mb-0"},"View setting",-1)),d(im,{tile:"",icon:"",onClick:a[6]||(a[6]=e=>x(n).drawer=!1)},{default:H(()=>[...a[84]||(a[84]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"17",height:"17",fill:"currentColor"},[i("path",{d:"m.58 1.42.82-.82 15 15-.82.82z"}),i("path",{d:"m.58 15.58 15-15 .82.82-15 15z"})],-1)])]),_:1})]),d(my),i("div",R4,[a[86]||(a[86]=i("p",{class:"mt-0 mb-1"},"Add columns",-1)),d(cy,{flat:"",color:"transparent"},{default:H(()=>[d(XC,{"onUpdate:modelValue":[a[7]||(a[7]=e=>g()),a[8]||(a[8]=e=>x(n).bitcheckbox=e)],modelValue:x(n).bitcheckbox,label:"BID"},null,8,["modelValue"]),d(XC,{"onUpdate:modelValue":[a[9]||(a[9]=e=>g()),a[10]||(a[10]=e=>x(n).askcheckbox=e)],modelValue:x(n).askcheckbox,label:"ASK"},null,8,["modelValue"]),d(XC,{"onUpdate:modelValue":[a[11]||(a[11]=e=>g()),a[12]||(a[12]=e=>x(n).ivcheckbox=e)],modelValue:x(n).ivcheckbox,label:"IV"},null,8,["modelValue"])]),_:1})]),d(my),i("div",z4,[a[87]||(a[87]=i("p",{class:"mt-0 mb-1"},"Add greeks",-1)),d(cy,{flat:"",color:"transparent"},{default:H(()=>[d(XC,{"onUpdate:modelValue":[a[13]||(a[13]=e=>g()),a[14]||(a[14]=e=>x(n).deltacheckbox=e)],modelValue:x(n).deltacheckbox,label:"DELTA"},null,8,["modelValue"]),d(XC,{"onUpdate:modelValue":[a[15]||(a[15]=e=>g()),a[16]||(a[16]=e=>x(n).gamacheckbox=e)],modelValue:x(n).gamacheckbox,label:"GAMA"},null,8,["modelValue"]),d(XC,{"onUpdate:modelValue":[a[17]||(a[17]=e=>g()),a[18]||(a[18]=e=>x(n).vagacheckbox=e)],modelValue:x(n).vagacheckbox,label:"VEGA"},null,8,["modelValue"]),d(XC,{"onUpdate:modelValue":[a[19]||(a[19]=e=>g()),a[20]||(a[20]=e=>x(n).thetacheckbox=e)],modelValue:x(n).thetacheckbox,label:"THETA"},null,8,["modelValue"])]),_:1})]),d(my),a[88]||(a[88]=i("div",{class:"pa-3"},[i("p",{class:"mt-0 mb-1"},"Info"),i("div",{class:"d-flex align-center"},[i("div",{style:{"background-color":"#1e53e530"},class:"infoprogress"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"OI percentage bar"),i("p",{class:"text-caption mb-0"},[W("size diff from max "),i("br"),W("call & put")])])])],-1)),d(my,{class:"mx-4"}),a[89]||(a[89]=i("div",{class:"pa-3"},[i("p",{class:"mt-0 mb-1"},"Bullish"),i("div",{class:"d-flex align-center mb-2"},[i("div",{style:{"background-color":"#43A833"},class:"infobarstatus"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"Up trend (Long build-up)"),i("p",{class:"text-caption mb-0"},"More traders are buying")])]),i("div",{class:"d-flex align-center"},[i("div",{style:{"background-color":"#ECF8F1"},class:"infobarstatus"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"Down trend (Short covering)"),i("p",{class:"text-caption mb-0"},"Buyers are squaring")])])],-1)),d(my,{class:"mx-4"}),a[90]||(a[90]=i("div",{class:"pa-3"},[i("p",{class:"mt-0 mb-1"},"Bearish"),i("div",{class:"d-flex align-center mb-2"},[i("div",{style:{"background-color":"#F23645"},class:"infobarstatus"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"Down trend (Short build-up)"),i("p",{class:"text-caption mb-0"},"More traders are selling")])]),i("div",{class:"d-flex align-center"},[i("div",{style:{"background-color":"#ffcdcd90"},class:"infobarstatus"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"Down trend (Long unwinding)"),i("p",{class:"text-caption mb-0"},"Profit booking")])])],-1)),d(my,{class:"mx-4"}),a[91]||(a[91]=i("div",{class:"pa-3"},[i("div",{class:"d-flex align-center"},[i("div",{style:{"background-color":"rgba(0, 0, 0, 0.12)"},class:"infobarstatus"}),i("div",{class:"ml-2"},[i("p",{class:"mb-0 font-weight-medium"},"Trade not accurate"),i("p",{class:"text-caption mb-0"},"none")])])],-1))]),_:1},8,["modelValue"]),x(n).coractloader?(z(),q(cy,{key:1,color:"transparent",width:"100%",style:{"z-index":"0 !important"},class:"elevation-0 rounded-lg py-10 px-16"},{default:H(()=>[a[92]||(a[92]=i("p",{class:"pa-16 pb-0 text-center"},"Getting your Option Chain",-1)),d(cy,{width:"200px",class:"elevation-0 mx-auto"},{default:H(()=>[d(Op,{class:"mb-12",color:"primary",indeterminate:"",rounded:"",height:"6"})]),_:1})]),_:1})):ee("",!0)])])]),_:1})])):(z(),R("div",U4,[i("div",q4,[i("p",H4,[a[93]||(a[93]=W(" No Option chain data ",-1)),a[94]||(a[94]=i("br",null,null,-1)),a[95]||(a[95]=W(" for ",-1)),i("b",null,A(x(n).optionStockSymbol||""),1)])])]))]))}},W4=zc(j4,[["__scopeId","data-v-5f42eecf"]]),Y4={style:{position:"sticky !important",top:"80px","z-index":"1"}},G4={class:"text-center font-weight-medium tab-txt"},K4=["src"],X4=["src"],J4=["src"],Q4={key:1,class:"text-center py-16"},Z4={key:0},e3={key:1},t3={key:0},a3={class:"my-16 py-16 text-center"},l3={class:"text-h6"},n3={key:1,class:"text-center py-16"},o3={key:1,class:"text-center py-16"},s3={class:"pos-rlt"},i3={class:"font-weight-medium"},r3={class:"pos-abs futtable-hov",style:{bottom:"12px",left:"50%",transform:"translate(-50%, 0)"}},u3=["onClick"],d3=["onClick"],c3={class:"mb-0 ws-p"},p3=["id"],m3=["id"],v3=["id"],h3=["id"],f3=["id"],g3=["id"],y3=["id"],b3=["id"],x3=["id"],w3={key:1,class:"no-scroll pos-rlt",style:{height:"calc(100vh - 118px)"}},_3={class:"pos-cent"},k3={class:"mb-0 fs-14 maintext--text font-weight-medium text-center"},S3={key:0},C3={class:"font-weight-bold fs-14 mb-0"},I3={class:"fs-10 font-weight-medium subtext--text"},E3={class:"mb-0 fs-14"},T3={class:"font-weight-medium"},N3={key:1},M3={class:"font-weight-bold fs-14 mb-0"},A3={class:"fs-10 font-weight-medium subtext--text"},O3={class:"mb-0 fs-14"},P3={class:"font-weight-medium"},F3={key:2},L3={class:"font-weight-bold fs-14 mb-0"},D3={class:"fs-10 font-weight-medium subtext--text"},V3={class:"mb-0 fs-14"},B3={class:"font-weight-medium"},$3={__name:"StocksDetails",setup(e){const t=Q(),n=Y(),o=Qa(),s=a("tv_chart_1"),c=a(1),p=a("single-chart"),m=a(!1),v=a([{id:1,icon:"single-chart"},{id:2,icon:"dio-chart"},{id:4,icon:"quadro-chart"}]),g=a(!0),b=a(0),x=a([{tab:!0,txt:"Overview",class:"ws-p"},{tab:!0,txt:"Chart",class:"ws-p"},{tab:!0,txt:"Fundamental",class:"ws-p"},{tab:!0,txt:"Option",class:"ws-p"},{tab:!0,txt:"Future",class:"ws-p"},{tab:!0,txt:"Info",class:"ws-p"}]),w=a(null),_=a(null),k=a(null),S=a([]),C=a([]),I=a([]),E=a({}),T=a([]),M=a(null),O=a(null),P=a(!1),F=a(!0);"undefined"==typeof window||window.ssdreqdata||(window.ssdreqdata={data:{}}),"undefined"!=typeof window&&(window.ssddetail=[]);const L=l(()=>[{title:"SYMBOL",key:"tsym",class:"ws-p"},{title:"LTP CH(%)",key:"ltp",class:"ws-p"},{title:"BID",key:"bid",class:"ws-p",align:"end"},{title:"ASK",key:"ask",class:"ws-p",align:"end"},{title:"AVG PRICE",key:"ap",class:"ws-p",align:"end"},{title:"HIGH",key:"h_p",class:"ws-p",align:"end"},{title:"LOW",key:"l_p",class:"ws-p",align:"end"},{title:"OPEN",key:"op",class:"ws-p",align:"end"},{title:"CLOSE",key:"cp",class:"ws-p",align:"end"},{title:"VOL",key:"vol",class:"ws-p"}]),D=()=>{1==b.value?m.value=!0:m.value=!1,setTimeout(()=>{if(window.dispatchEvent(new CustomEvent("lwc-event",{detail:0==b.value})),1==b.value){const{exch:e,tsym:a,token:l}=function(){var e;if(T.value&&T.value.length>=3)return{exch:T.value[1],tsym:T.value[2],token:T.value[0]};const a=null==t?void 0:t.query;if(a&&a.exch&&a.tsym)return{exch:a.exch,tsym:a.tsym,token:a.token};const l=null==(e=null==t?void 0:t.params)?void 0:e.val;if(Array.isArray(l)&&l.length>=4)return{exch:l[2],tsym:l[3],token:l[1]};try{const e=localStorage.getItem("ssdtsym"),t=localStorage.getItem("ssdtoken");if(e&&e.includes(":")){const[a,l]=e.split(":");return{exch:a,tsym:l,token:t}}}catch(n){}return{exch:null,tsym:null,token:null}}();if(e&&a){const t=`${e}:${a}`;localStorage.setItem("ssdtsym",t),l&&localStorage.setItem("ssdtoken",l);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:"chart",token:l||T.value[0],exch:e,tsym:a}}))}catch(SJ){}se(e,a)}}},10)},V=async(e=4e3)=>{const t=Date.now();for(;Date.now()-t<e;){const e=sessionStorage.getItem("c3RhdHVz"),t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if("dmFsaWR1c2Vy"===e&&t&&a)return w.value=t,k.value=a,_.value=sessionStorage.getItem("usession"),!0;await new Promise(e=>setTimeout(e,100))}return w.value=sessionStorage.getItem("userid"),k.value=sessionStorage.getItem("msession"),_.value=sessionStorage.getItem("usession"),!(!w.value||!k.value)},B=()=>{F.value=!F.value,setTimeout(()=>{P.value=!P.value,P.value&&document.getElementById("popdiv")&&te(document.getElementById("popdiv"))},10)},$=(e,t,a,l,n,o)=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:e,token:t,exch:a,tsym:l,trantype:n,item:o}}))},j=async(e,t,a,l)=>{G(e,t,a,l);const n=[e,t,a,l];if(localStorage.setItem("ssdParams",JSON.stringify(n)),localStorage.setItem("ssdtsym",`${a}:${l}`),localStorage.setItem("ssdtoken",t),T.value[0]!=t&&T.value[2]!=l){let e,n;if(T.value=Array.from([t,a,l]),window.ssdreqdata&&window.ssdreqdata.data&&window.ssdreqdata.data[t])e=window.ssdreqdata.data[t].l,n=window.ssdreqdata.data[t].i,window.ssdreqdata.data[t].s&&window.ssdreqdata.data[t].s.fundamental?(x.value[2].tab=!0,window.ssddetail=[window.ssdreqdata.data[t].q,window.ssdreqdata.data[t].s,e,n]):(x.value[2].tab=!1,window.ssddetail=[window.ssdreqdata.data[t].q,"no data",e,n]),M.value=window.ssdreqdata.data[t].q;else try{const o=await gae(`${a}|${t}|${l}`),s="BSE"==a||"NSE"==a?await Kae(`${a}:${l}`):null;e=await wae(`${a}|${t}|${l}`),n=await bae(`${a}|${t}`),s&&s.fundamental?(x.value[2].tab=!0,window.ssddetail=[o,s,e,n]):(x.value[2].tab=!1,window.ssddetail=[o,"no data",e,n]),window.ssdreqdata.data[t]={q:o,s:s,l:e,t:null,i:n},O.value=e,M.value=o}catch(Wie){console.error("Error loading stock data:",Wie),o.showSnackbar(2,"Failed to load stock data")}await K(t,a,l,e),n&&X(n)}},G=(e,t,a,l)=>{e>=0?1==b.value&&se(a,l):"chart"==e&&1==b.value?se(a,l):"detail"==e||"Details"==e||"depth"==e?b.value=0:"chart"==e?b.value=1:"Funda"==e?b.value=2:"option"==e&&(b.value=3),D(),Bc&&Pc(Bc,"stock_details",{event_name:x.value[b.value].txt,value:1})},K=async(e,t,a,l)=>{const n=window.ssdreqdata.data,o=l;let s;if("NSE"==t||"BSE"==t)if(n&&n[e]&&n[e].t)s=n[e].t;else try{s=await xae(`${t}|${e}|${encodeURIComponent(a)}`),n[e].t=s}catch(Wie){console.error("Error loading technicals:",Wie)}if(o&&"Ok"==o.stat)if(S.value=[],M.value&&"UNDIND"!=M.value.instname&&"COM"!=M.value.instname&&o.equls&&o.equls.length>0?(x.value[2].tab=!0,S.value=o.equls):x.value[2].tab=!1,C.value=[],M.value&&o.opt_exp&&o.opt_exp.length>0?(x.value[3].tab=!0,C.value=o.opt_exp):x.value[3].tab=!1,I.value=[],M.value&&"COM"!=M.value.instname&&o.fut&&o.fut.length>0){x.value[4].tab=!0;for(let e=0;e<o.fut.length;e++)"NFO"==o.fut[e].exch||o.fut[e].exch,I.value.push(o.fut[e]),I.value.sort((e,t)=>new Date(e.exd)-new Date(t.exd));J("sub",I.value,"ssd")}else x.value[4].tab=!1;g.value=!1},X=e=>{E.value={"Company Name":e.cname,"Trading Symbol":e.tsym,"Symbol Name":e.symnam,Exchange:e.exch,Segment:e.seg,"Expiry Date":e.exd,"Intrument Name":e.instname,"Strike Price":e.strprc,"Option Type":e.optt,ISIN:e.isin,"Tick Size":e.ti,"Lot Size":e.ls,"Price precision":e.pp,Multiplier:e.mult,"gn/gd * pn/pd":e.gp_nd,"Price Units":e.prcunt,"Price Quote Qty":e.prcqqty,"Trade Units":e.trdunt,"Delivery Units":e.delunt,"Freeze Qty":e.frzqty,"scripupdate Gsm Ind":e.gsmind,"Elm Buy Margin":e.elmbmrg,"Elm Sell Margin":e.elmsmrg,"Additional Long Margin":e.addbmrg,"Additional Short Margin":e.addsmrg,"Special Long Margin":e.splbmrg,"Special Short Margin":e.splsmrg,"Delivery Margin":e.delmrg,"Tender Margin":e.tenmrg,"Tender Start Date":e.tenstrd,"Tender End Eate":e.tenendd,"Exercise Start Date":e.exestrd,"Exercise End Date":e.exeendd,"Market type":e.mkt_t,"Issue date":e.issue_d,"Listing date":e.listing_d,"last trading date":e.last_trd_d,"Elm Margin":e.elmmrg,"Var Margin":e.varmrg,"Exposure Margin":e.expmrg,"((GN / GD) * (PN/PD))":e.prcftr_d,"Non tradable instruments":e.nontrd,"Weekly Option, W1, W2, W3, W4 th week":e.weekly}},J=(e,t,a)=>{window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSSD"}}))},Z=e=>{if(!Array.isArray(I.value)||0===I.value.length)return;const t=I.value.findIndex(t=>t.token==e.token);if(t>=0&&I.value[t].token==e.token&&(I.value[t].ltp=Number(e.lp).toFixed(2),I.value[t].ch=Number(e.ch)>0||Number(e.ch)<0?Number(e.ch).toFixed(2):0,I.value[t].chp=Number(e.chp).toFixed(2),I.value[t].vol=Number(e.volume),I.value[t].h_p=Number(e.high_price).toFixed(2),I.value[t].l_p=Number(e.low_price).toFixed(2),I.value[t].op=Number(e.open_price).toFixed(2),I.value[t].cp=Number(e.prev_close_price).toFixed(2),I.value[t].ap=Number(e.ap).toFixed(2),I.value[t].bid_qty=e.bid_qty,I.value[t].bid=Number(e.bid).toFixed(2),I.value[t].ask_qty=e.ask_qty,I.value[t].ask=Number(e.ask).toFixed(2),document.getElementById(`futt${e.token}ltp`))){document.getElementById(`futt${e.token}ltp`).innerHTML=I.value[t].ltp,document.getElementById(`futt${e.token}chs`).innerHTML=` ${I.value[t].ch} (${I.value[t].chp}%)`;const a=document.getElementById(`futt${e.token}chsclr`);a&&(a.className="fs-12 "+(I.value[t].ch>0?"maingreen--text":I.value[t].ch<0?"mainred--text":"maintext--text")),document.getElementById(`futt${e.token}vol`).innerHTML=I.value[t].vol,document.getElementById(`futt${e.token}h_p`).innerHTML=I.value[t].h_p,document.getElementById(`futt${e.token}l_p`).innerHTML=I.value[t].l_p,document.getElementById(`futt${e.token}op`).innerHTML=I.value[t].op,document.getElementById(`futt${e.token}cp`).innerHTML=I.value[t].cp,document.getElementById(`futt${e.token}ap`).innerHTML=I.value[t].ap}},te=e=>{if(!e)return;let t=0,a=0,l=0,n=0;const o=document.getElementById(e.id+"header"),s=e=>{(e=e||window.event).preventDefault(),l=e.clientX,n=e.clientY,document.onmouseup=r,document.onmousemove=i},i=o=>{(o=o||window.event).preventDefault(),t=l-o.clientX,a=n-o.clientY,l=o.clientX,n=o.clientY,e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-t+"px"},r=()=>{document.onmouseup=null,document.onmousemove=null};o?o.onmousedown=s:e.onmousedown=s},ae=e=>{const t=e.detail;t&&(s.value=t)},le=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(k.value=sessionStorage.getItem("msession"),_.value=sessionStorage.getItem("usession"),w.value=sessionStorage.getItem("userid")):n.push("/stocks")},ne=e=>{const{type:t,token:a,exch:l,tsym:n}=e.detail||{},o=window.location;if(t&&a&&l&&n){const e=[t,a,l,n];localStorage.setItem("ssdParams",JSON.stringify(e)),localStorage.setItem("ssdtsym",`${l}:${n}`),localStorage.setItem("ssdtoken",a),console.log("Stored params from ssd-event:",e)}"/stocks/details"==o.pathname&&a&&a!=T.value[0]&&(g.value=!0,J("unsub-D",I.value,"ssd"),window.ssddetail=[],console.log("Loading data from ssd-event:",{type:t,token:a,exch:l,tsym:n}),j(t,a,l,n).then(()=>{try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[t,a,l,n]}))}catch(SJ){}}))},oe=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSSD"==a&&Z(e)}else t&&"stockSSD"==t.page&&Z(t)};async function se(e,t,a=20,l=150){if(!e||!t)return;let n=0;for(;n<a;){const a=1==c.value?window.tvWidget:window[s.value];if(a&&a.activeChart&&"function"==typeof a.activeChart)try{return void a.activeChart().setSymbol(`${e}:${t}`)}catch(SJ){}n++,await new Promise(e=>setTimeout(e,l))}}return y(async()=>{await V(4e3),F.value=!0,P.value=!1;let e=t.params.val;if(console.log("Route params ::: ",e),console.log("Route query ::: ",t.query),!e||!Array.isArray(e)||e.length<4)if(t.query.token&&t.query.exch&&t.query.tsym)e=[t.query.type||"detail",t.query.token,t.query.exch,t.query.tsym],console.log("Loaded params from query:",e),localStorage.setItem("ssdParams",JSON.stringify(e)),localStorage.setItem("ssdtsym",`${t.query.exch}:${t.query.tsym}`),localStorage.setItem("ssdtoken",t.query.token);else{const t=localStorage.getItem("ssdParams");if(t)try{e=JSON.parse(t),console.log("Loaded params from localStorage:",e)}catch(a){console.error("Error parsing stored params:",a)}else{const t=localStorage.getItem("ssdtsym"),a=localStorage.getItem("ssdtoken");if(t&&a){const[l,n]=t.split(":");l&&n&&(e=["detail",a,l,n],console.log("Reconstructed params from ssdtsym/ssdtoken:",e),localStorage.setItem("ssdParams",JSON.stringify(e)))}}}else localStorage.setItem("ssdParams",JSON.stringify(e));if(e&&Array.isArray(e)&&e.length>=4){console.log("Loading stock data with params:",e),localStorage.setItem("ssdParams",JSON.stringify(e));try{n.replace({name:"stocks details",params:{val:e},query:{}})}catch(SJ){}await j(e[0],e[1],e[2],e[3]);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[e[0],e[1],e[2],e[3]]})),window.dispatchEvent(new CustomEvent("ssd-event",{detail:{type:e[0],token:e[1],exch:e[2],tsym:e[3]}}))}catch(SJ){}1==b.value&&(localStorage.setItem("ssdtsym",`${e[2]}:${e[3]}`),localStorage.setItem("ssdtoken",e[1]),se(e[2],e[3]))}else console.log("No valid params found, redirecting to /stocks"),n.push("/stocks");f(()=>[t.params,t.query,t.path],async([e,t,l],[o,s,i])=>{if(l&&(l.startsWith("/orders")||l.startsWith("/mutualfund")||l.startsWith("/ipos")||l.startsWith("/bonds")))return;let r=null;if(t&&t.token&&t.exch&&t.tsym&&l&&l.includes("/stocks/details"))r=[t.type||"detail",t.token,t.exch,t.tsym],localStorage.setItem("ssdParams",JSON.stringify(r)),localStorage.setItem("ssdtsym",`${t.exch}:${t.tsym}`),localStorage.setItem("ssdtoken",t.token),n.replace({name:"stocks details",params:{val:r},query:{}});else if(e&&e.val&&Array.isArray(e.val)&&e.val.length>=4)r=e.val,localStorage.setItem("ssdParams",JSON.stringify(r));else{const e=localStorage.getItem("ssdParams");if(e)try{r=JSON.parse(e)}catch(a){console.error("Error parsing stored params in watcher:",a)}}if(r&&Array.isArray(r)&&r.length>=4&&(await V(4e3),0===T.value.length||T.value[0]!==r[1]||T.value[2]!==r[3])){console.log("Route changed, loading new stock data:",r),await j(r[0],r[1],r[2],r[3]);try{window.dispatchEvent(new CustomEvent("ssd-event",{detail:[r[0],r[1],r[2],r[3]]}))}catch(SJ){}try{n.replace({name:"stocks details",params:{val:r},query:{}})}catch(SJ){}1==b.value&&se(r[2],r[3])}},{immediate:!1}),window.addEventListener("section-clicked",ae),window.addEventListener("user-event",le),window.addEventListener("ssd-event",ne),window.addEventListener("web-scoketConn",oe),window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),await N(),P.value&&document.getElementById("popdiv")&&te(document.getElementById("popdiv"))}),h(()=>{window.removeEventListener("section-clicked",ae),window.removeEventListener("user-event",le),window.removeEventListener("ssd-event",ne),window.removeEventListener("web-scoketConn",oe),I.value&&I.value.length>0&&J("unsub-D",I.value,"ssd")}),(e,t)=>(z(),R("div",null,[i("div",Y4,[d(jg,{class:"tool-sty elevation-0 pl-4",height:"40px",style:{"background-color":"white !important"},density:"compact"},{default:H(()=>[d(iB,{modelValue:b.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>b.value=e),t[1]||(t[1]=e=>D())],"show-arrows":"",density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(x.value,(e,t)=>(z(),q(YV,{key:t,value:t,class:"text-none text-start min-w-fit",style:{padding:"20px !important"},disabled:!e.tab},{default:H(()=>[i("span",G4,A(e.txt),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"]),d(zy),M.value&&"UNDIND"!=M.value.instname&&"COM"!=M.value.instname&&(1===c.value&&!m.value||1===c.value&&m.value)?(z(),q(im,{key:0,onClick:t[2]||(t[2]=e=>$("order",T.value[0],T.value[1],T.value[2],"s")),disabled:g.value,size:"small",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 fs-14",variant:"tonal",color:"red"},{default:H(()=>[...t[9]||(t[9]=[W(" Sell ",-1)])]),_:1},8,["disabled"])):ee("",!0),M.value&&"UNDIND"!=M.value.instname&&"COM"!=M.value.instname&&(1===c.value&&!m.value||1===c.value&&m.value)?(z(),q(im,{key:1,onClick:t[3]||(t[3]=e=>$("order",T.value[0],T.value[1],T.value[2],"b")),disabled:g.value,size:"small",variant:"tonal",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 fs-14",color:"green"},{default:H(()=>[...t[10]||(t[10]=[W(" Buy ",-1)])]),_:1},8,["disabled"])):ee("",!0),d(Lb,{location:"top",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[T.value&&T.value.length>0?(z(),q(im,{key:0,onClick:t[4]||(t[4]=e=>$("alert",T.value[0],T.value[1],T.value[2],"a")),disabled:g.value,icon:"",size:"small"},{default:H(()=>[...t[11]||(t[11]=[i("img",{width:"18px",src:Af},null,-1)])]),_:1},8,["disabled"])):ee("",!0)],16)]),default:H(()=>[t[12]||(t[12]=i("span",null,"Create Alert",-1))]),_:1}),d(Lb,{location:"top",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[M.value&&"UNDIND"!=M.value.instname&&"COM"!=M.value.instname?(z(),q(im,{key:0,onClick:t[5]||(t[5]=e=>$("order-GTT",T.value[0],T.value[1],T.value[2],"b")),disabled:g.value,icon:"",size:"small",class:"ml-2"},{default:H(()=>[...t[13]||(t[13]=[i("img",{width:"18px",src:Mf},null,-1)])]),_:1},8,["disabled"])):ee("",!0)],16)]),default:H(()=>[t[14]||(t[14]=i("span",null,"Create GTT / GTC",-1))]),_:1}),1==c.value?(z(),q(Lb,{key:2,location:"top",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[d(im,{onClick:t[6]||(t[6]=e=>B()),disabled:g.value,size:"small",class:"mr-2 ml-2",icon:""},{default:H(()=>[i("img",{width:"20px",src:P.value?"/src/assets/out-pip.svg":"/src/assets/to-pip.svg"},null,8,K4)]),_:1},8,["disabled"])],16)]),default:H(()=>[t[15]||(t[15]=i("span",null,"Pop Chart",-1))]),_:1})):ee("",!0),m.value&&F.value?(z(),q(Lb,{key:3,location:"top",color:"black"},{activator:H(({props:e})=>[i("div",re(ue(e)),[d(Pb,{location:"bottom",offset:"4"},{activator:H(({props:e})=>[i("div",re(ue(e)),[d(im,{disabled:g.value,size:"small",class:"mr-2",icon:""},{default:H(()=>[i("img",{width:"20px",src:`/src/assets/tv_chart_icon/${p.value}.svg`},null,8,X4)]),_:1},8,["disabled"])],16)]),default:H(()=>[d(Ib,{density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(v.value,(e,t)=>(z(),q(cb,{key:t},{append:H(()=>[d(im,{onClick:ie(t=>(e=>{c.value=e.id,p.value=e.icon})(e),["stop"]),disabled:g.value,size:"small",class:"mr-2",icon:""},{default:H(()=>[i("img",{width:"20px",src:`/src/assets/tv_chart_icon/${e.icon}.svg`},null,8,J4)]),_:2},1032,["onClick","disabled"])]),default:H(()=>[d(ub,null,{default:H(()=>[W(A(e.id),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],16)]),default:H(()=>[t[16]||(t[16]=i("span",null,[W("Multi Chart "),i("sup",null,"beta")],-1))]),_:1})):ee("",!0)]),_:1}),g.value?(z(),q(Op,{key:0,color:"primary",indeterminate:"",rounded:""})):(z(),q(my,{key:1}))]),d(ZV,{modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value=e),style:{"z-index":"0"}},{default:H(()=>[d(lB,{value:0},{default:H(()=>[x.value[0].tab?(z(),q(RQ,{key:0})):(z(),R("div",Q4,[...t[17]||(t[17]=[i("p",{class:"subtext--text"},"Loading overview...",-1)])]))]),_:1}),d(lB,{value:1},{default:H(()=>[1!=c.value?(z(),R("div",Z4,[P.value?ee("",!0):(z(),q(VJ,{key:0,currentTVChartLayoutType:c.value},null,8,["currentTVChartLayoutType"]))])):(z(),R("div",e3,[F.value?(z(),R("div",t3,[P.value?ee("",!0):(z(),q(FJ,{key:0}))])):(z(),q(hy,{key:1,class:"elevation-0",color:"transparent"},{default:H(()=>[i("div",a3,[t[19]||(t[19]=i("img",{width:"160px",src:ng},null,-1)),t[20]||(t[20]=i("br",null,null,-1)),i("span",l3,[i("b",null,A(T.value&&T.value[2]?T.value[2]:""),1),t[18]||(t[18]=W(" on Pop Chart",-1))])])]),_:1}))]))]),_:1}),d(lB,{value:2},{default:H(()=>[x.value[2].tab?(z(),q(zZ,{key:0})):(z(),R("div",n3,[...t[21]||(t[21]=[i("p",{class:"subtext--text"},"Fundamental data not available for this instrument",-1)])]))]),_:1}),d(lB,{value:3},{default:H(()=>[x.value[3].tab?(z(),q(W4,{key:0})):(z(),R("div",o3,[...t[22]||(t[22]=[i("p",{class:"subtext--text"},"Option chain not available for this instrument",-1)])]))]),_:1}),d(lB,{value:4},{default:H(()=>[I.value&&I.value.length>0?(z(),q(PV,{key:0,"disable-sort":"","hide-default-footer":"",class:"rounded-0 overflow-y-auto futtable","fixed-header":"",headers:L.value,items:I.value},{"item.tsym":H(({item:e})=>[i("td",s3,[i("span",i3,A(e.tsym),1),i("div",r3,[i("div",{onClick:t=>$("order",e.token,e.exch,e.tsym,"b"),style:{"min-width":"24px","background-color":"#43A833","border-radius":"4px"},class:"px-2 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center cursor-p"}," B",8,u3),i("div",{onClick:t=>$("order",e.token,e.exch,e.tsym,"s"),style:{"min-width":"24px","background-color":"#F23645","border-radius":"4px"},class:"px-2 pt-1 font-weight-bold white--text elevation-0 mr-1 fs-10 text-center cursor-p"}," S",8,d3),d(im,{onClick:t=>(e=>{window.dispatchEvent(new CustomEvent("addscript-wl",{detail:e}))})(e),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small",icon:""},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...t[23]||(t[23]=[W("mdi-bookmark-outline",-1)])]),_:1})]),_:1},8,["onClick"]),d(im,{onClick:t=>((e,t,a,l)=>{const o=[e,t,a,l];localStorage.setItem("ssdParams",JSON.stringify(o)),localStorage.setItem("ssdtsym",`${a}:${l}`),localStorage.setItem("ssdtoken",t),n.push({name:"stocks details",params:{val:o},query:{type:e,token:t,exch:a,tsym:l}})})("chart",e.token,e.exch,e.tsym),style:{border:"1px solid #EBEEF0"},"min-width":"20px",color:"mainbg",class:"px-0 font-weight-bold white--text elevation-0 mr-1",size:"x-small",icon:""},{default:H(()=>[d(wp,{size:"18",color:"maintext"},{default:H(()=>[...t[24]||(t[24]=[W("mdi-chart-line-variant",-1)])]),_:1})]),_:1},8,["onClick"])])])]),"item.ltp":H(({item:e})=>[i("p",c3,[i("span",{id:`futt${e.token}ltp`},A(e.ltp),9,p3),i("span",{id:`futt${e.token}chsclr`,class:r(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[i("span",{id:`futt${e.token}chs`},A(e.ch)+" ("+A(e.chp)+"%)",9,v3)],10,m3)])]),"item.vol":H(({item:e})=>[i("span",{id:`futt${e.token}vol`},A(e.vol),9,h3)]),"item.h_p":H(({item:e})=>[i("span",{class:"text-right",id:`futt${e.token}h_p`},A(e.h_p),9,f3)]),"item.l_p":H(({item:e})=>[i("span",{class:"text-right",id:`futt${e.token}l_p`},A(e.l_p),9,g3)]),"item.op":H(({item:e})=>[i("span",{class:"text-right",id:`futt${e.token}op`},A(e.op),9,y3)]),"item.cp":H(({item:e})=>[i("span",{class:"text-right",id:`futt${e.token}cp`},A(e.cp),9,b3)]),"item.ap":H(({item:e})=>[i("span",{class:"text-right",id:`futt${e.token}ap`},A(e.ap),9,x3)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...t[25]||(t[25]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Future data here yet!")],-1)])]),_:1})]),_:2},1032,["headers","items"])):(z(),R("div",w3,[i("div",_3,[i("p",k3,[t[26]||(t[26]=W(" No Future data ",-1)),t[27]||(t[27]=i("br",null,null,-1)),t[28]||(t[28]=W(" for ",-1)),i("b",null,A(T.value&&T.value[1]&&T.value[2]?`${T.value[1]}:${T.value[2]}`:""),1)])])]))]),_:1}),d(lB,{value:5},{default:H(()=>[d(Ry,{"no-gutters":"",class:"py-4"},{default:H(()=>[E.value&&Object.keys(E.value).length>0?(z(),q(ky,{key:0,cols:"12"},{default:H(()=>[t[29]||(t[29]=i("h3",{class:"font-weight-bold mb-4"},"Security Information",-1)),d(Ry,{"no-gutters":""},{default:H(()=>[(z(!0),R(u,null,U(E.value,(e,t,a)=>(z(),q(ky,{cols:"6",class:"pa-0",key:a},{default:H(()=>[d(cb,{class:"py-0"},{append:H(()=>[d(ub,{class:"subtitle-1 font-weight-bold"},{default:H(()=>[i("span",null,A(null!=e?e:"-"),1)]),_:2},1024)]),default:H(()=>[d(rb,{class:"subtitle-1 font-weight-medium"},{default:H(()=>[W(A(t),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):ee("",!0),O.value?(z(),q(ky,{key:1,cols:"12",class:"mt-4"},{default:H(()=>[d(my,{class:"mb-4"}),t[33]||(t[33]=i("h3",{class:"font-weight-bold mb-4"},"Linked Scrips",-1)),O.value.equls&&O.value.equls.length>0?(z(),R("div",S3,[t[30]||(t[30]=i("p",{class:"font-weight-bold lh-16 mb-2"},"Equity",-1)),d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(O.value.equls,(e,t)=>(z(),q(ky,{cols:"6",md:"4",key:t+e.tsym},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secgreen"},{default:H(()=>[i("p",C3,[W(A(e.tsym)+" ",1),i("span",I3,A(e.exch),1)]),i("p",E3,[i("span",T3,A(e.ltp?e.ltp:"0.00"),1),i("span",{class:r(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[i("span",null,A(e.ch?e.ch:"0.00")+" ("+A(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):ee("",!0),O.value.opt_exp&&O.value.opt_exp.length>0?(z(),R("div",N3,[d(my,{class:"my-4"}),t[31]||(t[31]=i("p",{class:"font-weight-bold lh-16 mb-2"},"Options",-1)),d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(O.value.opt_exp,(e,t)=>(z(),q(ky,{cols:"6",md:"4",key:t+e.tsym},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secbg"},{default:H(()=>[i("p",M3,[W(A(e.tsym)+" ",1),i("span",A3,A(e.exch),1)]),i("p",O3,[i("span",P3,A(e.ltp?e.ltp:"0.00"),1),i("span",{class:r(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[i("span",null,A(e.ch?e.ch:"0.00")+" ("+A(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):ee("",!0),I.value&&I.value.length>0?(z(),R("div",F3,[d(my,{class:"my-4"}),t[32]||(t[32]=i("p",{class:"font-weight-bold lh-16 mb-2"},"Futures",-1)),d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(I.value,(e,t)=>(z(),q(ky,{cols:"6",md:"4",key:t+e.tsym},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-3 px-4 mb-2",color:"secred"},{default:H(()=>[i("p",L3,[W(A(e.tsym)+" ",1),i("span",D3,A(e.exch),1)]),i("p",V3,[i("span",B3,A(e.ltp?e.ltp:"0.00"),1),i("span",{class:r(["fs-12",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"maintext--text"])},[i("span",null,A(e.ch?e.ch:"0.00")+" ("+A(e.chp?e.chp:"0.00")+"%)",1)],2)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):ee("",!0)]),_:1})):ee("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),1==c.value?(z(),R("div",{key:0,class:r([F.value?"d-none":"d-flex","rounded-lg"])},[d(cy,{id:"popdiv",width:"28%",height:"20%",class:"rounded-lg overflow-hidden pos-rlt"},{default:H(()=>[d(cy,{class:"pos-abs rounded-0 elevation-0",color:"transparent",height:"40px",width:"100%",id:"popdivheader"},{default:H(()=>[d(im,{onClick:t[8]||(t[8]=e=>B()),disabled:g.value,color:"maintext",size:"x-small",class:"mr-2 mt-2 float-right",icon:""},{default:H(()=>[d(wp,null,{default:H(()=>[...t[34]||(t[34]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),P.value?(z(),q(FJ,{key:0})):ee("",!0)]),_:1})],2)):ee("",!0)]))}},R3=zc($3,[["__scopeId","data-v-bd23936e"]]),z3=xe({divider:[Number,String],...Oe()},"VBreadcrumbsDivider"),U3=Ee()({name:"VBreadcrumbsDivider",props:z3(),setup(e,t){let{slots:a}=t;return Me(()=>{var t;return i("li",{"aria-hidden":"true",class:r(["v-breadcrumbs-divider",e.class]),style:c(e.style)},[(null==(t=null==a?void 0:a.default)?void 0:t.call(a))??e.divider])}),{}}}),q3=xe({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Oe(),...zp(),...Jc({tag:"li"})},"VBreadcrumbsItem"),H3=Ee()({name:"VBreadcrumbsItem",props:q3(),setup(e,t){let{slots:a,attrs:n}=t;const o=Rp(e,n),s=l(()=>{var t;return e.active||(null==(t=o.isActive)?void 0:t.value)}),{textColorClasses:u,textColorStyles:p}=Zc(()=>s.value?e.activeColor:e.color);return Me(()=>d(e.tag,{class:r(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},u.value,e.class]),style:c([p.value,e.style]),"aria-current":s.value?"page":void 0},{default:()=>{var t,l;return[o.isLink.value?i("a",w({class:"v-breadcrumbs-item--link",onClick:o.navigate},o.linkProps),[(null==(l=a.default)?void 0:l.call(a))??e.title]):(null==(t=a.default)?void 0:t.call(a))??e.title]}})),{}}}),j3=xe({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ue,items:{type:Array,default:()=>[]},...Oe(),...jc(),...Kc(),...Jc({tag:"ul"})},"VBreadcrumbs"),W3=Ee()({name:"VBreadcrumbs",props:j3(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:o,backgroundColorStyles:s}=ep(()=>e.bgColor),{densityClasses:p}=Wc(e),{roundedClasses:m}=Xc(e);Ne({VBreadcrumbsDivider:{divider:n(()=>e.divider)},VBreadcrumbsItem:{activeClass:n(()=>e.activeClass),activeColor:n(()=>e.activeColor),color:n(()=>e.color),disabled:n(()=>e.disabled)}});const v=l(()=>e.items.map(e=>"string"==typeof e?{item:{title:e},raw:e}:{item:e,raw:e}));return Me(()=>{const t=!(!a.prepend&&!e.icon);return d(e.tag,{class:r(["v-breadcrumbs",o.value,p.value,m.value,e.class]),style:c([s.value,e.style])},{default:()=>{var l;return[t&&i("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[a.prepend?d(fp,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},a.prepend):d(wp,{key:"prepend-icon",start:!0,icon:e.icon},null)]),v.value.map((e,t,l)=>{var n;let{item:o,raw:s}=e;return i(u,null,[(null==(n=a.item)?void 0:n.call(a,{item:o,index:t}))??d(H3,w({key:t,disabled:t>=l.length-1},"string"==typeof o?{title:o}:o),{default:a.title?()=>{var e;return null==(e=a.title)?void 0:e.call(a,{item:o,index:t})}:void 0}),t<l.length-1&&d(U3,null,{default:a.divider?()=>{var e;return null==(e=a.divider)?void 0:e.call(a,{item:s,index:t})}:void 0})])}),null==(l=a.default)?void 0:l.call(a)]}})}),{}}}),Y3={class:"subtitle-1 font-weight-bold"},G3={class:"font-weight-bold mb-0"},K3=["onClick"],X3={class:"mb-0 lh-18"},J3={class:"font-weight-medium maintext--text"},Q3=["id"],Z3=["id"],e5=["id"],t5=["id"],a5=["id"],l5=["id"],n5=["id"],o5=["id"],s5=["id"],i5={__name:"StocksIndices",setup(e){const t=Y(),n=Q(),o=Rc(),s=a([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"All indices",disabled:!0,href:"/stocks/allindices"},{text:"exch",disabled:!0,href:"/stocks/allindices?exch=NSE"}]),u=a(null),c=a(null),p=a(null),m=a(!0),v=a("NSE"),g=a(null),b=a(0),w=a({}),_=a([]),k=a([]),S=l(()=>[{text:"Index name",value:"tsym",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),C=l(()=>v.value?k.value.filter(e=>e.exch===v.value):k.value),I=async()=>{let e=await Xae();if(e&&Object.keys(e).length>0){var t=[];_.value=[],Object.entries(e).forEach(([e,a],l)=>{if(l<3)for(let n=0;n<a.length;n++)a[n]&&a[n].idxname&&t.push({exch:e,token:a[n].token,tsym:a[n].idxname}),_.value.push({tsym:a[n].idxname,token:a[n].token,pe:0,pb:0,exch:e})}),E("sub",t,"allind"),b.value=_.value.length,k.value=_.value,w.value=k.value.reduce((e,{exch:t})=>(e[t]=(e[t]||0)+1,e),{})}else b.value=0,_.value=[];m.value=!1},E=async(e,t,a)=>{if(u.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockINC"}}));else{let e=await $le(t);e=e.data;for(let t=0;t<_.value.length;t++){let a=e[_.value[t].token];a&&(_.value[t].ltp=Number(a.lp).toFixed(2),_.value[t].ch=Number(_.value[t].ltp-Number(a.close)).toFixed(2),_.value[t].chp=Number(a.change),_.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),_.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),_.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),_.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),_.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2))}}},T=e=>{const t=e.token||e.tk;if(!t)return;let a=_.value.findIndex(e=>e.token==t);if(a>=0&&_.value[a].token==t&&(_.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),_.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),_.value[a].chp=Number(e.chp||0).toFixed(2),_.value[a].vol=Number(e.volume||e.vol||0).toFixed(2),_.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),_.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),_.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),_.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`indi${t}ltp`))){document.getElementById(`indi${t}ltp`).innerHTML=_.value[a].ltp;const e=document.getElementById(`indi${t}ch`),l=document.getElementById(`indi${t}chp`),n=document.getElementById(`indi${t}chpclr`);if(e&&(e.innerHTML=_.value[a].ch),l&&(l.innerHTML=` (${_.value[a].chp}%)`),n){const e=parseFloat(_.value[a].ch)||0;n.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const o=document.getElementById(`indi${t}vol`),s=document.getElementById(`indi${t}op`),i=document.getElementById(`indi${t}cp`),r=document.getElementById(`indi${t}high`),u=document.getElementById(`indi${t}low`);o&&(o.innerHTML=_.value[a].vol),s&&(s.innerHTML=_.value[a].op),i&&(i.innerHTML=_.value[a].cp),r&&(r.innerHTML=_.value[a].high),u&&(u.innerHTML=_.value[a].low)}},N=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockINC"==a&&_.value&&_.value.length>0&&T(e)}else t&&"object"==typeof t&&"stockINC"===t.page&&(t.token||t.tk)&&T(t)},M=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(u.value||p.value||(c.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid"))),I()};return f(()=>n.query.exch,e=>{e&&["NSE","BSE","MCX"].includes(e)&&(v.value=e,s.value[2].text=e,s.value[2].href=`/stocks/allindices?exch=${e}`)},{immediate:!0}),f(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(u.value=e,c.value=t,p.value=sessionStorage.getItem("usession"),I())},{immediate:!1}),y(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(u.value||p.value||(c.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid")),I()):I(),window.addEventListener("user-event",M),window.addEventListener("web-scoketConn",N)}),h(()=>{window.removeEventListener("user-event",M),window.removeEventListener("web-scoketConn",N)}),(e,a)=>(z(),R("div",null,[d(W3,{class:"pa-0 pt-2",items:s.value},{item:H(({item:e})=>[d(H3,{class:r(e.disabled?"":"primary--text cursor-p"),onClick:a=>x(t).push(e.href),disabled:e.disabled},{default:H(()=>[W(A("exch"==e.text?v.value:e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:H(()=>[d(wp,null,{default:H(()=>[...a[3]||(a[3]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),d(jg,{flat:"",density:"compact",class:"tool-sty crd-trn"},{default:H(()=>[a[4]||(a[4]=i("span",{class:"title font-weight-bold"},"All Indices",-1)),d(zy),a[5]||(a[5]=i("div",{class:"mr-1"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16",fill:"none"},[i("path",{d:"M1.5 2.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 2.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 6.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 10.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 14.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 6.5H7.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 10.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 14.5H6.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),i("span",Y3,A(b.value)+" Indices",1)]),_:1}),a[10]||(a[10]=i("p",{class:"fs-12 subtext--text mb-10"}," Stock market indexes represent a specific group of shares selected based on criteria like trading frequency and share size. These indexes serve as a way to track market direction and changes. serve as statistical indicators that measure fluctuations in financial markets. These indices provide performance insights for specific market segments or the overall market. ",-1)),i("div",null,[d(jg,{class:"tool-sty elevation-0 mb-4 crd-trn",density:"compact"},{default:H(()=>[i("p",G3,A(v.value)+" "+A(w.value[v.value]?w.value[v.value]:"0")+" indices",1),d(zy),d(rI,{"onUpdate:modelValue":[a[0]||(a[0]=e=>(()=>{const e=[...k.value];k.value=[],setTimeout(()=>{k.value=e},1)})()),a[1]||(a[1]=e=>v.value=e)],style:{"max-width":"180px"},modelValue:v.value,"hide-details":"","append-icon":"mdi-chevron-down","prepend-inner-icon":"mdi-playlist-check",class:"rounded-pill mr-3",density:"compact",variant:"solo","bg-color":"secbg",items:["NSE","BSE","MCX"],label:"Filter"},null,8,["modelValue"]),d(Fk,{style:{"max-width":"220px"},disabled:m.value,modelValue:g.value,"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search for Indices",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg"},null,8,["disabled","modelValue"])]),_:1}),d(PV,{"must-sort":"","disable-sort":"","fixed-header":"",mobile:"",loading:m.value,class:"rounded-lg overflow-y-auto mb-6",style:{"border-radius":"4px",border:"1px solid #EBEEF0"},headers:S.value,search:g.value,items:C.value,"items-per-page":10},{"item.tsym":H(({item:e})=>[i("span",{onClick:a=>((e,a)=>{if(u.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push({name:"stocks advance decline",params:{abc:e,main:"find"}})})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},A(e.tsym),9,K3)]),"item.ltp":H(({item:e})=>[i("p",X3,[i("span",J3,[a[6]||(a[6]=W("₹",-1)),i("span",{id:`indi${e.token}ltp`},A(e.ltp?Number(e.ltp).toFixed(2):"0.00"),9,Q3)]),a[7]||(a[7]=W()),a[8]||(a[8]=i("br",null,null,-1)),i("span",{class:r(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`indi${e.token}chpclr`},[i("span",{id:`indi${e.token}ch`},A(e.ch?e.ch:"0.00"),9,e5),i("span",{id:`indi${e.token}chp`}," ("+A(e.chp?e.chp:"0.00")+"%)",9,t5)],10,Z3)])]),"item.vol":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}vol`},A(e.vol?e.vol:"0.00"),9,a5)]),"item.op":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}op`},A(e.op?e.op:"0.00"),9,l5)]),"item.cp":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}cp`},A(e.cp?e.cp:"0.00"),9,n5)]),"item.high":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}high`},A(e.high?e.high:"0.00"),9,o5)]),"item.low":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`indi${e.token}low`},A(e.low?e.low:"0.00"),9,s5)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...a[9]||(a[9]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no Indices data here yet!")],-1)])]),_:1})]),_:2},1032,["loading","headers","search","items"])])]))}},r5=zc(i5,[["__scopeId","data-v-34e9e79a"]]),u5=["src","alt"],d5={class:"font-weight-bold title mb-0 text-none"},c5=["onClick"],p5={class:"mb-0 lh-18"},m5={class:"font-weight-medium maintext--text"},v5=["id"],h5=["id"],f5=["id"],g5=["id"],y5=["id"],b5=["id"],x5=["id"],w5=["id"],_5=["id"],k5={__name:"StockMarket",setup(e){const t=Y(),n=Q(),o=Rc(),s=a([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"Markets",disabled:!0,href:"/stocks/market"},{text:"this",disabled:!0}]),u=a(null),c=a(null),p=a(null),m=a([{text:"NSE",value:"NSEALL"},{text:"NFO",value:"NFOALL"}]),v=a("NSEALL"),g=a(0),b=a([]),w=a([]),_=a(!0),k=a(null),S=a([]),C=l(()=>[{title:"Top gainer",value:0},{title:"Top losers",value:1},{title:"Volume breakout",value:2},{title:"Most active",value:3}]),I=l(()=>[{text:"Symbol",value:"tsym",sortable:!1,class:"ws-p"},{text:"Price",value:"ltp",sortable:!1,align:"end",class:"ws-p"},{text:"Open",value:"op",align:"end",class:"ws-p"},{text:"High",value:"high",align:"end",class:"ws-p"},{text:"Low",value:"low",align:"end",class:"ws-p"},{text:"Close",value:"cp",align:"end",class:"ws-p"},{text:"Volume",value:"vol",align:"end",class:"ws-p"}]),E=e=>{switch(e){case 0:return"Top gainer";case 1:return"Top losers";case 2:return"Volume breakout";case 3:return"Most active";default:return""}},T=e=>{switch(e){case 0:default:return Qf;case 1:return eg;case 2:return tg;case 3:return zf}},N=e=>{switch(e){case 0:default:return"tg";case 1:return"tl";case 2:return"vb";case 3:return"ma"}},M=()=>{b.value=[],setTimeout(()=>{w.value&&w.value.length>g.value&&(b.value=w.value[g.value]||[])},1),s.value[2].text=E(g.value)},O=async e=>{"yes"==e&&P("unsub-D",S.value,"mkt"),w.value=[],b.value=[],_.value=!0;let t=await Jae(["NSEALL"==v.value?"NSE":"NFO",v.value,"mostActive"]),a=await Jae(["NSEALL"==v.value?"NSE":"NFO",v.value,"topG_L"]);if("Ok"==t.stat&&"Ok"==a.stat){w.value.push(a.topGainers),w.value.push(a.topLosers),w.value.push(t.byVolume),w.value.push(t.byValue);let e=w.value[0].concat(w.value[1].concat(w.value[2].concat(w.value[3])));P("sub",e,"mkt"),S.value=e,b.value=w.value[g.value]||[]}_.value=!1},P=async(e,t,a)=>{if(u.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockMKT"}}));else{let e=await $le(t);if(e=e.data,e){for(let t=0;t<w.value.length;t++)for(let a=0;a<w.value[t].length;a++){let l=e[w.value[t][a].token];l&&(w.value[t][a].ltp=Number(l.lp)?Number(l.lp).toFixed(2):(0).toFixed(2),w.value[t][a].ch=Number(l.lp)&&Number(l.close)?(Number(l.lp)-Number(l.close)).toFixed(2):(0).toFixed(2),w.value[t][a].chp=Number(l.change).toFixed(2),w.value[t][a].vol=Number(l.vol).toFixed(2),w.value[t][a].op=Number(l.open)?Number(l.open).toFixed(2):(0).toFixed(2),w.value[t][a].cp=Number(l.close)?Number(l.close).toFixed(2):(0).toFixed(2),w.value[t][a].high=Number(l.high)?Number(l.high).toFixed(2):(0).toFixed(2),w.value[t][a].low=Number(l.low)?Number(l.low).toFixed(2):(0).toFixed(2))}w.value&&w.value.length>g.value&&(b.value=w.value[g.value]||[])}}},F=e=>{var t,a,l,n;const o=e.token||e.tk;if(!o)return;let s=(null==(t=w.value[0])?void 0:t.findIndex(e=>e.token==o))??-1,i=(null==(a=w.value[1])?void 0:a.findIndex(e=>e.token==o))??-1,r=(null==(l=w.value[2])?void 0:l.findIndex(e=>e.token==o))??-1,u=(null==(n=w.value[3])?void 0:n.findIndex(e=>e.token==o))??-1;if(s>=0||i>=0||r>=0||u>=0){for(let t=0;t<w.value.length;t++){let a=0==t&&s>=0?s:1==t&&i>=0?i:2==t&&r>=0?r:3==t&&u>=0?u:null;if(a>=0&&w.value[t]&&w.value[t][a]&&w.value[t][a].token==o&&(w.value[t][a].ltp=Number(e.lp||e.ltp||0).toFixed(2),w.value[t][a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),w.value[t][a].chp=Number(e.chp||0).toFixed(2),w.value[t][a].vol=Number(e.volume||e.vol||0),w.value[t][a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),w.value[t][a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),w.value[t][a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),w.value[t][a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`stkmrk${o}ltp`))){document.getElementById(`stkmrk${o}ltp`).innerHTML=w.value[t][a].ltp;const e=document.getElementById(`stkmrk${o}ch`),l=document.getElementById(`stkmrk${o}chp`),n=document.getElementById(`stkmrk${o}chpclr`);if(e&&(e.innerHTML=w.value[t][a].ch),l&&(l.innerHTML=` (${w.value[t][a].chp}%)`),n){const e=parseFloat(w.value[t][a].ch)||0;n.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const s=document.getElementById(`stkmrk${o}vol`),i=document.getElementById(`stkmrk${o}op`),r=document.getElementById(`stkmrk${o}cp`),u=document.getElementById(`stkmrk${o}high`),d=document.getElementById(`stkmrk${o}low`);s&&(s.innerHTML=w.value[t][a].vol),i&&(i.innerHTML=w.value[t][a].op),r&&(r.innerHTML=w.value[t][a].cp),u&&(u.innerHTML=w.value[t][a].high),d&&(d.innerHTML=w.value[t][a].low)}}w.value&&w.value.length>g.value&&(b.value=w.value[g.value]||[])}},L=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockMKT"==a&&w.value&&4==w.value.length&&F(e)}else t&&"object"==typeof t&&"stockMKT"===t.page&&(t.token||t.tk)&&F(t)},D=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(u.value||p.value||(c.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid"))),O()};return f(()=>n.params.abc,e=>{void 0!==e&&!isNaN(e)&&e>=0&&e<=3&&(g.value=parseInt(e),M())},{immediate:!0}),f(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(u.value=e,c.value=t,p.value=sessionStorage.getItem("usession"),O())},{immediate:!1}),y(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),void 0!==n.params.abc&&!isNaN(n.params.abc)&&n.params.abc>=0&&n.params.abc<=3&&(g.value=parseInt(n.params.abc)),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(u.value||p.value||(c.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid")),O()):O(),window.addEventListener("user-event",D),window.addEventListener("web-scoketConn",L)}),h(()=>{window.removeEventListener("user-event",D),window.removeEventListener("web-scoketConn",L)}),(e,a)=>(z(),R("div",null,[d(W3,{class:"pa-0 pt-2",items:s.value},{item:H(({item:e})=>[d(H3,{class:r(e.disabled?"":"primary--text cursor-p"),onClick:a=>x(t).push(e.href),disabled:e.disabled},{default:H(()=>[W(A("this"==e.text?E(g.value):e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:H(()=>[d(wp,null,{default:H(()=>[...a[7]||(a[7]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),d(cy,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8 crd-trn"},{default:H(()=>[d(jg,{class:"elevation-0 mb-4 mb-sm-2 my-4",density:"compact",color:"transparent"},{default:H(()=>[i("img",{width:"40px",src:T(g.value),alt:N(g.value),class:"mr-2"},null,8,u5),i("p",d5,A(E(g.value)),1),d(zy),d(rI,{"onUpdate:modelValue":[a[0]||(a[0]=e=>O("yes")),a[1]||(a[1]=e=>v.value=e)],readonly:_.value,style:{"max-width":"140px"},modelValue:v.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill mr-3 d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg",items:m.value,label:"Condition"},null,8,["readonly","modelValue","items"]),d(rI,{"onUpdate:modelValue":[a[2]||(a[2]=e=>M()),a[3]||(a[3]=e=>g.value=e)],readonly:_.value,style:{"max-width":"120px"},modelValue:g.value,"hide-details":"","append-icon":"mdi-chevron-down",class:"rounded-pill d-sm-none",density:"compact",variant:"solo","bg-color":"secbg",items:C.value},null,8,["readonly","modelValue","items"]),d(Fk,{style:{"max-width":"220px"},disabled:_.value,modelValue:k.value,"onUpdate:modelValue":a[4]||(a[4]=e=>k.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"rounded-pill d-none d-sm-flex",density:"compact",variant:"solo","bg-color":"secbg"},null,8,["disabled","modelValue"])]),_:1}),d(iB,{class:"d-none d-sm-flex",color:"maintext",modelValue:g.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>g.value=e),a[6]||(a[6]=e=>M())]},{default:H(()=>[d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[...a[8]||(a[8]=[W("Top gainer",-1)])]),_:1}),d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[...a[9]||(a[9]=[W("Top losers",-1)])]),_:1}),d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[...a[10]||(a[10]=[W("Volume breakout",-1)])]),_:1}),d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[...a[11]||(a[11]=[W("Most active",-1)])]),_:1})]),_:1},8,["modelValue"]),d(my),d(PV,{"must-sort":"","sort-by":[2==g.value?"vol":"chp"],"sort-desc":1!=g.value?[!0]:[!1],mobile:"","fixed-header":"",loading:_.value,class:"rounded-lg overflow-y-auto",headers:I.value,search:k.value,items:b.value,"items-per-page":10},{"item.tsym":H(({item:e})=>[i("span",{onClick:a=>((e,a)=>{if(u.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p"},A(e.tsym),9,c5)]),"item.ltp":H(({item:e})=>[i("p",p5,[i("span",m5,[a[12]||(a[12]=W("₹",-1)),i("span",{id:`stkmrk${e.token}ltp`},A(e.ltp?Number(e.ltp).toFixed(2):"0.00"),9,v5)]),a[13]||(a[13]=W()),a[14]||(a[14]=i("br",null,null,-1)),i("span",{class:r(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`stkmrk${e.token}chpclr`},[i("span",{id:`stkmrk${e.token}ch`},A(e.ch?e.ch:"0.00"),9,f5),i("span",{id:`stkmrk${e.token}chp`}," ("+A(e.chp?e.chp:"0.00")+"%)",9,g5)],10,h5)])]),"item.vol":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}vol`},A(e.vol?e.vol:"0.00"),9,y5)]),"item.op":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}op`},A(e.op?e.op:"0.00"),9,b5)]),"item.cp":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}cp`},A(e.cp?e.cp:"0.00"),9,x5)]),"item.high":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}high`},A(e.high?e.high:"0.00"),9,w5)]),"item.low":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text",id:`stkmrk${e.token}low`},A(e.low?e.low:"0.00"),9,_5)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[...a[15]||(a[15]=[i("div",{class:"mx-auto"},[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:wf,alt:"no data"}),i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!")],-1)])]),_:1})]),_:2},1032,["sort-by","sort-desc","loading","headers","search","items"])]),_:1})]))}},S5=zc(k5,[["__scopeId","data-v-6382319a"]]),C5=["src"],I5=["onClick","textContent"],E5={class:"mb-0 lh-18"},T5={key:0,class:"d-none"},N5={class:"font-weight-medium maintext--text black--text"},M5=["id","textContent"],A5=["id"],O5=["id","textContent"],P5=["id","textContent"],F5={class:"font-weight-medium maintext--text black--text"},L5=["id"],D5=["id"],V5=["id"],B5=["id"],$5=["src"],R5={__name:"StockScreener",setup(e){const t=Y(),n=Rc(),o=a([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"Screener",disabled:!0,href:"/stocks/screener"},{text:"this",disabled:!0}]),s=a(null),u=a(null),p=a(null),m=a([{text:"Volume & Price Up",value:"VolUpPriceUp"},{text:"Volume & Price Down",value:"VolUpPriceDown"},{text:"Weekly Volume Perc",value:"WeeklyVolPerc"},{text:"Weekly Volume Perc Potential",value:"WeeklyVolPercPotential"},{text:"2Day Price Perc Up",value:"2DayPricePercUp"},{text:"2Day Price Perc Down",value:"2DayPricePercDown"},{text:"Upper Circuit",value:"UpperCircuit"},{text:"Lower Circuit",value:"LowerCircuit"},{text:"Open High",value:"OpenHigh"},{text:"Open Low",value:"OpenLow"},{text:"High Break",value:"HighBreak"},{text:"Low Break",value:"LowBreak"},{text:"Weekly High Break",value:"W1HighBreak"},{text:"Weekly Low Break",value:"W1LowBreak"},{text:"2 Weeks High Break",value:"W2HighBreak"},{text:"2 Weeks Low Break",value:"W2LowBreak"},{text:"Monthly High Break",value:"M1HighBreak"},{text:"Monthly Low Break",value:"M1LowBreak"},{text:"3 Months High Break",value:"M3HighBreak"},{text:"3 Months Low Break",value:"M3LowBreak"},{text:"52 Weeks High Break",value:"W52HighBreak"},{text:"52 Weeks Low Break",value:"W52LowBreak"},{text:"R3 Break",value:"R3Break"},{text:"R2 Break",value:"R2Break"},{text:"R1 Break",value:"R1Break"},{text:"Pivot Break",value:"PivotBreak"},{text:"S1 Break",value:"S1Break"},{text:"S2 Break",value:"S2Break"},{text:"S3 Break",value:"S3Break"}]),v=a("VolUpPriceUp"),g=a([{text:"All",value:"A"},{text:"Nifty 50",value:"NIFTY50"},{text:"Nifty 500",value:"NIFTY500"},{text:"Nifty MIDCAP 50",value:"NIFTYMCAP50"},{text:"Nifty SMLCAP 50",value:"NIFTYSMCAP50"}]),b=a("A"),w=a([]),_=a(!0),k=a(null),S=l(()=>[{title:"Symbol",key:"tsym",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"},{title:"Open",key:"op",align:"end",class:"ws-p"},{title:"High",key:"high",align:"end",class:"ws-p"},{title:"Low",key:"low",align:"end",class:"ws-p"},{title:"Close",key:"cp",align:"end",class:"ws-p"},{title:"Volume",key:"vol",align:"end",class:"ws-p"}]),C=(e,t,a)=>{let l=w.value.findIndex(e=>e.token==t.token);l>=0&&(w.value[l].ch=Number(t.lp)&&Number(t.c)?(Number(t.lp)-Number(t.c)).toFixed(2):(0).toFixed(2),w.value[l].chp=Number(t.ch)&&Number(t.lp)?(Number(t.ch)/Number(t.lp)*100).toFixed(2):(0).toFixed(2))},I=async e=>{"yes"==e&&E("unsub-D",w.value,"sc"),_.value=!0;let t=await Qae(["NSE",b.value,v.value]);t&&t.length>0?(w.value=t,E("sub",t,"sc")):w.value=[],_.value=!1},E=async(e,t,a)=>{if(s.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockSCR"}}));else{let e=await $le(t);if(e=e.data,e)for(let t=0;t<w.value.length;t++){let a=e[w.value[t].token];a&&(w.value[t].lp=Number(a.lp).toFixed(2),w.value[t].ch=Number(a.lp)&&Number(a.close)?(Number(a.lp)-Number(a.close)).toFixed(2):(0).toFixed(2),w.value[t].chp=Number(a.change).toFixed(2),w.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),w.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),w.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),w.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),w.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2))}}},T=e=>{const t=e.token||e.tk;if(!t)return;let a=w.value.findIndex(e=>e.token==t);if(a>=0&&w.value[a].token==t&&(w.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),w.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),w.value[a].chp=Number(e.chp||0).toFixed(2),w.value[a].vol=Number(e.volume||e.vol||0),w.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),w.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),w.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),w.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`ssdsc${t}ltp`))){document.getElementById(`ssdsc${t}ltp`).innerHTML=w.value[a].ltp;const e=document.getElementById(`ssdsc${t}ch`),l=document.getElementById(`ssdsc${t}chp`),n=document.getElementById(`ssdsc${t}chpclr`);if(e&&(e.innerHTML=w.value[a].ch),l&&(l.innerHTML=` (${w.value[a].chp}%)`),n){const e=parseFloat(w.value[a].ch)||0;n.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const o=document.getElementById(`ssdsc${t}op`),s=document.getElementById(`ssdsc${t}cp`),i=document.getElementById(`ssdsc${t}high`),r=document.getElementById(`ssdsc${t}low`);o&&(o.innerHTML=w.value[a].op),s&&(s.innerHTML=w.value[a].cp),i&&(i.innerHTML=w.value[a].high),r&&(r.innerHTML=w.value[a].low)}},N=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockSCR"==a&&w.value&&Array.isArray(w.value)&&T(e)}else t&&"object"==typeof t&&"stockSCR"===t.page&&(t.token||t.tk)&&T(t)},M=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(s.value||p.value||(u.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),s.value=sessionStorage.getItem("userid"))),I()};return f(()=>v.value,e=>{const t=m.value.find(t=>t.value===e);t&&(o.value[2].text=t.text)},{immediate:!0}),f(()=>[n.uid,n.mtoken],([e,t])=>{e&&t&&(s.value=e,u.value=t,p.value=sessionStorage.getItem("usession"),I())},{immediate:!1}),y(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(s.value||p.value||(u.value=sessionStorage.getItem("msession"),p.value=sessionStorage.getItem("usession"),s.value=sessionStorage.getItem("userid")),I()):I(),window.addEventListener("user-event",M),window.addEventListener("web-scoketConn",N)}),h(()=>{window.removeEventListener("user-event",M),window.removeEventListener("web-scoketConn",N)}),(e,a)=>(z(),R("div",null,[d(W3,{class:"pa-0 pt-2",items:o.value},{item:H(({item:e})=>[d(H3,{class:r(e.disabled?"":"primary--text cursor-p"),onClick:a=>x(t).push(e.href),disabled:e.disabled},{default:H(()=>[W(A("this"==e.text?v.value:e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:H(()=>[d(wp,null,{default:H(()=>[...a[8]||(a[8]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),d(cy,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8",color:"cardbg"},{default:H(()=>[d(jg,{ref:"smcp",id:"smcp",class:"elevation-0 my-4 px-3",density:"compact",color:"transparent"},{default:H(()=>[i("img",{width:"40px",src:x(Jf),alt:"srcm",class:"mr-2"},null,8,C5),a[9]||(a[9]=i("p",{class:"title font-weight-bold mb-0",style:{color:"black"}},"Stock monitor",-1)),d(zy),d(Ry,{class:"d-flex align-center justify-end px-4","no-gutters":""},{default:H(()=>[d(rI,{modelValue:v.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>v.value=e),a[1]||(a[1]=e=>I("yes"))],items:m.value,"item-title":"text","item-value":"value",variant:"flat",density:"compact","hide-details":"","menu-icon":"mdi-chevron-down",readonly:_.value,class:"rounded-pill d-none d-sm-flex align-center text-center mr-3",style:{"max-width":"180px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","text-align":"center","border-radius":"9999px",display:"flex","align-items":"center","justify-content":"center","margin-top":"0 !important","padding-top":"0 !important"}},null,8,["modelValue","items","readonly"]),d(rI,{modelValue:b.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>b.value=e),a[3]||(a[3]=e=>I("yes"))],items:g.value,"item-title":"text","item-value":"value",variant:"flat",density:"compact","hide-details":"","menu-icon":"mdi-chevron-down",readonly:_.value,class:"rounded-pill d-none d-sm-flex align-center text-center",style:{"max-width":"140px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","text-align":"center","border-radius":"9999px",display:"flex","align-items":"center","justify-content":"center","margin-top":"0 !important","padding-top":"0 !important"}},null,8,["modelValue","items","readonly"])]),_:1})]),_:1},512),d(jg,{class:"elevation-0 my-4 d-sm-none px-3",density:"compact",color:"transparent"},{default:H(()=>[d(rI,{modelValue:v.value,"onUpdate:modelValue":[a[4]||(a[4]=e=>v.value=e),a[5]||(a[5]=e=>I("yes"))],items:m.value,"item-title":"text","item-value":"value",variant:"plain",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",readonly:_.value,class:"rounded-pill mr-1",style:{height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","border-radius":"9999px"}},null,8,["modelValue","items","readonly"]),d(rI,{modelValue:b.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>b.value=e),a[7]||(a[7]=e=>I("yes"))],items:g.value,"item-title":"text","item-value":"value",variant:"plain",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",readonly:_.value,class:"rounded-pill ml-1",style:{height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px",padding:"0 15px","border-radius":"9999px"}},null,8,["modelValue","items","readonly"])]),_:1}),d(my),d(PV,{"must-sort":"","sort-by":["chp"],"sort-desc":[!0],"hide-default-footer":"","fixed-header":"",loading:_.value,class:"rounded-lg overflow-y-auto",headers:S.value,search:k.value,items:w.value,"items-per-page":10},{"item.tsym":H(({item:e})=>[i("span",{onClick:a=>((e,a)=>{if(s.value){let e=[0,a.token,a.exch,a.tsym];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.tsym.split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p",style:{"font-size":"12px !important"},textContent:A(e.tsym)},null,8,I5)]),"item.ltp":H(({item:e})=>[i("p",E5,[s.value?ee("",!0):(z(),R("span",T5,A(C(0,e)),1)),i("span",N5,[a[10]||(a[10]=W("₹",-1)),i("span",{id:`ssdsc${e.token}ltp`,textContent:A(e.lp?Number(e.lp).toFixed(2):"0.00")},null,8,M5)]),a[11]||(a[11]=W()),a[12]||(a[12]=i("br",null,null,-1)),i("span",{class:r(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`ssdsc${e.token}chpclr`,style:c({color:e.ch>0?"#43A833":e.ch<0?"#FF0000":"#666666"})},[i("span",{id:`ssdsc${e.token}ch`,textContent:A(e.ch?e.ch:"0.00")},null,8,O5),i("span",{id:`ssdsc${e.token}chp`,textContent:A(` (${e.chp?e.chp:"0.00"}%)`)},null,8,P5)],14,A5)])]),"item.vol":H(({item:e})=>[i("span",F5,A(e.v?e.v:"0.00"),1)]),"item.op":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}op`},A(e.ap?e.ap:"0.00"),9,L5)]),"item.cp":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}cp`},A(e.c?e.c:"0.00"),9,D5)]),"item.high":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}high`},A(e.h?e.h:"0.00"),9,V5)]),"item.low":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`ssdsc${e.token}low`},A(e.l?e.l:"0.00"),9,B5)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[i("div",null,[i("img",{width:"80px",src:x(wf),alt:"no data"},null,8,$5),a[13]||(a[13]=i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])]),_:1})]),_:2},1032,["loading","headers","search","items"]),d(my)]),_:1})]))}},z5=zc(R5,[["__scopeId","data-v-7b5bb619"]]),U5={class:"title font-weight-bold mb-0",style:{color:"black !important"}},q5={class:"caption subtext--text font-weight-bold"},H5={class:"fs-14 maintext--text font-weight-medium mb-0 lh-16"},j5=["id"],W5=["id"],Y5=["id"],G5=["id"],K5={class:"d-flex align-center justify-end d-none d-sm-flex",style:{gap:"12px"}},X5={class:"d-flex align-center",style:{gap:"8px",width:"100%"}},J5={class:"px-4"},Q5={key:0,class:"mb-0 lh-16 mt-2 subtitle-2"},Z5={key:0,class:"mb-0 lh-16 mt-2 subtitle-2 text-right"},e6={class:"mb-0 lh-16"},t6=["onClick"],a6={class:"caption subtext--text ws-p"},l6={class:"mb-0 lh-18"},n6={class:"font-weight-medium maintext--text black--text"},o6=["id","textContent"],s6=["id"],i6=["id","textContent"],r6=["id","textContent"],u6=["id"],d6=["id"],c6=["id"],p6=["id"],m6=["id"],v6=["src"],h6={__name:"StockAD",setup(e){const t=Y(),n=Q(),o=Rc(),s=a([{text:"Stocks",disabled:!1,href:"/stocks"},{text:"sec",disabled:!0,href:"/stocks/advance_decline"},{text:"Advance & Decline",disabled:!0,href:"/stocks/advance_decline"},{text:"thisi",disabled:!0},{text:"this",disabled:!0}]),u=a(null),p=a(null),m=a(null),v=a("Nifty-Indices"),g=a("NIFTY 50"),b=a({}),w=a({});a([]);const _=a([]),k=a({}),S=a(null),C=a(!0),I=a(null),E=a([]),T=l(()=>[{title:"Symbol",key:"SYMBOL",sortable:!1,class:"ws-p"},{title:"Price",key:"ltp",sortable:!1,align:"end",class:"ws-p"},{title:"Open",key:"op",align:"end",class:"ws-p"},{title:"High",key:"high",align:"end",class:"ws-p"},{title:"Low",key:"low",align:"end",class:"ws-p"},{title:"Close",key:"cp",align:"end",class:"ws-p"},{title:"Volume",key:"vol",align:"end",class:"ws-p"}]),N=l(()=>{var e;return Array.isArray(v.value)?v.value[0]:"object"==typeof v.value&&(null==(e=v.value)?void 0:e.title)?v.value.title:v.value}),M=l(()=>Object.entries(k.value).map(([e,t])=>({title:e,value:e}))),O=l(()=>{const e=N.value;return e&&k.value[e]?k.value[e].map(e=>({title:"string"==typeof e?e:e.name||e,value:"string"==typeof e?e:e.name||e})):[]}),P=async()=>{C.value=!0;let e=await ele();Object.entries(e).length>0&&(k.value=e);let t=await Zae();t&&500!=t?(w.value=t,delete w.value.Company,F()):C.value=!1},F=async e=>{var t;const a=N.value;if("main"==e&&k.value[a]&&k.value[a].length>0){const e=k.value[a][0];g.value="string"==typeof e?e:e.name||e}const l="string"==typeof g.value?g.value:(null==(t=g.value)?void 0:t.name)||g.value||"";if(w.value[l]){"yes"==e&&D("unsub-D",E.value,"ta"),C.value=!0,_.value=[],b.value={};let t=await ele(l);if(b.value=L(w.value[l]),t&&t.length>0){_.value=t;let e=[];t.forEach(t=>{e.push({exch:t.SYMBOL.split(":")[0],token:t.Token,tsym:t.SYMBOL.split(":")[1]})}),b.value.token&&e.push({exch:"NSE",token:b.value.token,tsym:l}),D("sub",e,"ta"),E.value=e}Object.entries(k.value).forEach(([e,t])=>{for(let n=0;n<t.length;n++)if(("string"==typeof t[n]?t[n]:t[n].name||t[n])===l){S.value=e,s.value[1].text=e,s.value[3].text=a||e,s.value[4].text=l;break}}),C.value=!1}},L=e=>{if(!e)return{};const t={...e};return t.sum=(e.Negative||0)+(e.Neutral||0)+(e.Positive||0),t.adp=t.sum>0?`${Math.round(e.Positive/t.sum*100)}%`:"0%",t.adm=t.sum>0?`${Math.round(e.Negative/t.sum*100)}%`:"0%",t.adn=t.sum>0?`${Math.round(e.Neutral/t.sum*100)}%`:"0%",t},D=async(e,t,a)=>{if(u.value)window.dispatchEvent(new CustomEvent("web-scoketOn",{detail:{flow:e,data:t,is:a,page:"stockAD"}}));else{let e=await $le(t);if(e=e.data,e){for(let t=0;t<_.value.length;t++){let a=e[_.value[t].Token];a&&(_.value[t].ltp=Number(a.lp).toFixed(2),_.value[t].ch=Number(_.value[t].ltp-Number(a.close)).toFixed(2),_.value[t].chp=Number(a.change),_.value[t].vol=a.vol?Number(a.vol).toFixed(2):(0).toFixed(2),_.value[t].op=Number(a.open)?Number(a.open).toFixed(2):(0).toFixed(2),_.value[t].cp=Number(a.close)?Number(a.close).toFixed(2):(0).toFixed(2),_.value[t].high=Number(a.high)?Number(a.high).toFixed(2):(0).toFixed(2),_.value[t].low=Number(a.low)?Number(a.low).toFixed(2):(0).toFixed(2),_.value[t].oi=a.oi?Number(a.oi).toFixed(2):(0).toFixed(2))}if(b.value.token){let t=e[b.value.token];t&&(b.value.ltp=Number(t.lp).toFixed(2),b.value.ch=Number(b.value.ltp-Number(t.close)).toFixed(2),b.value.chp=Number(t.change))}}}},V=e=>{const t=e.token||e.tk;if(!t)return;let a=_.value.findIndex(e=>e.Token==t);if(a>=0&&_.value[a].Token==t&&(_.value[a].ltp=Number(e.lp||e.ltp||0).toFixed(2),_.value[a].ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),_.value[a].chp=Number(e.chp||0).toFixed(2),_.value[a].vol=Number(e.volume||e.vol||0),_.value[a].op=Number(e.open_price||e.open||0)?Number(e.open_price||e.open||0).toFixed(2):(0).toFixed(2),_.value[a].cp=Number(e.prev_close_price||e.close||0)?Number(e.prev_close_price||e.close||0).toFixed(2):(0).toFixed(2),_.value[a].high=Number(e.high_price||e.high||0)?Number(e.high_price||e.high||0).toFixed(2):(0).toFixed(2),_.value[a].low=Number(e.low_price||e.low||0)?Number(e.low_price||e.low||0).toFixed(2):(0).toFixed(2),document.getElementById(`avddec${t}ltp`))){document.getElementById(`avddec${t}ltp`).innerHTML=_.value[a].ltp;const e=document.getElementById(`avddec${t}ch`),l=document.getElementById(`avddec${t}chp`),n=document.getElementById(`avddec${t}chpclr`);if(e&&(e.innerHTML=_.value[a].ch),l&&(l.innerHTML=` (${_.value[a].chp}%)`),n){const e=parseFloat(_.value[a].ch)||0;n.className=e>0?"font-weight-medium fs-12 ws-p maingreen--text":e<0?"font-weight-medium fs-12 ws-p mainred--text":"font-weight-medium fs-12 ws-p subtext--text"}const o=document.getElementById(`avddec${t}vol`),s=document.getElementById(`avddec${t}op`),i=document.getElementById(`avddec${t}cp`),r=document.getElementById(`avddec${t}high`),u=document.getElementById(`avddec${t}low`);o&&(o.innerHTML=_.value[a].vol),s&&(s.innerHTML=_.value[a].op),i&&(i.innerHTML=_.value[a].cp),r&&(r.innerHTML=_.value[a].high),u&&(u.innerHTML=_.value[a].low)}if(b.value.token==t&&(b.value.ltp=Number(e.lp||e.ltp||0).toFixed(2),b.value.ch=Number(e.ch||e.c||0)>0||Number(e.ch||e.c||0)<0?Number(e.ch||e.c||0).toFixed(2):(0).toFixed(2),b.value.chp=Number(e.chp||0).toFixed(2),document.getElementById(`savddec${t}ltp`))){document.getElementById(`savddec${t}ltp`).innerHTML=b.value.ltp;const e=document.getElementById(`savddec${t}ch`),a=document.getElementById(`savddec${t}chp`),l=document.getElementById(`savddec${t}chpclr`);if(e&&(e.innerHTML=b.value.ch),a&&(a.innerHTML=` (${b.value.chp}%)`),l){const e=parseFloat(b.value.ch)||0;l.className=e>0?"fs-12 maingreen--text":e<0?"fs-12 mainred--text":"fs-12 subtext--text"}}},B=e=>{const{detail:t}=e;if(Array.isArray(t)&&t.length>=2){const[e,a]=t;"stockAD"==a&&_.value&&Array.isArray(_.value)&&V(e)}else t&&"object"==typeof t&&"stockAD"===t.page&&(t.token||t.tk)&&V(t)},$=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(u.value||m.value||(p.value=sessionStorage.getItem("msession"),m.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid"))),P()};return f(()=>n.params,e=>{e.abc&&("find"==e.main?v.value="find":"Sectors"==e.main?v.value="Sectoral-Indices":"Thematic"==e.main&&(v.value="Thematic-Indices"),g.value=e.abc,s.value[1].text=e.main||"sec",s.value[3].text=v.value,s.value[4].text=e.abc)},{immediate:!0}),f(()=>v.value,e=>{s.value[3].text=e?e.split("-")[0]:"thisi"}),f(()=>[o.uid,o.mtoken],([e,t])=>{e&&t&&(u.value=e,p.value=t,m.value=sessionStorage.getItem("usession"),P())},{immediate:!1}),y(()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),n.params.abc&&("find"==n.params.main?v.value="find":"Sectors"==n.params.main?v.value="Sectoral-Indices":"Thematic"==n.params.main&&(v.value="Thematic-Indices"),g.value=n.params.abc,s.value[1].text=n.params.main||"sec",s.value[3].text=v.value,s.value[4].text=n.params.abc),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(u.value||m.value||(p.value=sessionStorage.getItem("msession"),m.value=sessionStorage.getItem("usession"),u.value=sessionStorage.getItem("userid")),P()):P(),window.addEventListener("user-event",$),window.addEventListener("web-scoketConn",B)}),h(()=>{window.removeEventListener("user-event",$),window.removeEventListener("web-scoketConn",B)}),(e,a)=>(z(),R("div",null,[d(W3,{class:"pa-0 pt-2",items:s.value},{item:H(({item:e})=>[d(H3,{class:r(e.disabled?"":"primary--text cursor-p"),onClick:a=>x(t).push(e.href),disabled:e.disabled},{default:H(()=>[W(A("thisi"==e.text?v.value?v.value.split("-")[0]:"":"this"==e.text?g.value:"sec"==e.text?S.value?S.value.split("-")[0]:"Indices":e.text),1)]),_:2},1032,["class","onClick","disabled"])]),divider:H(()=>[d(wp,null,{default:H(()=>[...a[11]||(a[11]=[W("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"]),d(cy,{style:{border:"thin solid #EBEEF0 !important"},variant:"outlined",class:"rounded-lg mt-4 mb-8",color:"cardbg"},{default:H(()=>[d(jg,{ref:"adcp",id:"adcp",class:"elevation-0 my-4 px-3",density:"compact",color:"transparent"},{default:H(()=>[i("div",null,[i("p",U5,[W(A(g.value?g.value.split("-")[0]:"")+" ",1),i("span",q5,"("+A(b.value.sum?b.value.sum:"..")+")",1)]),i("p",H5,[i("span",{id:`savddec${b.value.token}ltp`,class:"black--text"},A(b.value.ltp?b.value.ltp:"0.00"),9,j5),a[12]||(a[12]=W("  ",-1)),i("span",{class:r(["fs-12",b.value.ch>0?"maingreen--text":b.value.ch<0?"mainred--text":"subtext--text"]),id:`savddec${b.value.token}chpclr`,style:c({color:b.value.ch>0?"green":b.value.ch<0?"red":"gray"})},[i("span",{id:`savddec${b.value.token}ch`},A(b.value.ch?b.value.ch:"0.00"),9,Y5),i("span",{id:`savddec${b.value.token}chp`}," ("+A(b.value.chp?b.value.chp:"0.00")+"%)",9,G5)],14,W5)])]),d(zy),i("div",K5,[d(rI,{modelValue:v.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>v.value=e),a[1]||(a[1]=e=>F("main"))],readonly:C.value,items:M.value,"item-title":"title","item-value":"value","hide-details":"","menu-icon":"mdi-chevron-down",variant:"flat",density:"compact",class:"rounded-pill align-center elevation-0",style:{"max-width":"180px","min-width":"140px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px","border-radius":"9999px",overflow:"hidden","margin-top":"0 !important","padding-top":"0 !important","align-self":"center"}},null,8,["modelValue","readonly","items"]),d(QE,{modelValue:g.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>g.value=e),a[3]||(a[3]=e=>F("yes"))],readonly:C.value,items:O.value,"item-title":"title","item-value":"value","hide-details":"","menu-icon":"mdi-chevron-down",density:"compact",variant:"flat",class:"rounded-pill align-center",style:{"max-width":"180px","min-width":"140px",height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px","border-radius":"9999px","margin-top":"0 !important","padding-top":"0 !important"}},null,8,["modelValue","readonly","items"]),d(Fk,{modelValue:I.value,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value=e),disabled:C.value,variant:"solo",density:"compact","prepend-inner-icon":"mdi-magnify",placeholder:"Search","hide-details":"",rounded:"pill",flat:"","bg-color":"secbg",class:"search-bar mx-auto",style:{transition:"width 0.3s ease"},onFocus:a[5]||(a[5]=t=>e.focused=!0),onBlur:a[6]||(a[6]=t=>e.focused=!1)},null,8,["modelValue","disabled"])])]),_:1},512),d(jg,{class:"elevation-0 my-4 d-sm-none px-3",density:"compact",color:"transparent"},{default:H(()=>[i("div",X5,[d(rI,{"onUpdate:modelValue":[a[7]||(a[7]=e=>F("main")),a[8]||(a[8]=e=>v.value=e)],readonly:C.value,modelValue:v.value,variant:"plain",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",class:"rounded-pill flex-grow-1",items:M.value,"item-title":"title","item-value":"value",style:{height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px","border-radius":"9999px"}},null,8,["readonly","modelValue","items"]),d(QE,{"onUpdate:modelValue":[a[9]||(a[9]=e=>F("yes")),a[10]||(a[10]=e=>g.value=e)],readonly:C.value,modelValue:g.value,variant:"plain",density:"comfortable","hide-details":"","menu-icon":"mdi-chevron-down",class:"rounded-pill flex-grow-1",items:O.value,"item-title":"title","item-value":"value",style:{height:"36px","background-color":"#f1f3f8",color:"#000","font-weight":"500","font-size":"14px","border-radius":"9999px"}},null,8,["readonly","modelValue","items"])])]),_:1}),d(my),i("div",J5,[d(cy,{width:"100%",class:"elevation-0 pa-3 rounded-lg mb-3",height:"60px",color:"secbg"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12",class:"d-inline-flex"},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg crd-trn",style:c({width:b.value.adp||"0%"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"maingreen",width:"100%"}),b.value.Positive>0?(z(),R("p",Q5,[d(wp,{color:"maingreen",size:"18"},{default:H(()=>[...a[13]||(a[13]=[W("mdi-arrow-top-right",-1)])]),_:1}),W(" "+A(b.value.Positive),1)])):ee("",!0)]),_:1},8,["style"]),b.value.Negative>0||b.value.Neutral>0?(z(),q(cy,{key:0,class:"elevation-0 rounded-lg px-1 crd-trn",style:c({width:b.value.adn||"0%"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"#D9D9D9",width:"100%"})]),_:1},8,["style"])):ee("",!0),d(cy,{class:"elevation-0 rounded-lg crd-trn",style:c({width:b.value.adm||"0%"})},{default:H(()=>[d(cy,{class:"elevation-0 rounded-lg py-1",color:"mainred",width:"100%"}),b.value.Negative>0?(z(),R("p",Z5,[W(A(b.value.Negative)+" ",1),d(wp,{color:"mainred",size:"18"},{default:H(()=>[...a[14]||(a[14]=[W("mdi-arrow-bottom-right",-1)])]),_:1})])):ee("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),d(PV,{"must-sort":"","sort-by":["change"],"sort-desc":[!0],"hide-default-footer":"","fixed-header":"",loading:C.value,class:"rounded-lg overflow-y-auto",headers:T.value,search:I.value,items:_.value,"items-per-page":10},{"item.SYMBOL":H(({item:e})=>[i("p",e6,[i("span",{onClick:a=>((e,a)=>{if(u.value){let e=[0,a.Token,"NSE",a.SYMBOL.split(":")[1]];t.push({name:"stocks details",params:{val:e}})}else t.push(`/stocks/${e.toLowerCase()}`)})(e.SYMBOL.split(":")[1].split("-")[0],e),class:"font-weight-medium text-capitalize txt-dec-cust ws-p",style:{"font-size":"12px !important"}},A(e.SYMBOL.split(":")[1]),9,t6),a[15]||(a[15]=i("br",null,null,-1)),i("span",a6,A(e.Industry?e.Industry:""),1)])]),"item.ltp":H(({item:e})=>[i("p",l6,[i("span",n6,[i("span",{id:`avddec${e.Token}ltp`,textContent:A(e.ltp?Number(e.ltp).toFixed(2):"0.00")},null,8,o6)]),a[16]||(a[16]=W()),a[17]||(a[17]=i("br",null,null,-1)),i("span",{class:r(["font-weight-medium fs-12 ws-p",e.ch>0?"maingreen--text":e.ch<0?"mainred--text":"subtext--text"]),id:`avddec${e.Token}chpclr`,style:c({color:e.ch>0?"green":e.ch<0?"red":"gray"})},[i("span",{id:`avddec${e.Token}ch`,textContent:A(e.ch?e.ch:"0.00")},null,8,i6),i("span",{id:`avddec${e.Token}chp`,textContent:A(` (${e.chp?e.chp:"0.00"}%)`)},null,8,r6)],14,s6)])]),"item.vol":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`avddec${e.Token}vol`},A(e.vol?e.vol:"0.00"),9,u6)]),"item.op":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`avddec${e.Token}op`},A(e.op?e.op:"0.00"),9,d6)]),"item.cp":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`avddec${e.Token}cp`},A(e.cp?e.cp:"0.00"),9,c6)]),"item.high":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`avddec${e.Token}high`},A(e.high?e.high:"0.00"),9,p6)]),"item.low":H(({item:e})=>[i("span",{class:"font-weight-medium maintext--text black--text",id:`avddec${e.Token}low`},A(e.low?e.low:"0.00"),9,m6)]),"no-data":H(()=>[d(ky,{cols:"12",class:"text-center pa-16"},{default:H(()=>[i("div",null,[i("img",{width:"80px",src:x(wf),alt:"no data"},null,8,v6),a[18]||(a[18]=i("h5",{class:"txt-999 font-weight-regular"},"There is no data here yet!",-1))])]),_:1})]),_:2},1032,["loading","headers","search","items"]),d(my)]),_:1})]))}},f6=zc(h6,[["__scopeId","data-v-518ba546"]]),g6={class:"chart-container"},y6=zc({__name:"SingleStocks",setup(e){const t=a([]);a({});const n=l(()=>t.value.length&&t.value[0]&&t.value[0].exch&&t.value[0].tsym?`https://mynt-oi-option-data.web.app/web?tsym=${t.value[0].exch}:${t.value[0].tsym}&lp=${t.value.g&&Number(t.value.g.lp)?Number(t.value.g.lp).toFixed(2):"0.00"}&theme=false`:"");return y(()=>{Pc(Bc,"single_stock_view",{event_name:"Single Stock",value:1})}),(e,a)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[a[1]||(a[1]=i("h1",null,"Single Stock Analysis",-1)),a[2]||(a[2]=i("p",null,"Individual stock analysis and trading",-1)),a[3]||(a[3]=i("p",null,"Firebase analytics integration ready",-1)),t.value&&t.value[0]?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 ss-adv-chart"},{default:H(()=>[i("div",g6,[a[0]||(a[0]=i("p",null,"TradingView chart will be integrated here",-1)),i("p",null,"Chart URL: "+A(n.value),1)])]),_:1})):ee("",!0)]),_:1})]))}},[["__scopeId","data-v-28f80596"]]),b6=xe({...ak(),...dk(),...RJ(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),x6=Ee()({name:"VRangeSlider",props:b6(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const s=a(),r=a(),c=a(),{rtlClasses:p}=Ge(),m=zJ(e),v=Fe(e,"modelValue",void 0,e=>(null==e?void 0:e.length)?e.map(e=>m.roundValue(e)):[0,0]),{activeThumbRef:h,hasLabels:f,max:g,min:y,mousePressed:b,onSliderMousedown:x,onSliderTouchstart:_,position:k,trackContainerRef:S,readonly:C}=UJ({props:e,steps:m,onSliderStart:()=>{o("start",v.value)},onSliderEnd:t=>{var a;let{value:l}=t;const n=h.value===(null==(a=s.value)?void 0:a.$el)?[l,v.value[1]]:[v.value[0],l];!e.strict&&n[0]<n[1]&&(v.value=n),o("end",v.value)},onSliderMove:t=>{var a,l,n,o;let{value:i}=t;const[u,d]=v.value;e.strict||u!==d||u===y.value||(h.value=i>u?null==(a=r.value)?void 0:a.$el:null==(l=s.value)?void 0:l.$el,null==(n=h.value)||n.focus()),h.value===(null==(o=s.value)?void 0:o.$el)?v.value=[Math.min(i,d),d]:v.value=[u,Math.max(u,i)]},getActiveThumb:function(t){if(!s.value||!r.value)return;const a=$J(t,s.value.$el,e.direction),l=$J(t,r.value.$el,e.direction),n=Math.abs(a),o=Math.abs(l);return n<o||n===o&&a<0?s.value.$el:r.value.$el}}),{isFocused:I,focus:E,blur:T}=lk(e),N=l(()=>k(v.value[0])),M=l(()=>k(v.value[1]));return Me(()=>{const t=ck.filterProps(e),a=!!(e.label||n.label||n.prepend);return d(ck,w({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||f.value,"v-slider--focused":I.value,"v-slider--pressed":b.value,"v-slider--disabled":e.disabled},p.value,e.class],style:e.style,ref:c},t,{focused:I.value}),{...n,prepend:a?t=>{var a,l;return i(u,null,[(null==(a=n.label)?void 0:a.call(n,t))??(e.label?d(mk,{class:"v-slider__label",text:e.label},null):void 0),null==(l=n.prepend)?void 0:l.call(n,t)])}:void 0,default:t=>{var a,l;let{id:o,messagesId:u}=t;return i("div",{class:"v-slider__container",onMousedown:C.value?void 0:x,onTouchstartPassive:C.value?void 0:_},[i("input",{id:`${o.value}_start`,name:e.name||o.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:v.value[0]},null),i("input",{id:`${o.value}_stop`,name:e.name||o.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:v.value[1]},null),d(WJ,{ref:S,start:N.value,stop:M.value},{"tick-label":n["tick-label"]}),d(HJ,{ref:s,"aria-describedby":u.value,focused:I&&h.value===(null==(a=s.value)?void 0:a.$el),modelValue:v.value[0],"onUpdate:modelValue":e=>v.value=[e,v.value[1]],onFocus:e=>{var t,a,l,n;E(),h.value=null==(t=s.value)?void 0:t.$el,g.value!==y.value&&v.value[0]===v.value[1]&&v.value[1]===y.value&&e.relatedTarget!==(null==(a=r.value)?void 0:a.$el)&&(null==(l=s.value)||l.$el.blur(),null==(n=r.value)||n.$el.focus())},onBlur:()=>{T(),h.value=void 0},min:y.value,max:v.value[1],position:N.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),d(HJ,{ref:r,"aria-describedby":u.value,focused:I&&h.value===(null==(l=r.value)?void 0:l.$el),modelValue:v.value[1],"onUpdate:modelValue":e=>v.value=[v.value[0],e],onFocus:e=>{var t,a,l,n;E(),h.value=null==(t=r.value)?void 0:t.$el,g.value!==y.value&&v.value[0]===v.value[1]&&v.value[0]===g.value&&e.relatedTarget!==(null==(a=s.value)?void 0:a.$el)&&(null==(l=r.value)||l.$el.blur(),null==(n=s.value)||n.$el.focus())},onBlur:()=>{T(),h.value=void 0},min:v.value[0],max:g.value,position:M.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),Wm({focus:()=>{var e;return null==(e=s.value)?void 0:e.$el.focus()}},c)}}),w6={class:"mb-1"},_6=["src"],k6={class:"fs-12 subtext--text mb-4"},S6={class:"text-subtitle-1 font-weight-bold mb-0"},C6={class:"px-5"},I6={class:"fs-12 mb-0 text-grey"},E6={class:"text-h6 font-weight-bold mb-0"},T6={key:0},N6={style:{width:"100%","border-collapse":"collapse"}},M6={style:{"background-color":"#F5F5F5",position:"sticky",top:"0","z-index":"10"}},A6={key:0},O6=["onMouseenter"],P6={class:"px-4",style:{width:"40%","vertical-align":"middle"}},F6={class:"d-flex align-center justify-space-between"},L6={class:"flex-grow-1",style:{"min-width":"0"}},D6={class:"fs-10"},V6={class:"fs-10"},B6={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},$6={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},R6={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},z6={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},U6={class:"font-weight-medium maintext--text"},q6={key:0},H6=["colspan"],j6={key:1},W6=["colspan"],Y6={class:"mx-auto py-16 mt-16"},G6=["src"],K6={class:"mb-0 font-weight-bold"},X6={class:"float-right mr-3 fs-12"},J6={class:"float-right mr-3 fs-12"},Q6={class:"c-side-expand-panel"},Z6={class:"float-right mr-3 fs-12"},e8={class:"c-side-expand-panel"},t8={class:"fs-12 black-text mb-0 text-right"},a8={class:"fs-12 black-text mb-0 text-right"},l8={class:"fs-12 black-text mb-0"},n8={class:"float-right mr-3 fs-12"},o8={class:"float-right mr-3 fs-12"},s8={class:"c-side-expand-panel"},i8={class:"float-right mr-3 fs-12"},r8={class:"c-side-expand-panel"},u8={class:"fs-12 black-text mb-0 text-right"},d8={class:"fs-12 black-text mb-0 text-right"},c8={class:"fs-12 black-text mb-0"},p8=zc({data:()=>({uid:"",token:"",mutualuseritems:[],mftabledata:[],mftableloader:!0,showtable:24,opensearch:null,hoveredRow:null,panel:null,allmutualfunddata:[],mfcategorie:[],model:null,items:[],search:null,nodata:null,mfcatloader:!0,bestmfdata:[],mobilefilter:!1,nfocount:0,newbestmflist:[],staticData:[{funds:"46 funds",image:"loan.svg",subtitle:"Build wealth and save taxes",title:"Tax Saving",titlekey:"taxSaving"},{funds:"90 funds",image:"growthnew.svg",subtitle:"Maximize returns with high growth",title:"High Growth Equity",titlekey:"highGrowthEquity"},{funds:"56 funds",image:"goldcoin.svg",subtitle:"Stable income and growth",title:"Stable Debt",titlekey:"stableDebt"},{funds:"120 funds",image:"transactions.svg",subtitle:"Focused investments in key sectors",title:"Sectoral Thematic",titlekey:"sectoralThematic"},{funds:"56 funds",image:"globe.svg",subtitle:"Diversify your portfolio globally",title:"International Exposure",titlekey:"internationalExposure"},{funds:"120 funds",image:"balancehybrid.svg",subtitle:"Stability and growth combined",title:"Balanced Hybrid",titlekey:"balancedHybrid"}],newcatlistdata:[],headertext:"Top 100 mutual funds"}),computed:{tradeheader:()=>[{title:"Fund name",key:"name",class:"pl-md-6 pl-4",align:"start",width:"40%",sortable:!1},{title:"AUM",key:"AUM",align:"end",class:"pr-md-6 pr-4",width:"15%",sortable:!1},{title:"1yr CAGR",key:"1Year",align:"end",class:"pr-md-6 pr-4",width:"15%",sortable:!1},{title:"3yr CAGR",key:"3Year",align:"end",class:"pr-md-6 pr-4",width:"15%",sortable:!1},{title:"Min. Invest",key:"Minimum_Purchase_Amount",align:"end",class:"pr-md-6 pr-4",width:"15%",sortable:!1}],isLoggedIn(){const e=sessionStorage.getItem("userid"),t=this.uid||e;return t&&null!==t&&""!==t&&"null"!==t&&"undefined"!==t&&""!==t.trim()},noDataImage:()=>wf,imageMap:()=>({"loan.svg":df,"growthnew.svg":uf,"goldcoin.svg":rf,"transactions.svg":bf,"globe.svg":sf,"balancehybrid.svg":of})},created(){},async mounted(){kI.$emit("login-event"),kI.$emit("tabBar-load"),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid=""),this.newbestmflist=[...this.staticData],await this.loadMFData(),kI.$on("setRec-event",e=>{"stat_ok"==e?this.loadMFData():e&&"Ok"==e.stat&&this.handleMFData(e)}),kI.$on("user-event",()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid="")}),this.$watch(()=>this.$route.path,(e,t)=>{"/mutualfund"===e&&t&&t.startsWith("/mutualfund/categories")&&this.loadMFData()})},activated(){"/mutualfund"===this.$route.path&&this.loadMFData()},beforeUnmount(){kI.$off("setRec-event"),kI.$off("user-event")},methods:{getImageUrl(e){return this.imageMap[e]||""},async loadMFData(){try{this.mftableloader=!0,this.mfcatloader=!0;const[e,t,a,l]=await Promise.all([tle(),ale(),lle(),ple()]);if(console.log("API Responses:",{bestMFRes:e,topSchemesRes:t,categoryRes:a,nfoRes:l}),l&&("Ok"==l.stat&&l.data&&Array.isArray(l.data)?this.nfocount=l.data.length:Array.isArray(l)?this.nfocount=l.length:l.data&&Array.isArray(l.data)&&(this.nfocount=l.data.length)),e){let t=e;"Ok"==e.stat&&e.data?t=e.data:"Ok"==e.stat&&(t=e),this.newbestmflist=[...this.staticData],t&&t.baskets_length&&Array.isArray(t.baskets_length)?this.newbestmflist=this.staticData.map(e=>{const a=t.baskets_length.find(t=>t.title&&t.title.trim()===e.title.trim());return a&&a.count?{...e,funds:`${a.count} funds`}:e}):t&&Array.isArray(t)&&(this.newbestmflist=this.staticData.map(e=>{const a=t.find(t=>t.title&&t.title.trim()===e.title.trim());return a&&(a.count||a.funds)?{...e,funds:`${a.count||a.funds||"0"} funds`}:e}))}else this.newbestmflist=[...this.staticData];if(t){let e=null;"Ok"==t.stat&&t.data?e=t.data:"Ok"==t.stat&&Array.isArray(t)?e=t:t.data&&Array.isArray(t.data)?e=t.data:Array.isArray(t)&&(e=t),e&&Array.isArray(e)&&e.length>0?(this.mftabledata=e,this.headertext="Top 100 mutual funds"):(this.mftabledata=[],this.headertext="Top 100 mutual funds")}else this.mftabledata=[];if(a){let e=null;if("Ok"==a.stat&&a.data?e=a.data:"Ok"==a.stat&&Array.isArray(a)?e=a:a.data&&Array.isArray(a.data)?e=a.data:Array.isArray(a)&&(e=a),e&&Array.isArray(e)&&e.length>0){const t=e.map(e=>{if(e.values&&Array.isArray(e.values)){const t=e.values.flatMap(e=>e.values&&Array.isArray(e.values)?e.values.map(t=>({category:e.name,...t})):[]);return{name:e.name,count:t.length,values:t}}return{name:e.name,count:0,values:[]}});this.newcatlistdata=t}else this.newcatlistdata=[]}else this.newcatlistdata=[];this.mftableloader=!1,this.mfcatloader=!1}catch(Wie){console.error("Error loading MF data:",Wie),kI.$emit("snack-event",0,`Error loading mutual fund data: ${Wie.message||Wie}`),this.mftableloader=!1,this.mfcatloader=!1}},handleMFData(e){if(e&&"Ok"==e.stat&&e){if(this.nfocount=e.nfocount||0,this.mftabledata=e.toplistdata||[],e.newapilist&&e.newapilist.data&&(this.newbestmflist=this.staticData.map(t=>{var a;const l=null==(a=e.newapilist.data.baskets_length)?void 0:a.find(e=>e.title.trim()===t.title.trim());return l?{...t,funds:`${l.count} funds`}:t})),e.newapicatlist&&e.newapicatlist.data){const t=e.newapicatlist.data.map(e=>{const t=e.values.flatMap(e=>e.values.map(t=>({category:e.name,...t})));return{name:e.name,count:t.length,values:t}});this.newcatlistdata=t}this.headertext="Top 100 mutual funds",this.mftableloader=!1,this.mfcatloader=!1}else kI.$emit("snack-event",2,e.msg?e.msg:e)},setNamehide:e=>e&&e.length>30?`${e.slice(0,30)}...`:e,setSinglepage(e){console.log("Navigating to single page with item:",e),e&&sessionStorage.setItem("mf_single_data",JSON.stringify(e));const t=e.ISIN||e.Scheme_Code||e.schemeCode||e.isin;t?this.$router.push({name:"mutual fund single",params:{ISIN:t}}):(console.error("No ISIN or Scheme_Code found in item:",e),kI.$emit("snack-event",0,"Unable to navigate: Missing fund identifier"))},goToLogin(){window.location.assign(`https://desk.zebuetrade.com/mynt/?url=${window.location.origin+window.location.pathname}`)},putMForder(e,t){kI.$emit("menudialog","mforder",t,e)},getusedMutual(e){kI.$emit("addscript-wl",e,"mf")},setChangewl(e){if(this.showtable=24,this.mftabledata=[],this.headertext="",e&&e.name){this.headertext=e.name+" Funds";let t=this.newcatlistdata.find(t=>t.name.toLowerCase()===e.name.toLowerCase());t&&t.values&&(this.mftabledata=t.values)}this.mftableloader=!1},setMFrowdata(e){this.$router.push({name:"mutual fund amc",params:{mfamc:e}})},navigateToCategory(e){sessionStorage.setItem("mf_category_data",JSON.stringify(e)),this.$router.push({name:"mutual fund categories",query:{title:e.title,titlekey:e.titlekey}})}}},[["render",function(e,t,a,l,n,o){const s=$("P");return z(),R("div",null,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(cy,{class:"pa-4 px-sm-8 py-sm-6 elevation-0 rounded-lg mb-6",color:"secbg"},{default:H(()=>[t[26]||(t[26]=i("p",{class:"fs-24 font-weight-bold mb-1"},"Best mutual funds",-1)),t[27]||(t[27]=i("p",{class:"text-subtitle-2 subtext--text mb-6"},"Find the right mutual fund across these asset classes",-1)),e.newbestmflist.length>0?(z(),q(cy,{key:0,class:"crd-trn d-inline-flex overflow-x-auto elevation-0 no-scroll",width:"100%"},{default:H(()=>[(z(!0),R(u,null,U(e.newbestmflist,(e,t)=>(z(),q(cy,{onClick:t=>o.navigateToCategory(e),key:t,class:"px-5 pb-3 pt-4 mr-4 rounded-lg elevation-0","min-width":"184px","max-width":"190px",style:{border:"thin solid var(--outline) !important"}},{default:H(()=>[i("div",w6,[i("img",{src:o.getImageUrl(e.image),width:"50px"},null,8,_6)]),d(ub,{class:"text-subtitle-1 font-weight-bold mb-1"},{default:H(()=>[W(A(e.title),1)]),_:2},1024),i("p",k6,A(e.subtitle),1),i("p",S6,A(e.funds),1)]),_:2},1032,["onClick"]))),128))]),_:1})):(z(),q(cy,{key:1,class:"d-inline-flex overflow-x-auto elevation-0 no-scroll mb-0 crd-trn",width:"100%"},{default:H(()=>[(z(),R(u,null,U(10,e=>d(eG,{key:e,class:"pb-3 mr-4 rounded-lg elevation-0","min-width":"184",height:"200",type:"card"})),64))]),_:1}))]),_:1}),e.nfocount>0?(z(),q(cy,{key:0,to:"/mutualfund/nfo",class:"cardb pt-4 pb-4 pb-sm-2 rounded-lg my-4 mr-sm-4 elevation-0"},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"1",class:"pb-2 d-none d-sm-flex"},{default:H(()=>[...t[28]||(t[28]=[i("img",{src:gf,class:"mb-2 ml-4"},null,-1)])]),_:1}),d(ky,{cols:"12",sm:"9",class:"pb-2"},{default:H(()=>[i("div",C6,[t[30]||(t[30]=i("p",{class:"text-uppercase fs-12 font-weight-regular primary--text mb-2"},"Invest in",-1)),d(T_,{color:"primary",content:e.nfocount},{default:H(()=>[...t[29]||(t[29]=[i("p",{class:"font-weight-bold fs-18 maintext--text mb-0"},"Ongoing new fund offerings",-1)])]),_:1},8,["content"]),t[31]||(t[31]=i("p",{class:"fs-14 subtext--text mb-0"},"A new fund offer (NFO) is the first subscription for any new fund by an investment company.",-1))])]),_:1}),d(ky,{cols:"2",sm:"1",class:"d-none d-sm-flex align-center pt-0"},{default:H(()=>[d(im,{color:"btnclr",class:"text-none font-weight-bold rounded-pill pl-6 pr-4 elevation-0",style:{"min-width":"120px"}},{default:H(()=>[t[33]||(t[33]=W("View ",-1)),d(wp,{size:"16",class:"ml-2"},{default:H(()=>[...t[32]||(t[32]=[W("mdi-arrow-right",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):ee("",!0),t[34]||(t[34]=i("p",{class:"text-h6 font-weight-bold mb-3"},"Mutual funds categories",-1)),!e.mfcatloader&&e.newcatlistdata&&e.newcatlistdata.length>0?(z(),q(cy,{key:1,class:"d-inline-flex overflow-x-auto elevation-0 no-scroll mb-5 crd-trn",width:"100%"},{default:H(()=>[(z(!0),R(u,null,U(e.newcatlistdata,(e,t)=>(z(),q(cy,{onClick:t=>o.setChangewl(e),key:t,class:"px-3 py-2 mr-4 elevation-0 cardb","min-width":"160px"},{default:H(()=>[d(ub,{class:"text-subtitle-2 font-weight-bold mb-2 text-capitalize"},{default:H(()=>[W(A(e?e.name:"")+" funds",1)]),_:2},1024),d(cy,{class:"pt-02 mb-3 elevation-0 rounded-pill",width:"30%",color:"maintext"}),i("p",I6,A(e?e.count:"")+" funds",1)]),_:2},1032,["onClick"]))),128))]),_:1})):(z(),q(cy,{key:2,class:"d-inline-flex overflow-x-auto elevation-0 no-scroll mb-0 crd-trn",width:"100%"},{default:H(()=>[(z(),R(u,null,U(10,e=>d(eG,{key:e,class:"py-2 mr-4","min-width":"160",height:"99",type:"card"})),64))]),_:1}))]),_:1}),d(ky,{cols:"3",class:"pt-2 pr-0 d-none d-md-none"},{default:H(()=>[d(cy,{variant:"outlined",class:"py-4 rounded-lg my-3"},{default:H(()=>[...t[35]||(t[35]=[i("img",{src:gf,class:"mb-2 ml-4"},null,-1),i("div",{class:"px-5"},[i("p",{class:"text-uppercase fs-12 font-weight-regular primary--text mb-1"},"Invest in"),i("p",{class:"font-weight-bold fs-18 maintext--text mb-2"},"Ongoing new fund offerings"),i("p",{class:"fs-12 subtext--text mb-0"},"A new fund offer (NFO) is the first subscription for any new fund by an investment company.")],-1)])]),_:1}),d(cy,{variant:"outlined",class:"py-4 rounded-lg mt-6"},{default:H(()=>[...t[36]||(t[36]=[i("img",{src:yf,class:"mb-2 ml-4"},null,-1),i("div",{class:"px-5"},[i("p",{class:"text-uppercase fs-12 font-weight-regular primary--text mb-1"},"Explore by"),i("p",{class:"font-weight-bold fs-18 maintext--text mb-2"},"Comparing Funds"),i("p",{class:"fs-12 subtext--text mb-0"},"Find the best suited Mutual Funds for wealth creation by comparing multiple funds.")],-1)])]),_:1})]),_:1}),d(ky,{cols:"12"},{default:H(()=>[i("div",null,[d(cy,{style:{border:"1px solid var(--outline)"},variant:"outlined",class:"elevation-0 mb-0 mb-md-0 crd-trn"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 py-4 mb-0 px-4 crd-trn",density:"compact"},{default:H(()=>[i("p",E6,A(e.headertext?e.headertext:""),1),d(zy),""!=e.mfcategorie.cat||""!=e.mfcategorie.sub||""!=e.mfcategorie.amc?(z(),R("div",T6,[d(cb,null,{default:H(()=>[d(ub,{class:"font-weight-bold text-subtitle-1"},{default:H(()=>[t[37]||(t[37]=i("span",{class:"mr-2"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16",fill:"none"},[i("path",{d:"M1.5 2.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 2.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 6.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 10.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 14.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 6.5H7.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 10.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 14.5H6.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),W(" "+A(e.mftabledata?e.mftabledata.length:"0")+" funds ",1)]),_:1})]),_:1})])):ee("",!0),d(Fk,{rounded:"pill",modelValue:e.opensearch,"onUpdate:modelValue":t[0]||(t[0]=t=>e.opensearch=t),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"pwidth rounded-pill ml-1 d-none d-md-flex search-field-center",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{search:e.opensearch,"hide-default-footer":"","hide-default-header":"","fixed-header":"",loading:e.mftableloader,class:"overflow-y-auto ipo-data-table",headers:o.tradeheader,"disable-sort":"true",height:"calc(100vh - 180px)",items:e.mftabledata,"items-per-page":e.mftabledata&&e.mftabledata.length>0?e.showtable:0,"item-key":"Scheme_Code"},{body:H(({items:a,headers:l})=>[i("table",N6,[i("thead",M6,[i("tr",null,[(z(!0),R(u,null,U(o.tradeheader,e=>(z(),R("th",{key:e.key,class:r(e.class),style:c({textAlign:"end"===e.align?"right":"left",padding:"14px",fontWeight:"600",fontSize:"14px",backgroundColor:"#F5F5F5",borderBottom:"1px solid #E0E0E0",position:"sticky",top:"0"})},A(e.title),7))),128))])]),e.mftabledata&&e.mftabledata.length>0?(z(),R("tbody",A6,[(z(!0),R(u,null,U(a,(a,l)=>(z(),R("tr",{class:"table-row",key:l,onMouseenter:t=>e.hoveredRow=l,onMouseleave:t[3]||(t[3]=t=>e.hoveredRow=null),style:c({backgroundColor:e.hoveredRow===l?"#E3F2FD":"white",borderBottom:"1px solid #E0E0E0",transition:"background-color 0.2s ease"})},[i("td",P6,[i("div",F6,[i("div",L6,[d(s,{onClick:e=>o.setSinglepage(a),class:"fs-13 font-weight-medium mt-2 table-hov-text txt-dec-cust fund-name-link",style:{cursor:"pointer","line-height":"1.4"}},{default:H(()=>[W(A(a.name?o.setNamehide(a.name):""),1)]),_:2},1032,["onClick"]),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",D6,A(a.Type?a.Type:""),1)]),_:2},1024),a.SubType?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",V6,A(a.SubType?a.SubType:""),1)]),_:2},1024)):ee("",!0)]),_:2},1024)]),i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:r([{"d-flex":e.hoveredRow===l,"d-none":e.hoveredRow!==l},"align-center"]),style:{"min-width":"fit-content","margin-left":"16px","flex-shrink":"0"}},[o.isLoggedIn?(z(),R(u,{key:1},["Y"==a.Purchase_Allowed?(z(),q(im,{key:0,onClick:e=>o.putMForder(a,"buy"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-buy-chip"},{default:H(()=>[...t[39]||(t[39]=[W(" Buy ",-1)])]),_:1},8,["onClick"])):ee("",!0),"Y"==a.SIP_FLAG?(z(),q(im,{key:1,onClick:e=>o.putMForder(a,"sip"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-sip-chip"},{default:H(()=>[...t[40]||(t[40]=[W(" SIP",-1)])]),_:1},8,["onClick"])):ee("",!0),d(im,{onClick:e=>o.getusedMutual(a),style:{border:"1px solid var(--outline)","box-shadow":"none"},"min-width":"20px",color:"mainbg",class:"px-0 elevation-0 ml-2 d-none d-sm-flex",size:"x-small"},{default:H(()=>[...t[41]||(t[41]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 10 12",fill:"none"},[i("path",{d:"M9 11L5 8.61905L1 11V1.95238C1 1.69979 1.09365 1.45755 1.26035 1.27895C1.42705 1.10034 1.65314 1 1.88889 1H8.11111C8.34686 1 8.57295 1.10034 8.73965 1.27895C8.90635 1.45755 9 1.69979 9 1.95238V11Z",stroke:"#999","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1},8,["onClick"])],64)):(z(),q(im,{key:0,onClick:t[1]||(t[1]=e=>o.goToLogin()),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"#F1F3F8",style:{"min-width":"80px","box-shadow":"none !important"}},{default:H(()=>[...t[38]||(t[38]=[W(" Invest",-1)])]),_:1}))],2)])]),i("td",B6,A(a.AUM?Number(a.AUM).toFixed(2):"0.00"),1),i("td",$6,A(a["1Year"]?Number(a["1Year"]).toFixed(2):"0.00"),1),i("td",R6,A(a["3Year"]?Number(a["3Year"]).toFixed(2):"0.00")+" % ",1),i("td",z6,[i("span",U6,"₹"+A(a.Minimum_Purchase_Amount?Number(a.Minimum_Purchase_Amount).toFixed(2):"0.00"),1)])],44,O6))),128)),e.showtable<e.mftabledata.length?(z(),R("tr",q6,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[e.opensearch?ee("",!0):(z(),q(im,{key:0,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[4]||(t[4]=t=>e.showtable+=24),block:""},{default:H(()=>[...t[42]||(t[42]=[W("show more",-1)])]),_:1}))],8,H6)])):ee("",!0)])):(z(),R("tbody",j6,[i("tr",null,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[i("div",Y6,[i("img",{class:"mx-auto",width:"80px",src:o.noDataImage},null,8,G6),t[43]||(t[43]=i("h4",{class:"txt-999 font-weight-regular text-caption"},"There is no data here yet!",-1))])],8,W6)])]))])]),_:1},8,["search","loading","headers","items","items-per-page"])]),_:1})])]),_:1}),d(ky,{cols:"3",class:"pt-2 pr-0 d-none d-md-none"},{default:H(()=>[d(jg,{onClick:t[6]||(t[6]=t=>e.addscript=!0),flat:"",density:"compact",class:"tool-sty"},{default:H(()=>[i("p",K6,[t[46]||(t[46]=W(" Filters ",-1)),e.mfcategorie.cat||e.mfcategorie.sub||e.mfcategorie.amc?(z(),q(R_,{key:0,class:"ml-1",size:"x-small",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[t[45]||(t[45]=W("clear all",-1)),d(wp,{onClick:t[5]||(t[5]=t=>(e.mfcategorie.cat="",e.mfcategorie.sub="",e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[44]||(t[44]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0)]),d(zy)]),_:1}),""!=e.mfcategorie.cat||""!=e.mfcategorie.sub||""!=e.mfcategorie.amc?(z(),q(B_,{key:0,column:"",class:"my-0"},{default:H(()=>[e.mfcategorie.cat?(z(),q(R_,{key:0,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.cat.replace("Scheme",""))+" ",1),d(wp,{onClick:t[7]||(t[7]=t=>(e.mfcategorie.cat="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[47]||(t[47]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.sub?(z(),q(R_,{key:1,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.sub)+" ",1),d(wp,{onClick:t[8]||(t[8]=t=>(e.mfcategorie.sub="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[48]||(t[48]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.amc?(z(),q(R_,{key:2,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.amc.split("_")[0])+" ",1),d(wp,{onClick:t[9]||(t[9]=t=>(e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[49]||(t[49]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0)]),_:1})):ee("",!0),d(Q_,{modelValue:e.panel,"onUpdate:modelValue":t[14]||(t[14]=t=>e.panel=t),class:"expan"},{default:H(()=>[d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.cat,dot:""},{default:H(()=>[...t[50]||(t[50]=[W(" Category ",-1)])]),_:1},8,["model-value"]),i("span",X6,A(e.mfcategorie.cats?Object.keys(e.mfcategorie.cats).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",null,[(z(!0),R(u,null,U(e.mfcategorie.cats,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.cat!=a?e.mfcategorie.cat=a:e.mfcategorie.cat="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.cat==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.cat==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.replace("Scheme","")),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.sub,dot:""},{default:H(()=>[...t[51]||(t[51]=[W(" Sub category ",-1)])]),_:1},8,["model-value"]),i("span",J6,A(e.mfcategorie.subs?Object.keys(e.mfcategorie.subs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",Q6,[(z(!0),R(u,null,U(e.mfcategorie.subs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.sub!=a?e.mfcategorie.sub=a:e.mfcategorie.sub="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.sub==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.sub==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.amc,dot:""},{default:H(()=>[...t[52]||(t[52]=[W(" AMC ",-1)])]),_:1},8,["model-value"]),i("span",Z6,A(e.mfcategorie.amcs?Object.keys(e.mfcategorie.amcs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",e8,[(z(!0),R(u,null,U(e.mfcategorie.amcs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.amc!=a?e.mfcategorie.amc=a:e.mfcategorie.amc="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.amc==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-lowercase",style:c(`color:${e.mfcategorie.amc==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.split("_")[0]),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[53]||(t[53]=[i("span",{id:"panel3"}," Min. purchase amount ",-1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[10]||(t[10]=e=>o.setChangewl()),t[11]||(t[11]=t=>e.mfcategorie.minamt=t)],color:"#FF1717",modelValue:e.mfcategorie.minamt,max:e.mfcategorie.minamt_max,min:e.mfcategorie.minamt_min,"hide-details":"",step:e.mfcategorie.minamt_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",t8,[t[54]||(t[54]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[55]||(t[55]=i("br",null,null,-1)),W(" ₹"+A(e.mfcategorie.minamt[0]<1e3?e.mfcategorie.minamt[0]:`${(e.mfcategorie.minamt[0]/1e3).toFixed(0)}k`),1)])]),append:H(()=>[...t[56]||(t[56]=[i("p",{class:"fs-12 black-text mb-0"},[i("span",{class:"fs-10 subtext--text"},"MAX"),i("br"),W(" ₹200k ")],-1)])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[57]||(t[57]=[i("span",{id:"panel4"}," AUM ",-1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[12]||(t[12]=e=>o.setChangewl()),t[13]||(t[13]=t=>e.mfcategorie.rangeaum=t)],color:"#FF1717",modelValue:e.mfcategorie.rangeaum,max:e.mfcategorie.aum_max,min:e.mfcategorie.aum_min,"hide-details":"",step:e.mfcategorie.aum_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",a8,[t[58]||(t[58]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[59]||(t[59]=i("br",null,null,-1)),W(" ₹"+A((e.mfcategorie.rangeaum[0]/1e7/1e3).toFixed(0))+"k ",1),t[60]||(t[60]=i("span",{class:"subtext--text"},"Cr",-1)),t[61]||(t[61]=i("br",null,null,-1))])]),append:H(()=>[i("p",l8,[t[62]||(t[62]=i("span",{class:"fs-10 subtext--text"},"MAX",-1)),t[63]||(t[63]=i("br",null,null,-1)),W(" ₹"+A((e.mfcategorie.rangeaum[1]/1e7/1e3).toFixed(0))+"k ",1),t[64]||(t[64]=i("span",{class:"subtext--text"},"Cr",-1)),t[65]||(t[65]=i("br",null,null,-1))])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(pP,{modelValue:e.mobilefilter,"onUpdate:modelValue":t[25]||(t[25]=t=>e.mobilefilter=t),class:"d-md-none"},{default:H(()=>[d(VI,{class:"rounded-t-xl px-4",height:"70vh"},{default:H(()=>[i("div",{onClick:t[15]||(t[15]=t=>e.mobilefilter=!1),class:"text-center"},[...t[66]||(t[66]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"3",viewBox:"0 0 32 3",fill:"none"},[i("rect",{width:"32",height:"3",rx:"1.5",fill:"#DDDDDD","fill-opacity":"0.866667"})],-1)])]),""!=e.mfcategorie.cat||""!=e.mfcategorie.sub||""!=e.mfcategorie.amc?(z(),q(B_,{key:0,column:"",class:"my-0"},{default:H(()=>[e.mfcategorie.cat?(z(),q(R_,{key:0,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.cat.replace("Scheme",""))+" ",1),d(wp,{onClick:t[16]||(t[16]=t=>(e.mfcategorie.cat="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[67]||(t[67]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.sub?(z(),q(R_,{key:1,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.sub)+" ",1),d(wp,{onClick:t[17]||(t[17]=t=>(e.mfcategorie.sub="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[68]||(t[68]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.amc?(z(),q(R_,{key:2,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.amc.split("_")[0])+" ",1),d(wp,{onClick:t[18]||(t[18]=t=>(e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[69]||(t[69]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),d(R_,{class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[t[71]||(t[71]=W(" Clear all ",-1)),d(wp,{onClick:t[19]||(t[19]=t=>(e.mfcategorie.cat="",e.mfcategorie.sub="",e.mfcategorie.amc="",o.setChangewl(),e.mobilefilter=!1)),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[70]||(t[70]=[W(" mdi-close ",-1)])]),_:1})]),_:1})]),_:1})):ee("",!0),d(Q_,{modelValue:e.panel,"onUpdate:modelValue":t[24]||(t[24]=t=>e.panel=t),class:"expan"},{default:H(()=>[d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.cat,dot:""},{default:H(()=>[...t[72]||(t[72]=[W(" Category ",-1)])]),_:1},8,["model-value"]),i("span",n8,A(e.mfcategorie.cats?Object.keys(e.mfcategorie.cats).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",null,[(z(!0),R(u,null,U(e.mfcategorie.cats,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.cat!=a?e.mfcategorie.cat=a:e.mfcategorie.cat="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.cat==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.cat==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.replace("Scheme","")),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.sub,dot:""},{default:H(()=>[...t[73]||(t[73]=[W(" Sub category ",-1)])]),_:1},8,["model-value"]),i("span",o8,A(e.mfcategorie.subs?Object.keys(e.mfcategorie.subs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",s8,[(z(!0),R(u,null,U(e.mfcategorie.subs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.sub!=a?e.mfcategorie.sub=a:e.mfcategorie.sub="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.sub==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.sub==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.amc,dot:""},{default:H(()=>[...t[74]||(t[74]=[W(" AMC ",-1)])]),_:1},8,["model-value"]),i("span",i8,A(e.mfcategorie.amcs?Object.keys(e.mfcategorie.amcs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",r8,[(z(!0),R(u,null,U(e.mfcategorie.amcs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.amc!=a?e.mfcategorie.amc=a:e.mfcategorie.amc="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.amc==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-lowercase",style:c(`color:${e.mfcategorie.amc==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.split("_")[0]),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[75]||(t[75]=[i("span",{id:"panel3"}," Min. purchase amount ",-1)])]),_:1}),d(j_,{class:"px-0 pb-4"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[20]||(t[20]=e=>o.setChangewl()),t[21]||(t[21]=t=>e.mfcategorie.minamt=t)],color:"#FF1717",modelValue:e.mfcategorie.minamt,max:e.mfcategorie.minamt_max,min:e.mfcategorie.minamt_min,"hide-details":"",step:e.mfcategorie.minamt_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",u8,[t[76]||(t[76]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[77]||(t[77]=i("br",null,null,-1)),W(" ₹"+A(e.mfcategorie.minamt[0]<1e3?e.mfcategorie.minamt[0]:`${(e.mfcategorie.minamt[0]/1e3).toFixed(0)}k`),1)])]),append:H(()=>[...t[78]||(t[78]=[i("p",{class:"fs-12 black-text mb-0"},[i("span",{class:"fs-10 subtext--text"},"MAX"),i("br"),W(" ₹200k ")],-1)])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[79]||(t[79]=[i("span",{id:"panel4"}," AUM ",-1)])]),_:1}),d(j_,{class:"px-0 pb-4"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[22]||(t[22]=e=>o.setChangewl()),t[23]||(t[23]=t=>e.mfcategorie.rangeaum=t)],color:"#FF1717",modelValue:e.mfcategorie.rangeaum,max:e.mfcategorie.aum_max,min:e.mfcategorie.aum_min,"hide-details":"",step:e.mfcategorie.aum_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",d8,[t[80]||(t[80]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[81]||(t[81]=i("br",null,null,-1)),W(" ₹"+A((e.mfcategorie.rangeaum[0]/1e7/1e3).toFixed(0))+"k ",1),t[82]||(t[82]=i("span",{class:"subtext--text"},"Cr",-1)),t[83]||(t[83]=i("br",null,null,-1))])]),append:H(()=>[i("p",c8,[t[84]||(t[84]=i("span",{class:"fs-10 subtext--text"},"MAX",-1)),t[85]||(t[85]=i("br",null,null,-1)),W(" ₹"+A((e.mfcategorie.rangeaum[1]/1e7/1e3).toFixed(0))+"k ",1),t[86]||(t[86]=i("span",{class:"subtext--text"},"Cr",-1)),t[87]||(t[87]=i("br",null,null,-1))])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}],["__scopeId","data-v-f8ee8d28"]]),m8={data:()=>({uid:"",token:"",mutualuseritems:[],mftabledata:[],mftableloader:!0,showtable:24,opensearch:null,hoveredRow:null,panel:null,allmutualfunddata:[],mfcategorie:[],model:null,items:[],search:null,nodata:null,mfallsearchloader:!0,bestmfdata:[],mobilefilter:!1,paramsdata:null}),computed:{tradeheader:()=>[{title:"Fund name",key:"name",sortable:!1,class:"pl-md-6 pl-4",align:"start",width:"40%"},{title:"AUM",key:"AUM",align:"end",sortable:!1,class:"pr-md-6 pr-4",width:"15%"},{title:"1yr CAGR",key:"1Year",align:"end",sortable:!1,class:"pr-md-6 pr-4",width:"15%"},{title:"3yr CAGR",key:"3Year",align:"end",sortable:!0,class:"pr-md-6 pr-4",width:"15%"},{title:"Min. Invest",key:"Minimum_Purchase_Amount",sortable:!0,align:"end",class:"pr-md-6 pr-4",width:"15%"}],isLoggedIn(){const e=sessionStorage.getItem("userid"),t=this.uid||e;return t&&null!==t&&""!==t&&"null"!==t&&"undefined"!==t&&""!==t.trim()},imageMap:()=>({"loan.svg":df,"growthnew.svg":uf,"goldcoin.svg":rf,"transactions.svg":bf,"globe.svg":sf,"balancehybrid.svg":of}),noDataImage:()=>wf},created(){},async mounted(){const e=sessionStorage.getItem("mf_category_data");if(e)try{this.paramsdata=JSON.parse(e)}catch(SJ){console.error("Error parsing category data:",SJ)}!this.paramsdata&&this.$route.query.title&&(this.paramsdata={title:this.$route.query.title,titlekey:this.$route.query.titlekey,image:this.getImageForTitle(this.$route.query.title),subtitle:"",funds:"0 funds"}),this.paramsdata&&this.paramsdata.title?(console.log("Category data:",this.paramsdata),kI.$emit("tabBar-load"),kI.$emit("login-event"),await this.loadCategoryData(),kI.$on("setRec-event",e=>{"stat_ok"==e?this.loadCategoryData():this.handleMFData(e)}),kI.$on("user-event",()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid="")}),this.$watch(()=>this.$route.query,e=>{var t;e.title&&e.title!==(null==(t=this.paramsdata)?void 0:t.title)&&(this.paramsdata={title:e.title,titlekey:e.titlekey,image:this.getImageForTitle(e.title),subtitle:"",funds:"0 funds"},this.loadCategoryData())})):this.$router.push("/mutualfund")},beforeUnmount(){kI.$off("setRec-event"),kI.$off("user-event")},methods:{getImageUrl(e){return this.imageMap[e]||""},getImageForTitle:e=>({"Tax Saving":"loan.svg","High Growth Equity":"growthnew.svg","Stable Debt":"goldcoin.svg","Sectoral Thematic":"transactions.svg","International Exposure":"globe.svg","Balanced Hybrid":"balancehybrid.svg"}[e]||"loan.svg"),async loadCategoryData(){var e,t,a;try{this.mftableloader=!0,this.mftabledata=[];const n=await tle();console.log("Best MF Response:",n),console.log("Params data:",this.paramsdata),console.log("Looking for category:",null==(e=this.paramsdata)?void 0:e.title);let o=!1;if(n){let e=n;if("Ok"==n.stat&&n.data?e=n.data:"Ok"==n.stat?e=n:n.data&&(e=n.data),console.log("Processed bestMFData:",e),console.log("bestMFData keys:",Object.keys(e||{})),e.newapilist&&e.newapilist.data&&e.newapilist.data.baskets){const t=this.paramsdata.title;console.log("Checking baskets structure:",e.newapilist.data.baskets),console.log("Available basket keys:",Object.keys(e.newapilist.data.baskets||{})),e.newapilist.data.baskets[t]&&(this.mftabledata=Array.isArray(e.newapilist.data.baskets[t])?e.newapilist.data.baskets[t]:[],o=!0,console.log("Found data in newapilist.data.baskets:",this.mftabledata.length))}if(!o&&e.baskets){const t=this.paramsdata.title;console.log("Checking baskets direct:",e.baskets),console.log("Available basket keys:",Object.keys(e.baskets||{})),e.baskets[t]&&(this.mftabledata=Array.isArray(e.baskets[t])?e.baskets[t]:[],o=!0,console.log("Found data in baskets:",this.mftabledata.length))}if(!o&&e.baskets_length&&Array.isArray(e.baskets_length)){console.log("Checking baskets_length:",e.baskets_length);const t=e.baskets_length.find(e=>e.title&&e.title.trim()===this.paramsdata.title.trim());t&&(console.log("Found match in baskets_length:",t),this.mftabledata=Array.isArray(t.data)?t.data:Array.isArray(t.funds)?t.funds:[],o=!0,console.log("Found data in baskets_length:",this.mftabledata.length))}if(!o&&this.paramsdata.titlekey&&e[this.paramsdata.titlekey]&&(console.log("Checking titlekey:",this.paramsdata.titlekey,e[this.paramsdata.titlekey]),this.mftabledata=Array.isArray(e[this.paramsdata.titlekey])?e[this.paramsdata.titlekey]:[],o=!0,console.log("Found data using titlekey:",this.mftabledata.length)),!o&&e.data){console.log("Checking nested data structure:",e.data);const t=e.data;if(t.newapilist&&t.newapilist.data&&t.newapilist.data.baskets){const e=this.paramsdata.title;console.log("Checking nested baskets structure:",t.newapilist.data.baskets),t.newapilist.data.baskets[e]&&(this.mftabledata=Array.isArray(t.newapilist.data.baskets[e])?t.newapilist.data.baskets[e]:[],o=!0,console.log("Found data in nested newapilist.data.baskets:",this.mftabledata.length))}if(!o&&t.baskets){const e=this.paramsdata.title;t.baskets[e]&&(this.mftabledata=Array.isArray(t.baskets[e])?t.baskets[e]:[],o=!0,console.log("Found data in nested baskets:",this.mftabledata.length))}}}if(!o||!this.mftabledata||0===this.mftabledata.length){console.warn("No data found in bestMF response, trying getnewcatgreapi");try{const e=await lle();if(console.log("Category API Response:",e),console.log("Category API Response keys:",Object.keys(e||{})),e){let t=e;if("Ok"==e.stat&&e.data?t=e.data:"Ok"==e.stat?t=e:e.data&&Array.isArray(e.data)&&(t=e.data),console.log("Processed categoryData:",t),console.log("Is array:",Array.isArray(t)),Array.isArray(t)){console.log("Category data array length:",t.length),console.log("Category data array:",t),console.log("First item:",t[0]);let e=t.find(e=>{const t=e.name&&e.name.toLowerCase()===this.paramsdata.title.toLowerCase();return console.log("Comparing:",e.name,"with",this.paramsdata.title,"=",t),t});if(e||(e=t.find(e=>{const t=e.name?e.name.toLowerCase():"",a=this.paramsdata.title?this.paramsdata.title.toLowerCase():"",l=t.includes(a)||a.includes(t);return console.log("Partial match:",e.name,"with",this.paramsdata.title,"=",l),l})),!e&&t.length>0&&(console.log("No category group found, checking array structure"),console.log("All category names:",t.map(e=>e.name)),e=t.find(e=>!(!e.titlekey||e.titlekey!==this.paramsdata.titlekey)||!(!e.title||e.title.toLowerCase()!==this.paramsdata.title.toLowerCase()))),console.log("Found category group:",e),e)if(e.values&&Array.isArray(e.values)){console.log("Category group values:",e.values),console.log("First value item:",e.values[0]);const t=e.values.flatMap(e=>e.values&&Array.isArray(e.values)?(console.log("Found nested values in subGroup:",e.values.length),e.values):(e&&"object"==typeof e&&Array.isArray(e),e));this.mftabledata=t||[],o=!0,console.log("Found data in category API:",this.mftabledata.length)}else Array.isArray(e)?(this.mftabledata=e,o=!0,console.log("Category group is array, using directly:",this.mftabledata.length)):e.data&&Array.isArray(e.data)&&(this.mftabledata=e.data,o=!0,console.log("Found data in categoryGroup.data:",this.mftabledata.length))}}}catch(l){console.error("Error loading from category API:",l)}}this.mftabledata&&this.mftabledata.length>0&&(this.mftabledata=this.mftabledata.map(e=>(!e.name&&e.Scheme_Name&&(e.name=e.Scheme_Name),!e.Type&&e.SCHEME_CATEGORY&&(e.Type=e.SCHEME_CATEGORY),!e.SubType&&e.SCHEME_SUB_CATEGORY&&(e.SubType=e.SCHEME_SUB_CATEGORY),void 0===e.Purchase_Allowed&&null!==e.Purchase_Allowed&&(e.Purchase_Allowed=e.Purchase_Allowed||"Y"),e))),this.paramsdata&&this.mftabledata&&(this.paramsdata.funds=`${this.mftabledata.length} funds`),console.log("Final mftabledata:",(null==(t=this.mftabledata)?void 0:t.length)||0,"items"),console.log("First item:",null==(a=this.mftabledata)?void 0:a[0]),this.mftableloader=!1,this.mfallsearchloader=!1,"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid="")}catch(Wie){console.error("Error loading category data:",Wie),kI.$emit("snack-event",0,`Error loading category data: ${Wie.message||Wie}`),this.mftableloader=!1,this.mfallsearchloader=!1}},handleMFData(e){if(e&&"Ok"==e.stat){if(e.newapilist&&e.newapilist.data&&e.newapilist.data.baskets){const t=this.paramsdata.title;e.newapilist.data.baskets[t]&&(this.mftabledata=e.newapilist.data.baskets[t]||[],this.paramsdata&&(this.paramsdata.funds=`${this.mftabledata.length} funds`))}this.allmutualfunddata=e.data||[],this.mftableloader=!1,this.mfallsearchloader=!1}else e&&(kI.$emit("snack-event",2,e.msg?e.msg:e),this.mfallsearchloader=!1)},setNamehide:e=>e&&e.length>30?`${e.slice(0,30)}...`:e,setSinglepage(e){console.log("Navigating to single page with item:",e),e&&sessionStorage.setItem("mf_single_data",JSON.stringify(e));const t=e.ISIN||e.Scheme_Code||e.schemeCode||e.isin;t?this.$router.push({name:"mutual fund single",params:{ISIN:t}}):(console.error("No ISIN or Scheme_Code found in item:",e),kI.$emit("snack-event",0,"Unable to navigate: Missing fund identifier"))},async setMFcatdata(){this.mftableloader=!1,this.mfallsearchloader=!1,"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid="")},goToLogin(){window.location.assign(`https://desk.zebuetrade.com/mynt/?url=${window.location.origin+window.location.pathname}`)},putMForder(e,t){kI.$emit("menudialog","mforder",t,e)},getusedMutual(e){kI.$emit("addscript-wl",e,"mf")},setChangewl(){this.showtable=24,this.mftabledata=[],this.mftabledata=this.mutualuseritems.filter(e=>e.SCHEME_CATEGORY.includes("Other"==this.mfcategorie.cat?"others":this.mfcategorie.cat)&&e.SCHEME_SUB_CATEGORY.includes(this.mfcategorie.sub)&&e.AMC_Code.includes(this.mfcategorie.amc)&&e.AUM>=this.mfcategorie.rangeaum[0]&&e.AUM<=this.mfcategorie.rangeaum[1]&&e.Minimum_Purchase_Amount>=this.mfcategorie.minamt[0]&&e.Minimum_Purchase_Amount<=this.mfcategorie.minamt[1]),this.mftableloader=!1},setMFrowdata(e){this.$router.push({name:"mutual fund amc",params:{mfamc:e}})}}},v8=["src"],h8={style:{width:"100%","border-collapse":"collapse"}},f8={style:{"background-color":"#F5F5F5",position:"sticky",top:"0","z-index":"10"}},g8={key:0},y8=["onMouseenter"],b8={class:"px-4",style:{width:"40%","vertical-align":"middle"}},x8={class:"d-flex align-center justify-space-between"},w8={class:"flex-grow-1",style:{"min-width":"0"}},_8={class:"fs-10"},k8={class:"fs-10"},S8={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},C8={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},I8={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},E8={class:"text-right font-weight-medium px-4 txt-000",style:{width:"15%","vertical-align":"middle",padding:"16px","text-align":"right"}},T8={class:"font-weight-medium maintext--text"},N8={key:0},M8=["colspan"],A8={key:1},O8=["colspan"],P8={class:"mx-auto py-16 mt-16"},F8=["src"],L8=zc(m8,[["render",function(e,t,a,l,n,o){const s=$("P");return z(),R("div",null,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(ky,{cols:"3",class:"d-none d-md-none"}),d(ky,{cols:"12"},{default:H(()=>[d(cy,{style:{border:"1px solid #E0E0E0"},variant:"outlined",class:"elevation-0 rounded-lg mb-8 mb-md-0 crd-trn"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 pa-3 crd-trn",density:"compact"},{default:H(()=>[e.paramsdata&&e.paramsdata.title?(z(),q(cb,{key:0,class:"pl-0"},{prepend:H(()=>[d(oy,{class:"mr-0"},{default:H(()=>[i("img",{src:o.getImageUrl(e.paramsdata.image),width:"40px"},null,8,v8)]),_:1})]),default:H(()=>[d(ub,{class:"font-weight-bold title pl-0"},{default:H(()=>[W(A(e.paramsdata.title),1)]),_:1}),d(rb,{class:"fs-12 txt-666"},{default:H(()=>[W(A(e.paramsdata.subtitle),1)]),_:1})]),_:1})):ee("",!0),d(zy),i("div",null,[d(cb,null,{default:H(()=>[d(ub,{class:"font-weight-bold text-subtitle-1"},{default:H(()=>[t[5]||(t[5]=i("span",{class:"mr-2"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16",fill:"none"},[i("path",{d:"M1.5 2.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 2.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 6.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 10.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M14.5 14.5H16.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 6.5H7.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 10.5H11.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M1.5 14.5H6.5",stroke:"#0037B7","stroke-width":"2","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),W(" "+A(e.paramsdata?e.paramsdata.funds:"0"),1)]),_:1})]),_:1})]),d(Fk,{rounded:"pill",modelValue:e.opensearch,"onUpdate:modelValue":t[0]||(t[0]=t=>e.opensearch=t),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"pwidth rounded-pill ml-1 d-none d-md-flex search-field-center",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{"must-sort":"","sort-by":[{key:"",order:"asc"}],"hide-default-footer":"","hide-default-header":"","fixed-header":"",loading:e.mftableloader,search:e.opensearch,class:"rounded-0 overflow-y-auto ipo-data-table",headers:o.tradeheader,height:"calc(100vh - 180px)",items:e.mftabledata,"items-per-page":e.mftabledata&&e.mftabledata.length>0?e.showtable:0,"item-key":"Scheme_Code"},{body:H(({items:a,headers:l})=>[i("table",h8,[i("thead",f8,[i("tr",null,[(z(!0),R(u,null,U(o.tradeheader,e=>(z(),R("th",{key:e.key,class:r(e.class),style:c({textAlign:"end"===e.align?"right":"left",padding:"14px",fontWeight:"600",fontSize:"14px",backgroundColor:"#F5F5F5",borderBottom:"1px solid #E0E0E0",position:"sticky",top:"0"})},A(e.title),7))),128))])]),e.mftabledata&&e.mftabledata.length>0?(z(),R("tbody",g8,[(z(!0),R(u,null,U(a,(a,l)=>(z(),R("tr",{class:"table-row",key:l,onMouseenter:t=>e.hoveredRow=l,onMouseleave:t[3]||(t[3]=t=>e.hoveredRow=null),style:c({backgroundColor:e.hoveredRow===l?"#E3F2FD":"white",borderBottom:"1px solid #E0E0E0",transition:"background-color 0.2s ease"})},[i("td",b8,[i("div",x8,[i("div",w8,[d(s,{onClick:e=>o.setSinglepage(a),class:r(["fs-13 font-weight-medium mt-2 table-hov-text txt-dec-cust fund-name-link",{"fund-name-hover":e.hoveredRow===l}]),style:{cursor:"pointer","line-height":"1.4"}},{default:H(()=>[W(A(a.name?o.setNamehide(a.name):""),1)]),_:2},1032,["onClick","class"]),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",_8,A(a.Type?a.Type:""),1)]),_:2},1024),a.SubType?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",k8,A(a.SubType?a.SubType:""),1)]),_:2},1024)):ee("",!0)]),_:2},1024)]),i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:r([{"d-flex":e.hoveredRow===l,"d-none":e.hoveredRow!==l},"align-center"]),style:{"min-width":"fit-content","margin-left":"16px","flex-shrink":"0"}},[o.isLoggedIn?(z(),R(u,{key:1},["Y"==a.Purchase_Allowed?(z(),q(im,{key:0,onClick:e=>o.putMForder(a,"buy"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-buy-chip"},{default:H(()=>[...t[7]||(t[7]=[W(" Buy",-1)])]),_:1},8,["onClick"])):ee("",!0),"Y"==a.SIP_FLAG?(z(),q(im,{key:1,onClick:e=>o.putMForder(a,"sip"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-sip-chip"},{default:H(()=>[...t[8]||(t[8]=[W(" SIP",-1)])]),_:1},8,["onClick"])):ee("",!0),d(im,{onClick:e=>o.getusedMutual(a),style:{border:"1px solid var(--outline)","box-shadow":"none"},"min-width":"20px",color:"mainbg",class:"px-0 elevation-0 ml-2 d-none d-sm-flex",size:"x-small"},{default:H(()=>[...t[9]||(t[9]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 10 12",fill:"none"},[i("path",{d:"M9 11L5 8.61905L1 11V1.95238C1 1.69979 1.09365 1.45755 1.26035 1.27895C1.42705 1.10034 1.65314 1 1.88889 1H8.11111C8.34686 1 8.57295 1.10034 8.73965 1.27895C8.90635 1.45755 9 1.69979 9 1.95238V11Z",stroke:"#999","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1},8,["onClick"])],64)):(z(),q(im,{key:0,onClick:t[1]||(t[1]=e=>o.goToLogin()),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"#F1F3F8",style:{"min-width":"80px","box-shadow":"none !important"}},{default:H(()=>[...t[6]||(t[6]=[W(" Invest",-1)])]),_:1}))],2)])]),i("td",S8,A(a.AUM?Number(a.AUM).toFixed(2):"0.00"),1),i("td",C8,A(a["1Year"]?Number(a["1Year"]).toFixed(2):"0.00"),1),i("td",I8,A(a["3Year"]?Number(a["3Year"]).toFixed(2):"0.00")+" % ",1),i("td",E8,[i("span",T8,"₹"+A(a.Minimum_Purchase_Amount?Number(a.Minimum_Purchase_Amount).toFixed(2):"0.00"),1)])],44,y8))),128)),e.showtable<e.mftabledata.length?(z(),R("tr",N8,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[e.opensearch?ee("",!0):(z(),q(im,{key:0,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[4]||(t[4]=t=>e.showtable+=24),block:""},{default:H(()=>[...t[10]||(t[10]=[W("show more",-1)])]),_:1}))],8,M8)])):ee("",!0)])):(z(),R("tbody",A8,[i("tr",null,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[i("div",P8,[i("img",{class:"mx-auto",width:"80px",src:o.noDataImage},null,8,F8),t[11]||(t[11]=i("h4",{class:"txt-999 font-weight-regular text-caption"},"There is no data here yet!",-1))])],8,O8)])]))])]),_:1},8,["loading","search","headers","items","items-per-page"])]),_:1})]),_:1})]),_:1})]),_:1})])}]]),D8={class:"pa-0"},V8={style:{width:"100%","border-collapse":"collapse"}},B8={style:{"background-color":"#F5F5F5",position:"sticky",top:"0","z-index":"10"}},$8={key:0},R8=["onMouseenter"],z8={class:"px-4",style:{width:"40%","vertical-align":"middle"}},U8={class:"d-flex align-center justify-space-between"},q8={class:"flex-grow-1",style:{"min-width":"0"}},H8={class:"fs-10"},j8={class:"fs-10"},W8={class:"fs-10"},Y8={class:"font-weight-medium px-4 txt-000",style:{width:"20%","vertical-align":"middle",padding:"16px","text-align":"left"}},G8={class:"font-weight-medium px-4 txt-000",style:{width:"20%","vertical-align":"middle",padding:"16px","text-align":"left"}},K8={class:"text-right font-weight-medium px-4 txt-000",style:{width:"20%","vertical-align":"middle",padding:"16px","text-align":"right"}},X8={class:"font-weight-medium maintext--text"},J8={key:0},Q8=["colspan"],Z8={key:1},e7=["colspan"],t7={class:"mx-auto py-16 mt-16"},a7=["src"],l7={class:"mb-0 font-weight-bold"},n7={class:"float-right mr-3 fs-12"},o7={class:"float-right mr-3 fs-12"},s7={class:"c-side-expand-panel"},i7={class:"float-right mr-3 fs-12"},r7={class:"c-side-expand-panel"},u7={class:"fs-12 black-text mb-0 text-right"},d7={class:"float-right mr-3 fs-12"},c7={class:"float-right mr-3 fs-12"},p7={class:"c-side-expand-panel"},m7={class:"float-right mr-3 fs-12"},v7={class:"c-side-expand-panel"},h7={class:"fs-12 black-text mb-0 text-right"},f7=zc({data:()=>({uid:"",token:"",mutualuseritems:[],mftabledata:[],mftableloader:!0,showtable:24,opensearch:null,hoveredRow:null,panel:null,allmutualfunddata:[],mfcategorie:[],model:null,items:[],search:null,nodata:null,mfallsearchloader:!0,mobilefilter:!1}),computed:{tradeheader:()=>[{title:"Fund name",key:"name",sortable:!1,class:"pl-md-6 pl-4",align:"start",width:"40%"},{title:"Opening",key:"Start_Date",sortable:!1,class:"pl-md-6 pl-4",align:"start",width:"20%"},{title:"Closing",key:"End_Date",sortable:!1,class:"pl-md-6 pl-4",align:"start",width:"20%"},{title:"Min. Invest",key:"Minimum_Purchase_Amount",sortable:!1,align:"end",class:"pr-md-6 pr-4",width:"20%"}],isLoggedIn(){const e=sessionStorage.getItem("userid"),t=this.uid||e;return t&&null!==t&&""!==t&&"null"!==t&&"undefined"!==t&&""!==t.trim()},noDataImage:()=>wf},created(){},async mounted(){kI.$emit("login-event"),kI.$emit("tabBar-load"),await this.ressetMFnfodata(),kI.$on("setRec-event",e=>{if("stat_ok"==e)this.ressetMFnfodata();else{let t=e;t&&t.stat&&"Ok"==t.stat?(this.allmutualfunddata=[],this.allmutualfunddata=t.data,this.ressetMFnfodata(),this.mfcategorie=[],this.mfcategorie.cats=t.cat,this.mfcategorie.subs=t.sub,this.mfcategorie.amcs=t.amc,this.mfcategorie.cat="",this.mfcategorie.sub="",this.mfcategorie.amc="",this.mfcategorie.minamt_min=Math.min(...this.allmutualfunddata.map(e=>Number(e.Minimum_Purchase_Amount))),this.mfcategorie.minamt_max=2e5,this.mfcategorie.aum_min=0,this.mfcategorie.aum_max=Math.max(...this.allmutualfunddata.map(e=>Number(e.AUM))),this.mfcategorie.minamt=[this.mfcategorie.minamt_min,this.mfcategorie.minamt_max],this.mfcategorie.rangeaum=[this.mfcategorie.aum_min,this.mfcategorie.aum_max]):t&&(kI.$emit("snack-event",2,t.msg?t.msg:t),this.mfallsearchloader=!1)}}),kI.$on("user-event",()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(this.token=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")):(this.token="",this.uid="")})},beforeUnmount(){kI.$off("setRec-event"),kI.$off("user-event")},methods:{setNamehide:e=>e&&e.length>30?`${e.slice(0,30)}...`:e,setSinglepage(e){console.log("Navigating to single page with item:",e),e&&sessionStorage.setItem("mf_single_data",JSON.stringify(e));const t=e.ISIN||e.Scheme_Code||e.schemeCode||e.isin;t?this.$router.push({name:"mutual fund single",params:{ISIN:t}}):(console.error("No ISIN or Scheme_Code found in item:",e),kI.$emit("snack-event",0,"Unable to navigate: Missing fund identifier"))},async ressetMFnfodata(){try{this.mftableloader=!0;let e=await ple();console.log("NFO API Response:",e);let t=null;if(e&&("Ok"==e.stat&&e.data&&Array.isArray(e.data)||e.data&&Array.isArray(e.data)?t=e.data:(Array.isArray(e)||"Ok"==e.stat&&Array.isArray(e))&&(t=e)),console.log("Processed NFO data:",t),console.log("NFO data length:",(null==t?void 0:t.length)||0),t&&Array.isArray(t)&&t.length>0){for(let e=0;e<t.length;e++){if(!t[e].name&&t[e].Scheme_Name&&(t[e].name=t[e].Scheme_Name),t[e].Scheme_Name){let a=t[e].Scheme_Name.split("-").slice(0);for(let l=0;l<a.length;l++)t[e].splito=a[l].includes("GROWTH")?"GROWTH":a[l].includes("IDCW PAYOUT")?"IDCW PAYOUT":a[l].includes("IDCW REINVESTMENT")?"IDCW REINVESTMENT":a[l].includes("IDCW")?"IDCW":"NORMAL",""!=t[e].SCHEME_SUB_CATEGORY&&t[e].SCHEME_SUB_CATEGORY||(t[e].SCHEME_SUB_CATEGORY=a[l].includes("ETF")?"ETFs":"")}t[e].splitt=t[e].SCHEME_CATEGORY?t[e].SCHEME_CATEGORY.toUpperCase():"OTHER SCHEME",t[e].splitr=t[e].SCHEME_SUB_CATEGORY?t[e].SCHEME_SUB_CATEGORY.replace(/Fund|Hybrid|_/gi,"").toUpperCase():""}this.mftabledata=t,console.log("Final NFO data:",this.mftabledata.length,"items"),console.log("First item:",this.mftabledata[0])}else this.mftabledata=[],console.warn("No NFO data found or empty array");this.mftableloader=!1,this.mfallsearchloader=!1}catch(Wie){console.error("Error loading NFO data:",Wie),kI.$emit("snack-event",0,`Error loading NFO data: ${Wie.message||Wie}`),this.mftableloader=!1,this.mfallsearchloader=!1,this.mftabledata=[]}},goToLogin(){window.location.assign(`https://desk.zebuetrade.com/mynt/?url=${window.location.origin+window.location.pathname}`)},putMForder(e,t){kI.$emit("menudialog","mforder",t,e)},getusedMutual(e){kI.$emit("addscript-wl",e,"mf")},setChangewl(){this.showtable=24,this.mftabledata=[],this.mftabledata=this.mutualuseritems.filter(e=>e.SCHEME_CATEGORY.includes("Other"==this.mfcategorie.cat?"others":this.mfcategorie.cat)&&e.SCHEME_SUB_CATEGORY.includes(this.mfcategorie.sub)&&e.AMC_Code.includes(this.mfcategorie.amc)&&e.AUM>=this.mfcategorie.rangeaum[0]&&e.AUM<=this.mfcategorie.rangeaum[1]&&e.Minimum_Purchase_Amount>=this.mfcategorie.minamt[0]&&e.Minimum_Purchase_Amount<=this.mfcategorie.minamt[1]),this.mftableloader=!1},setMFrowdata(e){this.$router.push({name:"mutual fund amc",params:{mfamc:e}})}}},[["render",function(e,t,a,l,n,o){const s=$("P");return z(),R("div",D8,[d(Ry,{"no-gutters":"",class:"pt-0"},{default:H(()=>[d(ky,{cols:"12",class:"pt-0"},{default:H(()=>[...t[22]||(t[22]=[i("p",{class:"text-h6 font-weight-bold px-3 pb-3"},"Mutual funds NFO",-1)])]),_:1}),d(ky,{cols:"3",class:"d-none d-md-none"}),d(ky,{cols:"12"},{default:H(()=>[d(cy,{style:{border:"1px solid #E0E0E0"},variant:"outlined",class:"elevation-0 rounded-lg mb-8 mb-md-0 pt-0 crd-trn"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 pa-3 crd-trn",density:"compact"},{default:H(()=>[d(cb,{class:"pl-0"},{prepend:H(()=>[d(oy,{class:"mr-4",size:"60"},{default:H(()=>[...t[23]||(t[23]=[i("img",{width:"57px",src:gf},null,-1)])]),_:1})]),default:H(()=>[d(ub,{class:"font-weight-bold text-h6 pa-0"},{default:H(()=>[d(T_,{color:"primary",class:"pt-2",content:e.mftabledata?e.mftabledata.length:0,"model-value":e.mftabledata&&e.mftabledata.length>0},{default:H(()=>[...t[24]||(t[24]=[i("span",null,"Ongoing new fund offerings",-1)])]),_:1},8,["content","model-value"])]),_:1}),d(rb,{class:"fs-12 txt-666"},{default:H(()=>[...t[25]||(t[25]=[W("A new fund offer (NFO) is the first subscription for any new fund by an investment company.",-1)])]),_:1})]),_:1}),d(zy),d(Fk,{rounded:"pill",modelValue:e.opensearch,"onUpdate:modelValue":t[0]||(t[0]=t=>e.opensearch=t),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search",class:"pwidth rounded-pill ml-1 d-none d-md-flex search-field-center",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{"must-sort":"","sort-by":[{key:"",order:"asc"}],"hide-default-footer":"","hide-default-header":"","fixed-header":"",loading:e.mftableloader,search:e.opensearch,mobile:"",class:"rounded-0 overflow-y-auto ipo-data-table",headers:o.tradeheader,height:"calc(100vh - 180px)",items:e.mftabledata,"items-per-page":e.mftabledata&&e.mftabledata.length>0?e.showtable:0,"item-key":"Scheme_Code"},{body:H(({items:a,headers:l})=>[i("table",V8,[i("thead",B8,[i("tr",null,[(z(!0),R(u,null,U(o.tradeheader,e=>(z(),R("th",{key:e.key,class:r(e.class),style:c({textAlign:"end"===e.align?"right":"left",padding:"16px 16px",fontWeight:"600",fontSize:"14px",backgroundColor:"#F5F5F5",borderBottom:"1px solid #E0E0E0",position:"sticky",top:"0"})},A(e.title),7))),128))])]),e.mftabledata&&e.mftabledata.length>0?(z(),R("tbody",$8,[(z(!0),R(u,null,U(a,(a,l)=>(z(),R("tr",{class:"table-row",key:l,onMouseenter:t=>e.hoveredRow=l,onMouseleave:t[3]||(t[3]=t=>e.hoveredRow=null),style:c({backgroundColor:e.hoveredRow===l?"#E3F2FD":"white",borderBottom:"1px solid #E0E0E0",transition:"background-color 0.2s ease"})},[i("td",z8,[i("div",U8,[i("div",q8,[d(s,{onClick:e=>o.setSinglepage(a),class:r(["fs-13 font-weight-medium mt-2 table-hov-text txt-dec-cust fund-name-link",{"fund-name-hover":e.hoveredRow===l}]),style:{cursor:"pointer","line-height":"1.4"}},{default:H(()=>[W(A(a.name?o.setNamehide(a.name):""),1)]),_:2},1032,["onClick","class"]),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",H8,A(a.splito?a.splito:""),1)]),_:2},1024),d(R_,{size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",j8,A(a.splitt?a.splitt:""),1)]),_:2},1024),a.splitr?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",W8,A(a.splitr?a.splitr:""),1)]),_:2},1024)):ee("",!0)]),_:2},1024)]),i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:r([{"d-flex":e.hoveredRow===l,"d-none":e.hoveredRow!==l},"align-center"]),style:{"min-width":"fit-content","margin-left":"16px","flex-shrink":"0"}},[o.isLoggedIn?(z(),R(u,{key:1},["Y"==a.Purchase_Allowed?(z(),q(im,{key:0,onClick:e=>o.putMForder(a,"buy"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-buy-chip"},{default:H(()=>[...t[27]||(t[27]=[W(" Buy",-1)])]),_:1},8,["onClick"])):ee("",!0),"Y"==a.SIP_FLAG?(z(),q(im,{key:1,onClick:e=>o.putMForder(a,"sip"),size:"small",class:"elevation-0 text-none font-weight-bold mr-1 mf-sip-chip"},{default:H(()=>[...t[28]||(t[28]=[W(" SIP",-1)])]),_:1},8,["onClick"])):ee("",!0),d(im,{onClick:e=>o.getusedMutual(a),style:{border:"1px solid var(--outline)","box-shadow":"none"},"min-width":"20px",color:"mainbg",class:"px-0 elevation-0 ml-2 d-none d-sm-flex",size:"x-small"},{default:H(()=>[...t[29]||(t[29]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 10 12",fill:"none"},[i("path",{d:"M9 11L5 8.61905L1 11V1.95238C1 1.69979 1.09365 1.45755 1.26035 1.27895C1.42705 1.10034 1.65314 1 1.88889 1H8.11111C8.34686 1 8.57295 1.10034 8.73965 1.27895C8.90635 1.45755 9 1.69979 9 1.95238V11Z",stroke:"#999","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),_:1},8,["onClick"])],64)):(z(),q(im,{key:0,onClick:t[1]||(t[1]=e=>o.goToLogin()),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"#F1F3F8",style:{"min-width":"80px","box-shadow":"none !important"}},{default:H(()=>[...t[26]||(t[26]=[W(" Invest",-1)])]),_:1}))],2)])]),i("td",Y8,A(a.Start_Date?a.Start_Date:"-"),1),i("td",G8,A(a.End_Date?a.End_Date:"-"),1),i("td",K8,[i("span",X8,"₹"+A(a.Minimum_Purchase_Amount?Number(a.Minimum_Purchase_Amount).toFixed(2):"0.00"),1)])],44,R8))),128)),e.showtable<e.mftabledata.length?(z(),R("tr",J8,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[e.opensearch?ee("",!0):(z(),q(im,{key:0,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[4]||(t[4]=t=>e.showtable+=24),block:""},{default:H(()=>[...t[30]||(t[30]=[W("show more",-1)])]),_:1}))],8,Q8)])):ee("",!0)])):(z(),R("tbody",Z8,[i("tr",null,[i("td",{colspan:o.tradeheader.length,class:"text-center"},[i("div",t7,[i("img",{class:"mx-auto",width:"80px",src:o.noDataImage},null,8,a7),t[31]||(t[31]=i("h4",{class:"txt-999 font-weight-regular text-caption"},"There is no data here yet!",-1))])],8,e7)])]))])]),_:1},8,["loading","search","headers","items","items-per-page"])]),_:1})]),_:1}),d(ky,{cols:"3",class:"pt-2 pr-0 d-none d-md-none"},{default:H(()=>[d(jg,{onClick:t[6]||(t[6]=t=>e.addscript=!0),flat:"",density:"compact",class:"tool-sty"},{default:H(()=>[i("p",l7,[t[34]||(t[34]=W(" Filters ",-1)),e.mfcategorie.cat||e.mfcategorie.sub||e.mfcategorie.amc?(z(),q(R_,{key:0,class:"ml-1",size:"x-small",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[t[33]||(t[33]=W(" clear all",-1)),d(wp,{onClick:t[5]||(t[5]=t=>(e.mfcategorie.cat="",e.mfcategorie.sub="",e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[32]||(t[32]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0)]),d(zy)]),_:1}),""!=e.mfcategorie.cat||""!=e.mfcategorie.sub||""!=e.mfcategorie.amc?(z(),q(B_,{key:0,column:"",class:"my-0"},{default:H(()=>[e.mfcategorie.cat?(z(),q(R_,{key:0,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.cat.replace("Scheme",""))+" ",1),d(wp,{onClick:t[7]||(t[7]=t=>(e.mfcategorie.cat="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[35]||(t[35]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.sub?(z(),q(R_,{key:1,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.sub)+" ",1),d(wp,{onClick:t[8]||(t[8]=t=>(e.mfcategorie.sub="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[36]||(t[36]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.amc?(z(),q(R_,{key:2,class:"rounded-lg",color:"secbg","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.amc.split("_")[0])+" ",1),d(wp,{onClick:t[9]||(t[9]=t=>(e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[37]||(t[37]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0)]),_:1})):ee("",!0),d(Q_,{modelValue:e.panel,"onUpdate:modelValue":t[12]||(t[12]=t=>e.panel=t),class:"expan"},{default:H(()=>[d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.cat,dot:""},{default:H(()=>[...t[38]||(t[38]=[W(" Category ",-1)])]),_:1},8,["model-value"]),i("span",n7,A(e.mfcategorie.cats?Object.keys(e.mfcategorie.cats).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",null,[(z(!0),R(u,null,U(e.mfcategorie.cats,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.cat!=a?e.mfcategorie.cat=a:e.mfcategorie.cat="",o.setChangewl()),class:"crd-trn px-2"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.cat==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.cat==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.replace("Scheme","")),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.sub,dot:""},{default:H(()=>[...t[39]||(t[39]=[W(" Sub category ",-1)])]),_:1},8,["model-value"]),i("span",o7,A(e.mfcategorie.subs?Object.keys(e.mfcategorie.subs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",s7,[(z(!0),R(u,null,U(e.mfcategorie.subs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.sub!=a?e.mfcategorie.sub=a:e.mfcategorie.sub="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.sub==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.sub==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.amc,dot:""},{default:H(()=>[...t[40]||(t[40]=[W(" AMC ",-1)])]),_:1},8,["model-value"]),i("span",i7,A(e.mfcategorie.amcs?Object.keys(e.mfcategorie.amcs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",r7,[(z(!0),R(u,null,U(e.mfcategorie.amcs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.amc!=a?e.mfcategorie.amc=a:e.mfcategorie.amc="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.amc==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-lowercase",style:c(`color:${e.mfcategorie.amc==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.split("_")[0]),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[41]||(t[41]=[i("span",{id:"panel3"}," Min. purchase amount ",-1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[10]||(t[10]=e=>o.setChangewl()),t[11]||(t[11]=t=>e.mfcategorie.minamt=t)],color:"#FF1717",modelValue:e.mfcategorie.minamt,max:e.mfcategorie.minamt_max,min:e.mfcategorie.minamt_min,"hide-details":"",step:e.mfcategorie.minamt_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",u7,[t[42]||(t[42]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[43]||(t[43]=i("br",null,null,-1)),W(" ₹"+A(e.mfcategorie.minamt[0]<1e3?e.mfcategorie.minamt[0]:`${(e.mfcategorie.minamt[0]/1e3).toFixed(0)}k`),1)])]),append:H(()=>[...t[44]||(t[44]=[i("p",{class:"fs-12 black-text mb-0"},[i("span",{class:"fs-10 subtext--text"},"MAX"),i("br"),W(" ₹200k ")],-1)])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(pP,{modelValue:e.mobilefilter,"onUpdate:modelValue":t[21]||(t[21]=t=>e.mobilefilter=t),class:"d-md-none"},{default:H(()=>[d(VI,{class:"rounded-t-xl px-4",height:"70vh"},{default:H(()=>[i("div",{onClick:t[13]||(t[13]=t=>e.mobilefilter=!1),class:"text-center"},[...t[45]||(t[45]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"3",viewBox:"0 0 32 3",fill:"none"},[i("rect",{width:"32",height:"3",rx:"1.5",fill:"#DDDDDD","fill-opacity":"0.866667"})],-1)])]),""!=e.mfcategorie.cat||""!=e.mfcategorie.sub||""!=e.mfcategorie.amc?(z(),q(B_,{key:0,column:"",class:"my-0"},{default:H(()=>[e.mfcategorie.cat?(z(),q(R_,{key:0,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.cat.replace("Scheme",""))+" ",1),d(wp,{onClick:t[14]||(t[14]=t=>(e.mfcategorie.cat="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[46]||(t[46]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.sub?(z(),q(R_,{key:1,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.sub)+" ",1),d(wp,{onClick:t[15]||(t[15]=t=>(e.mfcategorie.sub="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[47]||(t[47]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),e.mfcategorie.amc?(z(),q(R_,{key:2,class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[W(A(e.mfcategorie.amc.split("_")[0])+" ",1),d(wp,{onClick:t[16]||(t[16]=t=>(e.mfcategorie.amc="",o.setChangewl())),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[48]||(t[48]=[W(" mdi-close ",-1)])]),_:1})]),_:1})):ee("",!0),d(R_,{class:"rounded-lg",color:"secbg","text-color":"subtext",size:"x-small",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[t[50]||(t[50]=W(" Clear all ",-1)),d(wp,{onClick:t[17]||(t[17]=t=>(e.mfcategorie.cat="",e.mfcategorie.sub="",e.mfcategorie.amc="",o.setChangewl(),e.mobilefilter=!1)),size:"14",color:"#666",class:"ml-2"},{default:H(()=>[...t[49]||(t[49]=[W(" mdi-close ",-1)])]),_:1})]),_:1})]),_:1})):ee("",!0),d(Q_,{modelValue:e.panel,"onUpdate:modelValue":t[20]||(t[20]=t=>e.panel=t),class:"expan"},{default:H(()=>[d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.cat,dot:""},{default:H(()=>[...t[51]||(t[51]=[W(" Category ",-1)])]),_:1},8,["model-value"]),i("span",d7,A(e.mfcategorie.cats?Object.keys(e.mfcategorie.cats).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",null,[(z(!0),R(u,null,U(e.mfcategorie.cats,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.cat!=a?e.mfcategorie.cat=a:e.mfcategorie.cat="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.cat==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.cat==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.replace("Scheme","")),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.sub,dot:""},{default:H(()=>[...t[52]||(t[52]=[W(" Sub category ",-1)])]),_:1},8,["model-value"]),i("span",c7,A(e.mfcategorie.subs?Object.keys(e.mfcategorie.subs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",p7,[(z(!0),R(u,null,U(e.mfcategorie.subs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.sub!=a?e.mfcategorie.sub=a:e.mfcategorie.sub="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.sub==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-capitalize",style:c(`color:${e.mfcategorie.sub==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[i("span",null,[d(T_,{"model-value":e.mfcategorie.amc,dot:""},{default:H(()=>[...t[53]||(t[53]=[W(" AMC ",-1)])]),_:1},8,["model-value"]),i("span",m7,A(e.mfcategorie.amcs?Object.keys(e.mfcategorie.amcs).length:""),1)])]),_:1}),d(j_,{class:"px-0"},{default:H(()=>[i("div",v7,[(z(!0),R(u,null,U(e.mfcategorie.amcs,(t,a,l)=>(z(),R("div",{key:l},[d(cb,{onClick:t=>(e.mfcategorie.amc!=a?e.mfcategorie.amc=a:e.mfcategorie.amc="",o.setChangewl()),class:"px-2 crd-trn"},{default:H(()=>[d(cy,{class:"pa-2 elevation-0 mr-2",color:e.mfcategorie.amc==a?"#0037B7":"#F1F3F8"},null,8,["color"]),d(ub,{class:"fs-12 text-lowercase",style:c(`color:${e.mfcategorie.amc==a?"#0037B7":"#000000"};`)},{default:H(()=>[W(A(a.split("_")[0]),1)]),_:2},1032,["style"])]),_:2},1032,["onClick"])]))),128))])]),_:1})]),_:1}),d(K_,null,{default:H(()=>[d(Y_,{class:"px-0"},{default:H(()=>[...t[54]||(t[54]=[i("span",{id:"panel3"}," Min. purchase amount ",-1)])]),_:1}),d(j_,{class:"px-0 pb-4"},{default:H(()=>[d(x6,{"onUpdate:modelValue":[t[18]||(t[18]=e=>o.setChangewl()),t[19]||(t[19]=t=>e.mfcategorie.minamt=t)],color:"#FF1717",modelValue:e.mfcategorie.minamt,max:e.mfcategorie.minamt_max,min:e.mfcategorie.minamt_min,"hide-details":"",step:e.mfcategorie.minamt_max/50,class:"align-center mt-4"},{prepend:H(()=>[i("p",h7,[t[55]||(t[55]=i("span",{class:"fs-10 subtext--text"},"MIN",-1)),t[56]||(t[56]=i("br",null,null,-1)),W(" ₹"+A(e.mfcategorie.minamt[0]<1e3?e.mfcategorie.minamt[0]:`${(e.mfcategorie.minamt[0]/1e3).toFixed(0)}k`),1)])]),append:H(()=>[...t[57]||(t[57]=[i("p",{class:"fs-12 black-text mb-0"},[i("span",{class:"fs-10 subtext--text"},"MAX"),i("br"),W(" ₹200k ")],-1)])]),_:1},8,["modelValue","max","min","step"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}]]),g7={data:()=>({uid:null,mtoken:null,stoken:null,mainloader:!0,bodytab:0,valid:!0,isni:null,menu2:!1,mfnavchart:[],dashitems:[{txt:"Overview"},{txt:"Performance"},{txt:"Scheme"},{txt:"Allocation"},{txt:"Rollings"},{txt:"Comparison"}],menudata:{},volatilityfield:{Alpha:"","Sharp Ratio":"",Mean:"",Beta:"","Std. Deviation":"",YTM:"","Modified Duration":"","Average Maturity":"","Face Value":""},schemefield:{Launched:"","SIP Minimum":"","Corpus (Cr.)":"","Expense Ratio":"","Lumpsum Min.":"","AMU (Cr.)":"","Settlement type":"","Lock-in":"","Scheme type":""},peerstab:"10 Year",peersearch:null,peeritem:[],pricecompar:[],imageicon:"",roolstab:"1 Year",rollingitem:[],rolldate:"1970-01-01",schemereturns:[],benchreturns:[],sessstoreddata:[]}),computed:{peerheader:()=>[{title:"Scheme",key:"name",sortable:!1,class:"peer-w-head pl-md-6 pl-4"},{title:"AUM (Cr)",key:"aum",sortable:!1,class:"d-none d-md-table-cell"},{title:"10 Year %",key:"10Year",sortable:!1,class:"ws-p d-none d-md-table-cell"},{title:"Rating",key:"fundRat",sortable:!1,class:"ws-p d-none d-md-table-cell"}],mfholdheader:()=>[{title:"Funds",key:"mutual_fund",sortable:!1,class:"mf-w-head pl-md-6 pl-4"},{title:"Mkt. cap held%",key:"market_cap_Held",sortable:!1,align:"end",class:"ws-p d-none d-md-table-cell"},{title:"AUM",key:"mf_aum",sortable:!1,align:"end",class:"d-none d-md-table-cell"},{title:"Weight%",key:"mf_holding_percent",sortable:!1,align:"end",class:"pr-md-6 pr-4 d-none d-md-table-cell"},{title:"Trend",key:"mftrend",sortable:!1,align:"end",class:"pr-4 d-md-none"}],riskMeterMap:()=>({1:cf,2:pf,3:mf,4:vf,5:hf,6:ff}),noDataImage:()=>wf},async created(){let e=this.$route.params;if(console.log("Route params:",e),!e||!e.ISIN){const t=sessionStorage.getItem("mf_single_data");if(t)try{const a=JSON.parse(t);e={ISIN:a.ISIN||a.Scheme_Code||a.schemeCode||a.isin,...a},console.log("Using stored data for params:",e)}catch(SJ){console.error("Error parsing stored data:",SJ),sessionStorage.removeItem("mf_single_data")}}e&&e.ISIN?await this.getMenuData(e):e&&(e.Scheme_Code||e.Scheme_Name)?(console.warn("No ISIN in route params, redirecting to mutual fund page"),this.$router.push("/mutualfund")):(console.warn("No valid fund identifier found, redirecting to mutual fund page"),this.$router.push("/mutualfund"))},mounted(){let e=this.$route.params;console.log("Mounted paramsdata:",e),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(this.uid||this.stoken||(this.mtoken=sessionStorage.getItem("msession"),this.stoken=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid"))),kI.$emit("tabBar-load"),kI.$emit("login-event"),kI.$on("user-event",()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(this.uid||this.stoken||(this.mtoken=sessionStorage.getItem("msession"),this.stoken=sessionStorage.getItem("usession"),this.uid=sessionStorage.getItem("userid")))}),kI.$on("ssdmf-event",e=>{this.isni!=e.ISIN?(this.mainloader=!0,this.menudata={},this.mfnavchart=[],this.volatilityfield={Alpha:"","Sharp Ratio":"",Mean:"",Beta:"","Std. Deviation":"",YTM:"","Modified Duration":"","Average Maturity":"","Face Value":""},this.schemefield={Launched:"","SIP Minimum":"","Corpus (Cr.)":"","Expense Ratio":"","Lumpsum Min.":"","AMU (Cr.)":"","Settlement type":"","Lock-in":"","Scheme type":""},this.peerstab="10 Year",this.peersearch=null,this.peeritem=[],this.pricecompar=[],this.imageicon="",this.roolstab="1 Year",this.rollingitem=[],this.rolldate="1970-01-01",this.schemereturns=[],this.benchreturns=[],this.getMenuData(e)):this.$router.push("/mutualfund")}),this.sessstoreddata=JSON.parse(sessionStorage.getItem("mf_single_data")),this.$watch(()=>this.$route.params,e=>{e&&e.ISIN&&e.ISIN!==this.isni&&this.getMenuData(e)},{deep:!0})},beforeUnmount(){kI.$off("ssdmf-event"),kI.$off("user-event")},methods:{getRiskMeterImage(e){const t=e?parseInt(e.toString()):1;return this.riskMeterMap[t]||cf},async getMenuData(e){if(console.log("getMenuData params:",e),!e||!e.ISIN)return console.error("No ISIN in params:",e),void this.$router.push("/mutualfund");try{this.mainloader=!0;var t=(new Date).getFullYear()-1;if(this.rolldate=new Date(t.toString()).toISOString().split("T")[0],console.log("rolldate",this.rolldate),this.isni=e.ISIN,console.log("Loading data for ISIN:",this.isni),this.menudata=await mle(e.ISIN),console.log("MF sheet data response:",this.menudata),this.menudata&&"Ok"==this.menudata.stat)this.mfnavchart=await vle(e.ISIN,"1990-01-01",(new Date).toISOString().split("T")[0]),console.log("NAV chart response:",this.mfnavchart),this.menudata=this.menudata.data,this.menudata.params=e,this.menudata.navDate&&(this.menudata.navDate=new Date(this.menudata.navDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})),this.setSingleSheet(this.menudata,this.mfnavchart,this.peeritem),this.imageicon=`${ol.mfapi}static/images/mf/${this.menudata.AMC_Code}.png`,this.menudata.fundManager&&(this.menudata.manageris=`${ol.mfapi}static/images/manager/${this.menudata.fundManager.replace(" ","").toLowerCase()}.png`),this.setPeersdata(),this.mainloader=!1;else{const e=this.menudata&&this.menudata.data?this.menudata.data:this.menudata&&this.menudata.msg?this.menudata.msg:"Failed to load fund data";kI.$emit("snack-event",0,e),console.error("Error loading fund data:",e),this.$router.push("/mutualfund")}}catch(Wie){console.error("Error in getMenuData:",Wie),kI.$emit("snack-event",0,`Error loading fund data: ${Wie.message||Wie}`),this.$router.push("/mutualfund")}},imageLoadError(){this.imageicon=null},async setSingleSheet(e,t){this.volatilityfield={Alpha:e.alpha||"","Sharp Ratio":e.sharpRatio||"",Mean:e.mean||"",Beta:e.beta||"","Std. Deviation":e.standardDev||"",YTM:e.ytm||"","Modified Duration":e.modifiedDuration||"","Average Maturity":e.avgMat||"","Face Value":this.menudata.params&&this.menudata.params.Face_Value?this.menudata.params.Face_Value:""},this.schemefield={Launched:this.menudata.params&&this.menudata.params.Launch_Date?this.menudata.params.Launch_Date:"","SIP Minimum":e.sipMinAmount||"","Corpus (Cr.)":this.menudata.corpus||"","Expense Ratio":this.menudata.expenseRatio||"","Lumpsum Min.":e.purchaseMinAmount||"","AMU (Cr.)":this.menudata.params&&this.menudata.params.AUM?`${(Number(this.menudata.params.AUM)/1e7).toFixed(2)}`:"","Settlement type":this.menudata.SETTLEMENT_TYPE||"","Lock-in":this.menudata.params&&this.menudata.params.Lock_in_Period?this.menudata.params.Lock_in_Period:"","Scheme type":this.menudata.params&&this.menudata.params.NAV_Scheme_Type?this.menudata.params.NAV_Scheme_Type:""};let a=[{value:e.vEquity&&e.vEquity>0?e.vEquity:0,name:"Equity"},{value:e.vDebt&&e.vDebt>0?e.vDebt:0,name:"Debt"},{value:e.goldPercent&&e.goldPercent>0?e.goldPercent:0,name:"Gold"},{value:e.globalEquityPercent&&e.globalEquityPercent>0?e.globalEquityPercent:0,name:"Global Equity"},{value:e.vOther&&e.vOther>0?e.vOther:0,name:"Others"}];if(this.setAssetchart(a),t&&"Ok"==t.stat){var l=[],n=[];for(let e=0;e<t.data.length;e++)l.push(new Date(t.data[e].navDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"2-digit"})),n.push(t.data[e].nav?Number(t.data[e].nav).toFixed(2):null);this.setNavchart(l,n)}var o=await fle(this.isni);if(o&&"Ok"==o.stat){var s=[],i=[],r=[];for(let e=0;e<o.data.length;e++)r.push(new Date(o.data[e].navDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})),s.push(o.data[e].schReturns?Number(o.data[e].schReturns).toFixed(2):null),i.push(o.data[e].benchmarkReturns?Number(o.data[e].benchmarkReturns).toFixed(2):null);this.setCumPerchart(r,s,i)}this.schemereturns=[{returns:e["3Month"],type:"3 Months"},{returns:e["6Month"],type:"6 Months"},{returns:e["1Year"],type:"1 Year"},{returns:e["3Year"],type:"3 Years"},{returns:e["5Year"],type:"5 Years"},{returns:e["10Year"],type:"10 Years"}],e.benchmarkTrailingReturn?this.benchreturns=[{returns:e.benchmarkTrailingReturn["3MonthBenchMarkReturn"],type:"3 Months"},{returns:e.benchmarkTrailingReturn["6MonthBenchMarkReturn"],type:"6 Months"},{returns:e.benchmarkTrailingReturn["1YearBenchMarkReturn"],type:"1 Year"},{returns:e.benchmarkTrailingReturn["3YearBenchMarkReturn"],type:"3 Years"},{returns:e.benchmarkTrailingReturn["5YearBenchMarkReturn"],type:"5 Years"},{returns:e.benchmarkTrailingReturn["10YearBenchMarkReturn"],type:"10 Years"}]:this.benchreturns=[]},async getRollingData(){var e=await gle(`[${this.rollingitem}]`,this.rolldate,this.roolstab.replace(" Year",""));if(e&&"Ok"==e.stat){var t={key:[],data:[]},a=["#148564","#7CD36E","#F9CD6C","#FDEBC4","#DEDEDE"];t.key=e.data.map(e=>e.finalDate);for(let l=0;l<this.rollingitem.length;l++)t.data.push({name:e.data[0][`${l}schemeName`],type:"line",symbol:"none",sampling:"lttb",data:e.data.map(e=>e[`ret${l}`]?e[`ret${l}`].toFixed(2):null),color:a[l],areaStyle:{color:new Wa(0,0,0,1,[{offset:0,color:a[l]+"30"},{offset:1,color:a[l]+"05"}])}});this.setRollchart(t.key,t.data)}},async setPeersdata(){this.peeritem=[];var e=await hle(this.isni,this.peerstab.replace(" ",""));if(e&&"Ok"==e.stat){const a=this.peerheader.findIndex(e=>"10Year"===e.key);-1!==a&&(this.peerheader[a].title=`${this.peerstab} %`,this.peerheader[a].key=this.peerstab.replace(" ","")),this.peeritem=e.topSchemes||[],this.rollingitem=[];for(var t=0;t<e.topSchemes.length;t++)this.rollingitem.push(`"${e.topSchemes[t].ISIN}"`);this.rollingitem=this.rollingitem.slice(0,4),this.rollingitem.unshift(`"${this.isni}"`),this.getRollingData()}},setNavchart(e,t){this.$nextTick(()=>{const a=document.getElementById("navchart");if(!a)return void console.warn("NAV chart element not found");const l=Ya(a);l&&l.dispose();try{var n=Ha(a),o={grid:{left:24,right:32,top:32,bottom:24},tooltip:{trigger:"axis"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:{type:"category",data:e},yAxis:{type:"value",position:"right",splitLine:{show:!1},axisLabel:{formatter:e=>e>=1e3?e/1e3+" K":e}},series:[{type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"#1e53e5"},areaStyle:{color:new Wa(0,0,0,1,[{offset:0,color:"#1e53e530"},{offset:1,color:"#1e53e505"}])},markLine:{silent:!0,symbol:"none",data:[{yAxis:Number(this.menudata.currentNAV),label:{show:!0}}]},data:t}]};o&&n.setOption(o),window.addEventListener("resize",function(){n.resize()})}catch(Wie){console.error("Error initializing NAV chart:",Wie)}})},setCumPerchart(e,t,a){this.$nextTick(()=>{const l=document.getElementById("cumchart");if(!l)return void console.warn("Cumulative performance chart element not found");const n=Ya(l);n&&n.dispose();try{var o=Ha(l),s={grid:{left:52,right:24,y:"4%",bottom:80},tooltip:{trigger:"axis"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},legend:{bottom:16},xAxis:{type:"category",data:e},yAxis:{type:"value",axisLabel:{formatter:e=>e/1e3+" K"}},series:[{name:"Scheme Returns",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"#1e53e5"},areaStyle:{color:new Wa(0,0,0,1,[{offset:0,color:"#1e53e530"},{offset:1,color:"#1e53e505"}])},data:t},{name:"Benchmark Returns",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"#D86F10"},areaStyle:{color:new Wa(0,0,0,1,[{offset:0,color:"#D86F1030"},{offset:1,color:"#D86F1005"}])},data:a}]};s&&o.setOption(s),window.addEventListener("resize",function(){o.resize()})}catch(Wie){console.error("Error initializing cumulative performance chart:",Wie)}})},setAssetchart(e){this.$nextTick(()=>{const t=document.getElementById("asschart");if(!t)return void console.warn("Asset chart element not found");const a=Ya(t);a&&a.dispose();try{var l=Ha(t),n={grid:{left:0,right:0,top:0,bottom:8},legend:{bottom:-4},tooltip:{trigger:"item"},series:[{name:"Asset allocation",type:"pie",radius:["58%","88%"],label:{show:!1},color:["#148564","#7CD36E","#F9CD6C","#FDEBC4","#DEDEDE"],data:e}]};n&&l.setOption(n),window.addEventListener("resize",function(){l.resize()})}catch(Wie){console.error("Error initializing asset chart:",Wie)}})},setRollchart(e,t){this.$nextTick(()=>{const a=document.getElementById("rollchart");if(!a)return void console.warn("Roll chart element not found");const l=Ya(a);l&&l.dispose();try{var n=Ha(a),o={grid:{left:60,right:24,y:"4%",bottom:100},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"horizontal",bottom:0,top:"bottom"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center"},xAxis:{type:"category",data:e},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},series:t};o&&n.setOption(o),window.addEventListener("resize",function(){n.resize()})}catch(Wie){console.error("Error initializing roll chart:",Wie)}})},setbodyTab(){this.$nextTick(()=>{var e,t,a;if(0==this.bodytab?a=document.getElementById("overview"):1==this.bodytab?a=document.getElementById("fin"):2==this.bodytab?a=document.getElementById("info"):3==this.bodytab?a=document.getElementById("hold"):4==this.bodytab?a=document.getElementById("roll"):5==this.bodytab&&(a=document.getElementById("peers")),a){const l=(null==(e=this.$el)?void 0:e.querySelector(".overflow-y-auto.h91vh"))||(null==(t=this.$el)?void 0:t.querySelector(".ss-cust-scroll"))||document.querySelector(".overflow-y-auto.h91vh");if(l){const e=l.getBoundingClientRect(),t=a.getBoundingClientRect(),n=l.scrollTop+t.top-e.top-48;l.scrollTo({top:Math.max(0,n),behavior:"smooth"})}else a.scrollIntoView({block:"start",behavior:"smooth",inline:"start"})}})},handleScroll(e){var t,a,l,n,o,s=e.target.scrollTop,i=(null==(t=document.getElementById("fin"))?void 0:t.offsetTop)-216||0,r=(null==(a=document.getElementById("info"))?void 0:a.offsetTop)-216||0,u=(null==(l=document.getElementById("hold"))?void 0:l.offsetTop)-216||0,d=(null==(n=document.getElementById("roll"))?void 0:n.offsetTop)-216||0,c=(null==(o=document.getElementById("peers"))?void 0:o.offsetTop)-216||0;s>=0&&s<i?this.bodytab=0:s>i&&s<r?this.bodytab=1:s>r&&s<u?this.bodytab=2:s>u&&s<d?this.bodytab=3:s>d&&s<c?this.bodytab=4:s>c&&(this.bodytab=5)},putMForder(e){kI.$emit("menudialog","mforder",e,this.sessstoreddata)}}},y7={class:"body-part"},b7={class:"mb-6 pos-rlt default-tab"},x7={class:"text-center tab-txt"},w7=["src","alt"],_7={key:1,class:"headline font-weight-bold"},k7={class:"d-flex align-center mt-1"},S7={class:"fs-10"},C7={class:"fs-10"},I7={class:"px-0 px-md-4 d-flex justify-end"},E7={class:"text-left mb-3"},T7={class:"fs-12 subtext--text text-uppercase mb-1"},N7={key:0},M7={class:"fs-14 maintext--text text-right font-weight-bold"},A7={class:"text-left mb-3 ml-10"},O7={class:"text-left mb-3 ml-10"},P7={class:"fs-14 maintext--text font-weight-bold text-right"},F7={class:"px-md-6 px-4 pt-4 pt-md-5"},L7={class:"font-weight-bold title mb-1 fs-20 text-capitalize"},D7={class:"fs-14 subtext--text txt-x-j grey--text mb-0"},V7=["src"],B7={class:"pb-3 pb-md-6"},$7={class:"d-flex justify-space-between align-center mb-3"},R7={class:"d-flex align-center"},z7={class:"d-flex pt-0"},U7={class:"px-1 flex-grow-1 d-flex flex-column justify-center"},q7={class:"mb-2 fs-10 text-uppercase text-black text-center"},H7={class:"fs-13 font-weight-bold mb-0 white--text text-center"},j7={class:"d-flex flex-row mb-1"},W7={class:"maintext--text font-weight-bold fs-12 pt-2 lh-16"},Y7={class:"fs-10"},G7={class:"maintext--text font-weight-bold fs-12 pt-2 lh-16 float-right"},K7={class:"fs-10"},X7={class:"pt-md-6 pt-4 px-4 px-md-6"},J7={class:"pt-md-6 py-4 px-4 px-md-6"},Q7={class:"fs-14 mb-0 txt-x-j fs-14"},Z7=["src","alt"],e9={class:"d-flex"},t9={class:"ml-4 mt-1"},a9={class:"pt-md-6 py-4 px-4 px-md-6"},l9={class:"mb-5"},n9={class:"fs-14 mb-1"},o9={class:"float-right lh-24 font-weight-bold"},s9={class:"mb-5"},i9={class:"fs-14 mb-1"},r9={class:"float-right lh-24 font-weight-bold"},u9={class:"d-flex flex-column align-start justify-center"},d9={class:"font-weight-bold title mb-1"},c9={class:"maintext--text font-weight-medium fs-12 mb-0"},p9={class:"d-flex align-center"},m9={class:"font-weight-medium maintext--text txt-000 text-capitalize"},v9={class:"text-left txt-000"},h9={class:"text-right txt-000"},f9={key:0,class:"mb-0 lh-16"},g9={colspan:"100%",class:"text-center"},y9={class:"mx-auto"},b9=["src"],x9=zc(g7,[["render",function(e,t,a,l,n,o){const s=$("v-tabs-slider");return z(),R("div",null,[i("div",{class:"overflow-y-auto h91vh ss-cust-scroll overflow-x-hidden",onScrollPassive:t[14]||(t[14]=(...e)=>o.handleScroll&&o.handleScroll(...e))},[i("div",y7,[i("div",b7,[d(jg,{class:"d-none d-md-block px-0 pos-stk z-i3",style:{top:"0px"},flat:"",density:"compact",color:"cardbg"},{default:H(()=>[d(iB,{"onUpdate:modelValue":[o.setbodyTab,t[0]||(t[0]=t=>e.bodytab=t)],fixed:"",color:"maintext",modelValue:e.bodytab,"show-arrows":"",density:"compact"},{default:H(()=>[(z(!0),R(u,null,U(e.dashitems,(e,t)=>(z(),q(YV,{density:"compact",key:t,class:"text-none text-start min-w-fit"},{default:H(()=>[i("span",x7,A(e.txt),1)]),_:2},1024))),128)),d(s,{color:"maintext"})]),_:1},8,["onUpdate:modelValue","modelValue"]),d(zy),e.uid&&"Y"==e.sessstoreddata.Purchase_Allowed?(z(),q(im,{key:0,onClick:t[1]||(t[1]=e=>o.putMForder("buy")),size:"small",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 maingreen--text fs-14",style:{"background-color":"#ECF8F1 !important",color:"#43A833 !important"}},{default:H(()=>[...t[15]||(t[15]=[W("Buy",-1)])]),_:1})):ee("",!0),e.uid&&"Y"==e.sessstoreddata.SIP_FLAG?(z(),q(im,{key:1,onClick:t[2]||(t[2]=e=>o.putMForder("sip")),size:"small",class:"text-none font-weight-bold elevation-0 rounded-pill mr-2 primary--text fs-14",color:"secbg",style:{"background-color":"#F6F6F6 !important"}},{default:H(()=>[...t[16]||(t[16]=[W("SIP",-1)])]),_:1})):ee("",!0)]),_:1}),d(my,{class:"mb-md-0 mb-3 d-none d-md-flex pos-stk z-i3",style:{top:"48px"}}),i("div",null,[d(cy,{loading:e.mainloader,id:"overview",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[d(cy,{color:"secbg",class:"elevation-0 rounded-0 py-3 pb-1 px-md-2 px-3"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12",md:"8",class:"pb-0"},{default:H(()=>[d(cb,null,{prepend:H(()=>[d(oy,{color:"#fbfbfb",size:"56",class:"my-0 mr-0"},{default:H(()=>[e.imageicon?(z(),R("img",{key:0,src:e.imageicon,onError:t[3]||(t[3]=(...e)=>o.imageLoadError&&o.imageLoadError(...e)),alt:e.imageicon,width:"100%"},null,40,w7)):(z(),R("span",_7,A(e.menudata.fundName?e.menudata.fundName:"-"),1))]),_:1})]),default:H(()=>[d(ub,{class:r([e.menudata?"maintext--text":"txt-trn","fs-18 font-weight-bold mb-0 text-capitalize lh-14"])},{default:H(()=>[W(A(e.menudata?e.menudata.fundName:"abcd"),1)]),_:1},8,["class"]),i("div",k7,[e.sessstoreddata&&e.sessstoreddata.Type?(z(),q(R_,{key:0,size:"x-small",variant:"flat",class:"ml-2",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",S7,A(e.sessstoreddata.Type),1)]),_:1})):ee("",!0),e.sessstoreddata&&e.sessstoreddata.SubType?(z(),q(R_,{key:1,size:"x-small",variant:"flat",class:"ml-2",style:{"border-radius":"5px","background-color":"#ffffff !important",color:"#666666 !important"}},{default:H(()=>[i("span",C7,A(e.sessstoreddata.SubType),1)]),_:1})):ee("",!0)])]),_:1})]),_:1}),d(ky,{cols:"12",md:"4",class:"text-md-right text-left pt-0 pt-md-5 pb-2 pl-4 pl-md-3"},{default:H(()=>[i("div",I7,[i("div",E7,[i("div",T7,[t[17]||(t[17]=W("NAV ",-1)),e.menudata.navDate?(z(),R("span",N7,"("+A(e.menudata.navDate)+")",1)):ee("",!0)]),i("div",M7,A(Number(e.menudata.currentNAV)?`₹\n                          ${Number(e.menudata.currentNAV).toFixed(2)}`:"0.00"),1)]),i("div",A7,[t[18]||(t[18]=i("div",{class:"fs-12 subtext--text text-uppercase mb-1"},"5yr CAGR",-1)),i("div",{class:"fs-14 font-weight-bold text-right",style:c({color:e.menudata["5Year"]>0?"#43A833":e.menudata["5Year"]<0?"#F23645":"#666666"})},[i("span",{class:r(e.uid?"":"blur-text")},A(e.menudata["5Year"]?`${Number(e.menudata["5Year"]).toFixed(2)}%`:"0.00"),3)],4)]),i("div",O7,[t[19]||(t[19]=i("div",{class:"fs-12 subtext--text text-uppercase mb-1"},"AMU (Cr.)",-1)),i("div",P7,A(e.menudata.params?`${(Number(e.menudata.AUM)/1e7).toFixed(2)}`:"0.00"),1)])])]),_:1})]),_:1})]),_:1}),i("div",F7,[d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"10"},{default:H(()=>[i("p",L7,A(e.menudata?e.menudata.fundName:"")+" - "+A(e.menudata.category?e.menudata.category:""),1),i("p",D7,A(e.menudata.overview?e.menudata.overview.split("The fund portfolio")[0]:" - "),1)]),_:1}),d(ky,{cols:"12",md:"2",class:"pt-5"},{default:H(()=>[e.menudata&&e.menudata.risk?(z(),R("img",{key:0,src:o.getRiskMeterImage(e.menudata.risk),alt:"riskmeter",width:"100%"},null,8,V7)):ee("",!0)]),_:1})]),_:1}),d(Ry,{"no-gutters":"",class:"mt-0"},{default:H(()=>[d(ky,{cols:"12",md:"12",class:"py-2"},{default:H(()=>[t[20]||(t[20]=i("p",{class:"font-weight-bold subtitle-1 mb-2"},"Volatility Measures",-1)),d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(e.volatilityfield,(e,t,a)=>(z(),q(ky,{cols:"4",class:"pb-0",key:a},{default:H(()=>[d(Fk,{class:"funda-field mb-0",variant:"underlined",readonly:"",color:"maintext",label:t,"model-value":e||"-"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),d(my,{class:"mt-6 mb-3 d-none d-md-flex"})]),i("div",B7,[d(jg,{class:"nav-drawer elevation-0 px-md-5 px-0 crd-trn",density:"compact"},{default:H(()=>[t[21]||(t[21]=i("p",{class:"wid-160 font-weight-bold fs-20 title mb-0"},"Historical NAV",-1)),d(zy)]),_:1}),d(my),d(Ry,{class:"pt-md-5 pb-md-3 pl-md-6 pr-md-8 flex-column-reverse flex-md-row"},{default:H(()=>[d(ky,{cols:"12",md:"4",class:"px-7 px-md-3"},{default:H(()=>[i("div",$7,[t[25]||(t[25]=i("p",{class:"font-weight-bold subtitle-1 mb-0"},"Trailing Returns (%)",-1)),i("div",R7,[d(wp,{size:"12",color:"maingreen",class:"mr-1"},{default:H(()=>[...t[22]||(t[22]=[W("mdi-checkbox-blank",-1)])]),_:1}),d(wp,{size:"12",color:"mainred",class:"mr-1"},{default:H(()=>[...t[23]||(t[23]=[W("mdi-checkbox-blank",-1)])]),_:1}),t[24]||(t[24]=i("span",{class:"font-weight-medium fs-14"},"Benchmark",-1))])]),i("div",z7,[d(Ry,{"no-gutters":""},{default:H(()=>[(z(!0),R(u,null,U(e.schemereturns?e.schemereturns:6,(t,a)=>(z(),q(ky,{cols:"6",md:"4",key:a,class:"py-3 pr-4"},{default:H(()=>[d(cy,{color:t.returns>0?"secgreen":t.returns<0?"secred":"secbg",class:"rounded-lg pt-2 elevation-0 text-center d-flex flex-column pt-0",width:"100%"},{default:H(()=>[i("div",U7,[i("p",{style:c({color:t.returns>0?"#43A833":t.returns<0?"#F23645":"black"}),class:"fs-16 font-weight-bold mb-1 text-center"},[i("span",{class:r(e.uid?"":"blur-text")},A(Number(t.returns)?t.returns.toFixed(2):"0.00")+" %",3)],4),i("p",q7,A(t.type?t.type:"---"),1)]),e.benchreturns[a]&&e.benchreturns[a].returns?(z(),q(cy,{key:0,color:e.benchreturns[a].returns>0?"maingreen":e.benchreturns[a].returns<0?"mainred":"subsec",class:"elevation-0 rounded-t-0 rounded-b-lg px-3 py-1 text-center",width:"100%"},{default:H(()=>[i("p",H7,[i("span",{class:r(e.uid?"":"blur-text")},A(Number(e.benchreturns[a].returns)?e.benchreturns[a].returns.toFixed(2):"0.00")+"%",3)])]),_:2},1032,["color"])):ee("",!0)]),_:2},1032,["color"])]),_:2},1024))),128)),d(ky,{cols:"12"},{default:H(()=>[t[28]||(t[28]=i("p",{class:"font-weight-regular fs-10 subtext--text mb-0 mt-4"},"52 Weeks high - 52 Weeks low",-1)),i("div",j7,[i("span",W7,[W(A(e.menudata&&Number(e.menudata.weekHigh)?`₹${Number(e.menudata.weekHigh).toFixed(2)}`:"0.00")+" ",1),t[26]||(t[26]=i("br",null,null,-1)),i("span",Y7,A(e.menudata.weekLowDate?new Date(e.menudata.weekLowDate).toLocaleDateString():"-"),1)]),e.menudata?(z(),q(cy,{key:0,width:"100%",class:"elevation-0 px-2 pt-1"},{default:H(()=>[d(GJ,{class:"thin-slider","hide-details":"","thumb-color":"maintext",color:"subtext",modelValue:e.menudata.currentNAV,"onUpdate:modelValue":t[4]||(t[4]=t=>e.menudata.currentNAV=t),readonly:"",min:Number(e.menudata.weekLow),max:Number(e.menudata.weekHigh),"track-color":"maintext"},null,8,["modelValue","min","max"])]),_:1})):ee("",!0),i("span",G7,[W(A(e.menudata&&Number(e.menudata.weekLow)?`₹${Number(e.menudata.weekLow).toFixed(2)}`:"0.00"),1),t[27]||(t[27]=i("br",null,null,-1)),i("span",K7,A(e.menudata.weekHighDate?new Date(e.menudata.weekHighDate).toLocaleDateString():"-"),1)])]),d(my)]),_:1})]),_:1})])]),_:1}),d(ky,{cols:"12",md:"8",class:"pa-md-0 pt-4 pb-0 px-6"},{default:H(()=>[e.menudata?(z(),q(cy,{key:0,class:"elevation-0 rounded-0 ss-adv-chart crd-trn"},{default:H(()=>[d(cy,{height:"360px",width:"100%",id:"navchart",class:"crd-trn rounded-lg elevation-0"})]),_:1})):ee("",!0)]),_:1})]),_:1})])]),_:1},8,["loading"]),d(cy,{id:"fin",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",X7,[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold fs-20 title mb-2"},{default:H(()=>[...t[29]||(t[29]=[W("Cumulative Performance of Last 3 Years",-1)])]),_:1}),d(rb,{class:"fs-12"},{default:H(()=>[W("Cumulative Performance breakdown of "+A(e.menudata?e.menudata.fundName:"")+" information",1)]),_:1})]),_:1})]),d(cy,{height:"420px",width:"100%",id:"cumchart",class:"crd-trn rounded-lg pt-4 elevation-0"}),d(my,{class:"d-md-none"})]),_:1}),d(cy,{id:"info",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",J7,[t[35]||(t[35]=i("p",{class:"font-weight-bold title fs-20 mb-4 lh-16"},"Scheme Information",-1)),d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"7"},{default:H(()=>[t[30]||(t[30]=i("p",{class:"font-weight-bold mb-1"},"Investment Objective",-1)),i("p",Q7,A(e.menudata.overview?`The fund portfolio\n                      ${e.menudata.overview.split("The fund portfolio")[1].split("Additional details")[0]}`:" - "),1)]),_:1}),d(ky,{cols:"12",md:"5"},{default:H(()=>[t[34]||(t[34]=i("p",{class:"font-weight-bold mb-1"},"Fund Manager",-1)),d(cy,{variant:"outlined",class:"bordercss rounded-lg mb-4"},{default:H(()=>[d(cb,{class:"px-0 px-md-3"},{prepend:H(()=>[d(oy,{color:"#fbfbfb",size:"52",class:"mb-auto mt-3 mr-0"},{default:H(()=>[e.menudata&&e.menudata.manageris?(z(),R("img",{key:0,src:e.menudata.manageris,alt:e.menudata.fundManager,width:"100%"},null,8,Z7)):ee("",!0)]),_:1})]),default:H(()=>[i("div",e9,[i("div",null,[d(ub,{class:"fs-18 font-weight-bold mb-1 text-capitalize black--text"},{default:H(()=>[W(A(e.menudata?e.menudata.fundManager:"-"),1)]),_:1}),d(rb,{class:"fs-14 font-weight-bold mb-0 lh-20"},{default:H(()=>[W(A(e.menudata.Manager_designation?e.menudata.Manager_designation:"-"),1)]),_:1}),d(rb,{class:"fs-13 font-weight-medium pb-2 lh-14"},{default:H(()=>[i("b",null,A(e.menudata.Manager_totalExperience?e.menudata.Manager_totalExperience:"N/A"),1),t[31]||(t[31]=W(" experience",-1))]),_:1})]),i("div",t9,[d(ub,{class:"txt-trn fs-16 font-weight-bold mb-1 text-capitalize lh-14"},{default:H(()=>[...t[32]||(t[32]=[W(" none",-1)])]),_:1}),d(ub,{class:"fs-14 font-weight-bold mb-0 lh-20"},{default:H(()=>[W(" ₹ "+A(e.menudata.Manager_activeFundsAumSum?e.menudata.Manager_activeFundsAumSum.toFixed(2):"-"),1)]),_:1}),d(rb,{class:"fs-13 font-weight-medium pb-2 lh-14"},{default:H(()=>[i("b",null,A(e.menudata.Manager_numberOfActiveFunds?Math.round(e.menudata.Manager_numberOfActiveFunds):"N/A"),1),t[33]||(t[33]=W(" funds managed",-1))]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1})]),d(Ry,{class:"px-4 px-md-6 mb-md-3 mb-4"},{default:H(()=>[(z(!0),R(u,null,U(e.schemefield,(e,t,a)=>(z(),q(ky,{cols:"4",class:"pb-0",key:a},{default:H(()=>[d(Fk,{variant:"underlined",class:"funda-field",readonly:"",color:"maintext",label:t,"model-value":e||"-"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1})]),_:1}),d(cy,{id:"hold",class:"crd-trn ss-cards overflow-hidden mb-md-6",width:"100%"},{default:H(()=>[i("div",a9,[t[45]||(t[45]=i("p",{class:"font-weight-bold title mb-5 lh-16"},"Asset allocation and Holdings",-1)),d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"4"},{default:H(()=>[t[36]||(t[36]=i("p",{class:"font-weight-bold"},"Fund's overall asset allocation",-1)),t[37]||(t[37]=i("p",{class:"fs-14 txt-x-j"},"Each fund is uniquely allocated to suit and match customer expectations based on the risk profile and return expectations.",-1)),t[38]||(t[38]=i("p",{class:"fs-18 grey--text mt-3 mb-0"},"Fund asset allocation",-1)),d(cy,{height:"420px",width:"100%",id:"asschart",class:"crd-trn rounded-lg elevation-0 px-0"})]),_:1}),d(ky,{cols:"12",md:"4"},{default:H(()=>[t[39]||(t[39]=i("p",{class:"font-weight-bold"},"Fund's equity sector distribution",-1)),t[40]||(t[40]=i("p",{class:"fs-14 txt-x-j"},"Equity Sector refers to the allocation of the fund's investments across different sectors of the economy.",-1)),t[41]||(t[41]=i("p",{class:"fs-18 grey--text mt-3 mb-3 subtext--text"},"Equity allocation by Sector",-1)),(z(!0),R(u,null,U(e.menudata&&e.menudata.sectors?e.menudata.sectors.slice(0,10):10,(e,t)=>(z(),R("div",{key:t},[i("div",l9,[i("p",n9,[W(A(e.sectorRating?e.sectorRating:"-")+" ",1),i("span",o9,A(e.netAsset?e.netAsset:"0.00")+"%",1)]),e.netAsset?(z(),q(Op,{key:0,color:"#148564",height:"6px",rounded:"","model-value":Math.round(e.netAsset)},null,8,["model-value"])):ee("",!0)])]))),128))]),_:1}),d(ky,{cols:"12",md:"4"},{default:H(()=>[t[42]||(t[42]=i("p",{class:"font-weight-bold"},"Fund's top stock holdings",-1)),t[43]||(t[43]=i("p",{class:"fs-14 txt-x-j"},"The performance of the mutual fund is significantly influenced by the performance of its top stock holdings.",-1)),t[44]||(t[44]=i("p",{class:"fs-18 grey--text mt-3 fs-18 mb-3"},"Top Stock Holdings",-1)),(z(!0),R(u,null,U(e.menudata&&e.menudata.holdings?e.menudata.holdings.slice(0,10):10,(e,t)=>(z(),R("div",{key:t},[i("div",s9,[i("p",i9,[W(A(e.holdings?e.holdings:"-")+" ",1),i("span",r9,A(e.netAsset?e.netAsset:"0.00")+"%",1)]),e.netAsset?(z(),q(Op,{key:0,color:"#7CD36E",height:"6px",rounded:"","model-value":Math.round(e.netAsset)},null,8,["model-value"])):ee("",!0)])]))),128))]),_:1})]),_:1})])]),_:1}),d(cy,{id:"roll",class:"crd-trn ss-cards overflow-hidden mb-md-6 py-6",width:"100%"},{default:H(()=>[d(jg,{class:"elevation-0 px-md-5 px-3 crd-trn",density:"compact"},{default:H(()=>[d(cb,{class:"px-0"},{default:H(()=>[d(ub,{class:"font-weight-bold title mb-2"},{default:H(()=>[...t[46]||(t[46]=[W("Rolling Return",-1)])]),_:1}),d(rb,{class:"maintext--text font-weight-medium fs-12"},{default:H(()=>[W("Rolling Return breakdown of "+A(e.menudata?e.menudata.fundName:"")+" information",1)]),_:1})]),_:1}),d(zy),d(rI,{rounded:"","onUpdate:modelValue":[t[5]||(t[5]=e=>o.getRollingData()),t[6]||(t[6]=t=>e.roolstab=t)],"hide-details":"",modelValue:e.roolstab,items:["1 Year","2 Year","3 Year","5 Year","7 Year","10 Year"],class:"rounded-pill max-w-160 mr-3",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"]),d(Pb,{class:"d-none",modelValue:e.menu2,"onUpdate:modelValue":t[10]||(t[10]=t=>e.menu2=t),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:H(({props:a})=>[d(Fk,w({density:"compact",class:"rounded-pill d-none",variant:"solo",flat:"","bg-color":"secbg",modelValue:e.rolldate,"onUpdate:modelValue":t[7]||(t[7]=t=>e.rolldate=t),"hide-details":"",readonly:"","append-icon":"mdi-chevron-down"},a),null,16,["modelValue"])]),default:H(()=>[d(zI,{"no-title":"",max:(new Date).toISOString().split("T")[0],class:"rounded-xl",modelValue:e.rolldate,"onUpdate:modelValue":[t[8]||(t[8]=t=>e.rolldate=t),t[9]||(t[9]=t=>(e.menu2=!1,o.getRollingData()))]},null,8,["max","modelValue"])]),_:1},8,["modelValue"])]),_:1}),d(cy,{width:"100%",style:{height:"420px",width:"100%"},id:"rollchart",class:"crd-trn rounded-lg pt-4 elevation-0"}),d(my,{class:"d-md-none"})]),_:1}),d(cy,{id:"peers",class:"crd-trn ss-cards overflow-hidden mb-md-6 pt-6",width:"100%"},{default:H(()=>[d(jg,{class:"elevation-0 px-md-5 px-0 crd-trn",density:"compact"},{default:H(()=>[i("div",u9,[i("p",d9,"Comparison with "+A(e.menudata.category),1),i("p",c9,"Comparison breakdown of "+A(e.menudata?e.menudata.fundName:"")+" information",1)]),d(zy),i("div",p9,[d(rI,{"onUpdate:modelValue":[t[11]||(t[11]=e=>o.setPeersdata()),t[12]||(t[12]=t=>e.peerstab=t)],"hide-details":"",modelValue:e.peerstab,items:["1 Year","2 Year","3 Year","5 Year","10 Year"],class:"rounded-pill max-w-160 mr-3",density:"compact",variant:"solo",flat:"","bg-color":"secbg",rounded:""},null,8,["modelValue"]),d(Fk,{rounded:"",modelValue:e.peersearch,"onUpdate:modelValue":t[13]||(t[13]=t=>e.peersearch=t),"hide-details":"","prepend-inner-icon":"mdi-magnify",placeholder:"Search",class:"rounded-pill d-none d-md-flex",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"])])]),_:1}),d(PV,{"hide-default-footer":"","fixed-header":"",class:"rounded-0 overflow-y-auto mt-4",headers:o.peerheader,height:"334px",search:e.peersearch,items:e.peeritem,"items-per-page":e.peeritem.length},{"item.name":H(({item:e})=>[i("td",m9,A(e.name),1)]),"item.aum":H(({item:e})=>[i("td",v9,A(e.aum?Number(e.aum).toFixed(2):"0.00"),1)]),"item.10Year":H(({item:t})=>[i("td",h9,A(t[e.peerstab.replace(" ","")]?Number(t[e.peerstab.replace(" ","")]).toFixed(2):"0.00"),1)]),"item.fundRat":H(({item:e})=>[e.fundRat?(z(),R("p",f9,[(z(!0),R(u,null,U(Number(e.fundRat),(e,a)=>(z(),q(wp,{color:"#F6CE47",key:a},{default:H(()=>[...t[47]||(t[47]=[W("mdi-star",-1)])]),_:1}))),128)),t[49]||(t[49]=W()),(z(!0),R(u,null,U(5-Number(e.fundRat),a=>(z(),q(wp,{color:"secbg",key:a+Number(e.fundRat)+1},{default:H(()=>[...t[48]||(t[48]=[W("mdi-star",-1)])]),_:1}))),128))])):ee("",!0)]),"no-data":H(()=>[i("td",g9,[i("div",y9,[i("img",{class:"align-self-stretch mx-auto",width:"80px",src:o.noDataImage,alt:"no data"},null,8,b9),t[50]||(t[50]=i("h5",{class:"txt-999 font-weight-regular"},"There is no Peers comparison data here yet!",-1))])])]),_:2},1032,["headers","search","items","items-per-page"]),d(my,{class:"d-md-none"})]),_:1})])]),d(qm,{color:"mainbg","model-value":e.mainloader,opacity:"0.1",class:"rounded-0"},null,8,["model-value"])])],32)])}]]),w9={class:"pos-abs d-none d-md-flex align-stretch",style:{right:"16px",top:"130px",transform:"translateY(-50%)",gap:"12px"}},_9={class:"default-tab"},k9=["onMouseenter"],S9={class:"pos-rlt",style:{width:"36%","vertical-align":"middle"}},C9={class:"d-flex align-center justify-space-between"},I9={class:"flex-grow-1",style:{"min-width":"0"}},E9={class:"fs-10"},T9={style:{"vertical-align":"middle"}},N9={style:{width:"220px"},class:"d-flex flex-column my-2"},M9={class:"d-flex flex-row justify-space-between mb-1"},A9={class:"font-weight-bold caption txt-000 fs-12"},O9={class:"font-weight-bold caption txt-000 fs-12"},P9={class:"d-flex flex-row justify-space-between"},F9={class:"fs-10"},L9={class:"fs-10"},D9={class:"text-right font-weight-medium txt-000",style:{"vertical-align":"middle"}},V9={class:"subtext--text font-weight-regular fs-12"},B9={class:"text-right font-weight-medium",style:{"vertical-align":"middle"}},$9={class:"txt-000 pr-1"},R9={key:1},z9=["colspan"],U9={key:2},q9={colspan:"4",style:{height:"calc(100vh - 280px)","vertical-align":"middle"}},H9={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",height:"100%"}},j9=["src"],W9={class:"txt-999 font-weight-regular caption text-center"},Y9={class:"d-md-none overflow-hidden"},G9={key:1},K9={class:"px-0"},X9={class:"font-weight-medium fs-10"},J9={class:"mb-1 fs-12 txt-666"},Q9={class:"font-weight-bold black--text"},Z9={class:"mb-1 fs-12 txt-666"},eee={class:"font-weight-bold black--text"},tee={class:"mb-1 fs-12 font-weight-bold black--text"},aee={class:"px-4"},lee={class:"mx-auto py-8"},nee=["src"],oee={__name:"BondSrc",emits:["gologin","receive"],setup(e,{emit:t}){const n=t,o=a(0),s=a({0:[],1:[],2:[],3:[]}),p=a(!0),m=a(24),v=a(null),f=a(""),g=a(null),b=a(["Govt. bonds","Treasury bonds","State bonds","Sovereign Gold bonds"]),w=l(()=>[{title:"Bonds name",key:"name",sortable:!1,width:"36%"},{title:"BID date",key:"date",sortable:!1},{title:"Min. Invest",key:"minPrice",sortable:!1,align:"end"},{title:"Lot Size",key:"lotSize",sortable:!1,align:"end"}]),_=l(()=>{const e=s.value[o.value]||[];return console.log("Computed currentBondsData - bondtype:",o.value,"data length:",e.length),e});function k(e){if(!e)return"";try{const t=new Date(e),a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0");return`${a}-${l}-${t.getFullYear()}`}catch(Wie){return e}}async function S(){var e;p.value=!0;try{const[t,a,l,n]=await Promise.all([Ile(),Ele(),Tle(),Nle()]);if(console.log("Bond API Responses:",{gsecRes:t,tbillRes:a,sdlRes:l,sgbRes:n}),t){let e=[];t.NCBGsec?e=Array.isArray(t.NCBGsec)?t.NCBGsec:[]:t.data&&t.data.NCBGsec?e=Array.isArray(t.data.NCBGsec)?t.data.NCBGsec:[]:t.data&&Array.isArray(t.data)?e=t.data:Array.isArray(t)?e=t:"Ok"===t.stat&&t.data&&(Array.isArray(t.data)?e=t.data:t.data.NCBGsec&&Array.isArray(t.data.NCBGsec)&&(e=t.data.NCBGsec)),console.log("G-SEC Data processed:",e.length,e),s.value[0]=e}else s.value[0]=[];if(a){let e=[];a.NCBTBill?e=Array.isArray(a.NCBTBill)?a.NCBTBill:[]:a.data&&a.data.NCBTBill?e=Array.isArray(a.data.NCBTBill)?a.data.NCBTBill:[]:a.data&&Array.isArray(a.data)?e=a.data:Array.isArray(a)?e=a:"Ok"===a.stat&&a.data&&(Array.isArray(a.data)?e=a.data:a.data.NCBTBill&&Array.isArray(a.data.NCBTBill)&&(e=a.data.NCBTBill)),s.value[1]=e}else s.value[1]=[];if(l){let e=[];l.NCBSDL?e=Array.isArray(l.NCBSDL)?l.NCBSDL:[]:l.data&&l.data.NCBSDL?e=Array.isArray(l.data.NCBSDL)?l.data.NCBSDL:[]:l.data&&Array.isArray(l.data)?e=l.data:Array.isArray(l)?e=l:"Ok"===l.stat&&l.data&&(Array.isArray(l.data)?e=l.data:l.data.NCBSDL&&Array.isArray(l.data.NCBSDL)&&(e=l.data.NCBSDL)),s.value[2]=e}else s.value[2]=[];if(n){let e=[];n.SGB?e=Array.isArray(n.SGB)?n.SGB:[]:n.data&&n.data.SGB?e=Array.isArray(n.data.SGB)?n.data.SGB:[]:n.data&&Array.isArray(n.data)?e=n.data:Array.isArray(n)?e=n:"Ok"===n.stat&&n.data&&(Array.isArray(n.data)?e=n.data:n.data.SGB&&Array.isArray(n.data.SGB)&&(e=n.data.SGB)),s.value[3]=e}else s.value[3]=[];console.log("Processed bonds data:",s.value),console.log("G-SEC count:",(null==(e=s.value[0])?void 0:e.length)||0),console.log("Current bond type:",o.value),console.log("Current bonds data:",_.value),p.value=!1}catch(Wie){console.error("Error loading bonds data:",Wie),kI.$emit("snack-event",0,`Error loading bonds data: ${Wie.message||Wie}`),s.value={0:[],1:[],2:[],3:[]},p.value=!1}}function C(e,t){"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(e.minbidqty=e.minBidQuantity?e.minBidQuantity/100:0,e.maxbidqty=e.maxQuantity?e.maxQuantity/100:0,e.lotbitsize=e.lotSize?e.lotSize/100:0,kI.$emit("menudialog","bondorder",e,t)):(f.value="",v.value="",n("gologin"))}const I=Q();function E(e){var t;"stat_ok"==e?(n("receive","bonds"),S()):e&&Object.entries(e).length>0&&((t=e)&&(s.value[0]=t.gsec&&t.gsec.NCBGsec?t.gsec.NCBGsec:[],s.value[1]=t.tbill&&t.tbill.NCBTBill?t.tbill.NCBTBill:[],s.value[2]=t.sdl&&t.sdl.NCBSDL?t.sdl.NCBSDL:[],s.value[3]=t.sgb&&t.sgb.SGB?t.sgb.SGB:[]),p.value=!1)}function T(){"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(f.value=sessionStorage.getItem("usession"),v.value=sessionStorage.getItem("userid")):(f.value="",v.value="")}return y(async()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(f.value=sessionStorage.getItem("usession"),v.value=sessionStorage.getItem("userid")),kI.$emit("tabBar-load"),kI.$emit("login-event"),n("receive","bonds");const e=I.query.t;o.value="sgb"===e?3:"sdl"===e?2:"tbill"===e?1:0,kI.$on("setRec-event",E),kI.$on("user-event",T),await S()}),h(()=>{kI.$off("setRec-event",E),kI.$off("user-event",T)}),(e,t)=>{const a=$("P"),l=$("v-list-item-content");return z(),R("div",null,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 mb-4 mb-md-14 pa-4 pa-md-6 rounded-lg pos-rlt",color:"#148564",style:{overflow:"visible"}},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{md:"4",cols:"12"},{default:H(()=>[...t[6]||(t[6]=[i("p",{class:"fs-26 d-md-none font-weight-bold lh-24 white--text"},"Invest in Bonds",-1),i("p",{class:"fs-36 d-none d-md-flex font-weight-bold lh-32 white--text mb-4"},"Invest in Bonds",-1),i("p",{class:"title white--text mb-0 fs-20 font-weight-regular"},"Handpicked bonds from our experts that meet your investment needs.",-1)])]),_:1})]),_:1}),i("div",w9,[d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-xl text-center d-flex flex-column align-center",style:{height:"200px"}},{default:H(()=>[...t[7]||(t[7]=[i("img",{src:qh,class:"d-block mx-auto pt-6 pb-2",alt:"main-card-1",style:{width:"50%"}},null,-1),i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0"},[W(" Invest in "),i("br"),W(" Government "),i("br"),W(" Securities ")],-1)])]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-xl text-center d-flex flex-column align-center",style:{height:"200px"}},{default:H(()=>[...t[8]||(t[8]=[i("img",{src:Hh,class:"d-block mx-auto pt-6 pb-2",alt:"main-card-2",style:{width:"58%"}},null,-1),i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0"},[W(" Investing in "),i("br"),W(" Sovereign Gold "),i("br"),W(" Bonds is easy ")],-1)])]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-xl text-center d-flex flex-column align-center",style:{height:"200px"}},{default:H(()=>[...t[9]||(t[9]=[i("img",{src:jh,class:"d-block mx-auto pt-6 pb-2",alt:"main-card-3",style:{width:"50%"}},null,-1),i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0"},[W(" Checkout tax "),i("br"),W(" free bonds "),i("br"),W(" in market ")],-1)])]),_:1})])]),_:1}),t[22]||(t[22]=i("p",{class:"title font-weight-bold mb-0 mb-md-3"},"Top Bonds",-1)),d(B_,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),class:"d-md-none"},{default:H(()=>[(z(!0),R(u,null,U(b.value,(e,t)=>(z(),q(R_,{key:t,color:o.value==t?"#000":"subtext666","text-color":o.value==t?"#fff":"subtext666",variant:o.value!=t?"outlined":"flat",onClick:e=>o.value=t},{default:H(()=>[W(A(e),1)]),_:2},1032,["color","text-color","variant","onClick"]))),128))]),_:1},8,["modelValue"]),i("div",_9,[d(iB,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),color:"primary",class:"d-none d-md-flex"},{default:H(()=>[(z(!0),R(u,null,U(b.value,(e,t)=>(z(),q(YV,{key:t,class:"font-weight-bold mb-0 text-none px-3"},{default:H(()=>[d(T_,{color:"primary",content:s.value[t]&&s.value[t].length?s.value[t].length:"","model-value":s.value[t]&&s.value[t].length?s.value[t].length:0},{default:H(()=>[i("span",null,A(e),1)]),_:2},1032,["content","model-value"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),d(PV,{"must-sort":!0,"sort-by":[{key:"",order:"asc"}],"hide-default-footer":"","fixed-header":"",loading:p.value,class:"rounded-lg overflow-y-auto d-none d-md-block bonds-data-table",headers:w.value,style:{"border-radius":"4px",border:"1px solid var(--outline)"},height:"calc(100vh - 180px)",color:"grey",items:_.value,"items-per-page":_.value.length>0?m.value:0},{progress:H(()=>[d(Op,{indeterminate:"",height:"4",color:"primary"})]),body:H(({items:l,headers:n})=>{return[l&&l.length>0?(z(!0),R(u,{key:0},U(l,(l,n)=>(z(),R("tr",{class:"table-row",key:n,onMouseenter:e=>g.value=n,onMouseleave:t[3]||(t[3]=e=>g.value=null),style:c({backgroundColor:g.value===n?"#E3F2FD":"white",transition:"background-color 0.2s ease"})},[i("td",S9,[i("div",C9,[i("div",I9,[d(a,{class:"fs-13 font-weight-medium mt-2 txt-000 table-hov-text"},{default:H(()=>[W(A(l.name?l.name:""),1)]),_:2},1024),d(B_,{column:"",class:"mb-0"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"table-hov-prd mr-1 mb-1",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",height:"20px"}},{default:H(()=>[i("span",E9,A(l.symbol?l.symbol:""),1)]),_:2},1024)]),_:2},1024)]),i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:r(["ml-3",{"d-flex":g.value===n,"d-none":g.value!==n}]),style:{"min-width":"fit-content","flex-shrink":"0","z-index":"10","align-items":"center"}},[d(im,{onClick:t=>v.value?C(l,o.value):e.$emit("gologin"),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"#F1F3F8",style:{"min-width":"80px","box-shadow":"none !important"}},{default:H(()=>[...t[10]||(t[10]=[W(" Invest ",-1)])]),_:1},8,["onClick"])],2)])]),i("td",T9,[i("div",N9,[t[11]||(t[11]=i("div",{class:"d-flex flex-row justify-space-between mb-1"},[i("span",{class:"txt-666 fs-10"},"Start date"),i("span",{class:"txt-666 fs-10"},"End date")],-1)),i("div",M9,[i("span",A9,A(l.biddingStartDate?k(l.biddingStartDate):""),1),i("span",O9,A(l.biddingEndDate?k(l.biddingEndDate):""),1)]),i("div",P9,[i("span",F9,A(l.dailyStartTime||""),1),i("span",L9,A(l.dailyEndTime||""),1)])])]),i("td",D9,[W(" ₹"+A(l.lotSize?Number(l.lotSize).toLocaleString():"0.00")+" ",1),t[12]||(t[12]=i("br",null,null,-1)),i("span",V9,A(l.lotSize?l.lotSize/100:"0")+" Qty.",1)]),i("td",B9,[i("span",$9,A(l.issueSize?(l.issueSize/1e7).toFixed(2):"0.00"),1),t[13]||(t[13]=i("span",{class:"font-weight-regular fs-12"},"Cr.",-1))])],44,k9))),128)):ee("",!0),l&&l.length>0&&m.value<_.value.length?(z(),R("tr",R9,[i("td",{colspan:n.length,class:"text-center"},[d(im,{color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[4]||(t[4]=e=>m.value+=24),block:""},{default:H(()=>[...t[14]||(t[14]=[W(" show more ",-1)])]),_:1})],8,z9)])):ee("",!0),l&&0!==l.length?ee("",!0):(z(),R("tr",U9,[i("td",q9,[i("div",H9,[i("img",{style:{display:"block","margin-bottom":"16px"},width:"80px",src:x(wf)},null,8,j9),i("h4",W9,"There is no "+A((s=o.value,["G-SEC","T-BILL","SDL","SGB"][s]||""))+" data here yet!",1)])])]))];var s}),_:1},8,["loading","headers","items","items-per-page"]),i("div",Y9,[d(my),p.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),_.value.length>0?(z(),R("div",G9,[(z(!0),R(u,null,U(_.value.length<m.value?_.value.slice(0,m.value):_.value,(a,n)=>(z(),q(cy,{key:n,class:"elevation-0 rounded-0 overflow-hidden"},{default:H(()=>[i("div",K9,[d(cb,{class:"pa-0"},{default:H(()=>[d(l,{class:"pa-0 pt-1"},{default:H(()=>[d(ub,{class:"fs-13 font-weight-bold mb-0 txt-000 table-hov-text mt-2"},{default:H(()=>[W(A(a.name?a.name:""),1)]),_:2},1024),d(B_,{column:"",class:"mb-1"},{default:H(()=>[d(R_,{color:"secbg",size:"x-small",class:"table-hov-prd","text-color":"subtext",style:{"border-radius":"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",X9,A(a.symbol?a.symbol:""),1)]),_:2},1024),d(R_,{class:"px-0 crd-trn",size:"x-small","text-color":"#000"},{default:H(()=>[W(A(`${a.biddingStartDate} ${a.dailyStartTime?a.dailyStartTime.slice(0,5):""} to\n                        ${a.biddingEndDate?k(a.biddingEndDate):""} ${a.dailyEndTime?a.dailyEndTime.slice(0,5):""}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(my),d(Ry,{class:"py-2","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[i("p",J9,[t[15]||(t[15]=W(" Min. qty: ",-1)),i("span",Q9,A(a.lotSize?a.lotSize/100:"0"),1)]),i("p",Z9,[t[16]||(t[16]=W(" Min. Inv: ",-1)),i("span",eee,"₹"+A(a.lotSize?Number(a.lotSize).toLocaleString():"0.00"),1)])]),_:2},1024),d(ky,{cols:"6",class:"text-right"},{default:H(()=>[t[18]||(t[18]=i("p",{class:"mb-1 fs-12 txt-666"},"Lot size",-1)),i("p",tee,[W(A(a.issueSize?(a.issueSize/1e7).toFixed(2):"0.00")+" ",1),t[17]||(t[17]=i("span",{class:"subtext--text font-weight-regular"},"Cr.",-1))])]),_:2},1024)]),_:2},1024)]),i("div",aee,[d(im,{block:"",onClick:t=>v.value?C(a,o.value):e.$emit("gologin"),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold mb-2",color:"secbg"},{default:H(()=>[...t[19]||(t[19]=[W(" Invest ",-1)])]),_:1},8,["onClick"])]),v.value&&m.value-1!=n?(z(),q(cy,{key:0,class:"pt-1 rounded-0 elevation-0",color:"secbg"})):ee("",!0)]),_:2},1024))),128))])):(z(),q(cy,{key:2,class:"elevation-0 rounded-0 text-center"},{default:H(()=>[i("div",lee,[i("img",{class:"align-self-stretch mx-auto",width:"70px",src:x(wf)},null,8,nee),t[20]||(t[20]=i("h4",{class:"txt-999 font-weight-regular fs-14"},"There is no data here yet!",-1))])]),_:1})),m.value<_.value.length?(z(),q(im,{key:3,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4 mb-1",onClick:t[5]||(t[5]=e=>m.value+=24),block:""},{default:H(()=>[...t[21]||(t[21]=[W(" show more ",-1)])]),_:1})):ee("",!0)])]),_:1}),d(ky,{cols:"3",class:"d-none"})]),_:1})])}}},see=zc(oee,[["__scopeId","data-v-129b8d3d"]]),iee={class:"pt-0"},ree={class:"pos-abs d-none d-md-flex align-stretch",style:{right:"16px",top:"130px",transform:"translateY(-50%)",gap:"12px"}},uee=["src"],dee=["src"],cee=["src"],pee={class:"default-tab pt-2"},mee={class:"font-weight-bold title fs-20 mb-1"},vee={class:"fs-12 subtext--text mb-1"},hee=["onMouseenter"],fee={class:"pl-4",style:{width:"36%","vertical-align":"middle"}},gee={class:"d-flex align-center justify-space-between"},yee={class:"flex-grow-1",style:{"min-width":"0"}},bee={class:"fs-10"},xee={class:"fs-10"},wee={class:"text-left font-weight-medium",style:{"vertical-align":"middle"}},_ee={class:"font-weight-medium txt-000"},kee={class:"text-right font-weight-medium txt-000",style:{"vertical-align":"middle"}},See={class:"text-right font-weight-medium",style:{"vertical-align":"middle"}},Cee={class:"txt-000"},Iee={class:"subtext--text font-weight-regular"},Eee={key:0},Tee=["colspan"],Nee={key:1},Mee={colspan:"5",style:{height:"calc(100vh - 280px)","vertical-align":"middle"}},Aee={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",height:"100%"}},Oee=["src"],Pee={class:"txt-999 font-weight-regular caption text-center"},Fee={class:"d-md-none overflow-hidden"},Lee=["src"],Dee={class:"fs-12 subtext--text mb-0"},Vee={key:1},Bee={class:"px-0"},$ee={class:"font-weight-medium fs-10"},Ree={class:"font-weight-medium fs-10"},zee={class:"mb-1 fs-12 font-weight-bold maintext--text"},Uee={class:"mb-1 fs-12 subtext--text"},qee={class:"font-weight-bold maintext--text"},Hee={class:"mb-1 fs-12 subtext--text"},jee={class:"font-weight-bold maintext--text"},Wee={class:"px-4"},Yee={class:"mx-auto align-center"},Gee={class:"mb-0 font-weight-bold"},Kee={key:0},Xee={class:"fs-15 font-weight-medium"},Jee={class:"fs-12 grey--text"},Qee={class:"fs-14 txt-000 font-weight-bold"},Zee={key:1},ete={__name:"IpoSrc",emits:["gologin","receive"],setup(e,{emit:t}){Y(),Q();const n=Re(),o=Rc(),s=Qa(),p=t,m=a(0),v=a([[],[],[]]),f=a(!0);a(null);const g=a(24),b=a(null),w=a(""),_=a(!1),k=a(null),S=l(()=>"dark"===n.global.name.value?Xh:Kh),C=l(()=>"dark"===n.global.name.value?Qh:Jh),I=l(()=>"dark"===n.global.name.value?ef:Zh),E=l(()=>{const e="dark"===n.global.name.value;return 0===m.value?e?Xh:Kh:e?Qh:Jh}),T=l(()=>[{title:"Stock name",key:"name",width:"36%"},{title:"IPO date",key:"date"},{title:"Price range",key:"Price",align:"end"},{title:"Min. amount",key:"minPrice",align:"end"}]),N=e=>{const t=e.detail||e;"stat_ok"==t?p("receive","ipos"):t&&t.ipo&&t.sme?P(t):f.value=!1},M=()=>{"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")&&(w.value=sessionStorage.getItem("usession"),b.value=sessionStorage.getItem("userid"))};y(async()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),window.dispatchEvent(new CustomEvent("login-event")),s.setMainLoader(!1),p("receive","ipos"),window.addEventListener("setRec-event",N),window.addEventListener("user-event",M);const e=new URL(window.location.href).searchParams.get("t");m.value="sme"==e?1:0,M(),await O(),setTimeout(()=>{f.value&&(f.value=!1)},5e3)});const O=async()=>{try{f.value=!0;const[e,t,a]=await Promise.all([Ale(),Ple(),Ole((new Date).getFullYear())]);P({ipo:e||{},sme:t||{},perf:a||{}})}catch(Wie){console.error("Error fetching IPO data:",Wie),f.value=!1}};h(()=>{window.removeEventListener("setRec-event",N),window.removeEventListener("user-event",M)});const P=e=>{Array.isArray(v.value)||(v.value=[[],[],[]]),v.value[0]=[],v.value[1]=[],e&&e.ipo&&e.ipo.MainIPO&&e.ipo&&e.ipo.MainIPO.forEach(e=>{e&&(e.dateof=D(e.biddingStartDate.slice(3,5)+"-"+e.biddingStartDate.slice(0,2)+"-"+e.biddingStartDate.slice(-4)),e.datebit=`${L(e.biddingStartDate.slice(0,2))} - ${L(e.biddingEndDate.slice(4,7))}${e.biddingEndDate.slice(7,16)}`,v.value[0].push(e))}),e.sme&&e.sme.SMEIPO&&e.sme&&e.sme.SMEIPO.forEach(e=>{e&&(e.dateof=D(e.biddingStartDate.slice(3,5)+"-"+e.biddingStartDate.slice(0,2)+"-"+e.biddingStartDate.slice(-4)),e.datebit=`${L(e.biddingStartDate.slice(0,2))} - ${L(e.biddingEndDate.slice(4,7))}${e.biddingEndDate.slice(7,16)}`,v.value[1].push(e))}),v.value[2]=e.perf&&e.perf.data?e.perf.data:[],v.value[2]&&v.value[2].length>0&&v.value[2].sort(function(e,t){return new Date(t.covertdate)-new Date(e.covertdate)}),f.value=!1},F=(e,t)=>{window.dispatchEvent(new CustomEvent("menudialog",{detail:{type:"iposorder",item:e,value:t}}))},L=e=>{let t="th";return e%10==1&&e%100!=11?t="st":e%10==2&&e%100!=12?t="nd":e%10==3&&e%100!=13&&(t="rd"),`${e}${t}`},D=e=>(new Date(e)-new Date)/864e5>0;return(e,t)=>{const a=$("v-tabs-slider"),l=$("P"),n=$("v-list-item-icon"),s=$("v-list-item-content");return z(),R("div",iee,[d(Ry,{"no-gutters":"",class:"pt-0"},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(cy,{class:"elevation-0 mb-4 mb-md-14 pa-4 pa-md-6 rounded-lg pos-rlt",color:"#834EDA",style:{overflow:"visible"}},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"12",md:"4"},{default:H(()=>[...t[7]||(t[7]=[i("p",{class:"fs-26 d-md-none font-weight-bold lh-24 white--text"},"Invest in IPOs",-1),i("p",{class:"fs-36 d-none d-md-flex font-weight-bold lh-32 white--text mb-4"},"Invest in IPOs",-1),i("p",{class:"title white--text mb-0 fs-20 font-weight-regular"},"Initial public offering of a new stock issuance for the first time to market.",-1)])]),_:1})]),_:1}),i("div",ree,[d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:S.value,class:"px-4 pt-6 pb-2",alt:"main-card-1",width:"79%"},null,8,uee),t[8]||(t[8]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Build wealth"),i("br"),W(" investing on"),i("br"),W(" main IPOs ")],-1))]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:C.value,class:"px-4 pt-6 pb-2",alt:"main-card-2",width:"79%"},null,8,dee),t[9]||(t[9]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Invest safely"),i("br"),W(" in small"),i("br"),W(" via UPI. ")],-1))]),_:1}),d(cy,{width:"170px",class:"pb-4 stk-land-crds rounded-lg text-center d-flex flex-column",style:{height:"200px"}},{default:H(()=>[i("img",{src:I.value,class:"px-4 pt-6 pb-2",alt:"main-card-3",width:"79%"},null,8,cee),t[10]||(t[10]=i("p",{class:"fs-16 font-weight-bold lh-16 px-4 mt-1 mb-0 maintext--text"},[W(" Check IPO "),i("br"),W(" gains post"),i("br"),W(" listing. ")],-1))]),_:1})])]),_:1}),i("div",pee,[d(iB,{class:"d-md-none",color:"primary","fixed-tabs":"",modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e)},{default:H(()=>[d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[d(T_,{color:"primary",content:v.value[0]?v.value[0].length:"","model-value":v.value[0]&&v.value[0].length>0},{default:H(()=>[...t[11]||(t[11]=[i("span",null,"Main stream IPOs",-1)])]),_:1},8,["content","model-value"])]),_:1}),d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[d(T_,{color:"primary",content:v.value[1]?v.value[1].length:"","model-value":v.value[1]&&v.value[1].length>0},{default:H(()=>[...t[12]||(t[12]=[i("span",null,"SME IPOs",-1)])]),_:1},8,["content","model-value"])]),_:1}),d(a)]),_:1},8,["modelValue"]),d(iB,{class:"d-none d-md-flex",color:"primary",fixed:"",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e)},{default:H(()=>[d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[d(T_,{color:"primary",content:v.value[0]?v.value[0].length:"","model-value":v.value[0]&&v.value[0].length>0},{default:H(()=>[...t[13]||(t[13]=[i("span",null,"Main stream IPOs",-1)])]),_:1},8,["content","model-value"])]),_:1}),d(YV,{class:"font-weight-bold subtitle-2 mb-0 text-none"},{default:H(()=>[d(T_,{color:"primary",content:v.value[1]?v.value[1].length:"","model-value":v.value[1]&&v.value[1].length>0},{default:H(()=>[...t[14]||(t[14]=[i("span",null,"SME IPOs",-1)])]),_:1},8,["content","model-value"])]),_:1}),d(a)]),_:1},8,["modelValue"])]),d(cy,{style:{border:"1px solid var(--outline)"},class:"crd-trn elevation-0 rounded-lg mb-0 d-none d-md-block"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 py-3 px-4 crd-trn",density:"compact"},{default:H(()=>[d(Ry,{align:"center",class:"w-100"},{default:H(()=>[d(ky,{cols:"auto"},{default:H(()=>[d(Ug,{src:E.value,width:"50",height:"50"},null,8,["src"])]),_:1}),d(ky,null,{default:H(()=>[i("div",null,[i("div",mee,A(0===m.value?"Main stream IPOs":"Small and Medium Enterprises IPOs"),1),i("div",vee,A(0===m.value?"Initial public offering a new stock issuance for the first time.":"Small and Medium Enterprises a new stock issuance for the first time."),1)])]),_:1})]),_:1})]),_:1}),d(PV,{"must-sort":"","sort-by":[{key:"biddingStartDate",order:"asc"}],"hide-default-footer":"","fixed-header":"",loading:f.value,class:"rounded-0 overflow-y-auto ipo-data-table",headers:T.value,height:"calc(100vh - 180px)",items:v.value[m.value],"items-per-page":v.value[m.value]&&v.value[m.value].length>0?g.value:0,"item-key":"Scheme_Code"},{progress:H(()=>[d(Op,{indeterminate:"",height:"4",color:"primary"})]),body:H(({items:e,headers:a})=>[e&&e.length>0?(z(!0),R(u,{key:0},U(e,(e,a)=>(z(),R("tr",{class:"table-row",key:a,onMouseenter:e=>k.value=a,onMouseleave:t[3]||(t[3]=e=>k.value=null)},[i("td",fee,[i("div",gee,[i("div",yee,[d(l,{class:"fs-13 font-weight-medium mb-0 txt-000 table-hov-text mt-2"},{default:H(()=>[W(A(e.name?e.name:""),1)]),_:2},1024),d(B_,{column:"",class:"mb-1"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"table-hov-prd",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px"}},{default:H(()=>[i("span",bee,A(e.symbol?e.symbol:""),1)]),_:2},1024),d(R_,{size:"x-small",variant:"flat",style:c({backgroundColor:e.dateof?"#FFF6E6":"#E8F5E9",color:e.dateof?"#976502":"#29702d",borderRadius:"5px"})},{default:H(()=>[i("span",xee,A(e.dateof?"Upcoming":"Open"),1)]),_:2},1032,["style"])]),_:2},1024)]),i("div",{onClick:t[2]||(t[2]=ie(()=>{},["stop"])),class:r([{"d-flex":k.value===a,"d-none":k.value!==a},"align-center"]),style:{"min-width":"fit-content","margin-left":"16px","flex-shrink":"0"}},[d(im,{onClick:t=>((e,t)=>{o.uid&&o.token?F(e,t):p("gologin")})(e,m.value),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold",color:"#F1F3F8"},{default:H(()=>[W(A(e.dateof?"Pre":"")+" Apply ",1)]),_:2},1032,["onClick"])],2)])]),i("td",wee,[i("span",_ee,A(e.datebit?e.datebit:""),1)]),i("td",kee,"₹"+A(e.minPrice?Math.round(e.minPrice):"0")+" - ₹"+A(e.maxPrice?Math.round(e.maxPrice):"0"),1),i("td",See,[i("span",Cee,"₹"+A(e.minPrice?e.minPrice*e.minBidQuantity:"0.00"),1),t[15]||(t[15]=i("br",null,null,-1)),i("span",Iee,A(e.minBidQuantity?e.minBidQuantity:"0")+" Qty.",1)])],40,hee))),128)):ee("",!0),i("template",null,[e&&e.length>0&&g.value<v.value[m.value].length?(z(),R("tr",Eee,[i("td",{colspan:a.length},[d(im,{color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[4]||(t[4]=e=>g.value+=24),block:""},{default:H(()=>[...t[16]||(t[16]=[W("show more",-1)])]),_:1})],8,Tee)])):ee("",!0)]),e&&0!==e.length?ee("",!0):(z(),R("tr",Nee,[i("td",Mee,[i("div",Aee,[i("img",{style:{display:"block","margin-bottom":"16px"},width:"80px",src:x(wf)},null,8,Oee),i("h4",Pee,"There is no "+A(0==m.value?"IPOs":1==m.value?"SME":"")+" data here yet!",1)])])]))]),_:1},8,["loading","headers","items","items-per-page"])]),_:1}),i("div",Fee,[d(my),d(cb,{class:"pl-0"},{default:H(()=>[d(n,{class:"mr-3"},{default:H(()=>[i("img",{width:"48px",src:E.value},null,8,Lee)]),_:1}),d(s,null,{default:H(()=>[d(ub,{class:"font-weight-bold fs-18"},{default:H(()=>[W(A(0==m.value?"Main stream IPOs":"Small and Medium Enterprises IPOs"),1)]),_:1}),i("p",Dee,A(0==m.value?"Initial public offering a new stock issuance for the first time.":"Small and Medium Enterprises a new stock issuance for the first time."),1)]),_:1})]),_:1}),f.value?(z(),q(Op,{key:0,indeterminate:""})):ee("",!0),v.value[m.value]&&v.value[m.value].length>0?(z(),R("div",Vee,[(z(!0),R(u,null,U(v.value[m.value].length<g.value?v.value[m.value].slice(0,g.value):v.value[m.value],(a,l)=>(z(),q(cy,{key:l,class:"elevation-0 rounded-0 overflow-hidden crd-trn"},{default:H(()=>[i("div",Bee,[d(cb,{class:"pa-0"},{default:H(()=>[d(s,{class:"pa-0 pt-1"},{default:H(()=>[d(ub,{class:"fs-13 font-weight-bold mb-0 maintext--text table-hov-text mt-2"},{default:H(()=>[W(A(a.name?a.name:""),1)]),_:2},1024),d(B_,{column:"",class:"mb-1"},{default:H(()=>[d(R_,{size:"x-small",variant:"flat",class:"table-hov-prd",style:{backgroundColor:"#F1F3F8",color:"#666666",borderRadius:"5px",padding:"10px 8px !important"}},{default:H(()=>[i("span",$ee,A(a.symbol?a.symbol:""),1)]),_:2},1024),d(R_,{size:"x-small",variant:"flat",style:c({backgroundColor:a.dateof?"#FFF6E6":"#E8F5E9",color:a.dateof?"#B37702":"#2E7D32",borderRadius:"5px"})},{default:H(()=>[i("span",Ree,A(a.dateof?"Upcoming":"Open"),1)]),_:2},1032,["style"]),d(R_,{class:"px-0 crd-trn",size:"x-small","text-color":"#000"},{default:H(()=>[W(A(a.datebit?a.datebit:""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(my),d(Ry,{class:"py-2","no-gutters":""},{default:H(()=>[d(ky,{cols:"6"},{default:H(()=>[t[17]||(t[17]=i("p",{class:"mb-1 fs-12 subtext--text"},"Price range",-1)),i("p",zee,"₹"+A(a.minPrice?a.minPrice:"0.00")+" - ₹"+A(a.maxPrice?a.maxPrice:"0.00"),1)]),_:2},1024),d(ky,{cols:"6",class:"text-right"},{default:H(()=>[i("p",Uee,[t[18]||(t[18]=W(" Min. qty: ",-1)),i("span",qee,A(a.lotSize?a.lotSize:"0"),1)]),i("p",Hee,[t[19]||(t[19]=W(" Min. Inv: ",-1)),i("span",jee,"₹"+A(a.minPrice?a.minPrice*a.minBidQuantity:"0.00"),1)])]),_:2},1024)]),_:2},1024)]),i("div",Wee,[d(im,{block:"",onClick:t=>b.value?F(a,m.value):e.$emit("gologin"),size:"small",class:"elevation-0 rounded-pill text-none primary--text font-weight-bold mb-2",color:"#F1F3F8"},{default:H(()=>[W(A(a.dateof?"Pre":"")+" Apply",1)]),_:2},1032,["onClick"])]),b.value&&g.value-1!=l?(z(),q(cy,{key:0,class:"pt-1 rounded-0 elevation-0",color:"outline"})):ee("",!0)]),_:2},1024))),128))])):(z(),q(cy,{key:2,class:"elevation-0 rounded-0 text-center crd-trn pl-10",height:"200"},{default:H(()=>[i("div",Yee,[d(Ug,{src:x(wf),width:"70",class:"mb-2 mx-auto"},null,8,["src"]),t[20]||(t[20]=i("h4",{class:"txt-999 font-weight-regular fs-14"}," There is no data here yet! ",-1))])]),_:1})),v.value[m.value]&&g.value<v.value[m.value].length?(z(),q(im,{key:3,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4 mb-1",onClick:t[5]||(t[5]=e=>g.value+=24),block:""},{default:H(()=>[...t[21]||(t[21]=[W("show more",-1)])]),_:1})):ee("",!0)])]),_:1}),d(ky,{cols:"12",class:"pt-6"},{default:H(()=>[d(jg,{onClick:t[6]||(t[6]=e=>_.value=!0),flat:"",class:"tool-sty crd-trn",density:"compact"},{default:H(()=>[i("p",Gee,"IPO Performance "+A((new Date).getFullYear()),1),d(zy)]),_:1}),v.value[2]?(z(),R("div",Kee,[d(Ry,null,{default:H(()=>[(z(!0),R(u,null,U(v.value[2].slice(0,10),(e,a)=>(z(),q(ky,{cols:"12",md:"6",key:a},{default:H(()=>[d(cy,{class:"rounded-lg crd-trn",variant:"outlined",style:{border:"1px solid #E0E0E0"}},{default:H(()=>[i("div",null,[d(cy,{color:"secbg",class:"elevation-0 rounded-b-0 rounded-t-lg px-2 py-3",style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:H(()=>[i("div",null,[i("div",Xee,A(e["Company Name"]),1),i("div",Jee,A(e.covertdate?e.covertdate.slice(4,16):""),1)]),i("div",{class:r(["fs-14 font-weight-medium",e.listing_gain_per>0?"txt-gre":e.listing_gain_per<0?"txt-red":"maintext--text"])},A(e.listing_gain_per?e.listing_gain_per:"0.00")+"% ",3)]),_:2},1024),d(cy,{class:"elevation-0 rounded-t-0 rounded-b-lg px-2 py-1"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"subtext--text fs-13"},{default:H(()=>[t[22]||(t[22]=W("Issue price",-1)),i("span",Qee," ₹"+A(e.Price_Range),1)]),_:2},1024),d(ky,{cols:"6",class:"subtext--text fs-13 text-right"},{default:H(()=>[t[23]||(t[23]=W("Listing gain ",-1)),i("span",{class:r(["fs-14 font-weight-bold",e.listing_gain>0?"txt-gre":e.listing_gain<0?"txt-red":"maintext--text"])}," ₹"+A(e.listing_gain?e.listing_gain:"0.00"),3)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(z(),R("div",Zee,[(z(),R(u,null,U(8,e=>d(eG,{key:e,class:"rounded-lg mb-3",width:"100%",height:"90",type:"card"})),64))])),d(im,{color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4 mb-6 mb-md-0 mt-2",to:"/ipo/performance",block:""},{default:H(()=>[...t[24]||(t[24]=[W("Performance dashboard",-1)])]),_:1})]),_:1})]),_:1})])}}},tte={class:"font-weight-bold title mb-1"},ate={class:"d-flex flex-column"},lte={class:"d-flex flex-column align-center"},nte={class:"pos-rlt",cols:"1"},ote={class:"font-weight-medium txt-000"},ste={class:"text-right font-weight-medium txt-000"},ite={class:"text-right font-weight-medium txt-000"},rte={key:1},ute={colspan:"6"},dte={key:2,colspan:"6",class:"text-center align-middle"},cte={class:"mx-auto py-16 mt-16"},pte=["src"],mte={class:"txt-999 font-weight-regular caption"},vte={class:"d-md-none"},hte={key:0},fte={class:"fs-14 black--text font-weight-medium"},gte={key:1},yte={__name:"IpoPerformance",emits:["gologin","receive"],setup(e,{emit:t}){const n=Re();Qa();const o=l(()=>"dark"===n.global.name.value?af:tf),s=t,c=a([]),p=a(!0),m=a(null),v=a(24),f=a(null),g=a(null),b=a((new Date).getFullYear()),w=l(()=>[{title:`${b.value} listings`,key:"Company Name",sortable:!1,width:"30%"},{title:"Listed on",key:"listed_date",sortable:!1},{title:"Issue price",key:"Price_Range",align:"end"},{title:"Close price",key:"ClsPric",align:"end"},{title:"Gain/Loss",key:"listing_gain",align:"end"},{title:"Gain/Loss (%)",key:"listing_gain_per",align:"end"}]),_=e=>{const t=e.detail||e;"stat_ok"==t?s("receive","ipos","Performance"):k(t.perf)},k=e=>{if(e&&e.data){for(let t=0;t<e.data.length;t++){const a=e.data[t];a.dateis=new Date(a.listed_date).toISOString().replace("-","/").split("T")[0].replace("-","/"),a.listed_date=new Date(a.listed_date).toLocaleString("en-gb",{day:"2-digit",month:"short",year:"numeric"})}c.value=e.data}else c.value=[];p.value=!1},S=async()=>{p.value=!0;let e=await Ole(b.value);k(e)};y(async()=>{window.dispatchEvent(new CustomEvent("tabBar-load")),s("receive","ipos","Performance"),window.addEventListener("setRec-event",_),"dmFsaWR1c2Vy"==sessionStorage.getItem("c3RhdHVz")?(g.value=sessionStorage.getItem("usession"),f.value=sessionStorage.getItem("userid")):(g.value="",f.value=""),await S(),setTimeout(()=>{p.value&&(p.value=!1)},5e3)}),h(()=>{window.removeEventListener("setRec-event",_)});const C=e=>{let t=(new Date).getFullYear();"+"===e&&t!=b.value?(b.value=b.value+1,S()):"-"===e&&(b.value=b.value-1,S())};return(e,t)=>{const a=$("P"),l=$("v-list-item-content"),n=$("v-list-item-icon");return z(),R("div",null,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"12"},{default:H(()=>[d(cy,{style:{border:"1px solid #E0E0E0"},class:"crd-trn elevation-0 rounded-lg mb-8 mb-md-0"},{default:H(()=>[d(jg,{class:"tool-sty elevation-0 py-3 px-1 crd-trn",density:"compact"},{default:H(()=>[d(Ry,{align:"center",class:"w-100"},{default:H(()=>[d(ky,{cols:"auto"},{default:H(()=>[d(Ug,{src:o.value,width:"40",height:"40"},null,8,["src"])]),_:1}),d(ky,null,{default:H(()=>[i("div",null,[i("div",tte,"IPO Performance "+A(b.value),1),t[10]||(t[10]=i("div",{class:"fs-12 subtext--text"},[W(" Monitor the IPO Performance of Mainline "),i("br",{class:"d-md-none"}),W(" IPO Stocks listed at BSE and NSE ")],-1))])]),_:1})]),_:1}),d(zy),d(Fk,{disabled:p.value,style:{width:"200px"},modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),"hide-details":"",class:"mr-0 d-none d-md-flex",rounded:"pill",density:"compact",variant:"text",flat:"","bg-color":"secbg"},{"append-inner":H(()=>[i("div",ate,[d(wp,{size:"20",color:"grey",onClick:t[0]||(t[0]=e=>C("+"))},{default:H(()=>[...t[11]||(t[11]=[W("mdi-chevron-up",-1)])]),_:1}),d(wp,{size:"20",color:"grey",onClick:t[1]||(t[1]=e=>C("-"))},{default:H(()=>[...t[12]||(t[12]=[W("mdi-chevron-down",-1)])]),_:1})])]),_:1},8,["disabled","modelValue"]),d(Fk,{rounded:"pill",modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search IPOs",class:"pwidth rounded-pill mr-4 d-none d-md-flex search-field-center",density:"compact",variant:"text",flat:"","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(jg,{class:"tool-sty elevation-0 py-0 mb-2 px-0 d-md-none",color:"#fff",density:"compact"},{default:H(()=>[d(Fk,{style:{"max-width":"100px"},disabled:p.value,modelValue:b.value,"onUpdate:modelValue":t[6]||(t[6]=e=>b.value=e),"hide-details":"",label:"Year",class:"rounded-pill mr-4",density:"compact",variant:"outlined"},{"append-inner":H(()=>[i("div",lte,[d(wp,{size:"20",class:"cursor-pointer",onClick:t[4]||(t[4]=e=>C("+"))},{default:H(()=>[...t[13]||(t[13]=[W("mdi-chevron-up",-1)])]),_:1}),d(wp,{size:"20",class:"cursor-pointer",onClick:t[5]||(t[5]=e=>C("-"))},{default:H(()=>[...t[14]||(t[14]=[W("mdi-chevron-down",-1)])]),_:1})])]),_:1},8,["disabled","modelValue"]),d(Fk,{modelValue:m.value,"onUpdate:modelValue":t[7]||(t[7]=e=>m.value=e),"hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search IPOs",class:"rounded-pill",density:"compact",variant:"solo",flat:"","bg-color":"secbg"},null,8,["modelValue"])]),_:1}),d(PV,{"sort-by":[{key:"dateis",order:"desc"}],search:m.value,"must-sort":"","hide-default-footer":"","fixed-header":"",loading:p.value,class:"rounded-0 overflow-y-auto d-none d-md-block ipo-data-table",headers:w.value,height:"calc(100vh - 180px)",items:c.value,"items-per-page":c.value&&c.value.length>0?v.value:0,"item-key":"Scheme_Code"},{body:H(({items:e,headers:l})=>[e&&e.length>0?(z(!0),R(u,{key:0},U(e,(e,t)=>(z(),R("tr",{class:"table-row",key:t},[i("td",nte,[d(a,{class:"fs-13 font-weight-medium mb-0 txt-000 table-hov-text mt-2"},{default:H(()=>[W(A(e["Company Name"]?e["Company Name"]:""),1)]),_:2},1024)]),i("td",ote,A(e.listed_date?e.listed_date:""),1),i("td",ste,"₹"+A(e.Price_Range?e.Price_Range.toFixed(2):"0.00"),1),i("td",ite,"₹"+A(e.ClsPric?e.ClsPric.toFixed(2):"0.00"),1),i("td",{class:r(["text-right font-weight-medium",e.listing_gain>0?"txt-gre":e.listing_gain<0?"txt-red":"black--text"])}," ₹"+A(e.listing_gain?e.listing_gain.toFixed(2):"0.00"),3),i("td",{class:r(["text-right font-weight-medium",e.listing_gain_per>0?"txt-gre":e.listing_gain_per<0?"txt-red":"black--text"])},A(e.listing_gain_per?e.listing_gain_per.toFixed(2):"0.00")+"%",3)]))),128)):ee("",!0),e&&e.length>0&&v.value<c.value.length?(z(),R("tr",rte,[i("td",ute,[d(im,{color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[8]||(t[8]=e=>v.value+=24),block:""},{default:H(()=>[...t[15]||(t[15]=[W("show more",-1)])]),_:1})])])):ee("",!0),e&&0!==e.length?ee("",!0):(z(),R("td",dte,[i("div",cte,[i("img",{class:"mx-auto",width:"80px",src:x(wf)},null,8,pte),i("h4",mte,"There is no IPO Performance data for "+A(b.value)+" yet!",1)])]))]),_:1},8,["search","loading","headers","items","items-per-page"]),i("div",vte,[c.value.length>0?(z(),R("div",hte,[(z(!0),R(u,null,U(c.value.length<v.value?c.value.slice(0,v.value):c.value,(e,a)=>(z(),q(cy,{class:"rounded-lg mb-3",variant:"outlined",key:a},{default:H(()=>[i("div",null,[d(cy,{color:"#FAFBFF",class:"elevation-0 rounded-b-0 rounded-t-lg"},{default:H(()=>[d(cb,{class:"px-2"},{default:H(()=>[d(l,null,{default:H(()=>[d(ub,{class:"mb-0 fs-15"},{default:H(()=>[W(A(e["Company Name"]),1)]),_:2},1024),d(rb,{class:"fs-12"},{default:H(()=>[W(A(e.covertdate?e.covertdate.slice(4,16):""),1)]),_:2},1024)]),_:2},1024),d(n,null,{default:H(()=>[i("span",{class:r(["fs-14",e.listing_gain_per>0?"txt-gre":e.listing_gain_per<0?"txt-red":"black--text"])},A(e.listing_gain_per?e.listing_gain_per:"0.00")+"% ",3)]),_:2},1024)]),_:2},1024)]),_:2},1024),d(cy,{class:"elevation-0 rounded-t-0 rounded-b-lg px-2 py-1"},{default:H(()=>[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"subtext--text fs-13"},{default:H(()=>[t[16]||(t[16]=W("Issue price",-1)),i("span",fte," ₹"+A(e.Price_Range),1)]),_:2},1024),d(ky,{cols:"6",class:"subtext--text fs-13 text-right"},{default:H(()=>[t[17]||(t[17]=W("Listing gain ",-1)),i("span",{class:r(["fs-14 font-weight-medium",e.listing_gain>0?"txt-gre":e.listing_gain<0?"txt-red":"black--text"])}," ₹"+A(e.listing_gain?e.listing_gain:"0.00"),3)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128)),v.value<c.value.length?(z(),q(im,{key:0,color:"primary",variant:"text",class:"elevation-0 text-none font-weight-bold py-4",onClick:t[9]||(t[9]=e=>v.value+=24),block:""},{default:H(()=>[...t[18]||(t[18]=[W("show more",-1)])]),_:1})):ee("",!0)])):(z(),R("div",gte,[(z(),R(u,null,U(4,e=>d(eG,{key:e,class:"rounded-lg mb-3",width:"100%",height:"90",type:"card"})),64))]))])]),_:1})]),_:1}),d(ky,{cols:"3",class:"d-none d-md-none"})]),_:1})])}}},bte={__name:"FnoSrc",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"F&O (Futures & Options)",-1),i("p",null,"Futures and Options trading platform",-1)])]),_:1})]))},xte={__name:"CollectionSrc",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"Collections",-1),i("p",null,"Investment collections and portfolios",-1)])]),_:1})]))},wte={__name:"MasterFile",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"Master File",-1),i("p",null,"Master data and configuration",-1)])]),_:1})]))},_te={__name:"CollectionSingle",setup:e=>(e,t)=>(z(),R("div",null,[d(hy,null,{default:H(()=>[...t[0]||(t[0]=[i("h1",null,"Collection Details",-1),i("p",null,"Individual collection details and analysis",-1)])]),_:1})]))},kte={__name:"ViewsLayout",setup:e=>(e,t)=>{const a=$("router-view");return z(),R("div",null,[d(a)])}},Ste={class:"no-xhide"},Cte=["src"],Ite={__name:"NotFoundPage",setup:e=>(e,t)=>(z(),R("div",Ste,[d(cy,{height:"89vh",class:"elevation-0"},{default:H(()=>[d(hy,{"fill-height":"",class:"text-center pt-0 px-0"},{default:H(()=>[d(cy,{width:"100%",color:"secbg",class:"rounded-xl mx-auto elevation-0 py-8"},{default:H(()=>[i("img",{src:`/src/assets/404${e.$vuetify.theme.dark?"d":""}.svg`,alt:"404 image",class:"pt-6 pb-3"},null,8,Cte),t[1]||(t[1]=i("h1",{class:"font-weight-bold lh-32 mb-4"},"Sorry, we couldn't find that page :/",-1)),t[2]||(t[2]=i("h4",{class:"font-weight-regular mb-5"},[W("Please check the URL or navigate back to our "),i("br"),W(" homepage to explore our current offerings and resources ")],-1)),d(im,{color:"btnclr",to:"/stocks",height:"48px",class:"text-none rounded-pill elevation-0 px-8"},{default:H(()=>[...t[0]||(t[0]=[i("span",{class:"btntext--text font-weight-medium body-2"},"Back to homepage",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]))},Ete={class:"pt-16"},Tte={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Nte={class:"pt-6"},Mte={__name:"StartCheck",setup(e){const t=a(null),l=a(null),n=a("LMT"),o=a(0),s=a({NorenWClient:{},NorenWClientTV:{},NorenWClientTP:{},NorenWClientWeb:{}}),c=e=>{let a=`jData={"uid":"${t.value.toUpperCase()}","actid":"${t.value.toUpperCase()}"}&jKey=${l.value}`;var n=0==e?"NorenWClient":1==e?"NorenWClientTV":2==e?"NorenWClientTP":3==e?"NorenWClientWeb":null;if(e<=3){let t={method:"post",url:`https://go.mynt.in/${n}/PositionBook`,data:a};aD.request(t).then(t=>{s.value[`${n}`]=t.data,c(e+1)}).catch(t=>{s.value[`${n}`]={...t.response.data},c(e+1),s.value={...s.value}})}};return(e,a)=>(z(),R("div",Ete,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"3"},{default:H(()=>[d(cy,{class:"rounded-0 elevation-0",color:"transparent",height:"40px"},{default:H(()=>[d(Ry,null,{default:H(()=>[d(ky,{cols:"6",class:"pr-0"},{default:H(()=>[d(cy,{onClick:a[0]||(a[0]=e=>n.value="MKT"),color:"MKT"==n.value?"maintext":"secbg",class:r(["MKT"==n.value?"mainbg--text":"maintext--text","elevation-0 fs-12 font-weight-bold rounded-pill rounded-r-0 justify-center d-flex align-center"]),height:"40px"},{default:H(()=>[...a[6]||(a[6]=[W(" MKT ",-1)])]),_:1},8,["color","class"])]),_:1}),d(ky,{cols:"6",class:"pl-0"},{default:H(()=>[d(cy,{onClick:a[1]||(a[1]=e=>n.value="LMT"),color:"LMT"==n.value?"maintext":"secbg",class:r(["LMT"==n.value?"mainbg--text":"maintext--text","elevation-0 fs-12 font-weight-bold rounded-pill rounded-l-0 justify-center d-flex align-center"]),height:"40px"},{default:H(()=>[...a[7]||(a[7]=[W(" LMT ",-1)])]),_:1},8,["color","class"])]),_:1})]),_:1})]),_:1})]),_:1}),d(ky,{cols:"9"},{default:H(()=>[d(Fk,{readonly:"MKT"==n.value||"SL-MKT"==n.value,height:"40px","hide-details":"",dense:"","background-color":"secbg",flat:"",block:"",class:"rounded-pill",solo:"",type:"number","hide-spin-buttons":"",modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value=e)},{append:H(()=>["MKT"==n.value||"SL-MKT"==n.value?(z(),R("svg",Tte,[...a[8]||(a[8]=[i("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),i("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):ee("",!0)]),"prepend-inner":H(()=>[...a[9]||(a[9]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12Z",fill:"white"}),i("path",{d:"M15.4285 9.25426L15.0805 10.4574H8.58762L8.93066 9.25426H15.4285ZM12.3014 17L8.71689 12.6399L8.70197 11.7102H10.4818C10.9326 11.7102 11.3137 11.6423 11.6253 11.5064C11.9401 11.3705 12.1788 11.1716 12.3412 10.9098C12.5069 10.648 12.5898 10.3232 12.5898 9.93537C12.5898 9.36198 12.4191 8.90956 12.0777 8.57812C11.7363 8.24337 11.2043 8.07599 10.4818 8.07599H8.58762L8.94061 6.81818H10.4818C11.3005 6.81818 11.9733 6.95076 12.5003 7.21591C13.0306 7.47775 13.425 7.84067 13.6835 8.30469C13.942 8.7687 14.0713 9.29901 14.0713 9.8956C14.0713 10.4325 13.9603 10.9214 13.7382 11.3622C13.5194 11.7997 13.1698 12.156 12.6892 12.4311C12.2086 12.7029 11.5756 12.8537 10.79 12.8835L10.7453 12.8935L14.0365 16.9155V17H12.3014ZM15.4285 6.81818L15.0805 8.03125L9.91504 7.99645L10.2631 6.81818H15.4285Z",fill:"#999999"})],-1)])]),_:1},8,["readonly","modelValue"])]),_:1})]),_:1}),d(Ry,null,{default:H(()=>[d(ky,{cols:"4"},{default:H(()=>[d(Fk,{modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value=e),label:"Client id",variant:"outlined"},null,8,["modelValue"])]),_:1}),d(ky,{cols:"8"},{default:H(()=>[d(Fk,{modelValue:l.value,"onUpdate:modelValue":a[4]||(a[4]=e=>l.value=e),label:"session",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),d(im,{color:"primary",disabled:!t.value||!l.value,onClick:a[5]||(a[5]=e=>c(0))},{default:H(()=>[...a[10]||(a[10]=[W(" fetch ",-1)])]),_:1},8,["disabled"]),i("div",Nte,[(z(!0),R(u,null,U(s.value,(e,t,a)=>(z(),q(Ry,{key:a},{default:H(()=>[d(ky,{cols:"2"},{default:H(()=>[W(A(t)+" ("+A(e&&e.length>0?e.length:0)+")",1)]),_:2},1024),d(ky,{cols:"10",onClick:t=>{return a=e,void navigator.clipboard.writeText(JSON.stringify(a)).then(()=>{alert("Text copied to clipboard!")}).catch(e=>{console.error("Failed to copy text:",e)});var a}},{default:H(()=>[W(A(e),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]))}},Ate=[{path:"/sc",name:"sc",component:Mte},{path:"/tv",name:"tv",component:XP},{path:"/mtv",name:"mtv",component:JP},{path:"/lwc",name:"lwc",component:bD},{path:"/",redirect:"/stocks",name:"layout",component:KP,children:[{path:"/",redirect:"/stocks",name:"dashboard",component:wD,children:[{path:"/stocks",name:"stocks",component:GK},{path:"/stocks/allindices",name:"stocks indices",component:r5},{path:"/stocks/market",name:"stocks market",component:S5},{path:"/stocks/screener",name:"stocks screener",component:z5},{path:"/stocks/advance_decline",name:"stocks advance decline",component:f6},{path:"/stocks/details",name:"dashboard layout",component:xD,children:[{path:"/stocks/details",name:"stocks details",component:R3},{path:"/fno",name:"fno",component:bte}]},{path:"/mutualfund",name:"mutual fund home",component:p8},{path:"/mutualfund/orderbook",name:"mutual fund orderbook",component:MH},{path:"/mutualfund/categories",name:"mutual fund categories",component:L8},{path:"/mutualfund/nfo",name:"mutual fund nfo",component:f7},{path:"/mutualfund/single/:ISIN?",name:"mutual fund single",component:x9},{path:"/bonds",name:"bonds home",component:see},{path:"/bonds/orderbook",name:"bonds orderbook",component:Uj},{path:"/ipo",name:"ipos home",component:ete},{path:"/ipo/orderbook",name:"ipos orderbook",component:Oj},{path:"/ipo/performance",name:"ipos performance",component:yte},{path:"/collection",name:"collection home",component:xte},{path:"/mst",name:"mst home",component:wte},{path:"/collection/single",alias:"/collection/*",name:"collection single",component:_te}]},{path:"/funds",name:"funds",component:nW},{path:"/settings",name:"Settings",component:qW},{path:"/orders",name:"orderbook",component:Hj},{path:"/orders/book",name:"orders book",component:wU},{path:"/orders/trade",name:"orders trade",component:BU},{path:"/orders/gtt",name:"orders gtt",component:aq},{path:"/orders/basket",name:"orders basket",component:Dq},{path:"/orders/sip",name:"orders sip",component:Zq},{path:"/positions",name:"views layout",component:kte,children:[{path:"/positions",name:"positions",component:D$},{path:"/holdings",name:"holdings",component:JR},{path:"/notification",name:"alert screen",component:SY},{path:"/stocks/single",alias:"/stocks/*",name:"single stocks",component:y6},{path:"/portifilo",name:"PortfiloAn",component:QR}]},{path:"/:pathMatch(.*)*",component:Ite}]}],Ote=he({history:fe("/"),routes:Ate,scrollBehavior(){window.scrollTo(0,0)}});Ote.beforeEach(async(e,t)=>{if(void 0===t.name&&("/positions"===e.path||"/holdings"===e.path||"/funds"===e.path||"/notification"===e.path||e.path.startsWith("/orders")))return{path:"/stocks",replace:!0};const a=Rc(),l=Pte(),n=Qa();if(a.uid&&a.token){const e=sessionStorage.getItem("c3RhdHVz");if(!e||"dmFsaWR1c2Vy"!==e){console.log("⚠️ Session status missing on route change, checking session...");const e=await l.checkSession(a.uid);if(!e||!e.valid)return console.error("❌ Session invalid on route change, logging out immediately"),l.handleSessionError((null==e?void 0:e.data)||{emsg:"Session has expired. Please log in again."},a,n),!1}}}),Ote.afterEach(e=>{try{Bc&&Pc(Bc,"page_view",{page_path:e.fullPath})}catch(Wie){console.error("Firebase analytics error:",Wie)}}),Ote.onError(e=>{console.error("Router navigation error:",e)});const Pte=t("session",()=>{const e=a({}),t=a(null),l=a(null),n=a(null),o=a(null),s=a(null),i=a(3e5);return{mynturl:e,firebaseConfig:t,source:l,sessionStatus:n,lastSessionCheck:o,sessionCheckInterval:s,checkInterval:i,initializeConfig:async()=>{if(t.value&&t.value.source)l.value=t.value.source;else try{await $c.get($c.child($c.ref($c.db),"desk/")).then(e=>{e.exists()?(t.value=e.val(),l.value=t.value.source):(t.value="WEB",l.value="WEB")}).catch(e=>{console.error(e),t.value="WEB",l.value="WEB"});const e=new URL(window.location.href).searchParams.get("src"),a=e||sessionStorage.getItem("socsrc");a&&(l.value=a,t.value.source=a,sessionStorage.setItem("socsrc",l.value))}catch(Wie){console.error("Error initializing config:",Wie),t.value="WEB",l.value="WEB"}},updateMyntUrl:t=>{console.log("🔄 updateMyntUrl called with config:",t),e.value={...e.value,myntapi:t.url,source:t.source,wss:t.wss,stat:1},ol.mynturl=e.value,t.clientid?sessionStorage.setItem(`mynturl_${t.clientid}`,JSON.stringify(e.value)):console.error("❌ No clientid provided, cannot save to sessionStorage")},loadMyntUrl:t=>{const a=sessionStorage.getItem(`mynturl_${t}`);if(console.log("🔍 Looking for mynturl in sessionStorage with key:",`mynturl_${t}`),console.log("🔍 Stored value exists:",!!a),a&&console.log("🔍 Stored value content:",a.substring(0,100)),a)try{return e.value=JSON.parse(a),ol.mynturl=e.value,console.log("✅ Successfully loaded mynturl with stat:",e.value.stat),!0}catch(SJ){console.error("Error loading mynturl from sessionStorage:",SJ)}return console.log("❌ No mynturl found in sessionStorage for uid:",t),!1},getSource:()=>l.value,resetConfig:()=>{e.value={},t.value=null,l.value=null},checkSession:async e=>{if(!e)return null;try{const{getActiveSession:t}=await Ja(async()=>{const{getActiveSession:e}=await Promise.resolve().then(()=>Jle);return{getActiveSession:e}},void 0),a=await t(e);return o.value=Date.now(),a&&"Ok"===a.stat&&a.apitoken&&a.token?(n.value="valid",{valid:!0,data:a}):a&&a.emsg?(n.value="invalid",{valid:!1,error:a.emsg,data:a}):(n.value="invalid",{valid:!1,error:"Session validation failed",data:a})}catch(Wie){return n.value="error",console.error("Session check error:",Wie),{valid:!1,error:Wie.message}}},handleSessionError:(e,t,a)=>{const l=e.emsg?e.emsg:"string"==typeof e?e:"Session expired : Invalid Session Key";"string"==typeof l&&(l.includes("another system")||l.includes("already logged in")||l.includes("logged in on")||l.includes("Session Expired")||l.includes("Invalid Session Key")),console.log("🔄 Session error detected, logging out user:",l),sessionStorage.removeItem("c3RhdHVz"),sessionStorage.removeItem("userid"),sessionStorage.removeItem("usession"),sessionStorage.removeItem("msession"),localStorage.removeItem("profile_data"),localStorage.removeItem("client_data"),t.clearAuth(),a.resetStorage(),a.showSnackbar(2,l),setTimeout(()=>{window.dispatchEvent(new CustomEvent("storage-reset")),console.log("🔄 Immediate logout and navigation to stocks page due to session end"),Ote.push("/stocks").catch(e=>{"NavigationDuplicated"!==e.name&&console.error("Navigation error:",e)})},100),setTimeout(()=>{t.uid&&(window.location.href="/stocks")},100)},startSessionMonitoring:(e,t,a)=>{console.log("ℹ️ Session monitoring not used - old app only checks on login")},stopSessionMonitoring:()=>{console.log("ℹ️ Session monitoring not used - old app only checks on login")}}});let Fte=null;var Lte,Dte=ol.uid,Vte=ol.tok,Bte=null,$te={},Rte={},zte={},Ute={},qte={},Hte={};(Lte=new URL(window.location.href).searchParams)&&Lte.get("user")&&(Dte=Lte.get("user"),Vte=Lte.get("usession"));const jte=new Map;function Wte(){return Qa()}let Yte={hasBeenCalledOnce:!1,isPending:!1,pendingPromise:null,cachedData:null,cacheExpiry:0,cacheDurationMs:1/0};async function Gte(){Dte=sessionStorage.getItem("userid"),Vte=sessionStorage.getItem("msession")}let Kte=new Headers,Xte=new Headers;Kte.append("Content-Type","application/json"),Xte.append("Content-Type","text/plain");var Jte={method:"POST",redirect:"follow",headers:Kte},Qte={method:"POST",redirect:"follow",headers:Xte};function Zte(){let e=sessionStorage.getItem("userid"),t=sessionStorage.getItem("usession");e&&!Kte.has("clientid")?Kte.set("clientid",e):!e&&Kte.has("clientid")&&Kte.delete("clientid"),t&&!Kte.has("Authorization")?Kte.set("Authorization",t):!t&&Kte.has("Authorization")&&Kte.delete("Authorization")}function eae(){const e=new Headers;return e.append("Content-Type","application/json"),{method:"POST",redirect:"follow",headers:e}}function tae(e,t={},a=5e3){const l=new AbortController;let n;const o=new Promise((e,t)=>{n=setTimeout(()=>{l.abort(),t(new Error("Request timeout"))},a)});if(t.signal){if(t.signal.aborted)return clearTimeout(n),l.abort(),Promise.reject(new Error("Request already aborted"));t.signal.addEventListener("abort",()=>{clearTimeout(n),l.abort()})}const s={...t,signal:l.signal,mode:"cors",credentials:"omit"};return Promise.race([fetch(e,s).then(e=>(clearTimeout(n),e)).catch(e=>{if(clearTimeout(n),"TypeError"===e.name&&e.message.includes("Failed to fetch"))throw new Error("Network error: Failed to fetch - possible CORS or connection issue");if("AbortError"===e.name)throw new Error("Request timeout");throw e}),o])}async function aae(e){return Jte.body=`{"clientid":"${e[0]}", "token":"${e[1]}"}`,await jle(ol.autho+"desklogout",Jte)}async function lae(e){const t=crypto.randomUUID();Jte.body=`{"imei": "${t}","clientid": "${e[0]}","hstoken": "${e[1]}","source": "TV","path": "${e[2]}"}`;var a=await jle(ol.copy+"redirect",Jte);return a&&"Ok"==a.stat&&(a.timei=t),a}async function nae(e){return Jte.body=e[0],Zte(),await jle(ol.ledger+"profile",Jte)}async function oae(e){return Jte.body=e,await jle(ol.copy+"MobileLogin",Jte)}async function sae(e){if(Fte&&Fte.source)Bte=Fte.source;else{await $c.get($c.child($c.ref($c.db),"desk/")).then(e=>{e.exists()?(Fte=e.val(),Bte=Fte.source):(Fte="WEB",Bte="WEB")}).catch(e=>{Bte="WEB",console.error(e)});var t=new URL(window.location.href).searchParams.get("src"),a=t||sessionStorage.getItem("socsrc");a&&(Bte=a,Fte.source=a,sessionStorage.setItem("socsrc",Bte))}var l=Gle(e);Jte.body=`{"string":"${l}","source":"${Bte}"}`;var n=await jle(ol.copy+"get_sessions",Jte);return JSON.parse(Kle(n.str))}async function iae(){return Jte.body="",await jle(ol.copy+"PreDefinedMW",Jte)}async function rae(){return Qte.body=`jData={"uid":"${Dte}"}&jKey=${Vte}`,await jle(tl.myntapi+"ShowLoggedInSessions",Qte)}async function uae(){return Qte.body=`jData={"uid":"${Dte}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetHsToken",Qte)}async function dae(e){return Qte.body=e,await jle(ol.zebuApiUrl+"global/SearchScrip",Qte)}async function cae(e){return Qte.body=e,await jle(tl.myntapi+"SearchScrip",Qte)}async function pae(e,t){return Qte.body=e,await jle(tl.myntapi+t,Qte)}async function mae(e){var t,a;Wte();const l=sessionStorage.getItem("userid"),n=sessionStorage.getItem("msession");if(!l||!n)return{response:[],edis:0};Rte&&Rte.response&&Rte.response.length>0&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:Rte}))},10),Qte.body=`jData={"uid":"${l}","actid":"${l}","prd":"C"}&jKey=${n}`;var o=await jle(tl.myntapi+"Holdings",Qte);let s=[];var i=0;if(o&&o.length>0)for(let r=0;r<o.length;r++){o[r].idx=r,o[r].exch=o[r].exch_tsym[0].exch,o[r].exchs=o[r].exch_tsym[0].tsym.includes("-TB")?"T-BILL":o[r].exch_tsym[0].tsym.includes("-GS")?"G-SEC":o[r].exch_tsym[0].tsym.includes("-GB")?"SGB":o[r].exch_tsym[0].exch,o[r].token=o[r].exch_tsym[0].token,o[r].tsym=o[r].exch_tsym[0].tsym,o[r].pp=o[r].exch_tsym[0].pp,o[r].ti=o[r].exch_tsym[0].ti,o[r].ls=o[r].exch_tsym[0].ls,o[r].isin=o[r].exch_tsym[0].isin;const e=Number(o[r].holdqty)>0?Number(o[r].holdqty):0,l=Number(o[r].unplgdqty)>0?Number(o[r].unplgdqty):0,n=Number(o[r].benqty)>0?Number(o[r].benqty):0,u=Math.max(Number(o[r].npoadt1qty)>0?Number(o[r].npoadt1qty):0,Number(o[r].npoadqty)>0?Number(o[r].npoadqty):0,Number(o[r].dpqty)>0?Number(o[r].dpqty):0),d=Number(o[r].usedqty)>0?Number(o[r].usedqty):0;o[r].netqty=e+l+n+u-d,o[r].salqty=o[r].btstqty>0?o[r].btstqty:0+o[r].holdqty>0?o[r].holdqty:0+o[r].unplgdqty>0?o[r].unplgdqty:0+o[r].benqty>0?o[r].benqty:0+o[r].dpqty>0?o[r].dpqty:0-o[r].usedqty>0?o[r].usedqty:0,o[r].plgqty=o[r].brkcolqty>0?o[r].brkcolqty:0,o[r].action="NSE"==o[r].exch||"BSE"==o[r].exch||"NFO"==o[r].exch||"MCX"==o[r].exch||"CD"==o[r].exch,s.push({...o[r]}),i+=Number(null==(t=o[r])?void 0:t.npoadqty)>0?Number(o[r].npoadqty):0,i+=Number(null==(a=o[r])?void 0:a.npoadt1qty)>0?Number(o[r].npoadt1qty):0}return 500!=o&&(Rte={response:s,edis:i})&&Rte.response&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:Rte}))},150),Rte}async function vae(){let e={ClientCode:Dte};return Jte.body=JSON.stringify(e),await jle(ol.mfnewapi+"order/holdings",Jte)}async function hae(e){Wte();const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return{a:[],o:[],c:[]};e&&$te&&$te.data&&$te.data.length>0&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:$te}))},10),Qte.body=`jData={"uid":"${t}","actid":"${t}"}&jKey=${a}`;var l=await jle(tl.myntapi+"PositionBook",Qte),n=[],o=[];if(l&&l.length>0){for(let e=0;e<l.length;e++){l[e].idx=e;const t="CDS"==l[e].exch||"BCD"==l[e].exch?parseFloat(l[e].totbuyavgprc).toFixed(4):parseFloat(l[e].totbuyavgprc).toFixed(2),a="CDS"==l[e].exch||"BCD"==l[e].exch?parseFloat(l[e].totsellavgprc).toFixed(4):parseFloat(l[e].totsellavgprc).toFixed(2),s=t||0,i=a||0;0==l[e].netqty?(l[e].way="close",n.push(l[e])):(l[e].way="open",l[e].disabled=!1,o.push(l[e])),l[e].totbuyavgprc=s,l[e].totsellavgprc=i,l[e].tokn=l[e].token+"_"+e,l[e].avgprc=l[e].netavgprc&&Number(l[e].netavgprc)>0?l[e].netavgprc:l[e].netupldprc&&Number(l[e].netupldprc)>0?l[e].netupldprc:l[e].upldprc&&Number(l[e].upldprc)>0?l[e].upldprc:l[e].dayavgprc,l[e].crpnl=l[e].rpnl,l[e].tempqty=parseFloat(l[e].daybuyqty||"0")+parseFloat(l[e].cfbuyqty||"0")<parseFloat(l[e].daysellqty||"0")+parseFloat(l[e].cfsellqty||"0")?parseFloat(l[e].daybuyqty||"0"):parseFloat(l[e].daysellqty||"0"),l[e].tempqty=l[e].tempqty*l[e].prcftr,l[e].tempavg=l[e].netqty>0?Number(l[e].daysellavgprc)-parseFloat(l[e].netupldprc||"0"):parseFloat(l[e].netupldprc||"0")-Number(l[e].daybuyavgprc),l[e].temprpnl=l[e].tempavg*l[e].tempqty}$te={a:l,o:o,c:n}}else 500!=l&&($te=l);return e&&$te&&($te.a||$te.o)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:$te}))},150),$te}async function fae(e){return Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+"ProductConversion",Qte)}async function gae(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");return Dte=t||Dte,Vte=a||Vte,t&&a?(Qte.body=`jData={"uid":"${t}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${a}`,await jle(tl.myntapi+"GetQuotes",Qte)):(console.error("getQuotesdata: uid or token not available from sessionStorage"),{stat:"Not Ok",emsg:"Authentication required"})}async function yae(e){return Qte.body=e,await jle(tl.myntapi+"GetOptionChain",Qte)}async function bae(e){return Qte.body=`jData={"uid":"${Dte}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetSecurityInfo",Qte)}async function xae(e){return Qte.body=`jData={"uid":"${Dte}","exch":"${e.split("|")[0]}","tsym":"${e.split("|")[2]}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetTechnicals",Qte)}async function wae(e){return Qte.body=`jData={"uid":"${Dte}","exch":"${e.split("|")[0]}","token":"${e.split("|")[1]}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetLinkedScrips",Qte)}async function _ae(e){return Qte.body=`jData={"uid":"${Dte}","actid":"${Dte}","exch":"${e.exch}","tsym":"${e.tsym}","qty":"${e.qty}","prc":"${e.prc}","prd":"${e.prd}","trantype":"${e.trantype}","prctyp":"${e.prctyp}","trgprc":"${e.trgprc}","rorgqty":"0","rorgprc":"0"}&jKey=${Vte}`,await jle(tl.myntapi+"GetOrderMargin",Qte)}async function kae(e){return Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+"GetBasketMargin",Qte)}async function Sae(e){return Qte.body=`jData={"uid":"${Dte}","actid":"${Dte}","exch":"${e.exch}","tsym":"${e.tsym}","qty":"${e.qty}","prc":"${e.prc}","prd":"${e.prd}","trantype":"${e.trantype}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetBrokerage",Qte)}async function Cae(e,t){try{Dte=sessionStorage.getItem("userid")||Dte,Vte=sessionStorage.getItem("msession")||Vte}catch(a){}return"can-ex"!=t&&(e.tsym&&(e.tsym=encodeURIComponent(e.tsym)),e.app_inst_id=sessionStorage.getItem("imei"),e.usr_agent=navigator.appVersion,e.ipaddr=localStorage.getItem("uuidipadd")),Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+("can-ex"==t?"ExitSNOOrder":"can"==t?"CancelOrder":"mod"==t?"ModifyOrder":"PlaceOrder"),Qte)}async function Iae(e,t){try{Dte=sessionStorage.getItem("userid")||Dte,Vte=sessionStorage.getItem("msession")||Vte}catch(a){}return Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+t,Qte)}async function Eae(e,t){try{Dte=sessionStorage.getItem("userid")||Dte,Vte=sessionStorage.getItem("msession")||Vte}catch(a){}return Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+t,Qte)}async function Tae(e,t){return Qte.body=`jData=${JSON.stringify(e)}&jKey=${Vte}`,await jle(tl.myntapi+("cancel"==t?"CancelAlert":t?"ModifyAlert":"SetAlert"),Qte)}async function Nae(e){Wte();const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");if(!t||!a)return{response:[],openorders:[],execorders:[],stat:[0,0,0]};Qte.body=`jData={"uid":"${t}","actid":"${t}"}&jKey=${a}`;var l=await jle(tl.myntapi+"OrderBook",Qte),n=[],o=[],s=[0,0,0];if(l&&l.length>0)for(let i=0;i<l.length;i++)l[i].idx=i,"PENDING"==l[i].status||"OPEN"==l[i].status||"TRIGGER_PENDING"==l[i].status?(l[i].exord=!("BO"!=l[i].s_prdt_ali&&"CO"!=l[i].s_prdt_ali||!l[i].snonum),l[i].way="open",o.push(l[i]),l[i].disabled=!1):(l[i].way="exec",n.push(l[i])),l[i].value=l[i].qty*l[i].avgprc,"PENDING"==l[i].status||"OPEN"==l[i].status||"TRIGGER_PENDING"==l[i].status?s[0]+=1:"COMPLETE"==l[i].status?s[1]+=1:s[2]+=1;return 500!=l&&(zte={response:l,openorders:o,execorders:n,stat:s},e&&zte&&zte.stat&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("tempdata-update",{detail:zte}))},150)),zte}async function Mae(e){return Qte.body=e,await jle(tl.myntapi+"TradeBook",Qte)}async function Aae(e){return Qte.body=e,await jle(tl.myntapi+"SipOrderBook",Qte)}async function Oae(e){return Qte.body=`jData={"uid":"${Dte}","norenordno":"${e}"}&jKey=${Vte}`,await jle(tl.myntapi+"SingleOrdHist",Qte)}async function Pae(){return Qte.body=`jData={"uid":"${Dte}"}&jKey=${Vte}`,await jle(tl.myntapi+"GetPendingGTTOrder",Qte)}async function Fae(e){return Qte.body=e,await jle(tl.myntapi+"CancelGTTOrder",Qte)}async function Lae(e){const t=sessionStorage.getItem("userid"),a=sessionStorage.getItem("msession");return t&&a?(Qte.body=`jData={"uid":"${t}"}&jKey=${a}`,await jle(tl.myntapi+e,Qte)):[]}async function Dae(e,t=!1){const a=sessionStorage.getItem("userid"),l=sessionStorage.getItem("msession");if(!a||!l)return{stat:"Error"};if(Yte.hasBeenCalledOnce&&!t)return console.log("🚫 Limits API already called once. Returning cached data. Use forceRefreshMLimits() for manual refresh."),Yte.cachedData||{stat:"Error",emsg:"Limits data not yet loaded"};if(Yte.isPending&&Yte.pendingPromise)return console.log("🔄 Limits API call already in progress, reusing existing promise..."),await Yte.pendingPromise;if(Yte.cachedData&&!t)return console.log("💾 Returning cached Limits data"),Yte.cachedData;Yte.isPending=!0,t||(Yte.hasBeenCalledOnce=!0);const n=(async()=>{try{Qte.body=`jData={"uid":"${a}","actid":"${a}"}&jKey=${l}`;var t=await jle(tl.myntapi+"Limits",Qte);if(t&&"Ok"==t.stat){var n=(Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)+(Number(t.cash)?Number(t.cash):0)+(Number(t.payin)?Number(t.payin):0)-Math.abs(Number(t.daycash)?Number(t.daycash):0);t.total=e?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):n;var o=(Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)+(Number(t.cash)?Number(t.cash):0)-Number(t.marginused??0)+(Number(t.payin)?Number(t.payin):0)-(Math.abs(Number(t.daycash))?Math.abs(Number(t.daycash)):0);if(t.opnbal=(Number(t.cash)?Number(t.cash):0)+(Number(t.payin)?Number(t.payin):0)-Math.abs(Number(t.daycash)?Number(t.daycash):0),t.collateral=((Number(t.collateral)?Number(t.collateral):0)+(Number(t.brkcollamt)?Number(t.brkcollamt):0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),t.avbma=o>0||o<0?e?o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):o:0,e)for(const[e,a]of Object.entries(t))e&&a&&Number(a)&&(t[e]=0!=Number(a)?Number(a).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):null);Yte.cachedData=t,Yte.cacheExpiry=Date.now()+Yte.cacheDurationMs}return t}finally{Yte.isPending=!1,Yte.pendingPromise=null}})();return Yte.pendingPromise=n,await n}async function Vae(e){return console.log("🔄 Force refreshing Limits API..."),Yte.hasBeenCalledOnce=!1,await Dae(e,!0)}async function Bae(e){return Gte(),Qte.body=`jData={"uid":"${Dte}"}&jKey=${Vte}`,await jle(tl.myntapi+(e?"GenSecretKey":"GetSecretKey"),Qte)}async function $ae(){return Gte(),Qte.body=`jData={"uid":"${Dte}"}&jKey=${Vte}`,await jle(tl.myntapi+"RequestApiKey",Qte)}async function Rae(e,t){return Gte(),Qte.body=`jData={"uid":"${Dte}", "valTime":"${e}"}${t?`, "status":"${t}"`:""}&jKey=${Vte}`,await jle(tl.myntapi+"GetUserApiKey",Qte)}async function zae(){return Gte(),Qte.body=`jData={"app_key":"${Dte}_U"}&jKey=${Vte}`,await jle(tl.myntapi+"GetAppKeyData",Qte)}async function Uae(e){Gte();const t=[{ipaddr:e.primaryIp}];return e.backupIp&&t.push({ipaddr:e.backupIp}),Qte.body=`jData={"app_key":"${e.clientId}","sec_code":"${e.secretCode}","red_url":"${e.url}","dname":"${Dte} s apikey","ipaddr": ${JSON.stringify(t)},"uid": [{"uid":"${Dte}"}]}&jKey=${Vte}`,await jle(tl.myntapi+"AppKeyStore",Qte)}async function qae(){var e;return Gte(),Ute&&"Ok"==Ute.stat?e=Ute:(Dte&&Vte||(Dte=sessionStorage.getItem("userid"),Vte=sessionStorage.getItem("msession")),Dte&&Vte?(Qte.body=`jData={"uid":"${Dte}","actid":"${Dte}"}&jKey=${Vte}`,(e=await jle(tl.myntapi+"ClientDetails",Qte))&&"Ok"==e.stat&&(Ute=e)):e={stat:"Not Ok",emsg:"Authentication required"}),e}async function Hae(e){return Qte.body=`jData={"uid":"${Dte}","source":"${e}"}&jKey=${Vte}`,await jle(tl.myntapi+"Logout",Qte)}async function jae(){return Jte.body=`{"client_id":"${Dte}"}`,await jle(ol.exmynt+"api/GetPosition",Jte)}async function Wae(e){return Jte.body=`{"value":"${e}","count":"30"}`,await jle(ol.exmynt+"/get_oi_bar",Jte)}async function Yae(){const e="newsfeedin";if(jte.has(e)){console.log(`🔄 Reusing pending request: ${e}`);try{return await jte.get(e)}catch(Wie){throw jte.delete(e),Wie}}const t=(async()=>{try{const a=eae();a.body="";var t=await jle(ol.sessapi+"newsfeedin?pagesize=5&pagecount=1&filterdate=monthly",{...a,method:"get"});return jte.delete(e),t}catch(Wie){throw jte.delete(e),Wie}})();return jte.set(e,t),await t}async function Gae(){const e="getCorporateAction";if(jte.has(e)){console.log(`🔄 Reusing pending request: ${e}`);try{return await jte.get(e)}catch(Wie){throw jte.delete(e),Wie}}const t=(async()=>{try{const a=eae();a.body="";var t=await jle(ol.iposapi+"getCorporateAction",a);return jte.delete(e),t}catch(Wie){throw jte.delete(e),Wie}})();return jte.set(e,t),await t}async function Kae(e){const t=eae();return t.body=`{"symbol":"${e}"}`,await jle(ol.eqapi+"stockFundamentalDetails",t)}async function Xae(){const e=eae();return e.body="",await jle(ol.eqapi+"GetIndexList",e)}async function Jae(e){const t=eae();return t.body=`{"exch":"${e[0]}","bskt":"${e[1]}","crt":"${e[2]}"}`,await jle(ol.eqapi+"TopList",t)}async function Qae(e){const t=`GetContentList_${e[0]}_${e[1]}_${e[2]}`;if(jte.has(t)){console.log(`🔄 Reusing pending request: ${t}`);try{return await jte.get(t)}catch(Wie){throw jte.delete(t),Wie}}const a=(async()=>{try{const l=eae();l.body=`{"exch":"${e[0]}","basket":"${e[1]}","condition":"${e[2]}"}`;var a=await jle(ol.eqapi+"GetContentList",l);return jte.delete(t),a}catch(Wie){throw jte.delete(t),Wie}})();return jte.set(t,a),await a}async function Zae(){const e="getadindicesAdvdec";if(jte.has(e)){console.log(`🔄 Reusing pending request: ${e}`);try{return await jte.get(e)}catch(Wie){throw jte.delete(e),Wie}}const t=(async()=>{try{const a=eae();a.body="";var t=await jle(ol.eqapi+"getadindicesAdvdec",a);return jte.delete(e),t}catch(Wie){throw jte.delete(e),Wie}})();return jte.set(e,t),await t}async function ele(e){const t=eae();return t.body=`{"index": "${e}"}`,await jle(ol.eqapi+"getadindices",t)}async function tle(){return Jte.body="",await jle(ol.mfnewapi+"dashboard/getMfBaskets",Jte)}async function ale(){return Jte.body="",await jle(ol.mfnewapi+"dashboard/topschemes",Jte)}async function lle(){return Jte.body="",await jle(ol.mfnewapi+"dashboard/getCategoryschemes",Jte)}async function nle(e){return Jte.body=`{"client_code":"${e[0]}", "mandate_id":"${e[1]}", "from_date":"01/01/1900", "to_date":"31/12/${(new Date).getFullYear()}"}`,await jle(ol.mfnewapi+"order/mandate_details",Jte)}async function ole(e){return Jte.body=`{"ClientCode":"${e[0]}", "amount":"${e[1]}", "startdate":"${e[2]}", "enddate":"${e[3]}"}`,await jle(ol.mfnewapi+"order/mandate_creation",Jte)}async function sle(e){return Jte.body=`{"isin":"${e[0]}", "scheme_code":"${e[1]}"}`,await jle(ol.mfnewapi+"order/sip_values",Jte)}async function ile(e){return Jte.body=`{"ClientCode":"${e[0]}"}`,await jle(ol.mfnewapi+"order/OrderBook",Jte)}async function rle(){return Jte.body=`{"ClientCode":"${Dte}","status":"ACTIVE"}`,await jle(ol.mfnewapi+"order/FetchSIP",Jte)}async function ule(){return Jte.body=`{"ClientCode":"${Dte}"}`,await jle(ol.mfnewapi+"order/FetchSIP",Jte)}async function dle(){return Jte.body=`{"client_code":"${Dte}"}`,await jle(ol.mfnewapi+"order/client_bank_details",Jte)}async function cle(e){return Jte.body=e,await jle(ol.mfnewapi+"dashboard/watchlist_for_mobile",Jte)}async function ple(){return Jte.body="",await jle(ol.mfnewapi+"dashboard/NFO_datas",Jte)}async function mle(e){return Jte.body="",await jle(ol.mfnewapi+`singlepage/getFactSheetData?ISIN=${e}`,Jte)}async function vle(e,t,a){return Jte.body="",await jle(ol.mfnewapi+`singlepage/getNavGraph?ISIN=${e}&fromDate=${t}&toDate=${a}`,Jte)}async function hle(e,t){return Jte.body="",await jle(ol.mfnewapi+`singlepage/getSchemePeers?ISIN=${e}&year=${t}`,Jte)}async function fle(e){return Jte.body="",await jle(ol.mfnewapi+`singlepage/getFactSheetGraph?ISIN=${e}`,Jte)}async function gle(e,t,a){return Jte.body=`{"ISIN":${e},"startdate":"${t}","year":"${a}"}`,await jle(ol.mfnewapi+"singlepage/postRollingReturn",Jte)}async function yle(e,t){return Jte.body=`{"ClientCode":"${Dte}","OrderId":"${e}"}`,await jle(ol.mfnewapi+("R"==t?"lumsum_redemption_cancel":"order/lumpsum_purchase_cancel"),Jte)}async function ble(e){return Jte.body=`{"ClientCode":"${Dte}","SIPRegnNo":"${e[1]}","scheme_code":"${e[2]}","CaseNo":"${e[3]}","remarks":"${e[4]}","source": "web","placed_by": "${Dte}"}`,await jle(ol.mfnewapi+"order/xsip_cancel",Jte)}async function xle(){return Jte.body="",await jle(ol.mfnewapi+"order/reasons",Jte)}async function wle(e){return Jte.body=`{"ClientCode":"${Dte}","SIPRegnNo":"${e[1]}","scheme_code":"${e[2]}","installments":"${e[3]}","source": "web","placed_by": "${Dte}"}`,await jle(ol.mfnewapi+"order/xsip_pause",Jte)}async function _le(e,t){return Jte.body=t,await jle(ol.mfnewapi+e,Jte)}async function kle(e){return Jte.body=e,await jle(ol.mfapi+"all_payment",Jte)}async function Sle(e){return Jte.body=e,await jle(ol.mfnewapi+"order/all_payment",Jte)}async function Cle(e){return Jte.body=e,await jle(ol.mfnewapi+"order/get_payment_status",Jte)}async function Ile(){return Jte.body="",await jle(ol.bondapi+"getcurrentNCB_Gsecdetails",Jte)}async function Ele(){return Jte.body="",await jle(ol.bondapi+"getcurrentNCB_TBilldetails",Jte)}async function Tle(){return Jte.body="",await jle(ol.bondapi+"getcurrentNCB_SDLdetails",Jte)}async function Nle(){return Jte.body="",await jle(ol.bondapi+"getcurrentSGBdetails",Jte)}async function Mle(e,t){return Jte.body=t,Zte(),await jle(ol.bondapi+(e?"addSGBtoPortfolio":"addNCBtoPortfolio"),Jte)}async function Ale(){return Jte.body="",await jle(ol.iposapi+"getcurrentIPOdetails",Jte)}async function Ole(e){return Jte.body="",await jle(ol.iposapi+`ipo_performer?year=${e}`,Jte)}async function Ple(){return Jte.body="",await jle(ol.iposapi+"getcurrentSMEIPOdetails",Jte)}async function Fle(e){return Jte.body=`{"client_id": "${e[0]}"}`,Zte(),await jle(ol.iposapi+"orderbookIPODetails",Jte)}async function Lle(e){return Jte.body=e,Zte(),await jle(ol.iposapi+"addIPOtoPortfolio",Jte)}async function Dle(e){return Jte.body=`{"client_id":"${e}"}`,await jle(ol.upiurl+"withdraw/view_upi_id",Jte)}async function Vle(e){return Jte.body=`{"VPA":"${e[0]}","clientID":"123456789","bank_acc":"123456789"}`,Zte(),await jle(ol.upiurl+"hdfc/upi/checkClientVPA",Jte)}async function Ble(e){return Jte.body=`{"clientid": "${e[0]}"}`,await jle(ol.ledger+"all_ledger_balance",Jte)}async function $le(e){if(!e||!Array.isArray(e)||0===e.length)return console.warn("getLtpdata: Invalid input - item must be a non-empty array"),{data:null,error:"Invalid input: item must be a non-empty array"};const t=e.filter(e=>!(e&&e.exch&&e.token&&e.tsym));if(t.length>0)return console.warn("getLtpdata: Invalid items in array - missing exch, token, or tsym",t),{data:null,error:"Invalid items: missing exch, token, or tsym"};const a=JSON.stringify(e.sort((e,t)=>e.exch!==t.exch?e.exch.localeCompare(t.exch):e.token!==t.token?e.token.localeCompare(t.token):e.tsym.localeCompare(t.tsym)));if(jte.has(a)){console.log("[API] GetLtp request already pending for same data, reusing...");try{return await jte.get(a)}catch(Wie){jte.delete(a)}}try{Zte(),Jte.body=`{ "data": ${JSON.stringify(e)} }`;const t=jle(ol.asvrapi+"GetLtp",Jte);jte.set(a,t);var l=await t;return 500===l?(console.error("Error in getLtpdata: API returned 500 error"),{data:null,error:"API Error: Server returned 500"}):l&&l.emsg?(console.error("Error in getLtpdata:",l.emsg),{data:null,error:l.emsg}):!l||Array.isArray(l)&&0===l.length?(console.warn("getLtpdata: Empty or invalid response"),{data:null,error:"No data returned from API"}):(jte.delete(a),l)}catch(Wie){return jte.delete(a),console.error("Error in getLtpdata:",Wie),{data:null,error:Wie.message||"Unknown error occurred"}}}async function Rle(e){return Jte.body=e,await jle(ol.zebuApiUrl+"getoptiongreeks",Jte)}async function zle(e){var t,a;try{const t=await tae(`https://be.mynt.in/getindicators?clientCode=${e}`,{method:"GET",mode:"cors",credentials:"omit"},5e3);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()}catch(Wie){throw("Request timeout"===Wie.message||"AbortError"===Wie.name||(null==(t=Wie.message)?void 0:t.includes("timeout"))||(null==(a=Wie.message)?void 0:a.includes("Network error")))&&console.warn("⚠️ getIndicators timeout/error: returning empty"),new Error(`get symbols request error: ${Wie}`)}}async function Ule(e,t){var a,l;try{const a=await tae(`https://be.mynt.in/storeindicators?clientCode=${e}&indicators=${JSON.stringify(t)}`,{method:"GET",mode:"cors",credentials:"omit"},5e3);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return a.json()}catch(Wie){throw("Request timeout"===Wie.message||"AbortError"===Wie.name||(null==(a=Wie.message)?void 0:a.includes("timeout"))||(null==(l=Wie.message)?void 0:l.includes("Network error")))&&console.warn("⚠️ setIndicators timeout/error: returning empty"),new Error(`set symbols request error: ${Wie}`)}}async function qle(e,t){Jte.body=t?JSON.stringify(e):"";var a=!t&&qte&&qte.metadata&&qte.metadata.mainpreitems?qte:await jle(ol.zebuApiUrl+(t?"weblog/savepreference":`weblog/getpreference?clientid=${Dte}&source=WEB`),t?Jte:{method:"get"});return qte=t?e:a,a}async function Hle(e){let t=null==Hte?void 0:Hte[encodeURIComponent(e)];return t||(t=await Yle(`${ol.zebuApiUrl}findsymbol?tsym=${encodeURIComponent(e)}`,{method:"GET",redirect:"follow"}),(null==t?void 0:t.length)>3&&(Hte[encodeURIComponent(e)]=t)),t}async function jle(e,t,a){var l,n,o,s;const i=(new Date).toLocaleString(),r=Wte();try{const l=await tae(e,t,5e3),n=Rc(),o=Pte();if(401===l.status){console.error("❌ 401 Unauthorized error detected");let e=null;try{const t=await l.text();t&&(e=JSON.parse(t))}catch(u){console.warn("Could not parse 401 error response:",u)}const t=(null==e?void 0:e.emsg)||(null==e?void 0:e.message)||"Session expired",a="string"==typeof t?t.toLowerCase():"";if(a.includes("session expired")&&a.includes("invalid session key")&&n.uid){console.error("❌ Session expired detected with valid uid, logging out:",t);const a={emsg:t||"Session expired : Invalid Session Key"};return o.handleSessionError(a,n,r),e||{stat:"NotOk",emsg:t}}return e&&e.emsg?r.showSnackbar(2,e.emsg):t&&r.showSnackbar(2,t),e||{stat:"NotOk",emsg:t}}if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);let s=await l.json();if(s=JSON.stringify(s),s=JSON.parse(s),Dte&&Vte){const t=l.status,a=(new Date).toLocaleTimeString(),n=l.ok?"ok":s;Wle(`${t} || t: ${i} - ${a} || ${e.split(".in")[1]} || m: ${n}`,i)}if(a||Jte.body&&delete Jte.body,s&&s.emsg){const e=s.emsg,t="string"==typeof e?e.toLowerCase():"";if(t.includes("another system")||t.includes("already logged in")||t.includes("logged in on")||t.includes("session expired")&&t.includes("invalid session key"))return n.uid?(console.error("❌ Session error detected in response body:",e),o.handleSessionError(s,n,r),s):(r.showSnackbar(2,e),s)}return s}catch(Wie){if(Dte&&Vte){const a=(new Date).toLocaleString(),l=Wie.status||0,n=Wie.message||"Unknown error";Wle(`${l} || t: ${i} - ${a} || ${e.split(".in")[1]} || m: ${n}`,i)}if("Request timeout"===Wie.message||"AbortError"===Wie.name||(null==(l=Wie.message)?void 0:l.includes("timeout")))return console.warn(`⚠️ API request timeout (5s): ${e} - continuing without blocking UI`),Jte.body&&delete Jte.body,{stat:"NotOk",emsg:"Request timeout"};if((null==(n=Wie.message)?void 0:n.includes("Network error"))||(null==(o=Wie.message)?void 0:o.includes("Failed to fetch"))||(null==(s=Wie.message)?void 0:s.includes("CORS")))return console.warn(`⚠️ Network/CORS error: ${e} - continuing without blocking UI`),Jte.body&&delete Jte.body,{stat:"NotOk",emsg:"Network error"};if(401===Wie.status){console.error("❌ 401 Unauthorized error detected in catch block");const e=Rc(),a=Pte();if(e.uid&&e.token){let l="Session expired : Invalid Session Key";Wie.message&&"string"==typeof Wie.message?l=Wie.message:Wie.emsg&&(l=Wie.emsg);const n="string"==typeof l?l.toLowerCase():"";if(n.includes("session expired")&&n.includes("invalid session key")){const t={emsg:l};a.handleSessionError(t,e,r)}else r.showSnackbar(2,l)}else r.showSnackbar(2,Wie.message||"Unauthorized")}return Jte.body&&delete Jte.body,500}}function Wle(e,t){const a=JSON.parse(localStorage.getItem(`${Dte}_apiLogs`)||"[]"),l=t.slice(0,10),n=a.length?a[0]:null;l&&"string"==typeof n&&n.includes(l)||(a.length=0),a.unshift(e),localStorage.setItem(`${Dte}_apiLogs`,JSON.stringify(a))}async function Yle(e,t={}){var a,l,n;try{const a=await tae(e,t,5e3);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);let l=await a.json();return l=JSON.stringify(l),l=JSON.parse(l),l}catch(Wie){return("Request timeout"===Wie.message||"AbortError"===Wie.name||(null==(a=Wie.message)?void 0:a.includes("timeout"))||(null==(l=Wie.message)?void 0:l.includes("Network error"))||(null==(n=Wie.message)?void 0:n.includes("Failed to fetch")))&&console.warn(`⚠️ fetchMyntjson timeout/error (5s): ${e} - returning empty array`),[]}}function Gle(e){const t=JSON.stringify({clientid:e});var a=Uh.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),l=Uh.enc.Utf8.parse("3790514682037125");return Uh.AES.encrypt(t,a,{iv:l,mode:Uh.mode.CBC}).toString()}function Kle(e){const t=e,a=Uh.enc.Base64.parse(btoa("N#j2L^8pq9Fb$d@1")),l=Uh.enc.Utf8.parse("3790514682037125"),n=t;return Uh.AES.decrypt(n,a,{iv:l,mode:Uh.mode.CBC}).toString(Uh.enc.Utf8)}function Xle(){return Rte&&Rte.response&&Rte.response.length>0?Rte.response:[]}const Jle=Object.freeze(Object.defineProperty({__proto__:null,fetchMyntAPI:jle,fetchMyntjson:Yle,get firebase(){return Fte},forceRefreshMLimits:Vae,getADindice:ele,getADindices:Zae,getActiveSession:sae,getAlertAPi:Lae,getApiKeyStore:Uae,getApikeyData:zae,getApikeyreq:$ae,getBSKMargin:kae,getBondGsec:Ile,getBondLedger:Ble,getBondOrder:Mle,getBondSdl:Tle,getBondSgb:Nle,getBondTbill:Ele,getBrokerage:Sae,getClientDetails:qae,getConTentList:Qae,getCorporateact:Gae,getDeskLogout:aae,getEXPosition:jae,getFundsupis:Dle,getGTTPlaceOrder:Eae,getGloabSearch:dae,getGreekoptions:Rle,getGttorderbook:Pae,getHsTokenapi:uae,getIndexList:Xae,getIndicators:zle,getIposIpo:Ale,getIposPerform:Ole,getIposSme:Ple,getIposbook:Fle,getIposorder:Lle,getKambalaSearch:cae,getLinkedScrips:wae,getLoggedIn:rae,getLtpdata:$le,getMFAddmandate:ole,getMFBankdetails:dle,getMFNAVchart:vle,getMFSchemePeers:hle,getMFallpayments:kle,getMFcancelation:xle,getMFcancellum:yle,getMFcancelxsip:ble,getMFlumsum_order:ile,getMFmandate:nle,getMFnofdata:ple,getMFplaceoredr:_le,getMFrollschart:gle,getMFsheetchart:fle,getMFsheetdata:mle,getMFsipvalue:sle,getMFwatchlist:cle,getMHoldingdata:Xle,getMHoldings:mae,getMLimits:Dae,getMMHoldings:vae,getMOrderbook:Nae,getMPosotion:hae,getMPosotionCon:fae,getMTradebook:Mae,getMasters:Hle,getMwatchlistset:pae,getMyntLogout:Hae,getOIbars:Wae,getOptionschain:yae,getOrderMargin:_ae,getPlaceOrder:Cae,getPreDefinedMW:iae,getProfiledata:nae,getQuotesdata:gae,getReSession:lae,getSIPOrderset:Iae,getSecuritydata:bae,getSingleorderbook:Oae,getSiporderbook:Aae,getTechnicals:xae,getTopList:Jae,getTotpreq:Bae,getUpivpa:Vle,getUserApikeyreq:Rae,getcallApi:oae,getcheckpaystatus:Cle,getmfpauseapi:wle,getmfsipnewapi:rle,getmfsipnewapihisty:ule,getnewBestMF:tle,getnewcatgreapi:lle,getsendpaymentrequt:Sle,getssDetails:Kae,getssNews:Yae,gettopfirstapi:ale,setCancelGTT:Fae,setDecryption:Kle,setIndicators:Ule,setMalert:Tae,setOrdprefApi:qle,seteEcryption:Gle,seyCheckwebsocket:Gte,get source(){return Bte}},Symbol.toStringTag,{value:"Module"})),Qle={class:"px-3"},Zle={class:"font-weight-bold fs-14 maintext--text mb-0"},ene={class:"ml-1 subtext--text fs-10"},tne={class:"font-weight-bold fs-14 maintext--text mb-0"},ane={class:"fs-12 subtext--text"},lne={class:"font-weight-bold fs-14 maintext--text mb-0"},nne={class:"ml-1 subtext--text fs-10"},one={class:"font-weight-bold fs-14 maintext--text mb-0"},sne={class:"px-5"},ine={class:"font-weight-bold fs-14 maintext--text mb-0"},rne={class:"ml-1 subtext--text fs-10"},une={class:"maintext--text font-weight-bold fs-12 mb-1"},dne={key:0,style:{height:"calc(100vh - 320px)"},class:"overflow-y-auto pos-rlt no-scroll"},cne={class:"px-6 py-1"},pne={key:0,class:"pt-2"},mne={key:1,style:{"border-bottom":"1px solid #e0e0e0"},class:"pb-2 mt-3"},vne={class:"d-flex justify-space-between align-center mb-2"},hne={class:"font-weight-regular fs-14 subtext--text mb-0 text-right"},fne={key:0,class:"lh-16 fs-10 subtext--text mb-0 mt-1"},gne={class:"d-flex justify-space-between align-center mb-2"},yne={class:"font-weight-regular fs-14 subtext--text mb-0 text-right"},bne={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},xne={key:0,class:"lh-16 fs-10 subtext--text mb-0 mt-1"},wne={key:0,class:"mt-2"},_ne={key:4,class:"mt-4"},kne={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Sne={key:2,class:"mt-3"},Cne={key:0,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},Ine={key:5,class:"mt-4",style:{"border-top":"1px solid #e0e0e0"}},Ene={key:0,class:"mt-1"},Tne={key:6,class:"d-flex align-center mt-0",style:{"border-top":"1px solid #e0e0e0"}},Nne={key:7,class:"mt-0"},Mne={class:"mt-3"},Ane={class:"d-flex align-center"},One={class:"font-weight-medium fs-12 subtext--text mb-0"},Pne={class:"ml-1 primary--text"},Fne={class:"ml-1 primary--text"},Lne={class:"d-flex align-center mt-2"},Dne={class:"font-weight-medium fs-12 subtext--text mb-0"},Vne={class:"ml-1 primary--text"},Bne={key:1,class:"px-6 py-3"},$ne={__name:"StockOrderWindow",setup(e){const t=Y(),n=a(!1),o=a(!1),s=a([]),u=a(!1),p=a("I"),m=a("LMT"),v=a(0),f=a(0),g=a(0),b=a(0),w=a(!1),_=a("LTP"),k=a(">"),S=a(0),C=a(1),I=a(null),E=a(null),T=a(!1),M=a(["LTP","Perc. change","ATP","OI","TOI","52HIGH","VOLUME"]);a(["LTP","Perc. change","ATP","OI","TOI","52LOW"]);const O=a([">","<"]),P=a(null),F=a(1),L=a(null),D=a("LMT"),V=a(0),B=a(0),$=a(0),U=a(0),j=a(!1),G=a(5),K=a("order"),X=a(null),J=a(!1),Q=a(!1),Z=a({}),te=a(!1),ae=a("DAY"),le=a(0),ne=a(!1);let oe=!1,se=null,ie=!1,re=null,ue=null,de=null;const ce=a([]),pe=a(1),me=Qa(),ve=l(()=>{var e,t,a;const l=(null==(e=s.value[0])?void 0:e.ltp)||(null==(t=s.value[0])?void 0:t.lp)||(null==(a=s.value)?void 0:a.ltp)||0;return Number(l).toFixed(2)}),he=l(()=>{var e,t;const a=(null==(e=s.value[0])?void 0:e.ch)??(null==(t=s.value)?void 0:t.ch)??0;return Number(a).toFixed(2)}),fe=l(()=>{var e,t;const a=(null==(e=s.value[0])?void 0:e.chp)??(null==(t=s.value)?void 0:t.chp)??0;return Number(a).toFixed(2)}),ge=l(()=>{var e,t;const a=Number((null==(e=s.value[0])?void 0:e.ch)??(null==(t=s.value)?void 0:t.ch)??0);return a>0?"maingreen--text":a<0?"mainred--text":"subtext--text"}),ye=l(()=>{var e,t;const a=Number((null==(e=s.value[0])?void 0:e.ch)??(null==(t=s.value)?void 0:t.ch)??0);return a>0?"#43A833":a<0?"#FF0000":"#666666"});l(()=>{var e,t;const a=Number((null==(e=s.value[0])?void 0:e.ch)??(null==(t=s.value)?void 0:t.ch)??0);return a>0?"maingreen--text":a<0?"mainred--text":"maintext--text"});const be=l(()=>!1),xe=a(0),we=a(0),_e=l(()=>Number(xe.value||0).toFixed(2)),ke=l(()=>Number(we.value||0).toFixed(2)),Se=l(()=>Number(le.value||0).toFixed(2)),Ce=l(()=>[e=>{if(null==e||""===e)return!0;const t=Number(e);return!(isNaN(t)||t<=0)||"Quantity must be greater than zero"}]);function Ie(){var e;const t=Number(f.value),a=Number((null==(e=s.value[1])?void 0:e.frzqty)||0),l=40*a;return!(isNaN(t)||t<=0||a>0&&t>l||(Ae(),0))}function Ee(){const e=G.value;if(null!=e&&""!==e){const t=Number(e);!isNaN(t)&&t>0&&t<=20&&Ae()}}function Te(){const e=3===v.value?I.value:g.value;if("MKT"===m.value||"SL-MKT"===m.value){const t=Number(e);!isNaN(t)&&t>=0?Ae():xe.value=0}else Oe(e,.01,!1)?Ae():xe.value=0}function Ne(){const e=Number(B.value);isNaN(e)||e<0?""!==B.value&&null!==B.value&&(B.value=null):(1===v.value||2===v.value)&&e>0?Ae():xe.value=0}function Me(){const e=Number($.value);if(isNaN(e)||e<0)return void(""!==$.value&&null!==$.value&&($.value=null));const t=Oe(B.value,.01,!1);2===v.value&&e>0&&t?Ae():xe.value=0}function Ae(e=!1,t=!1){if(re&&(clearTimeout(re),re=null),de&&(clearTimeout(de),de=null),e){Pe();const e=s.value[0];return void(e&&(e.ltp||e.lp)&&(ue=Number(e.ltp||e.lp)))}if(t){const e=s.value[0];if(!e||!e.ltp&&!e.lp)return;const t=Number(e.ltp||e.lp);if(null!==ue&&100*Math.abs((t-ue)/ue)<.1)return;return void(de=setTimeout(()=>{Pe(),ue=t,de=null},2e3))}re=setTimeout(()=>{Pe();const e=s.value[0];e&&(e.ltp||e.lp)&&(ue=Number(e.ltp||e.lp)),re=null},300)}function Oe(e,t=0,a=!1){if(null==e||""===e)return null;const l=Number(e);return isNaN(l)||l<t?null:a||0!==l?l:null}async function Pe(){if(ie)return;const e=s.value[0];if(!e)return void(xe.value=0);const t=Oe(f.value,1,!1);if(!t)return void(xe.value=0);let a=null;if("MKT"===m.value||"SL-MKT"===m.value)a=Oe(g.value,0,!0)??0;else if(a=Oe(g.value,.01,!1),!a)return void(xe.value=0);if((1===v.value||2===v.value)&&!Oe(B.value,.01,!1))return void(xe.value=0);if(2===v.value&&!Oe($.value,.01,!1))return void(xe.value=0);let l=0;if("SL-LMT"===m.value||"SL-MKT"===m.value){const e=Oe(b.value,.01,!1);if(null!==e)l=e;else if("SL-LMT"===m.value)return void(xe.value=0)}ie=!0;try{const n={exch:e.exch,tsym:encodeURIComponent(e.tsym),qty:t*Number(e.ls||1),prc:a,prd:1===v.value?"H":2===v.value?"B":p.value,trantype:u.value?"S":"B",prctyp:m.value,trgprc:l};if(1===v.value||2===v.value){const e=Oe(B.value,.01,!1);e&&(n.blprc=String(e))}if(2===v.value){const e=Oe($.value,.01,!1);e&&(n.bpprc=String(e))}const[o,s]=await Promise.all([_ae(n).catch(()=>null),Sae(n).catch(()=>null)]);o&&"Ok"===o.stat&&(xe.value=Number(o.ordermargin||0),we.value=Number(o.avbal||o.avbma||0)),s&&"Ok"===s.stat&&(le.value=Number(s.brkage_amt||s.charges||0))}catch(SJ){console.debug("[StockOrderWindow] Margin calculation error:",SJ)}finally{ie=!1}}function Fe(){"VOLUME"===_.value&&(k.value=">")}function Le(){var e,a,l,n,o,i,r,d,c;if(3===v.value){if("MKT"===m.value||"SL-MKT"===m.value)I.value=0;else if("LMT"===m.value||"SL-LMT"===m.value){const t=Number((null==(e=s.value[0])?void 0:e.lp)||(null==(a=s.value[0])?void 0:a.ltp)||0);t>0&&(!I.value||0===I.value)&&(I.value=t)}if(T.value&&u.value)if("MKT"===D.value||"SL-MKT"===D.value)null!==P.value&&void 0!==P.value&&""!==P.value||(P.value=0);else if("LMT"===D.value||"SL-LMT"===D.value){const e=Number((null==(l=s.value[0])?void 0:l.lp)||(null==(n=s.value[0])?void 0:n.ltp)||0);e>0&&(null===P.value||void 0===P.value||""===P.value)&&(P.value=e)}if("mod-GTT"!==K.value){if("SL-LMT"!==m.value&&"SL-MKT"!==m.value)console.log("[GTT onOrderTypeChanged] Clearing trigger - switching away from SL orders",{priceType:m.value}),E.value=null;else{const e=E.value,t=null==e||""===e||"number"==typeof e&&0===e;if(console.log("[GTT onOrderTypeChanged] Checking trigger for SL orders",{currentTrigger:e,type:typeof e,isTriggerEmpty:t,priceType:m.value}),t){const e=Number((null==(o=s.value[0])?void 0:o.lp)||(null==(i=s.value[0])?void 0:i.ltp)||0);e>0&&(console.log("[GTT onOrderTypeChanged] Setting trigger to LTP",{ltp:e}),E.value=e)}else console.log("[GTT onOrderTypeChanged] Preserving user-entered trigger value",{currentTrigger:e})}if(T.value&&u.value)if("SL-LMT"!==D.value&&"SL-MKT"!==D.value)L.value=null;else if(null===L.value||void 0===L.value||0===L.value||""===L.value){const e=Number((null==(r=s.value[0])?void 0:r.lp)||(null==(d=s.value[0])?void 0:d.ltp)||0);e>0&&(L.value=e)}}}if(4===v.value){t.currentRoute.value.path;const e=s.value[0]||{},a=s.value[1]||{},l={token:a.token||e.token,tsym:a.tsym||e.tsym,exch:a.exch||e.exch,ls:a.ls||e.ls||1,symbol:a.tsym||e.tsym||a.symbol||e.symbol};return ze(),void t.replace({path:"/orders",query:{token:l.token,tsym:l.tsym,exch:l.exch,ls:l.ls,_t:Date.now()}}).then(()=>{console.log("[SIP Tab] Navigation to orders page completed")}).catch(e=>{console.error("[SIP Tab] Navigation error:",e),window.dispatchEvent(new CustomEvent("order-tab",{detail:4})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("siporder-trigger",{detail:l}))},300)})}1!==v.value&&2!==v.value||"mod-order"!==K.value&&"re-order"!==K.value&&(B.value=0,2===v.value&&($.value=0)),"MKT"===m.value||"SL-MKT"===m.value?g.value=0:!(null==(c=s.value[0])?void 0:c.lp)||"LMT"!==m.value&&"SL-LMT"!==m.value||(g.value=Number(s.value[0].lp)),"SL-LMT"!==m.value&&"SL-MKT"!==m.value&&(b.value=0),1===v.value||2===v.value?B.value&&B.value>0&&Ae(!0):Ae(!0)}async function De(e){var t,a,l,o,i,r,d,c,h;const{type:y,token:x,exch:M,tsym:A,trantype:O,item:R}=e.detail||{};if(y&&x&&M&&A)if("alert"!==y&&"m-alert"!==y){if(!ne.value){if(n.value&&(ze(),await N()),ne.value=!0,"cancel-order"===y&&R)return ne.value=!1,void(await async function(e){if(e&&e.norenordno)try{w.value=!0;const a=e.exord?"can-ex":"can",l={uid:sessionStorage.getItem("userid")};"can-ex"===a?(l.norenordno=e.snonum||e.norenordno,l.prd=e.prd||"I"):l.norenordno=e.norenordno;const n=await Cae(l,a);if("Ok"!==(null==n?void 0:n.stat))me.showSnackbar(2,(null==n?void 0:n.emsg)||"Failed to cancel order");else{me.showSnackbar(0,"can-ex"===a?"Order exited successfully":"Order cancelled successfully");try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"orders"}}))}catch(t){}}}catch(SJ){me.showSnackbar(2,"Failed to cancel order"),console.error("Cancel order error:",SJ)}finally{w.value=!1}else me.showSnackbar(2,"Invalid order data")}(R));try{K.value=y,X.value=R||null;const e={token:x,tsym:A,exch:M,ls:1,lp:0,ltp:0,ch:0,chp:0,instname:"EQ"};if(s.value=[e],u.value="s"===(O||"").toLowerCase(),p.value="NSE"===M||"BSE"===M?"C":"I",m.value="LMT",v.value=0,f.value=1,g.value=0,b.value=0,B.value=0,$.value=0,U.value=0,j.value=!1,G.value=5,C.value=1,I.value=null,E.value=null,T.value=!1,_.value="LTP",k.value=">",S.value=0,F.value=1,P.value=null,L.value=null,D.value="LMT",V.value=0,n.value=!0,Promise.all([gae(`${M}|${x}`).catch(e=>(console.error("Error fetching quote:",e),null)),Promise.resolve(null)]).then(async([e])=>{e&&(s.value[0]?Object.assign(s.value[0],e):s.value[0]=e,f.value=Number((null==e?void 0:e.ls)||1),g.value=Number((null==e?void 0:e.lp)||0),e&&"UNDIND"!==e.instname&&"COM"!==e.instname&&bae(`${M}|${x}`).then(e=>{e&&(s.value.length>1?s.value[1]=e:s.value.push(e))}).catch(e=>{console.error("Error fetching security:",e)}),Ae(!0))}),R&&("mod-order"===y||"re-order"===y||"exit-order"===y)){m.value=R.prctyp||"LMT";const e=Math.abs(R.qty)||1;f.value=e,g.value="MKT"===m.value||"SL-MKT"===m.value?0:Number(R.prc||0),b.value="SL-LMT"===m.value||"SL-MKT"===m.value?Number(R.trgprc||0):0,u.value="S"===(R.trantype||"").toUpperCase(),Promise.all([gae(`${M}|${x}`).catch(()=>null)]).then(([e])=>{e&&R&&(f.value=Number(Math.abs(R.qty)/Number((null==e?void 0:e.ls)||1))||Number((null==e?void 0:e.ls)||1),"MKT"===m.value||"SL-MKT"===m.value||g.value||(g.value=Number(R.prc||(null==e?void 0:e.lp)||0)))})}if("order-GTT"===y)v.value=3,k.value=">",T.value=!1,S.value=0,V.value=0,_.value="LTP",C.value=1,F.value=1,m.value="LMT",I.value=null,E.value=null,P.value=null,L.value=null;else if(R&&"mod-GTT"===y){const e=(null==(t=R.res)?void 0:t.ai_t)||"";_.value=e.includes("LTP_")?"LTP":e.includes("CH_PER_")?"Perc. change":e.includes("ATP_")?"ATP":e.includes("OI_")?"OI":e.includes("TOI_")?"TOI":e.includes("_52HIGH")?"52HIGH":e.includes("_52LOW")?"52LOW":e.includes("VOLUME_")?"VOLUME":"LTP",k.value=e.includes("A_O")?">":"<",u.value="S"===(R.trantype||"").toUpperCase(),u.value||(T.value=!1,V.value=0,F.value=1,P.value=null,L.value=null,D.value="LMT"),(null==(a=R.res)?void 0:a.place_order_params)&&(S.value=Number((null==(i=null==(o=null==(l=R.res)?void 0:l.oivariable)?void 0:o[0])?void 0:i.d)||R.value||0),m.value=R.res.place_order_params.prctyp||"LMT",p.value=R.res.place_order_params.prd||p.value,C.value=Number(R.res.place_order_params.qty)||1,I.value="MKT"===R.res.place_order_params.prctyp||"SL-MKT"===R.res.place_order_params.prctyp?0:Number(R.res.place_order_params.prc||0),E.value=Number(R.res.place_order_params.trgprc||0),gae(`${M}|${x}`).then(e=>{var t;e&&(null==(t=R.res)?void 0:t.place_order_params)&&(C.value=Number(R.res.place_order_params.qty)/Number((null==e?void 0:e.ls)||1)||1)}).catch(()=>{})),(null==(r=R.res)?void 0:r.place_order_params_leg2)&&u.value&&(T.value=!0,V.value=Number((null==(h=null==(c=null==(d=R.res)?void 0:d.oivariable)?void 0:c[1])?void 0:h.d)||0),D.value=R.res.place_order_params_leg2.prctyp||"LMT",F.value=Number(R.res.place_order_params_leg2.qty)||1,P.value="MKT"===R.res.place_order_params_leg2.prctyp||"SL-MKT"===R.res.place_order_params_leg2.prctyp?0:Number(R.res.place_order_params_leg2.prc||0),L.value=Number(R.res.place_order_params_leg2.trgprc||0),gae(`${M}|${x}`).then(e=>{var t;e&&(null==(t=R.res)?void 0:t.place_order_params_leg2)&&(F.value=Number(R.res.place_order_params_leg2.qty)/Number((null==e?void 0:e.ls)||1)||1)}).catch(()=>{})),v.value=3}if(qle({},!1).then(e=>{e&&"Ok"===e.stat&&(void 0!==e.quickord&&(Q.value=e.quickord),void 0!==e.ordsrcpop&&(J.value=e.ordsrcpop),e.investype&&(p.value=e.investype),e.prc&&(m.value=e.prc),e.ordqty&&(f.value=Number(e.ordqty)||f.value))}).catch(()=>{}),await N(),He(),qe(),x&&M)try{const e=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:[{token:x,exch:M,tsym:A}],is:"order-window",page:"order-window"}});window.dispatchEvent(e)}catch(SJ){console.error("[StockOrderWindow] Error subscribing to websocket:",SJ)}Promise.all([gae(`${M}|${x}`).catch(()=>null)]).then(([e])=>{if(e&&e.token&&e.exch)try{const t=new CustomEvent("web-scoketOn",{detail:{flow:"sub",data:[{token:e.token,exch:e.exch,tsym:e.tsym}],is:"order-window",page:"order-window"}});window.dispatchEvent(t)}catch(SJ){console.error("[StockOrderWindow] Error re-subscribing to websocket:",SJ)}}),ue=null,e.token&&Ae(!0)}catch(SJ){me.showSnackbar(2,"Failed to open order window"),console.error("[StockOrderWindow] Error opening dialog:",SJ)}finally{setTimeout(()=>{ne.value=!1},500)}}}else n.value&&ze()}function Ve(){if(te.value){const e=Number(U.value||0);if(e<=0)return void me.showSnackbar(2,"Disclosed Qty must be greater than zero");const t=Number(f.value||0),a=s.value[0];if(!a)return;const l=Number(a.ls||1),n=t*("MCX"===a.exch?l:1);if(e>n)return me.showSnackbar(2,"Disclosed Qty cannot exceed order quantity"),void(U.value=n)}}function Be(){o.value=!1,n.value=!0,N(()=>{He(),qe()})}function $e(){const e=s.value[0],t=s.value[1];if(!e||!t)return pe.value=1,void(ce.value=[]);const a=Number(t.frzqty||0),l=Number(e.ls||1),n="MCX"===e.exch,o=Number(f.value||0)*(n?l:1);if(a>0&&o>a){const e=Math.trunc(o/a),t=o-a*e;if(e>0){ce.value=[];for(let t=0;t<e;t++)ce.value.push(a);t>0&&ce.value.push(t),pe.value=e}else pe.value=1,ce.value=[o]}else pe.value=1,ce.value=[o]}async function Re(){const e=s.value[0],t=s.value[1];if(e&&t)if($e(),0!==ce.value.length)try{w.value=!0;const t=f.value,a=Number(e.ls||1),l="MCX"===e.exch;let s=0,i=0,r=0;const u=async()=>{if(s>=ce.value.length){w.value=!1,o.value=!1,n.value=!1,f.value=t,0===r?me.showSnackbar(1,`Slice order placed successfully (${i} order${i>1?"s":""})`):me.showSnackbar(2,`Slice order partially failed (${i} succeeded, ${r} failed)`);try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"orders"}}))}catch(e){}}else if(ce.value[s]>0){const e=l?ce.value[s]:ce.value[s]/a;f.value=e;try{n.value=!1,await Ue(!0,ce.value[s]),i++}catch(SJ){r++,console.error(`Slice ${s+1} failed:`,SJ)}s++,setTimeout(u,0)}else s++,setTimeout(u,0)};u()}catch(SJ){me.showSnackbar(2,"Failed to place slice order"),console.error("Slice order error:",SJ),w.value=!1}else me.showSnackbar(2,"No slice quantities to place");else me.showSnackbar(2,"Invalid order data")}function ze(){if(re&&(clearTimeout(re),re=null),de&&(clearTimeout(de),de=null),ue=null,s.value[0]&&s.value[0].token&&s.value[0].exch)try{const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[{token:s.value[0].token,exch:s.value[0].exch,tsym:s.value[0].tsym}],is:"order-window",page:"order-window"}});window.dispatchEvent(e)}catch(SJ){console.error("[StockOrderWindow] Error unsubscribing from websocket:",SJ)}n.value=!1,N(()=>{document.onmouseup&&(document.onmouseup=null),document.onmousemove&&(document.onmousemove=null),n.value=!1,o.value=!1,s.value=[],f.value=0,g.value=0,u.value=!1,v.value=0,p.value="I",m.value="LMT",te.value=!1,ae.value="DAY",U.value=0,j.value=!1,b.value=0,B.value=0,$.value=0,_.value="LTP",k.value=">",S.value=0,C.value=1,I.value=null,E.value=null,T.value=!1,F.value=1,P.value=null,L.value=null,D.value="LMT",V.value=0,ce.value=[],pe.value=1})}async function Ue(e,t=null){var a,l,i,r;const d=s.value[0];if(!d)return;const c=null!==t&&t>0?t:f.value*Number("MCX"===d.exch&&d.ls||1);if(!e){const e=s.value[1];if(e){const t=Number(e.frzqty||0),a=Number(d.ls||1),l="MCX"===d.exch,s=Number(f.value||0)*(l?a:1);if(t>0&&s>t&&!(s>40*t))return $e(),ce.value&&ce.value.length>0&&ce.value[0]>0?(n.value=!1,await N(),void setTimeout(()=>{o.value=!0},50)):void me.showSnackbar(2,"Failed to calculate slice quantities")}}if(!e&&!function(){if(3===v.value||4===v.value)return!0;if("MKT"!==m.value&&"SL-MKT"!==m.value)return!0;const e=G.value;if(null==e||""===e)return me.showSnackbar(2,"Market Protection must be above zero"),!1;let t;if("string"==typeof e){const a=e.trim();if(""===a)return me.showSnackbar(2,"Market Protection must be above zero"),!1;t=Number(a)}else t=Number(e);if(isNaN(t))return me.showSnackbar(2,"Market Protection must be above zero"),!1;if(t<=0)return me.showSnackbar(2,"Market Protection must be above zero"),!1;const a=Number(t);return!(!isNaN(a)&&a>20&&(me.showSnackbar(2,"Market Protection cannot exceed 20%"),1))}())return;const h=function(){var e,t,a,l,n,o;const i=s.value[0];if(!i)return"Symbol not loaded";if(!(f.value>0))return"Quantity must be greater than zero";const r=s.value[1];if(r){const e=Number(r.frzqty||0),t=Number(i.ls||1),a="MCX"===i.exch,l=40*e,n=Number(f.value||0)*(a?t:1);if(e>0&&n>l)return"Quantity cannot be split more than 20 times."}if(("LMT"===m.value||"SL-LMT"===m.value)&&g.value<=0)return"Price must be greater than zero";if("SL-LMT"===m.value&&3!==v.value){if(null==b.value||void 0===b.value||""===b.value||b.value<=0)return"Trigger price must be greater than zero";const e=Number(b.value||0),t=Number(g.value||0),a=Number(i.lc),l=Number(i.uc);if(isFinite(a)&&isFinite(l)&&(e<a||e>l))return`Trigger must be within circuit limits ${a} - ${l}`;if(1===v.value&&e>0&&t>0){if(e>=t)return"Trigger price must be less than limit price"}else if(0===v.value){if(u.value){if(e>0&&t>0&&e<t)return"Trigger price must be greater than limit price"}else if(e>0&&t>0&&e>t)return"Trigger price must be less than limit price"}else if(1!==v.value&&e>0&&t>0&&e>=t)return"Trigger price must be less than limit price"}if("SL-MKT"===m.value&&3!==v.value){if(null==b.value||void 0===b.value||""===b.value||b.value<=0)return"Trigger price must be greater than zero";const a=Number(b.value||0),l=Number((null==(e=s.value)?void 0:e.ltp)||(null==(t=s.value[0])?void 0:t.lp)||0),n=Number(i.lc),o=Number(i.uc);if(isFinite(n)&&isFinite(o)&&(a<n||a>o))return`Trigger must be within circuit limits ${n} - ${o}`;if(0===v.value){if(u.value){if(a>0&&l>0&&a>=l)return"Trigger price must be less than LTP"}else if(a>0&&l>0&&a<=l)return"Trigger price must be greater than LTP"}else if(a>0&&l>0&&a<=l)return"Trigger price must be greater than LTP"}if(("MKT"===m.value||"SL-MKT"===m.value)&&G.value){const e=Number(G.value);if(isNaN(e)||e<=0)return"Market Protection must be above zero";if(e>20)return"Market Protection cannot exceed 20%"}if(3===v.value){if(null===S.value||void 0===S.value||""===S.value)return"Value cannot be empty";const e=Number(S.value);if(isNaN(e)||e<=0)return"Value must be greater than zero";if(null===C.value||void 0===C.value||""===C.value)return"Quantity cannot be empty";const t=Number(C.value);if(isNaN(t)||t<=0)return"Quantity must be greater than zero";if("LMT"===m.value||"SL-LMT"===m.value){if(null===I.value||void 0===I.value||""===I.value)return"Price cannot be empty";const e=Number(I.value);if(isNaN(e)||e<=0)return"Price must be greater than zero"}if("SL-LMT"===m.value||"SL-MKT"===m.value){const e=E.value;if(console.log("[GTT Trigger Validation]",{triggerValue:e,type:typeof e,priceType:m.value,orderType:v.value,isNull:null===e,isUndefined:void 0===e,isEmptyString:""===e,isZero:0===e}),null==e||""===e)return console.log("[GTT Trigger Validation] Failed: Value is empty"),"Trigger cannot be empty";let t;if("string"==typeof e){const a=e.trim();if(""===a||"0"===a)return console.log('[GTT Trigger Validation] Failed: String is empty or "0"'),"Trigger cannot be empty";t=parseFloat(a),console.log("[GTT Trigger Validation] String conversion:",{trimmed:a,triggerNum:t})}else t=Number(e),console.log("[GTT Trigger Validation] Number conversion:",{triggerValue:e,triggerNum:t});if(isNaN(t)||!isFinite(t))return console.log("[GTT Trigger Validation] Failed: Invalid number",{triggerNum:t,isNaN:isNaN(t),isFinite:isFinite(t)}),"Trigger must be a valid number";if(t<=0)return console.log("[GTT Trigger Validation] Failed: Value <= 0",{triggerNum:t}),"Trigger must be greater than zero";console.log("[GTT Trigger Validation] Success:",{triggerNum:t})}if(T.value){if(V.value<=0)return"OCO value must be greater than zero";if(F.value<=0)return"OCO quantity must be greater than zero";if(("LMT"===D.value||"SL-LMT"===D.value)&&(!P.value||P.value<=0))return"OCO price must be greater than zero";if(("SL-LMT"===D.value||"SL-MKT"===D.value)&&(!L.value||L.value<=0))return"OCO trigger price must be greater than zero"}const a=Number(i.ls||1);return"MCX"!==i.exch&&C.value%a!==0?`GTT quantity must be a multiple of lot size ${a}`:T.value&&"MCX"!==i.exch&&F.value%a!==0?`OCO quantity must be a multiple of lot size ${a}`:null}const d=Number(i.ls||1);if("MCX"!==i.exch&&f.value%d!==0)return`Quantity must be a multiple of lot size ${d}`;const c=Number(i.ti||0);if(c>0){const e=e=>Math.abs(e/c-Math.round(e/c))<1e-6;if(("LMT"===m.value||"SL-LMT"===m.value)&&!e(Number(g.value||0)))return`Price should be multiple of tick size ${c}`;if(("SL-LMT"===m.value||"SL-MKT"===m.value)&&null!=b.value&&void 0!==b.value&&""!==b.value&&!e(Number(b.value||0)))return`Trigger should be multiple of tick size ${c}`;if(1===v.value||2===v.value){if(B.value&&!e(Number(B.value)))return`Stop loss should be multiple of tick size ${c}`;if(2===v.value&&$.value&&!e(Number($.value)))return`Target should be multiple of tick size ${c}`}}const p=Number(i.lc),h=Number(i.uc);if(isFinite(p)&&isFinite(h)){if("LMT"===m.value||"SL-LMT"===m.value){const e=Number(g.value||0);if(e<p||e>h)return`Price must be within circuit limits ${p} - ${h}`}if(1===v.value||2===v.value){if(1===v.value){if(!(B.value&&B.value>0))return"Stop loss must be greater than zero";const e=Number(B.value);let t=0;if("LMT"===m.value||"SL-LMT"===m.value?t=Number(g.value||0):"MKT"===m.value&&(t=Number((null==(a=s.value)?void 0:a.ltp)||(null==(l=s.value[0])?void 0:l.lp)||0)),t>0){let a=0;if(a=u.value?t+e:t-e,a<p||a>h)return`Price (${u.value?"Limit + Stop Loss":"Limit - Stop Loss"} = ${a.toFixed(2)}) must be within circuit limits ${p} - ${h}`}}if(2===v.value){if(!(B.value&&B.value>0))return"Stop loss must be greater than zero";const e=Number(B.value);let t=0;if("LMT"===m.value||"SL-LMT"===m.value?t=Number(g.value||0):"MKT"===m.value&&(t=Number((null==(n=s.value)?void 0:n.ltp)||(null==(o=s.value[0])?void 0:o.lp)||0)),t>0){let a=0;if(a=u.value?t+e:t-e,a<p||a>h)return`Price (${u.value?"Limit + Stop Loss":"Limit - Stop Loss"} = ${a.toFixed(2)}) must be within circuit limits ${p} - ${h}`}}}}return 2!==v.value||$.value&&$.value>0?null:"Target must be greater than zero"}();if(h)me.showSnackbar(2,h);else try{if(w.value=!0,3===v.value){let t;const o=">"===k.value?"A_O":"B_O";let s=_.value;"Perc. change"===_.value&&(s="CH_PER");const r=`${s}_${o}`,c=sessionStorage.getItem("userid"),v=(null==(a=X.value)?void 0:a.al_id)||(null==(i=null==(l=X.value)?void 0:l.res)?void 0:i.al_id);t=T.value&&u.value?{uid:c,ai_t:"LMT_BOS_O",al_id:"mod-GTT"===K.value&&v?v:"",validity:"GTT",tsym:d.tsym,exch:d.exch,oivariable:[{d:String(S.value||0),var_name:"x"},{d:String(V.value||0),var_name:"y"}],place_order_params:{tsym:d.tsym,exch:d.exch,trantype:u.value?"S":"B",prctyp:m.value,prd:p.value,ret:"DAY",actid:c,uid:c,ordersource:"TP",qty:String(C.value*Number(d.ls||1)),prc:"MKT"===m.value||"SL-MKT"===m.value?"0":String(I.value||0),trgprc:String(E.value||0)},place_order_params_leg2:{tsym:d.tsym,exch:d.exch,trantype:u.value?"S":"B",prctyp:D.value,prd:p.value,ret:"DAY",actid:c,uid:c,ordersource:"TP",qty:String(F.value*Number(d.ls||1)),prc:"MKT"===D.value||"SL-MKT"===D.value?"0":String(P.value||0),trgprc:String(L.value||0)}}:{uid:c,tsym:d.tsym,exch:d.exch,ai_t:r,al_id:"mod-GTT"===K.value&&v?v:"",validity:"GTT",d:String(S.value||0),trantype:u.value?"S":"B",prctyp:m.value,prd:p.value,ret:"DAY",actid:c,qty:String(C.value*Number(d.ls||1)),prc:"MKT"===m.value||"SL-MKT"===m.value?"0":String(I.value||0),trgprc:String(E.value||0)};let h="PlaceGTTOrder";"mod-GTT"===K.value&&v?h="ModifyGTTOrder":T.value&&u.value&&(h="PlaceOCOOrder");const f=await Eae(t,h);if("Ok"!==(null==f?void 0:f.stat)&&"OI created"!==(null==f?void 0:f.stat)&&"OI replaced"!==(null==f?void 0:f.stat))me.showSnackbar(2,(null==f?void 0:f.emsg)||"GTT order failed");else{if(e||(n.value=!1,await N()),!e){const e="OI created"===(null==f?void 0:f.stat)?"GTT Order have been Placed":"OI replaced"===(null==f?void 0:f.stat)?"GTT Order have been Modified":"ModifyGTTOrder"===h?"GTT order modified":"GTT order placed";me.showSnackbar(1,e)}try{setTimeout(()=>{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"gtt"}}))},1e3)}catch(y){}}return}const t={uid:sessionStorage.getItem("userid"),actid:sessionStorage.getItem("userid"),exch:d.exch,tsym:d.tsym,ret:te.value?ae.value:"DAY",qty:c.toString(),prc:"MKT"===m.value||"SL-MKT"===m.value?"0":String(g.value),prd:1===v.value?"H":2===v.value?"B":p.value,trantype:u.value?"S":"B",prctyp:m.value};if("SL-LMT"===m.value||"SL-MKT"===m.value){const e=null!=b.value&&void 0!==b.value&&""!==b.value&&Number(b.value)||0;t.trgprc=String(e)}1!==v.value&&2!==v.value||B.value&&(t.blprc=String(B.value)),2===v.value&&$.value&&(t.bpprc=String($.value)),U.value&&(t.dscqty=String(U.value)),j.value&&(t.amo="Yes"),!G.value||"MKT"!==m.value&&"SL-MKT"!==m.value||(t.mktProt=String(G.value));let o="place";if("mod-order"===K.value&&(o="mod"),"exit-order"===K.value&&(o="can-ex"),"re-order"===K.value&&(o="re"),"mod"===o||"can-ex"===o){const e=null==(r=X.value)?void 0:r.norenordno;e&&(t.norenordno=e)}const s=await Cae(t,o);if("Ok"!==(null==s?void 0:s.stat))me.showSnackbar(2,(null==s?void 0:s.emsg)||"Order failed");else{e||(n.value=!1,await N()),e||me.showSnackbar(1,"Order placed successfully");try{window.dispatchEvent(new CustomEvent("orderbook-update",{detail:{type:"orders"}}))}catch(y){}if("order"===K.value)try{await qle({quickord:Q.value,ordsrcpop:J.value,investype:p.value,prc:m.value,ordqty:f.value},!0)}catch(SJ){}}}catch(SJ){me.showSnackbar(2,"Failed to place order"),console.error("Order placement error:",SJ)}finally{w.value=!1,o.value||(n.value=!1)}}function qe(){setTimeout(()=>{const e=document.getElementById("maindiv");e&&function(e){let t=0,a=0,l=0,n=0;const o=document.getElementById(e.id+"header"),s=e=>{const t=(e=e||window.event).target||e.srcElement;t&&("BUTTON"===t.tagName||t.closest("button")||t.closest(".v-btn"))||(e.preventDefault(),l=e.clientX,n=e.clientY,document.onmouseup=r,document.onmousemove=i)},i=o=>{(o=o||window.event).preventDefault(),t=l-o.clientX,a=n-o.clientY,l=o.clientX,n=o.clientY,e.style.position="fixed",e.style.top=e.offsetTop-a+"px",e.style.left=e.offsetLeft-t+"px",e.style.zIndex="9999"},r=()=>{document.onmouseup=null,document.onmousemove=null,function(e){const t={top:e.style.top||e.offsetTop+"px",left:e.style.left||e.offsetLeft+"px"};t.top&&t.left&&("0px"!==t.top||"0px"!==t.left)&&localStorage.setItem("stockOrderWindow_position",JSON.stringify(t))}(e)};o?o.onmousedown=s:e.onmousedown=s}(e)},100)}function He(){const e=localStorage.getItem("stockOrderWindow_position");if(e)try{const t=JSON.parse(e);t.top&&t.left&&(Z.value={position:"fixed",top:t.top,left:t.left,zIndex:"9999"},N(()=>{const e=document.getElementById("maindiv");e&&requestAnimationFrame(()=>{const t=e.getBoundingClientRect(),a=window.innerWidth,l=window.innerHeight;t.right>a&&(Z.value.left=a-t.width+"px"),t.bottom>l&&(Z.value.top=l-t.height+"px"),t.left<0&&(Z.value.left="0px"),t.top<0&&(Z.value.top="0px")})}))}catch(SJ){localStorage.removeItem("stockOrderWindow_position")}}return l(()=>[e=>{if(null==e||""===e)return"Value cannot be empty";const t=Number(e);return!(isNaN(t)||t<=0)||"Value must be greater than zero"}]),l(()=>[e=>{if(null==e||""===e)return"Quantity cannot be empty";const t=Number(e);return!(isNaN(t)||t<=0)||"Quantity must be greater than zero"}]),l(()=>[e=>{if("MKT"===m.value||"SL-MKT"===m.value)return!0;if(null==e||""===e)return"Price cannot be empty";const t=Number(e);return!(isNaN(t)||t<=0)||"Price must be greater than zero"}]),l(()=>[e=>{if(null==e||""===e)return"Trigger cannot be empty";const t=Number(e);return!(isNaN(t)||t<=0)||"Trigger must be greater than zero"}]),y(()=>{oe||(window.addEventListener("menudialog",De),oe=!0),se=e=>{var t,a,l;if(!n.value)return;let o=null;if(o=Array.isArray(e.detail)&&e.detail.length>0?(null==(t=e.detail[0])?void 0:t.v)||e.detail[0]||e.detail:(null==(a=e.detail)?void 0:a.v)?e.detail.v:e.detail,!o||!s.value||!s.value[0])return;const i=String(o.token||o.tk||o.t||""),r=String((null==(l=s.value[0])?void 0:l.token)||"");if(i&&r&&i===r){if(s.value[0]){const e=o.lp||o.ltp||o.l,t=o.ch||o.c,a=o.chp;null==e||isNaN(e)||(s.value[0].ltp=Number(e).toFixed(2),s.value[0].lp=Number(e).toFixed(2)),null==t||isNaN(t)||(s.value[0].ch=Number(t).toFixed(2)),null==a||isNaN(a)||(s.value[0].chp=Number(a).toFixed(2))}Ae(!1,!0)}},window.addEventListener("web-scoketConn",se)}),h(()=>{if(oe&&(window.removeEventListener("menudialog",De),oe=!1,ne.value=!1),se&&(window.removeEventListener("web-scoketConn",se),se=null),n.value&&s.value[0]&&s.value[0].token&&s.value[0].exch)try{const e=new CustomEvent("web-scoketOn",{detail:{flow:"unsub",data:[{token:s.value[0].token,exch:s.value[0].exch,tsym:s.value[0].tsym}],is:"order-window",page:"order-window"}});window.dispatchEvent(e)}catch(SJ){console.error("[StockOrderWindow] Error unsubscribing on unmount:",SJ)}re&&(clearTimeout(re),re=null),de&&(clearTimeout(de),de=null),ue=null}),(e,a)=>(z(),R("div",null,[d(U_,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),persistent:"",scrim:!1,width:"380px"},{default:H(()=>[d(cy,{class:"mx-auto py-2 pb-4 text-right",style:{"border-radius":"19px"},elevation:"6",color:"cardbg",width:"100%"},{default:H(()=>[d(jg,{class:"elevation-0 mb-0",color:"transparent",density:"compact",style:{"border-bottom":"1px solid #e0e0e0"}},{default:H(()=>[a[41]||(a[41]=i("span",{class:"font-weight-bold fs-13 mx-6",style:{color:"black !important"}},"Slice Order",-1)),d(zy),d(im,{disabled:w.value,onClick:Be,color:"maintext",size:"x-small",variant:"outlined",icon:"",class:"mx-4"},{default:H(()=>[d(wp,{color:"maintext"},{default:H(()=>[...a[40]||(a[40]=[W("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),d(my,{class:"mb-2"}),i("div",Qle,[d(Ry,{class:"pb-4",style:{margin:"2px auto !important"}},{default:H(()=>[d(ky,{cols:"6",class:"text-left pb-2"},{default:H(()=>{var e,t;return[i("p",Zle,[W(A((null==(e=s.value[0])?void 0:e.tsym)||"")+" ",1),i("span",ene,A((null==(t=s.value[0])?void 0:t.exch)||""),1)])]}),_:1}),d(ky,{cols:"6",class:"text-right pb-0"},{default:H(()=>[i("p",tne,[W(A(ce.value[0]||0)+" ",1),i("span",ane,"x "+A(1===pe.value?"1":pe.value),1)])]),_:1}),ce.value[pe.value]>0?(z(),q(ky,{key:0,cols:"6",class:"text-left pb-0"},{default:H(()=>{var e,t;return[i("p",lne,[W(A((null==(e=s.value[0])?void 0:e.tsym)||"")+" ",1),i("span",nne,A((null==(t=s.value[0])?void 0:t.exch)||""),1)])]}),_:1})):ee("",!0),ce.value[pe.value]>0?(z(),q(ky,{key:1,cols:"6",class:"text-right pb-0"},{default:H(()=>[i("p",one,[W(A(ce.value[pe.value])+" ",1),a[42]||(a[42]=i("span",{class:"fs-12 subtext--text"},"x 1",-1))])]),_:1})):ee("",!0)]),_:1}),d(im,{block:"",onClick:Re,loading:w.value,color:u.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text px-6",height:"40px"},{default:H(()=>[W(A(u.value?"Sell":"Buy"),1)]),_:1},8,["loading","color"])])]),_:1})]),_:1},8,["modelValue"]),n.value?(z(),q(cy,{key:0,id:"maindiv",elevation:"6",class:r(["pb-5 overflow-hidden rounded-lg",J.value?"sticky-dialog":""]),style:c(Z.value),color:"cardbg",width:"540px",height:"auto"},{default:H(()=>[d(cy,{id:"maindivheader",loading:w.value,class:"elevation-0 rounded-b-0 pt-4 pb-2",color:u.value?"secred":"secgreen"},{default:H(()=>[d(jg,{class:"elevation-0 crd-trn px-2",density:"compact",style:{"background-color":"#00000000 !important"}},{default:H(()=>{var e,t;return[i("div",sne,[i("p",ine,[W(A((null==(e=s.value[0])?void 0:e.tsym)||"")+" ",1),i("span",rne,A((null==(t=s.value[0])?void 0:t.exch)||""),1)]),i("p",une,[a[43]||(a[43]=W(" ₹",-1)),i("span",null,A(ve.value),1),i("span",{class:r(["fs-11 ml-2",ge.value]),style:c({color:ye.value})},A(he.value)+" ("+A(fe.value)+"%)",7)])]),d(zy),d(cy,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text mr-4",color:"maingreen"},{default:H(()=>[...a[44]||(a[44]=[W("B",-1)])]),_:1}),d(wk,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),inset:"","hide-details":"",class:"mx-2"},null,8,["modelValue"]),d(cy,{class:"rounded-md elevation-0 py-1 px-2 font-weight-bold fs-10 white--text ml-1",color:"mainred"},{default:H(()=>[...a[45]||(a[45]=[W("S",-1)])]),_:1})]}),_:1})]),_:1},8,["loading","color"]),s.value[0]?(z(),R("div",dne,[i("div",cne,[d(iB,{modelValue:v.value,"onUpdate:modelValue":[a[2]||(a[2]=e=>v.value=e),Le],density:"compact",class:"mb-2",style:{"border-bottom":"1px solid #e0e0e0"}},{default:H(()=>{var e,t;return[d(YV,{value:0,class:"text-none fs-14"},{default:H(()=>[...a[46]||(a[46]=[W("Regular",-1)])]),_:1}),d(YV,{value:1,class:"text-none fs-14"},{default:H(()=>[...a[47]||(a[47]=[W("Cover",-1)])]),_:1}),d(YV,{value:2,class:"text-none fs-14"},{default:H(()=>[...a[48]||(a[48]=[W("Bracket",-1)])]),_:1}),d(YV,{value:3,class:"text-none fs-14"},{default:H(()=>[...a[49]||(a[49]=[W("GTT",-1)])]),_:1}),"NSE"===(null==(e=s.value[0])?void 0:e.exch)||"BSE"===(null==(t=s.value[0])?void 0:t.exch)?(z(),q(YV,{key:0,value:4,class:"text-none fs-12"},{default:H(()=>[...a[50]||(a[50]=[W("SIP",-1)])]),_:1})):ee("",!0)]}),_:1},8,["modelValue"]),0==v.value||3==v.value?(z(),R("div",pne,[a[51]||(a[51]=i("p",{class:"subtext--text fs-13 font-weight-regular mb-0"},"Investment type",-1)),d(EW,{"onUpdate:modelValue":[Le,a[3]||(a[3]=e=>p.value=e)],modelValue:p.value,inline:"","hide-details":"",class:"ml-n2"},{default:H(()=>[d(CW,{color:"maintext",label:"Intraday",value:"I"}),"NSE"===s.value[0].exch||"BSE"===s.value[0].exch?(z(),q(CW,{key:0,color:"maintext",label:"Delivery",value:"C"})):(z(),q(CW,{key:1,color:"maintext",label:"Carry Forward",value:"M"}))]),_:1},8,["modelValue"])])):ee("",!0),3!==v.value&&4!==v.value?(z(),R("div",mne,[a[56]||(a[56]=i("p",{class:"subtext--text fs-13 font-weight-regular mb-0 mt-2 mb-2"},"Select order type",-1)),d(B_,{modelValue:m.value,"onUpdate:modelValue":[a[4]||(a[4]=e=>m.value=e),Le],row:"",mandatory:""},{default:H(()=>[d(R_,{value:"LMT",style:c({backgroundColor:"LMT"===m.value?"#000":"#F1F3F8",color:"LMT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[52]||(a[52]=[W(" Limit ",-1)])]),_:1},8,["style"]),d(R_,{value:"MKT",style:c({backgroundColor:"MKT"===m.value?"#000":"#F1F3F8",color:"MKT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[53]||(a[53]=[W(" Market ",-1)])]),_:1},8,["style"]),d(R_,{value:"SL-LMT",style:c({backgroundColor:"SL-LMT"===m.value?"#000":"#F1F3F8",color:"SL-LMT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[54]||(a[54]=[W(" SL Limit ",-1)])]),_:1},8,["style"]),1!==v.value&&2!==v.value?(z(),q(R_,{key:0,value:"SL-MKT",style:c({backgroundColor:"SL-MKT"===m.value?"#000":"#F1F3F8",color:"SL-MKT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[55]||(a[55]=[W(" SL Mkt ",-1)])]),_:1},8,["style"])):ee("",!0)]),_:1},8,["modelValue"])])):ee("",!0),3!==v.value?(z(),q(Ry,{key:2,class:"d-flex justify-space-between align-start mt-2"},{default:H(()=>[d(ky,{cols:"12",md:"6"},{default:H(()=>{var e,t;return[i("div",vne,[a[57]||(a[57]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"Quantity",-1)),i("p",hne,"MLot: "+A((null==(e=s.value[0])?void 0:e.ls)??"-"),1)]),d(Fk,{density:"compact","bg-color":"secbg",rounded:"xl",variant:"flat",type:"number",modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=e=>f.value=e),modelModifiers:{number:!0},rules:Ce.value,"hide-details":"",onBlur:Ie},{"append-inner":H(()=>[d(im,{onClick:a[5]||(a[5]=e=>function(){var e;const t=s.value[0];if(!t)return;const a=Number(t.ls||1),l="MCX"===t.exch?1:a,n=Number((null==(e=s.value[1])?void 0:e.frzqty)||0),o=n>0?40*n:1/0;let i=Math.round(Number(f.value)/a)*a;const r=Number(f.value)!==i?i:Number(f.value)+l;r>o||(f.value=r,Ie())}()),icon:"",class:"elevation-0",style:{"background-color":"transparent !important"}},{default:H(()=>[...a[58]||(a[58]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:a[6]||(a[6]=e=>function(){const e=s.value[0];if(!e)return;const t=Number(e.ls||1),a="MCX"===e.exch?1:t;let l=Math.floor(Number(f.value)/t)*t;Number(f.value)!==l?f.value=l:Number(f.value)>a&&(f.value-=a),Ie()}()),icon:"",class:"elevation-0",style:{"background-color":"transparent !important"}},{default:H(()=>[...a[59]||(a[59]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue","rules"]),s.value[1]?(z(),R("p",fne,"Freeze qty: "+A((null==(t=s.value[1])?void 0:t.frzqty)??"-"),1)):ee("",!0)]}),_:1}),d(ky,{cols:"12",md:"6"},{default:H(()=>{var e,t,l;return[i("div",gne,[a[60]||(a[60]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"Price",-1)),i("p",yne,"Tick: "+A((null==(e=s.value[0])?void 0:e.ti)??"-"),1)]),d(Fk,{density:"compact","bg-color":"secbg",variant:"flat",style:{height:"45px"},rounded:"xl",type:"number",readonly:"MKT"===m.value||"SL-MKT"===m.value,modelValue:g.value,"onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),modelModifiers:{number:!0},"hide-details":"",onInput:Te},{"prepend-inner":H(()=>[d(im,{icon:"",class:"elevation-0",style:{"background-color":"white !important","border-radius":"50% !important",height:"23px",width:"24px",color:"grey !important"}},{default:H(()=>[...a[61]||(a[61]=[W(" ₹ ",-1)])]),_:1})]),"append-inner":H(()=>["MKT"===m.value||"SL-MKT"===m.value?(z(),R("svg",bne,[...a[62]||(a[62]=[i("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),i("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):ee("",!0)]),_:1},8,["readonly","modelValue"]),s.value[1]?(z(),R("p",xne,"Circuit level: "+A((null==(t=s.value[1])?void 0:t.lc)??"-")+" - "+A((null==(l=s.value[1])?void 0:l.uc)??"-"),1)):ee("",!0)]}),_:1})]),_:1})):ee("",!0),3!==v.value?(z(),q(Ry,{key:3},{default:H(()=>["SL-LMT"===m.value||"SL-MKT"===m.value?(z(),q(ky,{key:0,cols:"12",md:"6"},{default:H(()=>[a[64]||(a[64]=i("p",{class:"subtext--text fs-14 font-weight-regular mb-2 mt-2"},"Trigger",-1)),"SL-LMT"===m.value||"SL-MKT"===m.value?(z(),q(Fk,{key:0,class:"mt-2",style:{height:"50px"},density:"compact","bg-color":"secbg",variant:"flat",type:"number",modelValue:b.value,"onUpdate:modelValue":a[9]||(a[9]=e=>b.value=e),modelModifiers:{number:!0},rounded:"xl",label:"Trigger price","hide-details":""},{"prepend-inner":H(()=>[...a[63]||(a[63]=[i("div",{class:"d-flex align-center justify-center",style:{"background-color":"white","border-radius":"50%",height:"23px",width:"24px",color:"grey"}}," ₹ ",-1)])]),_:1},8,["modelValue"])):ee("",!0)]),_:1})):ee("",!0),1===v.value||2===v.value?(z(),q(ky,{key:1,cols:"12",md:"6"},{default:H(()=>[1===v.value||2===v.value?(z(),R("div",wne,[a[66]||(a[66]=i("p",{class:"subtext--text fs-14 font-weight-regular mb-2"},"Stop Loss",-1)),d(Fk,{density:"comfortable","bg-color":"secbg",variant:"flat",rounded:"xl",type:"number",modelValue:B.value,"onUpdate:modelValue":a[10]||(a[10]=e=>B.value=e),modelModifiers:{number:!0},"hide-details":"",height:"45px",onInput:Ne},{"prepend-inner":H(()=>[d(im,{icon:"",class:"elevation-0",style:{"border-radius":"50% !important","background-color":"white !important",height:"23px",width:"24px",color:"grey !important"}},{default:H(()=>[...a[65]||(a[65]=[W(" ₹ ",-1)])]),_:1})]),_:1},8,["modelValue"])])):ee("",!0)]),_:1})):ee("",!0),2===v.value?(z(),q(ky,{key:2,cols:"12",md:"6"},{default:H(()=>[a[68]||(a[68]=i("div",{class:"d-flex justify-space-between align-center mb-2 mt-2"},[i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"Target")],-1)),d(Fk,{modelValue:$.value,"onUpdate:modelValue":a[11]||(a[11]=e=>$.value=e),modelModifiers:{number:!0},type:"number",placeholder:"Target",variant:"flat",density:"comfortable","hide-details":"",rounded:"pill","bg-color":"#f1f3f8",class:"elevation-0 target-input",onInput:Me},{"prepend-inner":H(()=>[...a[67]||(a[67]=[i("div",{class:"d-flex align-center justify-center",style:{"background-color":"white","border-radius":"50%",width:"22px","font-size":"14px",color:"#666"}}," ₹ ",-1)])]),_:1},8,["modelValue"])]),_:1})):ee("",!0)]),_:1})):ee("",!0),3===v.value?(z(),R("div",_ne,[a[99]||(a[99]=i("p",{class:"subtext--text fs-14 font-weight-regular mb-2"},"Select order type",-1)),d(B_,{modelValue:m.value,"onUpdate:modelValue":[a[12]||(a[12]=e=>m.value=e),Le],row:"",mandatory:""},{default:H(()=>[d(R_,{value:"LMT",style:c({backgroundColor:"LMT"===m.value?"#000":"#F1F3F8",color:"LMT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[69]||(a[69]=[W(" Limit ",-1)])]),_:1},8,["style"]),d(R_,{value:"MKT",style:c({backgroundColor:"MKT"===m.value?"#000":"#F1F3F8",color:"MKT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[70]||(a[70]=[W(" Market ",-1)])]),_:1},8,["style"]),d(R_,{value:"SL-LMT",style:c({backgroundColor:"SL-LMT"===m.value?"#000":"#F1F3F8",color:"SL-LMT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[71]||(a[71]=[W(" SL Limit ",-1)])]),_:1},8,["style"]),1!==v.value&&2!==v.value?(z(),q(R_,{key:0,value:"SL-MKT",style:c({backgroundColor:"SL-MKT"===m.value?"#000":"#F1F3F8",color:"SL-MKT"===m.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[72]||(a[72]=[W(" SL Mkt ",-1)])]),_:1},8,["style"])):ee("",!0)]),_:1},8,["modelValue"]),d(my,{class:"mb-2"}),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",class:"pb-2 pr-1"},{default:H(()=>[a[73]||(a[73]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Alert",-1)),d(rI,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",items:(u.value,M.value),"onUpdate:modelValue":[Fe,a[13]||(a[13]=e=>_.value=e)],modelValue:_.value,disabled:T.value&&u.value,"menu-props":{attach:"#maindiv",contentClass:"gtt-select-menu",maxHeight:"200px",zIndex:1e4},"hide-details":""},null,8,["items","modelValue","disabled"])]),_:1}),d(ky,{cols:"4",class:"pb-2 px-1"},{default:H(()=>[a[74]||(a[74]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Condition",-1)),d(rI,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",items:O.value,disabled:"VOLUME"===_.value||T.value&&u.value,"menu-props":{attach:"#maindiv",contentClass:"gtt-select-menu",maxHeight:"200px",zIndex:1e4},modelValue:k.value,"onUpdate:modelValue":a[14]||(a[14]=e=>k.value=e),"hide-details":""},null,8,["items","disabled","modelValue"])]),_:1}),d(ky,{cols:"4",class:"pb-2 pl-1"},{default:H(()=>[a[75]||(a[75]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Value",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:S.value,"onUpdate:modelValue":a[15]||(a[15]=e=>S.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":"",onInput:Le},null,8,["modelValue"])]),_:1})]),_:1}),d(my,{class:"mb-2 mt-2"}),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",class:"pb-2 pr-1"},{default:H(()=>{var e,t;return[a[78]||(a[78]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Quantity",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:C.value,"onUpdate:modelValue":a[18]||(a[18]=e=>C.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=s.value[0])?void 0:e.ls)||1,step:(null==(t=s.value[0])?void 0:t.ls)||1,"hide-spin-buttons":"","hide-details":""},{"append-inner":H(()=>[d(im,{onClick:a[16]||(a[16]=e=>{var t;return C.value=Number(C.value)+Number((null==(t=s.value[0])?void 0:t.ls)||1)}),icon:"",class:"elevation-0",height:"24px",width:"24px"},{default:H(()=>[...a[76]||(a[76]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:a[17]||(a[17]=e=>{var t,a;return C.value==((null==(t=s.value[0])?void 0:t.ls)||1)?C.value:C.value=Number(C.value)-Number((null==(a=s.value[0])?void 0:a.ls)||1)}),icon:"",class:"elevation-0",height:"24px",width:"24px"},{default:H(()=>[...a[77]||(a[77]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue","min","step"])]}),_:1}),d(ky,{cols:"4",class:"pb-2 px-1"},{default:H(()=>[a[81]||(a[81]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Price",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",disabled:"MKT"===m.value||"SL-MKT"===m.value,modelValue:I.value,"onUpdate:modelValue":a[19]||(a[19]=e=>I.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":"",onInput:Te},{"prepend-inner":H(()=>[d(im,{icon:"",class:"elevation-0",style:{"background-color":"white !important","border-radius":"50% !important",height:"23px",width:"24px",color:"grey !important"}},{default:H(()=>[...a[79]||(a[79]=[W(" ₹ ",-1)])]),_:1})]),"append-inner":H(()=>["MKT"===m.value||"SL-MKT"===m.value?(z(),R("svg",kne,[...a[80]||(a[80]=[i("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),i("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):ee("",!0)]),_:1},8,["disabled","modelValue"])]),_:1}),"SL-LMT"===m.value||"SL-MKT"===m.value?(z(),q(ky,{key:0,cols:"4",class:"pb-2 pl-1"},{default:H(()=>[a[82]||(a[82]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:E.value,"onUpdate:modelValue":a[20]||(a[20]=e=>E.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})):ee("",!0)]),_:1}),u.value?(z(),q(my,{key:0,class:"mb-2 mt-2"})):ee("",!0),u.value?(z(),q(im,{key:1,class:"font-weight-bold mb-2",color:T.value?"primary":"maintext",variant:"plain",height:"40px",block:"",rounded:"xl",ripple:!0,text:"",onClick:a[21]||(a[21]=e=>{T.value=!T.value,T.value?(_.value="LTP",k.value=">"):(_.value="LTP",k.value="<")})},{default:H(()=>[a[83]||(a[83]=W(" OCO ",-1)),d(wp,{class:"ml-auto"},{default:H(()=>[W(A(T.value?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1},8,["color"])):ee("",!0),T.value&&u.value?(z(),R("div",Sne,[a[98]||(a[98]=i("p",{class:"subtext--text fs-14 font-weight-regular mb-2"},"Select order type",-1)),d(B_,{modelValue:D.value,"onUpdate:modelValue":[a[22]||(a[22]=e=>D.value=e),Le],row:"",mandatory:"",class:"mb-3"},{default:H(()=>[d(R_,{value:"LMT",style:c({backgroundColor:"LMT"===D.value?"#000":"#F1F3F8",color:"LMT"===D.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[84]||(a[84]=[W(" Limit ",-1)])]),_:1},8,["style"]),d(R_,{value:"MKT",style:c({backgroundColor:"MKT"===D.value?"#000":"#F1F3F8",color:"MKT"===D.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[85]||(a[85]=[W(" Market ",-1)])]),_:1},8,["style"]),d(R_,{value:"SL-LMT",style:c({backgroundColor:"SL-LMT"===D.value?"#000":"#F1F3F8",color:"SL-LMT"===D.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[86]||(a[86]=[W(" SL Limit ",-1)])]),_:1},8,["style"]),1!==v.value&&2!==v.value?(z(),q(R_,{key:0,value:"SL-MKT",style:c({backgroundColor:"SL-MKT"===D.value?"#000":"#F1F3F8",color:"SL-MKT"===D.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[87]||(a[87]=[W(" SL Mkt ",-1)])]),_:1},8,["style"])):ee("",!0)]),_:1},8,["modelValue"]),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",class:"pb-2 pr-1"},{default:H(()=>[a[88]||(a[88]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Alert",-1)),d(rI,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",items:["LTP"],value:"LTP",disabled:"","hide-details":""})]),_:1}),d(ky,{cols:"4",class:"pb-2 px-1"},{default:H(()=>[a[89]||(a[89]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Condition",-1)),d(rI,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",items:["<"],value:"<",disabled:"","hide-details":""})]),_:1}),d(ky,{cols:"4",class:"pb-2 pl-1"},{default:H(()=>[a[90]||(a[90]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Value",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:V.value,"onUpdate:modelValue":a[23]||(a[23]=e=>V.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":"",onInput:Le},null,8,["modelValue"])]),_:1})]),_:1}),d(my,{class:"mb-2 mt-2"}),d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"4",class:"pb-2 pr-1"},{default:H(()=>{var e,t;return[a[93]||(a[93]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Quantity",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:F.value,"onUpdate:modelValue":a[26]||(a[26]=e=>F.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=s.value[0])?void 0:e.ls)||1,step:(null==(t=s.value[0])?void 0:t.ls)||1,"hide-spin-buttons":"","hide-details":""},{"append-inner":H(()=>[d(im,{onClick:a[24]||(a[24]=e=>{var t;return F.value=Number(F.value)+Number((null==(t=s.value[0])?void 0:t.ls)||1)}),icon:"",class:"elevation-0",height:"24px",width:"24px"},{default:H(()=>[...a[91]||(a[91]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:a[25]||(a[25]=e=>{var t,a;return F.value==((null==(t=s.value[0])?void 0:t.ls)||1)?F.value:F.value=Number(F.value)-Number((null==(a=s.value[0])?void 0:a.ls)||1)}),icon:"",class:"elevation-0",height:"24px",width:"24px"},{default:H(()=>[...a[92]||(a[92]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue","min","step"])]}),_:1}),d(ky,{cols:"4",class:"pb-2 px-1"},{default:H(()=>{var e,t;return[a[96]||(a[96]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Price",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",disabled:"MKT"===D.value||"SL-MKT"===D.value,modelValue:P.value,"onUpdate:modelValue":a[27]||(a[27]=e=>P.value=e),modelModifiers:{number:!0},type:"number",min:(null==(e=s.value[1])?void 0:e.lc)||0,max:(null==(t=s.value[1])?void 0:t.uc)||999999,"hide-spin-buttons":"","hide-details":""},{"prepend-inner":H(()=>[d(im,{icon:"",class:"elevation-0",style:{"background-color":"white !important","border-radius":"50% !important",height:"23px",width:"24px",color:"grey !important"}},{default:H(()=>[...a[94]||(a[94]=[W(" ₹ ",-1)])]),_:1})]),"append-inner":H(()=>["MKT"===D.value||"SL-MKT"===D.value?(z(),R("svg",Cne,[...a[95]||(a[95]=[i("path",{d:"M10.0625 4.8125H9.1875V3.0625C9.1875 1.85456 8.20794 0.875 7 0.875C5.79206 0.875 4.8125 1.85456 4.8125 3.0625V4.8125H3.9375V3.0625C3.9375 1.37112 5.30862 0 7 0C8.69137 0 10.0625 1.37112 10.0625 3.0625V4.8125Z",fill:"#999999"},null,-1),i("path",{d:"M11.5938 5.6875H2.40625C1.80206 5.6875 1.3125 6.17706 1.3125 6.78125V12.9062C1.3125 13.5104 1.80206 14 2.40625 14H11.5938C12.1979 14 12.6875 13.5104 12.6875 12.9062V6.78125C12.6875 6.17706 12.1979 5.6875 11.5938 5.6875ZM7.4375 10.8754V11.8125C7.4375 12.054 7.2415 12.25 7 12.25C6.7585 12.25 6.5625 12.054 6.5625 11.8125V10.8754C5.62669 10.6339 5.06406 9.67925 5.30556 8.74344C5.54706 7.80763 6.50169 7.245 7.4375 7.4865C8.37331 7.728 8.93594 8.68263 8.69444 9.61844C8.53519 10.2349 8.05394 10.7161 7.4375 10.8754Z",fill:"#999999"},null,-1)])])):ee("",!0)]),_:1},8,["disabled","modelValue","min","max"])]}),_:1}),"SL-LMT"===D.value||"SL-MKT"===D.value?(z(),q(ky,{key:0,cols:"4",class:"pb-2 pl-1"},{default:H(()=>[a[97]||(a[97]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Trigger",-1)),d(Fk,{density:"compact",variant:"flat","bg-color":"secbg",rounded:"xl",modelValue:L.value,"onUpdate:modelValue":a[28]||(a[28]=e=>L.value=e),modelModifiers:{number:!0},type:"number",min:"0","hide-spin-buttons":"","hide-details":""},null,8,["modelValue"])]),_:1})):ee("",!0)]),_:1})])):ee("",!0)])):ee("",!0),3!==v.value&&4!==v.value?(z(),R("div",Ine,[d(XC,{color:"maintext",modelValue:te.value,"onUpdate:modelValue":a[29]||(a[29]=e=>te.value=e),"hide-details":""},{label:H(()=>[...a[100]||(a[100]=[i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"Add Validity & Disclosed Qty",-1)])]),_:1},8,["modelValue"]),te.value?(z(),R("div",Ene,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pr-1"},{default:H(()=>[a[104]||(a[104]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Validity",-1)),d(B_,{modelValue:ae.value,"onUpdate:modelValue":[a[30]||(a[30]=e=>ae.value=e),Ae],column:""},{default:H(()=>{var e,t,l,n;return["BSE"!==(null==(e=s.value[0])?void 0:e.exch)?(z(),q(R_,{key:0,value:"IOC",style:c({backgroundColor:"IOC"===ae.value?"#000":"#f5f5f5",color:"IOC"===ae.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[101]||(a[101]=[W("IOC",-1)])]),_:1},8,["style"])):ee("",!0),"BFO"!==(null==(t=s.value[0])?void 0:t.exch)&&"BCD"!==(null==(l=s.value[0])?void 0:l.exch)||"BSE"===(null==(n=s.value[0])?void 0:n.exch)?ee("",!0):(z(),q(R_,{key:1,value:"EOS",style:c({backgroundColor:"EOS"===ae.value?"#000":"#f5f5f5",color:"EOS"===ae.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[102]||(a[102]=[W("EOS",-1)])]),_:1},8,["style"])),d(R_,{value:"DAY",style:c({backgroundColor:"DAY"===ae.value?"#000":"#f5f5f5",color:"DAY"===ae.value?"#fff":"#000",transition:"all 0.2s ease",cursor:"pointer"})},{default:H(()=>[...a[103]||(a[103]=[W("Day",-1)])]),_:1},8,["style"])]}),_:1},8,["modelValue"])]),_:1}),d(ky,{cols:"6",class:"pl-1 mb-3"},{default:H(()=>[a[107]||(a[107]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Disclosed Qty",-1)),d(Fk,{density:"compact","bg-color":"secbg",rounded:"xl",variant:"flat",type:"number",modelValue:U.value,"onUpdate:modelValue":a[33]||(a[33]=e=>U.value=e),modelModifiers:{number:!0},"hide-details":"",onBlur:Ve},{"append-inner":H(()=>[d(im,{onClick:a[31]||(a[31]=e=>function(){const e=Number(U.value||0),t=Number(f.value||0),a=s.value[0];if(!a)return;const l=Number(a.ls||1);e<t*("MCX"===a.exch?l:1)&&(U.value=e+1)}()),icon:"",class:"elevation-0",style:{"background-color":"transparent !important"}},{default:H(()=>[...a[105]||(a[105]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M12 8V16",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),"prepend-inner":H(()=>[d(im,{onClick:a[32]||(a[32]=e=>function(){const e=Number(U.value||0);e>0&&(U.value=e-1)}()),icon:"",class:"elevation-0",style:{"background-color":"transparent !important"}},{default:H(()=>[...a[106]||(a[106]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[i("circle",{cx:"12",cy:"12",r:"12",fill:"white"}),i("path",{d:"M16 12L8 12",stroke:"#999999","stroke-width":"2","stroke-linecap":"round"})],-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})])):ee("",!0)])):ee("",!0),1!==v.value&&3!==v.value&&2!==v.value?(z(),R("div",Tne,[d(XC,{color:"maintext",modelValue:j.value,"onUpdate:modelValue":a[34]||(a[34]=e=>j.value=e),"hide-details":""},{label:H(()=>[...a[108]||(a[108]=[i("p",{class:"font-weight-regular fs-14 subtext--text mb-0"},"After market order (AMO)",-1)])]),_:1},8,["modelValue"])])):ee("",!0),3===v.value||4===v.value||"MKT"!==m.value&&"SL-MKT"!==m.value?ee("",!0):(z(),R("div",Nne,[d(my,{class:"mb-3"}),a[109]||(a[109]=i("p",{class:"font-weight-regular fs-14 subtext--text mb-2"},"Market Protection %",-1)),d(Fk,{density:"compact","bg-color":"secbg",variant:"flat",rounded:"xl",modelValue:G.value,"onUpdate:modelValue":a[35]||(a[35]=e=>G.value=e),modelModifiers:{number:!0},type:"number",min:"0",max:"20",step:"0.01","hide-spin-buttons":"","hide-details":"auto","persistent-hint":"",hint:"Enter a value between 1 to 20",onBlur:Ee},null,8,["modelValue"])])),i("div",Mne,[d(im,{text:"",block:"",color:"primary",variant:"text",class:"rounded-pill text-none",onClick:a[36]||(a[36]=e=>Q.value=!Q.value)},{default:H(()=>[W(A(Q.value?"Advanced order ":"Quick order ")+" ",1),d(wp,{size:"16"},{default:H(()=>[W(A(Q.value?"mdi-chevron-double-right":"mdi-chevron-double-left"),1)]),_:1})]),_:1})]),d(my,{class:"my-3"}),i("div",Ane,[i("p",One,[a[112]||(a[112]=i("span",null,"Margin ",-1)),i("span",Pne,[i("b",null,"₹"+A(_e.value),1),a[110]||(a[110]=i("span",{class:"ml-1"}," + ",-1)),i("span",Fne,[i("b",null,"₹"+A(Se.value),1)])]),d(wp,{class:"ml-1",size:"14",color:"maintext"},{default:H(()=>[...a[111]||(a[111]=[W("mdi-information-outline",-1)])]),_:1})])]),i("div",Lne,[i("p",Dne,[a[114]||(a[114]=i("span",null,"Avail ",-1)),i("span",Vne,[i("b",null,"₹"+A(ke.value),1)]),i("span",{class:"ml-1 primary--text cursor-pointer",onClick:a[37]||(a[37]=e=>x(t).push("/funds"))},"+ Add fund"),d(wp,{class:"ml-1",size:"14",color:"mainred"},{default:H(()=>[...a[113]||(a[113]=[W("mdi-alert-octagon",-1)])]),_:1})])])])])):ee("",!0),d(my),3!==v.value?(z(),R("div",Bne,[d(Ry,{"no-gutters":""},{default:H(()=>[d(ky,{cols:"6",class:"pr-2"},{default:H(()=>[d(im,{block:"",onClick:ze,color:"secbg",disabled:w.value,class:"text-none rounded-pill elevation-0 subtext--text",height:"40px"},{default:H(()=>[...a[115]||(a[115]=[W("Cancel",-1)])]),_:1},8,["disabled"])]),_:1}),d(ky,{cols:"6",class:"pl-2"},{default:H(()=>[d(im,{block:"",onClick:a[38]||(a[38]=e=>Ue()),loading:w.value,color:u.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text",height:"40px"},{default:H(()=>[W(A("mod-order"===K.value?"Modify":u.value?"Sell":"Buy"),1)]),_:1},8,["loading","color"])]),_:1})]),_:1})])):(z(),q(jg,{key:2,class:"tool-sty elevation-0 pt-4 mb-3 px-6",color:"cardbg",density:"compact"},{default:H(()=>[d(zy),d(im,{onClick:ze,color:"gray",variant:"tonal",disabled:w.value,class:"text-none rounded-pill elevation-0 subtext--text px-6",height:"40px"},{default:H(()=>[...a[116]||(a[116]=[W("Cancel",-1)])]),_:1},8,["disabled"]),d(im,{onClick:a[39]||(a[39]=e=>Ue()),loading:w.value,disabled:be.value,variant:"elevated",color:u.value?"mainred":"maingreen",class:"text-none rounded-pill elevation-0 white--text px-6 ml-4",height:"40px"},{default:H(()=>[W(A("mod-GTT"===K.value?"Modify":"Create")+" "+A(T.value&&u.value?"OCO":"GTT"),1)]),_:1},8,["loading","disabled","color"])]),_:1}))]),_:1},8,["class","style"])):ee("",!0)]))}},Rne=zc($ne,[["__scopeId","data-v-549ca934"]]),zne=xe({...Oe(),...Ct(ha(),["fullHeight"]),...Ae()},"VApp"),Une=Ee()({name:"VApp",props:zne(),setup(e,t){let{slots:a}=t;const l=Te(e),{layoutClasses:n,getLayoutItem:o,items:s,layoutRef:u}=va({...e,fullHeight:!0}),{rtlClasses:d}=Ge();return Me(()=>{var t;return i("div",{ref:u,class:r(["v-application",l.themeClasses.value,n.value,d.value,e.class]),style:c([e.style])},[i("div",{class:"v-application__wrap"},[null==(t=a.default)?void 0:t.call(a)])])}),{getLayoutItem:o,items:s,theme:l}}}),qne={__name:"App",setup:e=>(e,t)=>{const a=$("router-view");return z(),q(Une,null,{default:H(()=>[i("div",null,[d(a),d(Rne)])]),_:1})}},Hne=Ot("v-alert-title"),jne=xe({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize"),Wne=["success","info","warning","error"],Yne=xe({border:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ue,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Wne.includes(e)},...Oe(),...jc(),...Cp(),...Yc(),...jne(),...Tp(),...Vp(),...Kc(),...Jc(),...Ae(),...lp({variant:"flat"})},"VAlert"),Gne=Ee()({name:"VAlert",props:Yne(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:o}=t;const s=Fe(e,"modelValue"),u=n(()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:p}=function(e,t){return{iconSize:l(()=>{const a=new Map(e.iconSizes),l=e.iconSize??t()??"default";return a.has(l)?a.get(l):l})}}(e,()=>e.prominent?44:void 0),{themeClasses:m}=Te(e),{colorClasses:v,colorStyles:h,variantClasses:f}=np(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:g}=Wc(e),{dimensionStyles:y}=Ip(e),{elevationClasses:b}=Gc(e),{locationStyles:x}=Np(e),{positionClasses:_}=Bp(e),{roundedClasses:k}=Xc(e),{textColorClasses:S,textColorStyles:C}=Zc(()=>e.borderColor),{t:I}=Ht(),E=n(()=>({"aria-label":I(e.closeLabel),onClick(e){s.value=!1,a("click:close",e)}}));return()=>{const t=!(!o.prepend&&!u.value),a=!(!o.title&&!e.title),l=!(!o.close&&!e.closable),n={density:e.density,icon:u.value,size:e.iconSize||e.prominent?p.value:void 0};return s.value&&d(e.tag,{class:r(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},m.value,v.value,g.value,b.value,_.value,k.value,f.value,e.class]),style:c([h.value,y.value,x.value,e.style]),role:"alert"},{default:()=>{var s,p;return[ap(!1,"v-alert"),e.border&&i("div",{key:"border",class:r(["v-alert__border",S.value]),style:c(C.value)},null),t&&i("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?d(fp,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{...n}}},o.prepend):d(wp,w({key:"prepend-icon"},n),null)]),i("div",{class:"v-alert__content"},[a&&d(Hne,{key:"title"},{default:()=>{var t;return[(null==(t=o.title)?void 0:t.call(o))??e.title]}}),(null==(s=o.text)?void 0:s.call(o))??e.text,null==(p=o.default)?void 0:p.call(o)]),o.append&&i("div",{key:"append",class:"v-alert__append"},[o.append()]),l&&i("div",{key:"close",class:"v-alert__close"},[o.close?d(fp,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var e;return[null==(e=o.close)?void 0:e.call(o,{props:E.value})]}}):d(im,w({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},E.value),null)])]}})}}}),Kne=xe({color:String,density:String,...Oe()},"VBannerActions"),Xne=Ee()({name:"VBannerActions",props:Kne(),setup(e,t){let{slots:a}=t;return Ne({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),Me(()=>{var t;return i("div",{class:r(["v-banner-actions",e.class]),style:c(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),Jne=Ot("v-banner-text"),Qne=xe({avatar:String,bgColor:String,color:String,icon:Ue,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Uc(),...Oe(),...jc(),...Cp(),...Wt({mobile:null}),...Yc(),...Tp(),...Vp(),...Kc(),...Jc(),...Ae()},"VBanner"),Zne=Ee()({name:"VBanner",props:Qne(),setup(e,t){let{slots:a}=t;const{backgroundColorClasses:l,backgroundColorStyles:o}=ep(()=>e.bgColor),{borderClasses:s}=qc(e),{densityClasses:u}=Wc(e),{displayClasses:p,mobile:m}=yt(e),{dimensionStyles:v}=Ip(e),{elevationClasses:h}=Gc(e),{locationStyles:f}=Np(e),{positionClasses:g}=Bp(e),{roundedClasses:y}=Xc(e),{themeClasses:b}=Te(e),x=n(()=>e.color),w=n(()=>e.density);Ne({VBannerActions:{color:x,density:w}}),Me(()=>{const t=!(!e.text&&!a.text),n=!(!e.avatar&&!e.icon),_=!(!n&&!a.prepend);return d(e.tag,{class:r(["v-banner",{"v-banner--stacked":e.stacked||m.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},b.value,l.value,s.value,u.value,p.value,h.value,g.value,y.value,e.class]),style:c([o.value,v.value,f.value,e.style]),role:"banner"},{default:()=>{var l;return[_&&i("div",{key:"prepend",class:"v-banner__prepend"},[a.prepend?d(fp,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{color:x.value,density:w.value,icon:e.icon,image:e.avatar}}},a.prepend):d(oy,{key:"prepend-avatar",color:x.value,density:w.value,icon:e.icon,image:e.avatar},null)]),i("div",{class:"v-banner__content"},[t&&d(Jne,{key:"text"},{default:()=>{var t;return[(null==(t=a.text)?void 0:t.call(a))??e.text]}}),null==(l=a.default)?void 0:l.call(a)]),a.actions&&d(Xne,{key:"actions"},a.actions)]}})})}}),eoe=xe({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Uc(),...Oe(),...jc(),...Yc(),...Kc(),...At({name:"bottom-navigation"}),...Jc({tag:"header"}),...ip({selectedClass:"v-btn--selected"}),...Ae()},"VBottomNavigation"),toe=Ee()({name:"VBottomNavigation",props:eoe(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:o}=Re(),{borderClasses:s}=qc(e),{backgroundColorClasses:u,backgroundColorStyles:p}=ep(()=>e.bgColor),{densityClasses:m}=Wc(e),{elevationClasses:v}=Gc(e),{roundedClasses:h}=Xc(e),{ssrBootStyles:f}=Yg(),g=l(()=>Number(e.height)-("comfortable"===e.density?8:0)-("compact"===e.density?16:0)),y=Fe(e,"active",e.active),{layoutItemStyles:b}=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:n(()=>"bottom"),layoutSize:n(()=>y.value?g.value:0),elementSize:g,active:y,absolute:n(()=>e.absolute)});return dp(e,pp),Ne({VBtn:{baseColor:n(()=>e.baseColor),color:n(()=>e.color),density:n(()=>e.density),stacked:n(()=>"horizontal"!==e.mode),variant:"text"}},{scoped:!0}),Me(()=>d(e.tag,{class:r(["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":"shift"===e.mode},o.value,u.value,s.value,m.value,v.value,h.value,e.class]),style:c([p.value,b.value,{height:$e(g.value)},f.value,e.style])},{default:()=>[a.default&&i("div",{class:"v-bottom-navigation__content"},[a.default()])]})),{}}}),aoe=xe({color:String,cycle:Boolean,delimiterIcon:{type:Ue,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...QV({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),loe=Ee()({name:"VCarousel",props:aoe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const n=Fe(e,"modelValue"),{t:o}=Ht(),s=a();let r=-1;function c(){e.cycle&&s.value&&(r=window.setTimeout(s.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function p(){window.clearTimeout(r),window.requestAnimationFrame(c)}return f(n,p),f(()=>e.interval,p),f(()=>e.cycle,e=>{e?p():window.clearTimeout(r)}),y(c),Me(()=>{const t=ZV.filterProps(e);return d(ZV,w({ref:s},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:$e(e.height)},e.style]}),{default:l.default,additional:t=>{let{group:a}=t;return i(u,null,[!e.hideDelimiters&&i("div",{class:"v-carousel__controls",style:{left:"left"===e.verticalDelimiters&&e.verticalDelimiters?0:"auto",right:"right"===e.verticalDelimiters?0:"auto"}},[a.items.value.length>0&&d(fp,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[a.items.value.map((e,t)=>{const n={id:`carousel-item-${e.id}`,"aria-label":o("$vuetify.carousel.ariaLabel.delimiter",t+1,a.items.value.length),class:["v-carousel__controls__item",a.isSelected(e.id)&&"v-btn--active"],onClick:()=>a.select(e.id,!0)};return l.item?l.item({props:n,item:e}):d(im,w(e,n),null)})]})]),e.progress&&d(Op,{absolute:!0,class:"v-carousel__progress",color:"string"==typeof e.progress?e.progress:void 0,modelValue:(a.getItemIndex(n.value)+1)/a.items.value.length*100},null)])},prev:l.prev,next:l.next})}),{}}}),noe=xe({...zg(),...aB()},"VCarouselItem"),ooe=Ee()({name:"VCarouselItem",inheritAttrs:!1,props:noe(),setup(e,t){let{slots:a,attrs:l}=t;Me(()=>{const t=Ug.filterProps(e),n=lB.filterProps(e);return d(lB,w({class:["v-carousel-item",e.class]},n),{default:()=>[d(Ug,w(l,t),a)]})})}}),soe=Ot("v-code","code"),ioe=xe({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Oe()},"VColorPickerCanvas"),roe=Ft({name:"VColorPickerCanvas",props:ioe(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const o=k(!1),s=a(),u=k(parseFloat(e.width)),d=k(parseFloat(e.height)),p=a({x:0,y:0}),m=l({get:()=>p.value,set(t){var a,l;if(!s.value)return;const{x:o,y:i}=t;p.value=t,n("update:color",{h:(null==(a=e.color)?void 0:a.h)??0,s:We(o,0,u.value)/u.value,v:1-We(i,0,d.value)/d.value,a:(null==(l=e.color)?void 0:l.a)??1})}}),v=l(()=>{const{x:t,y:a}=m.value,l=parseInt(e.dotSize,10)/2;return{width:$e(e.dotSize),height:$e(e.dotSize),transform:`translate(${$e(t-l)}, ${$e(a-l)})`}}),{resizeRef:h}=je(e=>{var t;if(!(null==(t=h.el)?void 0:t.offsetParent))return;const{width:a,height:l}=e[0].contentRect;u.value=a,d.value=l});function g(t){"mousedown"===t.type&&t.preventDefault(),e.disabled||(b(t),window.addEventListener("mousemove",b),window.addEventListener("mouseup",x),window.addEventListener("touchmove",b),window.addEventListener("touchend",x))}function b(t){if(e.disabled||!s.value)return;o.value=!0;const a=fa(t);!function(e,t,a){const{left:l,top:n,width:o,height:s}=a;m.value={x:We(e-l,0,o),y:We(t-n,0,s)}}(a.clientX,a.clientY,s.value.getBoundingClientRect())}function x(){window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",x),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",x)}function w(){var t;if(!s.value)return;const a=s.value,l=a.getContext("2d");if(!l)return;const n=l.createLinearGradient(0,0,a.width,0);n.addColorStop(0,"hsla(0, 0%, 100%, 1)"),n.addColorStop(1,`hsla(${(null==(t=e.color)?void 0:t.h)??0}, 100%, 50%, 1)`),l.fillStyle=n,l.fillRect(0,0,a.width,a.height);const o=l.createLinearGradient(0,0,0,a.height);o.addColorStop(0,"hsla(0, 0%, 0%, 0)"),o.addColorStop(1,"hsla(0, 0%, 0%, 1)"),l.fillStyle=o,l.fillRect(0,0,a.width,a.height)}return f(()=>{var t;return null==(t=e.color)?void 0:t.h},w,{immediate:!0}),f(()=>[u.value,d.value],(e,t)=>{w(),p.value={x:m.value.x*e[0]/t[0],y:m.value.y*e[1]/t[1]}},{flush:"post"}),f(()=>e.color,()=>{o.value?o.value=!1:p.value=e.color?{x:e.color.s*u.value,y:(1-e.color.v)*d.value}:{x:0,y:0}},{deep:!0,immediate:!0}),y(()=>w()),Me(()=>i("div",{ref:h,class:r(["v-color-picker-canvas",e.class]),style:c(e.style),onMousedown:g,onTouchstartPassive:g},[i("canvas",{ref:s,width:u.value,height:d.value},null),e.color&&i("div",{class:r(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:c(v.value)},null)])),{}}}),uoe={h:0,s:0,v:0,a:1},doe={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return null!=t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:_a,from:wa},coe={...doe,inputs:null==(Ka=doe.inputs)?void 0:Ka.slice(0,3)},poe={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:e=>Math.round(100*e.s)/100,getColor:(e,t)=>({...e,s:Number(t)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:e=>Math.round(100*e.l)/100,getColor:(e,t)=>({...e,l:Number(t)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return null!=t?Math.round(100*t)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:xa,from:ba},moe={...poe,inputs:poe.inputs.slice(0,3)},voe={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t,localeKey:"hexaInput"}],to:ya,from:ga},hoe={rgb:coe,rgba:doe,hsl:moe,hsla:poe,hex:{...voe,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t,localeKey:"hexInput"}]},hexa:voe},foe=e=>{let{label:t,...a}=e;return i("div",{class:"v-color-picker-edit__input"},[i("input",re(ue(a)),null),i("span",null,[t])])},goe=xe({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(hoe).includes(e)},modes:{type:Array,default:()=>Object.keys(hoe),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(hoe).includes(e))},...Oe()},"VColorPickerEdit"),yoe=Ft({name:"VColorPickerEdit",props:goe(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:a}=t;const{t:n}=Ht(),o=l(()=>e.modes.map(e=>({...hoe[e],name:e}))),s=l(()=>{var t;const l=o.value.find(t=>t.name===e.mode);if(!l)return[];const s=e.color?l.to(e.color):null;return null==(t=l.inputs)?void 0:t.map(t=>{let{getValue:o,getColor:i,localeKey:r,...u}=t;return{...l.inputProps,...u,ariaLabel:n(`$vuetify.colorPicker.ariaLabel.${r}`),disabled:e.disabled,value:s&&o(s),onChange:e=>{const t=e.target;t&&a("update:color",l.from(i(s??l.to(uoe),t.value)))}}})});return Me(()=>{var t;return i("div",{class:r(["v-color-picker-edit",e.class]),style:c(e.style)},[null==(t=s.value)?void 0:t.map(e=>d(foe,e,null)),o.value.length>1&&d(im,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":n("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const t=o.value.findIndex(t=>t.name===e.mode);a("update:mode",o.value[(t+1)%o.value.length].name)}},null)])}),{}}}),boe=xe({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:Ue,default:"$eyeDropper"},...Oe()},"VColorPickerPreview"),xoe=Ft({name:"VColorPickerPreview",props:boe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;const{t:l}=Ht(),n=new AbortController;async function o(){if(!Sa||e.disabled)return;const t=new window.EyeDropper;try{const l=await t.open({signal:n.signal}),o=wa(Ce(l.sRGBHex));a("update:color",{...e.color??uoe,...o})}catch(SJ){}}return Z(()=>n.abort()),Me(()=>{var t,n;return i("div",{class:r(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:c(e.style)},[Sa&&!e.hideEyeDropper&&i("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[d(im,{"aria-label":l("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:e.disabled,icon:e.eyeDropperIcon,variant:"plain",onClick:o},null)]),i("div",{class:"v-color-picker-preview__dot"},[i("div",{style:{background:Ca(e.color??uoe)}},null)]),i("div",{class:"v-color-picker-preview__sliders"},[d(GJ,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:l("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:null==(t=e.color)?void 0:t.h,"onUpdate:modelValue":t=>a("update:color",{...e.color??uoe,h:t}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&d(GJ,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:l("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:(null==(n=e.color)?void 0:n.a)??1,"onUpdate:modelValue":t=>a("update:color",{...e.color??uoe,a:t}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),woe={red:{base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},pink:{base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},purple:{base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},deepPurple:{base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},indigo:{base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},blue:{base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},lightBlue:{base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},cyan:{base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},teal:{base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},green:{base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},lightGreen:{base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},lime:{base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},yellow:{base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},amber:{base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},orange:{base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},deepOrange:{base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},brown:{base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},blueGrey:{base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},grey:{base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},shades:{black:"#000000",white:"#ffffff",transparent:"#ffffff00"}},_oe=xe({swatches:{type:Array,default:()=>{return e=woe,Object.keys(e).map(t=>{const a=e[t];return a.base?[a.base,a.darken4,a.darken3,a.darken2,a.darken1,a.lighten1,a.lighten2,a.lighten3,a.lighten4,a.lighten5]:[a.black,a.white,a.transparent]});var e}},disabled:Boolean,color:Object,maxHeight:[Number,String],...Oe()},"VColorPickerSwatches"),koe=Ft({name:"VColorPickerSwatches",props:_oe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:a}=t;return Me(()=>i("div",{class:r(["v-color-picker-swatches",e.class]),style:c([{maxHeight:$e(e.maxHeight)},e.style])},[i("div",null,[e.swatches.map(t=>i("div",{class:"v-color-picker-swatches__swatch"},[t.map(t=>{const l=Ce(t),n=wa(l),o=Ia(l);return i("div",{class:"v-color-picker-swatches__color",onClick:()=>n&&a("update:color",n)},[i("div",{style:{background:o}},[e.color&&Le(e.color,n)?d(wp,{size:"x-small",icon:"$success",color:Ea(t,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Soe=xe({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(hoe).includes(e)},modes:{type:Array,default:()=>Object.keys(hoe),validator:e=>Array.isArray(e)&&e.every(e=>Object.keys(hoe).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...BI({hideHeader:!0}),...Vt(boe(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),Coe=Ft({name:"VColorPicker",props:Soe(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:n}=t;const o=Fe(e,"mode"),s=a(null),r=Fe(e,"modelValue",void 0,e=>{if(null==e||""===e)return null;let t;try{t=wa(Ce(e))}catch(a){return null}return t},t=>t?function(e,t){if(null==t||"string"==typeof t){const a=1!==e.a;if(null==t?void 0:t.startsWith("rgb(")){const{r:t,g:l,b:n,a:o}=_a(e);return`rgb(${t} ${l} ${n}`+(a?` / ${o})`:")")}if(null==t?void 0:t.startsWith("hsl(")){const{h:t,s:l,l:n,a:o}=xa(e);return`hsl(${t} ${Math.round(100*l)} ${Math.round(100*n)}`+(a?` / ${o})`:")")}const l=ya(e);return 1===e.a?l.slice(0,7):l}if("object"==typeof t){let a;return ka(t,["r","g","b"])?a=_a(e):ka(t,["h","s","l"])?a=xa(e):ka(t,["h","s","v"])&&(a=e),function(e,t){if(t){const{a:t,...a}=e;return a}return e}(a,!ka(t,["a"])&&1===e.a)}return e}(t,e.modelValue):null),c=l(()=>r.value?{...r.value,h:s.value??r.value.h}:null),{rtlClasses:p}=Ge();let m=!0;f(r,e=>{m?e&&(s.value=e.h):m=!0},{immediate:!0});const v=e=>{m=!1,s.value=e.h,r.value=e};return K(()=>{e.modes.includes(o.value)||(o.value=e.modes[0])}),Ne({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Me(()=>{const t=$I.filterProps(e);return d($I,w(t,{class:["v-color-picker",p.value,e.class],style:[{"--v-color-picker-color-hsv":Ca({...c.value??uoe,a:1})},e.style]}),{...n,default:()=>i(u,null,[!e.hideCanvas&&d(roe,{key:"canvas",color:c.value,"onUpdate:color":v,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&i("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&d(xoe,{key:"preview",color:c.value,"onUpdate:color":v,hideAlpha:!o.value.endsWith("a"),disabled:e.disabled,hideEyeDropper:e.hideEyeDropper,eyeDropperIcon:e.eyeDropperIcon},null),!e.hideInputs&&d(yoe,{key:"edit",modes:e.modes,mode:o.value,"onUpdate:mode":e=>o.value=e,color:c.value,"onUpdate:color":v,disabled:e.disabled},null)]),e.showSwatches&&d(koe,{key:"swatches",color:c.value,"onUpdate:color":v,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),Ioe=xe({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...GE({filterKeys:["title"]}),...sI({hideNoData:!0,returnObject:!0}),...Ct(Pk({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VCombobox"),Eoe=Ee()({name:"VCombobox",props:Ioe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var n;let{emit:o,slots:s}=t;const{t:p}=Ht(),m=a(),v=k(!1),h=k(!0),g=k(!1),y=a(),b=a(),x=k(-1);let _=!1;const{items:S,transformIn:C,transformOut:I}=xb(e),{textColorClasses:E,textColorStyles:T}=Zc(()=>{var e;return null==(e=m.value)?void 0:e.color}),M=Fe(e,"modelValue",[],e=>C(De(e)),t=>{const a=I(t);return e.multiple?a:a[0]??null}),A=sk(e),O=l(()=>!(!e.chips&&!s.chip)),P=l(()=>O.value||!!s.selection),F=k(e.multiple||P.value?"":(null==(n=M.value[0])?void 0:n.title)??""),L=k(null),D=l({get:()=>F.value,set:async t=>{var a;if(F.value=t??"",null===t||""===t&&!e.multiple&&!P.value?M.value=[]:e.multiple||P.value||(M.value=[yb(e,t)],N(()=>{var e;return null==(e=b.value)?void 0:e.scrollToIndex(0)})),t&&e.multiple&&(null==(a=e.delimiters)?void 0:a.length)){const a=e.delimiters.map(Ta).join("|"),l=t.split(new RegExp(`(?:${a})+`));if(l.length>1){for(let t of l)t=t.trim(),t&&(se(yb(e,t)),await N());F.value=""}}t||(x.value=-1),h.value=!t}}),V=l(()=>"function"==typeof e.counterValue?e.counterValue(M.value):"number"==typeof e.counterValue?e.counterValue:e.multiple?M.value.length:D.value.length),{filteredItems:B,getMatches:$}=KE(e,S,()=>L.value??(e.alwaysFilter||!h.value?D.value:"")),R=l(()=>e.hideSelected&&null===L.value?B.value.filter(e=>!M.value.some(t=>t.value===e.value)):B.value),z=l(()=>e.hideNoData&&!R.value.length||A.isReadonly.value||A.isDisabled.value),U=Fe(e,"menu"),q=l({get:()=>U.value,set:e=>{var t;U.value&&!e&&(null==(t=y.value)?void 0:t.ΨopenChildren.size)||e&&z.value||(U.value=e)}}),{menuId:H,ariaExpanded:j,ariaControls:Y,ariaLabel:G}=oI(e,q);f(F,e=>{_?N(()=>_=!1):v.value&&!q.value&&(q.value=!0),o("update:search",e)}),f(M,t=>{var a;e.multiple||P.value||(F.value=(null==(a=t[0])?void 0:a.title)??"")});const K=l(()=>M.value.map(e=>e.value)),X=l(()=>{var t;return(!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&D.value===(null==(t=R.value[0])?void 0:t.title))&&R.value.length>0&&!h.value&&!g.value}),J=a(),Q=lI(J,m);function Z(t){_=!0,N(()=>_=!1),e.openOnClear&&(q.value=!0)}function ee(){z.value||(q.value=!0)}function te(e){z.value||(v.value&&(e.preventDefault(),e.stopPropagation()),q.value=!q.value)}function ae(e){var t;(ea(e)||"Backspace"===e.key)&&(null==(t=m.value)||t.focus())}function le(t){var a,l,n,o;if(Na(t)||A.isReadonly.value)return;const s=null==(a=m.value)?void 0:a.selectionStart,i=M.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(q.value=!0),["Escape"].includes(t.key)&&(q.value=!1),X.value&&["Enter","Tab"].includes(t.key)&&!M.value.some(e=>{let{value:t}=e;return t===R.value[0].value})&&se(B.value[0]),"ArrowDown"===t.key&&X.value&&(null==(l=J.value)||l.focus("next")),"Enter"===t.key&&D.value&&(se(yb(e,D.value),!0,!0),P.value&&(F.value="")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&P.value&&M.value.length>0&&!D.value)return se(M.value[0],!1);if(~x.value){t.preventDefault();const e=x.value;se(M.value[x.value],!1),x.value=e>=i-1?i-2:e}else"Backspace"!==t.key||D.value||(x.value=i-1)}else if(e.multiple)if("ArrowLeft"===t.key){if(x.value<0&&s&&s>0)return;const e=x.value>-1?x.value-1:i-1;M.value[e]?x.value=e:(x.value=-1,null==(n=m.value)||n.setSelectionRange(D.value.length,D.value.length))}else if("ArrowRight"===t.key){if(x.value<0)return;const e=x.value+1;M.value[e]?x.value=e:(x.value=-1,null==(o=m.value)||o.setSelectionRange(0,0))}else~x.value&&ea(t)&&(x.value=-1)}function ne(){var t;e.eager&&(null==(t=b.value)||t.calculateVisibleItems())}function oe(){var e;v.value&&(null==(e=m.value)||e.focus()),h.value=!0,L.value=null}function se(t){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&!t.props.disabled)if(e.multiple){const l=M.value.findIndex(a=>(e.valueComparator||Le)(a.value,t.value)),n=null==a?!~l:a;if(~l){const e=n?[...M.value,t]:[...M.value];e.splice(l,1),M.value=e}else n&&(M.value=[...M.value,t]);e.clearOnSelect&&(D.value="")}else{const n=!1!==a;M.value=n?[t]:[],h.value&&!e.alwaysFilter||!F.value||(L.value=F.value),F.value=n&&!P.value?t.title:"",N(()=>{q.value=l,h.value=!0})}}function ie(e){v.value=!0,setTimeout(()=>{g.value=!0})}function re(e){g.value=!1}return f(v,(t,a)=>{if(!t&&t!==a&&(x.value=-1,q.value=!1,D.value)){if(e.multiple)return void se(yb(e,D.value));if(!P.value)return;M.value.some(e=>{let{title:t}=e;return t===D.value})?F.value="":se(yb(e,D.value))}}),f(q,t=>{if(!e.hideSelected&&t&&M.value.length&&h.value){const t=R.value.findIndex(t=>M.value.some(a=>(e.valueComparator||Le)(a.value,t.value)));Qe&&window.requestAnimationFrame(()=>{var e;t>=0&&(null==(e=b.value)||e.scrollToIndex(t))})}t&&(L.value=null)}),f(S,(e,t)=>{q.value||v.value&&!t.length&&e.length&&(q.value=!0)}),Me(()=>{const t=!!(!e.hideNoData||R.value.length||s["prepend-item"]||s["append-item"]||s["no-data"]),a=M.value.length>0,l=Fk.filterProps(e);return d(Fk,w({ref:m},l,{modelValue:D.value,"onUpdate:modelValue":e=>D.value=e,focused:v.value,"onUpdate:focused":e=>v.value=e,validationValue:M.externalValue,counterValue:V.value,dirty:a,class:["v-combobox",{"v-combobox--active-menu":q.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!P.value,"v-combobox--selecting-index":x.value>-1,["v-combobox--"+(e.multiple?"multiple":"single")]:!0},e.class],style:e.style,readonly:A.isReadonly.value,placeholder:a?void 0:e.placeholder,"onClick:clear":Z,"onMousedown:control":ee,onKeydown:le,"aria-expanded":j.value,"aria-controls":Y.value}),{...s,default:()=>i(u,null,[d(Pb,w({id:H.value,ref:y,modelValue:q.value,"onUpdate:modelValue":e=>q.value=e,activator:"parent",contentClass:"v-combobox__content",disabled:z.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:ne,onAfterLeave:oe},e.menuProps),{default:()=>[t&&d(Ib,w({ref:J,filterable:!0,selected:K.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),selectable:!0,onKeydown:ae,onFocusin:ie,onFocusout:re,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Q,e.listProps),{default:()=>{var t,a,l;return[null==(t=s["prepend-item"])?void 0:t.call(s),!R.value.length&&!e.hideNoData&&((null==(a=s["no-data"])?void 0:a.call(s))??d(cb,{key:"no-data",title:p(e.noDataText)},null)),d(aI,{ref:b,renderless:!0,items:R.value,itemKey:"value"},{default:t=>{var a,l,n;let{item:o,index:r,itemRef:c}=t;const p=w(o.props,{ref:c,key:o.value,active:!(!X.value||0!==r)||void 0,onClick:()=>se(o,null)});return"divider"===o.type?(null==(a=s.divider)?void 0:a.call(s,{props:o.raw,index:r}))??d(my,w(o.props,{key:`divider-${r}`}),null):"subheader"===o.type?(null==(l=s.subheader)?void 0:l.call(s,{props:o.raw,index:r}))??d(mb,w(o.props,{key:`subheader-${r}`}),null):(null==(n=s.item)?void 0:n.call(s,{item:o,index:r,props:p}))??d(cb,w(p,{role:"option"}),{prepend:t=>{let{isSelected:a}=t;return i(u,null,[e.multiple&&!e.hideSelected?d(GC,{key:o.value,modelValue:a,ripple:!1,tabindex:"-1",onClick:e=>e.preventDefault()},null):void 0,o.props.prependAvatar&&d(oy,{image:o.props.prependAvatar},null),o.props.prependIcon&&d(wp,{icon:o.props.prependIcon},null)])},title:()=>{var e;return h.value?o.title:XE("v-combobox",o.title,null==(e=$(o))?void 0:e.title)}})}}),null==(l=s["append-item"])?void 0:l.call(s)]}})]}),M.value.map((t,a)=>{function l(e){e.stopPropagation(),e.preventDefault(),se(t,!1)}const n={"onClick:close":l,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),l(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},o=O.value?!!s.chip:!!s.selection,u=o?Zt(O.value?s.chip({item:t,index:a,props:n}):s.selection({item:t,index:a})):void 0;if(!o||u)return i("div",{key:t.value,class:r(["v-combobox__selection",a===x.value&&["v-combobox__selection--selected",E.value]]),style:c(a===x.value?T.value:{})},[O.value?s.chip?d(fp,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:t.title}}},{default:()=>[u]}):d(R_,w({key:"chip",closable:e.closableChips,size:"small",text:t.title,disabled:t.props.disabled},n),null):u??i("span",{class:"v-combobox__selection-text"},[t.title,e.multiple&&a<M.value.length-1&&i("span",{class:"v-combobox__selection-comma"},[W(",")])])])})]),"append-inner":function(){for(var t,a,l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return i(u,null,[null==(t=s["append-inner"])?void 0:t.call(s,...n),e.hideNoData&&!e.items.length||!e.menuIcon?void 0:d(wp,{class:"v-combobox__menu-icon",color:null==(a=m.value)?void 0:a.fieldIconColor,icon:e.menuIcon,onMousedown:te,onClick:na,"aria-label":G.value,title:G.value,tabindex:"-1"},null)])}})}),Wm({isFocused:v,isPristine:h,menu:q,search:D,selectionIndex:x,filteredItems:B,select:se},m)}}),Toe=xe({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),Noe=Ee()({name:"VConfirmEdit",props:Toe(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:o}=t;const s=Fe(e,"modelValue"),r=a();I(()=>{r.value=structuredClone(F(s.value))});const{t:c}=Ht(),p=l(()=>Le(s.value,r.value));function m(t){return"boolean"==typeof e.disabled?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(t):p.value}const v=l(()=>m("save")),h=l(()=>m("cancel"));function f(){s.value=r.value,n("save",r.value)}function g(){r.value=structuredClone(F(s.value)),n("cancel")}function y(t){return i(u,null,[d(im,w({disabled:h.value,variant:"text",color:e.color,onClick:g,text:c(e.cancelText)},t),null),d(im,w({disabled:v.value,variant:"text",color:e.color,onClick:f,text:c(e.okText)},t),null)])}let b=!1;return Me(()=>{var t;return i(u,null,[null==(t=o.default)?void 0:t.call(o,{model:r,save:f,cancel:g,isPristine:p.value,get actions(){return b=!0,y}}),!e.hideActions&&!b&&y()])}),{save:f,cancel:g,isPristine:p}}}),Moe=xe({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function Aoe(e,t){return{type:"item",value:e.returnObject?t:Bt(t,e.itemValue),selectable:Bt(t,e.itemSelectable,!0),raw:t}}function Ooe(e){const t=l(()=>function(e,t){const a=[];for(const l of t)a.push(Aoe(e,l));return a}(e,e.items));return{items:t}}const Poe=xe({search:String,loading:Boolean,...Oe(),...Moe(),...KD(),...ZD(),...SD({itemsPerPage:5}),...gV(),...iV(),...GE(),...Jc(),...Fm({transition:{component:Cg,hideOnLeave:!0}})},"VDataIterator"),Foe=Ee()({name:"VDataIterator",props:Poe(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:a}=t;const o=Fe(e,"groupBy"),s=n(()=>e.search),{items:u}=Ooe(e),{filteredItems:p}=KE(e,u,s,{transform:e=>e.raw}),{sortBy:m,multiSort:v,mustSort:h}=tV(e),{page:f,itemsPerPage:g}=ID(e),{toggleSort:y}=aV({sortBy:m,multiSort:v,mustSort:h,page:f}),{sortByWithGroups:b,opened:x,extractRows:w,isGroupOpen:_,toggleGroup:k}=dV({groupBy:o,sortBy:m}),{sortedItems:S}=nV(e,p,b,{transform:e=>e.raw}),{flatItems:C}=vV(S,o,x,!1),I=n(()=>C.value.length),{startIndex:E,stopIndex:T,pageCount:N,prevPage:M,nextPage:A,setItemsPerPage:O,setPage:P}=ED({page:f,itemsPerPage:g,itemsLength:I}),{paginatedItems:F}=TD({items:C,startIndex:E,stopIndex:T,itemsPerPage:g}),L=l(()=>w(F.value)),{isSelected:D,select:V,selectAll:B,toggleSelect:$}=JD(e,{allItems:u,currentPage:L}),{isExpanded:R,toggleExpand:z}=bV(e);MV({page:f,itemsPerPage:g,sortBy:m,groupBy:o,search:s});const U=l(()=>({page:f.value,itemsPerPage:g.value,sortBy:m.value,pageCount:N.value,toggleSort:y,prevPage:M,nextPage:A,setPage:P,setItemsPerPage:O,isSelected:D,select:V,selectAll:B,toggleSelect:$,isExpanded:R,toggleExpand:z,isGroupOpen:_,toggleGroup:k,items:L.value,itemsCount:p.value.length,groupedItems:F.value}));return Me(()=>d(e.tag,{class:r(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:c(e.style)},{default:()=>{var t,l;return[null==(t=a.header)?void 0:t.call(a,U.value),d(Lm,{transition:e.transition},{default:()=>{var t,l;return[e.loading?d(Lp,{key:"loader",name:"v-data-iterator",active:!0},{default:e=>{var t;return null==(t=a.loader)?void 0:t.call(a,e)}}):i("div",{key:"items"},[F.value.length?null==(l=a.default)?void 0:l.call(a,U.value):null==(t=a["no-data"])?void 0:t.call(a)])]}}),null==(l=a.footer)?void 0:l.call(a,U.value)]}})),{}}}),Loe=xe({actionText:String,bgColor:String,color:String,icon:Ue,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Oe(),...Cp(),...yp({size:void 0}),...Ae()},"VEmptyState"),Doe=Ee()({name:"VEmptyState",props:Loe(),emits:{"click:action":e=>!0},setup(e,t){let{emit:a,slots:l}=t;const{themeClasses:n}=Te(e),{backgroundColorClasses:o,backgroundColorStyles:s}=ep(()=>e.bgColor),{dimensionStyles:p}=Ip(e),{displayClasses:m}=yt();function v(e){a("click:action",e)}return Me(()=>{var t,a,h;const f=!(!l.actions&&!e.actionText),g=!(!l.headline&&!e.headline),y=!(!l.title&&!e.title),b=!(!l.text&&!e.text),x=!!(l.media||e.image||e.icon),w=e.size||(e.image?200:96);return i("div",{class:r(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},n.value,o.value,m.value,e.class]),style:c([s.value,p.value,e.style])},[x&&i("div",{key:"media",class:"v-empty-state__media"},[l.media?d(fp,{key:"media-defaults",defaults:{VImg:{src:e.image,height:w},VIcon:{size:w,icon:e.icon}}},{default:()=>[l.media()]}):i(u,null,[e.image?d(Ug,{key:"image",src:e.image,height:w},null):e.icon?d(wp,{key:"icon",color:e.color,size:w,icon:e.icon},null):void 0])]),g&&i("div",{key:"headline",class:"v-empty-state__headline"},[(null==(t=l.headline)?void 0:t.call(l))??e.headline]),y&&i("div",{key:"title",class:"v-empty-state__title"},[(null==(a=l.title)?void 0:a.call(l))??e.title]),b&&i("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:$e(e.textWidth)}},[(null==(h=l.text)?void 0:h.call(l))??e.text]),l.default&&i("div",{key:"content",class:"v-empty-state__content"},[l.default()]),f&&i("div",{key:"actions",class:"v-empty-state__actions"},[d(fp,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var e;return[(null==(e=l.actions)?void 0:e.call(l,{props:{onClick:v}}))??d(im,{onClick:v},null)]}})])])}),{}}}),Voe=xe({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...Ct(sm({active:!0}),["location","spaced"]),...At(),...Tp(),...Fm({transition:"fab-transition"})},"VFab"),Boe=Ee()({name:"VFab",props:Voe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const s=Fe(e,"modelValue"),u=k(56),p=a(),{resizeRef:m}=je(e=>{e.length&&(u.value=e[0].target.clientHeight)}),v=n(()=>e.app||e.absolute),h=l(()=>{var t;return!!v.value&&((null==(t=e.location)?void 0:t.split(" ").shift())??"bottom")}),f=l(()=>{var t;return!!v.value&&((null==(t=e.location)?void 0:t.split(" ")[1])??"end")});Xe(()=>e.app,()=>{const t=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:h,layoutSize:l(()=>e.layout?u.value+24:0),elementSize:l(()=>u.value+24),active:l(()=>e.app&&s.value),absolute:n(()=>e.absolute)});I(()=>{p.value=t.layoutItemStyles.value})});const g=a();return Me(()=>{const t=im.filterProps(e);return i("div",{ref:g,class:r(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${h.value}`]:v.value,[`v-fab--${f.value}`]:v.value},e.class]),style:c([e.app?{...p.value}:{height:e.absolute?"100%":"inherit"},e.style])},[i("div",{class:"v-fab__container"},[d(Lm,{appear:e.appear,transition:e.transition},{default:()=>[M(d(im,w({ref:m},t,{active:void 0,location:void 0}),o),[[V,e.active]])]})])])}),{}}});function $oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((a,l)=>{e.isFile?e.file(e=>a([{file:e,path:t}]),l):e.isDirectory&&e.createReader().readEntries(async e=>{const l=[];for(const a of e)l.push(...await $oe(a,Roe(t,a)));a(l)})})}function Roe(e,t){return t.isDirectory?`${e}/${t.name}`:e}const zoe=xe({filterByType:String},"file-accept"),Uoe=xe({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>"boolean"==typeof e||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...dk({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>De(e).every(e=>null!=e&&"object"==typeof e)},...zoe(),...Ek({clearable:!0})},"VFileInput"),qoe=Ee()({name:"VFileInput",inheritAttrs:!1,props:Uoe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,t){let{attrs:o,emit:s,slots:c}=t;const{t:p}=Ht(),{filterAccepted:m}=function(e){const t=l(()=>e.filterByType?function(e){const t=e.split(",").map(e=>e.trim().toLowerCase()),a=t.filter(e=>e.startsWith(".")),l=t.filter(e=>e.endsWith("/*")),n=t.filter(e=>!a.includes(e)&&!l.includes(e));return e=>{var t,o;const s=(null==(t=e.name.split(".").at(-1))?void 0:t.toLowerCase())??"",i=(null==(o=e.type.split("/").at(0))?void 0:o.toLowerCase())??"";return n.includes(e.type)||a.includes(`.${s}`)||l.includes(`${i}/*`)}}(e.filterByType):null);return{filterAccepted:function(e){if(t.value){const a=e.filter(t.value);return{accepted:a,rejected:e.filter(e=>!a.includes(e))}}return{accepted:e,rejected:[]}}}}(e),v=Fe(e,"modelValue",e.modelValue,e=>De(e),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:h,focus:g,blur:y}=lk(e),b=l(()=>"boolean"!=typeof e.showSize?e.showSize:void 0),x=l(()=>(v.value??[]).reduce((e,t)=>{let{size:a=0}=t;return e+a},0)),_=l(()=>Ma(x.value,b.value)),S=l(()=>(v.value??[]).map(t=>{const{name:a="",size:l=0}=t,n=function(t){if(t.length<Number(e.truncateLength))return t;const a=Math.floor((Number(e.truncateLength)-1)/2);return`${t.slice(0,a)}…${t.slice(t.length-a)}`}(a);return e.showSize?`${n} (${Ma(l,b.value)})`:n})),C=l(()=>{var t;const a=(null==(t=v.value)?void 0:t.length)??0;return e.showSize?p(e.counterSizeString,a,_.value):p(e.counterString,a)}),I=a(),E=a(),T=a(),M=n(()=>h.value||e.active),A=l(()=>["plain","underlined"].includes(e.variant)),O=k(!1),{handleDrop:P,hasFilesOrFolders:F}={handleDrop:async function(e){var t,a;const l=[],n=[...(null==(t=e.dataTransfer)?void 0:t.items)??[]].filter(e=>"file"===e.kind).map(e=>e.webkitGetAsEntry()).filter(Boolean);if(n.length)for(const o of n){const e=await $oe(o,Roe(".",o));l.push(...e.map(e=>e.file))}else l.push(...(null==(a=e.dataTransfer)?void 0:a.files)??[]);return l},hasFilesOrFolders:function(e){var t,a;return[...(null==(t=e.dataTransfer)?void 0:t.items)??[]].filter(e=>"file"===e.kind).map(e=>e.webkitGetAsEntry()).filter(Boolean).length>0||[...(null==(a=e.dataTransfer)?void 0:a.files)??[]].length>0}};function L(){var e;T.value!==document.activeElement&&(null==(e=T.value)||e.focus()),h.value||g()}function D(e){var t;null==(t=T.value)||t.click()}function V(e){s("mousedown:control",e)}function B(e){var t;null==(t=T.value)||t.click(),s("click:control",e)}function $(t){t.stopPropagation(),L(),N(()=>{v.value=[],Gt(e["onClick:clear"],t)})}function R(e){e.preventDefault(),e.stopImmediatePropagation(),O.value=!0}function z(e){e.preventDefault(),O.value=!1}async function U(e){e.preventDefault(),e.stopImmediatePropagation(),O.value=!1,T.value&&F(e)&&H(await P(e))}function q(t){if(t.target&&!t.repack)if(e.filterByType)H([...t.target.files]);else{const e=t.target;v.value=[...e.files??[]]}}function H(e){const t=new DataTransfer,{accepted:a,rejected:l}=m(e);l.length&&s("rejected",l);for(const o of a)t.items.add(o);T.value.files=t.files,v.value=[...t.files];const n=new Event("change",{bubbles:!0});n.repack=!0,T.value.dispatchEvent(n)}return f(v,e=>{(!Array.isArray(e)||!e.length)&&T.value&&(T.value.value="")}),Me(()=>{const t=!(!c.counter&&!e.counter),a=!(!t&&!c.details),[l,n]=Kt(o),{modelValue:s,...p}=ck.filterProps(e),m={...Tk.filterProps(e),"onClick:clear":$},f=void 0!==o.webkitdirectory&&!1!==o.webkitdirectory,g=o.accept?String(o.accept):void 0,b=f?void 0:e.filterByType??g;return d(ck,w({ref:I,modelValue:e.multiple?v.value:v.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":O.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":A.value},e.class],style:e.style,"onClick:prepend":D},l,p,{centerAffix:!A.value,focused:h.value}),{...c,default:t=>{let{id:a,isDisabled:l,isDirty:o,isReadonly:s,isValid:p,hasDetails:f}=t;return d(Tk,w({ref:E,prependIcon:e.prependIcon,onMousedown:V,onClick:B,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},m,{id:a.value,active:M.value||o.value,dirty:o.value||e.dirty,disabled:l.value,focused:h.value,details:f.value,error:!1===p.value,onDragover:R,onDrop:U}),{...c,default:t=>{var a;let{props:{class:o,...p},controlRef:m}=t;return i(u,null,[i("input",w({ref:e=>T.value=m.value=e,type:"file",accept:b,readonly:s.value,disabled:l.value,multiple:e.multiple,name:e.name,onClick:e=>{e.stopPropagation(),s.value&&e.preventDefault(),L()},onChange:q,onDragleave:z,onFocus:L,onBlur:y},p,n),null),i("div",{class:r(o)},[!!(null==(a=v.value)?void 0:a.length)&&!e.hideInput&&(c.selection?c.selection({fileNames:S.value,totalBytes:x.value,totalBytesReadable:_.value}):e.chips?S.value.map(e=>d(R_,{key:e,size:"small",text:e},null)):S.value.join(", "))])])}})},details:a?a=>{var l,n;return i(u,null,[null==(l=c.details)?void 0:l.call(c,a),t&&i(u,null,[i("span",null,null),d(kk,{active:!!(null==(n=v.value)?void 0:n.length),value:C.value,disabled:e.disabled},c.counter)])])}:void 0})}),Wm({},I,E,T)}}),Hoe=xe({disabled:Boolean,modelValue:{type:Boolean,default:null},...km()},"VHover"),joe=Ee()({name:"VHover",props:Hoe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const l=Fe(e,"modelValue"),{runOpenDelay:n,runCloseDelay:o}=Sm(e,t=>!e.disabled&&(l.value=t));return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isHovering:l.value,props:{onMouseenter:n,onMouseleave:o}})}}}),Woe=xe({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Cp(),...Jc()},"VInfiniteScroll"),Yoe=Ft({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:a}=t;const{intersectionRef:l,isIntersecting:n}=_p();return f(n,async t=>{a("intersect",e.side,t)}),Me(()=>i("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:l},[W(" ")])),{}}}),Goe=Ee()({name:"VInfiniteScroll",props:Woe(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const s=a(),u=k("ok"),p=k("ok"),m=l(()=>$e(e.margin)),v=k(!1);function h(t){if(!s.value)return;const a="vertical"===e.direction?"scrollTop":"scrollLeft";s.value[a]=t}function f(){if(!s.value)return 0;const t="vertical"===e.direction?"scrollTop":"scrollLeft";return s.value[t]}function g(){if(!s.value)return 0;const t="vertical"===e.direction?"scrollHeight":"scrollWidth";return s.value[t]}function b(e,t){"start"===e?u.value=t:"end"===e?p.value=t:"both"===e&&(u.value=t,p.value=t)}y(()=>{s.value&&("start"===e.side?h(g()):"both"===e.side&&h(g()/2-function(){if(!s.value)return 0;const t="vertical"===e.direction?"clientHeight":"clientWidth";return s.value[t]}()/2))});let x=0;function w(e,t){v.value=t,v.value&&_(e)}function _(t){if("manual"!==e.mode&&!v.value)return;const a=function(e){return"start"===e?u.value:p.value}(t);s.value&&!["empty","loading"].includes(a)&&(x=g(),b(t,"loading"),o("load",{side:t,done:function(a){b(t,a),N(()=>{"empty"!==a&&"error"!==a&&("ok"===a&&"start"===t&&h(g()-x+f()),"manual"!==e.mode&&N(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(t)})})})}))})}}))}const{t:S}=Ht();function C(t,a){var l,o,s,r,u;if(e.side!==t&&"both"!==e.side)return;const c=()=>_(t),p={side:t,props:{onClick:c,color:e.color}};return"error"===a?null==(l=n.error)?void 0:l.call(n,p):"empty"===a?(null==(o=n.empty)?void 0:o.call(n,p))??i("div",null,[S(e.emptyText)]):"manual"===e.mode?"loading"===a?(null==(s=n.loading)?void 0:s.call(n,p))??d(Sp,{indeterminate:!0,color:e.color},null):(null==(r=n["load-more"])?void 0:r.call(n,p))??d(im,{variant:"outlined",color:e.color,onClick:c},{default:()=>[S(e.loadMoreText)]}):(null==(u=n.loading)?void 0:u.call(n,p))??d(Sp,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:I}=Ip(e);return Me(()=>{const t=e.tag,a="start"===e.side||"both"===e.side,l="end"===e.side||"both"===e.side,o="intersect"===e.mode;return d(t,{ref:s,class:r(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":a,"v-infinite-scroll--end":l}]),style:c(I.value)},{default:()=>{var e;return[i("div",{class:"v-infinite-scroll__side"},[C("start",u.value)]),a&&o&&d(Yoe,{key:"start",side:"start",onIntersect:w,rootMargin:m.value},null),null==(e=n.default)?void 0:e.call(n),l&&o&&d(Yoe,{key:"end",side:"end",onIntersect:w,rootMargin:m.value},null),i("div",{class:"v-infinite-scroll__side"},[C("end",p.value)])]}})}),{reset:function(t){const a=t??e.side;b(a,"ok"),N(()=>{h(g()-x+f()),"manual"!==e.mode&&N(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{"both"===a?(_("start"),_("end")):_(a)})})})})})}}}}),Koe=Symbol.for("vuetify:v-item-group"),Xoe=xe({...Oe(),...ip({selectedClass:"v-item--selected"}),...Jc(),...Ae()},"VItemGroup"),Joe=Ee()({name:"VItemGroup",props:Xoe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{isSelected:n,select:o,next:s,prev:i,selected:u}=dp(e,Koe);return()=>d(e.tag,{class:r(["v-item-group",l.value,e.class]),style:c(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a,{isSelected:n,select:o,next:s,prev:i,selected:u.value})]}})}}),Qoe=Ee()({name:"VItem",props:rp(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const{isSelected:l,select:n,toggle:o,selectedClass:s,value:i,disabled:r}=up(e,Koe);return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isSelected:l.value,selectedClass:s.value,select:n,toggle:o,value:i.value,disabled:r.value})}}}),Zoe=xe({color:String,...Uc(),...Oe(),...Kc(),...Jc({tag:"kbd"}),...Ae(),...Yc()},"VKbd"),ese=Ee()({name:"VKbd",props:Zoe(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e),{borderClasses:n}=qc(e),{roundedClasses:o}=Xc(e),{backgroundColorClasses:s,backgroundColorStyles:i}=ep(()=>e.color),{elevationClasses:u}=Gc(e);return Me(()=>d(e.tag,{class:r(["v-kbd",l.value,s.value,n.value,u.value,o.value,e.class]),style:c([i.value,e.style])},a)),{}}}),tse=xe({...Oe(),...Cp(),...ha()},"VLayout"),ase=Ee()({name:"VLayout",props:tse(),setup(e,t){let{slots:a}=t;const{layoutClasses:l,layoutStyles:n,getLayoutItem:o,items:s,layoutRef:u}=va(e),{dimensionStyles:d}=Ip(e);return Me(()=>{var t;return i("div",{ref:u,class:r([l.value,e.class]),style:c([d.value,n.value,e.style])},[null==(t=a.default)?void 0:t.call(a)])}),{getLayoutItem:o,items:s}}}),lse=xe({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Oe(),...At()},"VLayoutItem"),nse=Ee()({name:"VLayoutItem",props:lse(),setup(e,t){let{slots:a}=t;const{layoutItemStyles:o}=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:n(()=>e.position),elementSize:n(()=>e.size),layoutSize:n(()=>e.size),active:n(()=>e.modelValue),absolute:n(()=>e.absolute)});return()=>{var t;return i("div",{class:r(["v-layout-item",e.class]),style:c([o.value,e.style])},[null==(t=a.default)?void 0:t.call(a)])}}}),ose=xe({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Oe(),...Cp(),...Jc(),...Fm({transition:"fade-transition"})},"VLazy"),sse=Ee()({name:"VLazy",directives:{vIntersect:Rg},props:ose(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{dimensionStyles:l}=Ip(e),n=Fe(e,"modelValue");function o(e){n.value||(n.value=e)}return Me(()=>M(d(e.tag,{class:r(["v-lazy",e.class]),style:c([l.value,e.style])},{default:()=>[n.value&&d(Lm,{transition:e.transition,appear:!0},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}})]}),[[Rg,{handler:o,options:e.options},null]])),{}}}),ise=xe({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Oe()},"VLocaleProvider"),rse=Ee()({name:"VLocaleProvider",props:ise(),setup(e,t){let{slots:a}=t;const{rtlClasses:l}=Aa(e);return Me(()=>{var t;return i("div",{class:r(["v-locale-provider",l.value,e.class]),style:c(e.style)},[null==(t=a.default)?void 0:t.call(a)])}),{}}}),use=xe({scrollable:Boolean,...Oe(),...Cp(),...Jc({tag:"main"})},"VMain"),dse=Ee()({name:"VMain",props:use(),setup(e,t){let{slots:a}=t;const{dimensionStyles:l}=Ip(e),{mainStyles:n}=Et(),{ssrBootStyles:o}=Yg();return Me(()=>d(e.tag,{class:r(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:c([n.value,o.value,l.value,e.style])},{default:()=>{var t,l;return[e.scrollable?i("div",{class:"v-main__scroller"},[null==(t=a.default)?void 0:t.call(a)]):null==(l=a.default)?void 0:l.call(a)]}})),{}}}),cse=Ft({name:"VNoSsr",setup(e,t){let{slots:a}=t;const l=Tm();return()=>{var e;return l.value&&(null==(e=a.default)?void 0:e.call(a))}}}),pse=xe({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},minFractionDigits:{type:Number,default:null},decimalSeparator:{type:String,validator:e=>!e||1===e.length},...Ct(Pk(),["modelValue","validationValue"])},"VNumberInput"),mse=Ee()({name:"VNumberInput",props:{...pse()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const s=a(),{holdStart:r,holdStop:c}=function(e){let{toggleUpDown:t}=e,a=-1,l=-1;function n(){window.clearTimeout(a),window.clearInterval(l),window.removeEventListener("pointerup",n),document.removeEventListener("blur",n)}function o(e){t("up"===e)}return C(n),{holdStart:function(e){n(),o(e),window.addEventListener("pointerup",n),document.addEventListener("blur",n),a=window.setTimeout(()=>{l=window.setInterval(()=>o(e),50)},500)},holdStop:n}}({toggleUpDown:B}),p=sk(e),m=l(()=>p.isDisabled.value||p.isReadonly.value),v=k(e.focused),{decimalSeparator:h}=Ht(),g=l(()=>{var t;return(null==(t=e.decimalSeparator)?void 0:t[0])||h.value});function b(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.precision,l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=null==a?String(t):t.toFixed(a);if(v.value&&l)return Number(n).toString().replace(".",g.value);if(null===e.minFractionDigits||null!==a&&a<e.minFractionDigits)return n.replace(".",g.value);let[o,s]=n.split(".");return s=(s??"").padEnd(e.minFractionDigits,"0").replace(new RegExp(`(?<=\\d{${e.minFractionDigits}})0+$`,"g"),""),[o,s].filter(Boolean).join(g.value)}const x=Fe(e,"modelValue",null,e=>e??null,t=>null==t?t??null:We(Number(t),e.min,e.max)),_=k(null);I(()=>{var e;v.value&&!m.value&&Number(null==(e=_.value)?void 0:e.replace(g.value,"."))===x.value||(null==x.value?_.value=null:isNaN(x.value)||(_.value=b(x.value)))});const S=l({get:()=>_.value,set(t){if(null===t||""===t)return x.value=null,void(_.value=null);const a=Number(t.replace(g.value,"."));!isNaN(a)&&a<=e.max&&a>=e.min&&(x.value=a,_.value=t)}}),E=l(()=>!m.value&&(x.value??0)+e.step<=e.max),T=l(()=>!m.value&&(x.value??0)-e.step>=e.min),M=l(()=>e.hideInput?"stacked":e.controlVariant),A=n(()=>"split"===M.value?"$plus":"$collapse"),O=n(()=>"split"===M.value?"$minus":"$expand"),P=n(()=>"split"===M.value?"default":"small"),F=n(()=>"stacked"===M.value?"auto":"100%"),L={props:{onClick:z,onPointerup:U,onPointerdown:q,onPointercancel:U}},D={props:{onClick:z,onPointerup:U,onPointerdown:H,onPointercancel:U}};function V(e){if(null==e)return 0;const t=e.toString(),a=t.indexOf(".");return~a?t.length-a:0}function B(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(m.value)return;if(null==x.value)return void(S.value=b(We(0,e.min,e.max)));let a=Math.max(V(x.value),V(e.step));null!=e.precision&&(a=Math.max(a,e.precision)),t?E.value&&(S.value=b(x.value+e.step,a)):T.value&&(S.value=b(x.value-e.step,a))}function $(t){var a;if(!t.data)return;const l=t.target,{value:n,selectionStart:o,selectionEnd:s}=l??{},i=n?n.slice(0,o)+t.data+n.slice(s):t.data,r=Oa(i,e.precision,g.value);if(new RegExp(`^-?\\d*${Ta(g.value)}?\\d*$`).test(i)||(t.preventDefault(),l.value=r,N(()=>S.value=r)),null!=e.precision){if((null==(a=i.split(g.value)[1])?void 0:a.length)>e.precision){t.preventDefault(),l.value=r,N(()=>S.value=r);const e=(o??0)+t.data.length;l.setSelectionRange(e,e)}0===e.precision&&i.endsWith(g.value)&&(t.preventDefault(),l.value=r,N(()=>S.value=r))}}async function R(e){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(e.key)||e.ctrlKey||["ArrowDown","ArrowUp"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),j(),await N(),"ArrowDown"===e.key?B(!1):B())}function z(e){e.stopPropagation()}function U(e){const t=e.currentTarget;null==t||t.releasePointerCapture(e.pointerId),e.preventDefault(),c()}function q(e){const t=e.currentTarget;null==t||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),r("up")}function H(e){const t=e.currentTarget;null==t||t.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),r("down")}function j(){if(m.value)return;if(!s.value)return;const t=s.value.value,a=Number(t.replace(g.value,"."));t&&!isNaN(a)?S.value=b(We(a,e.min,e.max)):S.value=null}function W(){m.value||(S.value=null===x.value||isNaN(x.value)?null:b(x.value,e.precision,!1))}function Y(){m.value||(null===x.value||isNaN(x.value)?S.value=null:S.value=x.value.toString().replace(".",g.value))}function G(){j()}return f(()=>e.precision,()=>W()),f(()=>e.minFractionDigits,()=>W()),y(()=>{j()}),Me(()=>{const{modelValue:t,type:a,...l}=Fk.filterProps(e);function n(){return o.increment?d(fp,{key:"increment-defaults",defaults:{VBtn:{disabled:!E.value,height:F.value,size:P.value,icon:A.value,variant:"text"}}},{default:()=>[o.increment(L)]}):d(im,{"aria-hidden":"true","data-testid":"increment",disabled:!E.value,height:F.value,icon:A.value,key:"increment-btn",onClick:z,onPointerdown:q,onPointerup:U,onPointercancel:U,size:P.value,variant:"text",tabindex:"-1"},null)}function r(){return o.decrement?d(fp,{key:"decrement-defaults",defaults:{VBtn:{disabled:!T.value,height:F.value,size:P.value,icon:O.value,variant:"text"}}},{default:()=>[o.decrement(D)]}):d(im,{"aria-hidden":"true","data-testid":"decrement",disabled:!T.value,height:F.value,icon:O.value,key:"decrement-btn",onClick:z,onPointerdown:H,onPointerup:U,onPointercancel:U,size:P.value,variant:"text",tabindex:"-1"},null)}function c(){return i("div",{class:"v-number-input__control"},[r(),d(my,{vertical:"stacked"!==M.value},null),n()])}function p(){return e.hideInput||e.inset?void 0:d(my,{vertical:!0},null)}const m="split"===M.value?i("div",{class:"v-number-input__control"},[d(my,{vertical:!0},null),n()]):e.reverse||"hidden"===M.value?void 0:i(u,null,[p(),c()]),h=o["append-inner"]||m,f="split"===M.value?i("div",{class:"v-number-input__control"},[r(),d(my,{vertical:!0},null)]):e.reverse&&"hidden"!==M.value?i(u,null,[c(),p()]):void 0,g=o["prepend-inner"]||f;return d(Fk,w({ref:s},l,{modelValue:S.value,"onUpdate:modelValue":e=>S.value=e,focused:v.value,"onUpdate:focused":e=>v.value=e,validationValue:x.value,onBeforeinput:$,onFocus:Y,onBlur:G,onKeydown:R,class:["v-number-input",{"v-number-input--default":"default"===M.value,"v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":"split"===M.value,"v-number-input--stacked":"stacked"===M.value},e.class],style:e.style,inputmode:"decimal"}),{...o,"append-inner":h?function(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i(u,null,[null==(e=o["append-inner"])?void 0:e.call(o,...a),m])}:void 0,"prepend-inner":g?function(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i(u,null,[f,null==(e=o["prepend-inner"])?void 0:e.call(o,...a)])}:void 0})}),Wm({},s)}}),vse=xe({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Cp(),...ak(),...Vt(Ek({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),hse=Ee()({name:"VOtpInput",props:vse(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:o,emit:s,slots:p}=t;const{dimensionStyles:m}=Ip(e),{isFocused:v,focus:h,blur:g}=lk(e),y=Fe(e,"modelValue","",e=>null==e?[]:String(e).split(""),e=>e.join("")),{t:b}=Ht(),x=l(()=>Number(e.length)),_=l(()=>Array(x.value).fill(0)),k=a(-1),S=a(),C=a([]),E=l(()=>C.value[k.value]);let T=!1;function M(){if(L(E.value.value))return void(E.value.value="");if(T)return;const e=y.value.slice(),t=E.value.value;e[k.value]=t;let a=null;k.value>y.value.length?a=y.value.length+1:k.value+1!==x.value&&(a="next"),y.value=e,a&&Rt(S.value,a)}function A(){T=!1,M()}function P(e){const t=y.value.slice(),a=k.value;let l=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(e.key)&&(e.preventDefault(),"ArrowLeft"===e.key?l="prev":"ArrowRight"===e.key?l="next":["Backspace","Delete"].includes(e.key)&&(t[k.value]="",y.value=t,k.value>0&&"Backspace"===e.key?l="prev":requestAnimationFrame(()=>{var e;null==(e=C.value[a])||e.select()})),requestAnimationFrame(()=>{null!=l&&Rt(S.value,l)}))}function F(){g(),k.value=-1}function L(t){return"number"===e.type&&/[^0-9]/g.test(t)}return Xe(()=>e.autofocus,()=>{const e=O();e.run(()=>{const{intersectionRef:t,isIntersecting:a}=_p();I(()=>{t.value=C.value[0]}),f(a,a=>{var l;a&&(null==(l=t.value)||l.focus(),e.stop())})})}),Ne({VField:{color:n(()=>e.color),bgColor:n(()=>e.color),baseColor:n(()=>e.baseColor),disabled:n(()=>e.disabled),error:n(()=>e.error),variant:n(()=>e.variant)}},{scoped:!0}),f(y,e=>{e.length===x.value&&s("finish",e.join(""))},{deep:!0}),f(k,e=>{e<0||N(()=>{var t;null==(t=C.value[e])||t.select()})}),Me(()=>{var t;const[a,l]=Kt(o);return i("div",w({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},a),[i("div",{ref:S,class:"v-otp-input__content",style:c([m.value])},[_.value.map((t,a)=>i(u,null,[e.divider&&0!==a&&i("span",{class:"v-otp-input__divider"},[e.divider]),d(Tk,{focused:v.value&&e.focusAll||k.value===a,key:a},{...p,loader:void 0,default:()=>i("input",{ref:e=>C.value[a]=e,"aria-label":b(e.label,a+1),autofocus:0===a&&e.autofocus,autocomplete:"one-time-code",class:r(["v-otp-input__field"]),disabled:e.disabled,inputmode:"number"===e.type?"numeric":"text",min:"number"===e.type?0:void 0,maxlength:0===a?x.value:"1",placeholder:e.placeholder,type:"number"===e.type?"text":e.type,value:y.value[a],onInput:M,onFocus:e=>{return t=a,h(),void(k.value=t);var t},onBlur:F,onKeydown:P,onCompositionstart:()=>T=!0,onCompositionend:A,onPaste:e=>function(e,t){var a;t.preventDefault(),t.stopPropagation();const l=(null==(a=null==t?void 0:t.clipboardData)?void 0:a.getData("Text").trim().slice(0,x.value))??"",n=l.length-1==-1?e:l.length-1;L(l)||(y.value=l.split(""),k.value=n)}(a,e)},null)})])),i("input",w({class:"v-otp-input-input",type:"hidden"},l,{value:y.value.join("")}),null),d(qm,{contained:!0,contentClass:"v-otp-input__loader",modelValue:!!e.loading,persistent:!0},{default:()=>{var t;return[(null==(t=p.loader)?void 0:t.call(p))??d(Sp,{color:"boolean"==typeof e.loading?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),null==(t=p.default)?void 0:t.call(p)])])}),{blur:()=>{var e;null==(e=C.value)||e.some(e=>e.blur())},focus:()=>{var e;null==(e=C.value)||e[0].focus()},reset:function(){y.value=[]},isFocused:v}}}),fse=xe({scale:{type:[Number,String],default:.5},...Oe()},"VParallax"),gse=Ee()({name:"VParallax",props:fse(),setup(e,t){let{slots:n}=t;const{intersectionRef:o,isIntersecting:s}=_p(),{resizeRef:i,contentRect:u}=je(),{height:p}=yt(),m=a();let v;I(()=>{var e;o.value=i.value=null==(e=m.value)?void 0:e.$el}),f(s,e=>{e?(v=_t(o.value),v=v===document.scrollingElement?document:v,v.addEventListener("scroll",b,{passive:!0}),b()):v.removeEventListener("scroll",b)}),h(()=>{null==v||v.removeEventListener("scroll",b)}),f(p,b),f(()=>{var e;return null==(e=u.value)?void 0:e.height},b);const g=l(()=>1-We(Number(e.scale)));let y=-1;function b(){s.value&&!Ye()&&(cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var e;const t=(null==(e=m.value)?void 0:e.$el).querySelector(".v-img__img");if(!t)return;const a=v instanceof Document?document.documentElement.clientHeight:v.clientHeight,l=v instanceof Document?window.scrollY:v.scrollTop,n=o.value.getBoundingClientRect().top+l,s=u.value.height,i=function(e){return Math.floor(Math.abs(e))*Math.sign(e)}((l-(n+(s-a)/2))*g.value),r=Math.max(1,(g.value*(a-s)+s)/s);t.style.setProperty("transform",`translateY(${i}px) scale(${r})`)}))}return Me(()=>d(Ug,{class:r(["v-parallax",{"v-parallax--active":s.value},e.class]),style:c(e.style),ref:m,cover:!0,onLoadstart:b,onLoad:b},n)),{}}}),yse=xe({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ue,default:"$ratingEmpty"},fullIcon:{type:Ue,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Oe(),...jc(),...yp(),...Jc(),...Ae()},"VRating"),bse=Ee()({name:"VRating",props:yse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{t:n}=Ht(),{themeClasses:o}=Te(e),s=Fe(e,"modelValue"),m=l(()=>We(parseFloat(s.value),0,Number(e.length))),v=l(()=>la(Number(e.length),1)),h=l(()=>v.value.flatMap(t=>e.halfIncrements?[t-.5,t]:[t])),f=k(-1),g=l(()=>h.value.map(t=>{const a=e.hover&&f.value>-1,l=m.value>=t,n=f.value>=t,o=(a?n:l)?e.fullIcon:e.emptyIcon,s=e.activeColor??e.color;return{isFilled:l,isHovered:n,icon:o,color:l||n?s:e.color}})),y=l(()=>[0,...h.value].map(t=>({onMouseenter:e.hover?function(){f.value=t}:void 0,onMouseleave:e.hover?function(){f.value=-1}:void 0,onClick:function(){e.disabled||e.readonly||(s.value=m.value===t&&e.clearable?0:t)}}))),b=p(),x=l(()=>e.name??`v-rating-${b}`);function _(t){var l,o;let{value:s,index:c,showStar:p=!0}=t;const{onMouseenter:v,onMouseleave:h,onClick:f}=y.value[c+1],b=`${x.value}-${String(s).replace(".","-")}`,_={color:null==(l=g.value[c])?void 0:l.color,density:e.density,disabled:e.disabled,icon:null==(o=g.value[c])?void 0:o.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i(u,null,[i("label",{for:b,class:r({"v-rating__item--half":e.halfIncrements&&s%1>0,"v-rating__item--full":e.halfIncrements&&s%1==0}),onMouseenter:v,onMouseleave:h,onClick:f},[i("span",{class:"v-rating__hidden"},[n(e.itemAriaLabel,s,e.length)]),p?a.item?a.item({...g.value[c],props:_,value:s,index:c,rating:m.value}):d(im,w({"aria-label":n(e.itemAriaLabel,s,e.length)},_),null):void 0]),i("input",{class:"v-rating__hidden",name:x.value,id:b,type:"radio",value:s,checked:m.value===s,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function S(e){return a["item-label"]?a["item-label"](e):e.label?i("span",null,[e.label]):i("span",null,[W(" ")])}return Me(()=>{var t;const l=!!(null==(t=e.itemLabels)?void 0:t.length)||a["item-label"];return d(e.tag,{class:r(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},o.value,e.class]),style:c(e.style)},{default:()=>[d(_,{value:0,index:-1,showStar:!1},null),v.value.map((t,a)=>{var n,o;return i("div",{class:"v-rating__wrapper"},[l&&"top"===e.itemLabelPosition?S({value:t,index:a,label:null==(n=e.itemLabels)?void 0:n[a]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(u,null,[d(_,{value:t-.5,index:2*a},null),d(_,{value:t,index:2*a+1},null)]):d(_,{value:t,index:a},null)]),l&&"bottom"===e.itemLabelPosition?S({value:t,index:a,label:null==(o=e.itemLabels)?void 0:o[a]}):void 0])})]})}),{}}}),xse=Ee()({name:"VSlideGroupItem",props:rp(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const l=up(e,P_);return()=>{var e;return null==(e=a.default)?void 0:e.call(a,{isSelected:l.isSelected.value,select:l.select,toggle:l.toggle,selectedClass:l.selectedClass.value})}}}),wse=xe({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...Ct(Ym(),["modelValue"])},"VSnackbarQueue"),_se=Ee()({name:"VSnackbarQueue",props:wse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:a,slots:n}=t;const{t:o}=Ht(),s=k(!1),r=k(!1),c=k();function p(){e.modelValue.length?m():(c.value=void 0,r.value=!1)}function m(){const[t,...l]=e.modelValue;a("update:modelValue",l),c.value="string"==typeof t?{text:t}:t,N(()=>{s.value=!0})}function v(){s.value=!1}f(()=>e.modelValue.length,(e,t)=>{!r.value&&e>t&&m()}),f(s,e=>{e&&(r.value=!0)});const h=l(()=>({color:"string"==typeof e.closable?e.closable:void 0,text:o(e.closeText)}));Me(()=>{const t=!(!e.closable&&!n.actions),{modelValue:a,...l}=Gm.filterProps(e);return i(u,null,[r.value&&!!c.value&&(n.default?d(fp,{defaults:{VSnackbar:c.value}},{default:()=>[n.default({item:c.value})]}):d(Gm,w(l,c.value,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,onAfterLeave:p}),{text:n.text?()=>{var e;return null==(e=n.text)?void 0:e.call(n,{item:c.value})}:void 0,actions:t?()=>i(u,null,[n.actions?d(fp,{defaults:{VBtn:h.value}},{default:()=>[n.actions({item:c.value,props:{onClick:v}})]}):d(im,w(h.value,{onClick:v}),null)]):void 0}))])})}}),kse=xe({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),Sse=xe({autoLineWidth:Boolean,...kse()},"VBarline"),Cse=Ee()({name:"VBarline",props:Sse(),setup(e,t){let{slots:a}=t;const n=p(),o=l(()=>e.id||`barline-${n}`),s=l(()=>Number(e.autoDrawDuration)||500),r=l(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==a?void 0:a.label))),d=l(()=>parseFloat(e.lineWidth)||4),c=l(()=>Math.max(e.modelValue.length*d.value,Number(e.width))),m=l(()=>({minX:0,maxX:c.value,minY:0,maxY:parseInt(e.height,10)})),v=l(()=>e.modelValue.map(t=>Bt(t,e.itemValue,t)));function h(t,a){const{minX:l,maxX:n,minY:o,maxY:s}=a,i=t.length;let r=null!=e.max?Number(e.max):Math.max(...t),u=null!=e.min?Number(e.min):Math.min(...t);u>0&&null==e.min&&(u=0),r<0&&null==e.max&&(r=0);const d=n/(1===i?2:i),c=(s-o)/(r-u||1),p=s-Math.abs(u*c);return t.map((e,t)=>{const a=Math.abs(c*e);return{x:l+t*d,y:p-a+Number(e<0)*a,height:a,value:e}})}const f=l(()=>{const t=[],a=h(v.value,m.value),l=a.length;for(let n=0;t.length<l;n++){const l=a[n];let o=e.labels[n];o||(o="object"==typeof l?l.value:l),t.push({x:l.x,value:String(o)})}return t}),g=l(()=>h(v.value,m.value)),y=l(()=>1===g.value.length?(m.value.maxX-d.value)/2:(Math.abs(g.value[0].x-g.value[1].x)-d.value)/2),b=l(()=>"boolean"==typeof e.smooth?e.smooth?2:0:Number(e.smooth));Me(()=>{const t=e.gradient.slice().length?e.gradient.slice().reverse():[""];return i("svg",{display:"block"},[i("defs",null,[i("linearGradient",{id:o.value,gradientUnits:"userSpaceOnUse",x1:"left"===e.gradientDirection?"100%":"0",y1:"top"===e.gradientDirection?"100%":"0",x2:"right"===e.gradientDirection?"100%":"0",y2:"bottom"===e.gradientDirection?"100%":"0"},[t.map((e,a)=>i("stop",{offset:a/Math.max(t.length-1,1),"stop-color":e||"currentColor"},null))])]),i("clipPath",{id:`${o.value}-clip`},[g.value.map(t=>i("rect",{x:t.x+y.value,y:t.y,width:d.value,height:t.height,rx:b.value,ry:b.value},[e.autoDraw&&!Ye()&&i(u,null,[i("animate",{attributeName:"y",from:t.y+t.height,to:t.y,dur:`${s.value}ms`,fill:"freeze"},null),i("animate",{attributeName:"height",from:"0",to:t.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),r.value&&i("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[f.value.map((t,l)=>{var n;return i("text",{x:t.x+y.value+d.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||5.25),"font-size":Number(e.labelSize)||7},[(null==(n=a.label)?void 0:n.call(a,{index:l,value:t.value}))??t.value])})]),i("g",{"clip-path":`url(#${o.value}-clip)`,fill:`url(#${o.value})`},[i("rect",{x:0,y:0,width:Math.max(e.modelValue.length*d.value,Number(e.width)),height:e.height},null)])])})}});function Ise(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:75;if(0===e.length)return"";const n=e.shift(),o=e[e.length-1];return(a?`M${n.x} ${l-n.x+2} L${n.x} ${n.y}`:`M${n.x} ${n.y}`)+e.map((a,l)=>{const o=e[l+1],s=e[l-1]||n,i=o&&(u=a,d=s,Ese((r=o).x+d.x)===Ese(2*u.x)&&Ese(r.y+d.y)===Ese(2*u.y));var r,u,d;if(!o||i)return`L${a.x} ${a.y}`;const c=Math.min(Tse(s,a),Tse(o,a)),p=c/2<t?c/2:t,m=Nse(s,a,p),v=Nse(o,a,p);return`L${m.x} ${m.y}S${a.x} ${a.y} ${v.x} ${v.y}`}).join("")+(a?`L${o.x} ${l-n.x+2} Z`:"")}function Ese(e){return parseInt(e,10)}function Tse(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Nse(e,t,a){const l=e.x-t.x,n=e.y-t.y,o=Math.sqrt(l*l+n*n),s=l/o,i=n/o;return{x:t.x+s*a,y:t.y+i*a}}const Mse=xe({fill:Boolean,...kse()},"VTrendline"),Ase=Ee()({name:"VTrendline",props:Mse(),setup(e,t){let{slots:n}=t;const o=p(),s=l(()=>e.id||`trendline-${o}`),r=l(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),u=a(0),d=a(null);function c(t,a){const{minX:l,maxX:n,minY:o,maxY:s}=a;1===t.length&&(t=[t[0],t[0]]);const i=t.length,r=null!=e.max?Number(e.max):Math.max(...t),u=null!=e.min?Number(e.min):Math.min(...t),d=(n-l)/(i-1),c=(s-o)/(r-u||1);return t.map((e,t)=>({x:l+t*d,y:s-(e-u)*c,value:e}))}const m=l(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==n?void 0:n.label))),v=l(()=>parseFloat(e.lineWidth)||4),h=l(()=>Number(e.width)),g=l(()=>{const t=Number(e.padding);return{minX:t,maxX:h.value-t,minY:t,maxY:parseInt(e.height,10)-t}}),y=l(()=>e.modelValue.map(t=>Bt(t,e.itemValue,t))),b=l(()=>{const t=[],a=c(y.value,g.value),l=a.length;for(let n=0;t.length<l;n++){const l=a[n];let o=e.labels[n];o||(o="object"==typeof l?l.value:l),t.push({x:l.x,value:String(o)})}return t});function x(t){const a="boolean"==typeof e.smooth?e.smooth?8:0:Number(e.smooth);return Ise(c(y.value,g.value),a,t,parseInt(e.height,10))}f(()=>e.modelValue,async()=>{if(await N(),!e.autoDraw||!d.value||Ye())return;const t=d.value,a=t.getTotalLength();e.fill?(t.style.transformOrigin="bottom center",t.style.transition="none",t.style.transform="scaleY(0)",t.getBoundingClientRect(),t.style.transition=`transform ${r.value}ms ${e.autoDrawEasing}`,t.style.transform="scaleY(1)"):(t.style.strokeDasharray=`${a}`,t.style.strokeDashoffset=`${a}`,t.getBoundingClientRect(),t.style.transition=`stroke-dashoffset ${r.value}ms ${e.autoDrawEasing}`,t.style.strokeDashoffset="0"),u.value=a},{immediate:!0}),Me(()=>{var t;const a=e.gradient.slice().length?e.gradient.slice().reverse():[""];return i("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[i("defs",null,[i("linearGradient",{id:s.value,gradientUnits:"userSpaceOnUse",x1:"left"===e.gradientDirection?"100%":"0",y1:"top"===e.gradientDirection?"100%":"0",x2:"right"===e.gradientDirection?"100%":"0",y2:"bottom"===e.gradientDirection?"100%":"0"},[a.map((e,t)=>i("stop",{offset:t/Math.max(a.length-1,1),"stop-color":e||"currentColor"},null))])]),m.value&&i("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[b.value.map((t,a)=>{var l;return i("text",{x:t.x+v.value/2+v.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||5.25),"font-size":Number(e.labelSize)||7},[(null==(l=n.label)?void 0:l.call(n,{index:a,value:t.value}))??t.value])})]),i("path",{ref:d,d:x(e.fill),fill:e.fill?`url(#${s.value})`:"none",stroke:e.fill?"none":`url(#${s.value})`},null),e.fill&&i("path",{d:x(!1),fill:"none",stroke:e.color??(null==(t=e.gradient)?void 0:t[0])},null)])})}}),Ose=xe({type:{type:String,default:"trend"},...Sse(),...Mse()},"VSparkline"),Pse=Ee()({name:"VSparkline",props:Ose(),setup(e,t){let{slots:a}=t;const{textColorClasses:n,textColorStyles:o}=Zc(()=>e.color),s=l(()=>Boolean(e.showLabels||e.labels.length>0||!!(null==a?void 0:a.label))),i=l(()=>{let t=parseInt(e.height,10);return s.value&&(t+=1.5*parseInt(e.labelSize,10)),t});Me(()=>{const t="trend"===e.type?Ase:Cse,l="trend"===e.type?Ase.filterProps(e):Cse.filterProps(e);return d(t,w({key:e.type,class:n.value,style:o.value,viewBox:`0 0 ${e.width} ${parseInt(i.value,10)}`},l),a)})}}),Fse=xe({...Oe(),...Ob({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),Lse=Ee()({name:"VSpeedDial",props:Fse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=Fe(e,"modelValue"),s=a(),i=l(()=>{var t;const[a,l="center"]=(null==(t=e.location)?void 0:t.split(" "))??[];return`${a} ${l}`}),r=l(()=>({[`v-speed-dial__content--${i.value.replace(" ","-")}`]:!0}));return Me(()=>{const t=Pb.filterProps(e);return d(Pb,w(t,{modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,class:e.class,style:e.style,contentClass:["v-speed-dial__content",r.value,e.contentClass],location:i.value,ref:s,transition:"fade-transition"}),{...n,default:t=>d(fp,{defaults:{VBtn:{size:"small"}}},{default:()=>[d(Lm,{appear:!0,group:!0,transition:e.transition},{default:()=>{var e;return[null==(e=n.default)?void 0:e.call(n,t)]}})]})})}),{}}}),Dse=Symbol.for("vuetify:v-stepper"),Vse=xe({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Bse=Ee()({name:"VStepperActions",props:Vse(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:a,slots:l}=t;const{t:n}=Ht();function o(){a("click:prev")}function s(){a("click:next")}return Me(()=>{const t={onClick:o},a={onClick:s};return i("div",{class:"v-stepper-actions"},[d(fp,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:n(e.prevText),variant:"text"}}},{default:()=>{var e;return[(null==(e=l.prev)?void 0:e.call(l,{props:t}))??d(im,t,null)]}}),d(fp,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:n(e.nextText),variant:"tonal"}}},{default:()=>{var e;return[(null==(e=l.next)?void 0:e.call(l,{props:a}))??d(im,a,null)]}})])}),{}}}),$se=Ot("v-stepper-header"),Rse=xe({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Ue,default:"$complete"},editable:Boolean,editIcon:{type:Ue,default:"$edit"},error:Boolean,errorIcon:{type:Ue,default:"$error"},icon:Ue,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),zse=xe({...Rse(),...rp()},"VStepperItem"),Use=Ee()({name:"VStepperItem",directives:{vRipple:om},props:zse(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=up(e,Dse,!0),o=l(()=>(null==n?void 0:n.value.value)??e.value),s=l(()=>e.rules.every(e=>!0===e())),u=l(()=>!e.disabled&&e.editable),c=l(()=>!e.disabled&&e.editable),p=l(()=>e.error||!s.value),m=l(()=>e.complete||e.rules.length>0&&s.value),v=l(()=>p.value?e.errorIcon:m.value?e.completeIcon:n.isSelected.value&&e.editable?e.editIcon:e.icon),h=l(()=>({canEdit:c.value,hasError:p.value,hasCompleted:m.value,title:e.title,subtitle:e.subtitle,step:o.value,value:e.value}));return Me(()=>{var t,l,s;const f=(!n||n.isSelected.value||m.value||c.value)&&!p.value&&!e.disabled,g=!(null==e.title&&!a.title),y=!(null==e.subtitle&&!a.subtitle);return M(i("button",{class:r(["v-stepper-item",{"v-stepper-item--complete":m.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":p.value},null==n?void 0:n.selectedClass.value]),disabled:!e.editable,type:"button",onClick:function(){null==n||n.toggle()}},[u.value&&ap(!0,"v-stepper-item"),d(oy,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?e.color:void 0,size:24},{default:()=>{var e;return[(null==(e=a.icon)?void 0:e.call(a,h.value))??(v.value?d(wp,{icon:v.value},null):o.value)]}}),i("div",{class:"v-stepper-item__content"},[g&&i("div",{key:"title",class:"v-stepper-item__title"},[(null==(t=a.title)?void 0:t.call(a,h.value))??e.title]),y&&i("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[(null==(l=a.subtitle)?void 0:l.call(a,h.value))??e.subtitle]),null==(s=a.default)?void 0:s.call(a,h.value)])]),[[om,e.editable&&e.ripple,null]])}),{}}}),qse=xe({...Ct(QV(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Hse=Ee()({name:"VStepperWindow",props:qse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const n=v(Dse,null),o=Fe(e,"modelValue"),s=l({get(){var e;return null==o.value&&n?null==(e=n.items.value.find(e=>n.selected.value.includes(e.id)))?void 0:e.value:o.value},set(e){o.value=e}});return Me(()=>{const t=ZV.filterProps(e);return d(ZV,w({_as:"VStepperWindow"},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),a)}),{}}}),jse=xe({...aB()},"VStepperWindowItem"),Wse=Ee()({name:"VStepperWindowItem",props:jse(),setup(e,t){let{slots:a}=t;return Me(()=>{const t=lB.filterProps(e);return d(lB,w({_as:"VStepperWindowItem"},t,{class:["v-stepper-window-item",e.class],style:e.style}),a)}),{}}}),Yse=xe({altLabels:Boolean,bgColor:String,completeIcon:Ue,editIcon:Ue,editable:Boolean,errorIcon:Ue,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Wt()},"Stepper"),Gse=xe({...Yse(),...ip({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...DI(),...Vt(Vse(),["prevText","nextText"])},"VStepper"),Kse=Ee()({name:"VStepper",props:Gse(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const{items:n,next:o,prev:s,selected:r}=dp(e,Dse),{displayClasses:c,mobile:p}=yt(e),{completeIcon:m,editIcon:v,errorIcon:h,color:f,editable:g,prevText:y,nextText:b}=_(e),x=l(()=>e.items.map((t,a)=>({title:Bt(t,e.itemTitle,t),value:Bt(t,e.itemValue,a+1),raw:t}))),k=l(()=>n.value.findIndex(e=>r.value.includes(e.id))),S=l(()=>e.disabled?e.disabled:0===k.value?"prev":k.value===n.value.length-1&&"next");return Ne({VStepperItem:{editable:g,errorIcon:h,completeIcon:m,editIcon:v,prevText:y,nextText:b},VStepperActions:{color:f,disabled:S,prevText:y,nextText:b}}),Me(()=>{const t=VI.filterProps(e),l=!(!a.header&&!e.items.length),n=e.items.length>0,r=!(e.hideActions||!n&&!a.actions);return d(VI,w(t,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":p.value},c.value,e.class],style:e.style}),{default:()=>{var e,t;return[l&&d($se,{key:"stepper-header"},{default:()=>[x.value.map((e,t)=>{let{raw:l,...n}=e;return i(u,null,[!!t&&d(my,null,null),d(Use,n,{default:a[`header-item.${n.value}`]??a.header,icon:a.icon,title:a.title,subtitle:a.subtitle})])})]}),n&&d(Hse,{key:"stepper-window"},{default:()=>[x.value.map(e=>d(Wse,{value:e.value},{default:()=>{var t,l;return(null==(t=a[`item.${e.value}`])?void 0:t.call(a,e))??(null==(l=a.item)?void 0:l.call(a,e))}}))]}),null==(e=a.default)?void 0:e.call(a,{prev:s,next:o}),r&&((null==(t=a.actions)?void 0:t.call(a,{next:o,prev:s}))??d(Bse,{key:"stepper-actions","onClick:prev":s,"onClick:next":o},a))]}})}),{prev:s,next:o}}}),Xse=xe({color:String,height:[Number,String],window:Boolean,...Oe(),...Yc(),...At(),...Kc(),...Jc(),...Ae()},"VSystemBar"),Jse=Ee()({name:"VSystemBar",props:Xse(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=Te(e),{backgroundColorClasses:s,backgroundColorStyles:i}=ep(()=>e.color),{elevationClasses:u}=Gc(e),{roundedClasses:p}=Xc(e),{ssrBootStyles:m}=Yg(),v=l(()=>e.height??(e.window?32:24)),{layoutItemStyles:h}=Mt({id:e.name,order:l(()=>parseInt(e.order,10)),position:k("top"),layoutSize:v,elementSize:v,active:l(()=>!0),absolute:n(()=>e.absolute)});return Me(()=>d(e.tag,{class:r(["v-system-bar",{"v-system-bar--window":e.window},o.value,s.value,u.value,p.value,e.class]),style:c([i.value,h.value,m.value,e.style])},a)),{}}}),Qse=xe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Nk(),...dk(),...Ek()},"VTextarea"),Zse=Ee()({name:"VTextarea",directives:{vIntersect:Rg},inheritAttrs:!1,props:Qse(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:n,emit:o,slots:s}=t;const c=Fe(e,"modelValue"),{isFocused:p,focus:m,blur:v}=lk(e),{onIntersect:g}=Ak(e),b=l(()=>"function"==typeof e.counterValue?e.counterValue(c.value):(c.value||"").toString().length),x=l(()=>n.maxlength?n.maxlength:!e.counter||"number"!=typeof e.counter&&"string"!=typeof e.counter?void 0:e.counter),_=a(),S=a(),C=k(""),E=a(),T=a(0),{platform:A}=yt(),O=Mk(e),P=l(()=>e.persistentPlaceholder||p.value||e.active);function F(){var e;O.isSuppressing.value&&O.update(),E.value!==document.activeElement&&(null==(e=E.value)||e.focus()),p.value||m()}function L(e){F(),o("click:control",e)}function D(e){o("mousedown:control",e)}function V(t){t.stopPropagation(),F(),N(()=>{c.value="",Gt(e["onClick:clear"],t)})}function B(t){var a;const l=t.target;if(c.value=l.value,null==(a=e.modelModifiers)?void 0:a.trim){const e=[l.selectionStart,l.selectionEnd];N(()=>{l.selectionStart=e[0],l.selectionEnd=e[1]})}}const $=a(),R=a(Number(e.rows)),z=l(()=>["plain","underlined"].includes(e.variant));function U(){N(()=>{if(!E.value)return;if(A.value.firefox)return void(T.value=12);const{offsetWidth:e,clientWidth:t}=E.value;T.value=Math.max(0,e-t)}),e.autoGrow&&N(()=>{if(!$.value||!S.value)return;const t=getComputedStyle($.value),a=getComputedStyle(S.value.$el),l=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),n=$.value.scrollHeight,o=parseFloat(t.lineHeight),s=Math.max(parseFloat(e.rows)*o+l,parseFloat(a.getPropertyValue("--v-input-control-height"))),i=parseFloat(e.maxRows)*o+l||1/0,r=We(n??0,s,i);R.value=Math.floor((r-l)/o),C.value=$e(r)})}let q;return I(()=>{e.autoGrow||(R.value=Number(e.rows))}),y(U),f(c,U),f(()=>e.rows,U),f(()=>e.maxRows,U),f(()=>e.density,U),f(R,e=>{o("update:rows",e)}),f($,e=>{e?(q=new ResizeObserver(U),q.observe($.value)):null==q||q.disconnect()}),h(()=>{null==q||q.disconnect()}),Me(()=>{const t=!!(s.counter||e.counter||e.counterValue),a=!(!t&&!s.details),[l,o]=Kt(n),{modelValue:m,...h}=ck.filterProps(e),f={...Tk.filterProps(e),"onClick:clear":V};return d(ck,w({ref:_,modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":z.value},e.class],style:[{"--v-textarea-scroll-bar-width":$e(T.value)},e.style]},l,h,{centerAffix:1===R.value&&!z.value,focused:p.value}),{...s,default:t=>{let{id:a,isDisabled:l,isDirty:n,isReadonly:m,isValid:h,hasDetails:y}=t;return d(Tk,w({ref:S,style:{"--v-textarea-control-height":C.value},onClick:L,onMousedown:D,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},f,{id:a.value,active:P.value||n.value,centerAffix:1===R.value&&!z.value,dirty:n.value||e.dirty,disabled:l.value,focused:p.value,details:y.value,error:!1===h.value}),{...s,default:t=>{let{props:{class:a,...n},controlRef:s}=t;return i(u,null,[e.prefix&&i("span",{class:"v-text-field__prefix"},[e.prefix]),M(i("textarea",w({ref:e=>E.value=s.value=e,class:a,value:c.value,onInput:B,autofocus:e.autofocus,readonly:m.value,disabled:l.value,placeholder:e.placeholder,rows:e.rows,name:O.fieldName.value,autocomplete:O.fieldAutocomplete.value,onFocus:F,onBlur:v},n,o),null),[[Rg,{handler:g},null,{once:!0}]]),e.autoGrow&&M(i("textarea",{class:r([a,"v-textarea__sizer"]),id:`${n.id}-sizer`,"onUpdate:modelValue":e=>c.value=e,ref:$,readonly:!0,"aria-hidden":"true"},null),[[se,c.value]]),e.suffix&&i("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:a?a=>{var l;return i(u,null,[null==(l=s.details)?void 0:l.call(s,a),t&&i(u,null,[i("span",null,null),d(kk,{active:e.persistentCounter||p.value,value:b.value,max:x.value,disabled:e.disabled},s.counter)])])}:void 0})}),Wm({},_,S,E)}}),eie=xe({withBackground:Boolean,...Oe(),...Ae(),...Jc()},"VThemeProvider"),tie=Ee()({name:"VThemeProvider",props:eie(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=Te(e);return()=>{var t;return e.withBackground?d(e.tag,{class:r(["v-theme-provider",l.value,e.class]),style:c(e.style)},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}}):null==(t=a.default)?void 0:t.call(a)}}}),aie=xe({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ue,iconColor:String,lineColor:String,...Oe(),...Kc(),...yp(),...Yc()},"VTimelineDivider"),lie=Ee()({name:"VTimelineDivider",props:aie(),setup(e,t){let{slots:a}=t;const{sizeClasses:l,sizeStyles:n}=bp(e,"v-timeline-divider__dot"),{backgroundColorStyles:o,backgroundColorClasses:s}=ep(()=>e.dotColor),{roundedClasses:u}=Xc(e,"v-timeline-divider__dot"),{elevationClasses:p}=Gc(e),{backgroundColorClasses:m,backgroundColorStyles:v}=ep(()=>e.lineColor);return Me(()=>i("div",{class:r(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:c(e.style)},[i("div",{class:r(["v-timeline-divider__before",m.value]),style:c(v.value)},null),!e.hideDot&&i("div",{key:"dot",class:r(["v-timeline-divider__dot",p.value,u.value,l.value]),style:c(n.value)},[i("div",{class:r(["v-timeline-divider__inner-dot",s.value,u.value]),style:c(o.value)},[a.default?d(fp,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},a.default):d(wp,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),i("div",{class:r(["v-timeline-divider__after",m.value]),style:c(v.value)},null)])),{}}}),nie=xe({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ue,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>null==e||["start","end"].includes(e)},...Oe(),...Cp(),...Yc(),...Kc(),...yp(),...Jc()},"VTimelineItem"),oie=Ee()({name:"VTimelineItem",props:nie(),setup(e,t){let{slots:l}=t;const{dimensionStyles:n}=Ip(e),o=k(0),s=a();return f(s,e=>{var t;e&&(o.value=(null==(t=e.$el.querySelector(".v-timeline-divider__dot"))?void 0:t.getBoundingClientRect().width)??0)},{flush:"post"}),Me(()=>{var t,a;return i("div",{class:r(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":"start"===e.side,"v-timeline-item--side-end":"end"===e.side},e.class]),style:c([{"--v-timeline-dot-size":$e(o.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${$e(e.lineInset)})`:$e(0)},e.style])},[i("div",{class:"v-timeline-item__body",style:c(n.value)},[null==(t=l.default)?void 0:t.call(l)]),d(lie,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:l.icon}),"compact"!==e.density&&i("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&(null==(a=l.opposite)?void 0:a.call(l))])])}),{}}}),sie=xe({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>null==e||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Vt(nie({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Oe(),...jc(),...Jc(),...Ae()},"VTimeline"),iie=Ee()({name:"VTimeline",props:sie(),setup(e,t){let{slots:a}=t;const{themeClasses:o}=Te(e),{densityClasses:s}=Wc(e),{rtlClasses:i}=Ge();Ne({VTimelineDivider:{lineColor:n(()=>e.lineColor)},VTimelineItem:{density:n(()=>e.density),dotColor:n(()=>e.dotColor),fillDot:n(()=>e.fillDot),hideOpposite:n(()=>e.hideOpposite),iconColor:n(()=>e.iconColor),lineColor:n(()=>e.lineColor),lineInset:n(()=>e.lineInset),size:n(()=>e.size)}});const u=l(()=>{const t=e.side?e.side:"default"!==e.density?"end":null;return t&&`v-timeline--side-${t}`}),p=l(()=>{const t=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return t;case"start":return t[0];case"end":return t[1];default:return null}});return Me(()=>d(e.tag,{class:r(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,p.value,{"v-timeline--inset-line":!!e.lineInset},o.value,s.value,u.value,i.value,e.class]),style:c([{"--v-timeline-line-thickness":$e(e.lineThickness)},e.style])},a)),{}}});function rie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")}const uie=xe({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),die=Ee()({name:"VTimePickerClock",props:uie(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const o=a(null),s=a(null),u=a(void 0),d=a(!1),p=a(null),m=a(null),v=Jt(e=>n("change",e),750),{textColorClasses:h,textColorStyles:g}=Zc(()=>e.color),{backgroundColorClasses:y,backgroundColorStyles:b}=ep(()=>e.color),x=l(()=>e.max-e.min+1),w=l(()=>e.double?x.value/2:x.value),_=l(()=>360/w.value),k=l(()=>_.value*Math.PI/180),S=l(()=>null==e.modelValue?e.min:e.modelValue),C=l(()=>.62),I=l(()=>{const t=[];for(let a=e.min;a<=e.max;a+=e.step)t.push(a);return t});function E(e){u.value!==e&&(u.value=e),n("input",e)}function T(t){return!e.allowedValues||e.allowedValues(t)}function N(t){if(!e.scrollable||e.disabled)return;t.preventDefault();const a=Math.sign(-t.deltaY||1);let l=S.value;do{l+=a,l=(l-e.min+x.value)%x.value+e.min}while(!T(l)&&l!==S.value);l!==e.displayedValue&&E(l),v(l)}function M(t){return e.double&&t-e.min>=w.value}function A(e){return M(e)?C.value:1}function O(t,a){const l=(Math.round(t/_.value)+(a?w.value:0))%x.value+e.min;return t<360-_.value/2?l:a?e.max-w.value+1:e.min}function P(t){const{x:a,y:l}=function(t){const a=e.rotate*Math.PI/180;return{x:Math.sin((t-e.min)*k.value+a)*A(t),y:-Math.cos((t-e.min)*k.value+a)*A(t)}}(t);return{left:`${Math.round(50+50*a)}%`,top:`${Math.round(50+50*l)}%`}}function F(e,t){const a=t.x-e.x,l=t.y-e.y;return Math.sqrt(a*a+l*l)}function L(e){null===p.value&&(p.value=e),m.value=e,E(e)}function D(t){var a,l;if(t.preventDefault(),!d.value&&"click"!==t.type||!o.value)return;const{width:n,top:i,left:r}=null==(a=o.value)?void 0:a.getBoundingClientRect(),{width:u}=(null==(l=s.value)?void 0:l.getBoundingClientRect())??{width:0},{clientX:c,clientY:p}="touches"in t?t.touches[0]:t,m={x:n/2,y:-n/2},v={x:c-r,y:i-p},h=Math.round(function(e,t){const a=2*Math.atan2(t.y-e.y-F(e,t),t.x-e.x);return Math.abs(180*a/Math.PI)}(m,v)-e.rotate+360)%360,f=e.double&&F(m,v)<(u+u*C.value)/4,g=Math.ceil(15/_.value);let y;for(let e=0;e<g;e++){if(y=O(h+e*_.value,f),T(y))return L(y);if(y=O(h-e*_.value,f),T(y))return L(y)}}function V(t){e.disabled||(t.preventDefault(),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",B),window.addEventListener("touchend",B),p.value=null,m.value=null,d.value=!0,D(t))}function B(e){e.stopPropagation(),window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",B),window.removeEventListener("touchend",B),d.value=!1,null!==m.value&&T(m.value)&&n("change",m.value)}f(()=>e.modelValue,e=>{u.value=e}),Me(()=>i("div",{class:r([{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":null==e.modelValue,"v-time-picker-clock--readonly":e.readonly}]),onMousedown:V,onTouchstart:V,onWheel:N,ref:o},[i("div",{class:"v-time-picker-clock__inner",ref:s},[i("div",{class:r([{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":M(e.modelValue)},h.value]),style:c([{transform:`rotate(${e.rotate+_.value*(S.value-e.min)}deg) scaleY(${A(S.value)})`},g.value])},null),I.value.map(t=>{const a=t===S.value;return i("div",{class:r([{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":a,"v-time-picker-clock__item--disabled":e.disabled||!T(t)},a&&y.value]),style:c([P(t),a&&b.value])},[i("span",null,[e.format(t)])])})])]))}}),cie=xe({ampm:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,value:Number,viewMode:String},"VTimePickerControls"),pie=Ee()({name:"VTimePickerControls",props:cie(),emits:{"update:period":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:a,slots:l}=t;const{t:n}=Ht();return Me(()=>{let t=e.hour;return e.ampm&&(t=t?(t-1)%12+1:12),i("div",{class:"v-time-picker-controls"},[i("div",{class:r({"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds})},[d(im,{active:"hour"===e.viewMode,color:"hour"===e.viewMode?e.color:void 0,disabled:e.disabled,variant:"tonal",class:r({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),text:null==e.hour?"--":rie(`${t}`),onClick:()=>a("update:viewMode","hour")},null),i("span",{class:r(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}])},[W(":")]),d(im,{active:"minute"===e.viewMode,color:"minute"===e.viewMode?e.color:void 0,class:r({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":"minute"===e.viewMode,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,variant:"tonal",text:null==e.minute?"--":rie(e.minute),onClick:()=>a("update:viewMode","minute")},null),e.useSeconds&&i("span",{class:r(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]),key:"secondsDivider"},[W(":")]),e.useSeconds&&d(im,{key:"secondsVal",active:"second"===e.viewMode,color:"second"===e.viewMode?e.color:void 0,variant:"tonal",onClick:()=>a("update:viewMode","second"),class:r({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":"second"===e.viewMode,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,text:null==e.second?"--":rie(e.second)},null),e.ampm&&i("div",{class:"v-time-picker-controls__ampm"},[d(im,{active:"am"===e.period,color:"am"===e.period?e.color:void 0,class:r({"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":"am"===e.period}),disabled:e.disabled,text:n("$vuetify.timePicker.am"),variant:e.disabled&&"am"===e.period?"elevated":"tonal",onClick:()=>"am"!==e.period?a("update:period","am"):null},null),d(im,{active:"pm"===e.period,color:"pm"===e.period?e.color:void 0,class:r({"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":"pm"===e.period}),disabled:e.disabled,text:n("$vuetify.timePicker.pm"),variant:e.disabled&&"pm"===e.period?"elevated":"tonal",onClick:()=>"pm"!==e.period?a("update:period","pm"):null},null)])])])}),{}}}),mie=la(24),vie=la(12),hie=vie.map(e=>e+12);la(60);const fie=xe({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,viewMode:{type:String,default:"hour"},period:{type:String,default:"am",validator:e=>["am","pm"].includes(e)},modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...Ct(BI({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),gie=Ee()({name:"VTimePicker",props:fie(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:o}=t;const{t:s}=Ht(),r=a(null),u=a(null),c=a(null),p=a(null),m=a(null),v=a(null),h=Fe(e,"period","am"),g=Fe(e,"viewMode","hour"),b=a(null),x=a(null),_=l(()=>{let t;if(t=e.allowedHours instanceof Array?t=>e.allowedHours.includes(t):e.allowedHours,!e.min&&!e.max)return t;const a=e.min?Number(e.min.split(":")[0]):0,l=e.max?Number(e.max.split(":")[0]):23;return e=>e>=Number(a)&&e<=Number(l)&&(!t||t(e))}),k=l(()=>{let t;const a=!_.value||null===r.value||_.value(r.value);if(t=e.allowedMinutes instanceof Array?t=>e.allowedMinutes.includes(t):e.allowedMinutes,!e.min&&!e.max)return a?t:()=>!1;const[l,n]=e.min?e.min.split(":").map(Number):[0,0],[o,s]=e.max?e.max.split(":").map(Number):[23,59],i=60*l+Number(n),u=60*o+Number(s);return e=>{const l=60*r.value+e;return l>=i&&l<=u&&a&&(!t||t(e))}}),S=l(()=>{let t;const a=(!_.value||null===r.value||_.value(r.value))&&(!k.value||null===u.value||k.value(u.value));if(t=e.allowedSeconds instanceof Array?t=>e.allowedSeconds.includes(t):e.allowedSeconds,!e.min&&!e.max)return a?t:()=>!1;const[l,n,o]=e.min?e.min.split(":").map(Number):[0,0,0],[s,i,d]=e.max?e.max.split(":").map(Number):[23,59,59],c=3600*l+60*n+Number(o||0),p=3600*s+60*i+Number(d||0);return e=>{const l=3600*r.value+60*u.value+e;return l>=c&&l<=p&&a&&(!t||t(e))}}),C=l(()=>"ampm"===e.format);function I(){return null==r.value||null==u.value||e.useSeconds&&null==c.value?null:`${rie(r.value)}:${rie(u.value)}`+(e.useSeconds?`:${rie(c.value)}`:"")}function E(){const e=I();null!==e&&n("update:modelValue",e)}function T(e){return e?(e-1)%12+1:12}function N(e,t){return e%12+("pm"===t?12:0)}function M(e){if(null==e||""===e)r.value=null,u.value=null,c.value=null;else if(e instanceof Date)r.value=e.getHours(),u.value=e.getMinutes(),c.value=e.getSeconds();else{const[t,,a,,l,n]=e.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);r.value=n?N(parseInt(t,10),n):parseInt(t,10),u.value=parseInt(a,10),c.value=parseInt(l||0,10)}h.value=null==r.value||r.value<12?"am":"pm"}function A(e){if(h.value=e,null!=r.value){const e=r.value+("am"===h.value?-12:12);r.value=function(e,t){const a=_.value;if(!a)return t;const l=C.value?t<12?vie:hie:mie;return((l.find(e=>a((e+t)%l.length+l[0]))||0)+t)%l.length+l[0]}(0,e)}return n("update:period",e),E(),!0}function O(e){"hour"===g.value?r.value=C.value?N(e,h.value):e:"minute"===g.value?u.value=e:c.value=e}function P(t){switch(g.value||"hour"){case"hour":n("update:hour",t);break;case"minute":n("update:minute",t);break;case"second":n("update:second",t)}const a=null!==r.value&&null!==u.value&&(!e.useSeconds||null!==c.value);"hour"===g.value?g.value="minute":e.useSeconds&&"minute"===g.value&&(g.value="second"),(r.value!==p.value||u.value!==m.value||e.useSeconds&&c.value!==v.value)&&null!==I()&&(p.value=r.value,m.value=u.value,e.useSeconds&&(v.value=c.value),a&&E())}f(()=>e.period,e=>A(e)),f(()=>e.modelValue,e=>M(e)),y(()=>{M(e.modelValue)}),Me(()=>{const t=$I.filterProps(e),a=pie.filterProps(e),l=die.filterProps(Ct(e,["format","modelValue","min","max"]));return d($I,w(t,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var t;return(null==(t=o.title)?void 0:t.call(o))??i("div",{class:"v-time-picker__title"},[s(e.title)])},header:()=>d(pie,w(a,{ampm:C.value,hour:r.value,minute:u.value,period:h.value,second:c.value,viewMode:g.value,"onUpdate:period":e=>A(e),"onUpdate:viewMode":e=>g.value=e,ref:b}),null),default:()=>d(die,w(l,{allowedValues:"hour"===g.value?_.value:"minute"===g.value?k.value:S.value,double:"hour"===g.value&&!C.value,format:"hour"===g.value?C.value?T:e=>e:e=>rie(e,2),max:"hour"===g.value?C.value&&"am"===h.value?11:23:59,min:"hour"===g.value&&C.value&&"pm"===h.value?12:0,size:20,step:"hour"===g.value?1:5,modelValue:"hour"===g.value?r.value:"minute"===g.value?u.value:c.value,onChange:P,onInput:O,ref:x}),null),actions:o.actions})})}}),yie=xe({...Ct(ob({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),bie=Ee()({name:"VTreeviewGroup",props:yie(),setup(e,t){let{slots:n}=t;const o=a(),s=l(()=>{var t;return(null==(t=o.value)?void 0:t.isOpen)?e.collapseIcon:e.expandIcon}),r=l(()=>({VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,toggleIcon:s.value}}));return Me(()=>{const t=sb.filterProps(e);return d(sb,w(t,{ref:o,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?e=>i(u,null,[d(fp,{defaults:r.value},{default:()=>{var t;return[null==(t=n.activator)?void 0:t.call(n,e)]}})]):void 0})}),{}}}),xie=Symbol.for("vuetify:v-treeview"),wie=xe({loading:Boolean,hideActions:Boolean,hasCustomPrepend:Boolean,indentLines:Array,toggleIcon:Ue,...db({slim:!0})},"VTreeviewItem"),_ie=Ee()({name:"VTreeviewItem",props:wie(),emits:{toggleExpand:e=>!0},setup(e,t){let{slots:n,emit:o}=t;const s=v(xie,{visibleIds:a()}).visibleIds,c=a(),p=l(()=>{var e,t;return(null==(e=c.value)?void 0:e.root.activatable.value)&&(null==(t=c.value)?void 0:t.isGroupActivator)}),m=l(()=>{var t,a;return(null==(t=c.value)?void 0:t.link.isClickable.value)||null!=e.value&&!!(null==(a=c.value)?void 0:a.list)}),h=l(()=>!e.disabled&&!1!==e.link&&(e.link||m.value||p.value)),f=l(()=>{var e;return s.value&&!s.value.has(F(null==(e=c.value)?void 0:e.id))});function g(e){var t,a;h.value&&p.value&&(null==(a=c.value)||a.activate(!(null==(t=c.value)?void 0:t.isActivated),e))}function y(e){e.preventDefault(),e.stopPropagation(),o("toggleExpand",e)}return Me(()=>{var t;const a=cb.filterProps(e),l=n.prepend||e.toggleIcon||e.indentLines||e.prependIcon||e.prependAvatar;return d(cb,w({ref:c},a,{active:(null==(t=c.value)?void 0:t.isActivated)||void 0,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":p.value,"v-treeview-item--filtered":f.value},e.class],ripple:!1,onClick:g}),{...n,prepend:l?t=>{var a;return i(u,null,[e.indentLines&&e.indentLines.length>0?i("div",{key:"indent-lines",class:"v-treeview-indent-lines",style:{"--v-indent-parts":e.indentLines.length}},[e.indentLines.map(e=>i("div",{class:r(`v-treeview-indent-line v-treeview-indent-line--${e}`)},null))]):"",!e.hideActions&&d(Nb,{start:!0},{default:()=>[e.toggleIcon?i(u,null,[n.toggle?d(fp,{key:"prepend-defaults",defaults:{VBtn:{density:"compact",icon:e.toggleIcon,variant:"text",loading:e.loading},VProgressCircular:{indeterminate:"disable-shrink",size:20,width:2}}},{default:()=>[n.toggle({...t,loading:e.loading,props:{onClick:y}})]}):d(im,{key:"prepend-toggle",density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:y},{loader:()=>d(Sp,{indeterminate:"disable-shrink",size:"20",width:"2"},null)})]):i("div",{class:"v-treeview-item__level"},null)]}),e.hasCustomPrepend?d(fp,{key:"prepend-defaults",defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{start:!0}}},{default:()=>{var e;return[null==(e=n.prepend)?void 0:e.call(n,t)]}}):i(u,null,[null==(a=n.prepend)?void 0:a.call(n,t),e.prependAvatar&&d(oy,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&d(wp,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])])}:void 0})}),Wm({},c)}}),kie=xe({fluid:Boolean,disabled:Boolean,loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:Ue,default:"$checkboxIndeterminate"},falseIcon:Ue,trueIcon:Ue,returnObject:Boolean,activatable:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object],index:Number,isLastGroup:Boolean,separateRoots:Boolean,parentIndentLines:Array,indentLinesVariant:String,path:{type:Array,default:()=>[]},...Vt(wie(),["hideActions"]),...jc()},"VTreeviewChildren"),Sie=Ee()({name:"VTreeviewChildren",props:kie(),setup(e,t){let{slots:n}=t;const o=g(new Set),s=a([]),r=l(()=>!e.disabled&&(null!=e.openOnClick?e.openOnClick:e.selectable&&!e.activatable));async function c(t){var a,l;try{if(!(null==(a=e.items)?void 0:a.length)||!e.loadChildren)return;0===(null==(l=null==t?void 0:t.children)?void 0:l.length)&&(o.add(t.value),await e.loadChildren(t.raw))}finally{o.delete(t.value)}}function p(t,a){e.selectable&&t(a)}return()=>{var t,a;return(null==(t=n.default)?void 0:t.call(n))??(null==(a=e.items)?void 0:a.map((t,a,l)=>{var m,v;const{children:h,props:f}=t,g=o.has(t.value),y=!!(null==(m=l.at(a+1))?void 0:m.children),b=(null==(v=e.path)?void 0:v.length)??0,x=l.length-1===a,_={index:a,depth:b,isFirst:0===a,isLast:x,path:[...e.path,a],hideAction:e.hideActions},k=Pa({depth:b,isLast:x,isLastGroup:e.isLastGroup,leafLinks:!e.hideActions&&!e.fluid,separateRoots:e.separateRoots,parentIndentLines:e.parentIndentLines,variant:e.indentLinesVariant}),S={toggle:n.toggle?e=>{var a;return null==(a=n.toggle)?void 0:a.call(n,{...e,..._,item:t.raw,internalItem:t,loading:g})}:void 0,prepend:a=>{var l;return i(u,null,[e.selectable&&(!h||h&&!["leaf","single-leaf"].includes(e.selectStrategy))&&d(Nb,{start:!0},{default:()=>[d(GC,{key:t.value,modelValue:a.isSelected,disabled:e.disabled,loading:g,color:e.selectedColor,density:e.density,indeterminate:a.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,"onUpdate:modelValue":e=>p(a.select,e),onClick:e=>e.stopPropagation(),onKeydown:e=>{["Enter","Space"].includes(e.key)&&(e.stopPropagation(),p(a.select,a.isSelected))}},null)]}),null==(l=n.prepend)?void 0:l.call(n,{...a,..._,item:t.raw,internalItem:t})])},append:n.append?e=>{var a;return null==(a=n.append)?void 0:a.call(n,{...e,..._,item:t.raw,internalItem:t})}:void 0,title:n.title?e=>{var a;return null==(a=n.title)?void 0:a.call(n,{...e,item:t.raw,internalItem:t})}:void 0,subtitle:n.subtitle?e=>{var a;return null==(a=n.subtitle)?void 0:a.call(n,{...e,item:t.raw,internalItem:t})}:void 0},C=bie.filterProps(f),I=Sie.filterProps({...e,..._});return h?d(bie,w(C,{value:e.returnObject?t.raw:null==C?void 0:C.value,rawId:null==C?void 0:C.value}),{activator:l=>{let{props:o}=l;const i={...f,...o,value:null==f?void 0:f.value,indentLines:k.node,onToggleExpand:[()=>c(t),o.onClick],onClick:r.value?[()=>c(t),o.onClick]:()=>{var e,t;return p(null==(e=s.value[a])?void 0:e.select,!(null==(t=s.value[a])?void 0:t.isSelected))}};return Fa(n.header,{props:i,item:t.raw,internalItem:t,loading:g},()=>d(_ie,w({ref:e=>s.value[a]=e},i,{hasCustomPrepend:!!n.prepend,hideActions:e.hideActions,value:e.returnObject?t.raw:f.value,loading:g}),S))},default:()=>d(Sie,w(I,{items:h,indentLinesVariant:e.indentLinesVariant,parentIndentLines:k.children,isLastGroup:y,returnObject:e.returnObject}),n)}):Fa(n.item,{props:f,item:t.raw,internalItem:t},()=>"divider"===t.type?Fa(n.divider,{props:t.raw},()=>d(my,t.props,null)):"subheader"===t.type?Fa(n.subheader,{props:t.raw},()=>d(mb,t.props,null)):d(_ie,w(f,{hasCustomPrepend:!!n.prepend,hideActions:e.hideActions,indentLines:k.leaf,value:e.returnObject?F(t.raw):f.value}),S))}))}}});function Cie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const a of e)t.push(a),a.children&&Cie(a.children,t);return t}const Iie=xe({openAll:Boolean,indentLines:[Boolean,String],search:String,...GE({filterKeys:["title"]}),...Ct(kie(),["index","path","indentLinesVariant","parentIndentLines","isLastGroup"]),...Ct(Cb({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["nav","openStrategy"]),modelValue:Array},"VTreeview"),Eie=Ee()({name:"VTreeview",props:Iie(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:o,emit:s}=t;const{items:i}=Sb(e),r=n(()=>e.activeColor),u=n(()=>e.baseColor),c=n(()=>e.color),p=Fe(e,"activated"),v=Fe(e,"selected"),h=l({get:()=>e.modelValue??v.value,set(e){v.value=e,s("update:modelValue",e)}}),f=a(),g=l(()=>e.openAll?S(i.value):e.opened),y=l(()=>Cie(i.value)),b=n(()=>e.search),{filteredItems:x}=KE(e,y,b),_=l(()=>{var t;if(!b.value)return null;const a=null==(t=f.value)?void 0:t.getPath;return a?new Set(x.value.flatMap(t=>{const l=e.returnObject?t.raw:t.props.value;return[...a(l),...k(l)].map(F)})):null});function k(e){var t,a;const l=[],n=((null==(t=f.value)?void 0:t.children.get(e))??[]).slice();for(;n.length;){const e=n.shift();e&&(l.push(e),n.push(...((null==(a=f.value)?void 0:a.children.get(e))??[]).slice()))}return l}function S(t){let a=[];for(const l of t)l.children&&(a.push(e.returnObject?F(l.raw):l.value),l.children&&(a=a.concat(S(l.children))));return a}return m(xie,{visibleIds:_}),Ne({VTreeviewGroup:{activeColor:r,baseColor:u,color:c,collapseIcon:n(()=>e.collapseIcon),expandIcon:n(()=>e.expandIcon)},VTreeviewItem:{activeClass:n(()=>e.activeClass),activeColor:r,baseColor:u,color:c,density:n(()=>e.density),disabled:n(()=>e.disabled),lines:n(()=>e.lines),variant:n(()=>e.variant)}}),Me(()=>{const t=Ib.filterProps(e),a=Sie.filterProps(e),l="boolean"==typeof e.indentLines?"default":e.indentLines;return d(Ib,w({ref:f},t,{class:["v-treeview",{"v-treeview--fluid":e.fluid},e.class],openStrategy:"multiple",style:e.style,opened:g.value,activated:p.value,"onUpdate:activated":e=>p.value=e,selected:h.value,"onUpdate:selected":e=>h.value=e}),{default:()=>[d(Sie,w(a,{density:e.density,returnObject:e.returnObject,items:i.value,parentIndentLines:e.indentLines?[]:void 0,indentLinesVariant:l}),o)]})}),{}}}),Tie=Ee()({name:"VValidation",props:rk(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const l=uk(e,"validation");return()=>{var e;return null==(e=a.default)?void 0:e.call(a,l)}}}),Nie=Object.freeze(Object.defineProperty({__proto__:null,VAlert:Gne,VAlertTitle:Hne,VApp:Une,VAppBar:Kg,VAppBarNavIcon:Jg,VAppBarTitle:Qg,VAutocomplete:QE,VAvatar:oy,VBadge:T_,VBanner:Zne,VBannerActions:Xne,VBannerText:Jne,VBottomNavigation:toe,VBottomSheet:pP,VBreadcrumbs:W3,VBreadcrumbsDivider:U3,VBreadcrumbsItem:H3,VBtn:im,VBtnGroup:sp,VBtnToggle:vp,VCard:cy,VCardActions:ey,VCardItem:iy,VCardSubtitle:ay,VCardText:uy,VCardTitle:ly,VCarousel:loe,VCarouselItem:ooe,VCheckbox:XC,VCheckboxBtn:GC,VChip:R_,VChipGroup:B_,VClassIcon:La,VCode:soe,VCol:ky,VColorPicker:Coe,VCombobox:Eoe,VComponentIcon:Da,VConfirmEdit:Noe,VContainer:hy,VCounter:kk,VDataIterator:Foe,VDataTable:PV,VDataTableFooter:MD,VDataTableHeaders:sV,VDataTableRow:_V,VDataTableRows:SV,VDataTableServer:VV,VDataTableVirtual:LV,VDatePicker:zI,VDatePickerControls:CI,VDatePickerHeader:EI,VDatePickerMonth:MI,VDatePickerMonths:OI,VDatePickerYears:FI,VDefaultsProvider:fp,VDialog:U_,VDialogBottomTransition:kg,VDialogTopTransition:Sg,VDialogTransition:bg,VDivider:my,VEmptyState:Doe,VExpandTransition:Lg,VExpandXTransition:Dg,VExpansionPanel:K_,VExpansionPanelText:j_,VExpansionPanelTitle:Y_,VExpansionPanels:Q_,VFab:Boe,VFabTransition:_g,VFadeTransition:Cg,VField:Tk,VFieldLabel:Ck,VFileInput:qoe,VFooter:vP,VForm:qI,VHover:joe,VIcon:wp,VImg:Ug,VInfiniteScroll:Goe,VInput:ck,VItem:Qoe,VItemGroup:Joe,VKbd:ese,VLabel:mk,VLayout:ase,VLayoutItem:nse,VLazy:sse,VLigatureIcon:Va,VList:Ib,VListGroup:sb,VListImg:Eb,VListItem:cb,VListItemAction:Nb,VListItemMedia:Ab,VListItemSubtitle:rb,VListItemTitle:ub,VListSubheader:mb,VLocaleProvider:rse,VMain:dse,VMenu:Pb,VMessages:tk,VNavigationDrawer:HV,VNoSsr:cse,VNumberInput:mse,VOtpInput:hse,VOverlay:qm,VPagination:kD,VParallax:gse,VProgressCircular:Sp,VProgressLinear:Op,VRadio:CW,VRadioGroup:EW,VRangeSlider:x6,VRating:bse,VResponsive:Bg,VRow:Ry,VScaleTransition:Ig,VScrollXReverseTransition:Tg,VScrollXTransition:Eg,VScrollYReverseTransition:Mg,VScrollYTransition:Ng,VSelect:rI,VSelectionControl:bk,VSelectionControlGroup:gk,VSheet:VI,VSkeletonLoader:eG,VSlideGroup:L_,VSlideGroupItem:xse,VSlideXReverseTransition:Og,VSlideXTransition:Ag,VSlideYReverseTransition:Fg,VSlideYTransition:Pg,VSlider:GJ,VSnackbar:Gm,VSnackbarQueue:_se,VSpacer:zy,VSparkline:Pse,VSpeedDial:Lse,VStepper:Kse,VStepperActions:Bse,VStepperHeader:$se,VStepperItem:Use,VStepperWindow:Hse,VStepperWindowItem:Wse,VSvgIcon:Ba,VSwitch:wk,VSystemBar:Jse,VTab:YV,VTable:IV,VTabs:iB,VTabsWindow:tB,VTabsWindowItem:oB,VTextField:Fk,VTextarea:Zse,VThemeProvider:tie,VTimePicker:gie,VTimePickerClock:die,VTimePickerControls:pie,VTimeline:iie,VTimelineItem:oie,VToolbar:jg,VToolbarItems:Dk,VToolbarTitle:pg,VTooltip:Lb,VTreeview:Eie,VTreeviewGroup:bie,VTreeviewItem:_ie,VValidation:Tie,VVirtualScroll:aI,VWindow:ZV,VWindowItem:lB},Symbol.toStringTag,{value:"Module"}));function Mie(e,t){var a;(null==(a=e._mutate)?void 0:a[t.instance.$.uid])&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Aie={mounted:function(e,t){const a=t.modifiers||{},l=t.value,{once:n,immediate:o,...s}=a,i=!Object.keys(s).length,{handler:r,options:u}="object"==typeof l?l:{handler:l,options:{attributes:(null==s?void 0:s.attr)??i,characterData:(null==s?void 0:s.char)??i,childList:(null==s?void 0:s.child)??i,subtree:(null==s?void 0:s.sub)??i}},d=new MutationObserver(function(){null==r||r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1?arguments[1]:void 0),n&&Mie(e,t)});o&&(null==r||r([],d)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:d},d.observe(e,u)},unmounted:Mie},Oie={mounted:function(e,t){var a,l;const n=t.value,o={passive:!(null==(a=t.modifiers)?void 0:a.active)};window.addEventListener("resize",n,o),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:o},(null==(l=t.modifiers)?void 0:l.quiet)||n()},unmounted:function(e,t){var a;if(!(null==(a=e._onResize)?void 0:a[t.instance.$.uid]))return;const{handler:l,options:n}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",l,n),delete e._onResize[t.instance.$.uid]}};function Pie(e,t){const{self:a=!1}=t.modifiers??{},l=t.value,n="object"==typeof l&&l.options||{passive:!0},o="function"==typeof l||"handleEvent"in l?l:l.handler,s=a?e:t.arg?document.querySelector(t.arg):window;s&&(s.addEventListener("scroll",o,n),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:o,options:n,target:a?void 0:s})}function Fie(e,t){var a;if(!(null==(a=e._onScroll)?void 0:a[t.instance.$.uid]))return;const{handler:l,options:n,target:o=e}=e._onScroll[t.instance.$.uid];o.removeEventListener("scroll",l,n),delete e._onScroll[t.instance.$.uid]}const Lie={mounted:Pie,unmounted:Fie,updated:function(e,t){t.value!==t.oldValue&&(Fie(e,t),Pie(e,t))}},Die=function(e,t){const a=function(e,t){return function(a,l,n){var o,s,i;const r="function"==typeof t?t(l):t,u=(null==(o=l.value)?void 0:o.text)??l.value??(null==r?void 0:r.text),d=Ze(l.value)?l.value:{},c=()=>u??a.textContent,p=(n.ctx===l.instance.$?null==(s=function(e,t){const a=new Set,l=t=>{var n,o;for(const s of t){if(!s)continue;if(s===e||s.el&&e.el&&s.el===e.el)return!0;let t;if(a.add(s),s.suspense?t=l([s.ssContent]):Array.isArray(s.children)?t=l(s.children):(null==(n=s.component)?void 0:n.vnode)&&(t=l([null==(o=s.component)?void 0:o.subTree])),t)return t;a.delete(s)}return!1};if(!l([t.subTree]))return t;const n=Array.from(a).reverse();for(const o of n)if(o.component)return o.component;return t}(n,l.instance.$))?void 0:s.provides:null==(i=n.ctx)?void 0:i.provides)??l.instance.$.provides,m=D(e,w(r,d),c);m.appContext=Object.assign(Object.create(null),l.instance.$.appContext,{provides:p}),ge(m,a)}}("string"==typeof e?$(e):e,t);return{mounted:a,updated:a,unmounted(e){ge(null,e)}}}(Lb,e=>{var t;return{activator:"parent",location:null==(t=e.arg)?void 0:t.replace("-"," "),text:"boolean"==typeof e.value?void 0:e.value}}),Vie=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:Rm,Intersect:Rg,Mutate:Aie,Resize:Oie,Ripple:om,Scroll:Lie,Tooltip:Die,Touch:KV},Symbol.toStringTag,{value:"Module"})),Bie=$a({components:Nie,directives:Vie,theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#0037B7",secondary:"#0037B7",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",mainbg:"#fff",maintext:"#000",secbg:"#F1F3F8",subtext:"#666666",outline:"#EBEEF0",subline:"#454344",mainred:"#F23645",maingreen:"#43A833",secred:"#ffcdcd90",secgreen:"#ECF8F1",cardbg:"#ffffff",btnclr:"#000",btntext:"#fff",primhover:"#CFD9F2",statcard:"#FAFBFF",loaderbg:"#FAFBFF"}},dark:{colors:{primary:"#2E65F6",secondary:"#2E65F6",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",mainbg:"#000",maintext:"#fff",secbg:"#1E1E1E",subtext:"#999999",outline:"#222222",subline:"#EBEEF0",mainred:"#FF1717",maingreen:"#1BBC00",secred:"#FF17173a",secgreen:"#49c5333a",cardbg:"#121212",btnclr:"#B0BEC5",btntext:"#000",primhover:"#2E65F61a",statcard:"#1E1E1E",loaderbg:"rgba(0, 0, 0, 0.12)"}}}},icons:{defaultSet:"mdi",aliases:za,sets:{mdi:Ra}}});function $ie(){try{const e=[];for(let t=0;t<localStorage.length;t++){const a=localStorage.key(t);a&&a.startsWith("firebase:")&&e.push(a)}e.forEach(e=>{try{localStorage.removeItem(e),console.log(`🧹 Cleaned up Firebase key: ${e}`)}catch(SJ){console.warn(`⚠️ Could not remove Firebase key ${e}:`,SJ)}}),e.length>0&&console.log(`✅ Cleaned up ${e.length} Firebase storage keys`)}catch(Wie){console.warn("⚠️ Error cleaning Firebase storage:",Wie)}}function Rie(){try{const e=["userid","usession","msession","wsstat","c3RhdHVz","profile_data","client_data"],t=[];for(let a=0;a<localStorage.length;a++){const l=localStorage.key(a);l&&(e.includes(l)||l.startsWith("firebase:")||l.includes("_wllayout")||t.push(l))}t.forEach(e=>{try{localStorage.removeItem(e),console.log(`🧹 Cleaned up old key: ${e}`)}catch(SJ){console.warn(`⚠️ Could not remove key ${e}:`,SJ)}})}catch(Wie){console.warn("⚠️ Error cleaning old session data:",Wie)}}function zie(){try{let e=0;for(let t in localStorage)localStorage.hasOwnProperty(t)&&(e+=localStorage[t].length+t.length);return e}catch(Wie){return 0}}function Uie(){try{const e=zie(),t=5242880;console.log(`📊 Current storage size: ${(e/1024).toFixed(2)}KB / ${(t/1024).toFixed(2)}KB`),e>.8*t&&(console.log("🧹 Storage > 80% full, cleaning up..."),$ie(),Rie())}catch(Wie){console.warn("⚠️ Error checking storage:",Wie)}}function qie(){$ie(),setInterval(()=>{Uie()},3e5),Uie()}const Hie=Object.freeze(Object.defineProperty({__proto__:null,checkAndCleanupStorage:Uie,cleanupFirebaseStorage:$ie,cleanupOldSessionData:Rie,getStorageSize:zie,initStorageCleanup:qie},Symbol.toStringTag,{value:"Module"})),jie=ye(qne);jie.use(be()),jie.use(Ote),jie.use(Bie),qie(),window.addEventListener("error",e=>{if(e.error&&("QuotaExceededError"===e.error.name||22===e.error.code))return console.warn("⚠️ QuotaExceededError detected, cleaning up storage..."),Ja(async()=>{const{cleanupFirebaseStorage:e,cleanupOldSessionData:t}=await Promise.resolve().then(()=>Hie);return{cleanupFirebaseStorage:e,cleanupOldSessionData:t}},void 0).then(({cleanupFirebaseStorage:e,cleanupOldSessionData:t})=>{e(),t()}).catch(e=>console.error("Error importing cleanup utility:",e)),e.preventDefault(),!1},!0),window.addEventListener("unhandledrejection",e=>{!e.reason||"QuotaExceededError"!==e.reason.name&&22!==e.reason.code||(console.warn("⚠️ Unhandled QuotaExceededError in promise, cleaning up storage..."),Ja(async()=>{const{cleanupFirebaseStorage:e,cleanupOldSessionData:t}=await Promise.resolve().then(()=>Hie);return{cleanupFirebaseStorage:e,cleanupOldSessionData:t}},void 0).then(({cleanupFirebaseStorage:e,cleanupOldSessionData:t})=>{e(),t()}).catch(e=>console.error("Error importing cleanup utility:",e)),e.preventDefault())}),jie.directive("watchlist-scroll",{mounted(e){const t=t=>{e.scrollTop+=t.deltaY,t.preventDefault()};e.__wl_onWheel=t,e.addEventListener("wheel",t,{passive:!1})},unmounted(e){e.__wl_onWheel&&(e.removeEventListener("wheel",e.__wl_onWheel),delete e.__wl_onWheel)}}),jie.mount("#app")}},function(){return Ka||(0,Ga[e(Ga)[0]])((Ka={exports:{}}).exports,Ka),Ka.exports});export default Xa();
